/*!
 * Browser tracker for Conviva v1.1.1 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */

import{dispatchToTrackers as n,removeTrackers as o,createSharedState as t,addTracker as r}from"@convivainc/browser-tracker-core";import{version as e}from"@convivainc/tracker-core";export{version}from"@convivainc/tracker-core";function c(o,t){n(t,(function(n){n.setReferrerUrl(o)}))}function i(o,t){n(t,(function(n){n.setCustomUrl(o)}))}function a(o,t){n(t,(function(n){n.setDocumentTitle(o)}))}function l(o,t){n(t,(function(n){n.setUserId(o)}))}function v(o,t){n(t,(function(n){n.trackPageView(o)}))}function s(o,t){n(t,(function(n){try{n.trackCustomEvent(o)}catch(n){console.warn("Conviva App Tracker:: Unable to track custom event! "+n)}}))}function u(o,t){n(t,(function(n){try{n.setCustomTags(o)}catch(n){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}}))}function f(o,t){n(t,(function(n){try{n.unsetCustomTags(o)}catch(n){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}}))}function d(t){n(t,(function(n){n.clearTimers()})),o(t)}function w(){var n="";if("undefined"!=typeof window&&(null===window||void 0===window?void 0:window.localStorage)){var o=window.localStorage.getItem("Conviva.sdkConfig"),t=JSON.parse(o||"{}");return n="{}"===t||void 0===t?"":t.clId}return n}function p(n){if(n&&"string"==typeof n)try{var o=n.split(".");if(4!==o.length)return void console.warn('Conviva App Tracker:: Invalid clientId format! It should be in the format of "x.x.x.x"');if(!1===o.every((function(n){return/^\d+$/.test(n)})))return void console.warn("Conviva App Tracker:: Invalid clientId format! Every part of clientId should be numeric");if("undefined"!=typeof window&&(null===window||void 0===window?void 0:window.localStorage)){var t="Conviva",r="sdkConfig",e=window.localStorage,c=e.getItem(t+"."+r),i=JSON.parse(c||"{}");"{}"===i||void 0===i?i={clId:n}:i.clId=n;var a=JSON.stringify(i);e.setItem(t+"."+r,a)}else console.warn("Conviva App Tracker:: window or local storage is not available")}catch(n){console.warn(n)}else console.warn("Conviva App Tracker:: Unable to set clinetId string!")}function k(o,t){n(t,(function(n){try{n.trackButtonClick(o)}catch(n){console.warn("Conviva App Tracker:: Unable to track button click event! "+n)}}))}function C(o,t){n(t,(function(n){try{n.trackLinkClick(o)}catch(n){console.warn("Conviva App Tracker:: Unable to track link click event! "+n)}}))}function m(o,t){n(t,(function(n){try{n.trackErrorEvent(o)}catch(n){console.warn("Conviva App Tracker:: Unable to track error!")}}))}function g(n){void 0===n&&(n={});try{var o="undefined"!=typeof window?t():void 0;return o?r("CAT","CAT","js-".concat(e),o,n):void 0}catch(n){return void console.warn("Conviva App Tracker:: Initialisation failed! "+n)}}export{d as cleanup,g as convivaAppTracker,w as getClientId,p as setClientId,u as setCustomTags,i as setCustomUrl,a as setDocumentTitle,c as setReferrerUrl,l as setUserId,k as trackButtonClick,s as trackCustomEvent,m as trackError,C as trackLinkClick,v as trackPageView,f as unsetCustomTags};
//# sourceMappingURL=conviva-eco-js-sensor.module.js.map
