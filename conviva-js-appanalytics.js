/*!
 * Browser tracker for Snowplow v0.7.8 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */

'use strict';(function(V,qa){"object"===typeof exports&&"undefined"!==typeof module?qa(exports):"function"===typeof define&&define.amd?define(["exports"],qa):(V="undefined"!==typeof globalThis?globalThis:V||self,qa(V.snowplowBrowserTracking={}))})(this,function(V){function qa(a){"@babel/helpers - typeof";return qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":
  typeof c},qa(a)}function sa(a,c,b){if(b||2===arguments.length)for(var f=0,d=c.length,g;f<d;f++)!g&&f in c||(g||(g=Array.prototype.slice.call(c,0,f)),g[f]=c[f]);return a.concat(g||Array.prototype.slice.call(c))}function gg(a){var c=0,b=0;var f="";var d=[];if(!a)return a;a+="";do{var g=wb.indexOf(a.charAt(c++));var k=wb.indexOf(a.charAt(c++));f=wb.indexOf(a.charAt(c++));var m=wb.indexOf(a.charAt(c++));var t=g<<18|k<<12|f<<6|m;g=t>>16&255;k=t>>8&255;t&=255;64===f?d[b++]=String.fromCharCode(g):64===m?
  d[b++]=String.fromCharCode(g,k):d[b++]=String.fromCharCode(g,k,t)}while(c<a.length);f=d.join("");return function(u){return decodeURIComponent(u.split("").map(function(w){return"%"+("00"+w.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(f.replace(/\0+$/,""))}function Ic(){var a={},c=[],b=[],f=[],d,g=function(k,m){null!=m&&""!==m&&(a[k]=m)};return{add:g,addDict:function(k){for(var m in k)Object.prototype.hasOwnProperty.call(k,m)&&g(m,k[m])},addJson:function(k,m,t){t&&Be(t)&&(k={keyIfEncoded:k,keyIfNotEncoded:m,
  json:t},b.push(k),c.push(k))},addContextEntity:function(k){f.push(k)},getPayload:function(){return a},getJson:function(){return c},withJsonProcessor:function(k){d=k},build:function(){null===d||void 0===d?void 0:d(this,b,f);return a}}}function hg(a){return function(c,b,f){for(var d=function(u,w,p){u=JSON.stringify(u);if(a){p=c.add;if(u){var h=0,l=0,z=[];if(u){u=unescape(encodeURIComponent(u));do{var I=u.charCodeAt(h++);var x=u.charCodeAt(h++);var v=u.charCodeAt(h++);var r=I<<16|x<<8|v;I=r>>18&63;x=
  r>>12&63;v=r>>6&63;r&=63;z[l++]=wb.charAt(I)+wb.charAt(x)+wb.charAt(v)+wb.charAt(r)}while(h<u.length);h=z.join("");u=u.length%3;u=(u?h.slice(0,u-3):h)+"===".slice(u||3)}u=u.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}p.call(c,w,u)}else c.add(p,u)},g=function(u,w){if(!u){var p=c.getPayload();if(a?p.cx:p.co){u=JSON;var h=u.parse;if(a){if(p=p.cx){switch(4-p.length%4){case 2:p+="==";break;case 3:p+="="}p=p.replace(/-/g,"+").replace(/_/g,"/");p=gg(p)}}else p=p.co;u=h.call(u,p)}else u=void 0}u?
  u.dt=u.dt.concat(w.dt):u=w;return u},k=void 0,m=0;m<b.length;m++){var t=b[m];"cx"===t.keyIfEncoded?k=g(k,t.json):d(t.json,t.keyIfEncoded,t.keyIfNotEncoded)}b.length=0;f.length&&(b={sc:"sp/ctx/1-0-0",dt:sa([],f,!0)},k=g(k,b),f.length=0);k&&d(k,"cx","co")}}function Be(a){if(!Ce(a))return!1;for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c))return!0;return!1}function Ce(a){return"undefined"!==typeof a&&null!==a&&(a.constructor==={}.constructor||a.constructor===[].constructor)}function ig(){var a=
  [],c=[];return{getGlobalPrimitives:function(){return a},getConditionalProviders:function(){return c},addGlobalContexts:function(b){for(var f=[],d=[],g=0;g<b.length;g++){var k=b[g];De(k)?f.push(k):Xb(k)&&d.push(k)}a=a.concat(d);c=c.concat(f)},clearGlobalContexts:function(){c=[];a=[]},removeGlobalContexts:function(b){for(var f=function(g){De(g)?c=c.filter(function(k){return JSON.stringify(k)!==JSON.stringify(g)}):Xb(g)&&(a=a.filter(function(k){return JSON.stringify(k)!==JSON.stringify(g)}))},d=0;d<
  b.length;d++)f(b[d])},getApplicableContexts:function(b){a:{var f=0;for(var d=b.getJson();f<d.length;f++){var g=d[f];if("ue_px"===g.keyIfEncoded&&"object"===qa(g.json.data)&&(g=g.json.data.schema,"string"==typeof g)){f=g;break a}}f=""}d=b.getPayload().e;g="string"===typeof d?d:"";d=[];var k=qd(a,b,g,f);d.push.apply(d,k);b=jg(c,b,g,f);d.push.apply(d,b);return d}}}function kg(a){return{addPluginContexts:function(c){var b=c?sa([],c,!0):[];a.forEach(function(f){try{f.contexts&&b.push.apply(b,f.contexts())}catch(d){N.error("Error adding plugin contexts",
  d)}});return b}}}function lg(a){if("*"===a[0]||"*"===a[1])return!1;if(0<a.slice(2).length){var c=!1,b=0;for(a=a.slice(2);b<a.length;b++)if("*"===a[b])c=!0;else if(c)return!1;return!0}return 2==a.length?!0:!1}function Ee(a){return(a=a.split("."))&&1<a.length?lg(a):!1}function Fe(a){a=/^iglu:((?:(?:[a-zA-Z0-9-_]+|\*).)+(?:[a-zA-Z0-9-_]+|\*))\/([a-zA-Z0-9-_.]+|\*)\/jsonschema\/([1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)$/.exec(a);if(null!==a&&Ee(a[1]))return a.slice(1,6)}function rd(a){if(a=
  Fe(a)){var c=a[0];return 5===a.length&&Ee(c)}return!1}function mg(a){return Array.isArray(a)&&a.every(function(c){return"string"===typeof c})}function Ge(a){return mg(a)?a.every(function(c){return rd(c)}):"string"===typeof a?rd(a):!1}function ic(a){return Be(a)&&"schema"in a&&"data"in a?"string"===typeof a.sc&&"object"===qa(a.dt):!1}function ng(a){var c=0;if(null!=a&&"object"===qa(a)&&!Array.isArray(a)){if(Object.prototype.hasOwnProperty.call(a,"accept"))if(Ge(a.accept))c+=1;else return!1;if(Object.prototype.hasOwnProperty.call(a,
  "reject"))if(Ge(a.reject))c+=1;else return!1;return 0<c&&2>=c}return!1}function Jc(a){return"function"===typeof a&&1>=a.length}function Xb(a){return Jc(a)||ic(a)}function He(a){return Array.isArray(a)&&2===a.length?Array.isArray(a[1])?Jc(a[0])&&a[1].every(Xb):Jc(a[0])&&Xb(a[1]):!1}function Ie(a){return Array.isArray(a)&&2===a.length?ng(a[0])?Array.isArray(a[1])?a[1].every(Xb):Xb(a[1]):!1:!1}function De(a){return He(a)||Ie(a)}function og(a,c){var b=0,f=0,d=a.accept;Array.isArray(d)?a.accept.some(function(g){return Kc(g,
  c)})&&f++:"string"===typeof d&&Kc(d,c)&&f++;d=a.reject;Array.isArray(d)?a.reject.some(function(g){return Kc(g,c)})&&b++:"string"===typeof d&&Kc(d,c)&&b++;return 0<f&&0===b?!0:!1}function Kc(a,c){if(!rd(a))return!1;a=Fe(a);c=/^iglu:([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_]+)\/jsonschema\/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$/.exec(c);c=null!==c?c.slice(1,6):void 0;if(a&&c){if(!pg(a[0],c[0]))return!1;for(var b=1;5>b;b++)if(!Je(a[b],c[b]))return!1;return!0}return!1}function pg(a,c){c=c.split(".");a=
  a.split(".");if(c&&a){if(c.length!==a.length)return!1;for(var b=0;b<a.length;b++)if(!Je(c[b],a[b]))return!1;return!0}return!1}function Je(a,c){return a&&c&&"*"===a||a===c}function Ke(a){return Array.isArray(a)?a:[a]}function qd(a,c,b,f){var d;a=Ke(a).map(function(g){a:if(ic(g))g=[g];else{if(Jc(g)){b:{var k=void 0;try{var m={event:c.getPayload(),eventType:b,eventSchema:f};k=g(m);if(Array.isArray(k)&&k.every(ic)||ic(k)){var t=k;break b}t=void 0;break b}catch(u){}t=void 0}if(ic(t)){g=[t];break a}else if(Array.isArray(t)){g=
  t;break a}}g=void 0}if(g&&0!==g.length)return g});return(d=[]).concat.apply(d,a.filter(function(g){return null!=g&&g.filter(Boolean)}))}function jg(a,c,b,f){var d;a=Ke(a).map(function(g){a:{if(He(g)){var k=g[0],m=!1;try{var t={event:c.getPayload(),eventType:b,eventSchema:f};m=k(t)}catch(u){m=!1}if(!0===m){g=qd(g[1],c,b,f);break a}}else if(Ie(g)&&og(g[0],f)){g=qd(g[1],c,b,f);break a}g=[]}if(g&&0!==g.length)return g});return(d=[]).concat.apply(d,a.filter(function(g){return null!=g&&g.filter(Boolean)}))}
  function qg(a){return null==a?{type:"dtm",value:(new Date).getTime()}:"number"===typeof a?{type:"dtm",value:a}:"ttm"===a.type?{type:"ttm",value:a.value}:{type:"dtm",value:a.value||(new Date).getTime()}}function rg(a){void 0===a&&(a={});var c=a.base64,b=a.corePlugins,f=null!==b&&void 0!==b?b:[];c=function(g,k,m){function t(l,z){l=w.getApplicableContexts(l);var I=[];z&&z.length&&I.push.apply(I,z);l&&l.length&&I.push.apply(I,l);return I}var u=kg(k),w=ig(),p=g,h={};return{track:function(l,z,I){l.withJsonProcessor(hg(p));
  l.add("eid",xb.v4());l.addDict(h);I=qg(I);l.add(I.type,I.value.toString());z=t(l,u.addPluginContexts(z));z=z&&z.length?{sc:"sp/ctx/1-0-0",dt:z}:void 0;void 0!==z&&l.addJson("cx","co",z);k.forEach(function(v){try{v.beforeTrack&&v.beforeTrack(l)}catch(r){N.error("Plugin beforeTrack",r)}});"function"===typeof m&&m(l);var x=l.build();k.forEach(function(v){try{v.afterTrack&&v.afterTrack(x)}catch(r){N.error("Plugin afterTrack",r)}});return x},addPayloadPair:function(l,z){h[l]=z},configuration:a,getConfig:function(){return a},
  setConfig:function(l){l&&("undefined"!==typeof l.base64&&(p=a.base64=l.base64),"undefined"!==typeof l.linkClickTracking&&(a.linkClickTracking=l.linkClickTracking),"undefined"!==typeof l.lifecycleAutotracking&&(a.lifecycleAutotracking=l.lifecycleAutotracking),"undefined"!==typeof l.cacheRefreshInterval&&(a.cacheRefreshInterval=l.cacheRefreshInterval),"undefined"!==typeof l.buttonClickTracking&&(a.buttonClickTracking=l.buttonClickTracking),"undefined"!==typeof l.exceptionAutotracking&&(a.exceptionAutotracking=
  l.exceptionAutotracking),"undefined"!==typeof l.enablePeriodicHeartbeat&&(a.enablePeriodicHeartbeat=l.enablePeriodicHeartbeat),"undefined"!==typeof l.periodicHeartbeatInterval&&(a.periodicHeartbeatInterval=l.periodicHeartbeatInterval),"undefined"!==typeof l.enc&&(a.enc=l.enc),"undefined"!==typeof l.mend&&(a.mend=l.mend),"undefined"!==typeof l.maxLocalStorageQueueSize&&(a.maxLocalStorageQueueSize=l.maxLocalStorageQueueSize),"undefined"!==typeof l.maxGetBytes&&(a.maxGetBytes=l.maxGetBytes),"undefined"!==
  typeof l.bufferSize&&(a.bufferSize=l.bufferSize),"undefined"!==typeof l.customEventTrackingConfiguration&&(a.customEventTrackingConfiguration=l.customEventTrackingConfiguration),"undefined"!==typeof l.ajaxTrackingConfiguration&&(a.ajaxTrackingConfiguration=l.ajaxTrackingConfiguration),"undefined"!==typeof l.networkRequestTrackingConfiguration&&(a.networkRequestTrackingConfiguration=l.networkRequestTrackingConfiguration),"undefined"!==typeof l.traceparentconfig&&(a.traceparentconfig=l.traceparentconfig),
  "undefined"!==typeof l.metaTagsTrackingConfiguration&&(a.metaTagsTrackingConfiguration=l.metaTagsTrackingConfiguration),"undefined"!==typeof l.performanceContextConfig&&(a.performanceContextConfig=l.performanceContextConfig),"undefined"!==typeof l.configurationVersion&&(a.configurationVersion=l.configurationVersion),"undefined"!==typeof l.catRcLastUpdatedTs&&(a.catRcLastUpdatedTs=l.catRcLastUpdatedTs),"undefined"!==typeof l.endpoint&&(a.endpoint=l.endpoint),"undefined"!==typeof l.controlIngestConfig&&
  (a.controlIngestConfig=l.controlIngestConfig),"undefined"!==typeof l.applicationContext&&(a.applicationContext=l.applicationContext),"undefined"!==typeof l.emitterConfiguration&&(a.emitterConfiguration=l.emitterConfiguration),"undefined"!==typeof l.di&&(a.di=l.di))},getBase64Encoding:function(){return p},setBase64Encoding:function(l){p=l},addPayloadDict:function(l){for(var z in l)Object.prototype.hasOwnProperty.call(l,z)&&(h[z]=l[z])},resetPayloadPairs:function(l){h=Ce(l)?l:{}},setTrackerVersion:function(l){h.tv=
  l},setTrackerNamespace:function(l){h.tna=l},setAppId:function(l){h.aid=l},setPlatform:function(l){h.p=l},setUserId:function(l){h.uid=l},setScreenResolution:function(l,z){h.res=l+"x"+z},setViewport:function(l,z){h.vp=l+"x"+z},setColorDepth:function(l){h.cd=l},setTimezone:function(l){h.tz=l},setLang:function(l){h.lang=l},setIpAddress:function(l){h.ip=l},setUseragent:function(l){h.ua=l},addGlobalContexts:function(l){w.addGlobalContexts(l)},clearGlobalContexts:function(){w.clearGlobalContexts()},removeGlobalContexts:function(l){w.removeGlobalContexts(l)}}}(null!==
  c&&void 0!==c?c:!0,f,a.callback);var d=ka(ka({},c),{addPlugin:function(g){var k,m;g=g.plugin;f.push(g);null===(k=g.logger)||void 0===k?void 0:k.call(g,N);null===(m=g.activateCorePlugin)||void 0===m?void 0:m.call(g,d)}});null===f||void 0===f?void 0:f.forEach(function(g){var k,m;null===(k=g.logger)||void 0===k?void 0:k.call(g,N);null===(m=g.activateCorePlugin)||void 0===m?void 0:m.call(g,d)});return d}function yb(a){var c=a.event;a=c.sc;var b=c.dt;c=Ic();a={sc:"sp/ue/1-0-0",dt:{sc:a,dt:b}};c.add("e",
  "ue");c.addJson("ue_px","ue_pr",a);return c}function sg(a){var c=a.pageUrl,b=a.pageTitle;a=a.referrer;var f=Ic();f.add("e","pv");f.add("url",c);f.add("page",b);f.add("refr",a);return f}function tg(a){return yb({event:{sc:"cv/re/1-0-1",dt:Jb({name:a.name,data:a.data})}})}function ug(a){return yb({event:{sc:"cv/ve/1-0-5",dt:Jb({name:a.name,sid:a.sid,iid:a.iid,clid:a.clid,st:a.st,sst:a.sst,an:a.an,cl:a.cl,lv:a.lv,pn:a.pn,vid:a.vid,fw:a.fw,fwv:a.fwv,mn:a.mn,mv:a.mv,url:a.url,tags:a.tags,cen:a.cen,ced:a.ced,
  oldsc:a.oldsc,newsc:a.newsc,err:a.err,br:a.br,ft:a.ft,avgbr:a.avgbr})}})}function Jb(a,c){void 0===c&&(c={});var b={},f;for(f in a)if(c[f]||null!==a[f]&&"undefined"!==typeof a[f])b[f]=a[f];return b}function Yb(a){for(var c=a.length;0<=--c;)a[c]=0}function sd(a,c,b,f,d){this.static_tree=a;this.extra_bits=c;this.extra_base=b;this.elems=f;this.max_length=d;this.has_stree=a&&a.length}function td(a,c){this.dyn_tree=a;this.max_code=0;this.stat_desc=c}function fb(a,c,b,f,d){this.good_length=a;this.max_lazy=
  c;this.nice_length=b;this.max_chain=f;this.func=d}function vg(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=Lc;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=
  this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new Uint16Array(1146);this.dyn_dtree=new Uint16Array(122);this.bl_tree=new Uint16Array(78);zb(this.dyn_ltree);zb(this.dyn_dtree);zb(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new Uint16Array(16);this.heap=new Uint16Array(573);zb(this.heap);this.heap_max=this.heap_len=0;this.depth=new Uint16Array(573);zb(this.depth);
  this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.sym_end=this.sym_next=this.lit_bufsize=this.sym_buf=0}function jc(a){a=this.options=Mc.assign({level:wg,method:xg,chunkSize:16384,windowBits:15,memLevel:8,strategy:yg},a||{});a.raw&&0<a.windowBits?a.windowBits=-a.windowBits:a.gzip&&0<a.windowBits&&16>a.windowBits&&(a.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new Le;this.strm.avail_out=0;var c=kc.deflateInit2(this.strm,a.level,a.method,
  a.windowBits,a.memLevel,a.strategy);if(c!==Nc)throw Error(Kb[c]);a.header&&kc.deflateSetHeader(this.strm,a.header);if(a.dictionary){a="string"===typeof a.dictionary?lc.string2buf(a.dictionary):"[object ArrayBuffer]"===Me.call(a.dictionary)?new Uint8Array(a.dictionary):a.dictionary;c=kc.deflateSetDictionary(this.strm,a);if(c!==Nc)throw Error(Kb[c]);this._dict_set=!0}}function ud(a,c){c=new jc(c);c.push(a,!0);if(c.err)throw c.msg||Kb[c.err];return c.result}function zg(){this.strm=null;this.mode=0;this.last=
  !1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new Uint16Array(320);this.work=new Uint16Array(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function mc(a){var c=this.options=Mc.assign({chunkSize:65536,
  windowBits:15,to:""},a||{});c.raw&&0<=c.windowBits&&16>c.windowBits&&(c.windowBits=-c.windowBits,0===c.windowBits&&(c.windowBits=-15));!(0<=c.windowBits&&16>c.windowBits)||a&&a.windowBits||(c.windowBits+=32);15<c.windowBits&&48>c.windowBits&&0===(c.windowBits&15)&&(c.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new Le;this.strm.avail_out=0;a=qb.inflateInit2(this.strm,c.windowBits);if(a!==nc)throw Error(Kb[a]);this.header=new Ag;qb.inflateGetHeader(this.strm,this.header);
  if(c.dictionary&&("string"===typeof c.dictionary?c.dictionary=lc.string2buf(c.dictionary):"[object ArrayBuffer]"===Ne.call(c.dictionary)&&(c.dictionary=new Uint8Array(c.dictionary)),c.raw&&(a=qb.inflateSetDictionary(this.strm,c.dictionary),a!==nc)))throw Error(Kb[a]);}function vd(a,c){c=new mc(c);c.push(a);if(c.err)throw c.msg||Kb[c.err];return c.result}function Oe(a){return Number.isInteger&&Number.isInteger(a)||"number"===typeof a&&isFinite(a)&&Math.floor(a)===a}function wd(a){if(!a||"string"!==
  typeof a.valueOf()){a=a.text||"";var c=document.getElementsByTagName("title");c&&null!=c[0]&&(a=c[0].text)}return a}function xd(a){var c=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(a);return c?c[1]:a}function Pe(a){var c=a.length;"."===a.charAt(--c)&&(a=a.slice(0,c));"*."===a.slice(0,2)&&(a=a.slice(1));return a}function yd(a){var c=window,b=oc("referrer",c.location.href)||oc("referer",c.location.href);if(b)return b;if(a)return a;try{if(c.top)return c.top.document.referrer;if(c.parent)return c.parent.document.referrer}catch(f){}return document.referrer}
  function Lb(a,c,b,f){if(a.addEventListener)return a.addEventListener(c,b,f),!0;if(a.attachEvent)return a.attachEvent("on"+c,b);a["on"+c]=b}function oc(a,c){return(a=(new RegExp("^[^#]*[?&]"+a+"=([^&#]*)")).exec(c))?decodeURIComponent(a[1].replace(/\+/g," ")):null}function Oc(a,c,b){void 0===b&&(b=63072E3);try{var f=window.localStorage,d=Date.now()+1E3*b;f.setItem("".concat(a,".expires"),d.toString());f.setItem(a,c);return!0}catch(g){return!1}}function Qe(a){try{var c=window.localStorage;c.removeItem(a);
  c.removeItem(a+".expires");return!0}catch(b){return!1}}function Bg(a,c){for(var b=window.location.hostname,f="_sp_root_domain_test_"+(new Date).getTime(),d="_test_value_"+(new Date).getTime(),g=b.split("."),k=g.length-1;0<=k;){var m=g.slice(k,g.length).join(".");gb(f,d,0,"/",m,a,c);if(gb(f)===d){gb(f,"",-1,"/",m,a,c);b=document.cookie.split("; ");f=[];for(d=0;d<b.length;d++)"_sp_root_domain_test_"===b[d].substring(0,21)&&f.push(b[d]);b=f;for(f=0;f<b.length;f++)gb(b[f],"",-1,"/",m,a,c);return m}--k}return b}
  function gb(a,c,b,f,d,g,k){return 1<arguments.length?document.cookie=a+"="+encodeURIComponent(null!==c&&void 0!==c?c:"")+(b?"; Expires="+(new Date(+new Date+1E3*b)).toUTCString():"")+(f?"; Path="+f:"")+(d?"; Domain="+d:"")+(g?"; SameSite="+g:"")+(k?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+a+"=")[1]||"").split(";")[0])}function Re(a){try{var c=null===window||void 0===window?void 0:window.localStorage;return c?(c.removeItem(a),!0):!1}catch(b){return!1}}function Pc(a,c){return a.length<=
  c?a:a.slice(0,c-3)+"..."}function Cg(a,c){var b=[Aa.request_body,Aa.response_body,Aa.request_headers,Aa.response_headers],f={};if(c&&0<c.length)for(var d=0;d<c.length;d++){var g=c[d],k=g.conditions;var m=void 0;var t=["conditions"],u={};for(m in g)Object.prototype.hasOwnProperty.call(g,m)&&0>t.indexOf(m)&&(u[m]=g[m]);if(null!=g&&"function"===typeof Object.getOwnPropertySymbols){var w=0;for(m=Object.getOwnPropertySymbols(g);w<m.length;w++)0>t.indexOf(m[w])&&Object.prototype.propertyIsEnumerable.call(g,
  m[w])&&(u[m[w]]=g[m[w]])}m=u;try{a:{g=a;try{for(t=0;t<k.length;t++){var p=k[t];u=!1;if(0<Object.keys(p).length){w=0;for(var h=Object.entries(p);w<h.length;w++){var l=h[w],z=l[1],I=g[l[0]];if(0<z.length){for(var x=0,v=0,r=z;v<r.length;v++){var L=r[v],U="contains",ba=L;if("object"===qa(L)&&L.length)U=L[1],ba=L[0];else if("boolean"===typeof L||null===L)U="equal",ba=L;if(Dg(I,U,ba)){u=!0;break}else if(u=!1,x+1===z.length)break;x++}if(!1===u)break}}}if(u){var ha=!0;break a}}}catch(La){console.warn("Conviva App Tracker: Error in Applying nwreqConfig ".concat(La))}ha=
  !1}if(ha){g=0;for(var B=Object.entries(a);g<B.length;g++){var Fa=B[g],ia=Fa[0],ta=Fa[1];if(b.includes(ia))try{if(m[ia]&&0<m[ia].length){t=!1;if(ia===Aa.response_headers||ia===Aa.request_headers)t=!0;var ua=a[ia];k={};try{u=0;for(var wa=m[ia];u<wa.length;u++){var W=wa[u];w=ua;x=k;t&&(W=W.toLowerCase());var Z=W.split(".");for(v=0;v<Z.length;v++){var O=Z[v];"undefined"!==typeof w&&null!==w&&w.hasOwnProperty(O)&&(v===Z.length-1?x[O]=w[O]:(x[O]=x[O]||{},w=w[O],x=x[O]))}}}catch(La){console.warn("Conviva App Tracker: Error in filtering schema object nwreq ".concat(La))}var ca=
  k;0!==Object.keys(ca).length&&(f[ia]=ca)}}catch(La){f[ia]=void 0}else f[ia]=ta}return f}}catch(La){console.warn("Conviva App Tracker: Error in collecting attributes nwreqConfig ".concat(La))}}f=ka({},a);for(a=0;a<b.length;a++)c=b[a],"undefined"!==typeof f&&null!==f&&f.hasOwnProperty(c)&&delete f[c];return f}function Dg(a,c,b){try{if("string"===typeof b&&"string"===typeof a&&"*"===b.trim())return!0;switch(c){case "==":case "equal":return a===b;case "!=":return a!==b;case ">":return a>b;case "<":return a<
  b;case ">=":return a>=b;case "<=":return a<=b;case "contains":return""!==b&&"string"===typeof a&&"string"===typeof b&&-1!==a.toLowerCase().indexOf(b.toLowerCase());default:return!1}}catch(f){return console.warn("Conviva App Tracker: Error in Compare values nwreq ".concat(f)),!1}}function Eg(){try{var a=!!window.localStorage}catch(b){a=!0}if(!a)return!1;try{var c=window.localStorage;c.setItem("modernizr","modernizr");c.removeItem("modernizr");return!0}catch(b){return!1}}function Fg(a,c,b,f,d,g,k,m,
  t,u,w,p,h,l,z,I,x,v,r){function L(G){var S=Object.keys(G).map(function(Y){return[Y,G[Y]]}).reduce(function(Y,X){Y[X[0]]=X[1].toString();return Y},{});return{evt:S,bytes:U(JSON.stringify(S))}}function U(G){for(var S=0,Y=0;Y<G.length;Y++){var X=G.charCodeAt(Y);127>=X?S+=1:2047>=X?S+=2:55296<=X&&57343>=X?(S+=4,Y++):S=65535>X?S+3:S+4}return S}function ba(G,S){S=B(S,!0,!1);G=Fa(ia([G.evt]));try{"none"!==l().toLowerCase()&&(G=Se.gzip(G,{level:6}),S.setRequestHeader("Content-Encoding","gzip"))}catch(Y){}z()!==
  D.SAMPLING_MODES.NONE&&S.send(G)}function ha(G){for(void 0===G&&(G=!1);O.length&&"string"!==typeof O[0]&&"object"!==qa(O[0]);)O.shift();if(1>O.length)W=!1;else{if(!Z||"string"!==typeof Z.valueOf())throw"No collector configured";W=!0;window.clearTimeout(ca);ca=-1;if(Mb){var S=function(Za){for(var rb=0,Qc=0;rb<Za.length&&!(Qc+=Za[rb].bytes,Qc>=v());)rb+=1;return rb},Y=void 0,X=void 0;if("object"===qa(O[0])){Y=Z;var fa=B(Y,!0,G);X=S(O)}else Y=ta(O[0]),fa=B(Y,!1,G),X=1;var va=setTimeout(function(){fa.abort();
  W=!1},u);fa.onreadystatechange=function(){4===fa.readyState&&(clearTimeout(va),200<=fa.status&&300>fa.status?ha():(N.error("Status ".concat(fa.status,", will not retry.")),W=!1))};if("object"!==qa(O[0]))fa.send();else if(S=O.slice(0,X),0<S.length){G=!1;S=S.map(function(Za){return Za.evt});if(Rc){var sb=new Blob([Fa(ia(S))],{type:"application/json"});try{G=navigator.sendBeacon(Y,sb)}catch(Za){G=!1}}if(!0===G)ha();else{Y=Fa(ia(S));try{"none"!==l().toLowerCase()&&(Y=Se.gzip(Y,{level:6}),fa.setRequestHeader("Content-Encoding",
  "gzip"))}catch(Za){}try{z()!==D.SAMPLING_MODES.NONE&&fa.send(Y)}catch(Za){}}}(function(Za){for(var rb=0;rb<Za;rb++)O.shift();b&&Oc(Nb,JSON.stringify(O.slice(-1*t())))})(X)}else if(w||"object"===qa(O[0]))W=!1;else{X=new Image(1,1);var Pa=!0;X.onload=function(){Pa&&(Pa=!1,O.shift(),b&&Oc(Nb,JSON.stringify(O.slice(-1*t()))),ha())};X.onerror=function(){Pa&&(W=Pa=!1)};X.src=ta(O[0]);setTimeout(function(){Pa&&W&&(Pa=!1,ha())},u)}}}function B(G,S,Y){var X=new XMLHttpRequest;S?(X.open("POST",G,!Y),X.setRequestHeader("Content-Type",
  "application/json; charset=UTF-8")):X.open("GET",G,!Y);X.withCredentials=h;w&&X.setRequestHeader("SP-Anonymous","*");for(var fa in p)Object.prototype.hasOwnProperty.call(p,fa)&&X.setRequestHeader(fa,p[fa]);return X}function Fa(G){return JSON.stringify({sc:"sp/pd/1-0-4",dt:G})}function ia(G){for(var S=(new Date).getTime().toString(),Y=0;Y<G.length;Y++)G[Y].stm=S;return G}function ta(G){return m?Z+G.replace("?","?stm="+(new Date).getTime()+"&"):Z+G}function ua(){var G=0;return G=hb?O.reduce(function(S,
  Y){return S+Y.bytes},0):O.reduce(function(S,Y){return S+Y.length},0)}function wa(G){function S(X,fa,va){return(va=va.match("(Macintosh;.*Mac OS X (d+)_(d+)[_d]*.*) AppleWebKit/"))&&va.length?parseInt(va[0])<=X||parseInt(va[0])===X&&parseInt(va[1])<=fa:!1}function Y(X){return X.match("Version/.* Safari/")&&!X.match("Chrom(e|ium)")}return function(X,fa){return(fa=fa.match("(iP.+; CPU .*OS (d+)[_d]*.*) AppleWebKit/"))&&fa.length?parseInt(fa[0])<=X:!1}(13,G)||S(10,15,G)&&Y(G)}var W=!1,Z,O=[],ca=-1;f=
  "string"===typeof f?f.toLowerCase():f;var La=!0===f||"beacon"===f||"true"===f,Rc=!(!(La&&window.navigator&&window.navigator.sendBeacon)||wa(window.navigator.userAgent))&&La,Mb=!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),hb="get"!==f&&Mb&&("post"===f||La),Ab=hb?d:"/i";f="snowplowOutQueue_".concat(a,"_").concat(hb?"post2":"get");var Nb="convivaOutQueue_".concat(a,"_").concat(hb?"post2":"get");Re(f);Re("".concat(f,".expires"));La&&(p={});g=b&&Eg()&&hb&&g||1;if(b)try{var pc=window.localStorage.getItem(Nb);
  O=pc?JSON.parse(pc):[]}catch(G){}Array.isArray(O)||(O=[]);c.outQueues.push(O);Mb&&1<g&&c.bufferFlushers.push(function(G){W||ha(G)});return{enqueueRequest:function(G,S,Y){if(z()!=D.SAMPLING_MODES.NONE){Z=S+Ab;if(hb){G=L(G);S=v();if(G.bytes>=S){W||ha();N.warn("Event ("+G.bytes+"B) too big, max is "+S);ba(G,Z);return}O.push(G)}else{var X="?";var fa={co:!0,cx:!0},va=!0,sb;for(sb in G)G.hasOwnProperty(sb)&&!fa.hasOwnProperty(sb)&&(va?va=!1:X+="&",X+=encodeURIComponent(sb)+"="+encodeURIComponent(G[sb]));
  for(var Pa in fa)G.hasOwnProperty(Pa)&&fa.hasOwnProperty(Pa)&&(X+="&"+Pa+"="+encodeURIComponent(G[Pa]));fa=k();if(0<fa&&(va=ta(X),va=U(va),va>=fa)){N.warn("Event ("+va+"B) too big, max is "+fa);Mb&&(G=L(G),ba(G,S+d));return}O.push(X)}S=!1;b&&(S=Oc(Nb,JSON.stringify(O.slice(-1*t()))));!W&&-1===ca&&S&&(ca=window.setTimeout(ha,r()+Math.floor(Math.random()*I)));(W?0:!S||!x()||hb&&ua()>v()||O.length>g||Y)&&ha()}},executeQueue:function(){W||ha()},setUseLocalStorage:function(G){b=G},setAnonymousTracking:function(G){w=
  G},setCollectorUrl:function(G){Z=G+Ab},setBufferSize:function(G){g=G},setCustomHeaders:function(G){p=G}}}function Te(a,c,b){if("translate.googleusercontent.com"===a)""===b&&(b=c),a=(a=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(c))&&1<(null===a||void 0===a?void 0:a.length)?oc("u",a[1]):null,c=null!==a&&void 0!==a?a:"",a=xd(c);else if("cc.bingj.com"===a||"webcache.googleusercontent.com"===a)c=document.links[0].href,a=xd(c);return[a,c,b]}function Gg(a,c,b,f){var d=Math.round((new Date).getTime()/
  1E3);a?(a=a.split("."),a.unshift("0")):a=["1",c,d,f,d,"",b];a[6]&&"undefined"!==a[6]||(a[6]=xb.v4());a[7]&&"undefined"!==a[7]||(a[7]="");a[8]&&"undefined"!==a[8]||(a[8]="");a[9]&&"undefined"!==a[9]||(a[9]="");a[10]&&"undefined"!==a[10]||(a[10]=-1);var g=function(k,m){k=parseInt(k);return isNaN(k)?m:k};c=function(k){return k?g(k,void 0):void 0};return[a[0],a[1],g(a[2],d),g(a[3],f),g(a[4],d),c(a[5]),a[6],a[7],a[8],c(a[9]),g(a[10],-1)]}function qc(a,c){void 0===c&&(c=1);"0"===a[0]?(a[7]=a[6],a[5]=a[4],
  a[3]++):a[3]=c;c=xb.v4();a[6]=c;a[10]=-1;a[8]="";a[9]=void 0;return c}function zd(a){a[4]=Math.round((new Date).getTime()/1E3)}function Ad(a){function c(){var f,d,g;try{var k=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};if(k.getEntriesByType){var m=k.getEntriesByType("navigation")[0],t=null!==(f=null===k||void 0===k?void 0:k.timeOrigin)&&void 0!==f?f:0;if(!m)return[];var u={st:Math.floor(t+m.startTime),dls:Math.floor(t+m.domainLookupStart),dle:Math.floor(t+
  m.domainLookupEnd),rss:Math.floor(t+m.responseStart),rse:Math.floor(t+m.responseEnd),le:Math.floor(t+m.loadEventEnd),dur:Math.floor(t+m.duration),as:Math.floor(t+m.activationStart)};if(null===la||void 0===la?0:la.startTime)u.lcp={rt:Math.floor(t+la.startTime),url:128<(null===(d=null===la||void 0===la?void 0:la.url)||void 0===d?void 0:d.length)?null===(g=null===la||void 0===la?void 0:la.url)||void 0===g?void 0:g.substring(0,128):la.url,sz:la.size};return[{sc:"cv/pc/1-0-1",dt:u}]}return[]}catch(w){return console.warn("ConvivaAppTracker: issue will getting performance Navigation timing context"),
  []}}function b(){return{contexts:function(){var f,d,g;try{if("undefined"!=typeof(null===la||void 0===la?void 0:la.startTime)&&"number"===typeof(null===la||void 0===la?void 0:la.startTime))return[{sc:"cv/lcp/1-0-0",dt:{lcp:Math.round(la.startTime)-(null!==(f=la.performanceNavigationActivationStart)&&void 0!==f?f:0),url:128<(null===(d=null===la||void 0===la?void 0:la.url)||void 0===d?void 0:d.length)?null===(g=null===la||void 0===la?void 0:la.url)||void 0===g?void 0:g.substring(0,128):la.url}}]}catch(k){}return[]}}}
  return{activateLCPObserver:function(){try{PerformanceObserver&&(new PerformanceObserver(function(f){try{f.getEntries().forEach(function(d){var g;if("largest-contentful-paint"===d.entryType){var k=null===performance||void 0===performance?void 0:performance.getEntriesByType("navigation"),m=void 0;k&&0<(null===k||void 0===k?void 0:k.length)&&(m=null===(g=k[0])||void 0===g?void 0:g.activationStart);la=ka(ka({},d.toJSON()),{performanceNavigationActivationStart:null!==m&&void 0!==m?m:0})}})}catch(d){console.warn("convivaAppTracker error in conviva lcp observer "+
  d)}})).observe({type:"largest-contentful-paint",buffered:!0})}catch(f){console.warn("convivaAppTracker conviva_lcp failed "+f)}},contexts:function(){try{switch(a){case D.PERFORMANCE_CONTEXT.DISABLED:return[];case D.PERFORMANCE_CONTEXT.PERFORMANCE_NAVIGATION_TIMING:return c();default:var f=window,d=f.performance||f.mozPerformance||f.msPerformance||f.webkitPerformance,g=d.timing;var k=d?[{sc:"w3/pt/1-0-0",dt:{navigationStart:g.navigationStart,domainLookupStart:g.domainLookupStart,domainLookupEnd:g.domainLookupEnd,
  responseStart:g.responseStart,responseEnd:g.responseEnd,loadEventEnd:g.loadEventEnd}}]:[];return sa(sa([],k,!0),b().contexts(),!0)}}catch(m){return console.warn("convivaAppTracker problem in perfromance context "+m),[]}}}}function Hg(a,c){var b,f,d,g,k={message:""};try{var m=c.message,t=c.error,u=c.className,w=c.extraData;if(m)k.message=m;else if("string"===typeof t)if(0<t.trim().length)k.message=t;else return N.warn("Conviva Eco Sensor:: Mandatory field message is missing"),null;else"object"===qa(t)&&
  ("string"===typeof t.message&&0<t.message.trim().length&&(k.message=Pc(t.message,D.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_MESSAGE_LENGTH)),"string"===typeof t.name&&0<t.name.trim().length&&(k.exceptionName=Pc(t.name,D.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_EXCEPTION_NAME_LENGTH)),"string"===typeof t.stack&&0<t.stack.trim().length&&(k.stackTrace=Pc(t.stack,D.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_STACK_LENGTH)));if(0===k.message.trim().length)return N.warn("Conviva Eco Sensor:: Mandatory field message is missing"),null;"string"===
  typeof u&&0<u.trim().length&&(k.className=Pc(u,D.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_CLASSNAME_LENGTH));"undefined"!==typeof w&&null!==w&&(k.extraData=w);var p=null===(b=null===a||void 0===a?void 0:a.core)||void 0===b?void 0:b.getConfig();if(null===p||void 0===p?0:p.configurationVersion)k.remoteConfigVersion=p.configurationVersion;if(null===c||void 0===c?0:c.configAppliedTime)k.configAppliedTime=null===c||void 0===c?void 0:c.configAppliedTime;if(null===p||void 0===p?0:p.cacheRefreshInterval)k.cacheRefreshInterval=
  p.cacheRefreshInterval;if(null===c||void 0===c?0:c.configAppliedSrc)k.configAppliedSrc=null===c||void 0===c?void 0:c.configAppliedSrc;if(localStorage){var h=localStorage.getItem(D.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);"undefined"!==typeof h&&null!==h&&(k.samplingRandomNumber=parseFloat(h))}"number"===typeof(null===(d=null===(f=null===p||void 0===p?void 0:p.controlIngestConfig)||void 0===f?void 0:f.sel)||void 0===d?void 0:d.pct)?(k.samplingPercentage=p.controlIngestConfig.sel.pct,k.samplingDecision=
  D.SAMPLING_STATUS.DERIVED,void 0!=qa(null===(g=null===p||void 0===p?void 0:p.controlIngestConfig)||void 0===g?void 0:g.act)&&(k.extraData=ka(ka({},k.extraData),{samplingActionConfig:p.controlIngestConfig.act}))):k.samplingDecision=D.SAMPLING_STATUS.DEFAULT;"function"==typeof(null===a||void 0===a?void 0:a.getSamplingMode)&&"string"==typeof(null===a||void 0===a?void 0:a.getSamplingMode())&&(k.samplingStatus=(null===a||void 0===a?void 0:a.getSamplingMode())==D.SAMPLING_MODES.RCFG?!0:!1)}catch(l){return N.warn("Error occurred while generating diagnostic object",
  l),null}return k}function pa(a,c){var b,f,d;try{if(a){var g=null===(b=null===a||void 0===a?void 0:a.core)||void 0===b?void 0:b.getConfig(),k=Hg(a,c),m;if(!(m=!k)){var t;try{var u=(null===(t=null===a||void 0===a?void 0:a.core)||void 0===t?void 0:t.getConfig()).di.lim,w=Date.now();6E4<=w-Ue&&(Bd=0,Ue=w);Bd++;var p=Bd>u?!1:!0}catch(I){N.warn("Conviva Eco Sensor:: Error occured while checking diagnostic event is allowed",I),p=!1}m=!p}if(!m&&"boolean"==typeof(null===(f=null===g||void 0===g?void 0:g.di)||
  void 0===f?void 0:f.en)&&!0===(null===(d=null===g||void 0===g?void 0:g.di)||void 0===d?void 0:d.en)){var h=a.core,l=h.track;var z=yb({event:{sc:"iglu:com.conviva/di/jsonschema/1-0-4",dt:Jb({msg:k.message,cn:k.className,st:k.stackTrace,en:k.exceptionName,ed:k.extraData,rcv:k.remoteConfigVersion,cat:k.configAppliedTime,cri:k.cacheRefreshInterval,csrc:k.configAppliedSrc,srn:k.samplingRandomNumber,spr:k.samplingPercentage,ss:k.samplingStatus,sd:k.samplingDecision})}});l.call(h,z)}}}catch(I){N.warn("Conviva Eco Sensor:: Error occurred while sending reportDiagnosticError",
  I)}}function Ig(a,c,b,f,d,g){function k(l,z,I,x){var v,r;try{var L=h.core.getConfig();if((null===l||void 0===l?void 0:l.configurationBundle[0].namespace)!==I){var U={message:"Remote Config not Applied due to a missing namespace",className:"updateRemoteConfig",configAppliedSrc:null===h||void 0===h?void 0:h.getConfigAppliedSrc(),configAppliedTime:null===h||void 0===h?void 0:h.getConfigAppliedTime()};pa(h,U);return!1}if((null===L||void 0===L?void 0:L.configurationVersion)==(null===l||void 0===l?void 0:
  l.configurationVersion)){var ba=localStorage.getItem(D.REMOTE_CONFIG_STORAGE_KEY);if(ba=ba?JSON.parse(ba):null)ba.catRcLastUpdatedTs=x;if(null===window||void 0===window?0:window.localStorage)localStorage.removeItem(D.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(D.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(ba));var ha={message:"Remote Config not Applied as same version is fetched",className:"updateRemoteConfig",configAppliedSrc:null===h||void 0===h?void 0:h.getConfigAppliedSrc(),configAppliedTime:null===
  h||void 0===h?void 0:h.getConfigAppliedTime()};pa(h,ha);return!1}I="cws.conviva.com /wsg /ctp remote_config pings.conviva.com .m3u8 .mpd .ism .m4 .mp4 .ts .png .jpg .jpeg .bmp google-analytics.com googlesyndication.com googleapis stats.g.doubleclick chartbeat.com omtrdc.net app-measurement.com firebase nr-data.net newrelic bitmovin.com/impression bitmovin.com/analytics api.segment.io youbora hotjar mixpanel.com clevertap auryc .aac .vtt .googlevideo webp appsflyer facebook dynatrace mparticle npaw .pdf bookkeeper kochava mp3 marketingcloudapis demdex scorecardresearch lura.live perimeterx.net permutive.app segment.com vaicore.site boomtrain ketchcdn qualtrics .svg amplitude datadoghq branch.io hotjar splunkcloud".split(" ");
  var B=JSON.parse(JSON.stringify(z));"number"===typeof l.cri&&1<=l.cri?B.cacheRefreshInterval=parseInt(l.cri):"number"===typeof l.cacheRefreshInterval&&1<=l.cacheRefreshInterval&&(B.cacheRefreshInterval=parseInt(l.cacheRefreshInterval));"undefined"!=typeof l.configurationBundle[0].trackerConfiguration.base64Encoding&&(B.base64=l.configurationBundle[0].trackerConfiguration.base64Encoding);"undefined"!=typeof l.configurationBundle[0].trackerConfiguration.linkClickTracking&&(B.linkClickTracking=l.configurationBundle[0].trackerConfiguration.linkClickTracking);
  "undefined"!=typeof l.configurationBundle[0].trackerConfiguration.lifecycleAutotracking&&(B.lifecycleAutotracking=l.configurationBundle[0].trackerConfiguration.lifecycleAutotracking);"undefined"!=typeof l.configurationBundle[0].trackerConfiguration.buttonClickTracking&&(B.buttonClickTracking=l.configurationBundle[0].trackerConfiguration.buttonClickTracking);"undefined"!=typeof l.configurationBundle[0].trackerConfiguration.exceptionAutotracking&&(B.exceptionAutotracking=l.configurationBundle[0].trackerConfiguration.exceptionAutotracking);
  "undefined"!=typeof l.configurationBundle[0].trackerConfiguration.enablePeriodicHeartbeat&&(B.enablePeriodicHeartbeat=l.configurationBundle[0].trackerConfiguration.enablePeriodicHeartbeat);var Fa=null===(r=null===(v=null===l||void 0===l?void 0:l.configurationBundle[0])||void 0===v?void 0:v.trackerConfiguration)||void 0===r?void 0:r.periodicHeartbeatInterval;"number"===typeof Fa&&1<=Fa&&(B.periodicHeartbeatInterval=parseInt(l.configurationBundle[0].trackerConfiguration.periodicHeartbeatInterval));
  "undefined"!=typeof l.configurationBundle[0].networkConfiguration.enc&&(B.enc=l.configurationBundle[0].networkConfiguration.enc);"undefined"!=typeof l.configurationBundle[0].networkConfiguration.maxLocalStorageQueueSize&&(B.maxLocalStorageQueueSize=l.configurationBundle[0].networkConfiguration.maxLocalStorageQueueSize);"undefined"!=typeof l.configurationBundle[0].networkConfiguration.maxGetBytes&&(B.maxGetBytes=l.configurationBundle[0].networkConfiguration.maxGetBytes);"undefined"!=typeof l.configurationBundle[0].networkConfiguration.bufferSize&&
  (B.bufferSize=l.configurationBundle[0].networkConfiguration.bufferSize);"undefined"!=typeof l.configurationBundle[0].customEventTrackingConfiguration&&(B.customEventTrackingConfiguration=l.configurationBundle[0].customEventTrackingConfiguration);"undefined"!=typeof l.configurationBundle[0].ajaxTrackingConfiguration&&(B.ajaxTrackingConfiguration=l.configurationBundle[0].ajaxTrackingConfiguration);"undefined"!=typeof l.configurationBundle[0].networkRequestTrackingConfiguration&&(B.networkRequestTrackingConfiguration=
  l.configurationBundle[0].networkRequestTrackingConfiguration);"undefined"!=typeof l.configurationBundle[0].traceparentconfig&&(B.traceparentconfig=l.configurationBundle[0].traceparentconfig);"undefined"!=typeof l.configurationBundle[0].networkConfiguration.mend&&(B.mend=l.configurationBundle[0].networkConfiguration.mend);B.ajaxTrackingConfiguration&&(B.ajaxTrackingConfiguration.blocklist||(B.ajaxTrackingConfiguration.blocklist=[]),B.ajaxTrackingConfiguration.blocklist.push(l.configurationBundle[0].networkConfiguration.endpoint),
  B.ajaxTrackingConfiguration.blocklist=B.ajaxTrackingConfiguration.blocklist.concat(I));B.networkRequestTrackingConfiguration&&(B.networkRequestTrackingConfiguration.blocklist||(B.networkRequestTrackingConfiguration.blocklist=[]),B.networkRequestTrackingConfiguration.blocklist.push(l.configurationBundle[0].networkConfiguration.endpoint),B.networkRequestTrackingConfiguration.blocklist=B.networkRequestTrackingConfiguration.blocklist.concat(I));"undefined"!=typeof l.configurationBundle[0].metaTagsTrackingConfiguration&&
  (B.metaTagsTrackingConfiguration=l.configurationBundle[0].metaTagsTrackingConfiguration);"undefined"!=typeof l.configurationBundle[0].trackerConfiguration.perfCx&&(B.performanceContextConfig=l.configurationBundle[0].trackerConfiguration.perfCx);"undefined"!=typeof l.configurationVersion&&(B.configurationVersion=l.configurationVersion);"undefined"!=typeof l.configurationBundle[0].networkConfiguration.endpoint&&(B.endpoint=l.configurationBundle[0].networkConfiguration.endpoint);"undefined"!=typeof l["ctrl-ingst"]&&
  (B.controlIngestConfig=l["ctrl-ingst"]);"undefined"!=typeof l.configurationBundle[0].trackerConfiguration.applicationContext&&(B.applicationContext=l.configurationBundle[0].trackerConfiguration.applicationContext);"undefined"!=typeof l.configurationBundle[0].emitterConfiguration&&"undefined"!=typeof l.configurationBundle[0].emitterConfiguration.batching&&"undefined"!=typeof B.emitterConfiguration&&"undefined"!=typeof B.emitterConfiguration.batching&&("undefined"!=typeof l.configurationBundle[0].emitterConfiguration.batching.enabled&&
  (B.emitterConfiguration.batching.enabled=l.configurationBundle[0].emitterConfiguration.batching.enabled),"undefined"!=typeof l.configurationBundle[0].emitterConfiguration.batching.batchingIntervalInSec&&0<l.configurationBundle[0].emitterConfiguration.batching.batchingIntervalInSec&&(B.emitterConfiguration.batching.batchingIntervalInSec=l.configurationBundle[0].emitterConfiguration.batching.batchingIntervalInSec),"undefined"!=typeof l.configurationBundle[0].emitterConfiguration.batching.byteLimitPostInKB&&
  0<l.configurationBundle[0].emitterConfiguration.batching.byteLimitPostInKB&&(B.emitterConfiguration.batching.byteLimitPostInKB=l.configurationBundle[0].emitterConfiguration.batching.byteLimitPostInKB),"undefined"!=typeof l.configurationBundle[0].emitterConfiguration.batching.urgentEvents&&(B.emitterConfiguration.batching.urgentEvents=l.configurationBundle[0].emitterConfiguration.batching.urgentEvents));"undefined"!=typeof l.configurationBundle[0].di&&(B.di=ka(ka({},B.di),l.configurationBundle[0].di));
  B.catRcLastUpdatedTs=x;h.setConfigAppliedSrc(D.CONFIG_SOURCE.REMOTE);h.setConfigAppliedTime((new Date).getTime());h.core.setConfig(B);var ia={message:"Remote Config Applied",className:"updateRemoteConfig - tracker",configAppliedSrc:null===h||void 0===h?void 0:h.getConfigAppliedSrc(),configAppliedTime:null===h||void 0===h?void 0:h.getConfigAppliedTime()};pa(h,ia);null===h||void 0===h?void 0:h.setCollectorUrl(l.configurationBundle[0].networkConfiguration.endpoint,g.convivaCustomerKey)}catch(ta){return ia=
  {className:"updateRemoteConfig - tracker",error:ta,configAppliedSrc:null===h||void 0===h?void 0:h.getConfigAppliedSrc(),configAppliedTime:null===h||void 0===h?void 0:h.getConfigAppliedTime()},pa(h,ia),console.warn("Conviva: Error while updating remote-config to tracker",ta),!1}try{if(null===window||void 0===window?0:window.localStorage)localStorage.removeItem(D.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(D.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(B))}catch(ta){ia={className:"updateRemoteConfig - localstorage",
  error:ta,configAppliedSrc:null===h||void 0===h?void 0:h.getConfigAppliedSrc(),configAppliedTime:null===h||void 0===h?void 0:h.getConfigAppliedTime()},pa(h,ia),console.warn("Conviva: Error while saving remote-config to localstorage",ta)}return!0}function m(l){try{if("undefined"===typeof l.sel)return t(),D.SAMPLING_MODES.RCFG;var z=l.sel.pct;if("number"==typeof z&&100>z&&0<z&&0==z%1){if("undefined"!==typeof window&&"undefined"!==typeof window.localStorage){var I=localStorage.getItem(D.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);
  if("undefined"!==typeof I&&null!==I)return parseFloat(I)<=z?u(l,D.SAMPLING_ACTION.SAMPLED):u(l,D.SAMPLING_ACTION.NON_SAMPLED);var x=100*Math.random();localStorage.setItem(D.SAMPLING_STORAGE_RANDOM_NUMBER_KEY,x.toString());return x<z?u(l,D.SAMPLING_ACTION.SAMPLED):u(l,D.SAMPLING_ACTION.NON_SAMPLED)}return D.SAMPLING_MODES.NONE}t();if(100==z)return u(l,D.SAMPLING_ACTION.SAMPLED);if(0==z)return u(l,D.SAMPLING_ACTION.NON_SAMPLED)}catch(v){}return D.SAMPLING_MODES.RCFG}function t(){"undefined"!==typeof window&&
  "undefined"!==typeof window.localStorage&&localStorage.removeItem(D.SAMPLING_STORAGE_RANDOM_NUMBER_KEY)}function u(l,z){return"undefined"!==typeof l.act&&"undefined"!==typeof l.act[z]&&(l=l.act[z],"undefined"!==typeof l)?l:D.DEFAULT_SAMPLING_ACTION[z]}function w(l,z){return sa(sa([],l,!0),z,!0).reduce(function(I,x){var v=I.find(function(r){return r.key===x.key});v?x.condition&&(v.condition=sa(sa([],v.condition||[],!0),x.condition,!0)):I.push(ka({},x));return I},[])}void 0===g&&(g={});var p=[];a=function(l,
  z,I,x,v,r){function L(){Ob=Te(window.location.hostname,window.location.href,yd());Ob[1]!==Bb&&(rc=yd(Bb));Ve=Pe(Ob[0]);Bb=Ob[1]}function U(e){try{var n=(new Date).getTime(),q=e.currentTarget;if(null===q||void 0===q?0:q.href){e="_sp="+(Sc+"."+n);var y=q.href.split("#"),A=y[0].split("?"),C=A.shift(),F=A.join("?");if(F){A=!0;var E=F.split("&");for(n=0;n<E.length;n++)if("_sp="===E[n].substr(0,4)){A=!1;E[n]=e;F=E.join("&");break}A&&(F=e+"&"+F)}else F=e;y[0]=C+"?"+F;var J=y.join("#");q.href=J}}catch(T){N.warn("Conviva App Tracker:: Error in linkDecorationHandler of decorateLinks ".concat(T))}}
  function ba(e){if("undefined"!=typeof document&&document.links&&0<document.links.length)for(var n=0;n<document.links.length;n++){var q=document.links[n];!q.spDecorationEnabled&&e(q)&&(Lb(q,"click",U,!0),Lb(q,"mousedown",U,!0),q.spDecorationEnabled=!0)}}function ha(e){if(We){var n=/#.*/;e=e.replace(n,"")}Xe&&(n=/[{}]/g,e=e.replace(n,""));return e}function B(e){return(e=/^([a-z]+):/.exec(e))?e[1]:null}function Fa(e){var n,q,y,A=null!==(y=null===(q=null===(n=Ga.getConfig().emitterConfiguration)||void 0===
  n?void 0:n.batching)||void 0===q?void 0:q.urgentEvents)&&void 0!==y?y:[],C=n="",F="",E="";q=e.getPayload();"string"===typeof q.e&&(E=q.e);if("ue"!==E&&"pv"!==E)return!1;e=e.getJson().find(function(J){return"ue_pr"===J.keyIfNotEncoded||"ue_px"===J.keyIfEncoded});"undefined"!==typeof e&&(e=e.json,"object"===qa(e.dt)&&null!==e.dt&&(e=e.dt,"string"===typeof e.sc&&(n=e.sc),"object"===qa(e.dt)&&"string"===typeof e.dt.name&&(C=e.dt.name)),F=n.split("/")[1]||"");return A.some(function(J){J=J.toLowerCase();
  return""===J?!1:J===E.toLowerCase()||J===F.toLowerCase()||J===C.toLowerCase()})}function ia(e){e=Zb+e+"."+Pb;if("localStorage"==xa){try{var n=window.localStorage,q=n.getItem(e+".expires");if(null===q||+q>Date.now())var y=n.getItem(e);else n.removeItem(e),n.removeItem(e+".expires"),y=void 0}catch(A){y=void 0}return y}if("cookie"==xa||"cookieAndLocalStorage"==xa)return gb(e)}function ta(){L();Pb=Jg((sc||Ve)+(Cd||"/")).slice(0,4)}function ua(){Dd=(new Date).getTime()}function wa(){var e=W(),n=e[0];n<
  Tc?Tc=n:n>Uc&&(Uc=n);e=e[1];e<Vc?Vc=e:e>Wc&&(Wc=e);ua()}function W(){var e="undefined"!=typeof document?null===document||void 0===document?void 0:document.documentElement:void 0;return e?[e.scrollLeft||window.pageXOffset,e.scrollTop||window.pageYOffset]:[0,0]}function Z(){var e=W(),n=e[0];Uc=Tc=n;Wc=Vc=e=e[1]}function O(){La(Zb+"ses."+Pb,"*",Ye)}function ca(e){var n=Zb+"id."+Pb;e.shift();e=e.join(".");La(n,e,Ze)}function La(e,n,q){if(!tc||Xc)"localStorage"==xa?Oc(e,n,q):("cookie"==xa||"cookieAndLocalStorage"==
  xa)&&gb(e,n,q,Cd,sc,Yc,Zc)}function Rc(e){var n=Zb+"id."+Pb,q=Zb+"ses."+Pb;Qe(n);Qe(q);gb(n,"",-1,"/",sc,Yc,Zc);gb(q,"",-1,"/",sc,Yc,Zc);null!==e&&void 0!==e&&e.preserveSession||(Qb=xb.v4(),ib=1);null!==e&&void 0!==e&&e.preserveUser||(Sc=xb.v4(),Rb=null)}function Mb(e){e&&e.stateStorageStrategy&&(r.stateStorageStrategy=e.stateStorageStrategy,xa=$e(r));tc=!!r.anonymousTracking;Xc=af(r);Ed=bf(r);jb.setUseLocalStorage("localStorage"==xa||"cookieAndLocalStorage"==xa);jb.setAnonymousTracking(Ed)}function hb(){try{var e=
  window.localStorage.getItem(Fd+"."+Gd),n=JSON.parse(e||"{}");"{}"===n||"undefined"===typeof n?(uc=Y(),$c=X(),Cb=-1):(uc=n.clId||Y(),Cb=n[vc]&&2147483648>n[vc]?n[vc]:-1,$c=X());S()}catch(y){N.warn("generateClidAndIid",y)}if(!tc||Xc){e="none"!=xa&&!!ia("ses");n=Ab();if(n[1])var q=n[1];else q=tc?"":xb.v4(),n[1]=q;Sc=q;Qb=e?n[6]:qc(n);ib=n[3];"none"!=xa&&(O(),zd(n),ca(n))}}function Ab(){if("none"==xa)return["1","",0,0,0,void 0,"","","",void 0,0];var e=ia("id")||void 0;return Gg(e,Sc,Qb,ib)}function Nb(e,
  n){var q,y,A,C,F=!0,E=Ga.getConfig();"undefined"!==typeof E.mend?F=E.mend:"undefined"!==typeof(null===(y=null===(q=null===r||void 0===r?void 0:r.configs)||void 0===q?void 0:q.network)||void 0===y?void 0:y.mergeEndpoint)&&(F=null===(C=null===(A=null===r||void 0===r?void 0:r.configs)||void 0===A?void 0:A.network)||void 0===C?void 0:C.mergeEndpoint);return 0===e.indexOf("http")?(n&&F&&(e=e.replace(/^(https?:\/\/)(.*)$/,"$1"+n+".$2")),e):n&&F?("https:"===document.location.protocol?"https":"http")+"://"+
  n+"."+e:("https:"===document.location.protocol?"https":"http")+"://"+e}function pc(){cf&&null!=v.pageViewId||(v.pageViewId=xb.v4())}function G(){null==v.pageViewId&&(v.pageViewId=xb.v4());return v.pageViewId}function S(){try{var e=window.localStorage,n={clId:uc,iid:$c,eventIndex:Cb},q=null;try{q=JSON.stringify(n)}catch(y){return}return e.setItem(Fd+"."+Gd,q)}catch(y){}}function Y(){try{return va({"First Launch":"Yes"}),Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+
  "."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()}catch(e){N.warn("generateClid",e)}}function X(){try{return Math.floor(2147483647*Math.random())}catch(e){return N.warn("generateIid",e),-1}}function fa(e){try{var n=JSON.parse(e);return"object"===qa(n)}catch(q){return!1}}function va(e){try{var n=Object.keys(e);fa(JSON.stringify(e))?n.forEach(function(q){""!==q&&Object.defineProperty(Hd,q,{value:""+e[q],writable:!0,enumerable:!0,configurable:!0})}):
  N.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=")}catch(q){N.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",q)}}function sb(e){try{e.forEach(function(n){delete Hd[n]})}catch(n){N.warn("Conviva AppTracker:: Failed to unset Custom tag(s). Check format of keys set.")}}function Pa(e){try{var n=Object.keys(e);fa(JSON.stringify(e))?n.forEach(function(q){""!==q&&Object.defineProperty(Id,q,{value:""+e[q],writable:!0,enumerable:!0,configurable:!0})}):N.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=")}catch(q){N.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",
  q)}}function Za(e){var n=e.title,q=e.context,y=e.timestamp;e=e.contextCallback;L();Jd&&pc();Jd=!0;Db=document.title;$b=n;n=wd($b||Db);kb()!==D.SAMPLING_MODES.NONE&&Ga.track(sg({pageUrl:ha(ac||Bb),pageTitle:n,referrer:ha(ad||rc)}),(q||[]).concat(e?e():[]),y);y=new Date;n=!1;if(Wa.enabled&&!Wa.installed){n=Wa.installed=!0;var A={update:function(){if("undefined"!==typeof window&&"function"===typeof window.addEventListener){var F=!1,E=Object.defineProperty({},"passive",{get:function(){F=!0},set:function(){}}),
  J=function(){};window.addEventListener("testPassiveEventSupport",J,E);window.removeEventListener("testPassiveEventSupport",J,E);A.hasSupport=F}}};A.update();var C="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(A,"hasSupport")?Lb(document,C,ua,{passive:!0}):Lb(document,C,ua);Z();C=function(F,E){void 0===E&&(E=ua);return function(J){return Lb(document,J,E)}};"click mouseup mousedown mousemove keypress keydown keyup".split(" ").forEach(C(document));
  ["resize","focus","blur"].forEach(C(window));C(window,wa)("scroll")}if(Wa.enabled&&(Kg||n))for(y in Dd=y.getTime(),y=void 0,Wa.configurations)if(n=Wa.configurations[y])window.clearInterval(n.activityInterval),Qc(n,q,e)}function rb(){var e,n,q,y,A,C,F,E,J,T,P,ea,ma,Ia,Qa,Ra,Q,oa,Ja,Ma,$a,ab,bb,tb,cb,lb,mb,Na,Sa,Ta,na;try{var aa=h.core.getConfig(),H=void 0;Id={};var ya=bc.MERGE;"undefined"!==typeof(null===(n=null===(e=null===r||void 0===r?void 0:r.configs)||void 0===e?void 0:e.metaTagsTracking)||void 0===
  n?void 0:n.preference)?ya=null===(y=null===(q=null===r||void 0===r?void 0:r.configs)||void 0===q?void 0:q.metaTagsTracking)||void 0===y?void 0:y.preference:!0===(null===(C=null===(A=null===r||void 0===r?void 0:r.configs)||void 0===A?void 0:A.metaTagsTracking)||void 0===C?void 0:C.force)?ya=bc.APP:"undefined"!==typeof(null===(F=null===aa||void 0===aa?void 0:aa.metaTagsTrackingConfiguration)||void 0===F?void 0:F.pref)&&(ya=null===(E=null===aa||void 0===aa?void 0:aa.metaTagsTrackingConfiguration)||void 0===
  E?void 0:E.pref);switch(ya){case bc.APP:if(!1===(null===(T=null===(J=null===r||void 0===r?void 0:r.configs)||void 0===J?void 0:J.metaTagsTracking)||void 0===T?void 0:T.enabled))return;0<(null===(ma=null===(ea=null===(P=null===r||void 0===r?void 0:r.configs)||void 0===P?void 0:P.metaTagsTracking)||void 0===ea?void 0:ea.tags)||void 0===ma?void 0:ma.length)&&(H=sa([],null===(Qa=null===(Ia=null===r||void 0===r?void 0:r.configs)||void 0===Ia?void 0:Ia.metaTagsTracking)||void 0===Qa?void 0:Qa.tags,!0));
  break;case bc.REMOTE:if(!1===(null===(Ra=null===aa||void 0===aa?void 0:aa.metaTagsTrackingConfiguration)||void 0===Ra?void 0:Ra.enabled))return;"undefined"!=typeof(null===aa||void 0===aa?void 0:aa.metaTagsTrackingConfiguration)&&0<(null===(oa=null===(Q=null===aa||void 0===aa?void 0:aa.metaTagsTrackingConfiguration)||void 0===Q?void 0:Q.tags)||void 0===oa?void 0:oa.length)&&(H=sa([],null===(Ja=null===aa||void 0===aa?void 0:aa.metaTagsTrackingConfiguration)||void 0===Ja?void 0:Ja.tags,!0));break;default:if("undefined"==
  typeof(null===aa||void 0===aa?void 0:aa.metaTagsTrackingConfiguration)&&!1===(null===($a=null===(Ma=null===r||void 0===r?void 0:r.configs)||void 0===Ma?void 0:Ma.metaTagsTracking)||void 0===$a?void 0:$a.enabled)||"undefined"==typeof(null===(ab=null===r||void 0===r?void 0:r.configs)||void 0===ab?void 0:ab.metaTagsTracking)&&!1===(null===(bb=null===aa||void 0===aa?void 0:aa.metaTagsTrackingConfiguration)||void 0===bb?void 0:bb.enabled))return;var Ba=null===(cb=null===(tb=null===r||void 0===r?void 0:
  r.configs)||void 0===tb?void 0:tb.metaTagsTracking)||void 0===cb?void 0:cb.tags,wc=null===(lb=null===aa||void 0===aa?void 0:aa.metaTagsTrackingConfiguration)||void 0===lb?void 0:lb.tags;!1===(null===(Na=null===(mb=null===r||void 0===r?void 0:r.configs)||void 0===mb?void 0:mb.metaTagsTracking)||void 0===Na?void 0:Na.enabled)&&(Ba=[]);!1===(null===(Sa=null===aa||void 0===aa?void 0:aa.metaTagsTrackingConfiguration)||void 0===Sa?void 0:Sa.enabled)&&(wc=[]);H=sa([],w(Ba||[],wc||[]),!0)}if("undefined"!=
  typeof H&&0<(null===H||void 0===H?void 0:H.length)){e={};var nb=null===document||void 0===document?void 0:document.head,Eb=null===nb||void 0===nb?void 0:nb.getElementsByTagName("meta");if("undefined"!=typeof Eb&&0<(null===Eb||void 0===Eb?void 0:Eb.length))for(nb=0;nb<Eb.length;nb++){var cc=Eb[nb];for(n=0;n<H.length;n++){var db=cc.getAttribute(H[n].key),bd=cc.getAttribute(H[n].value);q=void 0;if(null===(Ta=H[n])||void 0===Ta?0:Ta.condition)q=null===(na=H[n])||void 0===na?void 0:na.condition;db&&(q&&
  q.includes(db)?e[db]=bd:q&&0!==q.length||(e[db]=bd))}}h.setMetaCustomTags(e)}}catch(Kd){N.warn("Conviva App Tracker:: setPageMetaTagsAsCustomTags",Kd)}}function Qc(e,n,q){var y=function(C,F){var E;L();var J=null===(E=null===h||void 0===h?void 0:h.core)||void 0===E?void 0:E.getConfig();J.enablePeriodicHeartbeat?(void 0!=J.periodicHeartbeatInterval&&(E=1E3*J.periodicHeartbeatInterval,E!=e.configHeartBeatTimer&&(e.configHeartBeatTimer=E,window.clearInterval(e.activityInterval),e.activityInterval=window.setInterval(A,
  E))),C({context:F,pageViewId:G(),minXOffset:Tc,minYOffset:Vc,maxXOffset:Uc,maxYOffset:Wc})):window.clearInterval(e.activityInterval);Z()};window.setTimeout(function(){y(e.callback,(n||[]).concat(q?q():[]))},2E3);var A=function(){var C=new Date;(!1===(null===document||void 0===document?void 0:document.hidden)||"visible"==(null===document||void 0===document?void 0:document.visibilityState)||(null===document||void 0===document?0:document.pictureInPictureElement)||Dd+e.configHeartBeatTimer>C.getTime()||
  !0===df)&&y(e.callback,(n||[]).concat(q?q():[]))};e.activityInterval=window.setInterval(A,e.configHeartBeatTimer)}function ef(e){var n=e.minimumVisitLength,q=e.heartbeatDelay;e=e.callback;if(Oe(n)&&Oe(q))return{configMinimumVisitLength:1E3*n,configHeartBeatTimer:1E3*q,callback:e};N.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function ff(e){var n=e.context,q=e.minXOffset,y=e.minYOffset,A=e.maxXOffset,C=e.maxYOffset;e=document.title;e!==Db&&(Db=e,$b=void 0);if(kb()!==
  D.SAMPLING_MODES.NONE){e=Ga;var F=e.track,E=ha(ac||Bb),J=wd($b||Db),T=ha(ad||rc);q=Math.round(q);A=Math.round(A);y=Math.round(y);C=Math.round(C);var P=Ic();P.add("e","pp");P.add("url",E);P.add("page",J);P.add("refr",T);q&&!isNaN(Number(q))&&P.add("pp_mix",q.toString());A&&!isNaN(Number(A))&&P.add("pp_max",A.toString());y&&!isNaN(Number(y))&&P.add("pp_miy",y.toString());C&&!isNaN(Number(C))&&P.add("pp_may",C.toString());F.call(e,P,n)}}function cd(e){var n,q,y,A,C,F,E,J,T,P,ea,ma,Ia,Qa,Ra,Q,oa,Ja,Ma,
  $a,ab,bb,tb,cb,lb,mb,Na,Sa,Ta,na,aa;try{if(h&&e){var H=h.core.getConfig(),ya=D.CONFIG_PREFERENCES.MERGE,Ba=[];"undefined"!==typeof(null===(q=null===(n=null===r||void 0===r?void 0:r.configs)||void 0===n?void 0:n.traceparentGeneration)||void 0===q?void 0:q.force)&&!0===(null===(A=null===(y=null===r||void 0===r?void 0:r.configs)||void 0===y?void 0:y.traceparentGeneration)||void 0===A?void 0:A.force)?ya=D.CONFIG_PREFERENCES.APP:"undefined"!==typeof(null===(C=null===H||void 0===H?void 0:H.traceparentconfig)||
  void 0===C?void 0:C.pref)&&(ya=null===(F=null===H||void 0===H?void 0:H.traceparentconfig)||void 0===F?void 0:F.pref);switch(ya){case D.CONFIG_PREFERENCES.APP:if(!1===(null===(J=null===(E=null===r||void 0===r?void 0:r.configs)||void 0===E?void 0:E.traceparentGeneration)||void 0===J?void 0:J.enabled))return"";if(null===(ea=null===(P=null===(T=null===r||void 0===r?void 0:r.configs)||void 0===T?void 0:T.traceparentGeneration)||void 0===P?void 0:P.targetUrl)||void 0===ea?0:ea.length)Ba=sa([],null===(Ia=
  null===(ma=null===r||void 0===r?void 0:r.configs)||void 0===ma?void 0:ma.traceparentGeneration)||void 0===Ia?void 0:Ia.targetUrl,!0);break;case D.CONFIG_PREFERENCES.REMOTE:if(!1===(null===(Qa=null===H||void 0===H?void 0:H.traceparentconfig)||void 0===Qa?void 0:Qa.enabled))return"";"undefined"!=typeof(null===H||void 0===H?void 0:H.traceparentconfig)&&(null===(Q=null===(Ra=null===H||void 0===H?void 0:H.traceparentconfig)||void 0===Ra?void 0:Ra.targetUrl)||void 0===Q?0:Q.length)&&(Ba=sa([],null===(oa=
  null===H||void 0===H?void 0:H.traceparentconfig)||void 0===oa?void 0:oa.targetUrl,!0));break;default:if("undefined"==typeof(null===H||void 0===H?void 0:H.traceparentconfig)&&!1===(null===(Ma=null===(Ja=null===r||void 0===r?void 0:r.configs)||void 0===Ja?void 0:Ja.traceparentGeneration)||void 0===Ma?void 0:Ma.enabled)||"undefined"==typeof(null===($a=null===r||void 0===r?void 0:r.configs)||void 0===$a?void 0:$a.traceparentGeneration)&&!1===(null===(ab=null===H||void 0===H?void 0:H.traceparentconfig)||
  void 0===ab?void 0:ab.enabled))return"";var wc=null===(tb=null===(bb=null===r||void 0===r?void 0:r.configs)||void 0===bb?void 0:bb.traceparentGeneration)||void 0===tb?void 0:tb.targetUrl,nb=null===(cb=null===H||void 0===H?void 0:H.traceparentconfig)||void 0===cb?void 0:cb.targetUrl;!1===(null===(mb=null===(lb=null===r||void 0===r?void 0:r.configs)||void 0===lb?void 0:lb.traceparentGeneration)||void 0===mb?void 0:mb.enabled)&&(wc=[]);!1===(null===(Na=null===H||void 0===H?void 0:H.traceparentconfig)||
  void 0===Na?void 0:Na.enabled)&&(nb=[]);var Eb=new Set(sa(sa([],nb||[],!0),wc||[],!0));Ba=Array.from(Eb)}var cc=null===(Ta=null===(Sa=null===r||void 0===r?void 0:r.configs)||void 0===Sa?void 0:Sa.networkRequestTracking)||void 0===Ta?void 0:Ta.safelist,db=null===(na=null===H||void 0===H?void 0:H.networkRequestTrackingConfiguration)||void 0===na?void 0:na.blocklist,bd=(null===db||void 0===db?void 0:db.includes("*"))||(null===db||void 0===db?void 0:db.some(function(Ka){return 0<(null===Ka||void 0===
  Ka?void 0:Ka.length)&&e.toLowerCase().includes(Ka.toLowerCase())})),Kd=null===cc||void 0===cc?void 0:cc.some(function(Ka){return 0<(null===Ka||void 0===Ka?void 0:Ka.length)&&e.toLowerCase().includes(Ka.toLowerCase())});if(0<(null===Ba||void 0===Ba?void 0:Ba.length)&&((null===Ba||void 0===Ba?0:Ba.includes("*"))||(null===Ba||void 0===Ba?0:Ba.some(function(Ka){return 0<(null===Ka||void 0===Ka?void 0:Ka.length)&&e.toLowerCase().includes(Ka.toLowerCase())})))&&(null===(aa=null===H||void 0===H?void 0:H.networkRequestTrackingConfiguration)||
  void 0===aa?0:aa.enabled)&&(Kd||!bd)){var Lg=Array.from({length:32},function(){return Math.floor(16*Math.random()).toString(16)}).join(""),Mg=Array.from({length:16},function(){return Math.floor(16*Math.random()).toString(16)}).join("");return"00-"+Lg+"-"+Mg+"-00"}}return""}catch(Ka){return""}}function gf(e,n,q){var y=(null===r||void 0===r?0:r.trackerConfigUrl)?r.trackerConfigUrl:hf;if("number"===typeof Ld){window.clearInterval(Ld);var A={message:"Cancelling remote config timer",className:"updateRemoteConfig",
  extraData:{mode:q},configAppliedSrc:Ca,configAppliedTime:Ha};h?pa(h,A):setTimeout(function(){pa(h,A)},0)}var C=function(){var P={message:"Starting remote config timer with delay of ".concat(60*e," seconds"),className:"updateRemoteConfig",configAppliedSrc:Ca,configAppliedTime:Ha};h?pa(h,P):setTimeout(function(){pa(h,P)},0);Ld=window.setInterval(dc,6E4*e,y)};try{var F=n?((new Date).getTime()-n)/6E4:e;F=e-F;var E=3*e/100;if("string"==typeof q&&q===D.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)C();else if("string"==
  typeof q&&q===D.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF&&0<n&&F>E){var J={message:"Starting remote config timer with delay of ".concat(60*F," seconds"),className:"updateRemoteConfig",extraData:{mode:q},configAppliedSrc:Ca,configAppliedTime:Ha};h?pa(h,J):setTimeout(function(){pa(h,J)},0);window.setTimeout(function(){dc(y);C()},6E4*F)}else dc(y),C()}catch(P){dc(y);C();var T={className:"cacheRefreshIntervalTimer",error:P,configAppliedSrc:Ca,configAppliedTime:Ha};h?pa(h,T):setTimeout(function(){pa(h,T)},
  0)}}var Md,Nd,Od,Pd,Qd,Rd,Sd,Td,Ud,Vd,Wd,Xd,Yd,Zd,$d,ae,be,ce,de,ee,xc,ra={cacheRefreshInterval:30,base64:!1,linkClickTracking:!1,buttonClickTracking:!1,lifecycleAutotracking:!1,exceptionAutotracking:!1,enablePeriodicHeartbeat:!1,periodicHeartbeatInterval:40,customEventTrackingConfiguration:{enabled:!1},ajaxTrackingConfiguration:{blocklist:["*"]},networkRequestTrackingConfiguration:{blocklist:["*"]},traceparentconfig:{enabled:!1,pref:D.CONFIG_PREFERENCES.MERGE,targetUrl:[]},performanceContextConfig:1,
  configurationVersion:-1,catRcLastUpdatedTs:0,controlIngestConfig:void 0,endpoint:D.DEFAULT_END_POINT,applicationContext:!0,maxLocalStorageQueueSize:10,emitterConfiguration:{batching:{enabled:!0,byteLimitPostInKB:250,batchingIntervalInSec:5,urgentEvents:[dd.APPLICATION_BACKGROUND,dd.APPLICATION_ERROR]}},di:{en:!1,lim:30}},K={},Ld=null,ed=!1,ec=!1,M={},Ca=D.CONFIG_SOURCE.DEFAULT,Ha=0;if("undefined"!=typeof window&&(null===window||void 0===window?0:window.localStorage))try{localStorage.removeItem(D.END_POINT_STORAGE_KEY),
  (xc=localStorage.getItem(D.REMOTE_CONFIG_STORAGE_KEY))?Ca=D.CONFIG_SOURCE.CACHED:xc=JSON.stringify(K)}catch(e){xc=JSON.stringify(K);ed=!0;var Ng={className:"fetchRemoteConfig - localstorage",error:e,configAppliedSrc:Ca,configAppliedTime:Ha};setTimeout(function(){pa(h,Ng)},0);N.warn("Issue while fetching data from local storage")}else xc=JSON.stringify(K);try{M=JSON.parse(xc)}catch(e){ed=!0;var Og={className:"fetchRemoteConfig - parsing cached data",error:e,configAppliedSrc:Ca,configAppliedTime:Ha};
  setTimeout(function(){pa(h,Og)},0);N.warn("Issue while parsing storedConvivaRemoteConfig")}x=r.gatewayUrl?r.gatewayUrl:(null===M||void 0===M?0:M.endpoint)?null===M||void 0===M?void 0:M.endpoint:D.DEFAULT_END_POINT;z||(z="CAT");K.base64="undefined"!=typeof M.base64?M.base64:ra.base64;K.cacheRefreshInterval="undefined"!=typeof M.cacheRefreshInterval?M.cacheRefreshInterval:ra.cacheRefreshInterval;K.linkClickTracking="undefined"!=typeof M.linkClickTracking?M.linkClickTracking:ra.linkClickTracking;K.lifecycleAutotracking=
  "undefined"!=typeof M.lifecycleAutotracking?M.lifecycleAutotracking:ra.lifecycleAutotracking;K.buttonClickTracking="undefined"!=typeof M.buttonClickTracking?M.buttonClickTracking:ra.buttonClickTracking;K.exceptionAutotracking="undefined"!=typeof M.exceptionAutotracking?M.exceptionAutotracking:ra.exceptionAutotracking;K.enablePeriodicHeartbeat="undefined"!=typeof M.enablePeriodicHeartbeat?M.enablePeriodicHeartbeat:ra.enablePeriodicHeartbeat;K.periodicHeartbeatInterval="undefined"!=typeof M.periodicHeartbeatInterval?
  M.periodicHeartbeatInterval:ra.periodicHeartbeatInterval;"undefined"!=typeof M.enc&&(K.enc=M.enc);"undefined"!=typeof M.maxLocalStorageQueueSize&&(K.maxLocalStorageQueueSize=M.maxLocalStorageQueueSize);"undefined"!=typeof M.maxGetBytes&&(K.maxGetBytes=M.maxGetBytes);"undefined"!=typeof M.bufferSize&&(K.bufferSize=M.bufferSize);K.customEventTrackingConfiguration="undefined"!=typeof M.customEventTrackingConfiguration?M.customEventTrackingConfiguration:ka({},ra.customEventTrackingConfiguration);K.ajaxTrackingConfiguration=
  "undefined"!=typeof M.ajaxTrackingConfiguration?M.ajaxTrackingConfiguration:ka({},ra.ajaxTrackingConfiguration);K.networkRequestTrackingConfiguration="undefined"!=typeof M.networkRequestTrackingConfiguration?M.networkRequestTrackingConfiguration:ka({},ra.networkRequestTrackingConfiguration);"undefined"!=typeof M.metaTagsTrackingConfiguration&&(K.metaTagsTrackingConfiguration=M.metaTagsTrackingConfiguration);K.traceparentconfig="undefined"!=typeof M.traceparentconfig?M.traceparentconfig:ka({},ra.traceparentconfig);
  "undefined"!=typeof M.mend&&(K.mend=M.mend);K.performanceContextConfig="undefined"!=typeof M.performanceContextConfig?M.performanceContextConfig:ra.performanceContextConfig;K.configurationVersion="undefined"!=typeof M.configurationVersion?M.configurationVersion:ra.configurationVersion;K.catRcLastUpdatedTs="undefined"!=typeof M.catRcLastUpdatedTs?M.catRcLastUpdatedTs:ra.catRcLastUpdatedTs;"undefined"!=typeof M.controlIngestConfig?K.controlIngestConfig=M.controlIngestConfig:t();K.applicationContext=
  "undefined"!=typeof M.applicationContext?M.applicationContext:ra.applicationContext;K.emitterConfiguration="undefined"!=typeof M.emitterConfiguration?M.emitterConfiguration:ka({},ra.emitterConfiguration);K.di="undefined"!=typeof M.di?M.di:ka({},ra.di);var jf="Cached Config Applied";Ca===D.CONFIG_SOURCE.DEFAULT&&(jf="Default Config Applied");Ha=(new Date).getTime();var Pg={message:jf,className:"browserTrackerCore",configAppliedSrc:Ca,configAppliedTime:Ha};setTimeout(function(){pa(h,Pg)},0);null===
  (Md=Ad(K.performanceContextConfig))||void 0===Md?void 0:Md.activateLCPObserver();(function(){try{var e=0,n=0;null===window||void 0===window?void 0:window.addEventListener("load",function(){var q;try{var y=null===(q=null===h||void 0===h?void 0:h.core)||void 0===q?void 0:q.getConfig();null===h||void 0===h?void 0:h.trackCustomEvent({name:"conviva_window_loaded",data:"{}",context:Ad(null===y||void 0===y?void 0:y.performanceContextConfig).contexts()})}catch(A){N.warn("ConvivaAppTracker : issue while registering window loaded event",
  A)}});null===document||void 0===document?void 0:document.addEventListener("visibilitychange",function(){var q;try{if(kb()!==D.SAMPLING_MODES.NONE)if("hidden"===document.visibilityState)setTimeout(function(){var A;try{var C=null===(A=null===h||void 0===h?void 0:h.core)||void 0===A?void 0:A.getConfig();n++;if(null===C||void 0===C?0:C.lifecycleAutotracking){var F=h.core,E=F.track;var J=yb({event:{sc:"sp/abg/1-0-0",dt:Jb({backgroundIndex:n})}});E.call(F,J)}"hidden"!==document.visibilityState||Jd||(null===
  h||void 0===h?void 0:h.trackCustomEvent({name:"conviva_app_backgrnd_before_page_view",data:"{}"}))}catch(T){console.warn("ConvivaAppTracker : issue while tracking visibility change",T)}},0);else{var y=null===(q=null===h||void 0===h?void 0:h.core)||void 0===q?void 0:q.getConfig();e++;(null===y||void 0===y?0:y.lifecycleAutotracking)&&h.core.track(yb({event:{sc:"sp/afg/1-0-0",dt:Jb({foregroundIndex:e})}}))}}catch(A){N.warn("convivaAppTracker visibilitychange failed "+A)}});"undefined"!=typeof document&&
  document&&document.addEventListener&&document.addEventListener("convivaVideoEvent",function(q){q&&h&&kb()!==D.SAMPLING_MODES.NONE&&(null===h||void 0===h?void 0:h.trackVideoEvent(q))})}catch(q){N.warn("convivaAppTracker error in page load metrics"+q)}})();try{var Sb=XMLHttpRequest,fd=null===(Nd=null===window||void 0===window?void 0:window.fetch)||void 0===Nd?void 0:Nd.bind(window);if(Sb){var Qg=function(e){var n={};e.trim().split(/[\r\n]+/).forEach(function(q){q=q.split(":");var y=q[1];n[q[0].trim()]=
  null===y||void 0===y?void 0:y.trim()});return n},gd=function(e,n,q){var y,A;try{if(kb()!==D.SAMPLING_MODES.NONE){var C=h.core.getConfig().networkRequestTrackingConfiguration,F=C.blocklist,E=null===(A=null===(y=null===r||void 0===r?void 0:r.configs)||void 0===y?void 0:y.networkRequestTracking)||void 0===A?void 0:A.safelist,J=(null===F||void 0===F?void 0:F.includes("*"))||(null===F||void 0===F?void 0:F.some(function(ea){var ma;return 0<(null===ea||void 0===ea?void 0:ea.length)&&(null===(ma=null===n||
  void 0===n?void 0:n.url)||void 0===ma?void 0:ma.toLowerCase().includes(ea.toLowerCase()))})),T=null===E||void 0===E?void 0:E.some(function(ea){var ma;return 0<(null===ea||void 0===ea?void 0:ea.length)&&(null===(ma=null===n||void 0===n?void 0:n.url)||void 0===ma?void 0:ma.toLowerCase().includes(ea.toLowerCase()))});if(C&&C.enabled&&!J||T){var P={status:null===e||void 0===e?void 0:e.status,statusText:(""!==(null===e||void 0===e?void 0:e.statusText)?null===e||void 0===e?void 0:e.statusText:void 0)||
  ("load"!=q?q:void 0),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};q=void 0;try{q=Qg(e.getAllResponseHeaders()),P.headers=q}catch(ea){}try{P.body=null===e||void 0===e?void 0:e.response}catch(ea){}h.trackNetworkRequest({requestDetails:n,responseDetails:P})}}}catch(ea){N.warn("Conviva App Tracker:: Unable to track network request error while handleResponse ".concat(ea))}},
  fe=function(){var e=new Sb;try{var n,q,y={},A,C=e.setRequestHeader;e.setRequestHeader=function(J,T){y[J]=T;C.call(this,J,T)};var F=e.open;e.open=function(){for(var J=[],T=0;T<arguments.length;T++)J[T]=arguments[T];n=J[0];q=J[1];try{/^(?:[a-z]+:)?\/\//i.test(q)||(q=0===q.indexOf("/")?window.location.origin+q:window.location.origin+"/"+q)}catch(P){}F.call(e,J[0],J[1],!0)};var E=e.send;e.send=function(J){try{var T=null;D.TRACEPARENT_HEADER_KEY in y||(T=cd(q),null!==T&&""!==T&&e.setRequestHeader(D.TRACEPARENT_HEADER_KEY,
  T));E.call(e,J);A={method:n,url:q,headers:y,body:J,requestTimestamp:null===Date||void 0===Date?void 0:Date.now(),requestTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};null!==T&&""!==T&&(A[D.TRACEPARENT_HEADER_KEY]=T)}catch(P){N.warn("Conviva App Tracker:: Unable to track network request while send ".concat(P))}};e.addEventListener("load",function(){return gd(e,A,"load")});e.addEventListener("error",function(){return gd(e,A,
  "error")});e.addEventListener("abort",function(){return gd(e,A,"abort")});e.addEventListener("timeout",function(){return gd(e,A,"timeout")})}catch(J){N.warn("Conviva App Tracker:: Unable to track network request while interceptRequest ".concat(J))}return e},hd;for(hd in Sb)Sb.hasOwnProperty(hd)&&(fe[hd]=Sb[hd]);fe.prototype=Sb.prototype;window.XMLHttpRequest=fe}if(fd){var kf=function(e){var n={};e.forEach(function(q,y){n[y]=q});return n};window.fetch=function(e,n){var q,y,A,C=null;if(e instanceof
  Request){e=null===e||void 0===e?void 0:e.clone();try{var F=!1;null===(q=null===e||void 0===e?void 0:e.headers)||void 0===q?void 0:q.forEach(function(Q,oa){D.TRACEPARENT_HEADER_KEY===oa&&(F=!0)});F||(C=cd(e.url),null!==C&&""!==C&&e.headers.set(D.TRACEPARENT_HEADER_KEY,C))}catch(Q){N.warn("ConvivaAppTracker: Issue while adding traceparent header",Q)}q=fd(e)}else{try{if(n&&n.headers){var E=new Headers(n.headers),J=!1;E.forEach(function(Q,oa){D.TRACEPARENT_HEADER_KEY===oa&&(J=!0)});J||(C=cd(e),null!==
  C&&""!==C&&E.set(D.TRACEPARENT_HEADER_KEY,C))}else E=new Headers,C=cd(e),null!==C&&""!==C&&E.set(D.TRACEPARENT_HEADER_KEY,C),n||(n={});n.headers=E}catch(Q){N.warn("ConvivaAppTracker: Issue while adding traceparent header",Q)}q=fd(e,n);e=(new Request(e,n)).clone()}try{E=void 0;try{E=kf(e.headers)}catch(Q){}var T=void 0;try{T=null===n||void 0===n?void 0:n.body}catch(Q){}var P={method:e.method,url:e.url,headers:E,body:T,requestTimestamp:null===Date||void 0===Date?void 0:Date.now(),requestTime:(null===
  performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};if(kb()!==D.SAMPLING_MODES.NONE){var ea=h.core.getConfig().networkRequestTrackingConfiguration,ma=ea.blocklist,Ia=null===(A=null===(y=null===r||void 0===r?void 0:r.configs)||void 0===y?void 0:y.networkRequestTracking)||void 0===A?void 0:A.safelist,Qa=(null===ma||void 0===ma?void 0:ma.includes("*"))||(null===ma||void 0===ma?void 0:ma.some(function(Q){var oa;return 0<(null===Q||void 0===Q?void 0:
  Q.length)&&(null===(oa=null===P||void 0===P?void 0:P.url)||void 0===oa?void 0:oa.toLowerCase().includes(Q.toLowerCase()))})),Ra=null===Ia||void 0===Ia?void 0:Ia.some(function(Q){var oa;return 0<(null===Q||void 0===Q?void 0:Q.length)&&(null===(oa=null===P||void 0===P?void 0:P.url)||void 0===oa?void 0:oa.toLowerCase().includes(Q.toLowerCase()))});null!==C&&""!==C&&(P[D.TRACEPARENT_HEADER_KEY]=C);if(ea&&ea.enabled&&!Qa||Ra)q.then(function(Q){try{var oa=kf(Q.headers)}catch(Ma){}var Ja={status:null===
  Q||void 0===Q?void 0:Q.status,statusText:""!==(null===Q||void 0===Q?void 0:Q.statusText)?null===Q||void 0===Q?void 0:Q.statusText:void 0,headers:oa,size:0,responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};Q.clone().json().then(function(Ma){Ja.body=Ma;h.trackNetworkRequest({requestDetails:P,responseDetails:Ja})})["catch"](function(){h.trackNetworkRequest({requestDetails:P,
  responseDetails:Ja})})})["catch"](function(Q){Q={statusText:Q.toString(),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};h.trackNetworkRequest({requestDetails:P,responseDetails:Q})})}}catch(Q){N.warn("Conviva App Tracker:: Unable to track network request while fetch interceptRequest ".concat(Q))}return q}}try{Sb||fd||PerformanceObserver&&(new PerformanceObserver(function(e){try{kb()!==
  D.SAMPLING_MODES.NONE&&e.getEntries().forEach(function(n){h&&h.trackAjaxEvent(n)})}catch(n){N.warn("Conviva PerformanceObserver error in listeneing ajax request observer ".concat(n))}})).observe({type:"resource",buffered:!0})}catch(e){N.warn("Conviva PerformanceObserver failed to report ajax request"+e)}}catch(e){N.warn("Conviva App Tracker:: Unable to track network request ".concat(e))}var Rg=I.split("js-")[1],hf=D.REMOTE_CONFIG_URL_PREFIX+r.convivaCustomerKey+"/"+Rg+D.REMOTE_CONFIG_FILE_NAME;if(window.XMLHttpRequest){var eb=
  new XMLHttpRequest,fc=0;eb.onreadystatechange=function(){try{if(4==eb.readyState)if(ec=!1,200==eb.status){var e={message:"Remote config request is successful - ".concat("number"==typeof eb.status?eb.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:Ca,configAppliedTime:Ha};pa(h,e);fc=0;K.catRcLastUpdatedTs=(new Date).getTime();var n=JSON.parse(eb.response),q=n.cri||n.cacheRefreshInterval||ra.cacheRefreshInterval;q=1>q?ra.cacheRefreshInterval:~~q;K.cacheRefreshInterval!=
  q&&(K.cacheRefreshInterval=q,gf(K.cacheRefreshInterval,K.catRcLastUpdatedTs,D.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER));k(n,ra,z,K.catRcLastUpdatedTs)&&jb.executeQueue()}else try{2>fc&&window.setTimeout(function(){(null===r||void 0===r?0:r.trackerConfigUrl)?dc(null===r||void 0===r?void 0:r.trackerConfigUrl,!0):dc(hf,!0)},5E3*(fc+1));var y={message:"Remote config request is not successful - ".concat("number"==typeof eb.status?eb.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:Ca,
  configAppliedTime:Ha};pa(h,y);2<=fc&&pa(h,{message:"Remote config is not applied since failed to download remote config after 3 tries",className:"configtimerCallback - onreadystatechange",configAppliedSrc:Ca,configAppliedTime:Ha})}catch(A){}}catch(A){ec=!1,console.warn("Conviva App Tracker:: Error in fetching remote-config ".concat(A)),pa(h,{className:"configtimerCallback - onreadystatechange",error:A,configAppliedSrc:Ca,configAppliedTime:Ha})}};var dc=function(e,n){try{if("boolean"===typeof ec&&
  !1===ec){n?fc++:fc=0;eb.timeout=3E4;eb.open("GET",e,!0);ec=!0;var q={message:"Remote config fetch attempt",className:"updateRemoteConfig",configAppliedSrc:Ca,configAppliedTime:Ha};h?pa(h,q):setTimeout(function(){pa(h,q)},0);eb.send()}}catch(A){ec=!1;console.warn("Conviva App Tracker:: Error in configtimerCallback ".concat(A));var y={className:"configtimerCallback",error:A,configAppliedSrc:Ca,configAppliedTime:Ha};setTimeout(function(){pa(h,y)},0)}};gf(K.cacheRefreshInterval,K.catRcLastUpdatedTs,"undefined"!=
  typeof ed&&!0===ed?D.RC_FETCH_MODE.IMMEDIATE_FETCH:D.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF)}r.eventMethod=null!==(Od=r.eventMethod)&&void 0!==Od?Od:"post";var $e=function(e){var n;return null!==(n=e.stateStorageStrategy)&&void 0!==n?n:"cookieAndLocalStorage"},af=function(e){var n,q;return"boolean"===typeof e.anonymousTracking?!1:null!==(q=!0===(null===(n=e.anonymousTracking)||void 0===n?void 0:n.withSessionTracking))&&void 0!==q?q:!1},bf=function(e){var n,q;return"boolean"===typeof e.anonymousTracking?
  !1:null!==(q=!0===(null===(n=e.anonymousTracking)||void 0===n?void 0:n.withServerAnonymisation))&&void 0!==q?q:!1};p.push(function(){return{beforeTrack:function(e){var n=ia("ses"),q=Ab();ge=he?!!gb(he):!1;lf||ge?Rc():("0"===q[0]?(Qb=n||"none"==xa?q[6]:qc(q),ib=q[3]):(new Date).getTime()-ie>1E3*Ye&&(ib++,Qb=qc(q,ib)),zd(q),-1===q[10]&&(n=e.build(),q[8]=n.eid,n=n.dtm||n.ttm,q[9]=n?parseInt(n):void 0),q[10]+=1,e.add("uid",tc?null:Rb),L(),e.add("refr",ha(ad||rc)),document&&(Db=document.title,n=wd($b||
  Db),e.add("page",n)),e.add("url",ha(ac||Bb)),"none"!=xa&&(ca(q),O()),ie=(new Date).getTime())}}}());p.push(function(){return{contexts:function(){var e=uc,n=$c.toString(),q=Sg;try{var y=window.localStorage.getItem(Fd+"."+Gd),A=JSON.parse(y||"{}");"{}"!==A&&"undefined"!==typeof A&&"undefined"!==typeof A[vc]&&(Cb=A[vc]);2147483647<=Cb?Cb=0:Cb++;S();var C=Cb}catch(F){N.warn("getEventIndexByClid",F),C=void 0}return[{sc:"cv/clid/1-0-2",dt:{clid:e,iid:n,ck:q,eventIndex:C}}]}}}());p.push(function(){return{contexts:function(){return[{sc:"cv/ct/1-0-0",
  dt:{data:ka(ka({},Hd),Id)}}]}}}());p.push(function(){return{contexts:function(){var e,n=null===(e=null===h||void 0===h?void 0:h.core)||void 0===e?void 0:e.getConfig();return!0===(null===n||void 0===n?void 0:n.applicationContext)?[{sc:"spm/app/1-0-0",dt:{build:mf,version:mf}}]:[]}}}());p.push(function(){return{contexts:function(){var e={sch:"sdk.js.eco.1"};e.cat=je.DeviceCategory.WEB;try{var n=null===r||void 0===r?void 0:r.deviceMetadata;if(n){var q=n.DeviceBrand,y=n.DeviceCategory,A=n.DeviceManufacturer,
  C=n.DeviceModel,F=n.DeviceType,E=n.DeviceVersion,J=n.OperatingSystemName,T=n.OperatingSystemVersion,P=n.FrameworkName,ea=n.FrameworkVersion;"string"===typeof y&&Object.values(je.DeviceCategory).includes(y)?e.cat=y:e.cat="INVALID"+(y?": ".concat(y):"");"string"===typeof q&&""!=q&&(e.dvb=q);"string"===typeof A&&""!=A&&(e.dvma=A);"string"===typeof C&&""!=C&&(e.dvm=C);F&&Object.values(je.DeviceType).includes(F)&&(e.dvt=F);"string"===typeof E&&""!=E&&(e.dvv=E);"string"===typeof J&&""!=J&&(e.os=J);"string"===
  typeof T&&""!=T&&(e.osv=T);"string"===typeof P&&""!=P&&(e.fw=P);"string"===typeof ea&&""!=ea&&(e.fwv=ea)}}catch(ma){N.warn("error in setting platform metadata context",ma)}return null!=e&&0<Object.keys(e).length?[{sc:"iglu:com.conviva/pm/jsonschema/1-0-2",dt:e}]:[]}}}());try{(null!==(Pd=null===r||void 0===r?void 0:r.plugins)&&void 0!==Pd?Pd:[]).forEach(function(e){e.contexts||p.push(e)})}catch(e){N.warn("ConvivaAppTracker : issue while processing customer passed pligins",e)}var Ga=rg({base64:K.base64,
  corePlugins:p,callback:function(e){lf||ge||jb.enqueueRequest(e.build(),ke,Fa(e))},linkClickTracking:K.linkClickTracking,buttonClickTracking:K.buttonClickTracking,exceptionAutotracking:K.exceptionAutotracking,enablePeriodicHeartbeat:K.enablePeriodicHeartbeat,periodicHeartbeatInterval:K.periodicHeartbeatInterval,enc:K.enc,mend:K.mend,maxLocalStorageQueueSize:K.maxLocalStorageQueueSize,maxGetBytes:K.maxGetBytes,bufferSize:K.bufferSize,customEventTrackingConfiguration:K.customEventTrackingConfiguration,
  ajaxTrackingConfiguration:K.ajaxTrackingConfiguration,networkRequestTrackingConfiguration:K.networkRequestTrackingConfiguration,metaTagsTrackingConfiguration:K.metaTagsTrackingConfiguration,performanceContextConfig:K.performanceContextConfig,lifecycleAutotracking:K.lifecycleAutotracking,configurationVersion:K.configurationVersion,catRcLastUpdatedTs:K.catRcLastUpdatedTs,cacheRefreshInterval:K.cacheRefreshInterval,controlIngestConfig:K.controlIngestConfig,applicationContext:K.applicationContext,emitterConfiguration:K.emitterConfiguration,
  di:K.di}),Ob=Te(window.location.hostname,window.location.href,yd()),Ve=Pe(Ob[0]),Bb=Ob[1],rc=Ob[2],ad,Tg=null!==(Qd=r.platform)&&void 0!==Qd?Qd:"web",ke=Nb(x,r.convivaCustomerKey),Ug=null!==(Rd=r.postPath)&&void 0!==Rd?Rd:"/ctp",Vg=null!==(Sd=r.appId)&&void 0!==Sd?Sd:"",Sg=null!==(Td=r.convivaCustomerKey)&&void 0!==Td?Td:"",mf=null!==(Ud=r.appVersion)&&void 0!==Ud?Ud:"",ac,Hd={},Id={},Db="undefined"!==typeof document?document.title:void 0,$b,Kg=null!==(Vd=r.resetActivityTrackingOnPageView)&&void 0!==
  Vd?Vd:!0,We,Xe,Zb=null!==(Wd=r.cookieName)&&void 0!==Wd?Wd:"_sp_",sc=null!==(Xd=r.cookieDomain)&&void 0!==Xd?Xd:void 0,Cd="/",Yc=null!==(Yd=r.cookieSameSite)&&void 0!==Yd?Yd:"None",Zc=null!==(Zd=r.cookieSecure)&&void 0!==Zd?Zd:!0,nf=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,lf="undefined"!==typeof r.respectDoNotTrack?r.respectDoNotTrack&&("yes"===nf||"1"===nf):!1,he,Ze=null!==($d=r.cookieLifetime)&&void 0!==$d?$d:63072E3,Ye=null!==(ae=r.sessionCookieTimeout)&&void 0!==ae?ae:
  1800,Xc=af(r),Ed=bf(r),tc=!!r.anonymousTracking,xa=$e(r),Fd="Conviva",Gd="sdkConfig",vc="eventIndex",uc,$c,Cb=-1,Dd,ie=(new Date).getTime(),Tc,Uc,Vc,Wc,Pb,Sc,Qb,ib=1,Rb,of=function(){var e=Ga.getConfig();return e.emitterConfiguration&&e.emitterConfiguration.batching?e.emitterConfiguration.batching.enabled:!0},kb=function(){try{var e=Ga.getConfig();return e?void 0===e.catRcLastUpdatedTs||0===e.catRcLastUpdatedTs?D.SAMPLING_MODES.NONE:e.controlIngestConfig?m(null===e||void 0===e?void 0:e.controlIngestConfig):
  D.SAMPLING_MODES.RCFG:D.SAMPLING_MODES.NONE}catch(n){return N.error("Error while getting sampling mode"),D.SAMPLING_MODES.NONE}},jb=Fg(l,v,"localStorage"==xa||"cookieAndLocalStorage"==xa,r.eventMethod,Ug,function(){var e,n=Ga.getConfig();return null!==(e=n.bufferSize?n.bufferSize:r.bufferSize)&&void 0!==e?e:20}(),function(){var e,n=Ga.getConfig();return null!==(e=n.maxGetBytes?n.maxGetBytes:r.maxGetBytes)&&void 0!==e?e:0},null!==(be=r.useStm)&&void 0!==be?be:!0,function(){var e,n=Ga.getConfig();return null!==
  (e=n.maxLocalStorageQueueSize?n.maxLocalStorageQueueSize:r.maxLocalStorageQueueSize)&&void 0!==e?e:10},null!==(ce=r.connectionTimeout)&&void 0!==ce?ce:3E4,Ed,null!==(de=r.customHeaders)&&void 0!==de?de:{},null!==(ee=r.withCredentials)&&void 0!==ee?ee:!1,function(){var e,n,q,y=Ga.getConfig();return null!==(q=(null===y||void 0===y?0:y.enc)?y.enc:null===(n=null===(e=null===r||void 0===r?void 0:r.configs)||void 0===e?void 0:e.network)||void 0===n?void 0:n.encoding)&&void 0!==q?q:"gzip"},kb,5E3,of,function(){var e,
  n,q=Ga.getConfig();return of()?"number"===typeof(null===(n=null===(e=q.emitterConfiguration)||void 0===e?void 0:e.batching)||void 0===n?void 0:n.byteLimitPostInKB)?1E3*q.emitterConfiguration.batching.byteLimitPostInKB:25E4:4E4},function(){var e,n,q=null===(n=null===(e=Ga.getConfig().emitterConfiguration)||void 0===e?void 0:e.batching)||void 0===n?void 0:n.batchingIntervalInSec;return 1E3*("number"===typeof q?q:5)}),cf=!1,Jd=!1,Wa={enabled:!0,installed:!1,configurations:{pagePing:{configMinimumVisitLength:5E3,
  configHeartBeatTimer:1E3*K.periodicHeartbeatInterval,callback:ff}}},df=!1,ge;r.hasOwnProperty("discoverRootDomain")&&r.discoverRootDomain&&(sc=Bg(Yc,Zc));Ga.setTrackerVersion(I);Ga.setAppId(Vg);Ga.setPlatform(Tg);ta();hb();jb.setCustomHeaders({"x-client-id":""+uc});r.crossDomainLinker&&ba(r.crossDomainLinker);return ka(ka({},{getDomainSessionIndex:function(){return ib},getPageViewId:function(){return G()},newSession:function(){var e=Ab();"0"===e[0]?(Qb="none"!=xa?qc(e):e[6],ib=e[3],O()):(ib++,Qb=
  qc(e,ib));zd(e);"none"!=xa&&(ca(e),O());ie=(new Date).getTime()},getCookieName:function(e){return Zb+e+"."+Pb},getUserId:function(){return Rb},getDomainUserId:function(){return Ab()[1]},getDomainUserInfo:function(){return Ab()},setReferrerUrl:function(e){ad=e},setCustomUrl:function(e){L();var n=Bb,q;B(e)?ac=e:"/"===e.slice(0,1)?ac=B(n)+"://"+xd(n)+e:(n=ha(n),0<=(q=n.indexOf("?"))&&(n=n.slice(0,q)),(q=n.lastIndexOf("/"))!==n.length-1&&(n=n.slice(0,q+1)),ac=n+e)},setDocumentTitle:function(e){Db=document.title;
  $b=e},discardHashTag:function(e){We=e},discardBrace:function(e){Xe=e},setCookiePath:function(e){Cd=e;ta()},setVisitorCookieTimeout:function(e){Ze=e},crossDomainLinker:function(e){ba(e)},enableActivityTracking:function(e){Wa.configurations.pagePing||(Wa.enabled=!0,Wa.configurations.pagePing=ef(ka(ka({},e),{callback:ff})))},enableActivityTrackingCallback:function(e){Wa.configurations.callback||(Wa.enabled=!0,Wa.configurations.callback=ef(e))},updatePageActivity:function(){ua()},setOptOutCookie:function(e){he=
  e},setUserId:function(e){Rb=e},setUserIdFromLocation:function(e){L();Rb=oc(e,Bb)},setUserIdFromReferrer:function(e){L();Rb=oc(e,rc)},setUserIdFromCookie:function(e){Rb=gb(e)},setCollectorUrl:function(e,n){ke=Nb(e,n);jb.setCollectorUrl(ke)},setBufferSize:function(e){jb.setBufferSize(e)},flushBuffer:function(e){void 0===e&&(e={});jb.executeQueue();e.newBufferSize&&jb.setBufferSize(e.newBufferSize)},trackPageView:function(e){void 0===e&&(e={});rb();var n=this.core.getConfig();try{e=ka(ka({},e),{context:Ad(null===
  n||void 0===n?void 0:n.performanceContextConfig).contexts()})}catch(q){N.warn("Conviva App Tracker:: error adding performacetiming context to page view",q)}Za(e)},trackVideoEvent:function(e){var n;void 0===e&&(e={});try{var q=this.core.getConfig();""!=e.name&&void 0!=e.name||N.warn("Conviva App Tracker:: Video event could not be tracked due to missing name property!!");var y=null===(n=null===q||void 0===q?void 0:q.customEventTrackingConfiguration)||void 0===n?void 0:n.blocklist;(null===y||void 0===
  y?0:y.includes("*"))||(null===y||void 0===y?0:y.some(function(A){return 0<(null===A||void 0===A?void 0:A.length)&&e.name.toLowerCase().includes(A.toLowerCase())}))||this.core.track(ug({name:e.name,sid:e.sid,iid:e.iid,clid:e.clid,st:e.st,sst:e.sst,an:e.an,cl:e.cl,lv:e.lv,pn:e.pn,vid:e.vid,fw:e.fw,fwv:e.fwv,mn:e.mn,mv:e.mv,url:e.url,tags:e.tags,cen:e.cen,ced:e.ced,oldsc:e.old,newsc:e["new"],err:e.err,br:e.br,ft:e.ft,avgbr:e.avgbr}),e.context,e.timestamp)}catch(A){N.warn("Conviva App Tracker:: Video event could not be tracked due to an exception!!",
  A)}},trackCustomEvent:function(e){var n,q,y;void 0===e&&(e={});try{if(kb()!==D.SAMPLING_MODES.NONE){var A=h.core.getConfig();if(null!==(q=null===(n=null===A||void 0===A?void 0:A.customEventTrackingConfiguration)||void 0===n?void 0:n.enabled)&&void 0!==q?q:ra.customEventTrackingConfiguration.enabled)if(!e.name||"string"==typeof e.name&&""==e.name.trim())console.warn("Conviva App Tracker:: custom event name is mandatory for trackCustomEvent API!!");else{var C=e.data;try{"string"!==typeof e.data&&(C=
  JSON.stringify(e.data))}catch(E){}var F=null===(y=null===A||void 0===A?void 0:A.customEventTrackingConfiguration)||void 0===y?void 0:y.blocklist;(null===F||void 0===F?0:F.includes("*"))||(null===F||void 0===F?0:F.some(function(E){return 0<(null===E||void 0===E?void 0:E.length)&&e.name.toLowerCase().includes(E.toLowerCase())}))||h.core.track(tg({name:e.name,data:C}),e.context,e.timestamp)}}}catch(E){N.warn("Conviva App Tracker:: Unable to track custom event! "+E)}},trackAjaxEvent:function(e){void 0===
  e&&(e={});try{if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType){var n=this.core.getConfig();if(""==e.name||void 0==e.name)N.warn("Conviva App Tracker:: Ajax request could not be tracked due to missing URL property!!");else if(void 0!=n.ajaxTrackingConfiguration&&void 0!=n.ajaxTrackingConfiguration.blocklist&&0<n.ajaxTrackingConfiguration.blocklist.length){var q=n.ajaxTrackingConfiguration.blocklist;if(-1==q.indexOf("*")){n=!1;for(var y=0;y<q.length;y++)""!==q[y]&&-1!==e.name.toLowerCase().indexOf(q[y].toLowerCase())&&
  (n=!0);if(!n){var A=this.core,C=A.track;var F=yb({event:{sc:"cv/nr/1-0-2",dt:Jb({targetUrl:e.name,responseStatusCode:e.responseStatus,duration:e.duration})}});C.call(A,F,e.context,e.timestamp)}}}}}catch(E){N.warn("Conviva App Tracker:: Ajax request could not be tracked due to an exception!!",E)}},trackNetworkRequest:function(e){var n,q,y,A,C,F,E,J,T,P,ea,ma,Ia,Qa,Ra,Q,oa,Ja,Ma,$a,ab,bb;void 0===e&&(e={});try{var tb=this.core.getConfig().networkRequestTrackingConfiguration,cb=e.responseDetails.responseTime-
  e.requestDetails.requestTime;try{cb=parseFloat(cb.toFixed(3))}catch(H){N.warn("Conviva App Tracker:: exception while converting duration to 3 decimal",H)}var lb=function(H){try{var ya=void 0;"undefined"!=typeof H&&null!==H&&(ya=H["content-type"]||H["Content-Type"]||H["Content-type"]);return ya}catch(Ba){}},mb=function(H){try{var ya=void 0;"undefined"!=typeof H&&null!==H&&(ya=H["content-length"]||H["Content-Length"]||H["Content-length"]);return"undefined"==typeof ya||null===ya||isNaN(ya)?ya:Number(ya)}catch(Ba){}}(null===
  (y=null===e||void 0===e?void 0:e.responseDetails)||void 0===y?void 0:y.headers),Na=lb(null===(A=null===e||void 0===e?void 0:e.requestDetails)||void 0===A?void 0:A.headers),Sa=lb(null===(C=null===e||void 0===e?void 0:e.responseDetails)||void 0===C?void 0:C.headers);try{var Ta=(n={targetUrl:null===(F=null===e||void 0===e?void 0:e.requestDetails)||void 0===F?void 0:F.url,method:null===(E=null===e||void 0===e?void 0:e.requestDetails)||void 0===E?void 0:E.method,responseStatusCode:(null===(J=null===e||
  void 0===e?void 0:e.responseDetails)||void 0===J?0:J.status)?e.responseDetails.status:0,responseStatusText:(null===(T=null===e||void 0===e?void 0:e.responseDetails)||void 0===T?0:T.statusText)?e.responseDetails.statusText:"ok"},n[Aa.request_headers]=null===(P=null===e||void 0===e?void 0:e.requestDetails)||void 0===P?void 0:P.headers,n[Aa.response_headers]=null===(ea=null===e||void 0===e?void 0:e.responseDetails)||void 0===ea?void 0:ea.headers,n.duration=cb,n);if("undefined"!==typeof Na&&(Na.toLowerCase().includes("text/plain")||
  Na.toLowerCase().includes("json")||Na.toLowerCase().includes("text/javascript")||Na.toLowerCase().includes("application/javascript"))||"undefined"===typeof Na)if("string"===typeof(null===(ma=null===e||void 0===e?void 0:e.requestDetails)||void 0===ma?void 0:ma.body))try{1E4>=(null===(Ia=null===e||void 0===e?void 0:e.requestDetails)||void 0===Ia?void 0:Ia.body.length)&&(Ta[Aa.request_body]=JSON.parse(null===(Qa=null===e||void 0===e?void 0:e.requestDetails)||void 0===Qa?void 0:Qa.body))}catch(H){}else"object"===
  qa(null===(Ra=null===e||void 0===e?void 0:e.requestDetails)||void 0===Ra?void 0:Ra.body)&&(Ta[Aa.request_body]=null===(Q=null===e||void 0===e?void 0:e.requestDetails)||void 0===Q?void 0:Q.body);if("undefined"!==typeof Sa&&(Sa.toLowerCase().includes("text/plain")||Sa.toLowerCase().includes("json")||Sa.toLowerCase().includes("text/javascript")||Sa.toLowerCase().includes("application/javascript"))&&"undefined"!==typeof mb&&1E4>=mb)if("string"===typeof(null===(oa=null===e||void 0===e?void 0:e.responseDetails)||
  void 0===oa?void 0:oa.body))try{Ta[Aa.response_body]=JSON.parse(null===(Ja=null===e||void 0===e?void 0:e.responseDetails)||void 0===Ja?void 0:Ja.body)}catch(H){}else"object"===qa(null===(Ma=null===e||void 0===e?void 0:e.responseDetails)||void 0===Ma?void 0:Ma.body)&&(Ta[Aa.response_body]=null===($a=null===e||void 0===e?void 0:e.responseDetails)||void 0===$a?void 0:$a.body);var na=Cg(Ta,tb.collectattr);if(null===(ab=null===e||void 0===e?void 0:e.requestDetails)||void 0===ab?0:ab[D.TRACEPARENT_HEADER_KEY]){var aa=
  (q={},q[D.TRACEPARENT_HEADER_KEY]=null===(bb=null===e||void 0===e?void 0:e.requestDetails)||void 0===bb?void 0:bb[D.TRACEPARENT_HEADER_KEY],q);na[Aa.request_headers]=na[Aa.request_headers]?ka(ka({},na[Aa.request_headers]),aa):aa}this.core.track(yb({event:{sc:"cv/nr/1-0-4",dt:Jb({targetUrl:na.targetUrl,method:na.method,queryParameters:na.queryParameters,responseStatusCode:na.responseStatusCode,responseStatusText:na.responseStatusText,rqh:na.rqh,rsh:na.rsh,rqb:na.rqb,rsb:na.rsb,requestSize:na.requestSize,
  responseSize:na.responseSize,duration:na.duration,contentType:na.contentType,requestTimestamp:na.requestTimestamp,responseTimestamp:na.responseTimestamp})}}),e.context,e.timestamp)}catch(H){N.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",H)}}catch(H){N.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",H)}},setCustomTags:function(e){void 0===e&&(e={});va(e)},setMetaCustomTags:function(e){void 0===e&&(e={});Pa(e)},unsetCustomTags:function(e){void 0===
  e&&(e={});sb(e)},preservePageViewId:function(){cf=!0},disableAnonymousTracking:function(e){r.anonymousTracking=!1;Mb(e);hb();jb.executeQueue()},enableAnonymousTracking:function(e){var n;r.anonymousTracking=null!==(n=e&&(null===e||void 0===e?void 0:e.options))&&void 0!==n?n:!0;Mb(e);Xc||pc()},clearUserData:Rc,setKeepAliveInBG:function(e){void 0===e&&(e=!1);df=e},getSamplingMode:kb,setConfigAppliedSrc:function(e){Ca=e},getConfigAppliedSrc:function(){return Ca},setConfigAppliedTime:function(e){Ha=e},
  getConfigAppliedTime:function(){return Ha}}),{id:l,namespace:z,core:Ga,sharedState:v})}(a,c,b,f,d,g);var h=ka(ka({},a),{addPlugin:function(l){var z,I;h.core.addPlugin(l);null===(I=(z=l.plugin).activateBrowserPlugin)||void 0===I?void 0:I.call(z,h)}});p.forEach(function(l){var z;null===(z=l.activateBrowserPlugin)||void 0===z?void 0:z.call(l,h)});return h}function da(a,c){try{var b=null!==a&&void 0!==a?a:Object.keys(yc);a=yc;for(var f=[],d=0;d<b.length;d++){var g=b[d];a.hasOwnProperty(g)?f.push(a[g]):
  N.warn(g+" not configured")}f.forEach(c)}catch(k){N.error("Function failed",k)}}function pf(a,c,b,f,d,g){return yc.hasOwnProperty(a)?null:(yc[a]=Ig(a,c,b,f,d,g),yc[a])}function Wg(){function a(){var g;if(!b.hasLoaded)for(b.hasLoaded=!0,g=0;g<b.registeredOnLoadHandlers.length;g++)b.registeredOnLoadHandlers[g]();return!0}function c(){f.addEventListener?f.addEventListener("DOMContentLoaded",function k(){f.removeEventListener("DOMContentLoaded",k,!1);a()}):f.attachEvent&&f.attachEvent("onreadystatechange",
  function m(){"complete"===f.readyState&&(f.detachEvent("onreadystatechange",m),a())});Lb(d,"load",a,!1)}var b=new Xg,f=document,d=window;Lb(d,"beforeunload",function(){try{b.bufferFlushers.forEach(function(g){g(!1)})}catch(g){console.warn("Conviva App Tracker:: Error in flushBuffers of constructor ".concat(g))}},!1);"loading"===document.readyState?c():a();return b}var ka=function(){ka=Object.assign||function(a){for(var c,b=1,f=arguments.length;b<f;b++){c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,
  d)&&(a[d]=c[d])}return a};return ka.apply(this,arguments)},id={},qf="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(qf){var rf=new Uint8Array(16);id=function(){qf(rf);return rf}}else{var sf=Array(16);id=function(){for(var a=0,c;16>a;a++)0===(a&3)&&(c=4294967296*Math.random()),sf[a]=c>>>((a&3)<<3)&255;return sf}}for(var Da=[],jd=0;256>
  jd;++jd)Da[jd]=(jd+256).toString(16).substr(1);var tf=function(a,c){c=c||0;return[Da[a[c++]],Da[a[c++]],Da[a[c++]],Da[a[c++]],"-",Da[a[c++]],Da[a[c++]],"-",Da[a[c++]],Da[a[c++]],"-",Da[a[c++]],Da[a[c++]],"-",Da[a[c++]],Da[a[c++]],Da[a[c++]],Da[a[c++]],Da[a[c++]],Da[a[c++]]].join("")},Yg=id,uf,le,me=0,ne=0,Zg=id,oe=function(a,c,b){b=c&&b||0;"string"==typeof a&&(c="binary"===a?Array(16):null,a=null);a=a||{};a=a.random||(a.rng||Zg)();a[6]=a[6]&15|64;a[8]=a[8]&63|128;if(c)for(var f=0;16>f;++f)c[b+f]=
  a[f];return c||tf(a)};oe.v1=function(a,c,b){b=c&&b||0;var f=c||[];a=a||{};var d=a.node||uf,g=void 0!==a.clockseq?a.clockseq:le;if(null==d||null==g){var k=Yg();null==d&&(d=uf=[k[0]|1,k[1],k[2],k[3],k[4],k[5]]);null==g&&(g=le=(k[6]<<8|k[7])&16383)}k=void 0!==a.msecs?a.msecs:(new Date).getTime();var m=void 0!==a.nsecs?a.nsecs:ne+1,t=k-me+(m-ne)/1E4;0>t&&void 0===a.clockseq&&(g=g+1&16383);(0>t||k>me)&&void 0===a.nsecs&&(m=0);if(1E4<=m)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");me=
  k;ne=m;le=g;k+=122192928E5;a=(1E4*(k&268435455)+m)%4294967296;f[b++]=a>>>24&255;f[b++]=a>>>16&255;f[b++]=a>>>8&255;f[b++]=a&255;a=k/4294967296*1E4&268435455;f[b++]=a>>>8&255;f[b++]=a&255;f[b++]=a>>>24&15|16;f[b++]=a>>>16&255;f[b++]=g>>>8|128;f[b++]=g&255;for(g=0;6>g;++g)f[b+g]=d[g];return c?c:tf(f)};var xb=oe.v4=oe,wb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ub;(function(a){a[a.none=0]="none";a[a.error=1]="error";a[a.warn=2]="warn";a[a.debug=3]="debug";a[a.info=4]="info"})(ub||
  (ub={}));var N=function(a){void 0===a&&(a=ub.warn);return{setLogLevel:function(c){a=ub[c]?c:ub.warn},warn:function(c,b){for(var f=[],d=2;d<arguments.length;d++)f[d-2]=arguments[d];a>=ub.warn&&"undefined"!==typeof console&&(d="Conviva: "+c,b?console.warn.apply(console,sa([d+"\n",b],f,!1)):console.warn.apply(console,sa([d],f,!1)))},error:function(c,b){for(var f=[],d=2;d<arguments.length;d++)f[d-2]=arguments[d];a>=ub.error&&"undefined"!==typeof console&&(d="Conviva: "+c+"\n",b?console.error.apply(console,
  sa([d+"\n",b],f,!1)):console.error.apply(console,sa([d],f,!1)))},debug:function(c){for(var b=[],f=1;f<arguments.length;f++)b[f-1]=arguments[f];a>=ub.debug&&"undefined"!==typeof console&&console.debug.apply(console,sa(["Conviva: "+c],b,!1))},info:function(c){for(var b=[],f=1;f<arguments.length;f++)b[f-1]=arguments[f];a>=ub.info&&"undefined"!==typeof console&&console.info.apply(console,sa(["Conviva: "+c],b,!1))}}}(),vf;(function(a){a.response_body="rsb";a.request_body="rqb";a.response_headers="rsh";
  a.request_headers="rqh"})(vf||(vf={}));var wf={},xf={};(function(){var a={rotl:function(c,b){return c<<b|c>>>32-b},rotr:function(c,b){return c<<32-b|c>>>b},endian:function(c){if(c.constructor==Number)return a.rotl(c,8)&16711935|a.rotl(c,24)&4278255360;for(var b=0;b<c.length;b++)c[b]=a.endian(c[b]);return c},randomBytes:function(c){for(var b=[];0<c;c--)b.push(Math.floor(256*Math.random()));return b},bytesToWords:function(c){for(var b=[],f=0,d=0;f<c.length;f++,d+=8)b[d>>>5]|=c[f]<<24-d%32;return b},
  wordsToBytes:function(c){for(var b=[],f=0;f<32*c.length;f+=8)b.push(c[f>>>5]>>>24-f%32&255);return b},bytesToHex:function(c){for(var b=[],f=0;f<c.length;f++)b.push((c[f]>>>4).toString(16)),b.push((c[f]&15).toString(16));return b.join("")},hexToBytes:function(c){for(var b=[],f=0;f<c.length;f+=2)b.push(parseInt(c.substr(f,2),16));return b},bytesToBase64:function(c){for(var b=[],f=0;f<c.length;f+=3)for(var d=c[f]<<16|c[f+1]<<8|c[f+2],g=0;4>g;g++)8*f+6*g<=8*c.length?b.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d>>>
  6*(3-g)&63)):b.push("=");return b.join("")},base64ToBytes:function(c){c=c.replace(/[^A-Z0-9+\/]/ig,"");for(var b=[],f=0,d=0;f<c.length;d=++f%4)0!=d&&b.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(c.charAt(f-1))&Math.pow(2,-2*d+8)-1)<<2*d|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(c.charAt(f))>>>6-2*d);return b}};xf=a})();var pe={utf8:{stringToBytes:function(a){return pe.bin.stringToBytes(unescape(encodeURIComponent(a)))},bytesToString:function(a){return decodeURIComponent(escape(pe.bin.bytesToString(a)))}},
  bin:{stringToBytes:function(a){for(var c=[],b=0;b<a.length;b++)c.push(a.charCodeAt(b)&255);return c},bytesToString:function(a){for(var c=[],b=0;b<a.length;b++)c.push(String.fromCharCode(a[b]));return c.join("")}}},yf=pe;(function(){var a=xf,c=yf.utf8,b=yf.bin,f=function(d,g){var k=a.wordsToBytes,m=d;m.constructor==String?m=c.stringToBytes(m):"undefined"!==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(m)?m=Array.prototype.slice.call(m,0):Array.isArray(m)||(m=m.toString());d=a.bytesToWords(m);
  var t=8*m.length;m=[];var u=1732584193,w=-271733879,p=-1732584194,h=271733878,l=-1009589776;d[t>>5]|=128<<24-t%32;d[(t+64>>>9<<4)+15]=t;for(t=0;t<d.length;t+=16){for(var z=u,I=w,x=p,v=h,r=l,L=0;80>L;L++){if(16>L)m[L]=d[t+L];else{var U=m[L-3]^m[L-8]^m[L-14]^m[L-16];m[L]=U<<1|U>>>31}U=(u<<5|u>>>27)+l+(m[L]>>>0)+(20>L?(w&p|~w&h)+1518500249:40>L?(w^p^h)+1859775393:60>L?(w&p|w&h|p&h)-1894007588:(w^p^h)-899497514);l=h;h=p;p=w<<30|w>>>2;w=u;u=U}u+=z;w+=I;p+=x;h+=v;l+=r}k=k.call(a,[u,w,p,h,l]);return g&&
  g.asBytes?k:g&&g.asString?b.bytesToString(k):a.bytesToHex(k)};f._blocksize=16;f._digestsize=20;wf=f})();var Jg=wf,qe=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),kd=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),$g=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),zf=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vb=Array(576);Yb(vb);var zc=Array(60);Yb(zc);var Tb=Array(512);Yb(Tb);var Ac=Array(256);Yb(Ac);
  var re=Array(29);Yb(re);var ld=Array(30);Yb(ld);var Af,Bf,Cf,Bc=function(a,c){a.pending_buf[a.pending++]=c&255;a.pending_buf[a.pending++]=c>>>8&255},Oa=function(a,c,b){a.bi_valid>16-b?(a.bi_buf|=c<<a.bi_valid&65535,Bc(a,a.bi_buf),a.bi_buf=c>>16-a.bi_valid,a.bi_valid+=b-16):(a.bi_buf|=c<<a.bi_valid&65535,a.bi_valid+=b)},ob=function(a,c,b){Oa(a,b[2*c],b[2*c+1])},Df=function(a,c){var b=0;do b|=a&1,a>>>=1,b<<=1;while(0<--c);return b>>>1},Ef=function(a,c,b){var f=Array(16),d=0,g;for(g=1;15>=g;g++)d=d+
  b[g-1]<<1,f[g]=d;for(b=0;b<=c;b++)d=a[2*b+1],0!==d&&(a[2*b]=Df(f[d]++,d))},Ff=function(a){var c;for(c=0;286>c;c++)a.dyn_ltree[2*c]=0;for(c=0;30>c;c++)a.dyn_dtree[2*c]=0;for(c=0;19>c;c++)a.bl_tree[2*c]=0;a.dyn_ltree[512]=1;a.opt_len=a.static_len=0;a.sym_next=a.matches=0},Gf=function(a){8<a.bi_valid?Bc(a,a.bi_buf):0<a.bi_valid&&(a.pending_buf[a.pending++]=a.bi_buf);a.bi_buf=0;a.bi_valid=0},Hf=function(a,c,b,f){var d=2*c,g=2*b;return a[d]<a[g]||a[d]===a[g]&&f[c]<=f[b]},se=function(a,c,b){for(var f=a.heap[b],
  d=b<<1;d<=a.heap_len;){d<a.heap_len&&Hf(c,a.heap[d+1],a.heap[d],a.depth)&&d++;if(Hf(c,f,a.heap[d],a.depth))break;a.heap[b]=a.heap[d];b=d;d<<=1}a.heap[b]=f},If=function(a,c,b){var f=0;if(0!==a.sym_next){do{var d=a.pending_buf[a.sym_buf+f++]&255;d+=(a.pending_buf[a.sym_buf+f++]&255)<<8;var g=a.pending_buf[a.sym_buf+f++];if(0===d)ob(a,g,c);else{var k=Ac[g];ob(a,k+256+1,c);var m=qe[k];0!==m&&(g-=re[k],Oa(a,g,m));d--;k=256>d?Tb[d]:Tb[256+(d>>>7)];ob(a,k,b);m=kd[k];0!==m&&(d-=ld[k],Oa(a,d,m))}}while(f<
  a.sym_next)}ob(a,256,c)},te=function(a,c){var b=c.dyn_tree,f=c.stat_desc.static_tree,d=c.stat_desc.has_stree,g=c.stat_desc.elems,k,m=-1;a.heap_len=0;a.heap_max=573;for(k=0;k<g;k++)0!==b[2*k]?(a.heap[++a.heap_len]=m=k,a.depth[k]=0):b[2*k+1]=0;for(;2>a.heap_len;){var t=a.heap[++a.heap_len]=2>m?++m:0;b[2*t]=1;a.depth[t]=0;a.opt_len--;d&&(a.static_len-=f[2*t+1])}c.max_code=m;for(k=a.heap_len>>1;1<=k;k--)se(a,b,k);t=g;do k=a.heap[1],a.heap[1]=a.heap[a.heap_len--],se(a,b,1),f=a.heap[1],a.heap[--a.heap_max]=
  k,a.heap[--a.heap_max]=f,b[2*t]=b[2*k]+b[2*f],a.depth[t]=(a.depth[k]>=a.depth[f]?a.depth[k]:a.depth[f])+1,b[2*k+1]=b[2*f+1]=t,a.heap[1]=t++,se(a,b,1);while(2<=a.heap_len);a.heap[--a.heap_max]=a.heap[1];k=c.dyn_tree;t=c.max_code;f=c.stat_desc.static_tree;d=c.stat_desc.has_stree;g=c.stat_desc.extra_bits;var u=c.stat_desc.extra_base,w=c.stat_desc.max_length,p,h=0;for(p=0;15>=p;p++)a.bl_count[p]=0;k[2*a.heap[a.heap_max]+1]=0;for(c=a.heap_max+1;573>c;c++){var l=a.heap[c];p=k[2*k[2*l+1]+1]+1;p>w&&(p=w,
  h++);k[2*l+1]=p;if(!(l>t)){a.bl_count[p]++;var z=0;l>=u&&(z=g[l-u]);var I=k[2*l];a.opt_len+=I*(p+z);d&&(a.static_len+=I*(f[2*l+1]+z))}}if(0!==h){do{for(p=w-1;0===a.bl_count[p];)p--;a.bl_count[p]--;a.bl_count[p+1]+=2;a.bl_count[w]--;h-=2}while(0<h);for(p=w;0!==p;p--)for(l=a.bl_count[p];0!==l;)f=a.heap[--c],f>t||(k[2*f+1]!==p&&(a.opt_len+=(p-k[2*f+1])*k[2*f],k[2*f+1]=p),l--)}Ef(b,m,a.bl_count)},Jf=function(a,c,b){var f,d=-1,g=c[1],k=0,m=7,t=4;0===g&&(m=138,t=3);c[2*(b+1)+1]=65535;for(f=0;f<=b;f++){var u=
  g;g=c[2*(f+1)+1];++k<m&&u===g||(k<t?a.bl_tree[2*u]+=k:0!==u?(u!==d&&a.bl_tree[2*u]++,a.bl_tree[32]++):10>=k?a.bl_tree[34]++:a.bl_tree[36]++,k=0,d=u,0===g?(m=138,t=3):u===g?(m=6,t=3):(m=7,t=4))}},Kf=function(a,c,b){var f,d=-1,g=c[1],k=0,m=7,t=4;0===g&&(m=138,t=3);for(f=0;f<=b;f++){var u=g;g=c[2*(f+1)+1];if(!(++k<m&&u===g)){if(k<t){do ob(a,u,a.bl_tree);while(0!==--k)}else 0!==u?(u!==d&&(ob(a,u,a.bl_tree),k--),ob(a,16,a.bl_tree),Oa(a,k-3,2)):10>=k?(ob(a,17,a.bl_tree),Oa(a,k-3,3)):(ob(a,18,a.bl_tree),
  Oa(a,k-11,7));k=0;d=u;0===g?(m=138,t=3):u===g?(m=6,t=3):(m=7,t=4)}}},ah=function(a){var c=4093624447,b;for(b=0;31>=b;b++,c>>>=1)if(c&1&&0!==a.dyn_ltree[2*b])return 0;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return 1;for(b=32;256>b;b++)if(0!==a.dyn_ltree[2*b])return 1;return 0},Lf=!1,md=function(a,c,b,f){Oa(a,f?1:0,3);Gf(a);Bc(a,b);Bc(a,~b);b&&a.pending_buf.set(a.window.subarray(c,c+b),a.pending);a.pending+=b},Cc=function(a,c,b,f){var d=a&65535|0;a=a>>>16&65535|0;for(var g;0!==
  b;){g=2E3<b?2E3:b;b-=g;do d=d+c[f++]|0,a=a+d|0;while(--g);d%=65521;a%=65521}return d|a<<16|0},bh=new Uint32Array(function(){for(var a,c=[],b=0;256>b;b++){a=b;for(var f=0;8>f;f++)a=a&1?3988292384^a>>>1:a>>>1;c[b]=a}return c}()),za=function(a,c,b,f){b=f+b;for(a^=-1;f<b;f++)a=a>>>8^bh[(a^c[f])&255];return a^-1},Kb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},R={Z_NO_FLUSH:0,
  Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Fb=function(a,c,b){a.pending_buf[a.sym_buf+a.sym_next++]=c;a.pending_buf[a.sym_buf+a.sym_next++]=c>>8;a.pending_buf[a.sym_buf+
  a.sym_next++]=b;0===c?a.dyn_ltree[2*b]++:(a.matches++,c--,a.dyn_ltree[2*(Ac[b]+256+1)]++,a.dyn_dtree[2*(256>c?Tb[c]:Tb[256+(c>>>7)])]++);return a.sym_next===a.sym_end},Gb=R.Z_NO_FLUSH,ch=R.Z_PARTIAL_FLUSH,dh=R.Z_FULL_FLUSH,Xa=R.Z_FINISH,Mf=R.Z_BLOCK,Ea=R.Z_OK,Nf=R.Z_STREAM_END,pb=R.Z_STREAM_ERROR,eh=R.Z_DATA_ERROR,ue=R.Z_BUF_ERROR,fh=R.Z_DEFAULT_COMPRESSION,gh=R.Z_FILTERED,nd=R.Z_HUFFMAN_ONLY,hh=R.Z_RLE,ih=R.Z_FIXED,jh=R.Z_DEFAULT_STRATEGY,kh=R.Z_UNKNOWN,Lc=R.Z_DEFLATED,Ub=function(a,c){a.msg=Kb[c];
  return c},zb=function(a){for(var c=a.length;0<=--c;)a[c]=0},Hb=function(a,c,b){return(c<<a.hash_shift^b)&a.hash_mask},Ua=function(a){var c=a.state,b=c.pending;b>a.avail_out&&(b=a.avail_out);0!==b&&(a.output.set(c.pending_buf.subarray(c.pending_out,c.pending_out+b),a.next_out),a.next_out+=b,c.pending_out+=b,a.total_out+=b,a.avail_out-=b,c.pending-=b,0===c.pending&&(c.pending_out=0))},Va=function(a,c){var b=0<=a.block_start?a.block_start:-1,f=a.strstart-a.block_start,d=0;if(0<a.level){2===a.strm.data_type&&
  (a.strm.data_type=ah(a));te(a,a.l_desc);te(a,a.d_desc);Jf(a,a.dyn_ltree,a.l_desc.max_code);Jf(a,a.dyn_dtree,a.d_desc.max_code);te(a,a.bl_desc);for(d=18;3<=d&&0===a.bl_tree[2*zf[d]+1];d--);a.opt_len+=3*(d+1)+14;var g=a.opt_len+3+7>>>3;var k=a.static_len+3+7>>>3;k<=g&&(g=k)}else g=k=f+5;if(f+4<=g&&-1!==b)md(a,b,f,c);else if(4===a.strategy||k===g)Oa(a,2+(c?1:0),3),If(a,vb,zc);else{Oa(a,4+(c?1:0),3);b=a.l_desc.max_code+1;f=a.d_desc.max_code+1;d+=1;Oa(a,b-257,5);Oa(a,f-1,5);Oa(a,d-4,4);for(g=0;g<d;g++)Oa(a,
  a.bl_tree[2*zf[g]+1],3);Kf(a,a.dyn_ltree,b-1);Kf(a,a.dyn_dtree,f-1);If(a,a.dyn_ltree,a.dyn_dtree)}Ff(a);c&&Gf(a);a.block_start=a.strstart;Ua(a.strm)},ja=function(a,c){a.pending_buf[a.pending++]=c},Dc=function(a,c){a.pending_buf[a.pending++]=c>>>8&255;a.pending_buf[a.pending++]=c&255},ve=function(a,c,b,f){var d=a.avail_in;d>f&&(d=f);if(0===d)return 0;a.avail_in-=d;c.set(a.input.subarray(a.next_in,a.next_in+d),b);1===a.state.wrap?a.adler=Cc(a.adler,c,d,b):2===a.state.wrap&&(a.adler=za(a.adler,c,d,b));
  a.next_in+=d;a.total_in+=d;return d},Of=function(a,c){var b=a.max_chain_length,f=a.strstart,d=a.prev_length,g=a.nice_match,k=a.strstart>a.w_size-262?a.strstart-(a.w_size-262):0,m=a.window,t=a.w_mask,u=a.prev,w=a.strstart+258,p=m[f+d-1],h=m[f+d];a.prev_length>=a.good_match&&(b>>=2);g>a.lookahead&&(g=a.lookahead);do{var l=c;if(m[l+d]===h&&m[l+d-1]===p&&m[l]===m[f]&&m[++l]===m[f+1]){f+=2;for(l++;m[++f]===m[++l]&&m[++f]===m[++l]&&m[++f]===m[++l]&&m[++f]===m[++l]&&m[++f]===m[++l]&&m[++f]===m[++l]&&m[++f]===
  m[++l]&&m[++f]===m[++l]&&f<w;);l=258-(w-f);f=w-258;if(l>d){a.match_start=c;d=l;if(l>=g)break;p=m[f+d-1];h=m[f+d]}}}while((c=u[c&t])>k&&0!==--b);return d<=a.lookahead?d:a.lookahead},gc=function(a){var c=a.w_size;do{var b=a.window_size-a.lookahead-a.strstart;if(a.strstart>=c+(c-262)){a.window.set(a.window.subarray(c,c+c-b),0);a.match_start-=c;a.strstart-=c;a.block_start-=c;a.insert>a.strstart&&(a.insert=a.strstart);var f,d=a,g=d.w_size;var k=f=d.hash_size;do{var m=d.head[--k];d.head[k]=m>=g?m-g:0}while(--f);
  k=f=g;do m=d.prev[--k],d.prev[k]=m>=g?m-g:0;while(--f);b+=c}if(0===a.strm.avail_in)break;b=ve(a.strm,a.window,a.strstart+a.lookahead,b);a.lookahead+=b;if(3<=a.lookahead+a.insert)for(b=a.strstart-a.insert,a.ins_h=a.window[b],a.ins_h=Hb(a,a.ins_h,a.window[b+1]);a.insert&&!(a.ins_h=Hb(a,a.ins_h,a.window[b+3-1]),a.prev[b&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=b,b++,a.insert--,3>a.lookahead+a.insert););}while(262>a.lookahead&&0!==a.strm.avail_in)},Pf=function(a,c){var b=a.pending_buf_size-5>a.w_size?
  a.w_size:a.pending_buf_size-5,f=0,d=a.strm.avail_in;do{var g=65535;var k=a.bi_valid+42>>3;if(a.strm.avail_out<k)break;k=a.strm.avail_out-k;var m=a.strstart-a.block_start;g>m+a.strm.avail_in&&(g=m+a.strm.avail_in);g>k&&(g=k);if(g<b&&(0===g&&c!==Xa||c===Gb||g!==m+a.strm.avail_in))break;f=c===Xa&&g===m+a.strm.avail_in?1:0;md(a,0,0,f);a.pending_buf[a.pending-4]=g;a.pending_buf[a.pending-3]=g>>8;a.pending_buf[a.pending-2]=~g;a.pending_buf[a.pending-1]=~g>>8;Ua(a.strm);m&&(m>g&&(m=g),a.strm.output.set(a.window.subarray(a.block_start,
  a.block_start+m),a.strm.next_out),a.strm.next_out+=m,a.strm.avail_out-=m,a.strm.total_out+=m,a.block_start+=m,g-=m);g&&(ve(a.strm,a.strm.output,a.strm.next_out,g),a.strm.next_out+=g,a.strm.avail_out-=g,a.strm.total_out+=g)}while(0===f);if(d-=a.strm.avail_in)d>=a.w_size?(a.matches=2,a.window.set(a.strm.input.subarray(a.strm.next_in-a.w_size,a.strm.next_in),0),a.strstart=a.w_size,a.insert=a.strstart):(a.window_size-a.strstart<=d&&(a.strstart-=a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+
  a.strstart),0),2>a.matches&&a.matches++,a.insert>a.strstart&&(a.insert=a.strstart)),a.window.set(a.strm.input.subarray(a.strm.next_in-d,a.strm.next_in),a.strstart),a.strstart+=d,a.insert+=d>a.w_size-a.insert?a.w_size-a.insert:d),a.block_start=a.strstart;a.high_water<a.strstart&&(a.high_water=a.strstart);if(f)return 4;if(c!==Gb&&c!==Xa&&0===a.strm.avail_in&&a.strstart===a.block_start)return 2;k=a.window_size-a.strstart;a.strm.avail_in>k&&a.block_start>=a.w_size&&(a.block_start-=a.w_size,a.strstart-=
  a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+a.strstart),0),2>a.matches&&a.matches++,k+=a.w_size,a.insert>a.strstart&&(a.insert=a.strstart));k>a.strm.avail_in&&(k=a.strm.avail_in);k&&(ve(a.strm,a.window,a.strstart,k),a.strstart+=k,a.insert+=k>a.w_size-a.insert?a.w_size-a.insert:k);a.high_water<a.strstart&&(a.high_water=a.strstart);k=a.bi_valid+42>>3;k=65535<a.pending_buf_size-k?65535:a.pending_buf_size-k;b=k>a.w_size?a.w_size:k;m=a.strstart-a.block_start;if(m>=b||(m||c===Xa)&&c!==Gb&&
  0===a.strm.avail_in&&m<=k)g=m>k?k:m,f=c===Xa&&0===a.strm.avail_in&&g===m?1:0,md(a,a.block_start,g,f),a.block_start+=g,Ua(a.strm);return f?3:1},we=function(a,c){for(var b;;){if(262>a.lookahead){gc(a);if(262>a.lookahead&&c===Gb)return 1;if(0===a.lookahead)break}b=0;3<=a.lookahead&&(a.ins_h=Hb(a,a.ins_h,a.window[a.strstart+3-1]),b=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);0!==b&&a.strstart-b<=a.w_size-262&&(a.match_length=Of(a,b));if(3<=a.match_length)if(b=Fb(a,a.strstart-
  a.match_start,a.match_length-3),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&3<=a.lookahead){a.match_length--;do a.strstart++,a.ins_h=Hb(a,a.ins_h,a.window[a.strstart+3-1]),a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!==--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=Hb(a,a.ins_h,a.window[a.strstart+1]);else b=Fb(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(b&&(Va(a,!1),
  0===a.strm.avail_out))return 1}a.insert=2>a.strstart?a.strstart:2;return c===Xa?(Va(a,!0),0===a.strm.avail_out?3:4):a.sym_next&&(Va(a,!1),0===a.strm.avail_out)?1:2},hc=function(a,c){for(var b,f;;){if(262>a.lookahead){gc(a);if(262>a.lookahead&&c===Gb)return 1;if(0===a.lookahead)break}b=0;3<=a.lookahead&&(a.ins_h=Hb(a,a.ins_h,a.window[a.strstart+3-1]),b=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);a.prev_length=a.match_length;a.prev_match=a.match_start;a.match_length=2;0!==
  b&&a.prev_length<a.max_lazy_match&&a.strstart-b<=a.w_size-262&&(a.match_length=Of(a,b),5>=a.match_length&&(a.strategy===gh||3===a.match_length&&4096<a.strstart-a.match_start)&&(a.match_length=2));if(3<=a.prev_length&&a.match_length<=a.prev_length){f=a.strstart+a.lookahead-3;b=Fb(a,a.strstart-1-a.prev_match,a.prev_length-3);a.lookahead-=a.prev_length-1;a.prev_length-=2;do++a.strstart<=f&&(a.ins_h=Hb(a,a.ins_h,a.window[a.strstart+3-1]),a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);
  while(0!==--a.prev_length);a.match_available=0;a.match_length=2;a.strstart++;if(b&&(Va(a,!1),0===a.strm.avail_out))return 1}else if(a.match_available){if((b=Fb(a,0,a.window[a.strstart-1]))&&Va(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return 1}else a.match_available=1,a.strstart++,a.lookahead--}a.match_available&&(Fb(a,0,a.window[a.strstart-1]),a.match_available=0);a.insert=2>a.strstart?a.strstart:2;return c===Xa?(Va(a,!0),0===a.strm.avail_out?3:4):a.sym_next&&(Va(a,!1),0===a.strm.avail_out)?
  1:2},lh=function(a,c){for(var b,f,d,g=a.window;;){if(258>=a.lookahead){gc(a);if(258>=a.lookahead&&c===Gb)return 1;if(0===a.lookahead)break}a.match_length=0;if(3<=a.lookahead&&0<a.strstart&&(f=a.strstart-1,b=g[f],b===g[++f]&&b===g[++f]&&b===g[++f])){for(d=a.strstart+258;b===g[++f]&&b===g[++f]&&b===g[++f]&&b===g[++f]&&b===g[++f]&&b===g[++f]&&b===g[++f]&&b===g[++f]&&f<d;);a.match_length=258-(d-f);a.match_length>a.lookahead&&(a.match_length=a.lookahead)}3<=a.match_length?(b=Fb(a,1,a.match_length-3),a.lookahead-=
  a.match_length,a.strstart+=a.match_length,a.match_length=0):(b=Fb(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++);if(b&&(Va(a,!1),0===a.strm.avail_out))return 1}a.insert=0;return c===Xa?(Va(a,!0),0===a.strm.avail_out?3:4):a.sym_next&&(Va(a,!1),0===a.strm.avail_out)?1:2},mh=function(a,c){for(var b;;){if(0===a.lookahead&&(gc(a),0===a.lookahead)){if(c===Gb)return 1;break}a.match_length=0;b=Fb(a,0,a.window[a.strstart]);a.lookahead--;a.strstart++;if(b&&(Va(a,!1),0===a.strm.avail_out))return 1}a.insert=
  0;return c===Xa?(Va(a,!0),0===a.strm.avail_out?3:4):a.sym_next&&(Va(a,!1),0===a.strm.avail_out)?1:2},Ec=[new fb(0,0,0,0,Pf),new fb(4,4,8,4,we),new fb(4,5,16,8,we),new fb(4,6,32,32,we),new fb(4,4,16,16,hc),new fb(8,16,32,32,hc),new fb(8,16,128,128,hc),new fb(8,32,128,256,hc),new fb(32,128,258,1024,hc),new fb(32,258,258,4096,hc)],Fc=function(a){if(!a)return 1;var c=a.state;return!c||c.strm!==a||42!==c.status&&57!==c.status&&69!==c.status&&73!==c.status&&91!==c.status&&103!==c.status&&113!==c.status&&
  666!==c.status?1:0},Qf=function(a){if(Fc(a))return Ub(a,pb);a.total_in=a.total_out=0;a.data_type=kh;var c=a.state;c.pending=0;c.pending_out=0;0>c.wrap&&(c.wrap=-c.wrap);c.status=2===c.wrap?57:c.wrap?42:113;a.adler=2===c.wrap?0:1;c.last_flush=-2;if(!Lf){var b,f,d;a=Array(16);for(d=f=0;28>d;d++)for(re[d]=f,b=0;b<1<<qe[d];b++)Ac[f++]=d;Ac[f-1]=d;for(d=f=0;16>d;d++)for(ld[d]=f,b=0;b<1<<kd[d];b++)Tb[f++]=d;for(f>>=7;30>d;d++)for(ld[d]=f<<7,b=0;b<1<<kd[d]-7;b++)Tb[256+f++]=d;for(b=0;15>=b;b++)a[b]=0;for(b=
  0;143>=b;)vb[2*b+1]=8,b++,a[8]++;for(;255>=b;)vb[2*b+1]=9,b++,a[9]++;for(;279>=b;)vb[2*b+1]=7,b++,a[7]++;for(;287>=b;)vb[2*b+1]=8,b++,a[8]++;Ef(vb,287,a);for(b=0;30>b;b++)zc[2*b+1]=5,zc[2*b]=Df(b,5);Af=new sd(vb,qe,257,286,15);Bf=new sd(zc,kd,0,30,15);Cf=new sd([],$g,0,19,7);Lf=!0}c.l_desc=new td(c.dyn_ltree,Af);c.d_desc=new td(c.dyn_dtree,Bf);c.bl_desc=new td(c.bl_tree,Cf);c.bi_buf=0;c.bi_valid=0;Ff(c);return Ea},Rf=function(a){var c=Qf(a);c===Ea&&(a=a.state,a.window_size=2*a.w_size,zb(a.head),a.max_lazy_match=
  Ec[a.level].max_lazy,a.good_match=Ec[a.level].good_length,a.nice_match=Ec[a.level].nice_length,a.max_chain_length=Ec[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=2,a.match_available=0,a.ins_h=0);return c},Sf=function(a,c,b,f,d,g){if(!a)return pb;var k=1;c===fh&&(c=6);0>f?(k=0,f=-f):15<f&&(k=2,f-=16);if(1>d||9<d||b!==Lc||8>f||15<f||0>c||9<c||0>g||g>ih||8===f&&1!==k)return Ub(a,pb);8===f&&(f=9);var m=new vg;a.state=m;m.strm=a;m.status=42;m.wrap=
  k;m.gzhead=null;m.w_bits=f;m.w_size=1<<m.w_bits;m.w_mask=m.w_size-1;m.hash_bits=d+7;m.hash_size=1<<m.hash_bits;m.hash_mask=m.hash_size-1;m.hash_shift=~~((m.hash_bits+3-1)/3);m.window=new Uint8Array(2*m.w_size);m.head=new Uint16Array(m.hash_size);m.prev=new Uint16Array(m.w_size);m.lit_bufsize=1<<d+6;m.pending_buf_size=4*m.lit_bufsize;m.pending_buf=new Uint8Array(m.pending_buf_size);m.sym_buf=m.lit_bufsize;m.sym_end=3*(m.lit_bufsize-1);m.level=c;m.strategy=g;m.method=b;return Rf(a)},kc={deflateInit:function(a,
  c){return Sf(a,c,Lc,15,8,jh)},deflateInit2:Sf,deflateReset:Rf,deflateResetKeep:Qf,deflateSetHeader:function(a,c){if(Fc(a)||2!==a.state.wrap)return pb;a.state.gzhead=c;return Ea},deflate:function(a,c){if(Fc(a)||c>Mf||0>c)return a?Ub(a,pb):pb;var b=a.state;if(!a.output||0!==a.avail_in&&!a.input||666===b.status&&c!==Xa)return Ub(a,0===a.avail_out?ue:pb);var f=b.last_flush;b.last_flush=c;if(0!==b.pending){if(Ua(a),0===a.avail_out)return b.last_flush=-1,Ea}else if(0===a.avail_in&&2*c-(4<c?9:0)<=2*f-(4<
  f?9:0)&&c!==Xa)return Ub(a,ue);if(666===b.status&&0!==a.avail_in)return Ub(a,ue);42===b.status&&0===b.wrap&&(b.status=113);if(42===b.status&&(f=Lc+(b.w_bits-8<<4)<<8,f|=(b.strategy>=nd||2>b.level?0:6>b.level?1:6===b.level?2:3)<<6,0!==b.strstart&&(f|=32),Dc(b,f+(31-f%31)),0!==b.strstart&&(Dc(b,a.adler>>>16),Dc(b,a.adler&65535)),a.adler=1,b.status=113,Ua(a),0!==b.pending))return b.last_flush=-1,Ea;if(57===b.status)if(a.adler=0,ja(b,31),ja(b,139),ja(b,8),b.gzhead)ja(b,(b.gzhead.text?1:0)+(b.gzhead.hcrc?
  2:0)+(b.gzhead.extra?4:0)+(b.gzhead.name?8:0)+(b.gzhead.comment?16:0)),ja(b,b.gzhead.time&255),ja(b,b.gzhead.time>>8&255),ja(b,b.gzhead.time>>16&255),ja(b,b.gzhead.time>>24&255),ja(b,9===b.level?2:b.strategy>=nd||2>b.level?4:0),ja(b,b.gzhead.os&255),b.gzhead.extra&&b.gzhead.extra.length&&(ja(b,b.gzhead.extra.length&255),ja(b,b.gzhead.extra.length>>8&255)),b.gzhead.hcrc&&(a.adler=za(a.adler,b.pending_buf,b.pending,0)),b.gzindex=0,b.status=69;else if(ja(b,0),ja(b,0),ja(b,0),ja(b,0),ja(b,0),ja(b,9===
  b.level?2:b.strategy>=nd||2>b.level?4:0),ja(b,3),b.status=113,Ua(a),0!==b.pending)return b.last_flush=-1,Ea;if(69===b.status){if(b.gzhead.extra){f=b.pending;for(var d=(b.gzhead.extra.length&65535)-b.gzindex;b.pending+d>b.pending_buf_size;){var g=b.pending_buf_size-b.pending;b.pending_buf.set(b.gzhead.extra.subarray(b.gzindex,b.gzindex+g),b.pending);b.pending=b.pending_buf_size;b.gzhead.hcrc&&b.pending>f&&(a.adler=za(a.adler,b.pending_buf,b.pending-f,f));b.gzindex+=g;Ua(a);if(0!==b.pending)return b.last_flush=
  -1,Ea;f=0;d-=g}g=new Uint8Array(b.gzhead.extra);b.pending_buf.set(g.subarray(b.gzindex,b.gzindex+d),b.pending);b.pending+=d;b.gzhead.hcrc&&b.pending>f&&(a.adler=za(a.adler,b.pending_buf,b.pending-f,f));b.gzindex=0}b.status=73}if(73===b.status){if(b.gzhead.name){f=b.pending;do{if(b.pending===b.pending_buf_size){b.gzhead.hcrc&&b.pending>f&&(a.adler=za(a.adler,b.pending_buf,b.pending-f,f));Ua(a);if(0!==b.pending)return b.last_flush=-1,Ea;f=0}d=b.gzindex<b.gzhead.name.length?b.gzhead.name.charCodeAt(b.gzindex++)&
  255:0;ja(b,d)}while(0!==d);b.gzhead.hcrc&&b.pending>f&&(a.adler=za(a.adler,b.pending_buf,b.pending-f,f));b.gzindex=0}b.status=91}if(91===b.status){if(b.gzhead.comment){f=b.pending;do{if(b.pending===b.pending_buf_size){b.gzhead.hcrc&&b.pending>f&&(a.adler=za(a.adler,b.pending_buf,b.pending-f,f));Ua(a);if(0!==b.pending)return b.last_flush=-1,Ea;f=0}d=b.gzindex<b.gzhead.comment.length?b.gzhead.comment.charCodeAt(b.gzindex++)&255:0;ja(b,d)}while(0!==d);b.gzhead.hcrc&&b.pending>f&&(a.adler=za(a.adler,
  b.pending_buf,b.pending-f,f))}b.status=103}if(103===b.status){if(b.gzhead.hcrc){if(b.pending+2>b.pending_buf_size&&(Ua(a),0!==b.pending))return b.last_flush=-1,Ea;ja(b,a.adler&255);ja(b,a.adler>>8&255);a.adler=0}b.status=113;Ua(a);if(0!==b.pending)return b.last_flush=-1,Ea}if(0!==a.avail_in||0!==b.lookahead||c!==Gb&&666!==b.status){f=0===b.level?Pf(b,c):b.strategy===nd?mh(b,c):b.strategy===hh?lh(b,c):Ec[b.level].func(b,c);if(3===f||4===f)b.status=666;if(1===f||3===f)return 0===a.avail_out&&(b.last_flush=
  -1),Ea;if(2===f&&(c===ch?(Oa(b,2,3),ob(b,256,vb),16===b.bi_valid?(Bc(b,b.bi_buf),b.bi_buf=0,b.bi_valid=0):8<=b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf&255,b.bi_buf>>=8,b.bi_valid-=8)):c!==Mf&&(md(b,0,0,!1),c===dh&&(zb(b.head),0===b.lookahead&&(b.strstart=0,b.block_start=0,b.insert=0))),Ua(a),0===a.avail_out))return b.last_flush=-1,Ea}if(c!==Xa)return Ea;if(0>=b.wrap)return Nf;2===b.wrap?(ja(b,a.adler&255),ja(b,a.adler>>8&255),ja(b,a.adler>>16&255),ja(b,a.adler>>24&255),ja(b,a.total_in&255),
  ja(b,a.total_in>>8&255),ja(b,a.total_in>>16&255),ja(b,a.total_in>>24&255)):(Dc(b,a.adler>>>16),Dc(b,a.adler&65535));Ua(a);0<b.wrap&&(b.wrap=-b.wrap);return 0!==b.pending?Ea:Nf},deflateEnd:function(a){if(Fc(a))return pb;var c=a.state.status;a.state=null;return 113===c?Ub(a,eh):Ea},deflateSetDictionary:function(a,c){var b=c.length;if(Fc(a))return pb;var f=a.state,d=f.wrap;if(2===d||1===d&&42!==f.status||f.lookahead)return pb;1===d&&(a.adler=Cc(a.adler,c,b,0));f.wrap=0;if(b>=f.w_size){0===d&&(zb(f.head),
  f.strstart=0,f.block_start=0,f.insert=0);var g=new Uint8Array(f.w_size);g.set(c.subarray(b-f.w_size,b),0);c=g;b=f.w_size}g=a.avail_in;var k=a.next_in,m=a.input;a.avail_in=b;a.next_in=0;a.input=c;for(gc(f);3<=f.lookahead;){c=f.strstart;b=f.lookahead-2;do f.ins_h=Hb(f,f.ins_h,f.window[c+3-1]),f.prev[c&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=c,c++;while(--b);f.strstart=c;f.lookahead=2;gc(f)}f.strstart+=f.lookahead;f.block_start=f.strstart;f.insert=f.lookahead;f.lookahead=0;f.match_length=f.prev_length=
  2;f.match_available=0;a.next_in=k;a.input=m;a.avail_in=g;f.wrap=d;return Ea},deflateInfo:"pako deflate (from Nodeca project)"},Mc={assign:function(a){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var b=c.shift();if(b){if("object"!==qa(b))throw new TypeError(b+"must be non-object");for(var f in b)Object.prototype.hasOwnProperty.call(b,f)&&(a[f]=b[f])}}return a},flattenChunks:function(a){for(var c=0,b=0,f=a.length;b<f;b++)c+=a[b].length;c=new Uint8Array(c);f=b=0;for(var d=a.length;b<
  d;b++){var g=a[b];c.set(g,f);f+=g.length}return c}},Tf=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){Tf=!1}for(var Gc=new Uint8Array(256),Ib=0;256>Ib;Ib++)Gc[Ib]=252<=Ib?6:248<=Ib?5:240<=Ib?4:224<=Ib?3:192<=Ib?2:1;Gc[254]=Gc[254]=1;var lc={string2buf:function(a){if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(a);var c,b,f=a.length,d=0;for(c=0;c<f;c++){var g=a.charCodeAt(c);if(55296===(g&64512)&&c+1<f){var k=a.charCodeAt(c+1);56320===
  (k&64512)&&(g=65536+(g-55296<<10)+(k-56320),c++)}d+=128>g?1:2048>g?2:65536>g?3:4}var m=new Uint8Array(d);for(c=b=0;b<d;c++)g=a.charCodeAt(c),55296===(g&64512)&&c+1<f&&(k=a.charCodeAt(c+1),56320===(k&64512)&&(g=65536+(g-55296<<10)+(k-56320),c++)),128>g?m[b++]=g:(2048>g?m[b++]=192|g>>>6:(65536>g?m[b++]=224|g>>>12:(m[b++]=240|g>>>18,m[b++]=128|g>>>12&63),m[b++]=128|g>>>6&63),m[b++]=128|g&63);return m},buf2string:function(a,c){var b=c||a.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(a.subarray(0,
  c));var f,d;c=Array(2*b);for(f=d=0;f<b;){var g=a[f++];if(128>g)c[d++]=g;else{var k=Gc[g];if(4<k)c[d++]=65533,f+=k-1;else{for(g&=2===k?31:3===k?15:7;1<k&&f<b;)g=g<<6|a[f++]&63,k--;1<k?c[d++]=65533:65536>g?c[d++]=g:(g-=65536,c[d++]=55296|g>>10&1023,c[d++]=56320|g&1023)}}}a=d;if(65534>a&&c.subarray&&Tf)c=String.fromCharCode.apply(null,c.length===a?c:c.subarray(0,a));else{b="";for(f=0;f<a;f++)b+=String.fromCharCode(c[f]);c=b}return c},utf8border:function(a,c){c=c||a.length;c>a.length&&(c=a.length);for(var b=
  c-1;0<=b&&128===(a[b]&192);)b--;return 0>b||0===b?c:b+Gc[a[b]]>c?b:c}},Le=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0},Me=Object.prototype.toString,nh=R.Z_NO_FLUSH,oh=R.Z_SYNC_FLUSH,ph=R.Z_FULL_FLUSH,qh=R.Z_FINISH,Nc=R.Z_OK,rh=R.Z_STREAM_END,wg=R.Z_DEFAULT_COMPRESSION,yg=R.Z_DEFAULT_STRATEGY,xg=R.Z_DEFLATED;jc.prototype.push=function(a,c){var b=this.strm,
  f=this.options.chunkSize;if(this.ended)return!1;c=c===~~c?c:!0===c?qh:nh;"string"===typeof a?b.input=lc.string2buf(a):"[object ArrayBuffer]"===Me.call(a)?b.input=new Uint8Array(a):b.input=a;b.next_in=0;for(b.avail_in=b.input.length;;)if(0===b.avail_out&&(b.output=new Uint8Array(f),b.next_out=0,b.avail_out=f),(c===oh||c===ph)&&6>=b.avail_out)this.onData(b.output.subarray(0,b.next_out)),b.avail_out=0;else{a=kc.deflate(b,c);if(a===rh){if(0<b.next_out)this.onData(b.output.subarray(0,b.next_out));a=kc.deflateEnd(this.strm);
  this.onEnd(a);this.ended=!0;return a===Nc}if(0===b.avail_out)this.onData(b.output);else if(0<c&&0<b.next_out)this.onData(b.output.subarray(0,b.next_out)),b.avail_out=0;else if(0===b.avail_in)break}return!0};jc.prototype.onData=function(a){this.chunks.push(a)};jc.prototype.onEnd=function(a){a===Nc&&(this.result=Mc.flattenChunks(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};var sh=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,
  0,0]),th=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),uh=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),vh=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Hc=function(a,c,b,f,d,g,k,m){var t=m.bits,u,w,p,h,l,z,I=new Uint16Array(16);var x=new Uint16Array(16);var v;for(u=0;15>=u;u++)I[u]=
  0;for(w=0;w<f;w++)I[c[b+w]]++;var r=t;for(p=15;1<=p&&0===I[p];p--);r>p&&(r=p);if(0===p)return d[g++]=20971520,d[g++]=20971520,m.bits=1,0;for(t=1;t<p&&0===I[t];t++);r<t&&(r=t);for(u=h=1;15>=u;u++)if(h<<=1,h-=I[u],0>h)return-1;if(0<h&&(0===a||1!==p))return-1;x[1]=0;for(u=1;15>u;u++)x[u+1]=x[u]+I[u];for(w=0;w<f;w++)0!==c[b+w]&&(k[x[c[b+w]]++]=w);if(0===a){var L=v=k;var U=20}else 1===a?(L=sh,v=th,U=257):(L=uh,v=vh,U=0);w=l=0;u=t;var ba=g;f=r;x=0;var ha=-1;var B=1<<r;var Fa=B-1;if(1===a&&852<B||2===a&&
  592<B)return 1;for(;;){var ia=u-x;if(k[w]+1<U){var ta=0;var ua=k[w]}else k[w]>=U?(ta=v[k[w]-U],ua=L[k[w]-U]):(ta=96,ua=0);h=1<<u-x;t=z=1<<f;do z-=h,d[ba+(l>>x)+z]=ia<<24|ta<<16|ua|0;while(0!==z);for(h=1<<u-1;l&h;)h>>=1;0!==h?(l&=h-1,l+=h):l=0;w++;if(0===--I[u]){if(u===p)break;u=c[b+k[w]]}if(u>r&&(l&Fa)!==ha){0===x&&(x=r);ba+=t;f=u-x;for(h=1<<f;f+x<p;){h-=I[f+x];if(0>=h)break;f++;h<<=1}B+=1<<f;if(1===a&&852<B||2===a&&592<B)return 1;ha=l&Fa;d[ha]=r<<24|f<<16|ba-g|0}}0!==l&&(d[ba+l]=u-x<<24|4194304);
  m.bits=r;return 0},Uf=R.Z_FINISH,wh=R.Z_BLOCK,od=R.Z_TREES,Vb=R.Z_OK,xh=R.Z_STREAM_END,yh=R.Z_NEED_DICT,Ya=R.Z_STREAM_ERROR,Vf=R.Z_DATA_ERROR,Wf=R.Z_MEM_ERROR,zh=R.Z_BUF_ERROR,Xf=R.Z_DEFLATED,Yf=function(a){return(a>>>24&255)+(a>>>8&65280)+((a&65280)<<8)+((a&255)<<24)},Wb=function(a){if(!a)return 1;var c=a.state;return!c||c.strm!==a||16180>c.mode||16211<c.mode?1:0},Zf=function(a){if(Wb(a))return Ya;var c=a.state;a.total_in=a.total_out=c.total=0;a.msg="";c.wrap&&(a.adler=c.wrap&1);c.mode=16180;c.last=
  0;c.havedict=0;c.flags=-1;c.dmax=32768;c.head=null;c.hold=0;c.bits=0;c.lencode=c.lendyn=new Int32Array(852);c.distcode=c.distdyn=new Int32Array(592);c.sane=1;c.back=-1;return Vb},$f=function(a){if(Wb(a))return Ya;var c=a.state;c.wsize=0;c.whave=0;c.wnext=0;return Zf(a)},ag=function(a,c){if(Wb(a))return Ya;var b=a.state;if(0>c){var f=0;c=-c}else f=(c>>4)+5,48>c&&(c&=15);if(c&&(8>c||15<c))return Ya;null!==b.window&&b.wbits!==c&&(b.window=null);b.wrap=f;b.wbits=c;return $f(a)},bg=function(a,c){if(!a)return Ya;
  var b=new zg;a.state=b;b.strm=a;b.window=null;b.mode=16180;c=ag(a,c);c!==Vb&&(a.state=null);return c},cg=!0,xe,ye,dg=function(a,c,b,f){var d=a.state;null===d.window&&(d.wsize=1<<d.wbits,d.wnext=0,d.whave=0,d.window=new Uint8Array(d.wsize));f>=d.wsize?(d.window.set(c.subarray(b-d.wsize,b),0),d.wnext=0,d.whave=d.wsize):(a=d.wsize-d.wnext,a>f&&(a=f),d.window.set(c.subarray(b-f,b-f+a),d.wnext),(f-=a)?(d.window.set(c.subarray(b-f,b),0),d.wnext=f,d.whave=d.wsize):(d.wnext+=a,d.wnext===d.wsize&&(d.wnext=
  0),d.whave<d.wsize&&(d.whave+=a)));return 0},qb={inflateReset:$f,inflateReset2:ag,inflateResetKeep:Zf,inflateInit:function(a){return bg(a,15)},inflateInit2:bg,inflate:function(a,c){var b=new Uint8Array(4),f=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Wb(a)||!a.output||!a.input&&0!==a.avail_in)return Ya;var d=a.state;16191===d.mode&&(d.mode=16192);var g=a.next_out;var k=a.output;var m=a.avail_out;var t=a.next_in;var u=a.input;var w=a.avail_in;var p=d.hold;var h=d.bits;var l=
  w;var z=m;var I=Vb;a:for(;;)switch(d.mode){case 16180:if(0===d.wrap){d.mode=16192;break}for(;16>h;){if(0===w)break a;w--;p+=u[t++]<<h;h+=8}if(d.wrap&2&&35615===p){0===d.wbits&&(d.wbits=15);d.check=0;b[0]=p&255;b[1]=p>>>8&255;d.check=za(d.check,b,2,0);h=p=0;d.mode=16181;break}d.head&&(d.head.done=!1);if(!(d.wrap&1)||(((p&255)<<8)+(p>>8))%31){a.msg="incorrect header check";d.mode=16209;break}if((p&15)!==Xf){a.msg="unknown compression method";d.mode=16209;break}p>>>=4;h-=4;var x=(p&15)+8;0===d.wbits&&
  (d.wbits=x);if(15<x||x>d.wbits){a.msg="invalid window size";d.mode=16209;break}d.dmax=1<<d.wbits;d.flags=0;a.adler=d.check=1;d.mode=p&512?16189:16191;h=p=0;break;case 16181:for(;16>h;){if(0===w)break a;w--;p+=u[t++]<<h;h+=8}d.flags=p;if((d.flags&255)!==Xf){a.msg="unknown compression method";d.mode=16209;break}if(d.flags&57344){a.msg="unknown header flags set";d.mode=16209;break}d.head&&(d.head.text=p>>8&1);d.flags&512&&d.wrap&4&&(b[0]=p&255,b[1]=p>>>8&255,d.check=za(d.check,b,2,0));h=p=0;d.mode=16182;
  case 16182:for(;32>h;){if(0===w)break a;w--;p+=u[t++]<<h;h+=8}d.head&&(d.head.time=p);d.flags&512&&d.wrap&4&&(b[0]=p&255,b[1]=p>>>8&255,b[2]=p>>>16&255,b[3]=p>>>24&255,d.check=za(d.check,b,4,0));h=p=0;d.mode=16183;case 16183:for(;16>h;){if(0===w)break a;w--;p+=u[t++]<<h;h+=8}d.head&&(d.head.xflags=p&255,d.head.os=p>>8);d.flags&512&&d.wrap&4&&(b[0]=p&255,b[1]=p>>>8&255,d.check=za(d.check,b,2,0));h=p=0;d.mode=16184;case 16184:if(d.flags&1024){for(;16>h;){if(0===w)break a;w--;p+=u[t++]<<h;h+=8}d.length=
  p;d.head&&(d.head.extra_len=p);d.flags&512&&d.wrap&4&&(b[0]=p&255,b[1]=p>>>8&255,d.check=za(d.check,b,2,0));h=p=0}else d.head&&(d.head.extra=null);d.mode=16185;case 16185:if(d.flags&1024){var v=d.length;v>w&&(v=w);v&&(d.head&&(x=d.head.extra_len-d.length,d.head.extra||(d.head.extra=new Uint8Array(d.head.extra_len)),d.head.extra.set(u.subarray(t,t+v),x)),d.flags&512&&d.wrap&4&&(d.check=za(d.check,u,v,t)),w-=v,t+=v,d.length-=v);if(d.length)break a}d.length=0;d.mode=16186;case 16186:if(d.flags&2048){if(0===
  w)break a;v=0;do x=u[t+v++],d.head&&x&&65536>d.length&&(d.head.name+=String.fromCharCode(x));while(x&&v<w);d.flags&512&&d.wrap&4&&(d.check=za(d.check,u,v,t));w-=v;t+=v;if(x)break a}else d.head&&(d.head.name=null);d.length=0;d.mode=16187;case 16187:if(d.flags&4096){if(0===w)break a;v=0;do x=u[t+v++],d.head&&x&&65536>d.length&&(d.head.comment+=String.fromCharCode(x));while(x&&v<w);d.flags&512&&d.wrap&4&&(d.check=za(d.check,u,v,t));w-=v;t+=v;if(x)break a}else d.head&&(d.head.comment=null);d.mode=16188;
  case 16188:if(d.flags&512){for(;16>h;){if(0===w)break a;w--;p+=u[t++]<<h;h+=8}if(d.wrap&4&&p!==(d.check&65535)){a.msg="header crc mismatch";d.mode=16209;break}h=p=0}d.head&&(d.head.hcrc=d.flags>>9&1,d.head.done=!0);a.adler=d.check=0;d.mode=16191;break;case 16189:for(;32>h;){if(0===w)break a;w--;p+=u[t++]<<h;h+=8}a.adler=d.check=Yf(p);h=p=0;d.mode=16190;case 16190:if(0===d.havedict)return a.next_out=g,a.avail_out=m,a.next_in=t,a.avail_in=w,d.hold=p,d.bits=h,yh;a.adler=d.check=1;d.mode=16191;case 16191:if(c===
  wh||c===od)break a;case 16192:if(d.last){p>>>=h&7;h-=h&7;d.mode=16206;break}for(;3>h;){if(0===w)break a;w--;p+=u[t++]<<h;h+=8}d.last=p&1;p>>>=1;--h;switch(p&3){case 0:d.mode=16193;break;case 1:v=d;if(cg){xe=new Int32Array(512);ye=new Int32Array(32);for(x=0;144>x;)v.lens[x++]=8;for(;256>x;)v.lens[x++]=9;for(;280>x;)v.lens[x++]=7;for(;288>x;)v.lens[x++]=8;Hc(1,v.lens,0,288,xe,0,v.work,{bits:9});for(x=0;32>x;)v.lens[x++]=5;Hc(2,v.lens,0,32,ye,0,v.work,{bits:5});cg=!1}v.lencode=xe;v.lenbits=9;v.distcode=
  ye;v.distbits=5;d.mode=16199;if(c===od){p>>>=2;h-=2;break a}break;case 2:d.mode=16196;break;case 3:a.msg="invalid block type",d.mode=16209}p>>>=2;h-=2;break;case 16193:p>>>=h&7;for(h-=h&7;32>h;){if(0===w)break a;w--;p+=u[t++]<<h;h+=8}if((p&65535)!==(p>>>16^65535)){a.msg="invalid stored block lengths";d.mode=16209;break}d.length=p&65535;h=p=0;d.mode=16194;if(c===od)break a;case 16194:d.mode=16195;case 16195:if(v=d.length){v>w&&(v=w);v>m&&(v=m);if(0===v)break a;k.set(u.subarray(t,t+v),g);w-=v;t+=v;
  m-=v;g+=v;d.length-=v;break}d.mode=16191;break;case 16196:for(;14>h;){if(0===w)break a;w--;p+=u[t++]<<h;h+=8}d.nlen=(p&31)+257;p>>>=5;h-=5;d.ndist=(p&31)+1;p>>>=5;h-=5;d.ncode=(p&15)+4;p>>>=4;h-=4;if(286<d.nlen||30<d.ndist){a.msg="too many length or distance symbols";d.mode=16209;break}d.have=0;d.mode=16197;case 16197:for(;d.have<d.ncode;){for(;3>h;){if(0===w)break a;w--;p+=u[t++]<<h;h+=8}d.lens[f[d.have++]]=p&7;p>>>=3;h-=3}for(;19>d.have;)d.lens[f[d.have++]]=0;d.lencode=d.lendyn;d.lenbits=7;v={bits:d.lenbits};
  I=Hc(0,d.lens,0,19,d.lencode,0,d.work,v);d.lenbits=v.bits;if(I){a.msg="invalid code lengths set";d.mode=16209;break}d.have=0;d.mode=16198;case 16198:for(;d.have<d.nlen+d.ndist;){for(;;){var r=d.lencode[p&(1<<d.lenbits)-1];v=r>>>24;r&=65535;if(v<=h)break;if(0===w)break a;w--;p+=u[t++]<<h;h+=8}if(16>r)p>>>=v,h-=v,d.lens[d.have++]=r;else{if(16===r){for(x=v+2;h<x;){if(0===w)break a;w--;p+=u[t++]<<h;h+=8}p>>>=v;h-=v;if(0===d.have){a.msg="invalid bit length repeat";d.mode=16209;break}x=d.lens[d.have-1];
  v=3+(p&3);p>>>=2;h-=2}else if(17===r){for(x=v+3;h<x;){if(0===w)break a;w--;p+=u[t++]<<h;h+=8}p>>>=v;h-=v;x=0;v=3+(p&7);p>>>=3;h-=3}else{for(x=v+7;h<x;){if(0===w)break a;w--;p+=u[t++]<<h;h+=8}p>>>=v;h-=v;x=0;v=11+(p&127);p>>>=7;h-=7}if(d.have+v>d.nlen+d.ndist){a.msg="invalid bit length repeat";d.mode=16209;break}for(;v--;)d.lens[d.have++]=x}}if(16209===d.mode)break;if(0===d.lens[256]){a.msg="invalid code -- missing end-of-block";d.mode=16209;break}d.lenbits=9;v={bits:d.lenbits};I=Hc(1,d.lens,0,d.nlen,
  d.lencode,0,d.work,v);d.lenbits=v.bits;if(I){a.msg="invalid literal/lengths set";d.mode=16209;break}d.distbits=6;d.distcode=d.distdyn;v={bits:d.distbits};I=Hc(2,d.lens,d.nlen,d.ndist,d.distcode,0,d.work,v);d.distbits=v.bits;if(I){a.msg="invalid distances set";d.mode=16209;break}d.mode=16199;if(c===od)break a;case 16199:d.mode=16200;case 16200:if(6<=w&&258<=m){a.next_out=g;a.avail_out=m;a.next_in=t;a.avail_in=w;d.hold=p;d.bits=h;var L=a,U=L.state;var ba=L.next_in;k=L.input;var ha=ba+(L.avail_in-5);
  var B=L.next_out;u=L.output;var Fa=B-(z-L.avail_out);var ia=B+(L.avail_out-257);var ta=U.dmax;r=U.wsize;var ua=U.whave;var wa=U.wnext;var W=U.window;x=U.hold;v=U.bits;h=U.lencode;p=U.distcode;m=(1<<U.lenbits)-1;w=(1<<U.distbits)-1;b:do{15>v&&(x+=k[ba++]<<v,v+=8,x+=k[ba++]<<v,v+=8);var Z=h[x&m];c:for(;;){g=Z>>>24;x>>>=g;v-=g;g=Z>>>16&255;if(0===g)u[B++]=Z&65535;else if(g&16){t=Z&65535;if(g&=15)v<g&&(x+=k[ba++]<<v,v+=8),t+=x&(1<<g)-1,x>>>=g,v-=g;15>v&&(x+=k[ba++]<<v,v+=8,x+=k[ba++]<<v,v+=8);Z=p[x&w];
  d:for(;;){g=Z>>>24;x>>>=g;v-=g;g=Z>>>16&255;if(g&16){var O=Z&65535;g&=15;v<g&&(x+=k[ba++]<<v,v+=8,v<g&&(x+=k[ba++]<<v,v+=8));O+=x&(1<<g)-1;if(O>ta){L.msg="invalid distance too far back";U.mode=16209;break b}x>>>=g;v-=g;g=B-Fa;if(O>g){g=O-g;if(g>ua&&U.sane){L.msg="invalid distance too far back";U.mode=16209;break b}var ca=0;Z=W;if(0===wa){if(ca+=r-g,g<t){t-=g;do u[B++]=W[ca++];while(--g);ca=B-O;Z=u}}else if(wa<g){if(ca+=r+wa-g,g-=wa,g<t){t-=g;do u[B++]=W[ca++];while(--g);ca=0;if(wa<t){g=wa;t-=g;do u[B++]=
  W[ca++];while(--g);ca=B-O;Z=u}}}else if(ca+=wa-g,g<t){t-=g;do u[B++]=W[ca++];while(--g);ca=B-O;Z=u}for(;2<t;)u[B++]=Z[ca++],u[B++]=Z[ca++],u[B++]=Z[ca++],t-=3;t&&(u[B++]=Z[ca++],1<t&&(u[B++]=Z[ca++]))}else{ca=B-O;do u[B++]=u[ca++],u[B++]=u[ca++],u[B++]=u[ca++],t-=3;while(2<t);t&&(u[B++]=u[ca++],1<t&&(u[B++]=u[ca++]))}}else if(0===(g&64)){Z=p[(Z&65535)+(x&(1<<g)-1)];continue d}else{L.msg="invalid distance code";U.mode=16209;break b}break}}else if(0===(g&64)){Z=h[(Z&65535)+(x&(1<<g)-1)];continue c}else{g&
  32?U.mode=16191:(L.msg="invalid literal/length code",U.mode=16209);break b}break}}while(ba<ha&&B<ia);t=v>>3;ba-=t;v-=t<<3;L.next_in=ba;L.next_out=B;L.avail_in=ba<ha?5+(ha-ba):5-(ba-ha);L.avail_out=B<ia?257+(ia-B):257-(B-ia);U.hold=x&(1<<v)-1;U.bits=v;g=a.next_out;k=a.output;m=a.avail_out;t=a.next_in;u=a.input;w=a.avail_in;p=d.hold;h=d.bits;16191===d.mode&&(d.back=-1);break}for(d.back=0;;){r=d.lencode[p&(1<<d.lenbits)-1];v=r>>>24;x=r>>>16&255;r&=65535;if(v<=h)break;if(0===w)break a;w--;p+=u[t++]<<
  h;h+=8}if(x&&0===(x&240)){W=v;wa=x;for(ua=r;;){r=d.lencode[ua+((p&(1<<W+wa)-1)>>W)];v=r>>>24;x=r>>>16&255;r&=65535;if(W+v<=h)break;if(0===w)break a;w--;p+=u[t++]<<h;h+=8}p>>>=W;h-=W;d.back+=W}p>>>=v;h-=v;d.back+=v;d.length=r;if(0===x){d.mode=16205;break}if(x&32){d.back=-1;d.mode=16191;break}if(x&64){a.msg="invalid literal/length code";d.mode=16209;break}d.extra=x&15;d.mode=16201;case 16201:if(d.extra){for(x=d.extra;h<x;){if(0===w)break a;w--;p+=u[t++]<<h;h+=8}d.length+=p&(1<<d.extra)-1;p>>>=d.extra;
  h-=d.extra;d.back+=d.extra}d.was=d.length;d.mode=16202;case 16202:for(;;){r=d.distcode[p&(1<<d.distbits)-1];v=r>>>24;x=r>>>16&255;r&=65535;if(v<=h)break;if(0===w)break a;w--;p+=u[t++]<<h;h+=8}if(0===(x&240)){W=v;wa=x;for(ua=r;;){r=d.distcode[ua+((p&(1<<W+wa)-1)>>W)];v=r>>>24;x=r>>>16&255;r&=65535;if(W+v<=h)break;if(0===w)break a;w--;p+=u[t++]<<h;h+=8}p>>>=W;h-=W;d.back+=W}p>>>=v;h-=v;d.back+=v;if(x&64){a.msg="invalid distance code";d.mode=16209;break}d.offset=r;d.extra=x&15;d.mode=16203;case 16203:if(d.extra){for(x=
  d.extra;h<x;){if(0===w)break a;w--;p+=u[t++]<<h;h+=8}d.offset+=p&(1<<d.extra)-1;p>>>=d.extra;h-=d.extra;d.back+=d.extra}if(d.offset>d.dmax){a.msg="invalid distance too far back";d.mode=16209;break}d.mode=16204;case 16204:if(0===m)break a;v=z-m;if(d.offset>v){v=d.offset-v;if(v>d.whave&&d.sane){a.msg="invalid distance too far back";d.mode=16209;break}v>d.wnext?(v-=d.wnext,x=d.wsize-v):x=d.wnext-v;v>d.length&&(v=d.length);W=d.window}else W=k,x=g-d.offset,v=d.length;v>m&&(v=m);m-=v;d.length-=v;do k[g++]=
  W[x++];while(--v);0===d.length&&(d.mode=16200);break;case 16205:if(0===m)break a;k[g++]=d.length;m--;d.mode=16200;break;case 16206:if(d.wrap){for(;32>h;){if(0===w)break a;w--;p|=u[t++]<<h;h+=8}z-=m;a.total_out+=z;d.total+=z;d.wrap&4&&z&&(a.adler=d.check=d.flags?za(d.check,k,z,g-z):Cc(d.check,k,z,g-z));z=m;if(d.wrap&4&&(d.flags?p:Yf(p))!==d.check){a.msg="incorrect data check";d.mode=16209;break}h=p=0}d.mode=16207;case 16207:if(d.wrap&&d.flags){for(;32>h;){if(0===w)break a;w--;p+=u[t++]<<h;h+=8}if(d.wrap&
  4&&p!==(d.total&4294967295)){a.msg="incorrect length check";d.mode=16209;break}h=p=0}d.mode=16208;case 16208:I=xh;break a;case 16209:I=Vf;break a;case 16210:return Wf;default:return Ya}a.next_out=g;a.avail_out=m;a.next_in=t;a.avail_in=w;d.hold=p;d.bits=h;(d.wsize||z!==a.avail_out&&16209>d.mode&&(16206>d.mode||c!==Uf))&&dg(a,a.output,a.next_out,z-a.avail_out);l-=a.avail_in;z-=a.avail_out;a.total_in+=l;a.total_out+=z;d.total+=z;d.wrap&4&&z&&(a.adler=d.check=d.flags?za(d.check,k,z,a.next_out-z):Cc(d.check,
  k,z,a.next_out-z));a.data_type=d.bits+(d.last?64:0)+(16191===d.mode?128:0)+(16199===d.mode||16194===d.mode?256:0);(0===l&&0===z||c===Uf)&&I===Vb&&(I=zh);return I},inflateEnd:function(a){if(Wb(a))return Ya;var c=a.state;c.window&&(c.window=null);a.state=null;return Vb},inflateGetHeader:function(a,c){if(Wb(a))return Ya;a=a.state;if(0===(a.wrap&2))return Ya;a.head=c;c.done=!1;return Vb},inflateSetDictionary:function(a,c){var b=c.length;if(Wb(a))return Ya;var f=a.state;if(0!==f.wrap&&16190!==f.mode)return Ya;
  if(16190===f.mode){var d=Cc(1,c,b,0);if(d!==f.check)return Vf}if(dg(a,c,b,b))return f.mode=16210,Wf;f.havedict=1;return Vb},inflateInfo:"pako inflate (from Nodeca project)"},Ag=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1},Ne=Object.prototype.toString,Ah=R.Z_NO_FLUSH,Bh=R.Z_FINISH,nc=R.Z_OK,ze=R.Z_STREAM_END,Ae=R.Z_NEED_DICT,Ch=R.Z_STREAM_ERROR,eg=R.Z_DATA_ERROR,Dh=R.Z_MEM_ERROR;mc.prototype.push=function(a,
  c){var b=this.strm,f=this.options.chunkSize,d=this.options.dictionary;if(this.ended)return!1;var g=c===~~c?c:!0===c?Bh:Ah;"[object ArrayBuffer]"===Ne.call(a)?b.input=new Uint8Array(a):b.input=a;b.next_in=0;for(b.avail_in=b.input.length;;){0===b.avail_out&&(b.output=new Uint8Array(f),b.next_out=0,b.avail_out=f);c=qb.inflate(b,g);c===Ae&&d&&(c=qb.inflateSetDictionary(b,d),c===nc?c=qb.inflate(b,g):c===eg&&(c=Ae));for(;0<b.avail_in&&c===ze&&0<b.state.wrap&&0!==a[b.next_in];)qb.inflateReset(b),c=qb.inflate(b,
  g);switch(c){case Ch:case eg:case Ae:case Dh:return this.onEnd(c),this.ended=!0,!1}var k=b.avail_out;if(b.next_out&&(0===b.avail_out||c===ze))if("string"===this.options.to){var m=lc.utf8border(b.output,b.next_out),t=b.next_out-m,u=lc.buf2string(b.output,m);b.next_out=t;b.avail_out=f-t;t&&b.output.set(b.output.subarray(m,m+t),0);this.onData(u)}else this.onData(b.output.length===b.next_out?b.output:b.output.subarray(0,b.next_out));if(c!==nc||0!==k){if(c===ze){c=qb.inflateEnd(this.strm);this.onEnd(c);
  this.ended=!0;break}if(0===b.avail_in)break}}return!0};mc.prototype.onData=function(a){this.chunks.push(a)};mc.prototype.onEnd=function(a){a===nc&&(this.result="string"===this.options.to?this.chunks.join(""):Mc.flattenChunks(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};var Se={Deflate:jc,deflate:ud,deflateRaw:function(a,c){c=c||{};c.raw=!0;return ud(a,c)},gzip:function(a,c){c=c||{};c.gzip=!0;return ud(a,c)},Inflate:mc,inflate:vd,inflateRaw:function(a,c){c=c||{};c.raw=!0;return vd(a,
  c)},ungzip:vd,constants:R},Aa;(function(a){a.response_body="rsb";a.request_body="rqb";a.response_headers="rsh";a.request_headers="rqh"})(Aa||(Aa={}));var fg;(function(a){a.BRAND="DeviceBrand";a.MANUFACTURER="DeviceManufacturer";a.MODEL="DeviceModel";a.TYPE="DeviceType";a.VERSION="DeviceVersion";a.OS_NAME="OperatingSystemName";a.OS_VERSION="OperatingSystemVersion";a.CATEGORY="DeviceCategory";a.FRAMEWORK_NAME="FrameworkName";a.FRAMEWORK_VERSION="FrameworkVersion"})(fg||(fg={}));var je={DeviceType:{CONSOLE:"Console",
  DESKTOP:"DESKTOP",MOBILE:"Mobile",SETTOP:"Settop",SMARTTV:"SmartTV",TABLET:"Tablet",VEHICLE:"Vehicle",OTHER:"Other"},DeviceCategory:{ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",DESKTOP_APP:"DSKAPP",DEVICE_SIMULATOR:"SIMULATOR",KAIOS_DEVICE:"KAIOS",LG_TV:"LGTV",LINUX:"LNX",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",VIDAA_DEVICE:"VIDAA",VIZIO_TV:"VIZIOTV",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB"}},D;(function(a){var c;a.TRACEPARENT_HEADER_KEY="traceparent";var b;
  (function(d){d.NONE="NONE";d.RCFG="RCFG"})(b=a.SAMPLING_MODES||(a.SAMPLING_MODES={}));(function(d){d.DERIVED="DERIVED";d.DEFAULT="DEFAULT"})(a.SAMPLING_STATUS||(a.SAMPLING_STATUS={}));var f;(function(d){d.SAMPLED="sl";d.NON_SAMPLED="nsl"})(f=a.SAMPLING_ACTION||(a.SAMPLING_ACTION={}));a.DEFAULT_SAMPLING_ACTION=(c={},c[f.SAMPLED]=b.RCFG,c[f.NON_SAMPLED]=b.NONE,c);(function(d){d.DEFAULT="def";d.CACHED="cac";d.REMOTE="rem"})(a.CONFIG_SOURCE||(a.CONFIG_SOURCE={}));(function(d){d[d.APP=0]="APP";d[d.REMOTE=
  1]="REMOTE";d[d.MERGE=2]="MERGE"})(a.CONFIG_PREFERENCES||(a.CONFIG_PREFERENCES={}));(function(d){d[d.DISABLED=0]="DISABLED";d[d.PERFORMANCE_TIMING=1]="PERFORMANCE_TIMING";d[d.PERFORMANCE_NAVIGATION_TIMING=2]="PERFORMANCE_NAVIGATION_TIMING"})(a.PERFORMANCE_CONTEXT||(a.PERFORMANCE_CONTEXT={}));(function(d){d.DO_NOT_FETCH_UPDATE_TIMER="updateTimer";d.IMMEDIATE_FETCH="urgentFetch";d.UPDATE_TIMER_WITH_DIFF="checkDiff"})(a.RC_FETCH_MODE||(a.RC_FETCH_MODE={}));a.REMOTE_CONFIG_STORAGE_KEY="ConvivaRemoteConfig";
  a.END_POINT_STORAGE_KEY="ConvivaEndpoint";a.SAMPLING_STORAGE_RANDOM_NUMBER_KEY="ConvivaSamplingRandomNumber";a.DEFAULT_END_POINT="https://appgw.conviva.com";a.REMOTE_CONFIG_URL_PREFIX="https://rc.conviva.com/js/";a.REMOTE_CONFIG_FILE_NAME="/remote_config.json";a.DIAGNOSTIC_INFO_MAX_LENGTH={MAX_MESSAGE_LENGTH:1024,MAX_STACK_LENGTH:2048,MAX_CLASSNAME_LENGTH:1024,MAX_EXCEPTION_NAME_LENGTH:1024}})(D||(D={}));var la={},Bd=0,Ue=0,bc;(function(a){a[a.APP=0]="APP";a[a.REMOTE=1]="REMOTE";a[a.MERGE=2]="MERGE"})(bc||
  (bc={}));var dd;(function(a){a.APPLICATION_BACKGROUND="abg";a.APPLICATION_ERROR="ae"})(dd||(dd={}));var yc={},Xg=function(){return function(){this.outQueues=[];this.bufferFlushers=[];this.hasLoaded=!1;this.registeredOnLoadHandlers=[]}}(),pd="undefined"!==typeof window?Wg():void 0;V.addGlobalContexts=function(a,c){da(c,function(b){b.core.addGlobalContexts(a)})};V.addPlugin=function(a,c){da(c,function(b){b.addPlugin(a)})};V.clearGlobalContexts=function(a){da(a,function(c){c.core.clearGlobalContexts()})};
  V.clearUserData=function(a,c){da(c,function(b){b.clearUserData(a)})};V.convivaAppTracker=function(a){void 0===a&&(a={});try{if(pd)return pf("CAT","CAT","js-".concat("0.7.8"),"",pd,a)}catch(c){console.warn("Conviva App Tracker:: Initialisation failed! "+c)}};V.crossDomainLinker=function(a,c){da(c,function(b){b.crossDomainLinker(a)})};V.disableAnonymousTracking=function(a,c){da(c,function(b){b.disableAnonymousTracking(a)})};V.discardBrace=function(a,c){da(c,function(b){b.discardBrace(a)})};V.discardHashTag=
  function(a,c){da(c,function(b){b.discardHashTag(a)})};V.enableActivityTracking=function(a,c){da(c,function(b){b.enableActivityTracking(a)})};V.enableActivityTrackingCallback=function(a,c){da(c,function(b){b.enableActivityTrackingCallback(a)})};V.enableAnonymousTracking=function(a,c){da(c,function(b){b.enableAnonymousTracking(a)})};V.flushBuffer=function(a,c){da(c,function(b){b.flushBuffer(a)})};V.newSession=function(a){da(a,function(c){c.newSession()})};V.newTracker=function(a,c,b){void 0===b&&(b=
  {});if(pd)return pf(a,a,"js-".concat("0.7.8"),c,pd,b)};V.preservePageViewId=function(a){da(a,function(c){c.preservePageViewId()})};V.removeGlobalContexts=function(a,c){da(c,function(b){b.core.removeGlobalContexts(a)})};V.setBufferSize=function(a,c){da(c,function(b){b.setBufferSize(a)})};V.setCollectorUrl=function(a,c){da(c,function(b){b.setCollectorUrl(a)})};V.setCookiePath=function(a,c){da(c,function(b){b.setCookiePath(a)})};V.setCustomTags=function(a,c){da(c,function(b){try{b.setCustomTags(a)}catch(f){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})};
  V.setCustomUrl=function(a,c){da(c,function(b){b.setCustomUrl(a)})};V.setDocumentTitle=function(a,c){da(c,function(b){b.setDocumentTitle(a)})};V.setOptOutCookie=function(a,c){da(c,function(b){b.setOptOutCookie(a)})};V.setReferrerUrl=function(a,c){da(c,function(b){b.setReferrerUrl(a)})};V.setUserId=function(a,c){da(c,function(b){b.setUserId(a)})};V.setUserIdFromCookie=function(a,c){da(c,function(b){b.setUserIdFromCookie(a)})};V.setUserIdFromLocation=function(a,c){da(c,function(b){b.setUserIdFromLocation(a)})};
  V.setUserIdFromReferrer=function(a,c){da(c,function(b){b.setUserIdFromReferrer(a)})};V.setVisitorCookieTimeout=function(a,c){da(c,function(b){b.setVisitorCookieTimeout(a)})};V.trackCustomEvent=function(a,c){da(c,function(b){try{b.trackCustomEvent(a)}catch(f){console.warn("Conviva App Tracker:: Unable to track custom event! "+f)}})};V.trackPageView=function(a,c){da(c,function(b){b.trackPageView(a)})};V.trackSelfDescribingEvent=function(a,c){da(c,function(b){b.core.track(yb({event:a.event}),a.context,
  a.timestamp)})};V.trackStructEvent=function(a,c){da(c,function(b){b=b.core;var f=b.track,d=a.category,g=a.action,k=a.label,m=a.property,t=a.value,u=Ic();u.add("e","se");u.add("se_ca",d);u.add("se_ac",g);u.add("se_la",k);u.add("se_pr",m);u.add("se_va",null==t?void 0:t.toString());f.call(b,u,a.context,a.timestamp)})};V.unsetCustomTags=function(a,c){da(c,function(b){try{b.unsetCustomTags(a)}catch(f){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})};V.updatePageActivity=function(a){da(a,
  function(c){c.updatePageActivity()})};V.version="0.7.8";Object.defineProperty(V,"__esModule",{value:!0})})
  //# sourceMappingURL=index.umd.min.js.map
  