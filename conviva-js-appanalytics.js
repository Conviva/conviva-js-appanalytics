/*!
 * Browser tracker for Snowplow v0.2.10 (http://bit.ly/sp-js)
 * Copyright 2021 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */

'use strict';(function(w,ba){"object"===typeof exports&&"undefined"!==typeof module?ba(exports):"function"===typeof define&&define.amd?define(["exports"],ba):(w="undefined"!==typeof globalThis?globalThis:w||self,ba(w.snowplowBrowserTracking={}))})(this,function(w){function ba(a,b,c){if(c||2===arguments.length)for(var e=0,g=b.length,f;e<g;e++)!f&&e in b||(f||(f=Array.prototype.slice.call(b,0,e)),f[e]=b[e]);return a.concat(f||b)}function ib(a){var b={exports:{}};return a(b,b.exports),b.exports}function Ra(){var a=
{},b=[],c=[],e,g=function(f,l){null!=l&&""!==l&&(a[f]=l)};return{add:g,addDict:function(f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&g(l,f[l])},addJson:function(f,l,m){m&&Sb(m)&&(f={keyIfEncoded:f,keyIfNotEncoded:l,json:m},c.push(f),b.push(f))},getPayload:function(){return a},getJson:function(){return b},withJsonProcessor:function(f){e=f},build:function(){null===e||void 0===e?void 0:e(this,c);return a}}}function Ac(a){return function(b,c){for(var e=0;e<c.length;e++){var g=c[e],f=JSON.stringify(g.json);
if(a){var l=b,m=l.add;g=g.keyIfEncoded;if(f){var q=0,y=0,B=[];if(f){f=unescape(encodeURIComponent(f));do{var H=f.charCodeAt(q++);var v=f.charCodeAt(q++);var h=f.charCodeAt(q++);var t=H<<16|v<<8|h;H=t>>18&63;v=t>>12&63;h=t>>6&63;t&=63;B[y++]=Sa.charAt(H)+Sa.charAt(v)+Sa.charAt(h)+Sa.charAt(t)}while(q<f.length);q=B.join("");f=f.length%3;f=(f?q.slice(0,f-3):q)+"===".slice(f||3)}f=f.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}m.call(l,g,f)}else b.add(g.keyIfNotEncoded,f)}c.length=0}}function Sb(a){if(!Tb(a))return!1;
for(var b in a)if(Object.prototype.hasOwnProperty.call(a,b))return!0;return!1}function Tb(a){return"undefined"!==typeof a&&null!==a&&(a.constructor==={}.constructor||a.constructor===[].constructor)}function Bc(){var a=[],b=[];return{getGlobalPrimitives:function(){return a},getConditionalProviders:function(){return b},addGlobalContexts:function(c){for(var e=[],g=[],f=0;f<c.length;f++){var l=c[f];Ub(l)?e.push(l):ya(l)&&g.push(l)}a=a.concat(g);b=b.concat(e)},clearGlobalContexts:function(){b=[];a=[]},
removeGlobalContexts:function(c){for(var e=function(f){Ub(f)?b=b.filter(function(l){return JSON.stringify(l)!==JSON.stringify(f)}):ya(f)&&(a=a.filter(function(l){return JSON.stringify(l)!==JSON.stringify(f)}))},g=0;g<c.length;g++)e(c[g])},getApplicableContexts:function(c){a:{var e=0;for(var g=c.getJson();e<g.length;e++){var f=g[e];if("ue_px"===f.keyIfEncoded&&"object"===typeof f.json.data&&(f=f.json.data.schema,"string"==typeof f)){e=f;break a}}e=""}g=c.getPayload().e;f="string"===typeof g?g:"";g=
[];var l=jb(a,c,f,e);g.push.apply(g,l);c=Cc(b,c,f,e);g.push.apply(g,c);return g}}}function Dc(a){return{addPluginContexts:function(b){var c=null!==b&&void 0!==b?b:[];a.forEach(function(e){try{e.contexts&&c.push.apply(c,e.contexts())}catch(g){ha.error("Error adding plugin contexts",g)}});return c}}}function Ec(a){if("*"===a[0]||"*"===a[1])return!1;if(0<a.slice(2).length){var b=!1,c=0;for(a=a.slice(2);c<a.length;c++)if("*"===a[c])b=!0;else if(b)return!1;return!0}return 2==a.length?!0:!1}function Vb(a){return(a=
a.split("."))&&1<a.length?Ec(a):!1}function Wb(a){a=/^iglu:((?:(?:[a-zA-Z0-9-_]+|\*).)+(?:[a-zA-Z0-9-_]+|\*))\/([a-zA-Z0-9-_.]+|\*)\/jsonschema\/([1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)$/.exec(a);if(null!==a&&Vb(a[1]))return a.slice(1,6)}function kb(a){if(a=Wb(a)){var b=a[0];return 5===a.length&&Vb(b)}return!1}function Fc(a){return Array.isArray(a)&&a.every(function(b){return"string"===typeof b})}function Xb(a){return Fc(a)?a.every(function(b){return kb(b)}):"string"===typeof a?kb(a):
!1}function Ia(a){return Sb(a)&&"schema"in a&&"data"in a?"string"===typeof a.schema&&"object"===typeof a.data:!1}function Gc(a){var b=0;if(null!=a&&"object"===typeof a&&!Array.isArray(a)){if(Object.prototype.hasOwnProperty.call(a,"accept"))if(Xb(a.accept))b+=1;else return!1;if(Object.prototype.hasOwnProperty.call(a,"reject"))if(Xb(a.reject))b+=1;else return!1;return 0<b&&2>=b}return!1}function Ta(a){return"function"===typeof a&&1>=a.length}function ya(a){return Ta(a)||Ia(a)}function Yb(a){return Array.isArray(a)&&
2===a.length?Array.isArray(a[1])?Ta(a[0])&&a[1].every(ya):Ta(a[0])&&ya(a[1]):!1}function Zb(a){return Array.isArray(a)&&2===a.length?Gc(a[0])?Array.isArray(a[1])?a[1].every(ya):ya(a[1]):!1:!1}function Ub(a){return Yb(a)||Zb(a)}function Hc(a,b){var c=0,e=0,g=a.accept;Array.isArray(g)?a.accept.some(function(f){return Ua(f,b)})&&e++:"string"===typeof g&&Ua(g,b)&&e++;g=a.reject;Array.isArray(g)?a.reject.some(function(f){return Ua(f,b)})&&c++:"string"===typeof g&&Ua(g,b)&&c++;return 0<e&&0===c?!0:!1}function Ua(a,
b){if(!kb(a))return!1;a=Wb(a);b=/^iglu:([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_]+)\/jsonschema\/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$/.exec(b);b=null!==b?b.slice(1,6):void 0;if(a&&b){if(!Ic(a[0],b[0]))return!1;for(var c=1;5>c;c++)if(!$b(a[c],b[c]))return!1;return!0}return!1}function Ic(a,b){b=b.split(".");a=a.split(".");if(b&&a){if(b.length!==a.length)return!1;for(var c=0;c<a.length;c++)if(!$b(b[c],a[c]))return!1;return!0}return!1}function $b(a,b){return a&&b&&"*"===a||a===b}function ac(a){return Array.isArray(a)?
a:[a]}function jb(a,b,c,e){var g;a=ac(a).map(function(f){a:if(Ia(f))f=[f];else{if(Ta(f)){b:{var l=void 0;try{var m={event:b.getPayload(),eventType:c,eventSchema:e};l=f(m);if(Array.isArray(l)&&l.every(Ia)||Ia(l)){var q=l;break b}q=void 0;break b}catch(y){}q=void 0}if(Ia(q)){f=[q];break a}else if(Array.isArray(q)){f=q;break a}}f=void 0}if(f&&0!==f.length)return f});return(g=[]).concat.apply(g,a.filter(function(f){return null!=f&&f.filter(Boolean)}))}function Cc(a,b,c,e){var g;a=ac(a).map(function(f){a:{if(Yb(f)){var l=
f[0],m=!1;try{var q={event:b.getPayload(),eventType:c,eventSchema:e};m=l(q)}catch(y){m=!1}if(!0===m){f=jb(f[1],b,c,e);break a}}else if(Zb(f)&&Hc(f[0],e)){f=jb(f[1],b,c,e);break a}f=[]}if(f&&0!==f.length)return f});return(g=[]).concat.apply(g,a.filter(function(f){return null!=f&&f.filter(Boolean)}))}function Jc(a){return null==a?{type:"dtm",value:(new Date).getTime()}:"number"===typeof a?{type:"dtm",value:a}:"ttm"===a.type?{type:"ttm",value:a.value}:{type:"dtm",value:a.value||(new Date).getTime()}}
function Kc(a){void 0===a&&(a={});var b=a.base64,c=a.corePlugins,e=null!==c&&void 0!==c?c:[];b=function(f,l,m){function q(h,t){h=B.getApplicableContexts(h);var J=[];t&&t.length&&J.push.apply(J,t);h&&h.length&&J.push.apply(J,h);return J}var y=Dc(l),B=Bc(),H=f,v={};return{track:function(h,t,J){h.withJsonProcessor(Ac(H));h.add("eid",V.v4());h.addDict(v);J=Jc(J);h.add(J.type,J.value.toString());t=q(h,y.addPluginContexts(t));t=t&&t.length?{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",
data:t}:void 0;void 0!==t&&h.addJson("cx","co",t);l.forEach(function(M){try{M.beforeTrack&&M.beforeTrack(h)}catch(ca){ha.error("Plugin beforeTrack",ca)}});"function"===typeof m&&m(h);var X=h.build();l.forEach(function(M){try{M.afterTrack&&M.afterTrack(X)}catch(ca){ha.error("Plugin afterTrack",ca)}});return X},addPayloadPair:function(h,t){v[h]=t},configuration:a,getConfig:function(){return a},setConfig:function(h){h&&("undefined"!==typeof h.base64&&(H=a.base64=h.base64),"undefined"!==typeof h.linkClickTracking&&
(a.linkClickTracking=h.linkClickTracking),"undefined"!==typeof h.buttonClickTracking&&(a.buttonClickTracking=h.buttonClickTracking),"undefined"!==typeof h.customEvent&&(a.customEvent=h.customEvent),"undefined"!==typeof h.exceptionAutotracking&&(a.exceptionAutotracking=h.exceptionAutotracking),"undefined"!==typeof h.enablePeriodicHeartbeat&&(a.enablePeriodicHeartbeat=h.enablePeriodicHeartbeat),"undefined"!==typeof h.periodicHeartbeatInterval&&(a.periodicHeartbeatInterval=h.periodicHeartbeatInterval),
"undefined"!==typeof h.customEventTrackingConfiguration&&(a.customEventTrackingConfiguration=h.customEventTrackingConfiguration))},getBase64Encoding:function(){return H},setBase64Encoding:function(h){H=h},addPayloadDict:function(h){for(var t in h)Object.prototype.hasOwnProperty.call(h,t)&&(v[t]=h[t])},resetPayloadPairs:function(h){v=Tb(h)?h:{}},setTrackerVersion:function(h){v.tv=h},setTrackerNamespace:function(h){v.tna=h},setAppId:function(h){v.aid=h},setPlatform:function(h){v.p=h},setUserId:function(h){v.uid=
h},setScreenResolution:function(h,t){v.res=h+"x"+t},setViewport:function(h,t){v.vp=h+"x"+t},setColorDepth:function(h){v.cd=h},setTimezone:function(h){v.tz=h},setLang:function(h){v.lang=h},setIpAddress:function(h){v.ip=h},setUseragent:function(h){v.ua=h},addGlobalContexts:function(h){B.addGlobalContexts(h)},clearGlobalContexts:function(){B.clearGlobalContexts()},removeGlobalContexts:function(h){B.removeGlobalContexts(h)}}}(null!==b&&void 0!==b?b:!0,e,a.callback);var g=da(da({},b),{addPlugin:function(f){var l,
m;f=f.plugin;e.push(f);null===(l=f.logger)||void 0===l?void 0:l.call(f,ha);null===(m=f.activateCorePlugin)||void 0===m?void 0:m.call(f,g)}});null===e||void 0===e?void 0:e.forEach(function(f){var l,m;null===(l=f.logger)||void 0===l?void 0:l.call(f,ha);null===(m=f.activateCorePlugin)||void 0===m?void 0:m.call(f,g)});return g}function bc(a){var b=a.event;a=b.schema;var c=b.data;b=Ra();a={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:{schema:a,data:c}};b.add("e","ue");
b.addJson("ue_px","ue_pr",a);return b}function Lc(a){var b=a.pageUrl,c=a.pageTitle;a=a.referrer;var e=Ra();e.add("e","pv");e.add("url",b);e.add("page",c);e.add("refr",a);return e}function lb(a){a={name:a.name,data:a.data};var b=void 0;void 0===b&&(b={});var c={},e;for(e in a)if(b[e]||null!==a[e]&&"undefined"!==typeof a[e])c[e]=a[e];return bc({event:{schema:"iglu:com.conviva/raw_event/jsonschema/1-0-1",data:c}})}function Mc(){try{var a=!!window.localStorage}catch(c){a=!0}if(!a)return!1;try{var b=window.localStorage;
b.setItem("modernizr","modernizr");b.removeItem("modernizr");return!0}catch(c){return!1}}function cc(a){return Number.isInteger&&Number.isInteger(a)||"number"===typeof a&&isFinite(a)&&Math.floor(a)===a}function dc(a){if(!a||"string"!==typeof a.valueOf()){a=a.text||"";var b=document.getElementsByTagName("title");b&&null!=b[0]&&(a=b[0].text)}return a}function mb(a){var b=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(a);return b?b[1]:a}function ec(a){var b=a.length;"."===a.charAt(--b)&&(a=a.slice(0,
b));"*."===a.slice(0,2)&&(a=a.slice(1));return a}function nb(a){var b=window,c="",e=Ja("referrer",b.location.href)||Ja("referer",b.location.href);if(e)return e;if(a)return a;try{c=b.top.document.referrer}catch(g){if(b.parent)try{c=b.parent.document.referrer}catch(f){c=""}}""===c&&(c=document.referrer);return c}function la(a,b,c,e){if(a.addEventListener)return a.addEventListener(b,c,e),!0;if(a.attachEvent)return a.attachEvent("on"+b,c);a["on"+b]=c}function Ja(a,b){return(a=(new RegExp("^[^#]*[?&]"+
a+"=([^&#]*)")).exec(b))?decodeURIComponent(a[1].replace(/\+/g," ")):null}function Va(a,b,c){void 0===c&&(c=63072E3);try{var e=window.localStorage,g=Date.now()+1E3*c;e.setItem(a+".expires",g.toString());e.setItem(a,b);return!0}catch(f){return!1}}function fc(a){try{var b=window.localStorage;b.removeItem(a);b.removeItem(a+".expires");return!0}catch(c){return!1}}function Nc(a,b){for(var c=window.location.hostname,e="_sp_root_domain_test_"+(new Date).getTime(),g="_test_value_"+(new Date).getTime(),f=
c.split("."),l=f.length-1;0<=l;){var m=f.slice(l,f.length).join(".");Y(e,g,0,"/",m,a,b);if(Y(e)===g){Y(e,"",-1,"/",m,a,b);c=document.cookie.split("; ");e=[];for(g=0;g<c.length;g++)"_sp_root_domain_test_"===c[g].substring(0,21)&&e.push(c[g]);c=e;for(e=0;e<c.length;e++)Y(c[e],"",-1,"/",m,a,b);return m}--l}return c}function Y(a,b,c,e,g,f,l){return 1<arguments.length?document.cookie=a+"="+encodeURIComponent(null!==b&&void 0!==b?b:"")+(c?"; Expires="+(new Date(+new Date+1E3*c)).toUTCString():"")+(e?"; Path="+
e:"")+(g?"; Domain="+g:"")+(f?"; SameSite="+f:"")+(l?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+a+"=")[1]||"").split(";")[0])}function Oc(a,b,c,e,g,f,l,m,q,y,B){function H(p){var z=Object.keys(p).map(function(A){return[A,p[A]]}).reduce(function(A,u){A[u[0]]=u[1].toString();return A},{});return{evt:z,bytes:v(JSON.stringify(z))}}function v(p){for(var z=0,A=0;A<p.length;A++){var u=p.charCodeAt(A);127>=u?z+=1:2047>=u?z+=2:55296<=u&&57343>=u?(z+=4,A++):z=65535>u?z+3:z+4}return z}
function h(p){for(void 0===p&&(p=!1);E.length&&"string"!==typeof E[0]&&"object"!==typeof E[0];)E.shift();if(1>E.length)F=!1;else{if(!P||"string"!==typeof P.valueOf())throw"No collector configured";F=!0;if(za){var z=function(ea){for(var ia=0,Aa=0;ia<ea.length&&!(Aa+=ea[ia].bytes,Aa>=l);)ia+=1;return ia},A=void 0;if(Ba(E)){A=P;var u=t(A,!0,p);var K=z(E)}else A=M(E[0]),u=t(A,!1,p),K=1;var R=setTimeout(function(){u.abort();F=!1},y),Z=function(ea){for(var ia=0;ia<ea;ia++)E.shift();c&&Va(ua,JSON.stringify(E.slice(0,
q)));h()};u.onreadystatechange=function(){4===u.readyState&&200<=u.status&&400>u.status?(clearTimeout(R),Z(K)):4===u.readyState&&400<=u.status&&(clearTimeout(R),F=!1)};if(Ba(E)){if(z=E.slice(0,K),0<z.length){p=!1;z=z.map(function(ea){return ea.evt});if(Wa){var ma=new Blob([J(X(z))],{type:"application/json"});try{p=navigator.sendBeacon(A,ma)}catch(ea){p=!1}}!0===p?Z(K):u.send(J(X(z)))}}else u.send()}else if(B||Ba(E))F=!1;else{A=new Image(1,1);var na=!0;A.onload=function(){na&&(na=!1,E.shift(),c&&Va(ua,
JSON.stringify(E.slice(0,q))),h())};A.onerror=function(){na&&(F=na=!1)};A.src=M(E[0]);setTimeout(function(){na&&F&&(na=!1,h())},y)}}}function t(p,z,A){var u=new XMLHttpRequest;z?(u.open("POST",p,!A),u.setRequestHeader("Content-Type","application/json; charset=UTF-8")):u.open("GET",p,!A);u.withCredentials=!0;B&&u.setRequestHeader("SP-Anonymous","*");return u}function J(p){return JSON.stringify({schema:"iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4",data:p})}function X(p){for(var z=
(new Date).getTime().toString(),A=0;A<p.length;A++)p[A].stm=z;return p}function M(p){return m?P+p.replace("?","?stm="+(new Date).getTime()+"&"):P+p}function ca(p){function z(u,K,R){return(R=R.match("(Macintosh;.*Mac OS X (d+)_(d+)[_d]*.*) AppleWebKit/"))&&R.length?parseInt(R[0])<=u||parseInt(R[0])===u&&parseInt(R[1])<=K:!1}function A(u){return u.match("Version/.* Safari/")&&!u.match("Chrom(e|ium)")}return function(u,K){return(K=K.match("(iP.+; CPU .*OS (d+)[_d]*.*) AppleWebKit/"))&&K.length?parseInt(K[0])<=
u:!1}(13,p)||z(10,15,p)&&A(p)}var F=!1,P,E=[];e="string"===typeof e?e.toLowerCase():e;var Ka=null===e||!0===e||"beacon"===e||"true"===e,Wa=!(!(Ka&&window.navigator&&window.navigator.sendBeacon)||ca(window.navigator.userAgent))&&Ka,za=!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),ja="get"!==e&&za&&("post"===e||Ka),Ca=ja?g:"/i",ua="snowplowOutQueue_"+a+"_"+(ja?"post2":"get");f=c&&Mc()&&ja&&f||1;if(c)try{var La=window.localStorage.getItem(ua);E=La?JSON.parse(La):[]}catch(p){}Array.isArray(E)||
(E=[]);b.outQueues.push(E);za&&1<f&&b.bufferFlushers.push(function(p){F||h(p)});var Ba=function(p){return"object"===typeof p[0]};return{enqueueRequest:function(p,z){P=z+Ca;if(ja){p=H(p);if(p.bytes>=l){ha.warn("Event ("+p.bytes+"B) too big, max is "+l);t(P,!0,!1).send(J(X([p.evt])));return}E.push(p)}else{z=E;var A=z.push,u="?",K={co:!0,cx:!0},R=!0,Z;for(Z in p)p.hasOwnProperty(Z)&&!K.hasOwnProperty(Z)&&(R?R=!1:u+="&",u+=encodeURIComponent(Z)+"="+encodeURIComponent(p[Z]));for(var ma in K)p.hasOwnProperty(ma)&&
K.hasOwnProperty(ma)&&(u+="&"+ma+"="+encodeURIComponent(p[ma]));A.call(z,u)}p=!1;c&&(p=Va(ua,JSON.stringify(E.slice(0,q))));F||p&&!(E.length>=f)||h()},executeQueue:function(){F||h()},setUseLocalStorage:function(p){c=p},setAnonymousTracking:function(p){B=p},setCollectorUrl:function(p){P=p+Ca},setBufferSize:function(p){f=p}}}function gc(a,b,c){if("translate.googleusercontent.com"===a)""===c&&(c=b),a=(a=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(b))&&1<(null===a||void 0===a?void 0:a.length)?Ja("u",
a[1]):null,b=null!==a&&void 0!==a?a:"",a=mb(b);else if("cc.bingj.com"===a||"webcache.googleusercontent.com"===a)b=document.links[0].href,a=mb(b);return[a,b,c]}function Pc(a,b,c,e,g,f){var l;void 0===f&&(f={});a=function(q,y,B,H,v,h){function t(){va=gc(window.location.hostname,window.location.href,nb());va[1]!==oa&&(Ma=nb(oa));hc=ec(va[0]);oa=va[1]}function J(d){var k=(new Date).getTime();d=d.currentTarget;if(null===d||void 0===d?0:d.href){k="_sp="+(Da+"."+k);var n=d.href.split("#"),r=n[0].split("?"),
D=r.shift();if(r=r.join("?")){for(var G=!0,I=r.split("&"),x=0;x<I.length;x++)if("_sp="===I[x].substr(0,4)){G=!1;I[x]=k;r=I.join("&");break}G&&(r=k+"&"+r)}else r=k;n[0]=D+"?"+r;k=n.join("#");d.href=k}}function X(d){for(var k=0;k<document.links.length;k++){var n=document.links[k];!n.spDecorationEnabled&&d(n)&&(la(n,"click",J,!0),la(n,"mousedown",J,!0),n.spDecorationEnabled=!0)}}function M(d){if(ic){var k=/#.*/;d=d.replace(k,"")}jc&&(k=/[{}]/g,d=d.replace(k,""));return d}function ca(d){return(d=/^([a-z]+):/.exec(d))?
d[1]:null}function F(d){d=Ea+d+"."+wa;if("localStorage"==N){try{var k=window.localStorage,n=k.getItem(d+".expires");if(null===n||+n>Date.now())var r=k.getItem(d);else k.removeItem(d),k.removeItem(d+".expires"),r=void 0}catch(D){r=void 0}return r}if("cookie"==N||"cookieAndLocalStorage"==N)return Y(d)}function P(){t();wa=Qc((Na||hc)+(ob||"/")).slice(0,4)}function E(){pb=(new Date).getTime()}function Ka(){var d=Wa(),k=d[0];k<Xa?Xa=k:k>Ya&&(Ya=k);d=d[1];d<Za?Za=d:d>$a&&($a=d);E()}function Wa(){var d=
document.documentElement;return d?[d.scrollLeft||window.pageXOffset,d.scrollTop||window.pageYOffset]:[0,0]}function za(){var d=Wa(),k=d[0];Ya=Xa=k;$a=Za=d=d[1]}function ja(){ua(Ea+"ses."+wa,"*",kc)}function Ca(d,k,n,r,D,G){ua(Ea+"id."+wa,d+"."+k+"."+n+"."+r+"."+D+"."+G,lc)}function ua(d,k,n){if(!pa||Fa)"localStorage"==N?Va(d,k,n):("cookie"==N||"cookieAndLocalStorage"==N)&&Y(d,k,n,ob,Na,ab,bb)}function La(d){var k=Ea+"id."+wa,n=Ea+"ses."+wa;fc(k);fc(n);Y(k,"",-1,"/",Na,ab,bb);Y(n,"",-1,"/",Na,ab,bb);
null!==d&&void 0!==d&&d.preserveSession||(S=V.v4(),fa=0);null!==d&&void 0!==d&&d.preserveUser||(Da=V.v4(),xa=null)}function Ba(d){d&&d.stateStorageStrategy&&(h.stateStorageStrategy=d.stateStorageStrategy,N=mc(h));pa=!!h.anonymousTracking;Fa=nc(h);qb=oc(h);qa.setUseLocalStorage("localStorage"==N||"cookieAndLocalStorage"==N);qa.setAnonymousTracking(qb)}function p(){try{var d=window.localStorage.getItem("Conviva.sdkConfig"),k=JSON.parse(d||"{}");rb="{}"===k||"undefined"===typeof k?Z():k.clId||Z();try{cb=
Math.floor(2147483647*Math.random())}catch(r){console.warn(r),cb=-1}b:try{var n=window.localStorage;d={clId:rb,iid:cb};k=null;try{k=JSON.stringify(d)}catch(r){break b}n.setItem("Conviva.sdkConfig",k)}catch(r){}}catch(r){console.warn(r)}if(!pa||Fa)n="none"!=N&&!!F("ses"),d=z(),d[1]?Da=d[1]:(Da=pa?"":V.v4(),d[1]=Da),S=d[6],n||(d[3]++,S=V.v4(),d[6]=S,d[5]=d[4]),"none"!=N&&(ja(),d[4]=Math.round((new Date).getTime()/1E3),d.shift(),Ca.apply(null,d))}function z(){if("none"==N)return[];var d=Math.round((new Date).getTime()/
1E3),k=F("id");k?(d=k.split("."),d.unshift("0")):d=["1",Da,d,0,d,""];d[6]&&"undefined"!==d[6]||(d[6]=V.v4());return d}function A(d){return 0===d.indexOf("http")?d:("https:"===document.location.protocol?"https":"http")+"://"+d}function u(){pc&&null!=v.pageViewId||(v.pageViewId=V.v4())}function K(){null==v.pageViewId&&(v.pageViewId=V.v4());return v.pageViewId}function R(){return{contexts:function(){return[{schema:"iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0",data:{id:K()}}]}}}function Z(){try{return Math.floor(2147483647*
Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()}catch(d){console.warn(d)}}function ma(d){var k=d.title,n=d.context,r=d.timestamp;d=d.contextCallback;t();qc&&u();qc=!0;Ga=document.title;Oa=k;k=dc(Oa||Ga);U.track(Lc({pageUrl:M(Ha||oa),pageTitle:k,referrer:M(db||Ma)}),(n||[]).concat(d?d():[]),r);r=new Date;k=!1;if(W.enabled&&!W.installed){k=W.installed=!0;var D={update:function(){if("undefined"!==
typeof window&&"function"===typeof window.addEventListener){var I=!1,x=Object.defineProperty({},"passive",{get:function(){I=!0},set:function(){}}),L=function(){};window.addEventListener("testPassiveEventSupport",L,x);window.removeEventListener("testPassiveEventSupport",L,x);D.hasSupport=I}}};D.update();var G="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(D,"hasSupport")?la(document,G,E,{passive:!0}):
la(document,G,E);za();G=function(I,x){void 0===x&&(x=E);return function(L){return la(document,L,x)}};"click mouseup mousedown mousemove keypress keydown keyup".split(" ").forEach(G(document));["resize","focus","blur"].forEach(G(window));G(window,Ka)("scroll")}if(W.enabled&&(Rc||k))for(r in pb=r.getTime(),r=void 0,W.configurations)if(k=W.configurations[r])window.clearInterval(k.activityInterval),na(k,n,d)}function na(d,k,n){var r=function(I,x){t();var L=m.core.getConfig();L.enablePeriodicHeartbeat?
void 0!=L.periodicHeartbeatInterval&&(L=1E3*L.periodicHeartbeatInterval,L!=d.configHeartBeatTimer&&(window.clearInterval(d.activityInterval),d.activityInterval=window.setInterval(G,L))):window.clearInterval(d.activityInterval);I({context:x,pageViewId:K(),minXOffset:Xa,minYOffset:Za,maxXOffset:Ya,maxYOffset:$a});za()},D=new Date;window.setTimeout(function(){r(d.callback,(k||[]).concat(n?n():[]))},100);var G=function(){var I=new Date;if(D.getTime()+d.configHeartBeatTimer>I.getTime()||pb+d.configHeartBeatTimer>
I.getTime())D=I,r(d.callback,(k||[]).concat(n?n():[]))};d.activityInterval=window.setInterval(G,d.configHeartBeatTimer)}function ea(d){var k=d.minimumVisitLength,n=d.heartbeatDelay;d=d.callback;if(cc(k)&&cc(n))return{configMinimumVisitLength:1E3*k,configHeartBeatTimer:1E3*n,callback:d};ha.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function ia(d){var k=d.context,n=d.minXOffset,r=d.minYOffset,D=d.maxXOffset,G=d.maxYOffset;d=document.title;d!==Ga&&(Ga=d,Oa=void 0);
d=U;var I=d.track,x=M(Ha||oa),L=dc(Oa||Ga),eb=M(db||Ma);n=Math.round(n);D=Math.round(D);r=Math.round(r);G=Math.round(G);var aa=Ra();aa.add("e","pp");aa.add("url",x);aa.add("page",L);aa.add("refr",eb);n&&!isNaN(Number(n))&&aa.add("pp_mix",n.toString());D&&!isNaN(Number(D))&&aa.add("pp_max",D.toString());r&&!isNaN(Number(r))&&aa.add("pp_miy",r.toString());G&&!isNaN(Number(G))&&aa.add("pp_may",G.toString());I.call(d,aa,k)}var Aa,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Q={base64:!0,linkClickTracking:!0,
buttonClickTracking:!0,customEvent:!0,exceptionAutotracking:!0,enablePeriodicHeartbeat:!0,periodicHeartbeatInterval:40,customEventTrackingConfiguration:{}};if(window.localStorage){var rc=localStorage.getItem("ConvivaRemoteConfig")?localStorage.getItem("ConvivaRemoteConfig"):JSON.stringify(Q);var Lb=localStorage.getItem("ConvivaEndpoint")?localStorage.getItem("ConvivaEndpoint"):"https://appgw.conviva.com"}else Lb="https://appgw.conviva.com",rc=JSON.stringify(Q);H=h.gatewayUrl?h.gatewayUrl:Lb?Lb:"https://appgw.conviva.com";
y||(y="CAT");var T=JSON.parse(rc);"undefined"!=typeof T.base64&&(Q.base64=T.base64);"undefined"!=typeof T.linkClickTracking&&(Q.linkClickTracking=T.linkClickTracking);"undefined"!=typeof T.buttonClickTracking&&(Q.buttonClickTracking=T.buttonClickTracking);"undefined"!=typeof T.exceptionAutotracking&&(Q.exceptionAutotracking=T.exceptionAutotracking);"undefined"!=typeof T.enablePeriodicHeartbeat&&(Q.enablePeriodicHeartbeat=T.enablePeriodicHeartbeat);"undefined"!=typeof T.periodicHeartbeatInterval&&
(Q.periodicHeartbeatInterval=T.periodicHeartbeatInterval);"undefined"!=typeof T.customEventTrackingConfiguration&&(Q.customEventTrackingConfiguration=T.customEventTrackingConfiguration);if(window.XMLHttpRequest){var ra=new XMLHttpRequest;ra.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){var d=JSON.parse(ra.response),k={base64:!0,linkClickTracking:!0,buttonClickTracking:!0,customEvent:!0,exceptionAutotracking:!0,enablePeriodicHeartbeat:!0,periodicHeartbeatInterval:40,customEventTrackingConfiguration:{}};
k.base64=d.configurationBundle[0].trackerConfiguration.base64Encoding;k.linkClickTracking=d.configurationBundle[0].trackerConfiguration.linkClickTracking;k.buttonClickTracking=d.configurationBundle[0].trackerConfiguration.buttonClickTracking;k.customEvent=d.configurationBundle[0].trackerConfiguration.customEvent;k.exceptionAutotracking=d.configurationBundle[0].trackerConfiguration.exceptionAutotracking;k.enablePeriodicHeartbeat=d.configurationBundle[0].trackerConfiguration.enablePeriodicHeartbeat;
k.periodicHeartbeatInterval=d.configurationBundle[0].trackerConfiguration.periodicHeartbeatInterval;k.customEventTrackingConfiguration=d.configurationBundle[0].customEventTrackingConfiguration;m.setCollectorUrl(d.configurationBundle[0].networkConfiguration.endpoint);window.localStorage&&(localStorage.setItem("ConvivaRemoteConfig",JSON.stringify(k)),localStorage.setItem("ConvivaEndpoint",d.configurationBundle[0].networkConfiguration.endpoint));m.core.setConfig(k)}else if(sa._convivaVersion&&sa._convivaCustomerKey)try{delete sa._convivaVersion,
ra.open("GET","https://drt1fhpy4haqm.cloudfront.net/js/"+sa._convivaCustomerKey+"/remote_config.json",!0),ra.send()}catch(n){delete sa._convivaVersion}else if(sa._convivaCustomerKey)try{delete sa._convivaCustomerKey,ra.open("GET","https://drt1fhpy4haqm.cloudfront.net/js/remote_config.json",!0),ra.send()}catch(n){delete sa._convivaCustomerKey}};var fb=function(d){try{ra.open("GET",d,!0),ra.send()}catch(k){}};if(h.trackerConfigUrl)fb(h.trackerConfigUrl),window.setInterval(fb,36E5,h.trackerConfigUrl);
else{var sa={_platform:"js",_convivaVersion:B,_convivaCustomerKey:h.convivaCustomerKey},sc="https://drt1fhpy4haqm.cloudfront.net/js/"+h.convivaCustomerKey+"/"+B+"/remote_config.json";fb(sc);window.setInterval(fb,36E5,sc)}}h.eventMethod=null!==(Aa=h.eventMethod)&&void 0!==Aa?Aa:"post";var mc=function(d){var k;return null!==(k=d.stateStorageStrategy)&&void 0!==k?k:"cookieAndLocalStorage"},nc=function(d){var k,n;return"boolean"===typeof d.anonymousTracking?!1:null!==(n=!0===(null===(k=d.anonymousTracking)||
void 0===k?void 0:k.withSessionTracking))&&void 0!==n?n:!1},oc=function(d){var k,n;return"boolean"===typeof d.anonymousTracking?!1:null!==(n=!0===(null===(k=d.anonymousTracking)||void 0===k?void 0:k.withServerAnonymisation))&&void 0!==n?n:!1};h.plugins=null!==(sb=h.plugins)&&void 0!==sb?sb:[];(null!==(ub=null===(tb=null===h||void 0===h?void 0:h.contexts)||void 0===tb?void 0:tb.webPage)&&void 0!==ub?ub:1)&&h.plugins.push(R());h.plugins.push(function(){return{contexts:function(){return[{schema:"iglu:com.conviva/clid_schema/jsonschema/1-0-1",
data:{clid:rb,iid:cb.toString(),ck:Sc}}]}}}());var U=Kc({base64:Q.base64,corePlugins:h.plugins,callback:function(d){var k=Math.round((new Date).getTime()/1E3),n=F("ses"),r=z(),D=r[0],G=r[1],I=r[2],x=r[3],L=r[4],eb=r[5];r=r[6];var aa=Pa?!!Y(Pa):!1;tc||aa?La():("0"===D?(S=r,n||"none"==N||(x++,eb=L,S=V.v4()),fa=x):(new Date).getTime()-Mb>1E3*kc&&(S=V.v4(),fa++),n=d.add,"innerWidth"in window?(D=window.innerWidth,x=window.innerHeight):(x=document.documentElement||document.body,D=x.clientWidth,x=x.clientHeight),
n.call(d,"vp",0<=D&&0<=x?D+"x"+x:null),n=d.add,x=document.documentElement,L=document.body,D=Math.max(x.clientWidth,x.offsetWidth,x.scrollWidth),x=Math.max(x.clientHeight,x.offsetHeight,x.scrollHeight,L?Math.max(L.offsetHeight,L.scrollHeight):0),D=isNaN(D)||isNaN(x)?"":D+"x"+x,n.call(d,"ds",D),d.add("vid",Fa?fa:pa?null:fa),d.add("sid",Fa?S:pa?null:S),d.add("duid",pa?null:G),d.add("uid",pa?null:xa),t(),d.add("refr",M(db||Ma)),d.add("url",M(Ha||oa)),"none"!=N&&(Ca(G,I,fa,k,eb,S),ja()),Mb=(new Date).getTime());
k=Pa?!!Y(Pa):!1;tc||k||qa.enqueueRequest(d.build(),Nb)},linkClickTracking:Q.linkClickTracking,buttonClickTracking:Q.buttonClickTracking,customEvent:!0,exceptionAutotracking:Q.exceptionAutotracking,enablePeriodicHeartbeat:Q.enablePeriodicHeartbeat,periodicHeartbeatInterval:Q.periodicHeartbeatInterval,customEventTrackingConfiguration:Q.customEventTrackingConfiguration}),Tc=navigator.userLanguage||navigator.language,Uc=document.characterSet||document.charset,va=gc(window.location.hostname,window.location.href,
nb()),hc=ec(va[0]),oa=va[1],Ma=va[2],db,Vc=null!==(vb=h.platform)&&void 0!==vb?vb:"web",Nb=A(H),Wc=null!==(wb=h.postPath)&&void 0!==wb?wb:"/"+h.convivaCustomerKey+"/ctp",Xc=null!==(xb=h.appId)&&void 0!==xb?xb:"",Sc=null!==(yb=h.convivaCustomerKey)&&void 0!==yb?yb:"",Ha,Ga=document.title,Oa,Rc=null!==(zb=h.resetActivityTrackingOnPageView)&&void 0!==zb?zb:!0,ic,jc,Ea=null!==(Ab=h.cookieName)&&void 0!==Ab?Ab:"_sp_",Na=null!==(Bb=h.cookieDomain)&&void 0!==Bb?Bb:void 0,ob="/",ab=null!==(Cb=h.cookieSameSite)&&
void 0!==Cb?Cb:"None",bb=null!==(Db=h.cookieSecure)&&void 0!==Db?Db:!0,uc=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,tc="undefined"!==typeof h.respectDoNotTrack?h.respectDoNotTrack&&("yes"===uc||"1"===uc):!1,Pa,lc=null!==(Eb=h.cookieLifetime)&&void 0!==Eb?Eb:63072E3,kc=null!==(Fb=h.sessionCookieTimeout)&&void 0!==Fb?Fb:1800,Fa=nc(h),qb=oc(h),pa=!!h.anonymousTracking,N=mc(h),rb,cb,pb,Mb=(new Date).getTime(),Xa,Ya,Za,$a,wa,Da,S,fa=1,xa,qa=Oc(q,v,"localStorage"==N||"cookieAndLocalStorage"==
N,h.eventMethod,Wc,null!==(Gb=h.bufferSize)&&void 0!==Gb?Gb:1,null!==(Hb=h.maxPostBytes)&&void 0!==Hb?Hb:4E4,null!==(Ib=h.useStm)&&void 0!==Ib?Ib:!0,null!==(Jb=h.maxLocalStorageQueueSize)&&void 0!==Jb?Jb:1E3,null!==(Kb=h.connectionTimeout)&&void 0!==Kb?Kb:5E3,qb),pc=!1,qc=!1,W={enabled:!1,installed:!1,configurations:{}};h.hasOwnProperty("discoverRootDomain")&&h.discoverRootDomain&&(Na=Nc(ab,bb));U.setTrackerVersion(B);U.setTrackerNamespace(y);U.setAppId(Xc);U.setPlatform(Vc);U.addPayloadPair("cookie",
navigator.cookieEnabled?"1":"0");U.addPayloadPair("cs",Uc);U.addPayloadPair("lang",Tc);U.addPayloadPair("res",screen.width+"x"+screen.height);U.addPayloadPair("cd",screen.colorDepth);document&&U.addPayloadPair("page",document.title);P();p();h.crossDomainLinker&&X(h.crossDomainLinker);return da(da({},{getDomainSessionIndex:function(){return fa},getPageViewId:function(){return K()},newSession:function(){var d=Math.round((new Date).getTime()/1E3),k=z(),n=k[1],r=k[2],D=k[3],G=k[4],I=k[5],x=k[6];"0"===
k[0]?(S=x,"none"!=N&&(D++,I=G,S=V.v4()),fa=D,ja()):(S=V.v4(),fa++);"none"!=N&&(Ca(n,r,fa,d,I,S),ja());Mb=(new Date).getTime()},getCookieName:function(d){return Ea+d+"."+wa},getUserId:function(){return xa},getDomainUserId:function(){return z()[1]},getDomainUserInfo:function(){return z()},setReferrerUrl:function(d){db=d},setCustomUrl:function(d){t();var k=oa,n;ca(d)?Ha=d:"/"===d.slice(0,1)?Ha=ca(k)+"://"+mb(k)+d:(k=M(k),0<=(n=k.indexOf("?"))&&(k=k.slice(0,n)),(n=k.lastIndexOf("/"))!==k.length-1&&(k=
k.slice(0,n+1)),Ha=k+d)},setDocumentTitle:function(d){Ga=document.title;Oa=d},discardHashTag:function(d){ic=d},discardBrace:function(d){jc=d},setCookiePath:function(d){ob=d;P()},setVisitorCookieTimeout:function(d){lc=d},crossDomainLinker:function(d){X(d)},enableActivityTracking:function(d){W.configurations.pagePing||(W.enabled=!0,W.configurations.pagePing=ea(da(da({},d),{callback:ia})))},enableActivityTrackingCallback:function(d){W.configurations.callback||(W.enabled=!0,W.configurations.callback=
ea(d))},updatePageActivity:function(){E()},setOptOutCookie:function(d){Pa=d},setUserId:function(d){xa=d},setUserIdFromLocation:function(d){t();xa=Ja(d,oa)},setUserIdFromReferrer:function(d){t();xa=Ja(d,Ma)},setUserIdFromCookie:function(d){xa=Y(d)},setCollectorUrl:function(d){Nb=A(d);qa.setCollectorUrl(Nb)},setBufferSize:function(d){qa.setBufferSize(d)},flushBuffer:function(d){void 0===d&&(d={});qa.executeQueue();d.newBufferSize&&qa.setBufferSize(d.newBufferSize)},trackPageView:function(d){void 0===
d&&(d={});ma(d)},preservePageViewId:function(){pc=!0},disableAnonymousTracking:function(d){h.anonymousTracking=!1;Ba(d);p();qa.executeQueue()},enableAnonymousTracking:function(d){var k;h.anonymousTracking=null!==(k=d&&(null===d||void 0===d?void 0:d.options))&&void 0!==k?k:!0;Ba(d);Fa||u()},clearUserData:La}),{id:q,namespace:y,core:U,sharedState:v})}(a,b,c,e,g,f);var m=da(da({},a),{addPlugin:function(q){var y,B;m.core.addPlugin(q);null===(B=(y=q.plugin).activateBrowserPlugin)||void 0===B?void 0:B.call(y,
m)}});null===(l=f.plugins)||void 0===l?void 0:l.forEach(function(q){var y;null===(y=q.activateBrowserPlugin)||void 0===y?void 0:y.call(q,m)});return m}function C(a,b){try{var c=null!==a&&void 0!==a?a:Object.keys(Qa);a=Qa;for(var e=[],g=0;g<c.length;g++){var f=c[g];a.hasOwnProperty(f)?e.push(a[f]):ha.warn(f+" not configured")}e.forEach(b)}catch(l){ha.error("Function failed",l)}}function vc(a,b,c,e,g,f){return Qa.hasOwnProperty(a)?null:(Qa[a]=Pc(a,b,c,e,g,f),Qa[a])}function Yc(){function a(){"hidden"==
g.visibilityState&&e.bufferFlushers.forEach(function(l){l(!1)})}function b(){var l;if(!e.hasLoaded)for(e.hasLoaded=!0,l=0;l<e.registeredOnLoadHandlers.length;l++)e.registeredOnLoadHandlers[l]();return!0}function c(){g.addEventListener?g.addEventListener("DOMContentLoaded",function m(){g.removeEventListener("DOMContentLoaded",m,!1);b()}):g.attachEvent&&g.attachEvent("onreadystatechange",function q(){"complete"===g.readyState&&(g.detachEvent("onreadystatechange",q),b())});la(f,"load",b,!1)}var e=new Zc,
g=document,f=window;g.visibilityState&&la(g,"visibilitychange",a,!1);la(f,"beforeunload",function(){e.bufferFlushers.forEach(function(l){l(!1)})},!1);"loading"===document.readyState?c():b();return e}for(var da=function(){da=Object.assign||function(a){for(var b,c=1,e=arguments.length;c<e;c++){b=arguments[c];for(var g in b)Object.prototype.hasOwnProperty.call(b,g)&&(a[g]=b[g])}return a};return da.apply(this,arguments)},wc=ib(function(a){var b="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||
"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(b){var c=new Uint8Array(16);a.exports=function(){b(c);return c}}else{var e=Array(16);a.exports=function(){for(var g=0,f;16>g;g++)0===(g&3)&&(f=4294967296*Math.random()),e[g]=f>>>((g&3)<<3)&255;return e}}}),O=[],ta=0;256>ta;++ta)O[ta]=(ta+256).toString(16).substr(1);var xc=function(a,b){b=b||0;return[O[a[b++]],O[a[b++]],O[a[b++]],O[a[b++]],"-",O[a[b++]],O[a[b++]],"-",O[a[b++]],
O[a[b++]],"-",O[a[b++]],O[a[b++]],"-",O[a[b++]],O[a[b++]],O[a[b++]],O[a[b++]],O[a[b++]],O[a[b++]]].join("")},yc,Ob,Pb=0,Qb=0;ta=function(a,b,c){c=b&&c||0;"string"==typeof a&&(b="binary"===a?Array(16):null,a=null);a=a||{};a=a.random||(a.rng||wc)();a[6]=a[6]&15|64;a[8]=a[8]&63|128;if(b)for(var e=0;16>e;++e)b[c+e]=a[e];return b||xc(a)};ta.v1=function(a,b,c){c=b&&c||0;var e=b||[];a=a||{};var g=a.node||yc,f=void 0!==a.clockseq?a.clockseq:Ob;if(null==g||null==f){var l=wc();null==g&&(g=yc=[l[0]|1,l[1],l[2],
l[3],l[4],l[5]]);null==f&&(f=Ob=(l[6]<<8|l[7])&16383)}l=void 0!==a.msecs?a.msecs:(new Date).getTime();var m=void 0!==a.nsecs?a.nsecs:Qb+1,q=l-Pb+(m-Qb)/1E4;0>q&&void 0===a.clockseq&&(f=f+1&16383);(0>q||l>Pb)&&void 0===a.nsecs&&(m=0);if(1E4<=m)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");Pb=l;Qb=m;Ob=f;l+=122192928E5;a=(1E4*(l&268435455)+m)%4294967296;e[c++]=a>>>24&255;e[c++]=a>>>16&255;e[c++]=a>>>8&255;e[c++]=a&255;a=l/4294967296*1E4&268435455;e[c++]=a>>>8&255;e[c++]=a&255;e[c++]=
a>>>24&15|16;e[c++]=a>>>16&255;e[c++]=f>>>8|128;e[c++]=f&255;for(f=0;6>f;++f)e[c+f]=g[f];return b?b:xc(e)};var V=ta.v4=ta,Sa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ka;(function(a){a[a.none=0]="none";a[a.error=1]="error";a[a.warn=2]="warn";a[a.debug=3]="debug";a[a.info=4]="info"})(ka||(ka={}));var ha=function(a){void 0===a&&(a=ka.warn);return{setLogLevel:function(b){a=ka[b]?b:ka.warn},warn:function(b,c){for(var e=[],g=2;g<arguments.length;g++)e[g-2]=arguments[g];a>=ka.warn&&
"undefined"!==typeof console&&(g="Snowplow: "+b,c?console.warn.apply(console,ba([g+"\n",c],e)):console.warn.apply(console,ba([g],e)))},error:function(b,c){for(var e=[],g=2;g<arguments.length;g++)e[g-2]=arguments[g];a>=ka.error&&"undefined"!==typeof console&&(g="Snowplow: "+b+"\n",c?console.error.apply(console,ba([g+"\n",c],e)):console.error.apply(console,ba([g],e)))},debug:function(b){for(var c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];a>=ka.debug&&"undefined"!==typeof console&&console.debug.apply(console,
ba(["Snowplow: "+b],c))},info:function(b){for(var c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];a>=ka.info&&"undefined"!==typeof console&&console.info.apply(console,ba(["Snowplow: "+b],c))}}}(),gb=ib(function(a){(function(){var b={rotl:function(c,e){return c<<e|c>>>32-e},rotr:function(c,e){return c<<32-e|c>>>e},endian:function(c){if(c.constructor==Number)return b.rotl(c,8)&16711935|b.rotl(c,24)&4278255360;for(var e=0;e<c.length;e++)c[e]=b.endian(c[e]);return c},randomBytes:function(c){for(var e=
[];0<c;c--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(c){for(var e=[],g=0,f=0;g<c.length;g++,f+=8)e[f>>>5]|=c[g]<<24-f%32;return e},wordsToBytes:function(c){for(var e=[],g=0;g<32*c.length;g+=8)e.push(c[g>>>5]>>>24-g%32&255);return e},bytesToHex:function(c){for(var e=[],g=0;g<c.length;g++)e.push((c[g]>>>4).toString(16)),e.push((c[g]&15).toString(16));return e.join("")},hexToBytes:function(c){for(var e=[],g=0;g<c.length;g+=2)e.push(parseInt(c.substr(g,2),16));return e},bytesToBase64:function(c){for(var e=
[],g=0;g<c.length;g+=3)for(var f=c[g]<<16|c[g+1]<<8|c[g+2],l=0;4>l;l++)8*g+6*l<=8*c.length?e.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f>>>6*(3-l)&63)):e.push("=");return e.join("")},base64ToBytes:function(c){c=c.replace(/[^A-Z0-9+\/]/ig,"");for(var e=[],g=0,f=0;g<c.length;f=++g%4)0!=f&&e.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(c.charAt(g-1))&Math.pow(2,-2*f+8)-1)<<2*f|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(c.charAt(g))>>>
6-2*f);return e}};a.exports=b})()}),Rb={utf8:{stringToBytes:function(a){return Rb.bin.stringToBytes(unescape(encodeURIComponent(a)))},bytesToString:function(a){return decodeURIComponent(escape(Rb.bin.bytesToString(a)))}},bin:{stringToBytes:function(a){for(var b=[],c=0;c<a.length;c++)b.push(a.charCodeAt(c)&255);return b},bytesToString:function(a){for(var b=[],c=0;c<a.length;c++)b.push(String.fromCharCode(a[c]));return b.join("")}}},zc=Rb,Qc=ib(function(a){(function(){var b=zc.utf8,c=zc.bin,e=function(g,
f){var l=gb.wordsToBytes,m=g;m.constructor==String?m=b.stringToBytes(m):"undefined"!==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(m)?m=Array.prototype.slice.call(m,0):Array.isArray(m)||(m=m.toString());g=gb.bytesToWords(m);var q=8*m.length;m=[];var y=1732584193,B=-271733879,H=-1732584194,v=271733878,h=-1009589776;g[q>>5]|=128<<24-q%32;g[(q+64>>>9<<4)+15]=q;for(q=0;q<g.length;q+=16){for(var t=y,J=B,X=H,M=v,ca=h,F=0;80>F;F++){if(16>F)m[F]=g[q+F];else{var P=m[F-3]^m[F-8]^m[F-14]^
m[F-16];m[F]=P<<1|P>>>31}P=(y<<5|y>>>27)+h+(m[F]>>>0)+(20>F?(B&H|~B&v)+1518500249:40>F?(B^H^v)+1859775393:60>F?(B&H|B&v|H&v)-1894007588:(B^H^v)-899497514);h=v;v=H;H=B<<30|B>>>2;B=y;y=P}y+=t;B+=J;H+=X;v+=M;h+=ca}l=l.call(gb,[y,B,H,v,h]);return f&&f.asBytes?l:f&&f.asString?c.bytesToString(l):gb.bytesToHex(l)};e._blocksize=16;e._digestsize=20;a.exports=e})()}),Qa={},Zc=function(){return function(){this.outQueues=[];this.bufferFlushers=[];this.hasLoaded=!1;this.registeredOnLoadHandlers=[]}}(),hb="undefined"!==
typeof window?Yc():void 0;w.addGlobalContexts=function(a,b){C(b,function(c){c.core.addGlobalContexts(a)})};w.addPlugin=function(a,b){C(b,function(c){c.addPlugin(a)})};w.clearGlobalContexts=function(a){C(a,function(b){b.core.clearGlobalContexts()})};w.clearUserData=function(a,b){C(b,function(c){c.clearUserData(a)})};w.convivaAppTracker=function(a){void 0===a&&(a={});if(hb)return vc("CAT","CAT","js-0.2.10","",hb,a)};w.crossDomainLinker=function(a,b){C(b,function(c){c.crossDomainLinker(a)})};w.disableAnonymousTracking=
function(a,b){C(b,function(c){c.disableAnonymousTracking(a)})};w.discardBrace=function(a,b){C(b,function(c){c.discardBrace(a)})};w.discardHashTag=function(a,b){C(b,function(c){c.discardHashTag(a)})};w.enableActivityTracking=function(a,b){C(b,function(c){c.enableActivityTracking(a)})};w.enableActivityTrackingCallback=function(a,b){C(b,function(c){c.enableActivityTrackingCallback(a)})};w.enableAnonymousTracking=function(a,b){C(b,function(c){c.enableAnonymousTracking(a)})};w.flushBuffer=function(a,b){C(b,
function(c){c.flushBuffer(a)})};w.newSession=function(a){C(a,function(b){b.newSession()})};w.newTracker=function(a,b,c){void 0===c&&(c={});if(hb)return vc(a,a,"js-0.2.10",b,hb,c)};w.preservePageViewId=function(a){C(a,function(b){b.preservePageViewId()})};w.removeGlobalContexts=function(a,b){C(b,function(c){c.core.removeGlobalContexts(a)})};w.setBufferSize=function(a,b){C(b,function(c){c.setBufferSize(a)})};w.setCollectorUrl=function(a,b){C(b,function(c){c.setCollectorUrl(a)})};w.setCookiePath=function(a,
b){C(b,function(c){c.setCookiePath(a)})};w.setCustomUrl=function(a,b){C(b,function(c){c.setCustomUrl(a)})};w.setDocumentTitle=function(a,b){C(b,function(c){c.setDocumentTitle(a)})};w.setOptOutCookie=function(a,b){C(b,function(c){c.setOptOutCookie(a)})};w.setReferrerUrl=function(a,b){C(b,function(c){c.setReferrerUrl(a)})};w.setUserId=function(a,b){C(b,function(c){c.setUserId(a)})};w.setUserIdFromCookie=function(a,b){C(b,function(c){c.setUserIdFromCookie(a)})};w.setUserIdFromLocation=function(a,b){C(b,
function(c){c.setUserIdFromLocation(a)})};w.setUserIdFromReferrer=function(a,b){C(b,function(c){c.setUserIdFromReferrer(a)})};w.setVisitorCookieTimeout=function(a,b){C(b,function(c){c.setVisitorCookieTimeout(a)})};w.trackCustomEvent=function(a,b,c){C(c,function(e){var g=e.core.getConfig();void 0!=g.customEventTrackingConfiguration?void 0!=g.customEventTrackingConfiguration.blocklist&&0<g.customEventTrackingConfiguration.blocklist.length?(g=g.customEventTrackingConfiguration.blocklist,-1==g.indexOf("*")&&
-1==g.indexOf(""+a.name)&&e.core.track(lb({name:a.name,data:a.data}),b.context,b.timestamp)):e.core.track(lb({name:a.name,data:a.data}),b.context,b.timestamp):e.core.track(lb({name:a.name,data:a.data}),b.context,b.timestamp)})};w.trackPageView=function(a,b){C(b,function(c){c.trackPageView(a)})};w.trackSelfDescribingEvent=function(a,b){C(b,function(c){c.core.track(bc({event:a.event}),a.context,a.timestamp)})};w.trackStructEvent=function(a,b){C(b,function(c){c=c.core;var e=c.track,g=a.category,f=a.action,
l=a.label,m=a.property,q=a.value,y=Ra();y.add("e","se");y.add("se_ca",g);y.add("se_ac",f);y.add("se_la",l);y.add("se_pr",m);y.add("se_va",null==q?void 0:q.toString());e.call(c,y,a.context,a.timestamp)})};w.updatePageActivity=function(a){C(a,function(b){b.updatePageActivity()})};w.version="0.2.10";Object.defineProperty(w,"__esModule",{value:!0})})
//# sourceMappingURL=index.umd.min.js.map
