/*!
 * Browser tracker for Conviva v1.0.3 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */

'use strict';!function(Ga,la){"object"==typeof exports&&"undefined"!=typeof module?la(exports):"function"==typeof define&&define.amd?define(["exports"],la):la((Ga="undefined"!=typeof globalThis?globalThis:Ga||self).convivaBrowserTracking={})}(this,function(Ga){function la(a){return la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},la(a)}function Eg(a,
  c,b,d){return new (b||(b=Promise))(function(e,f){function h(l){try{n(d.next(l))}catch(p){f(p)}}function k(l){try{n(d.throw(l))}catch(p){f(p)}}function n(l){var p;l.done?e(l.value):(p=l.value,p instanceof b?p:new b(function(z){z(p)})).then(h,k)}n((d=d.apply(a,c||[])).next())})}function Fg(a,c){function b(n){return function(l){return function(p){if(d)throw new TypeError("Generator is already executing.");for(;k;)try{if(d=1,e&&(f=2&p[0]?e.return:p[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=
  f.call(e,p[1])).done)return f;switch(e=0,f&&(p=[2&p[0],f.value]),p[0]){case 0:case 1:f=p;break;case 4:return k.label++,{value:p[1],done:!1};case 5:k.label++;e=p[1];p=[0];continue;case 7:p=k.ops.pop();k.trys.pop();continue;default:if(!(f=k.trys,(f=0<f.length&&f[f.length-1])||6!==p[0]&&2!==p[0])){k=0;continue}if(3===p[0]&&(!f||p[1]>f[0]&&p[1]<f[3]))k.label=p[1];else if(6===p[0]&&k.label<f[1])k.label=f[1],f=p;else if(f&&k.label<f[2])k.label=f[2],k.ops.push(p);else{f[2]&&k.ops.pop();k.trys.pop();continue}}p=
  c.call(a,k)}catch(z){p=[6,z],e=0}finally{d=f=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([n,l])}}var d,e,f,h,k={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return h={next:b(0),throw:b(1),return:b(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h}function xa(a,c,b){if(b||2===arguments.length)for(var d,e=0,f=c.length;e<f;e++)!d&&e in c||(d||(d=Array.prototype.slice.call(c,0,e)),d[e]=c[e]);return a.concat(d||Array.prototype.slice.call(c))}
  function Gg(a){if(!a)return a;switch(4-a.length%4){case 2:a+="==";break;case 3:a+="="}return function(c){var b,d,e,f=0,h=0,k="",n=[];if(!c)return c;c+="";do{var l=(b=Ab.indexOf(c.charAt(f++))<<18|Ab.indexOf(c.charAt(f++))<<12|(d=Ab.indexOf(c.charAt(f++)))<<6|(e=Ab.indexOf(c.charAt(f++))))>>16&255;var p=b>>8&255;b&=255;n[h++]=64===d?String.fromCharCode(l):64===e?String.fromCharCode(l,p):String.fromCharCode(l,p,b)}while(f<c.length);return k=n.join(""),function(z){return decodeURIComponent(z.split("").map(function(m){return"%"+
  ("00"+m.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(k.replace(/\0+$/,""))}(a.replace(/-/g,"+").replace(/_/g,"/"))}function Bd(){var a,c={},b=[],d=[],e=[],f=function(h,k){null!=k&&""!==k&&(c[h]=k)};return{add:f,addDict:function(h){for(var k in h)Object.prototype.hasOwnProperty.call(h,k)&&f(k,h[k])},addJson:function(h,k,n){n&&De(n)&&(h={keyIfEncoded:h,keyIfNotEncoded:k,json:n},d.push(h),b.push(h))},addContextEntity:function(h){e.push(h)},getPayload:function(){return c},getJson:function(){return b},
  withJsonProcessor:function(h){a=h},build:function(){return null==a||a(this,d,e),c}}}function Hg(a){return function(c,b,d){for(var e=function(l,p,z){l=JSON.stringify(l);if(a){z=c.add;if(l){var m,r=0,C=0,A=[];if(l){l=unescape(encodeURIComponent(l));do{var y=(m=l.charCodeAt(r++)<<16|l.charCodeAt(r++)<<8|l.charCodeAt(r++))>>18&63;var u=m>>12&63;var v=m>>6&63;m&=63;A[C++]=Ab.charAt(y)+Ab.charAt(u)+Ab.charAt(v)+Ab.charAt(m)}while(r<l.length);y=A.join("");l=l.length%3;l=(l?y.slice(0,l-3):y)+"===".slice(l||
  3)}l=l.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}z.call(c,p,l)}else c.add(z,l)},f=function(l,p){l||(l=c.getPayload(),l=(a?l.cx:l.co)?JSON.parse(a?Gg(l.cx):l.co):void 0);return l?l.dt=l.dt.concat(p.dt):l=p,l},h=void 0,k=0;k<b.length;k++){var n=b[k];"cx"===n.keyIfEncoded?h=f(h,n.json):e(n.json,n.keyIfEncoded,n.keyIfNotEncoded)}(b.length=0,d.length)&&(h=f(h,{sc:"sp/ctx/1-0-0",dt:xa([],d,!0)}),d.length=0);h&&e(h,"cx","co")}}function De(a){if(!Ee(a))return!1;for(var c in a)if(Object.prototype.hasOwnProperty.call(a,
  c))return!0;return!1}function Ee(a){return null!=a&&(a.constructor==={}.constructor||a.constructor===[].constructor)}function Ig(){var a=[],c=[],b=function(d){var e=function(n){var l=0;for(n=n.getJson();l<n.length;l++){var p=n[l];if("ue_px"===p.keyIfEncoded&&"object"===la(p.json.data)&&(p=p.json.data.schema,"string"==typeof p))return p}return""}(d),f=function(n){n=n.getPayload().e;return"string"==typeof n?n:""}(d),h=[],k=Cd(a,d,f,e);h.push.apply(h,k);d=function(n,l,p,z){var m;n=Fe(n).map(function(r){if((r=
  function(C,A,y,u){if(Ge(C)){var v=C[0],t=!1;try{t=v({event:A.getPayload(),eventType:y,eventSchema:u})}catch(R){t=!1}if(!0===t)return Cd(C[1],A,y,u)}else if(He(C)&&function(R,M){var T=0,G=0,L=R.accept;Array.isArray(L)?R.accept.some(function(S){return Sc(S,M)})&&G++:"string"==typeof L&&Sc(L,M)&&G++;L=R.reject;Array.isArray(L)?R.reject.some(function(S){return Sc(S,M)})&&T++:"string"==typeof L&&Sc(L,M)&&T++;return 0<G&&0===T?!0:!1}(C[0],u))return Cd(C[1],A,y,u);return[]}(r,l,p,z))&&0!==r.length)return r});
  return(m=[]).concat.apply(m,n.filter(function(r){return null!=r&&r.filter(Boolean)}))}(c,d,f,e);return h.push.apply(h,d),h};return{getGlobalPrimitives:function(){return a},getConditionalProviders:function(){return c},addGlobalContexts:function(d){for(var e=[],f=[],h=0;h<d.length;h++){var k=d[h];Ie(k)?e.push(k):fc(k)&&f.push(k)}a=a.concat(f);c=c.concat(e)},clearGlobalContexts:function(){c=[];a=[]},removeGlobalContexts:function(d){for(var e=function(h){Ie(h)?c=c.filter(function(k){return JSON.stringify(k)!==
  JSON.stringify(h)}):fc(h)&&(a=a.filter(function(k){return JSON.stringify(k)!==JSON.stringify(h)}))},f=0;f<d.length;f++)e(d[f])},getApplicableContexts:function(d){return b(d)}}}function Je(a){for(var c,b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];return null!==(c=null==a?void 0:a.map(function(e){if("function"!=typeof e)return e;try{return e.apply(void 0,b)}catch(f){}}).filter(Boolean))&&void 0!==c?c:[]}function Ke(a){a=a.split(".");return!!(a&&1<a.length)&&function(c){if("*"===c[0]||"*"===c[1])return!1;
  if(0<c.slice(2).length){var b=!1,d=0;for(c=c.slice(2);d<c.length;d++)if("*"===c[d])b=!0;else if(b)return!1;return!0}return 2==c.length}(a)}function Le(a){a=/^iglu:((?:(?:[a-zA-Z0-9-_]+|\*).)+(?:[a-zA-Z0-9-_]+|\*))\/([a-zA-Z0-9-_.]+|\*)\/jsonschema\/([1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)$/.exec(a);if(null!==a&&Ke(a[1]))return a.slice(1,6)}function Dd(a){if(a=Le(a)){var c=a[0];return 5===a.length&&Ke(c)}return!1}function Me(a){return function(c){return Array.isArray(c)&&c.every(function(b){return"string"==
  typeof b})}(a)?a.every(function(c){return Dd(c)}):"string"==typeof a&&Dd(a)}function uc(a){return!!(De(a)&&"sc"in a&&"dt"in a)&&"string"==typeof a.sc&&"object"===la(a.dt)}function Tc(a){return"function"==typeof a&&1>=a.length}function fc(a){return Tc(a)||uc(a)}function Ge(a){return!(!Array.isArray(a)||2!==a.length)&&(Array.isArray(a[1])?Tc(a[0])&&a[1].every(fc):Tc(a[0])&&fc(a[1]))}function He(a){return!(!Array.isArray(a)||2!==a.length)&&!!function(c){var b=0;if(null!=c&&"object"===la(c)&&!Array.isArray(c)){if(Object.prototype.hasOwnProperty.call(c,
  "accept")){if(!Me(c.accept))return!1;b+=1}if(Object.prototype.hasOwnProperty.call(c,"reject")){if(!Me(c.reject))return!1;b+=1}return 0<b&&2>=b}return!1}(a[0])&&(Array.isArray(a[1])?a[1].every(fc):fc(a[1]))}function Ie(a){return Ge(a)||He(a)}function Sc(a,c){if(!Dd(a))return!1;a=Le(a);c=function(d){d=/^iglu:([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_]+)\/jsonschema\/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$/.exec(d);if(null!==d)return d.slice(1,6)}(c);if(a&&c){if(!function(d,e){e=e.split(".");d=d.split(".");
  if(e&&d){if(e.length!==d.length)return!1;for(var f=0;f<d.length;f++)if(!Ne(e[f],d[f]))return!1;return!0}return!1}(a[0],c[0]))return!1;for(var b=1;5>b;b++)if(!Ne(a[b],c[b]))return!1;return!0}return!1}function Ne(a,c){return a&&c&&"*"===a||a===c}function Fe(a){return Array.isArray(a)?a:[a]}function Cd(a,c,b,d){var e;a=Fe(a).map(function(f){a:if(uc(f))f=[f];else{if(Tc(f)){b:{var h=void 0;try{var k=(h=f({event:c.getPayload(),eventType:b,eventSchema:d}),Array.isArray(h)&&h.every(uc)||uc(h)?h:void 0);break b}catch(n){}k=
  void 0}if(uc(k)){f=[k];break a}if(Array.isArray(k)){f=k;break a}}f=void 0}if(f&&0!==f.length)return f});return(e=[]).concat.apply(e,a.filter(function(f){return null!=f&&f.filter(Boolean)}))}function Jg(a){void 0===a&&(a={});var c=a.base64,b=a.corePlugins,d=null!=b?b:[];c=function(f,h,k){var n=function(m){return{addPluginContexts:function(r){var C=r?xa([],r,!0):[];return m.forEach(function(A){try{A.contexts&&C.push.apply(C,A.contexts())}catch(y){ma.error("Error adding plugin contexts",y)}}),C}}}(h),
  l=Ig(),p=f,z={};return{track:function(m,r,C){m.withJsonProcessor(Hg(p));m.add("eid",Bb.v4());m.addDict(z);C=function(y){return null==y?{type:"dtm",value:(new Date).getTime()}:"number"==typeof y?{type:"dtm",value:y}:"ttm"===y.type?{type:"ttm",value:y.value}:{type:"dtm",value:y.value||(new Date).getTime()}}(C);m.add(C.type,C.value.toString());r=function(y,u){y=l.getApplicableContexts(y);var v=[];return u&&u.length&&v.push.apply(v,u),y&&y.length&&v.push.apply(v,y),v}(m,n.addPluginContexts(r));r=r&&r.length?
  {sc:"sp/ctx/1-0-0",dt:r}:void 0;void 0!==r&&m.addJson("cx","co",r);h.forEach(function(y){try{y.beforeTrack&&y.beforeTrack(m)}catch(u){ma.error("Plugin beforeTrack",u)}});"function"==typeof k&&k(m);var A=m.build();return h.forEach(function(y){try{y.afterTrack&&y.afterTrack(A)}catch(u){ma.error("Plugin afterTrack",u)}}),A},addPayloadPair:function(m,r){z[m]=r},configuration:a,getConfig:function(){return a},setConfig:function(m){m&&(void 0!==m.base64&&(a.base64=m.base64,p=m.base64),void 0!==m.linkClickTracking&&
  (a.linkClickTracking=m.linkClickTracking),void 0!==m.lifecycleAutotracking&&(a.lifecycleAutotracking=m.lifecycleAutotracking),void 0!==m.cacheRefreshInterval&&(a.cacheRefreshInterval=m.cacheRefreshInterval),void 0!==m.buttonClickTracking&&(a.buttonClickTracking=m.buttonClickTracking),void 0!==m.exceptionAutotracking&&(a.exceptionAutotracking=m.exceptionAutotracking),void 0!==m.enablePeriodicHeartbeat&&(a.enablePeriodicHeartbeat=m.enablePeriodicHeartbeat),void 0!==m.periodicHeartbeatInterval&&(a.periodicHeartbeatInterval=
  m.periodicHeartbeatInterval),void 0!==m.enc&&(a.enc=m.enc),void 0!==m.mend&&(a.mend=m.mend),void 0!==m.maxLocalStorageQueueSize&&(a.maxLocalStorageQueueSize=m.maxLocalStorageQueueSize),void 0!==m.maxGetBytes&&(a.maxGetBytes=m.maxGetBytes),void 0!==m.bufferSize&&(a.bufferSize=m.bufferSize),void 0!==m.customEventTrackingConfiguration&&(a.customEventTrackingConfiguration=m.customEventTrackingConfiguration),void 0!==m.networkRequestTrackingConfiguration&&(a.networkRequestTrackingConfiguration=m.networkRequestTrackingConfiguration),
  void 0!==m.traceparentconfig&&(a.traceparentconfig=m.traceparentconfig),void 0!==m.metaTagsTrackingConfiguration&&(a.metaTagsTrackingConfiguration=m.metaTagsTrackingConfiguration),void 0!==m.performanceContextConfig&&(a.performanceContextConfig=m.performanceContextConfig),void 0!==m.configurationVersion&&(a.configurationVersion=m.configurationVersion),void 0!==m.catRcLastUpdatedTs&&(a.catRcLastUpdatedTs=m.catRcLastUpdatedTs),void 0!==m.endpoint&&(a.endpoint=m.endpoint),void 0!==m.controlIngestConfig&&
  (a.controlIngestConfig=m.controlIngestConfig),void 0!==m.applicationContext&&(a.applicationContext=m.applicationContext),void 0!==m.emitterConfiguration&&(a.emitterConfiguration=m.emitterConfiguration),void 0!==m.di&&(a.di=m.di))},getBase64Encoding:function(){return p},setBase64Encoding:function(m){p=m},addPayloadDict:function(m){for(var r in m)Object.prototype.hasOwnProperty.call(m,r)&&(z[r]=m[r])},resetPayloadPairs:function(m){z=Ee(m)?m:{}},setTrackerVersion:function(m){z.tv=m},setTrackerNamespace:function(m){z.tna=
  m},setAppId:function(m){z.aid=m},setPlatform:function(m){z.p=m},setUserId:function(m){z.uid=m},setScreenResolution:function(m,r){z.res=m+"x"+r},setViewport:function(m,r){z.vp=m+"x"+r},setColorDepth:function(m){z.cd=m},setTimezone:function(m){z.tz=m},setLang:function(m){z.lang=m},setIpAddress:function(m){z.ip=m},setUseragent:function(m){z.ua=m},addGlobalContexts:function(m){l.addGlobalContexts(m)},clearGlobalContexts:function(){l.clearGlobalContexts()},removeGlobalContexts:function(m){l.removeGlobalContexts(m)}}}(null==
  c||c,d,a.callback);var e=ha(ha({},c),{addPlugin:function(f){var h,k;f=f.plugin;d.push(f);null===(h=f.logger)||void 0===h||h.call(f,ma);null===(k=f.activateCorePlugin)||void 0===k||k.call(f,e)}});return null==d||d.forEach(function(f){var h,k;null===(h=f.logger)||void 0===h||h.call(f,ma);null===(k=f.activateCorePlugin)||void 0===k||k.call(f,e)}),e}function pb(a){var c=a.event;a=c.sc;var b=c.dt;c=Bd();a={sc:"sp/ue/1-0-0",dt:{sc:a,dt:b}};return c.add("e","ue"),c.addJson("ue_px","ue_pr",a),c}function Kg(a){var c=
  a.name,b=JSON.parse(a.data);a=(b=Ed(b),JSON.stringify(b));return pb({event:{sc:"cv/re/1-0-1",dt:Cb({name:c,eventData:a})}})}function Ed(a){return a&&Array.isArray(a)?a.map(Ed):a&&"object"===la(a)?(a=Object.entries(a).reduce(function(c,b){var d=b[0];b=b[1];return""!==d.trim()&&(c[d]=Ed(b)),c},{}),0<Object.keys(a).length?a:void 0):a}function Cb(a,c){void 0===c&&(c={});var b={},d;for(d in a)(c[d]||null!==a[d]&&void 0!==a[d])&&(b[d]=a[d]);return b}function gc(a){for(var c=a.length;0<=--c;)a[c]=0}function Fd(a,
  c,b,d,e){this.static_tree=a;this.extra_bits=c;this.extra_base=b;this.elems=d;this.max_length=e;this.has_stree=a&&a.length}function Gd(a,c){this.dyn_tree=a;this.max_code=0;this.stat_desc=c}function hb(a,c,b,d,e){this.good_length=a;this.max_lazy=c;this.nice_length=b;this.max_chain=d;this.func=e}function Lg(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=Uc;this.last_flush=-1;this.w_mask=
  this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new Uint16Array(1146);this.dyn_dtree=new Uint16Array(122);this.bl_tree=new Uint16Array(78);
  Db(this.dyn_ltree);Db(this.dyn_dtree);Db(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new Uint16Array(16);this.heap=new Uint16Array(573);Db(this.heap);this.heap_max=this.heap_len=0;this.depth=new Uint16Array(573);Db(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.sym_end=this.sym_next=this.lit_bufsize=this.sym_buf=0}function vc(a){a=this.options=Oe({level:Mg,method:Ng,chunkSize:16384,windowBits:15,memLevel:8,strategy:Og},a||
  {});a.raw&&0<a.windowBits?a.windowBits=-a.windowBits:a.gzip&&0<a.windowBits&&16>a.windowBits&&(a.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new Pe;this.strm.avail_out=0;var c=wc.deflateInit2(this.strm,a.level,a.method,a.windowBits,a.memLevel,a.strategy);if(c!==Vc)throw Error(Qb[c]);if(a.header&&wc.deflateSetHeader(this.strm,a.header),a.dictionary){var b;if(b="string"==typeof a.dictionary?Hd(a.dictionary):"[object ArrayBuffer]"===Qe.call(a.dictionary)?new Uint8Array(a.dictionary):
  a.dictionary,(c=wc.deflateSetDictionary(this.strm,b))!==Vc)throw Error(Qb[c]);this._dict_set=!0}}function Id(a,c){c=new vc(c);if(c.push(a,!0),c.err)throw c.msg||Qb[c.err];return c.result}function Pg(){this.strm=null;this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=
  this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new Uint16Array(320);this.work=new Uint16Array(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function xc(a){var c=this.options=Oe({chunkSize:65536,windowBits:15,to:""},a||{});c.raw&&0<=c.windowBits&&16>c.windowBits&&(c.windowBits=-c.windowBits,0===c.windowBits&&(c.windowBits=-15));!(0<=c.windowBits&&16>c.windowBits)||a&&a.windowBits||(c.windowBits+=32);15<c.windowBits&&48>c.windowBits&&0==(15&c.windowBits)&&
  (c.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new Pe;this.strm.avail_out=0;a=qb.inflateInit2(this.strm,c.windowBits);if(a!==yc)throw Error(Qb[a]);if(this.header=new Qg,qb.inflateGetHeader(this.strm,this.header),c.dictionary&&("string"==typeof c.dictionary?c.dictionary=Hd(c.dictionary):"[object ArrayBuffer]"===Re.call(c.dictionary)&&(c.dictionary=new Uint8Array(c.dictionary)),c.raw&&(a=qb.inflateSetDictionary(this.strm,c.dictionary))!==yc))throw Error(Qb[a]);}function Jd(a,
  c){c=new xc(c);if(c.push(a),c.err)throw c.msg||Qb[c.err];return c.result}function Wc(a){return Number.isInteger&&Number.isInteger(a)||"number"==typeof a&&isFinite(a)&&Math.floor(a)===a}function Kd(a){if(!a||"string"!=typeof a.valueOf()){a=a.text||"";var c=document.getElementsByTagName("title");c&&null!=c[0]&&(a=c[0].text)}return a}function Xc(a){var c=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(a);return c?c[1]:a}function Se(a){var c=a.length;return"."===a.charAt(--c)&&(a=a.slice(0,c)),"*."===
  a.slice(0,2)&&(a=a.slice(1)),a}function Ld(a){var c=window,b=zc("referrer",c.location.href)||zc("referer",c.location.href);if(b)return b;if(a)return a;try{if(c.top)return c.top.document.referrer;if(c.parent)return c.parent.document.referrer}catch(d){}return document.referrer}function ab(a,c,b,d){return a.addEventListener?(a.addEventListener(c,b,d),!0):a.attachEvent?a.attachEvent("on"+c,b):void(a["on"+c]=b)}function zc(a,c){return(a=(new RegExp("^[^#]*[?&]"+a+"=([^&#]*)")).exec(c))?decodeURIComponent(a[1].replace(/\+/g,
  " ")):null}function Yc(a,c,b){void 0===b&&(b=63072E3);try{var d=window.localStorage,e=Date.now()+1E3*b;return d.setItem("".concat(a,".expires"),e.toString()),d.setItem(a,c),!0}catch(f){return!1}}function Te(a){try{var c=window.localStorage;return c.removeItem(a),c.removeItem(a+".expires"),!0}catch(b){return!1}}function ib(a,c,b,d,e,f,h){return 1<arguments.length?document.cookie=a+"="+encodeURIComponent(null!=c?c:"")+(b?"; Expires="+(new Date(+new Date+1E3*b)).toUTCString():"")+(d?"; Path="+d:"")+
  (e?"; Domain="+e:"")+(f?"; SameSite="+f:"")+(h?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+a+"=")[1]||"").split(";")[0])}function Ue(a){if(null==a||"object"!==la(a)||Array.isArray(a))return function(){return!0};var c=Object.prototype.hasOwnProperty.call(a,"allowlist"),b=function(d){var e={};if(d=d.allowlist||d.denylist){Array.isArray(d)||(d=[d]);for(var f=0;f<d.length;f++)e[d[f]]=!0}return e}(a);return function(d,e){return d.hasOwnProperty("filter")&&d.filter?d.filter:e}(a,
  function(d){a:{var e=0;for(d=d.className.match(/\S+/g)||[];e<d.length;e++)if(b[d[e]]){e=!0;break a}e=!1}return e===c})}function Ve(a){try{var c=null===window||void 0===window?void 0:window.localStorage;return!!c&&(c.removeItem(a),!0)}catch(b){return!1}}function Zc(){"undefined"!=typeof window&&void 0!==window.localStorage&&localStorage.removeItem(H.SAMPLING_STORAGE_RANDOM_NUMBER_KEY)}function Md(a,c){return void 0!==a.act&&void 0!==a.act[c]&&(a=a.act[c],void 0!==a)?a:H.DEFAULT_SAMPLING_ACTION[c]}
  function $c(a,c){return a.length<=c?a:a.slice(0,c-3)+"..."}function Rg(a,c,b){try{if("string"==typeof b&&"string"==typeof a&&"*"===b.trim())return!0;switch(c){case "==":case "equal":return a===b;case "!=":return a!==b;case ">":return a>b;case "<":return a<b;case ">=":return a>=b;case "<=":return a<=b;case "contains":return""!==b&&"string"==typeof a&&"string"==typeof b&&-1!==a.toLowerCase().indexOf(b.toLowerCase());default:return!1}}catch(d){return console.warn("Conviva App Tracker: Error in Compare values nwreq ".concat(d)),
  !1}}function Sg(a,c,b){var d={};try{for(var e=0;e<c.length;e++){var f=c[e],h=a,k=d;b&&(f=f.toLowerCase(),h=h&&Object.entries(h).reduce(function(z,m){var r=m[1];return z[m[0].toLowerCase()]=r,z},{}));for(var n=f.split("."),l=0;l<n.length;l++){var p=n[l];null!=h&&h.hasOwnProperty(p)&&(l===n.length-1?k[p]=h[p]:(k[p]=k[p]||{},h=h[p],k=k[p]))}}}catch(z){console.warn("Conviva App Tracker: Error in filtering schema object nwreq ".concat(z))}return d}function We(a,c,b){var d,e,f;return"translate.googleusercontent.com"===
  a?(""===b&&(b=c),a=Xc(c=null!==(e=c,d=(f=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(e))&&1<(null==f?void 0:f.length)?zc("u",f[1]):null)&&void 0!==d?d:"")):"cc.bingj.com"!==a&&"webcache.googleusercontent.com"!==a||(a=Xc(c=document.links[0].href)),[a,c,b]}function Ac(a,c){void 0===c&&(c=1);"0"===a[0]?(a[7]=a[6],a[5]=a[4],a[3]++):a[3]=c;c=Bb.v4();return a[6]=c,a[8]="",a[9]=void 0,c}function Nd(a){a[4]=Math.round((new Date).getTime()/1E3)}function Od(a){return{activateLCPObserver:function(){try{PerformanceObserver&&
  (new PerformanceObserver(function(c){try{c.getEntries().forEach(function(b){var d;if("largest-contentful-paint"===b.entryType){var e=null===performance||void 0===performance?void 0:performance.getEntriesByType("navigation"),f=void 0;e&&0<(null==e?void 0:e.length)&&(f=null===(d=e[0])||void 0===d?void 0:d.activationStart);ra=ha(ha({},b.toJSON()),{performanceNavigationActivationStart:null!=f?f:0})}})}catch(b){console.warn("convivaAppTracker error in conviva lcp observer "+b)}})).observe({type:"largest-contentful-paint",
  buffered:!0})}catch(c){console.warn("convivaAppTracker conviva_lcp failed "+c)}},contexts:function(){try{switch(a){case H.PERFORMANCE_CONTEXT.DISABLED:return[];case H.PERFORMANCE_CONTEXT.PERFORMANCE_NAVIGATION_TIMING:return function(){var c,b,d;try{var e=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};if(e.getEntriesByType){var f=e.getEntriesByType("navigation")[0],h=null!==(c=null==e?void 0:e.timeOrigin)&&void 0!==c?c:0;if(!f)return[];var k={st:Math.floor(h+
  f.startTime),dls:Math.floor(h+f.domainLookupStart),dle:Math.floor(h+f.domainLookupEnd),rss:Math.floor(h+f.responseStart),rse:Math.floor(h+f.responseEnd),le:Math.floor(h+f.loadEventEnd),dur:Math.floor(h+f.duration),as:Math.floor(h+f.activationStart)};return(null==ra?void 0:ra.startTime)&&(k.lcp={rt:Math.floor(h+ra.startTime),url:128<(null===(b=null==ra?void 0:ra.url)||void 0===b?void 0:b.length)?null===(d=null==ra?void 0:ra.url)||void 0===d?void 0:d.substring(0,128):ra.url,sz:ra.size}),[{sc:"cv/pc/1-0-1",
  dt:k}]}return[]}catch(n){return console.warn("ConvivaAppTracker: issue will getting performance Navigation timing context"),[]}}();default:return xa(xa([],function(){var c=window;c=c.performance||c.mozPerformance||c.msPerformance||c.webkitPerformance;var b=c.timing;return c?[{sc:"w3/pt/1-0-0",dt:{navigationStart:b.navigationStart,domainLookupStart:b.domainLookupStart,domainLookupEnd:b.domainLookupEnd,responseStart:b.responseStart,responseEnd:b.responseEnd,loadEventEnd:b.loadEventEnd}}]:[]}(),!0),
  function(){var c,b,d;try{if(void 0!==(null==ra?void 0:ra.startTime)&&"number"==typeof(null==ra?void 0:ra.startTime))return[{sc:"cv/lcp/1-0-0",dt:{lcp:Math.round(ra.startTime)-(null!==(c=ra.performanceNavigationActivationStart)&&void 0!==c?c:0),url:128<(null===(b=null==ra?void 0:ra.url)||void 0===b?void 0:b.length)?null===(d=null==ra?void 0:ra.url)||void 0===d?void 0:d.substring(0,128):ra.url}}]}catch(e){}return[]}(),!0)}}catch(c){return console.warn("convivaAppTracker problem in perfromance context "+
  c),[]}}}}function Ca(a,c,b){var d,e;try{if(a&&c){var f=null==a?void 0:a.getConfig(),h=function(k,n,l){var p,z,m,r={message:""};try{var C=l.message,A=l.error,y=l.className,u=l.extraData;if(C)r.message=C;else if("string"==typeof A){if(!(0<A.trim().length))return ma.warn("Conviva Eco Sensor:: Mandatory field message is missing"),null;r.message=A}else"object"===la(A)&&("string"==typeof A.message&&0<A.message.trim().length&&(r.message=$c(A.message,H.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_MESSAGE_LENGTH)),"string"==
  typeof A.name&&0<A.name.trim().length&&(r.exceptionName=$c(A.name,H.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_EXCEPTION_NAME_LENGTH)),"string"==typeof A.stack&&0<A.stack.trim().length&&(r.stackTrace=$c(A.stack,H.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_STACK_LENGTH)));if(0===r.message.trim().length)return ma.warn("Conviva Eco Sensor:: Mandatory field message is missing"),null;"string"==typeof y&&0<y.trim().length&&(r.className=$c(y,H.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_CLASSNAME_LENGTH));null!=u&&(r.extraData=u);var v=null==
  k?void 0:k.getConfig();if((null==v?void 0:v.configurationVersion)&&(r.remoteConfigVersion=v.configurationVersion),(null==l?void 0:l.configAppliedTime)&&(r.configAppliedTime=null==l?void 0:l.configAppliedTime),(null==v?void 0:v.cacheRefreshInterval)&&(r.cacheRefreshInterval=v.cacheRefreshInterval),(null==l?void 0:l.configAppliedSrc)&&(r.configAppliedSrc=null==l?void 0:l.configAppliedSrc),localStorage){var t=localStorage.getItem(H.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);null!=t&&(r.samplingRandomNumber=
  parseFloat(t))}"number"==typeof(null===(z=null===(p=null==v?void 0:v.controlIngestConfig)||void 0===p?void 0:p.sel)||void 0===z?void 0:z.pct)?(r.samplingPercentage=v.controlIngestConfig.sel.pct,r.samplingDecision=H.SAMPLING_STATUS.DERIVED,null!=la(null===(m=null==v?void 0:v.controlIngestConfig)||void 0===m?void 0:m.act)&&(r.extraData=ha(ha({},r.extraData),{samplingActionConfig:v.controlIngestConfig.act}))):r.samplingDecision=H.SAMPLING_STATUS.DEFAULT;"function"==typeof(null==n?void 0:n.getSamplingMode)&&
  "string"==typeof(null==n?void 0:n.getSamplingMode())&&(r.samplingStatus=(null==n?void 0:n.getSamplingMode())==H.SAMPLING_MODES.RCFG)}catch(R){return ma.warn("Error occurred while generating diagnostic object",R),null}return r}(a,c,b);h&&function(k){var n;try{var l=null==k?void 0:k.getConfig(),p=(null===(n=null==l?void 0:l.di)||void 0===n?void 0:n.lim)||10,z=Date.now();return 6E4<=z-Xe&&(Ye=0,Xe=z),!(++Ye>p)}catch(m){return ma.warn("Conviva Eco Sensor:: Error occured while checking diagnostic event is allowed",
  m),!1}}(a)&&("boolean"!=typeof(null===(d=null==f?void 0:f.di)||void 0===d?void 0:d.en)||!0!==(null===(e=null==f?void 0:f.di)||void 0===e?void 0:e.en)||null!=a&&a.track(pb({event:{sc:"iglu:com.conviva/di/jsonschema/1-0-4",dt:Cb({msg:h.message,cn:h.className,st:h.stackTrace,en:h.exceptionName,ed:h.extraData,rcv:h.remoteConfigVersion,cat:h.configAppliedTime,cri:h.cacheRefreshInterval,csrc:h.configAppliedSrc,srn:h.samplingRandomNumber,spr:h.samplingPercentage,ss:h.samplingStatus,sd:h.samplingDecision})}})))}}catch(k){ma.warn("Conviva Eco Sensor:: Error occurred while sending reportDiagnosticError",
  k)}}function Tg(){try{var a=!!window.localStorage}catch(b){a=!0}if(!a)return!1;try{var c=window.localStorage;return c.setItem("modernizr","modernizr"),c.removeItem("modernizr"),!0}catch(b){return!1}}function Ug(a,c,b,d,e,f,h,k,n,l,p,z,m,r,C,A,y,u,v){function t(F){var N=Object.keys(F).map(function(K){return[K,F[K]]}).reduce(function(K,ca){return K[ca[0]]=ca[1].toString(),K},{});return{evt:N,bytes:R(JSON.stringify(N))}}function R(F){for(var N=0,K=0;K<F.length;K++){var ca=F.charCodeAt(K);127>=ca?N+=
  1:2047>=ca?N+=2:55296<=ca&&57343>=ca?(N+=4,K++):N+=65535>ca?3:4}return N}function M(F,N){N=G(N,!0,!1);F=L(S([F.evt]));try{C().toLowerCase()!==Eb.NONE&&(F=Ze.gzip(F,{level:6}),N.setRequestHeader("Content-Encoding",Eb.GZIP))}catch(K){}v()!==H.SAMPLING_MODES.NONE&&N.send(F)}function T(F){for(void 0===F&&(F=!1);V.length&&"string"!=typeof V[0]&&"object"!==la(V[0]);)V.shift();if(1>V.length)J=!1;else{if(!Y||"string"!=typeof Y.valueOf())throw"No collector configured";if(J=!0,window.clearTimeout(ka),ka=-1,
  ya){var N,K=void 0,ca=void 0;"object"===la(V[0])?(N=G(K=Y,!0,F),ca=function(oa){for(var va=0,rb=0;va<oa.length&&!((rb+=oa[va].bytes)>=y());)va+=1;return va}(V)):(K=Q(V[0]),N=G(K,!1,F),ca=1);var Qa=setTimeout(function(){N.abort();J=!1},l);if(N.onreadystatechange=function(){4===N.readyState&&(clearTimeout(Qa),200<=N.status&&300>N.status?T():(ma.error("Status ".concat(N.status,", will not retry.")),J=!1))},"object"===la(V[0])){var Wa=V.slice(0,ca);if(0<Wa.length){F=!1;Wa=Wa.map(function(oa){return oa.evt});
  if(Ra){var sb=new Blob([L(S(Wa))],{type:"application/json"});try{F=navigator.sendBeacon(K,sb)}catch(oa){F=!1}}if(!0===F)T();else{K=L(S(Wa));try{C().toLowerCase()!==Eb.NONE&&(K=Ze.gzip(K,{level:6}),N.setRequestHeader("Content-Encoding",Eb.GZIP))}catch(oa){}try{v()!==H.SAMPLING_MODES.NONE&&N.send(K)}catch(oa){}}}}else N.send();!function(oa){for(var va=0;va<oa;va++)V.shift();b&&Yc(Z,JSON.stringify(V.slice(-1*n())))}(ca)}else if(p||"object"===la(V[0]))J=!1;else{ca=new Image(1,1);var Sa=!0;ca.onload=function(){Sa&&
  (Sa=!1,V.shift(),b&&Yc(Z,JSON.stringify(V.slice(-1*n()))),T())};ca.onerror=function(){Sa&&(Sa=!1,J=!1)};ca.src=Q(V[0]);setTimeout(function(){Sa&&J&&(Sa=!1,T())},l)}}}function G(F,N,K){var ca=new XMLHttpRequest,Qa;for(Qa in N?(ca.open("POST",F,!K),ca.setRequestHeader("Content-Type","application/json; charset=UTF-8")):ca.open("GET",F,!K),ca.withCredentials=m,p&&ca.setRequestHeader("SP-Anonymous","*"),z)Object.prototype.hasOwnProperty.call(z,Qa)&&ca.setRequestHeader(Qa,z[Qa]);return ca}function L(F){return JSON.stringify({sc:"sp/pd/1-0-4",
  dt:F})}function S(F){for(var N=(new Date).getTime().toString(),K=0;K<F.length;K++)F[K].stm=N;return F}function Q(F){return k?Y+F.replace("?","?stm="+(new Date).getTime()+"&"):Y+F}(null===window||void 0===window?0:window.addEventListener)&&window.addEventListener("ConvivaExecuteQueue",function(){T()},{signal:tb});var Y,za,J=!1,V=[],ka=-1,Ma=!0===(d="string"==typeof d?d.toLowerCase():d)||"beacon"===d||"true"===d,Ra=!(!(Ma&&window.navigator&&window.navigator.sendBeacon)||function(F,N){N=N.match(/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//);
  return!(!N||!N.length)&&parseInt(N[0])<=F}(13,za=window.navigator.userAgent)||function(F,N,K){K=K.match("(Macintosh;.*Mac OS X (\\d+)_(\\d+)[_\\d]*.*) AppleWebKit/");return!(!K||!K.length)&&(parseInt(K[2])<=F||parseInt(K[2])===F&&parseInt(K[3])<=N)}(10,15,za)&&function(F){return/^(?!.*Chrome)(?!.*Chromium)(?!.*Edg)(?!.*OPR)(?=.*Safari)/.test(F)&&!/(Chrome|Chromium|Edg|OPR)/.test(F)}(za))&&Ma,ya=!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),fa="get"!==d&&ya&&("post"===d||Ma),aa=
  fa?e:"/i";d="convivaOutQueue_".concat(a,"_").concat(fa?"post2":"get");var Z="convivaOutQueue_".concat(a,"_").concat(fa?"post2":"get");if(Ve(d),Ve("".concat(d,".expires")),Ma&&(z={}),f=b&&Tg()&&fa&&f||1,b)try{var Ta=window.localStorage.getItem(Z);V=Ta?JSON.parse(Ta):[]}catch(F){}Array.isArray(V)||(V=[]);c.outQueues.push(V);ya&&1<f&&c.bufferFlushers.push(function(F){J||T(F)});return{enqueueRequest:function(F,N,K){if(v()!=H.SAMPLING_MODES.NONE){Y=N+aa;if(fa){F=t(F);N=y();if(F.bytes>=N)return J||T(),
  ma.warn("Event ("+F.bytes+"B) too big, max is "+N),void M(F,Y);V.push(F)}else{var ca=function(oa){var va="?",rb={co:!0,cx:!0},hc=!0,ub;for(ub in oa)oa.hasOwnProperty(ub)&&!rb.hasOwnProperty(ub)&&(hc?hc=!1:va+="&",va+=encodeURIComponent(ub)+"="+encodeURIComponent(oa[ub]));for(var Fb in rb)oa.hasOwnProperty(Fb)&&rb.hasOwnProperty(Fb)&&(va+="&"+Fb+"="+encodeURIComponent(oa[Fb]));return va}(F),Qa=h();if(0<Qa){var Wa=R(Q(ca));if(Wa>=Qa){(ma.warn("Event ("+Wa+"B) too big, max is "+Qa),ya)&&M(F=t(F),N+e);
  return}}V.push(ca)}N=!1;b&&(N=Yc(Z,JSON.stringify(V.slice(-1*n()))));!J&&-1===ka&&N&&(ka=window.setTimeout(T,u()+(Sa=r,Math.floor(Math.random()*Sa))));J||!(!N||!A()||fa&&(sb=0,sb=fa?V.reduce(function(oa,va){return oa+va.bytes},0):V.reduce(function(oa,va){return oa+va.length},0),sb>y())||V.length>f||K)||T()}var sb,Sa},executeQueue:function(){J||T()},setUseLocalStorage:function(F){b=F},setAnonymousTracking:function(F){p=F},setCollectorUrl:function(F){Y=F+aa},setBufferSize:function(F){f=F},setCustomHeaders:function(F){z=
  F}}}function $e(a){try{af({message:a.message,filename:a.filename,lineno:a.lineno,colno:a.colno,error:a.error})}catch(c){console.warn("Conviva App Tracker caused Exception in captureError method of error tracking module",c)}}function bf(a){try{af({message:a.reason})}catch(c){console.warn("Conviva App Tracker caused Exception in captureRejection method of error tracking module",c)}}function af(a){var c,b=a.message,d=a.filename,e=a.lineno,f=a.colno,h=a.error,k=a.context;a=a.timestamp;h=h&&h.stack?h.stack:
  null;void 0===b||null===b&&void 0===h||null===h&&void 0===e||null===e&&void 0===f||null===f&&void 0===d||null===d||(null===(c=ad.core)||void 0===c?void 0:c.getConfig()).exceptionAutotracking&&ad.core.track(pb({event:{sc:"sp/ae/1-0-1",dt:{programmingLanguage:"JAVASCRIPT",message:b?cf(b,2048):"JS Exception.",stackTrace:h?cf(h,8192):"",lineNumber:e,lineColumn:f,fileName:d}}}),k,a)}function Vg(a){var c;try{var b={};(null===(c=(Aa=a).sharedState)||void 0===c?0:c.hasLoaded)?(df(b,Aa.id),Pd(Aa.id)):Aa.sharedState.registeredOnLoadHandlers.push(function(){df(b,
  Aa.id);Pd(Aa.id)});var d=document.body;(new MutationObserver(ef)).observe(d,Qd);ff()}catch(e){console.warn("Conviva App Tracker caused Exception in enableLinkClickTracking method in click tracking Plugin",e)}}function Wg(a){var c;try{var b={};(null===(c=(Aa=a).sharedState)||void 0===c?0:c.hasLoaded)?(gf(b,Aa.id),Rd(Aa.id)):Aa.sharedState.registeredOnLoadHandlers.push(function(){gf(b,Aa.id);Rd(Aa.id)});var d=document.body;(new MutationObserver(ef)).observe(d,Qd);ff()}catch(e){console.warn("Conviva App Tracker caused Exception in enableButtonClickTracking method in click tracking Plugin",
  e)}}function ef(a,c){try{bd++;for(var b=0;b<a.length;b++)"childList"===a[b].type&&(Pd(Aa.id),Rd(Aa.id));20<bd&&(c.disconnect(),setTimeout(function(){bd=0;c.observe(document.body,Qd)},2E3))}catch(d){console.warn("Conviva App Tracker caused Exception in mutation callback of click tracking Plugin",d)}}function ff(){clearInterval(hf);hf=setInterval(function(){bd=0},1E3)}function df(a,c){var b=void 0===a?{}:a;a=b.options;var d=b.pseudoClicks,e=b.trackContent;b=b.context;try{Xa[c]={linkTrackingContent:e,
  linkTrackingContext:b,linkTrackingPseudoClicks:d,linkTrackingFilter:Ue(a)}}catch(f){}}function gf(a,c){var b=void 0===a?{}:a;a=b.options;var d=b.trackContent;b=b.context;try{bb[c]={buttonTrackingContent:d,buttonTrackingContext:b,buttonTrackingFilter:Ue(a)}}catch(e){}}function Pd(a){var c,b,d,e=document.links;try{for(d=0;d<e.length;d++)(null===(b=null===(c=Xa[a])||void 0===c?void 0:c.linkTrackingFilter)||void 0===b?0:b.call(c,e[d]))&&!e[d][a]&&(Xg(a,e[d]),e[d][a]=!0)}catch(f){}}function Rd(a){var c,
  b,d,e=document.querySelectorAll("button");for(d=0;d<e.length;d++)(null===(b=null===(c=bb[a])||void 0===c?void 0:c.buttonTrackingFilter)||void 0===b?0:b.call(c,e[d]))&&!e[d][a]&&(Yg(a,e[d]),e[d][a]=!0)}function Xg(a,c){try{ab(c,"click",function(b,d){return function(e){try{var f=(e=e||window.event).which||e.button;var h=e.target||e.srcElement;"click"===e.type?h&&jf(h,d):"mousedown"===e.type?1!==f&&2!==f||!h?Xa[b].lastButton=Xa[b].lastTarget=null:(Xa[b].lastButton=f,Xa[b].lastTarget=h):"mouseup"===e.type&&
  (f===Xa[b].lastButton&&h===Xa[b].lastTarget&&jf(h,d),Xa[b].lastButton=Xa[b].lastTarget=null)}catch(k){}}}(a,Xa[a].linkTrackingContext),{signal:tb})}catch(b){}}function Yg(a,c){try{ab(c,"click",function(b,d){return function(e){var f=(e=e||window.event).which||e.button;var h=e.target||e.srcElement;"click"===e.type?h&&kf(h,d):"mousedown"===e.type?1!==f&&2!==f||!h?bb[b].lastButton=bb[b].lastTarget=null:(bb[b].lastButton=f,bb[b].lastTarget=h):"mouseup"===e.type&&(f===bb[b].lastButton&&h===bb[b].lastTarget&&
  kf(h,d),bb[b].lastButton=bb[b].lastTarget=null)}}(a,bb[a].buttonTrackingContext),{signal:tb})}catch(b){}}function jf(a,c){try{for(var b=void 0,d=void 0,e=void 0,f=void 0,h=void 0,k=void 0;null!==(b=a.parentElement)&&null!=b&&"A"!==(d=a.tagName.toUpperCase())&&"AREA"!==d;)a=b;b=a;if(null!=b.href){var n=b.hostname||Xc(b.href),l=n.toLowerCase(),p=b.href.replace(n,l);/^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):/i.test(p)||(e=b.id,f=b.className.match(/\S+/g)||[],h=b.target,k=Xa[Aa.id].linkTrackingContent?
  b.innerHTML:void 0,lf({targetUrl:unescape(p),elementId:e,elementClasses:f,elementTarget:h,elementContent:k},c,a))}}catch(z){}}function kf(a,c){for(var b;null!==(b=a.parentElement)&&null!=b&&"BUTTON"!==a.tagName.toUpperCase();)a=b;b=a;var d={elementType:""},e=b.className||"";d.elementType=b.type;b.name&&""!==b.name&&(d.elementName=b.name);b.id&&""!==b.id&&(d.elementId=b.id);b.value&&""!==b.value&&(d.elementValue=b.value);b.innerText&&""!==b.innerText&&(d.elementText=b.innerText);e&&""!==e&&(d.elementClasses=
  e);mf(d,c,a)}function lf(a,c,b){try{Aa.core.getConfig().linkClickTracking&&Aa.core.track(pb({event:{sc:"sp/lc/1-0-1",dt:Cb({targetUrl:a.targetUrl,elementId:a.elementId,elementClasses:a.elementClasses,elementTarget:a.elementTarget,elementContent:a.elementContent})}}),Je(c,b))}catch(d){}}function mf(a,c,b){Aa.core.getConfig().buttonClickTracking&&Aa.core.track(pb({event:{sc:"cv/bc/1-0-0",dt:Cb({elementType:a.elementType,elementId:a.elementId,elementClasses:a.elementClasses,elementName:a.elementName,
  elementText:a.elementText,elementValue:a.elementValue})}}),Je(c,b))}function Zg(a,c,b,d,e,f){void 0===f&&(f={});var h=[];a=function(n,l,p,z,m,r){function C(){(ic=We(window.location.hostname,window.location.href,Ld()))[1]!==Gb&&(Bc=Ld(Gb));nf=Se(ic[0]);Gb=ic[1]}function A(g){try{var q=(new Date).getTime(),w=g.currentTarget;if(null==w?0:w.href){g="_cnv="+(cd+"."+q);var B=w.href.split("#"),x=B[0].split("?"),E=x.shift(),D=x.join("?");if(D){x=!0;var I=D.split("&");for(q=0;q<I.length;q++)if("_cnv="===I[q].substr(0,
  5)){x=!1;I[q]=g;D=I.join("&");break}x&&(D=g+"&"+D)}else D=g;var U=(B[0]=E+"?"+D,B.join("#"));w.href=U}}catch(W){console.warn("Conviva App Tracker:: Error in linkDecorationHandler of decorateLinks ".concat(W))}}function y(g){if("undefined"!=typeof document&&document.links&&0<document.links.length)for(var q=0;q<document.links.length;q++){var w=document.links[q];!w.spDecorationEnabled&&g(w)&&(ab(w,"click",A,!0),ab(w,"mousedown",A,!0),w.spDecorationEnabled=!0)}}function u(g){var q;return of&&(q=/#.*/,
  g=g.replace(q,"")),pf&&(q=/[{}]/g,g=g.replace(q,"")),g}function v(g){return(g=/^([a-z]+):/.exec(g))?g[1]:null}function t(g){g=jc+g+"."+Rb;if("localStorage"==Ha)try{var q=window.localStorage,w=q.getItem(g+".expires");var B=null===w||+w>Date.now()?q.getItem(g):(q.removeItem(g),void q.removeItem(g+".expires"))}catch(x){B=void 0}else B="cookie"==Ha||"cookieAndLocalStorage"==Ha?ib(g):void 0;return B}function R(){C();Rb=$g((Cc||nf)+(Sd||"/")).slice(0,4)}function M(){Td=(new Date).getTime()}function T(){var g=
  G(),q=g[0];q<dd?dd=q:q>ed&&(ed=q);g=g[1];g<fd?fd=g:g>gd&&(gd=g);!0;M()}function G(){var g="undefined"!=typeof document?null===document||void 0===document?void 0:document.documentElement:void 0;return g?[g.scrollLeft||window.pageXOffset,g.scrollTop||window.pageYOffset]:[0,0]}function L(){var g=G(),q=g[0];ed=dd=q;gd=fd=g=g[1]}function S(){Y(jc+"ses."+Rb,"*",qf)}function Q(g){var q=jc+"id."+Rb;g=(g.shift(),g.join("."));Y(q,g,rf)}function Y(g,q,w){Dc&&!hd||("localStorage"==Ha?Yc(g,q,w):"cookie"!=Ha&&
  "cookieAndLocalStorage"!=Ha||ib(g,q,w,Sd,Cc,id,jd))}function za(g){var q=jc+"id."+Rb,w=jc+"ses."+Rb;Te(q);Te(w);ib(q,"",-1,"/",Cc,id,jd);ib(w,"",-1,"/",Cc,id,jd);(null==g?0:g.preserveSession)||(Sb=Bb.v4(),jb=1);(null==g?0:g.preserveUser)||(cd=Bb.v4(),Tb=null)}function J(g){g&&g.stateStorageStrategy&&(r.stateStorageStrategy=g.stateStorageStrategy,Ha=sf(r));Dc=!!r.anonymousTracking;hd=tf(r);Ud=uf(r);vb.setUseLocalStorage("localStorage"==Ha||"cookieAndLocalStorage"==Ha);vb.setAnonymousTracking(Ud)}function V(){if(function(){try{var w=
  window.localStorage.getItem("Conviva.sdkConfig"),B=JSON.parse(w||"{}");"{}"===B||void 0===B?(Ec=fa(),kd=aa()):(Ec=B.clId||fa(),2147483648<=ld?ld=-1:ld++,kd=aa());a:try{var x=window.localStorage;w={clId:Ec,iid:kd};B=null;try{B=JSON.stringify(w)}catch(E){break a}x.setItem("Conviva.sdkConfig",B)}catch(E){}}catch(E){return void ma.warn("getEventIndexByClid",E)}}(),!Dc||hd){var g="none"!=Ha&&!!t("ses"),q=ka();cd=function(w,B){var x;return w[1]?x=w[1]:B?(x="",w[1]=x):(x=Bb.v4(),w[1]=x),x}(q,Dc);Sb=g?q[6]:
  Ac(q);jb=q[3];"none"!=Ha&&(S(),Nd(q),Q(q))}}function ka(){return"none"==Ha?["1","",0,0,0,void 0,"","","",void 0]:function(g,q,w,B){var x,E=Math.round((new Date).getTime()/1E3);g?(x=g.split(".")).unshift("0"):x=["1",q,E,B,E,"",w];x[6]&&"undefined"!==x[6]||(x[6]=Bb.v4());x[7]&&"undefined"!==x[7]||(x[7]="");x[8]&&"undefined"!==x[8]||(x[8]="");x[9]&&"undefined"!==x[9]||(x[9]="");x[10]&&"undefined"!==x[10]||(x[10]=-1);var D=function(I,U){I=parseInt(I);return isNaN(I)?U:I};g=function(I){return I?D(I,void 0):
  void 0};return[x[0],x[1],D(x[2],E),D(x[3],B),D(x[4],E),g(x[5]),x[6],x[7],x[8],g(x[9])]}(t("id")||void 0,cd,Sb,jb)}function Ma(g,q){var w,B,x,E,D=!0,I=Hb.getConfig();return void 0!==I.mend?D=I.mend:void 0!==(null===(B=null===(w=null==r?void 0:r.configs)||void 0===w?void 0:w.network)||void 0===B?void 0:B.mergeEndpoint)&&(D=null===(E=null===(x=null==r?void 0:r.configs)||void 0===x?void 0:x.network)||void 0===E?void 0:E.mergeEndpoint),0===g.indexOf("http")?(q&&D&&(g=g.replace(/^(https?:\/\/)(.*)$/,"$1"+
  q+".$2")),g):q&&D?("https:"===document.location.protocol?"https":"http")+"://"+q+"."+g:("https:"===document.location.protocol?"https":"http")+"://"+g}function Ra(){vf&&null!=m.pageViewId||(m.pageViewId=Bb.v4())}function ya(){return null==m.pageViewId&&(m.pageViewId=Bb.v4()),m.pageViewId}function fa(){try{return Ta({"First Launch":"Yes"}),Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*
  Math.random()).toString()}catch(g){return void console.warn(g)}}function aa(){try{return Math.floor(2147483647*Math.random())}catch(g){return console.warn(g),-1}}function Z(g){try{return"object"===la(JSON.parse(g))}catch(q){return!1}}function Ta(g){try{var q=Object.keys(g);Z(JSON.stringify(g))?q.forEach(function(w){if(""!==w.trim()){var B=g[w];B&&""!==B&&(B="object"===la(B)?JSON.stringify(B):""+B,Object.defineProperty(Vd,w,{value:B,writable:!0,enumerable:!0,configurable:!0}))}}):console.warn("Conviva AppTracker:: Invalid JSON Format")}catch(w){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",
  w)}}function F(g){var q=g.title,w=g.context,B=g.timestamp;g=g.contextCallback;C();Wd&&Ra();Wd=!0;Ib=document.title;q=Kd((Fc=q)||Ib);Jb()!==H.SAMPLING_MODES.NONE&&Hb.track(function(D){var I=D.pageUrl,U=D.pageTitle;D=D.referrer;var W=Bd();return W.add("e","pv"),W.add("url",I),W.add("page",U),W.add("refr",D),W}({pageUrl:u(md||Gb),pageTitle:q,referrer:u(nd||Bc)}),(w||[]).concat(g?g():[]),B);B=new Date;q=!1;if(Na.enabled&&!Na.installed){q=Na.installed=!0;var x={update:function(){if("undefined"!=typeof window&&
  "function"==typeof window.addEventListener){var D=!1,I=Object.defineProperty({},"passive",{get:function(){D=!0},set:function(){}}),U=function(){};window.addEventListener("testPassiveEventSupport",U,I);window.removeEventListener("testPassiveEventSupport",U,I);x.hasSupport=D}}};x.update();var E="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(x,"hasSupport")?ab(document,E,M,{passive:!0}):ab(document,E,
  M);L();E=function(D,I){return void 0===I&&(I=M),function(U){return ab(document,U,I)}};"click mouseup mousedown mousemove keypress keydown keyup".split(" ").forEach(E(document));["resize","focus","blur"].forEach(E(window));E(window,T)("scroll")}if(Na.enabled&&(ah||q))for(B in Td=B.getTime(),B=void 0,Na.configurations)(q=Na.configurations[B])&&(window.clearInterval(q.activityInterval),K(q,w,g))}function N(){var g,q,w,B,x,E,D,I,U,W,da,Ba,na,Ya,X,ba,Ia,cb,Ub,Vb,Wb,Xb,Yb,Gc,Zb,kc,lc,kb,wb,xb,pa,Hc;try{var O=
  k.core.getConfig(),ia=void 0;Xd={};var lb=mc.MERGE;switch(void 0!==(null===(q=null===(g=null==r?void 0:r.configs)||void 0===g?void 0:g.metaTagsTracking)||void 0===q?void 0:q.preference)?lb=null===(B=null===(w=null==r?void 0:r.configs)||void 0===w?void 0:w.metaTagsTracking)||void 0===B?void 0:B.preference:!0===(null===(E=null===(x=null==r?void 0:r.configs)||void 0===x?void 0:x.metaTagsTracking)||void 0===E?void 0:E.force)?lb=mc.APP:void 0!==(null===(D=null==O?void 0:O.metaTagsTrackingConfiguration)||
  void 0===D?void 0:D.pref)&&(lb=null===(I=null==O?void 0:O.metaTagsTrackingConfiguration)||void 0===I?void 0:I.pref),lb){case mc.APP:if(!1===(null===(W=null===(U=null==r?void 0:r.configs)||void 0===U?void 0:U.metaTagsTracking)||void 0===W?void 0:W.enabled))return;0<(null===(na=null===(Ba=null===(da=null==r?void 0:r.configs)||void 0===da?void 0:da.metaTagsTracking)||void 0===Ba?void 0:Ba.tags)||void 0===na?void 0:na.length)&&(ia=xa([],null===(X=null===(Ya=null==r?void 0:r.configs)||void 0===Ya?void 0:
  Ya.metaTagsTracking)||void 0===X?void 0:X.tags,!0));break;case mc.REMOTE:if(!1===(null===(ba=null==O?void 0:O.metaTagsTrackingConfiguration)||void 0===ba?void 0:ba.enabled))return;void 0!==(null==O?void 0:O.metaTagsTrackingConfiguration)&&0<(null===(cb=null===(Ia=null==O?void 0:O.metaTagsTrackingConfiguration)||void 0===Ia?void 0:Ia.tags)||void 0===cb?void 0:cb.length)&&(ia=xa([],null===(Ub=null==O?void 0:O.metaTagsTrackingConfiguration)||void 0===Ub?void 0:Ub.tags,!0));break;default:if(void 0===
  (null==O?void 0:O.metaTagsTrackingConfiguration)&&!1===(null===(Wb=null===(Vb=null==r?void 0:r.configs)||void 0===Vb?void 0:Vb.metaTagsTracking)||void 0===Wb?void 0:Wb.enabled)||void 0===(null===(Xb=null==r?void 0:r.configs)||void 0===Xb?void 0:Xb.metaTagsTracking)&&!1===(null===(Yb=null==O?void 0:O.metaTagsTrackingConfiguration)||void 0===Yb?void 0:Yb.enabled))return;var Za=null===(Zb=null===(Gc=null==r?void 0:r.configs)||void 0===Gc?void 0:Gc.metaTagsTracking)||void 0===Zb?void 0:Zb.tags,nc=null===
  (kc=null==O?void 0:O.metaTagsTrackingConfiguration)||void 0===kc?void 0:kc.tags;!1===(null===(kb=null===(lc=null==r?void 0:r.configs)||void 0===lc?void 0:lc.metaTagsTracking)||void 0===kb?void 0:kb.enabled)&&(Za=[]);!1===(null===(wb=null==O?void 0:O.metaTagsTrackingConfiguration)||void 0===wb?void 0:wb.enabled)&&(nc=[]);ia=xa([],(Hc=nc||[],xa(xa([],Za||[],!0),Hc,!0).reduce(function(La,$b){var oc=La.find(function(od){return od.key===$b.key});return oc?$b.condition&&(oc.condition=xa(xa([],oc.condition||
  [],!0),$b.condition,!0)):La.push(ha({},$b)),La},[])),!0)}if(void 0!==ia&&0<(null==ia?void 0:ia.length)){g={};var sa=null===document||void 0===document?void 0:document.head,Kb=null==sa?void 0:sa.getElementsByTagName("meta");if(void 0!==Kb&&0<(null==Kb?void 0:Kb.length))for(sa=0;sa<Kb.length;sa++){var Da=Kb[sa];for(q=0;q<ia.length;q++){var Oa=Da.getAttribute(ia[q].key),db=Da.getAttribute(ia[q].value);w=void 0;(null===(xb=ia[q])||void 0===xb?0:xb.condition)&&(w=null===(pa=ia[q])||void 0===pa?void 0:
  pa.condition);Oa&&(w&&w.includes(Oa)?g[Oa]=db:w&&0!==w.length||(g[Oa]=db))}}k.setMetaCustomTags(g)}}catch(La){console.warn("Conviva App Tracker:: setPageMetaTagsAsCustomTags",La)}}function K(g,q,w){var B=function(E,D){var I;C();var U=null===(I=null==k?void 0:k.core)||void 0===I?void 0:I.getConfig();U.enablePeriodicHeartbeat?(null!=U.periodicHeartbeatInterval&&(I=1E3*U.periodicHeartbeatInterval,I!=g.configHeartBeatTimer&&(g.configHeartBeatTimer=I,window.clearInterval(g.activityInterval),g.activityInterval=
  window.setInterval(x,I))),E({context:D,pageViewId:ya(),minXOffset:dd,minYOffset:fd,maxXOffset:ed,maxYOffset:gd})):window.clearInterval(g.activityInterval);L()};window.setTimeout(function(){B(g.callback,(q||[]).concat(w?w():[]))},2E3);var x=function(){var E=new Date;(!1===(null===document||void 0===document?void 0:document.hidden)||"visible"==(null===document||void 0===document?void 0:document.visibilityState)||(null===document||void 0===document?0:document.pictureInPictureElement)||Td+g.configHeartBeatTimer>
  E.getTime()||!0===wf)&&B(g.callback,(q||[]).concat(w?w():[]))};g.activityInterval=window.setInterval(x,g.configHeartBeatTimer)}function ca(g){var q=g.minimumVisitLength,w=g.heartbeatDelay;g=g.callback;if(Wc(q)&&Wc(w))return{configMinimumVisitLength:1E3*q,configHeartBeatTimer:1E3*w,callback:g};ma.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function Qa(g){var q=g.context,w=g.minXOffset,B=g.minYOffset,x=g.maxXOffset,E=g.maxYOffset;g=document.title;g!==Ib&&(Ib=g,Fc=
  void 0);if(Jb()!==H.SAMPLING_MODES.NONE){g=Hb;var D=g.track;var I=u(md||Gb);var U=Kd(Fc||Ib),W=u(nd||Bc);w=Math.round(w);x=Math.round(x);B=Math.round(B);E=Math.round(E);var da=Bd();I=(da.add("e","pp"),da.add("url",I),da.add("page",U),da.add("refr",W),w&&!isNaN(Number(w))&&da.add("pp_mix",w.toString()),x&&!isNaN(Number(x))&&da.add("pp_max",x.toString()),B&&!isNaN(Number(B))&&da.add("pp_miy",B.toString()),E&&!isNaN(Number(E))&&da.add("pp_may",E.toString()),da);D.call(g,I,q)}}var Wa,sb,Sa,oa,va,rb,hc,
  ub,Fb,Yd,Zd,$d,ae,be,ce;l||(l="CAT");var zf=function(g,q,w){var B,x={},E={};if("undefined"!=typeof window&&(null===window||void 0===window?0:window.localStorage))try{localStorage.removeItem(H.END_POINT_STORAGE_KEY),(B=localStorage.getItem(H.REMOTE_CONFIG_STORAGE_KEY))?ta=H.CONFIG_SOURCE.CACHED:B=JSON.stringify(E)}catch(da){B=JSON.stringify(E);pd=!0;var D={className:"fetchRemoteConfig - localstorage",error:da,configAppliedSrc:ta,configAppliedTime:wa};setTimeout(function(){Ca(qa,ua,D)},0);ma.warn("Issue while fetching data from local storage")}else B=
  JSON.stringify(E);try{x=JSON.parse(B)}catch(da){pd=!0;var I={className:"fetchRemoteConfig - parsing cached data",error:da,configAppliedSrc:ta,configAppliedTime:wa};setTimeout(function(){Ca(qa,ua,I)},0);ma.warn("Issue while parsing storedConvivaRemoteConfig")}E=(new xf).setBase64(null==x?void 0:x.base64).setCacheRefreshInterval(null==x?void 0:x.cacheRefreshInterval).setLinkClickTracking(null==x?void 0:x.linkClickTracking).setLifecycleAutotracking(null==x?void 0:x.lifecycleAutotracking).setButtonClickTracking(null==
  x?void 0:x.buttonClickTracking).setExceptionAutotracking(null==x?void 0:x.exceptionAutotracking).setEnablePeriodicHeartbeat(null==x?void 0:x.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null==x?void 0:x.periodicHeartbeatInterval).setEnc(null==x?void 0:x.enc).setMaxLocalStorageQueueSize(null==x?void 0:x.maxLocalStorageQueueSize).setMaxGetBytes(null==x?void 0:x.maxGetBytes).setBufferSize(null==x?void 0:x.bufferSize).setCustomEventTrackingConfiguration(null==x?void 0:x.customEventTrackingConfiguration).setNetworkRequestTrackingConfiguration(null==
  x?void 0:x.networkRequestTrackingConfiguration,!1).setMetaTagsTrackingConfiguration(null==x?void 0:x.metaTagsTrackingConfiguration).setTraceparentconfig(null==x?void 0:x.traceparentconfig).setMend(null==x?void 0:x.mend).setPerformanceContextConfig(null==x?void 0:x.performanceContextConfig).setConfigurationVersion(null==x?void 0:x.configurationVersion).setCatRcLastUpdatedTs(null==x?void 0:x.catRcLastUpdatedTs).setEmitterConfiguration(null==x?void 0:x.emitterConfiguration).setcontrolIngestConfig(null==
  x?void 0:x.controlIngestConfig).setApplicationContext(null==x?void 0:x.applicationContext).setDi(null==x?void 0:x.di).build();B="Cached Config Applied";ta===H.CONFIG_SOURCE.DEFAULT&&(B="Default Config Applied");wa=(new Date).getTime();var U={message:B,className:"browserTrackerCore",configAppliedSrc:ta,configAppliedTime:wa};setTimeout(function(){Ca(qa,ua,U)},0);g=g.split("js-")[1];var W=H.REMOTE_CONFIG_URL_PREFIX+w.convivaCustomerKey+"/"+g+H.REMOTE_CONFIG_FILE_NAME;return window.XMLHttpRequest&&((eb=
  new XMLHttpRequest).onreadystatechange=function(){try{if(4==eb.readyState)if(pc=!1,200==eb.status){var da={message:"Remote config request is successful - ".concat("number"==typeof eb.status?eb.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:ta,configAppliedTime:wa};Ca(qa,ua,da);qc=0;E.catRcLastUpdatedTs=(new Date).getTime();var Ba=JSON.parse(eb.response),na=Ba.cri||Ba.cacheRefreshInterval||ja.cacheRefreshInterval;if(na=1>na?ja.cacheRefreshInterval:Wc(na)?na:ja.cacheRefreshInterval,
  E.cacheRefreshInterval!=na&&(E.cacheRefreshInterval=na,yf(E.cacheRefreshInterval,E.catRcLastUpdatedTs,w,W,H.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)),bh(Ba,q,E.catRcLastUpdatedTs,w)){var Ya=new Event("ConvivaExecuteQueue");(null===window||void 0===window?0:window.dispatchEvent)&&window.dispatchEvent(Ya)}}else try{2>qc&&window.setTimeout(function(){(null==w?0:w.trackerConfigUrl)?rc(null==w?void 0:w.trackerConfigUrl,!0):rc(W,!0)},5E3*(qc+1));var X={message:"Remote config request is not successful - ".concat("number"==
  typeof eb.status?eb.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:ta,configAppliedTime:wa};(Ca(qa,ua,X),2<=qc)&&Ca(qa,ua,{message:"Remote config is not applied since failed to download remote config after 3 tries",className:"configtimerCallback - onreadystatechange",configAppliedSrc:ta,configAppliedTime:wa})}catch(ba){}}catch(ba){pc=!1,console.warn("Conviva App Tracker:: Error in fetching remote-config ".concat(ba)),Ca(qa,ua,{className:"configtimerCallback - onreadystatechange",
  error:ba,configAppliedSrc:ta,configAppliedTime:wa})}},yf(E.cacheRefreshInterval,E.catRcLastUpdatedTs,w,W,void 0!==pd&&!0===pd?H.RC_FETCH_MODE.IMMEDIATE_FETCH:H.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF)),{parsedConfig:x,convivaRemoteTrackerConfig:E}}(p,l,r),qd=zf.parsedConfig,de=zf.convivaRemoteTrackerConfig;z=(null==qd?0:qd.endpoint)?null==qd?void 0:qd.endpoint:r.gatewayUrl?r.gatewayUrl:H.DEFAULT_END_POINT;null===(Wa=Od(de.performanceContextConfig))||void 0===Wa||Wa.activateLCPObserver();(function(){try{var g=
  0,q=0;null===window||void 0===window||window.addEventListener("load",function(){var w;try{var B=null===(w=null==k?void 0:k.core)||void 0===w?void 0:w.getConfig();null==k||k.trackCustomEvent({name:"conviva_window_loaded",data:"{}",context:Od(null==B?void 0:B.performanceContextConfig).contexts()})}catch(x){console.warn("ConvivaAppTracker : issue while registering window loaded event",x)}});null===document||void 0===document||document.addEventListener("visibilitychange",function(){var w;try{if(Jb()!==
  H.SAMPLING_MODES.NONE)if("hidden"===document.visibilityState)setTimeout(function(){var x;try{var E=null===(x=null==k?void 0:k.core)||void 0===x?void 0:x.getConfig();q++;(null==E?0:E.lifecycleAutotracking)&&k.core.track(pb({event:{sc:"sp/abg/1-0-0",dt:Cb({backgroundIndex:q})}}));"hidden"!==document.visibilityState||Wd||null==k||k.trackCustomEvent({name:"conviva_app_backgrnd_before_page_view",data:"{}"})}catch(D){console.warn("ConvivaAppTracker : issue while tracking visibility change",D)}},0);else{var B=
  null===(w=null==k?void 0:k.core)||void 0===w?void 0:w.getConfig();g++;(null==B?0:B.lifecycleAutotracking)&&k.core.track(pb({event:{sc:"sp/afg/1-0-0",dt:Cb({foregroundIndex:g})}}))}}catch(x){console.warn("convivaAppTracker visibilitychange failed "+x)}},{signal:tb});"undefined"!=typeof document&&document&&document.addEventListener&&document.addEventListener("convivaVideoEvent",function(w){w&&k&&Jb()!==H.SAMPLING_MODES.NONE&&(null==k||k.trackVideoEvent(w))},{signal:tb})}catch(w){console.warn("convivaAppTracker error in page load metrics"+
  w)}})();r.eventMethod=null!==(sb=r.eventMethod)&&void 0!==sb?sb:"post";var sf=function(g){var q;return null!==(q=g.stateStorageStrategy)&&void 0!==q?q:"cookieAndLocalStorage"},tf=function(g){var q,w;return"boolean"!=typeof g.anonymousTracking&&null!==(w=!0===(null===(q=g.anonymousTracking)||void 0===q?void 0:q.withSessionTracking))&&void 0!==w&&w},uf=function(g){var q,w;return"boolean"!=typeof g.anonymousTracking&&null!==(w=!0===(null===(q=g.anonymousTracking)||void 0===q?void 0:q.withServerAnonymisation))&&
  void 0!==w&&w};h.push({beforeTrack:function(g){var q=t("ses"),w=ka();if(ee=!!fe&&!!ib(fe),Af||ee)za();else{var B;if("0"===w[0]?(Sb=q||"none"==Ha?w[6]:Ac(w),jb=w[3]):(new Date).getTime()-ge>1E3*qf&&(jb++,Sb=Ac(w,jb)),Nd(w),g.add("uid",(B=Tb,Dc?null:B)),C(),g.add("refr",u(nd||Bc)),document)Ib=document.title,q=Kd(Fc||Ib),g.add("page",q);g.add("url",u(md||Gb));"none"!=Ha&&(Q(w),S());ge=(new Date).getTime()}}});h.push({contexts:function(){return[{sc:"cv/clid/1-0-2",dt:{clid:Ec,iid:kd.toString(),ck:ch,
  eventIndex:ld++}}]}});h.push({contexts:function(){return[{sc:"cv/ct/1-0-0",dt:(g={data:ha(ha({},Vd),Xd)},g)}];var g}});h.push({contexts:function(){var g,q=null===(g=null==k?void 0:k.core)||void 0===g?void 0:g.getConfig();return!0===(null==q?void 0:q.applicationContext)?[{sc:"spm/app/1-0-0",dt:{build:Bf,version:Bf}}]:[]}});h.push({contexts:function(){var g={sch:"sdk.js.eco.1"};g.cat=Cf.WEB;try{var q=null==r?void 0:r.deviceMetadata;if(q){var w=q.DeviceBrand,B=q.DeviceCategory,x=q.DeviceManufacturer,
  E=q.DeviceModel,D=q.DeviceType,I=q.DeviceVersion,U=q.OperatingSystemName,W=q.OperatingSystemVersion,da=q.FrameworkName,Ba=q.FrameworkVersion;"string"==typeof B&&Object.values(Cf).includes(B)?g.cat=B:g.cat="INVALID"+(B?": ".concat(B):"");"string"==typeof w&&""!=w&&(g.dvb=w);"string"==typeof x&&""!=x&&(g.dvma=x);"string"==typeof E&&""!=E&&(g.dvm=E);D&&Object.values(dh).includes(D)&&(g.dvt=D);"string"==typeof I&&""!=I&&(g.dvv=I);"string"==typeof U&&""!=U&&(g.os=U);"string"==typeof W&&""!=W&&(g.osv=W);
  "string"==typeof da&&""!=da&&(g.fw=da);"string"==typeof Ba&&""!=Ba&&(g.fwv=Ba)}}catch(na){ma.warn("error in setting platform metadata context",na)}return null!=g&&0<Object.keys(g).length?[{sc:"iglu:com.conviva/pm/jsonschema/1-0-2",dt:g}]:[]}});try{(null!==(Sa=null==r?void 0:r.plugins)&&void 0!==Sa?Sa:[]).forEach(function(g){g.contexts||h.push(g)})}catch(g){console.warn("ConvivaAppTracker : issue while processing customer passed pligins",g)}var nd,md,Fc,of,pf,fe,Ec,kd,Td,dd,ed,fd,gd,Rb,cd,Sb,Tb,ee,
  Jb=function(){try{var g=k.core.getConfig();return g?void 0===g.catRcLastUpdatedTs||0===g.catRcLastUpdatedTs?H.SAMPLING_MODES.NONE:g.controlIngestConfig?function(q){try{if(void 0===q.sel)return Zc(),H.SAMPLING_MODES.RCFG;var w=q.sel.pct;if("number"==typeof w&&100>w&&0<w&&0==w%1){if("undefined"!=typeof window&&void 0!==window.localStorage){var B=localStorage.getItem(H.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);if(null!=B)return parseFloat(B)<=w?Md(q,H.SAMPLING_ACTION.SAMPLED):Md(q,H.SAMPLING_ACTION.NON_SAMPLED);
  var x=100*Math.random();return localStorage.setItem(H.SAMPLING_STORAGE_RANDOM_NUMBER_KEY,x.toString()),Md(q,x<w?H.SAMPLING_ACTION.SAMPLED:H.SAMPLING_ACTION.NON_SAMPLED)}return H.SAMPLING_MODES.NONE}return"number"==typeof w&&0===w?(Zc(),H.SAMPLING_MODES.NONE):(Zc(),H.SAMPLING_MODES.RCFG)}catch(E){}return H.SAMPLING_MODES.RCFG}(null==g?void 0:g.controlIngestConfig):H.SAMPLING_MODES.RCFG:H.SAMPLING_MODES.NONE}catch(q){return ma.error("Error while getting sampling mode"),H.SAMPLING_MODES.NONE}},Hb=eh(de,
  h,function(g){Af||ee||vb.enqueueRequest(g.build(),he,function(q){var w,B,x,E=null!==(x=null===(B=null===(w=Hb.getConfig().emitterConfiguration)||void 0===w?void 0:w.batching)||void 0===B?void 0:B.urgentEvents)&&void 0!==x?x:[],D=w="",I="",U="";B=q.getPayload();"string"==typeof B.e&&(U=B.e);if("ue"!==U&&"pv"!==U&&"pp"!==U)return!1;q=q.getJson().find(function(W){return"ue_pr"===W.keyIfNotEncoded||"ue_px"===W.keyIfEncoded});void 0!==q&&(q=q.json,"object"===la(q.dt)&&null!==q.dt&&(q=q.dt,"string"==typeof q.sc&&
  (w=q.sc),"object"===la(q.dt)&&"string"==typeof q.dt.name&&(D=q.dt.name)),I=w.split("/")[1]||"");return E.some(function(W){W=W.toLowerCase();return""!==W&&(W===U.toLowerCase()||W===I.toLowerCase()||W===D.toLowerCase())})}(g))}),ic=We(window.location.hostname,window.location.href,Ld()),nf=Se(ic[0]),Gb=ic[1],Bc=ic[2],fh=null!==(oa=r.platform)&&void 0!==oa?oa:"web",he=Ma(z,r.convivaCustomerKey),gh=null!==(va=r.postPath)&&void 0!==va?va:"/ctp",hh=null!==(rb=r.appId)&&void 0!==rb?rb:"",ch=null!==(hc=r.convivaCustomerKey)&&
  void 0!==hc?hc:"",Bf=null!==(ub=r.appVersion)&&void 0!==ub?ub:"",Vd={},Xd={},Ib="undefined"!=typeof document?document.title:void 0,ah=null===(Fb=r.resetActivityTrackingOnPageView)||void 0===Fb||Fb,jc=null!==(Yd=r.cookieName)&&void 0!==Yd?Yd:"_cnv_",Cc=null!==(Zd=r.cookieDomain)&&void 0!==Zd?Zd:void 0,Sd="/",id=null!==($d=r.cookieSameSite)&&void 0!==$d?$d:"None",jd=null===(ae=r.cookieSecure)||void 0===ae||ae,Df=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,Af=void 0!==r.respectDoNotTrack&&
  r.respectDoNotTrack&&("yes"===Df||"1"===Df),rf=null!==(be=r.cookieLifetime)&&void 0!==be?be:63072E3,qf=null!==(ce=r.sessionCookieTimeout)&&void 0!==ce?ce:1800,hd=tf(r),Ud=uf(r),Dc=!!r.anonymousTracking,Ha=sf(r),ld=-1,ge=(new Date).getTime(),jb=1,vb=function(g,q,w,B,x,E,D,I){var U,W,da,Ba,na=qa,Ya=function(){var X=na.getConfig();return!X.emitterConfiguration||!X.emitterConfiguration.batching||X.emitterConfiguration.batching.enabled};return Ug(g,q,"localStorage"==w||"cookieAndLocalStorage"==w,B.eventMethod,
  x,function(){var X,ba=na.getConfig();return null!==(X=ba.bufferSize?ba.bufferSize:B.bufferSize)&&void 0!==X?X:20}(),function(){var X,ba=na.getConfig();return null!==(X=ba.maxGetBytes?ba.maxGetBytes:B.maxGetBytes)&&void 0!==X?X:0},null===(U=B.useStm)||void 0===U||U,function(){var X,ba=na.getConfig();return null!==(X=ba.maxLocalStorageQueueSize?ba.maxLocalStorageQueueSize:B.maxLocalStorageQueueSize)&&void 0!==X?X:10},null!==(W=B.connectionTimeout)&&void 0!==W?W:3E4,E,null!==(da=B.customHeaders)&&void 0!==
  da?da:{},null!==(Ba=B.withCredentials)&&void 0!==Ba&&Ba,D,function(){var X,ba,Ia,cb=na.getConfig();return null!==(Ia=(null==cb?0:cb.enc)?cb.enc:null===(ba=null===(X=null==B?void 0:B.configs)||void 0===X?void 0:X.network)||void 0===ba?void 0:ba.encoding)&&void 0!==Ia?Ia:Eb.GZIP},Ya,function(){var X,ba,Ia=na.getConfig();return Ya()?"number"==typeof(null===(ba=null===(X=Ia.emitterConfiguration)||void 0===X?void 0:X.batching)||void 0===ba?void 0:ba.byteLimitPostInKB)?1E3*Ia.emitterConfiguration.batching.byteLimitPostInKB:
  25E4:4E4},function(){var X,ba,Ia=null===(ba=null===(X=na.getConfig().emitterConfiguration)||void 0===X?void 0:X.batching)||void 0===ba?void 0:ba.batchingIntervalInSec;return 1E3*("number"==typeof Ia?Ia:5)},I)}(n,m,Ha,r,gh,Ud,5E3,Jb),vf=!1,Wd=!1,Na={enabled:!0,installed:!1,configurations:{pagePing:{configMinimumVisitLength:5E3,configHeartBeatTimer:1E3*de.periodicHeartbeatInterval,callback:Qa}}},wf=!1;r.hasOwnProperty("discoverRootDomain")&&r.discoverRootDomain&&(Cc=function(g,q){for(var w=window.location.hostname,
  B="_cnv_root_domain_test_"+(new Date).getTime(),x="_test_value_"+(new Date).getTime(),E=w.split("."),D=E.length-1;0<=D;){var I=E.slice(D,E.length).join(".");if(ib(B,x,0,"/",I,g,q),ib(B)===x){ib(B,"",-1,"/",I,g,q);w=document.cookie.split("; ");B=[];for(x=0;x<w.length;x++)"_cnv_root_domain_test_"===w[x].substring(0,22)&&B.push(w[x]);w=B;for(B=0;B<w.length;B++)ib(w[B],"",-1,"/",I,g,q);return I}--D}return w}(id,jd));Hb.setTrackerVersion(p);Hb.setAppId(hh);Hb.setPlatform(fh);R();V();vb.setCustomHeaders({"x-client-id":""+
  Ec});r.crossDomainLinker&&y(r.crossDomainLinker);var me={getDomainSessionIndex:function(){return jb},getPageViewId:function(){return ya()},newSession:function(){var g=ka();"0"===g[0]?(Sb="none"!=Ha?Ac(g):g[6],jb=g[3],S()):(jb++,Sb=Ac(g,jb));Nd(g);"none"!=Ha&&(Q(g),S());ge=(new Date).getTime()},getCookieName:function(g){return jc+g+"."+Rb},getUserId:function(){return Tb},getDomainUserId:function(){var g=ka();return g&&1<g.length?g[1]:null},getDomainUserInfo:function(){return ka()},setReferrerUrl:function(g){nd=
  g},setCustomUrl:function(g){C();var q=Gb,w;md=v(g)?g:"/"===g.slice(0,1)?v(q)+"://"+Xc(q)+g:(0<=(w=(q=u(q)).indexOf("?"))&&(q=q.slice(0,w)),(w=q.lastIndexOf("/"))!==q.length-1&&(q=q.slice(0,w+1)),q+g)},setDocumentTitle:function(g){Ib=document.title;Fc=g},discardHashTag:function(g){of=g},discardBrace:function(g){pf=g},setCookiePath:function(g){Sd=g;R()},setVisitorCookieTimeout:function(g){rf=g},crossDomainLinker:function(g){y(g)},enableActivityTracking:function(g){Na.configurations.pagePing||(Na.enabled=
  !0,Na.configurations.pagePing=ca(ha(ha({},g),{callback:Qa})))},enableActivityTrackingCallback:function(g){Na.configurations.callback||(Na.enabled=!0,Na.configurations.callback=ca(g))},updatePageActivity:function(){M()},setOptOutCookie:function(g){fe=g},setUserId:function(g){Tb=g},setUserIdFromLocation:function(g){C();Tb=zc(g,Gb)},setUserIdFromReferrer:function(g){C();Tb=zc(g,Bc)},setUserIdFromCookie:function(g){Tb=ib(g)},setCollectorUrl:function(g,q){he=Ma(g,q);vb.setCollectorUrl(he)},setBufferSize:function(g){vb.setBufferSize(g)},
  flushBuffer:function(g){void 0===g&&(g={});vb.executeQueue();g.newBufferSize&&vb.setBufferSize(g.newBufferSize)},trackPageView:function(g){void 0===g&&(g={});N();var q=k.core.getConfig();try{g=ha(ha({},g),{context:Od(null==q?void 0:q.performanceContextConfig).contexts()})}catch(w){console.warn("Conviva App Tracker:: error adding performacetiming context to page view",w)}F(g)},trackVideoEvent:function(g){var q,w,B;void 0===g&&(g={});try{var x=k.core.getConfig();if(null!==(w=null===(q=null==x?void 0:
  x.customEventTrackingConfiguration)||void 0===q?void 0:q.enabled)&&void 0!==w?w:ja.customEventTrackingConfiguration.enabled){""!=g.name&&null!=g.name||console.warn("Conviva App Tracker:: Video event could not be tracked due to missing name property!!");var E=null===(B=null==x?void 0:x.customEventTrackingConfiguration)||void 0===B?void 0:B.blocklist;(null==E?0:E.includes("*"))||(null==E?0:E.some(function(D){return 0<(null==D?void 0:D.length)&&g.name.toLowerCase().includes(D.toLowerCase())}))||k.core.track(function(D){return pb({event:{sc:"cv/ve/1-0-5",
  dt:Cb({name:D.name,sid:D.sid,iid:D.iid,clid:D.clid,st:D.st,sst:D.sst,an:D.an,cl:D.cl,lv:D.lv,pn:D.pn,vid:D.vid,fw:D.fw,fwv:D.fwv,mn:D.mn,mv:D.mv,url:D.url,tags:D.tags,cen:D.cen,ced:D.ced,oldsc:D.oldsc,newsc:D.newsc,err:D.err,br:D.br,ft:D.ft,avgbr:D.avgbr})}})}({name:g.name,sid:g.sid,iid:g.iid,clid:g.clid,st:g.st,sst:g.sst,an:g.an,cl:g.cl,lv:g.lv,pn:g.pn,vid:g.vid,fw:g.fw,fwv:g.fwv,mn:g.mn,mv:g.mv,url:g.url,tags:g.tags,cen:g.cen,ced:g.ced,oldsc:g.old,newsc:g.new,err:g.err,br:g.br,ft:g.ft,avgbr:g.avgbr}),
  g.context,g.timestamp)}}catch(D){console.warn("Conviva App Tracker:: Video event could not be tracked due to an exception!!",D)}},trackCustomEvent:function(g){var q,w,B;void 0===g&&(g={});try{if(Jb()!==H.SAMPLING_MODES.NONE){var x=k.core.getConfig();if(null!==(w=null===(q=null==x?void 0:x.customEventTrackingConfiguration)||void 0===q?void 0:q.enabled)&&void 0!==w?w:ja.customEventTrackingConfiguration.enabled){if(!g.name||"string"==typeof g.name&&""==g.name.trim())return void console.warn("Conviva App Tracker:: custom event name is mandatory for trackCustomEvent API!!");
  var E=g.data;try{"string"!=typeof g.data&&(E=JSON.stringify(g.data))}catch(I){}var D=null===(B=null==x?void 0:x.customEventTrackingConfiguration)||void 0===B?void 0:B.blocklist;(null==D?0:D.includes("*"))||(null==D?0:D.some(function(I){return 0<(null==I?void 0:I.length)&&g.name.toLowerCase().includes(I.toLowerCase())}))||k.core.track(Kg({name:g.name,data:E}),g.context,g.timestamp)}}}catch(I){console.warn("Conviva App Tracker:: Unable to track custom event! "+I)}},trackNetworkRequest:function(g){var q,
  w,B,x,E,D,I,U,W,da,Ba,na,Ya,X,ba,Ia,cb,Ub,Vb,Wb,Xb,Yb;void 0===g&&(g={});try{var Gc=k.core.getConfig().networkRequestTrackingConfiguration,Zb=g.responseDetails.responseTime-g.requestDetails.requestTime;try{Zb=parseFloat(Zb.toFixed(3))}catch(O){console.warn("Conviva App Tracker:: exception while converting duration to 3 decimal",O)}var kc=function(O){try{var ia=void 0;return null!=O&&(ia=O["content-type"]||O["Content-Type"]||O["Content-type"]),ia}catch(lb){}},lc=function(O){try{var ia=void 0;return null!=
  O&&(ia=O["content-length"]||O["Content-Length"]||O["Content-length"]),null==ia||isNaN(ia)?ia:Number(ia)}catch(lb){}}(null===(B=null==g?void 0:g.responseDetails)||void 0===B?void 0:B.headers),kb=kc(null===(x=null==g?void 0:g.requestDetails)||void 0===x?void 0:x.headers),wb=kc(null===(E=null==g?void 0:g.responseDetails)||void 0===E?void 0:E.headers);try{var xb=((q={targetUrl:null===(D=null==g?void 0:g.requestDetails)||void 0===D?void 0:D.url,method:null===(I=null==g?void 0:g.requestDetails)||void 0===
  I?void 0:I.method,responseStatusCode:(null===(U=null==g?void 0:g.responseDetails)||void 0===U?0:U.status)?g.responseDetails.status:0,responseStatusText:(null===(W=null==g?void 0:g.responseDetails)||void 0===W?0:W.statusText)?g.responseDetails.statusText:"ok"})[Ea.request_headers]=null===(da=null==g?void 0:g.requestDetails)||void 0===da?void 0:da.headers,q[Ea.response_headers]=null===(Ba=null==g?void 0:g.responseDetails)||void 0===Ba?void 0:Ba.headers,q.duration=Zb,q);if(void 0!==kb&&(kb.toLowerCase().includes("text/plain")||
  kb.toLowerCase().includes("json")||kb.toLowerCase().includes("text/javascript")||kb.toLowerCase().includes("application/javascript"))||void 0===kb)if("string"==typeof(null===(na=null==g?void 0:g.requestDetails)||void 0===na?void 0:na.body))try{1E4>=(null===(Ya=null==g?void 0:g.requestDetails)||void 0===Ya?void 0:Ya.body.length)&&(xb[Ea.request_body]=JSON.parse(null===(X=null==g?void 0:g.requestDetails)||void 0===X?void 0:X.body))}catch(O){}else"object"===la(null===(ba=null==g?void 0:g.requestDetails)||
  void 0===ba?void 0:ba.body)&&(xb[Ea.request_body]=null===(Ia=null==g?void 0:g.requestDetails)||void 0===Ia?void 0:Ia.body);if(void 0!==wb&&(wb.toLowerCase().includes("text/plain")||wb.toLowerCase().includes("json")||wb.toLowerCase().includes("text/javascript")||wb.toLowerCase().includes("application/javascript"))&&void 0!==lc&&1E4>=lc)if("string"==typeof(null===(cb=null==g?void 0:g.responseDetails)||void 0===cb?void 0:cb.body))try{xb[Ea.response_body]=JSON.parse(null===(Ub=null==g?void 0:g.responseDetails)||
  void 0===Ub?void 0:Ub.body)}catch(O){}else"object"===la(null===(Vb=null==g?void 0:g.responseDetails)||void 0===Vb?void 0:Vb.body)&&(xb[Ea.response_body]=null===(Wb=null==g?void 0:g.responseDetails)||void 0===Wb?void 0:Wb.body);var pa=function(O,ia){var lb=[Ea.request_body,Ea.response_body,Ea.request_headers,Ea.response_headers],Za={};if(ia&&0<ia.length)for(var nc=0;nc<ia.length;nc++){var sa=ia[nc],Kb=sa.conditions;var Da=void 0;var Oa=["conditions"],db={};for(Da in sa)Object.prototype.hasOwnProperty.call(sa,
  Da)&&0>Oa.indexOf(Da)&&(db[Da]=sa[Da]);if(null!=sa&&"function"==typeof Object.getOwnPropertySymbols){var La=0;for(Da=Object.getOwnPropertySymbols(sa);La<Da.length;La++)0>Oa.indexOf(Da[La])&&Object.prototype.propertyIsEnumerable.call(sa,Da[La])&&(db[Da[La]]=sa[Da[La]])}Da=db;try{a:{sa=O;try{for(Oa=0;Oa<Kb.length;Oa++){var $b=Kb[Oa];db=!1;if(0<Object.keys($b).length){La=0;for(var oc=Object.entries($b);La<oc.length;La++){var od=oc[La],ie=od[1],ih=sa[od[0]];if(0<ie.length){for(var Ef=0,je=0,Ff=ie;je<
  Ff.length;je++){var Lb=Ff[je],ke="contains",le=Lb;if("object"===la(Lb)&&Lb.length?(ke=Lb[1],le=Lb[0]):"boolean"!=typeof Lb&&null!==Lb||(ke="equal",le=Lb),Rg(ih,ke,le)){db=!0;break}if(db=!1,Ef+1===ie.length)break;Ef++}if(!1===db)break}}}if(db){var Gf=!0;break a}}}catch(rd){console.warn("Conviva App Tracker: Error in Applying nwreqConfig ".concat(rd))}Gf=!1}if(Gf){sa=0;for(var Hf=Object.entries(O);sa<Hf.length;sa++){var If=Hf[sa],mb=If[0],jh=If[1];if(lb.includes(mb))try{if(Da[mb]&&0<Da[mb].length){Oa=
  !1;mb!==Ea.response_headers&&mb!==Ea.request_headers||(Oa=!0);var Jf=Sg(O[mb],Da[mb],Oa);0!==Object.keys(Jf).length&&(Za[mb]=Jf)}}catch(rd){Za[mb]=void 0}else Za[mb]=jh}return Za}}catch(rd){console.warn("Conviva App Tracker: Error in collecting attributes nwreqConfig ".concat(rd))}}Za=ha({},O);for(O=0;O<lb.length;O++)ia=lb[O],null!=Za&&Za.hasOwnProperty(ia)&&delete Za[ia];return Za}(xb,Gc.collectattr);if(null===(Xb=null==g?void 0:g.requestDetails)||void 0===Xb?0:Xb[H.TRACEPARENT_HEADER_KEY]){var Hc=
  ((w={})[H.TRACEPARENT_HEADER_KEY]=null===(Yb=null==g?void 0:g.requestDetails)||void 0===Yb?void 0:Yb[H.TRACEPARENT_HEADER_KEY],w);pa[Ea.request_headers]?pa[Ea.request_headers]=ha(ha({},pa[Ea.request_headers]),Hc):pa[Ea.request_headers]=Hc}k.core.track(pb({event:{sc:"cv/nr/1-0-4",dt:Cb({targetUrl:pa.targetUrl,method:pa.method,queryParameters:pa.queryParameters,responseStatusCode:pa.responseStatusCode,responseStatusText:pa.responseStatusText,rqh:pa.rqh,rsh:pa.rsh,rqb:pa.rqb,rsb:pa.rsb,requestSize:pa.requestSize,
  responseSize:pa.responseSize,duration:pa.duration,contentType:pa.contentType,requestTimestamp:pa.requestTimestamp,responseTimestamp:pa.responseTimestamp})}}),g.context,g.timestamp)}catch(O){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",O)}}catch(O){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",O)}},trackButtonClick:function(g){mf(g)},trackLinkClick:function(g){lf(g)},setCustomTags:function(g){void 0===
  g&&(g={});Ta(g)},setMetaCustomTags:function(g){void 0===g&&(g={});(function(q){try{var w=Object.keys(q);Z(JSON.stringify(q))?w.forEach(function(B){""!==B&&Object.defineProperty(Xd,B,{value:""+q[B],writable:!0,enumerable:!0,configurable:!0})}):console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=")}catch(B){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",B)}})(g)},unsetCustomTags:function(g){void 0===g&&(g={});(function(q){try{q.forEach(function(w){delete Vd[w]})}catch(w){console.warn("Conviva AppTracker:: Failed to unset Custom tag(s). Check format of keys set.")}})(g)},
  preservePageViewId:function(){vf=!0},disableAnonymousTracking:function(g){r.anonymousTracking=!1;J(g);V();vb.executeQueue()},enableAnonymousTracking:function(g){var q;r.anonymousTracking=null===(q=g&&(null==g?void 0:g.options))||void 0===q||q;J(g);hd||Ra()},clearUserData:za,setKeepAliveInBG:function(g){void 0===g&&(g=!1);wf=g},clearTimers:function(){qa=null;Kf.cleanupNetworkRequestHandler();try{ad=k,removeEventListener("error",$e,!0),removeEventListener("unhandledrejection",bf,!0)}catch(w){console.warn("Conviva App Tracker caused Exception in disableErrorTracking method of error tracking module",
  w)}if(Lf.abort(),Ic&&window.clearInterval(Ic),Na.enabled){var g=void 0;for(g in Na.configurations){var q=Na.configurations[g];q&&window.clearInterval(q.activityInterval)}}this.tracker=k.core=null},getSamplingMode:Jb};ua=me;!0;var Kf=kh.getInstance(me,r,Jb);return Kf.initiateNetworkRequestTracking(),ha(ha({},me),{id:n,namespace:l,core:Hb,sharedState:m})}(a,c,b,d,e,f);var k=ha(ha({},a),{addPlugin:function(n){var l,p;k.core.addPlugin(n);null===(p=(l=n.plugin).activateBrowserPlugin)||void 0===p||p.call(l,
  k)}});h.forEach(function(n){var l;null===(l=n.activateBrowserPlugin)||void 0===l||l.call(n,k)});try{ad=k,ab(window,"error",$e,!0),ab(window,"unhandledrejection",bf,!0)}catch(n){console.warn("Conviva App Tracker caused Exception in enableErrorTracking method of error tracking module",n)}return Vg(k),Wg(k),k}function fb(a,c){try{var b=null!=a?a:Object.keys(ac);a=ac;for(var d=[],e=0;e<b.length;e++){var f=b[e];a.hasOwnProperty(f)?d.push(a[f]):ma.warn(f+" not configured")}d.forEach(c)}catch(h){ma.error("Function failed",
  h)}}var ha=function(){return ha=Object.assign||function(a){for(var c,b=1,d=arguments.length;b<d;b++)for(var e in c=arguments[b])Object.prototype.hasOwnProperty.call(c,e)&&(a[e]=c[e]);return a},ha.apply(this,arguments)},sd={},Mf="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(Mf){var Nf=new Uint8Array(16);sd=function(){return Mf(Nf),Nf}}else{var Of=
  Array(16);sd=function(){for(var a,c=0;16>c;c++)0==(3&c)&&(a=4294967296*Math.random()),Of[c]=a>>>((3&c)<<3)&255;return Of}}for(var Ja=[],td=0;256>td;++td)Ja[td]=(td+256).toString(16).substr(1);var Pf,ne,Qf=function(a,c){c=c||0;return[Ja[a[c++]],Ja[a[c++]],Ja[a[c++]],Ja[a[c++]],"-",Ja[a[c++]],Ja[a[c++]],"-",Ja[a[c++]],Ja[a[c++]],"-",Ja[a[c++]],Ja[a[c++]],"-",Ja[a[c++]],Ja[a[c++]],Ja[a[c++]],Ja[a[c++]],Ja[a[c++]],Ja[a[c++]]].join("")},lh=sd,oe=0,pe=0,mh=sd,qe=function(a,c,b){b=c&&b||0;"string"==typeof a&&
  (c="binary"===a?Array(16):null,a=null);var d=(a=a||{}).random||(a.rng||mh)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,c)for(a=0;16>a;++a)c[b+a]=d[a];return c||Qf(d)};qe.v1=function(a,c,b){b=c&&b||0;var d=c||[],e=(a=a||{}).node||Pf,f=void 0!==a.clockseq?a.clockseq:ne;if(null==e||null==f){var h=lh();null==e&&(e=Pf=[1|h[0],h[1],h[2],h[3],h[4],h[5]]);null==f&&(f=ne=16383&(h[6]<<8|h[7]))}h=void 0!==a.msecs?a.msecs:(new Date).getTime();var k=void 0!==a.nsecs?a.nsecs:pe+1,n=h-oe+(k-pe)/1E4;if(0>n&&void 0===a.clockseq&&
  (f=f+1&16383),(0>n||h>oe)&&void 0===a.nsecs&&(k=0),1E4<=k)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");oe=h;pe=k;ne=f;a=(1E4*(268435455&(h+=122192928E5))+k)%4294967296;d[b++]=a>>>24&255;d[b++]=a>>>16&255;d[b++]=a>>>8&255;d[b++]=255&a;a=h/4294967296*1E4&268435455;d[b++]=a>>>8&255;d[b++]=255&a;d[b++]=a>>>24&15|16;d[b++]=a>>>16&255;d[b++]=f>>>8|128;d[b++]=255&f;for(f=0;6>f;++f)d[b+f]=e[f];return c||Qf(d)};var Bb=qe.v4=qe,Ab="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
  yb;!function(a){a[a.none=0]="none";a[a.error=1]="error";a[a.warn=2]="warn";a[a.debug=3]="debug";a[a.info=4]="info"}(yb||(yb={}));var Rf,ma=function(a){void 0===a&&(a=yb.warn);return{setLogLevel:function(c){a=yb[c]?c:yb.warn},warn:function(c,b){for(var d=[],e=2;e<arguments.length;e++)d[e-2]=arguments[e];a>=yb.warn&&"undefined"!=typeof console&&(e="Conviva: "+c,b?console.warn.apply(console,xa([e+"\n",b],d,!1)):console.warn.apply(console,xa([e],d,!1)))},error:function(c,b){for(var d=[],e=2;e<arguments.length;e++)d[e-
  2]=arguments[e];a>=yb.error&&"undefined"!=typeof console&&(e="Conviva: "+c+"\n",b?console.error.apply(console,xa([e+"\n",b],d,!1)):console.error.apply(console,xa([e],d,!1)))},debug:function(c){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];a>=yb.debug&&"undefined"!=typeof console&&console.debug.apply(console,xa(["Conviva: "+c],b,!1))},info:function(c){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];a>=yb.info&&"undefined"!=typeof console&&console.info.apply(console,xa(["Conviva: "+
  c],b,!1))}}}();!function(a){a.response_body="rsb";a.request_body="rqb";a.response_headers="rsh";a.request_headers="rqh"}(Rf||(Rf={}));var ud,Sf={},Tf={};Tf=ud={rotl:function(a,c){return a<<c|a>>>32-c},rotr:function(a,c){return a<<32-c|a>>>c},endian:function(a){if(a.constructor==Number)return 16711935&ud.rotl(a,8)|4278255360&ud.rotl(a,24);for(var c=0;c<a.length;c++)a[c]=ud.endian(a[c]);return a},randomBytes:function(a){for(var c=[];0<a;a--)c.push(Math.floor(256*Math.random()));return c},bytesToWords:function(a){for(var c=
  [],b=0,d=0;b<a.length;b++,d+=8)c[d>>>5]|=a[b]<<24-d%32;return c},wordsToBytes:function(a){for(var c=[],b=0;b<32*a.length;b+=8)c.push(a[b>>>5]>>>24-b%32&255);return c},bytesToHex:function(a){for(var c=[],b=0;b<a.length;b++)c.push((a[b]>>>4).toString(16)),c.push((15&a[b]).toString(16));return c.join("")},hexToBytes:function(a){for(var c=[],b=0;b<a.length;b+=2)c.push(parseInt(a.substr(b,2),16));return c},bytesToBase64:function(a){for(var c=[],b=0;b<a.length;b+=3)for(var d=a[b]<<16|a[b+1]<<8|a[b+2],e=
  0;4>e;e++)8*b+6*e<=8*a.length?c.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d>>>6*(3-e)&63)):c.push("=");return c.join("")},base64ToBytes:function(a){a=a.replace(/[^A-Z0-9+\/]/gi,"");for(var c=[],b=0,d=0;b<a.length;d=++b%4)0!=d&&c.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(b-1))&Math.pow(2,-2*d+8)-1)<<2*d|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(b))>>>6-2*d);return c}};var re=
  {utf8:{stringToBytes:function(a){return re.bin.stringToBytes(unescape(encodeURIComponent(a)))},bytesToString:function(a){return decodeURIComponent(escape(re.bin.bytesToString(a)))}},bin:{stringToBytes:function(a){for(var c=[],b=0;b<a.length;b++)c.push(255&a.charCodeAt(b));return c},bytesToString:function(a){for(var c=[],b=0;b<a.length;b++)c.push(String.fromCharCode(a[b]));return c.join("")}}},Uf=re;!function(){var a=Tf,c=Uf.utf8,b=Uf.bin,d=function(e,f){var h=a.wordsToBytes,k=e;k.constructor==String?
  k=c.stringToBytes(k):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(k)?k=Array.prototype.slice.call(k,0):Array.isArray(k)||(k=k.toString());e=a.bytesToWords(k);var n=8*k.length;k=[];var l=1732584193,p=-271733879,z=-1732584194,m=271733878,r=-1009589776;e[n>>5]|=128<<24-n%32;e[15+(n+64>>>9<<4)]=n;for(n=0;n<e.length;n+=16){for(var C=l,A=p,y=z,u=m,v=r,t=0;80>t;t++){if(16>t)k[t]=e[n+t];else{var R=k[t-3]^k[t-8]^k[t-14]^k[t-16];k[t]=R<<1|R>>>31}R=(l<<5|l>>>27)+r+(k[t]>>>
  0)+(20>t?1518500249+(p&z|~p&m):40>t?1859775393+(p^z^m):60>t?(p&z|p&m|z&m)-1894007588:(p^z^m)-899497514);r=m;m=z;z=p<<30|p>>>2;p=l;l=R}l+=C;p+=A;z+=y;m+=u;r+=v}h=h.call(a,[l,p,z,m,r]);return f&&f.asBytes?h:f&&f.asString?b.bytesToString(h):a.bytesToHex(h)};d._blocksize=16;d._digestsize=20;Sf=d}();var $g=Sf,se=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),vd=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),nh=new Uint8Array([0,0,0,0,
  0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Vf=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),zb=Array(576);gc(zb);var Jc=Array(60);gc(Jc);var bc=Array(512);gc(bc);var Kc=Array(256);gc(Kc);var te=Array(29);gc(te);var Wf,Xf,Yf,wd=Array(30);gc(wd);var Lc=function(a,c){a.pending_buf[a.pending++]=255&c;a.pending_buf[a.pending++]=c>>>8&255},Pa=function(a,c,b){a.bi_valid>16-b?(a.bi_buf|=c<<a.bi_valid&65535,Lc(a,a.bi_buf),a.bi_buf=c>>16-a.bi_valid,a.bi_valid+=b-16):(a.bi_buf|=c<<a.bi_valid&65535,a.bi_valid+=
  b)},nb=function(a,c,b){Pa(a,b[2*c],b[2*c+1])},Zf=function(a,c){var b=0;do b|=1&a,a>>>=1,b<<=1;while(0<--c);return b>>>1},$f=function(a,c,b){var d,e=Array(16),f=0;for(d=1;15>=d;d++)f=f+b[d-1]<<1,e[d]=f;for(b=0;b<=c;b++)d=a[2*b+1],0!==d&&(a[2*b]=Zf(e[d]++,d))},ag=function(a){var c;for(c=0;286>c;c++)a.dyn_ltree[2*c]=0;for(c=0;30>c;c++)a.dyn_dtree[2*c]=0;for(c=0;19>c;c++)a.bl_tree[2*c]=0;a.dyn_ltree[512]=1;a.opt_len=a.static_len=0;a.sym_next=a.matches=0},bg=function(a){8<a.bi_valid?Lc(a,a.bi_buf):0<a.bi_valid&&
  (a.pending_buf[a.pending++]=a.bi_buf);a.bi_buf=0;a.bi_valid=0},cg=function(a,c,b,d){var e=2*c,f=2*b;return a[e]<a[f]||a[e]===a[f]&&d[c]<=d[b]},ue=function(a,c,b){for(var d=a.heap[b],e=b<<1;e<=a.heap_len&&(e<a.heap_len&&cg(c,a.heap[e+1],a.heap[e],a.depth)&&e++,!cg(c,d,a.heap[e],a.depth));)a.heap[b]=a.heap[e],b=e,e<<=1;a.heap[b]=d},dg=function(a,c,b){var d,e,f=0;if(0!==a.sym_next){do{var h=255&a.pending_buf[a.sym_buf+f++];h+=(255&a.pending_buf[a.sym_buf+f++])<<8;var k=a.pending_buf[a.sym_buf+f++];0===
  h?nb(a,k,c):(d=Kc[k],nb(a,d+256+1,c),0!==(e=se[d])&&(k-=te[d],Pa(a,k,e)),h--,d=256>h?bc[h]:bc[256+(h>>>7)],nb(a,d,b),0!==(e=vd[d])&&(h-=wd[d],Pa(a,h,e)))}while(f<a.sym_next)}nb(a,256,c)},ve=function(a,c){var b,d,e=c.dyn_tree;var f=c.stat_desc.static_tree;var h=c.stat_desc.has_stree,k=c.stat_desc.elems,n=-1;a.heap_len=0;a.heap_max=573;for(b=0;b<k;b++)0!==e[2*b]?(a.heap[++a.heap_len]=n=b,a.depth[b]=0):e[2*b+1]=0;for(;2>a.heap_len;)e[2*(d=a.heap[++a.heap_len]=2>n?++n:0)]=1,a.depth[d]=0,a.opt_len--,h&&
  (a.static_len-=f[2*d+1]);c.max_code=n;for(b=a.heap_len>>1;1<=b;b--)ue(a,e,b);d=k;do b=a.heap[1],a.heap[1]=a.heap[a.heap_len--],ue(a,e,1),f=a.heap[1],a.heap[--a.heap_max]=b,a.heap[--a.heap_max]=f,e[2*d]=e[2*b]+e[2*f],a.depth[d]=(a.depth[b]>=a.depth[f]?a.depth[b]:a.depth[f])+1,e[2*b+1]=e[2*f+1]=d,a.heap[1]=d++,ue(a,e,1);while(2<=a.heap_len);a.heap[--a.heap_max]=a.heap[1];var l,p,z,m,r;b=c.dyn_tree;d=c.max_code;f=c.stat_desc.static_tree;h=c.stat_desc.has_stree;k=c.stat_desc.extra_bits;var C=c.stat_desc.extra_base,
  A=c.stat_desc.max_length,y=0;for(z=0;15>=z;z++)a.bl_count[z]=0;b[2*a.heap[a.heap_max]+1]=0;for(c=a.heap_max+1;573>c;c++)(z=b[2*b[2*(l=a.heap[c])+1]+1]+1)>A&&(z=A,y++),b[2*l+1]=z,l>d||(a.bl_count[z]++,m=0,l>=C&&(m=k[l-C]),r=b[2*l],a.opt_len+=r*(z+m),h&&(a.static_len+=r*(f[2*l+1]+m)));if(0!==y){do{for(z=A-1;0===a.bl_count[z];)z--;a.bl_count[z]--;a.bl_count[z+1]+=2;a.bl_count[A]--;y-=2}while(0<y);for(z=A;0!==z;z--)for(l=a.bl_count[z];0!==l;)(p=a.heap[--c])>d||(b[2*p+1]!==z&&(a.opt_len+=(z-b[2*p+1])*
  b[2*p],b[2*p+1]=z),l--)}$f(e,n,a.bl_count)},eg=function(a,c,b){var d,e=-1,f=c[1],h=0,k=7,n=4;0===f&&(k=138,n=3);c[2*(b+1)+1]=65535;for(d=0;d<=b;d++){var l=f;f=c[2*(d+1)+1];++h<k&&l===f||(h<n?a.bl_tree[2*l]+=h:0!==l?(l!==e&&a.bl_tree[2*l]++,a.bl_tree[32]++):10>=h?a.bl_tree[34]++:a.bl_tree[36]++,h=0,e=l,0===f?(k=138,n=3):l===f?(k=6,n=3):(k=7,n=4))}},fg=function(a,c,b){var d,e,f=-1,h=c[1],k=0,n=7,l=4;0===h&&(n=138,l=3);for(d=0;d<=b;d++)if(e=h,h=c[2*(d+1)+1],!(++k<n&&e===h)){if(k<l){do nb(a,e,a.bl_tree);
  while(0!=--k)}else 0!==e?(e!==f&&(nb(a,e,a.bl_tree),k--),nb(a,16,a.bl_tree),Pa(a,k-3,2)):10>=k?(nb(a,17,a.bl_tree),Pa(a,k-3,3)):(nb(a,18,a.bl_tree),Pa(a,k-11,7));k=0;f=e;0===h?(n=138,l=3):e===h?(n=6,l=3):(n=7,l=4)}},gg=!1,xd=function(a,c,b,d){Pa(a,d?1:0,3);bg(a);Lc(a,b);Lc(a,~b);b&&a.pending_buf.set(a.window.subarray(c,c+b),a.pending);a.pending+=b},Mc=function(a,c,b,d){var e=65535&a|0;a=a>>>16&65535|0;for(var f;0!==b;){b-=f=2E3<b?2E3:b;do a=a+(e=e+c[d++]|0)|0;while(--f);e%=65521;a%=65521}return e|
  a<<16|0},oh=new Uint32Array(function(){for(var a,c=[],b=0;256>b;b++){a=b;for(var d=0;8>d;d++)a=1&a?3988292384^a>>>1:a>>>1;c[b]=a}return c}()),Fa=function(a,c,b,d){b=d+b;for(a^=-1;d<b;d++)a=a>>>8^oh[255&(a^c[d])];return-1^a},Qb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},P={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,
  Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},ph=function(a,c,b,d){var e,f,h=0;0<a.level?(2===a.strm.data_type&&(a.strm.data_type=function(k){var n,l=4093624447;for(n=0;31>=n;n++,l>>>=1)if(1&l&&0!==k.dyn_ltree[2*n])return 0;if(0!==k.dyn_ltree[18]||
  0!==k.dyn_ltree[20]||0!==k.dyn_ltree[26])return 1;for(n=32;256>n;n++)if(0!==k.dyn_ltree[2*n])return 1;return 0}(a)),ve(a,a.l_desc),ve(a,a.d_desc),h=function(k){var n;eg(k,k.dyn_ltree,k.l_desc.max_code);eg(k,k.dyn_dtree,k.d_desc.max_code);ve(k,k.bl_desc);for(n=18;3<=n&&0===k.bl_tree[2*Vf[n]+1];n--);return k.opt_len+=3*(n+1)+14,n}(a),e=a.opt_len+3+7>>>3,(f=a.static_len+3+7>>>3)<=e&&(e=f)):e=f=b+5;b+4<=e&&-1!==c?xd(a,c,b,d):4===a.strategy||f===e?(Pa(a,2+(d?1:0),3),dg(a,zb,Jc)):(Pa(a,4+(d?1:0),3),function(k,
  n,l,p){var z;Pa(k,n-257,5);Pa(k,l-1,5);Pa(k,p-4,4);for(z=0;z<p;z++)Pa(k,k.bl_tree[2*Vf[z]+1],3);fg(k,k.dyn_ltree,n-1);fg(k,k.dyn_dtree,l-1)}(a,a.l_desc.max_code+1,a.d_desc.max_code+1,h+1),dg(a,a.dyn_ltree,a.dyn_dtree));ag(a);d&&bg(a)},Mb=function(a,c,b){return a.pending_buf[a.sym_buf+a.sym_next++]=c,a.pending_buf[a.sym_buf+a.sym_next++]=c>>8,a.pending_buf[a.sym_buf+a.sym_next++]=b,0===c?a.dyn_ltree[2*b]++:(a.matches++,c--,a.dyn_ltree[2*(Kc[b]+256+1)]++,a.dyn_dtree[2*(256>c?bc[c]:bc[256+(c>>>7)])]++),
  a.sym_next===a.sym_end},qh=function(a){Pa(a,2,3);nb(a,256,zb);16===a.bi_valid?(Lc(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):8<=a.bi_valid&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)},Nb=P.Z_NO_FLUSH,rh=P.Z_PARTIAL_FLUSH,sh=P.Z_FULL_FLUSH,$a=P.Z_FINISH,hg=P.Z_BLOCK,Ka=P.Z_OK,ig=P.Z_STREAM_END,ob=P.Z_STREAM_ERROR,th=P.Z_DATA_ERROR,we=P.Z_BUF_ERROR,uh=P.Z_DEFAULT_COMPRESSION,vh=P.Z_FILTERED,yd=P.Z_HUFFMAN_ONLY,wh=P.Z_RLE,xh=P.Z_FIXED,yh=P.Z_DEFAULT_STRATEGY,zh=P.Z_UNKNOWN,Uc=P.Z_DEFLATED,
  cc=function(a,c){return a.msg=Qb[c],c},Db=function(a){for(var c=a.length;0<=--c;)a[c]=0},Ob=function(a,c,b){return(c<<a.hash_shift^b)&a.hash_mask},Ua=function(a){var c=a.state,b=c.pending;b>a.avail_out&&(b=a.avail_out);0!==b&&(a.output.set(c.pending_buf.subarray(c.pending_out,c.pending_out+b),a.next_out),a.next_out+=b,c.pending_out+=b,a.total_out+=b,a.avail_out-=b,c.pending-=b,0===c.pending&&(c.pending_out=0))},Va=function(a,c){ph(a,0<=a.block_start?a.block_start:-1,a.strstart-a.block_start,c);a.block_start=
  a.strstart;Ua(a.strm)},ea=function(a,c){a.pending_buf[a.pending++]=c},Nc=function(a,c){a.pending_buf[a.pending++]=c>>>8&255;a.pending_buf[a.pending++]=255&c},xe=function(a,c,b,d){var e=a.avail_in;return e>d&&(e=d),0===e?0:(a.avail_in-=e,c.set(a.input.subarray(a.next_in,a.next_in+e),b),1===a.state.wrap?a.adler=Mc(a.adler,c,e,b):2===a.state.wrap&&(a.adler=Fa(a.adler,c,e,b)),a.next_in+=e,a.total_in+=e,e)},jg=function(a,c){var b,d,e=a.max_chain_length,f=a.strstart,h=a.prev_length,k=a.nice_match,n=a.strstart>
  a.w_size-262?a.strstart-(a.w_size-262):0,l=a.window,p=a.w_mask,z=a.prev,m=a.strstart+258,r=l[f+h-1],C=l[f+h];a.prev_length>=a.good_match&&(e>>=2);k>a.lookahead&&(k=a.lookahead);do if(l[(b=c)+h]===C&&l[b+h-1]===r&&l[b]===l[f]&&l[++b]===l[f+1]){f+=2;for(b++;l[++f]===l[++b]&&l[++f]===l[++b]&&l[++f]===l[++b]&&l[++f]===l[++b]&&l[++f]===l[++b]&&l[++f]===l[++b]&&l[++f]===l[++b]&&l[++f]===l[++b]&&f<m;);if(d=258-(m-f),f=m-258,d>h){if(a.match_start=c,h=d,d>=k)break;r=l[f+h-1];C=l[f+h]}}while((c=z[c&p])>n&&
  0!=--e);return h<=a.lookahead?h:a.lookahead},sc=function(a){var c,b=a.w_size;do{var d=a.window_size-a.lookahead-a.strstart;if(a.strstart>=b+(b-262)){a.window.set(a.window.subarray(b,b+b-d),0);a.match_start-=b;a.strstart-=b;a.block_start-=b;a.insert>a.strstart&&(a.insert=a.strstart);var e,f=a,h=f.w_size;var k=e=f.hash_size;do{var n=f.head[--k];f.head[k]=n>=h?n-h:0}while(--e);k=e=h;do n=f.prev[--k],f.prev[k]=n>=h?n-h:0;while(--e);d+=b}if(0===a.strm.avail_in)break;if(c=xe(a.strm,a.window,a.strstart+
  a.lookahead,d),a.lookahead+=c,3<=a.lookahead+a.insert)for(d=a.strstart-a.insert,a.ins_h=a.window[d],a.ins_h=Ob(a,a.ins_h,a.window[d+1]);a.insert&&(a.ins_h=Ob(a,a.ins_h,a.window[d+3-1]),a.prev[d&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=d,d++,a.insert--,!(3>a.lookahead+a.insert)););}while(262>a.lookahead&&0!==a.strm.avail_in)},kg=function(a,c){var b,d,e,f=a.pending_buf_size-5>a.w_size?a.w_size:a.pending_buf_size-5,h=0,k=a.strm.avail_in;do{if(b=65535,e=a.bi_valid+42>>3,a.strm.avail_out<e)break;if(e=
  a.strm.avail_out-e,b>(d=a.strstart-a.block_start)+a.strm.avail_in&&(b=d+a.strm.avail_in),b>e&&(b=e),b<f&&(0===b&&c!==$a||c===Nb||b!==d+a.strm.avail_in))break;h=c===$a&&b===d+a.strm.avail_in?1:0;xd(a,0,0,h);a.pending_buf[a.pending-4]=b;a.pending_buf[a.pending-3]=b>>8;a.pending_buf[a.pending-2]=~b;a.pending_buf[a.pending-1]=~b>>8;Ua(a.strm);d&&(d>b&&(d=b),a.strm.output.set(a.window.subarray(a.block_start,a.block_start+d),a.strm.next_out),a.strm.next_out+=d,a.strm.avail_out-=d,a.strm.total_out+=d,a.block_start+=
  d,b-=d);b&&(xe(a.strm,a.strm.output,a.strm.next_out,b),a.strm.next_out+=b,a.strm.avail_out-=b,a.strm.total_out+=b)}while(0===h);return(k-=a.strm.avail_in)&&(k>=a.w_size?(a.matches=2,a.window.set(a.strm.input.subarray(a.strm.next_in-a.w_size,a.strm.next_in),0),a.strstart=a.w_size,a.insert=a.strstart):(a.window_size-a.strstart<=k&&(a.strstart-=a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+a.strstart),0),2>a.matches&&a.matches++,a.insert>a.strstart&&(a.insert=a.strstart)),a.window.set(a.strm.input.subarray(a.strm.next_in-
  k,a.strm.next_in),a.strstart),a.strstart+=k,a.insert+=k>a.w_size-a.insert?a.w_size-a.insert:k),a.block_start=a.strstart),a.high_water<a.strstart&&(a.high_water=a.strstart),h?4:c!==Nb&&c!==$a&&0===a.strm.avail_in&&a.strstart===a.block_start?2:(e=a.window_size-a.strstart,a.strm.avail_in>e&&a.block_start>=a.w_size&&(a.block_start-=a.w_size,a.strstart-=a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+a.strstart),0),2>a.matches&&a.matches++,e+=a.w_size,a.insert>a.strstart&&(a.insert=a.strstart)),
  e>a.strm.avail_in&&(e=a.strm.avail_in),e&&(xe(a.strm,a.window,a.strstart,e),a.strstart+=e,a.insert+=e>a.w_size-a.insert?a.w_size-a.insert:e),a.high_water<a.strstart&&(a.high_water=a.strstart),e=a.bi_valid+42>>3,f=(e=65535<a.pending_buf_size-e?65535:a.pending_buf_size-e)>a.w_size?a.w_size:e,((d=a.strstart-a.block_start)>=f||(d||c===$a)&&c!==Nb&&0===a.strm.avail_in&&d<=e)&&(b=d>e?e:d,h=c===$a&&0===a.strm.avail_in&&b===d?1:0,xd(a,a.block_start,b,h),a.block_start+=b,Ua(a.strm)),h?3:1)},ye=function(a,
  c){for(var b,d;;){if(262>a.lookahead){if(sc(a),262>a.lookahead&&c===Nb)return 1;if(0===a.lookahead)break}if(b=0,3<=a.lookahead&&(a.ins_h=Ob(a,a.ins_h,a.window[a.strstart+3-1]),b=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),0!==b&&a.strstart-b<=a.w_size-262&&(a.match_length=jg(a,b)),3<=a.match_length)if(d=Mb(a,a.strstart-a.match_start,a.match_length-3),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&3<=a.lookahead){a.match_length--;do a.strstart++,a.ins_h=Ob(a,
  a.ins_h,a.window[a.strstart+3-1]),b=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!=--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=Ob(a,a.ins_h,a.window[a.strstart+1]);else d=Mb(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d&&(Va(a,!1),0===a.strm.avail_out))return 1}return a.insert=2>a.strstart?a.strstart:2,c===$a?(Va(a,!0),0===a.strm.avail_out?3:4):a.sym_next&&(Va(a,!1),0===a.strm.avail_out)?
  1:2},tc=function(a,c){for(var b,d,e;;){if(262>a.lookahead){if(sc(a),262>a.lookahead&&c===Nb)return 1;if(0===a.lookahead)break}if(b=0,3<=a.lookahead&&(a.ins_h=Ob(a,a.ins_h,a.window[a.strstart+3-1]),b=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=2,0!==b&&a.prev_length<a.max_lazy_match&&a.strstart-b<=a.w_size-262&&(a.match_length=jg(a,b),5>=a.match_length&&(a.strategy===vh||3===a.match_length&&4096<a.strstart-
  a.match_start)&&(a.match_length=2)),3<=a.prev_length&&a.match_length<=a.prev_length){e=a.strstart+a.lookahead-3;d=Mb(a,a.strstart-1-a.prev_match,a.prev_length-3);a.lookahead-=a.prev_length-1;a.prev_length-=2;do++a.strstart<=e&&(a.ins_h=Ob(a,a.ins_h,a.window[a.strstart+3-1]),b=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!=--a.prev_length);if(a.match_available=0,a.match_length=2,a.strstart++,d&&(Va(a,!1),0===a.strm.avail_out))return 1}else if(a.match_available){if(Mb(a,
  0,a.window[a.strstart-1])&&Va(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return 1}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(Mb(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=2>a.strstart?a.strstart:2,c===$a?(Va(a,!0),0===a.strm.avail_out?3:4):a.sym_next&&(Va(a,!1),0===a.strm.avail_out)?1:2},Oc=[new hb(0,0,0,0,kg),new hb(4,4,8,4,ye),new hb(4,5,16,8,ye),new hb(4,6,32,32,ye),new hb(4,4,16,16,tc),new hb(8,16,32,32,tc),new hb(8,16,128,128,tc),
  new hb(8,32,128,256,tc),new hb(32,128,258,1024,tc),new hb(32,258,258,4096,tc)],Pc=function(a){if(!a)return 1;var c=a.state;return!c||c.strm!==a||42!==c.status&&57!==c.status&&69!==c.status&&73!==c.status&&91!==c.status&&103!==c.status&&113!==c.status&&666!==c.status?1:0},lg=function(a){if(Pc(a))return cc(a,ob);a.total_in=a.total_out=0;a.data_type=zh;var c=a.state;c.pending=0;c.pending_out=0;0>c.wrap&&(c.wrap=-c.wrap);c.status=2===c.wrap?57:c.wrap?42:113;a.adler=2===c.wrap?0:1;c.last_flush=-2;if(!gg){var b,
  d,e;a=Array(16);for(e=d=0;28>e;e++)for(te[e]=d,b=0;b<1<<se[e];b++)Kc[d++]=e;Kc[d-1]=e;for(e=d=0;16>e;e++)for(wd[e]=d,b=0;b<1<<vd[e];b++)bc[d++]=e;for(d>>=7;30>e;e++)for(wd[e]=d<<7,b=0;b<1<<vd[e]-7;b++)bc[256+d++]=e;for(b=0;15>=b;b++)a[b]=0;for(b=0;143>=b;)zb[2*b+1]=8,b++,a[8]++;for(;255>=b;)zb[2*b+1]=9,b++,a[9]++;for(;279>=b;)zb[2*b+1]=7,b++,a[7]++;for(;287>=b;)zb[2*b+1]=8,b++,a[8]++;$f(zb,287,a);for(b=0;30>b;b++)Jc[2*b+1]=5,Jc[2*b]=Zf(b,5);Wf=new Fd(zb,se,257,286,15);Xf=new Fd(Jc,vd,0,30,15);Yf=
  new Fd([],nh,0,19,7);!0;gg=!0}c.l_desc=new Gd(c.dyn_ltree,Wf);c.d_desc=new Gd(c.dyn_dtree,Xf);c.bl_desc=new Gd(c.bl_tree,Yf);c.bi_buf=0;c.bi_valid=0;ag(c);return Ka},mg=function(a){var c,b=lg(a);return b===Ka&&((c=a.state).window_size=2*c.w_size,Db(c.head),c.max_lazy_match=Oc[c.level].max_lazy,c.good_match=Oc[c.level].good_length,c.nice_match=Oc[c.level].nice_length,c.max_chain_length=Oc[c.level].max_chain,c.strstart=0,c.block_start=0,c.lookahead=0,c.insert=0,c.match_length=c.prev_length=2,c.match_available=
  0,c.ins_h=0),b},ng=function(a,c,b,d,e,f){if(!a)return ob;var h=1;if(c===uh&&(c=6),0>d?(h=0,d=-d):15<d&&(h=2,d-=16),1>e||9<e||b!==Uc||8>d||15<d||0>c||9<c||0>f||f>xh||8===d&&1!==h)return cc(a,ob);8===d&&(d=9);var k=new Lg;return a.state=k,k.strm=a,k.status=42,k.wrap=h,k.gzhead=null,k.w_bits=d,k.w_size=1<<k.w_bits,k.w_mask=k.w_size-1,k.hash_bits=e+7,k.hash_size=1<<k.hash_bits,k.hash_mask=k.hash_size-1,k.hash_shift=~~((k.hash_bits+3-1)/3),k.window=new Uint8Array(2*k.w_size),k.head=new Uint16Array(k.hash_size),
  k.prev=new Uint16Array(k.w_size),k.lit_bufsize=1<<e+6,k.pending_buf_size=4*k.lit_bufsize,k.pending_buf=new Uint8Array(k.pending_buf_size),k.sym_buf=k.lit_bufsize,k.sym_end=3*(k.lit_bufsize-1),k.level=c,k.strategy=f,k.method=b,mg(a)},wc={deflateInit:function(a,c){return ng(a,c,Uc,15,8,yh)},deflateInit2:ng,deflateReset:mg,deflateResetKeep:lg,deflateSetHeader:function(a,c){return Pc(a)||2!==a.state.wrap?ob:(a.state.gzhead=c,Ka)},deflate:function(a,c){if(Pc(a)||c>hg||0>c)return a?cc(a,ob):ob;var b=a.state;
  if(!a.output||0!==a.avail_in&&!a.input||666===b.status&&c!==$a)return cc(a,0===a.avail_out?we:ob);var d=b.last_flush;if(b.last_flush=c,0!==b.pending){if(Ua(a),0===a.avail_out)return b.last_flush=-1,Ka}else if(0===a.avail_in&&2*c-(4<c?9:0)<=2*d-(4<d?9:0)&&c!==$a)return cc(a,we);if(666===b.status&&0!==a.avail_in)return cc(a,we);if(42===b.status&&0===b.wrap&&(b.status=113),42===b.status)if(d=Uc+(b.w_bits-8<<4)<<8,d|=(b.strategy>=yd||2>b.level?0:6>b.level?1:6===b.level?2:3)<<6,0!==b.strstart&&(d|=32),
  Nc(b,d+=31-d%31),0!==b.strstart&&(Nc(b,a.adler>>>16),Nc(b,65535&a.adler)),a.adler=1,b.status=113,Ua(a),0!==b.pending)return b.last_flush=-1,Ka;if(57===b.status)if(a.adler=0,ea(b,31),ea(b,139),ea(b,8),b.gzhead)ea(b,(b.gzhead.text?1:0)+(b.gzhead.hcrc?2:0)+(b.gzhead.extra?4:0)+(b.gzhead.name?8:0)+(b.gzhead.comment?16:0)),ea(b,255&b.gzhead.time),ea(b,b.gzhead.time>>8&255),ea(b,b.gzhead.time>>16&255),ea(b,b.gzhead.time>>24&255),ea(b,9===b.level?2:b.strategy>=yd||2>b.level?4:0),ea(b,255&b.gzhead.os),b.gzhead.extra&&
  b.gzhead.extra.length&&(ea(b,255&b.gzhead.extra.length),ea(b,b.gzhead.extra.length>>8&255)),b.gzhead.hcrc&&(a.adler=Fa(a.adler,b.pending_buf,b.pending,0)),b.gzindex=0,b.status=69;else if(ea(b,0),ea(b,0),ea(b,0),ea(b,0),ea(b,0),ea(b,9===b.level?2:b.strategy>=yd||2>b.level?4:0),ea(b,3),b.status=113,Ua(a),0!==b.pending)return b.last_flush=-1,Ka;if(69===b.status){if(b.gzhead.extra){d=b.pending;for(var e=(65535&b.gzhead.extra.length)-b.gzindex;b.pending+e>b.pending_buf_size;){var f=b.pending_buf_size-
  b.pending;if(b.pending_buf.set(b.gzhead.extra.subarray(b.gzindex,b.gzindex+f),b.pending),b.pending=b.pending_buf_size,b.gzhead.hcrc&&b.pending>d&&(a.adler=Fa(a.adler,b.pending_buf,b.pending-d,d)),b.gzindex+=f,Ua(a),0!==b.pending)return b.last_flush=-1,Ka;d=0;e-=f}f=new Uint8Array(b.gzhead.extra);b.pending_buf.set(f.subarray(b.gzindex,b.gzindex+e),b.pending);b.pending+=e;b.gzhead.hcrc&&b.pending>d&&(a.adler=Fa(a.adler,b.pending_buf,b.pending-d,d));b.gzindex=0}b.status=73}if(73===b.status){if(b.gzhead.name){e=
  b.pending;do{if(b.pending===b.pending_buf_size){if(b.gzhead.hcrc&&b.pending>e&&(a.adler=Fa(a.adler,b.pending_buf,b.pending-e,e)),Ua(a),0!==b.pending)return b.last_flush=-1,Ka;e=0}d=b.gzindex<b.gzhead.name.length?255&b.gzhead.name.charCodeAt(b.gzindex++):0;ea(b,d)}while(0!==d);b.gzhead.hcrc&&b.pending>e&&(a.adler=Fa(a.adler,b.pending_buf,b.pending-e,e));b.gzindex=0}b.status=91}if(91===b.status){if(b.gzhead.comment){e=b.pending;do{if(b.pending===b.pending_buf_size){if(b.gzhead.hcrc&&b.pending>e&&(a.adler=
  Fa(a.adler,b.pending_buf,b.pending-e,e)),Ua(a),0!==b.pending)return b.last_flush=-1,Ka;e=0}d=b.gzindex<b.gzhead.comment.length?255&b.gzhead.comment.charCodeAt(b.gzindex++):0;ea(b,d)}while(0!==d);b.gzhead.hcrc&&b.pending>e&&(a.adler=Fa(a.adler,b.pending_buf,b.pending-e,e))}b.status=103}if(103===b.status){if(b.gzhead.hcrc){if(b.pending+2>b.pending_buf_size&&(Ua(a),0!==b.pending))return b.last_flush=-1,Ka;ea(b,255&a.adler);ea(b,a.adler>>8&255);a.adler=0}if(b.status=113,Ua(a),0!==b.pending)return b.last_flush=
  -1,Ka}if(0!==a.avail_in||0!==b.lookahead||c!==Nb&&666!==b.status){d=0===b.level?kg(b,c):b.strategy===yd?function(h,k){for(var n;;){if(0===h.lookahead&&(sc(h),0===h.lookahead)){if(k===Nb)return 1;break}if(h.match_length=0,n=Mb(h,0,h.window[h.strstart]),h.lookahead--,h.strstart++,n&&(Va(h,!1),0===h.strm.avail_out))return 1}return h.insert=0,k===$a?(Va(h,!0),0===h.strm.avail_out?3:4):h.sym_next&&(Va(h,!1),0===h.strm.avail_out)?1:2}(b,c):b.strategy===wh?function(h,k){for(var n,l,p,z,m=h.window;;){if(258>=
  h.lookahead){if(sc(h),258>=h.lookahead&&k===Nb)return 1;if(0===h.lookahead)break}if(h.match_length=0,3<=h.lookahead&&0<h.strstart&&(l=m[p=h.strstart-1])===m[++p]&&l===m[++p]&&l===m[++p]){for(z=h.strstart+258;l===m[++p]&&l===m[++p]&&l===m[++p]&&l===m[++p]&&l===m[++p]&&l===m[++p]&&l===m[++p]&&l===m[++p]&&p<z;);h.match_length=258-(z-p);h.match_length>h.lookahead&&(h.match_length=h.lookahead)}if(3<=h.match_length?(n=Mb(h,1,h.match_length-3),h.lookahead-=h.match_length,h.strstart+=h.match_length,h.match_length=
  0):(n=Mb(h,0,h.window[h.strstart]),h.lookahead--,h.strstart++),n&&(Va(h,!1),0===h.strm.avail_out))return 1}return h.insert=0,k===$a?(Va(h,!0),0===h.strm.avail_out?3:4):h.sym_next&&(Va(h,!1),0===h.strm.avail_out)?1:2}(b,c):Oc[b.level].func(b,c);if(3!==d&&4!==d||(b.status=666),1===d||3===d)return 0===a.avail_out&&(b.last_flush=-1),Ka;if(2===d&&(c===rh?qh(b):c!==hg&&(xd(b,0,0,!1),c===sh&&(Db(b.head),0===b.lookahead&&(b.strstart=0,b.block_start=0,b.insert=0))),Ua(a),0===a.avail_out))return b.last_flush=
  -1,Ka}return c!==$a?Ka:0>=b.wrap?ig:(2===b.wrap?(ea(b,255&a.adler),ea(b,a.adler>>8&255),ea(b,a.adler>>16&255),ea(b,a.adler>>24&255),ea(b,255&a.total_in),ea(b,a.total_in>>8&255),ea(b,a.total_in>>16&255),ea(b,a.total_in>>24&255)):(Nc(b,a.adler>>>16),Nc(b,65535&a.adler)),Ua(a),0<b.wrap&&(b.wrap=-b.wrap),0!==b.pending?Ka:ig)},deflateEnd:function(a){if(Pc(a))return ob;var c=a.state.status;return a.state=null,113===c?cc(a,th):Ka},deflateSetDictionary:function(a,c){var b=c.length;if(Pc(a))return ob;var d=
  a.state,e=d.wrap;if(2===e||1===e&&42!==d.status||d.lookahead)return ob;if(1===e&&(a.adler=Mc(a.adler,c,b,0)),d.wrap=0,b>=d.w_size){0===e&&(Db(d.head),d.strstart=0,d.block_start=0,d.insert=0);var f=new Uint8Array(d.w_size);f.set(c.subarray(b-d.w_size,b),0);c=f;b=d.w_size}f=a.avail_in;var h=a.next_in,k=a.input;a.avail_in=b;a.next_in=0;a.input=c;for(sc(d);3<=d.lookahead;){c=d.strstart;b=d.lookahead-2;do d.ins_h=Ob(d,d.ins_h,d.window[c+3-1]),d.prev[c&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=c,c++;while(--b);
  d.strstart=c;d.lookahead=2;sc(d)}return d.strstart+=d.lookahead,d.block_start=d.strstart,d.insert=d.lookahead,d.lookahead=0,d.match_length=d.prev_length=2,d.match_available=0,a.next_in=h,a.input=k,a.avail_in=f,d.wrap=e,Ka},deflateInfo:"pako deflate (from Nodeca project)"},Oe=function(a){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var b=c.shift();if(b){if("object"!==la(b))throw new TypeError(b+"must be non-object");for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])}}return a},
  og=function(a){for(var c=0,b=0,d=a.length;b<d;b++)c+=a[b].length;c=new Uint8Array(c);d=b=0;for(var e=a.length;b<e;b++){var f=a[b];c.set(f,d);d+=f.length}return c},pg=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){pg=!1}for(var Qc=new Uint8Array(256),Pb=0;256>Pb;Pb++)Qc[Pb]=252<=Pb?6:248<=Pb?5:240<=Pb?4:224<=Pb?3:192<=Pb?2:1;Qc[254]=Qc[254]=1;var Hd=function(a){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(a);var c,b,d,e,f=a.length,
  h=0;for(d=0;d<f;d++)55296==(64512&(c=a.charCodeAt(d)))&&d+1<f&&56320==(64512&(b=a.charCodeAt(d+1)))&&(c=65536+(c-55296<<10)+(b-56320),d++),h+=128>c?1:2048>c?2:65536>c?3:4;var k=new Uint8Array(h);for(d=e=0;e<h;d++)55296==(64512&(c=a.charCodeAt(d)))&&d+1<f&&56320==(64512&(b=a.charCodeAt(d+1)))&&(c=65536+(c-55296<<10)+(b-56320),d++),128>c?k[e++]=c:2048>c?(k[e++]=192|c>>>6,k[e++]=128|63&c):65536>c?(k[e++]=224|c>>>12,k[e++]=128|c>>>6&63,k[e++]=128|63&c):(k[e++]=240|c>>>18,k[e++]=128|c>>>12&63,k[e++]=128|
  c>>>6&63,k[e++]=128|63&c);return k},Pe=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0},Qe=Object.prototype.toString,Ah=P.Z_NO_FLUSH,Bh=P.Z_SYNC_FLUSH,Ch=P.Z_FULL_FLUSH,Dh=P.Z_FINISH,Vc=P.Z_OK,Eh=P.Z_STREAM_END,Mg=P.Z_DEFAULT_COMPRESSION,Og=P.Z_DEFAULT_STRATEGY,Ng=P.Z_DEFLATED;vc.prototype.push=function(a,c){var b=this.strm,d=this.options.chunkSize;if(this.ended)return!1;
  c=c===~~c?c:!0===c?Dh:Ah;"string"==typeof a?b.input=Hd(a):"[object ArrayBuffer]"===Qe.call(a)?b.input=new Uint8Array(a):b.input=a;b.next_in=0;for(b.avail_in=b.input.length;;)if(0===b.avail_out&&(b.output=new Uint8Array(d),b.next_out=0,b.avail_out=d),(c===Bh||c===Ch)&&6>=b.avail_out)this.onData(b.output.subarray(0,b.next_out)),b.avail_out=0;else{if((a=wc.deflate(b,c))===Eh)return 0<b.next_out&&this.onData(b.output.subarray(0,b.next_out)),a=wc.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Vc;
  if(0!==b.avail_out)if(0<c&&0<b.next_out)this.onData(b.output.subarray(0,b.next_out)),b.avail_out=0;else{if(0===b.avail_in)break}else this.onData(b.output)}return!0};vc.prototype.onData=function(a){this.chunks.push(a)};vc.prototype.onEnd=function(a){a===Vc&&(this.result=og(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};var Fh=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Gh=new Uint8Array([16,16,16,16,16,16,16,16,17,17,
  17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Hh=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ih=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Rc=function(a,c,b,d,e,f,h,k){var n,l,p,z,m,r,C=k.bits,A,y,u,v,t,R=0,M,T=null,G=new Uint16Array(16);var L=new Uint16Array(16);var S=null;for(A=0;15>=A;A++)G[A]=0;for(y=0;y<d;y++)G[c[b+
  y]]++;var Q=C;for(u=15;1<=u&&0===G[u];u--);if(Q>u&&(Q=u),0===u)return e[f++]=20971520,e[f++]=20971520,k.bits=1,0;for(C=1;C<u&&0===G[C];C++);Q<C&&(Q=C);for(A=n=1;15>=A;A++)if(n<<=1,0>(n-=G[A]))return-1;if(0<n&&(0===a||1!==u))return-1;L[1]=0;for(A=1;15>A;A++)L[A+1]=L[A]+G[A];for(y=0;y<d;y++)0!==c[b+y]&&(h[L[c[b+y]]++]=y);if(0===a?(T=S=h,z=20):1===a?(T=Fh,S=Gh,z=257):(T=Hh,S=Ih,z=0),M=0,y=0,A=C,L=f,v=Q,t=0,p=-1,d=(R=1<<Q)-1,1===a&&852<R||2===a&&592<R)return 1;for(;;){var Y=A-t;h[y]+1<z?(m=0,r=h[y]):
  h[y]>=z?(m=S[h[y]-z],r=T[h[y]-z]):(m=96,r=0);n=1<<A-t;C=l=1<<v;do e[L+(M>>t)+(l-=n)]=Y<<24|m<<16|r|0;while(0!==l);for(n=1<<A-1;M&n;)n>>=1;if(0!==n?(M&=n-1,M+=n):M=0,y++,0==--G[A]){if(A===u)break;A=c[b+h[y]]}if(A>Q&&(M&d)!==p){0===t&&(t=Q);L+=C;for(n=1<<(v=A-t);v+t<u&&!(0>=(n-=G[v+t]));)v++,n<<=1;if(R+=1<<v,1===a&&852<R||2===a&&592<R)return 1;e[p=M&d]=Q<<24|v<<16|L-f|0}}return 0!==M&&(e[L+M]=A-t<<24|4194304),k.bits=Q,0},qg=P.Z_FINISH,Jh=P.Z_BLOCK,zd=P.Z_TREES,dc=P.Z_OK,Kh=P.Z_STREAM_END,Lh=P.Z_NEED_DICT,
  gb=P.Z_STREAM_ERROR,rg=P.Z_DATA_ERROR,sg=P.Z_MEM_ERROR,Mh=P.Z_BUF_ERROR,tg=P.Z_DEFLATED,ug=function(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24)},ze,Ae,ec=function(a){if(!a)return 1;var c=a.state;return!c||c.strm!==a||16180>c.mode||16211<c.mode?1:0},vg=function(a){if(ec(a))return gb;var c=a.state;return a.total_in=a.total_out=c.total=0,a.msg="",c.wrap&&(a.adler=1&c.wrap),c.mode=16180,c.last=0,c.havedict=0,c.flags=-1,c.dmax=32768,c.head=null,c.hold=0,c.bits=0,c.lencode=c.lendyn=
  new Int32Array(852),c.distcode=c.distdyn=new Int32Array(592),c.sane=1,c.back=-1,dc},wg=function(a){if(ec(a))return gb;var c=a.state;return c.wsize=0,c.whave=0,c.wnext=0,vg(a)},xg=function(a,c){var b;if(ec(a))return gb;var d=a.state;return 0>c?(b=0,c=-c):(b=5+(c>>4),48>c&&(c&=15)),c&&(8>c||15<c)?gb:(null!==d.window&&d.wbits!==c&&(d.window=null),d.wrap=b,d.wbits=c,wg(a))},yg=function(a,c){if(!a)return gb;var b=new Pg;a.state=b;b.strm=a;b.window=null;b.mode=16180;c=xg(a,c);return c!==dc&&(a.state=null),
  c},zg=!0,Ag=function(a,c,b,d){var e;a=a.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),d>=a.wsize?(a.window.set(c.subarray(b-a.wsize,b),0),a.wnext=0,a.whave=a.wsize):((e=a.wsize-a.wnext)>d&&(e=d),a.window.set(c.subarray(b-d,b-d+e),a.wnext),(d-=e)?(a.window.set(c.subarray(b-d,b),0),a.wnext=d,a.whave=a.wsize):(a.wnext+=e,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=e))),0},qb={inflateReset:wg,inflateReset2:xg,inflateResetKeep:vg,
  inflateInit:function(a){return yg(a,15)},inflateInit2:yg,inflate:function(a,c){var b,d,e,f,h,k,n,l=0,p=new Uint8Array(4),z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ec(a)||!a.output||!a.input&&0!==a.avail_in)return gb;16191===(b=a.state).mode&&(b.mode=16192);var m=a.next_out;var r=a.output;var C=a.avail_out;var A=a.next_in;var y=a.input;var u=a.avail_in;var v=b.hold;var t=b.bits;var R=u;var M=C;var T=dc;a:for(;;)switch(b.mode){case 16180:if(0===b.wrap){b.mode=16192;break}for(;16>
  t;){if(0===u)break a;u--;v+=y[A++]<<t;t+=8}if(2&b.wrap&&35615===v){0===b.wbits&&(b.wbits=15);b.check=0;p[0]=255&v;p[1]=v>>>8&255;b.check=Fa(b.check,p,2,0);t=v=0;b.mode=16181;break}if(b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&v)<<8)+(v>>8))%31){a.msg="incorrect header check";b.mode=16209;break}if((15&v)!==tg){a.msg="unknown compression method";b.mode=16209;break}if(t-=4,k=8+(15&(v>>>=4)),0===b.wbits&&(b.wbits=k),15<k||k>b.wbits){a.msg="invalid window size";b.mode=16209;break}b.dmax=1<<b.wbits;b.flags=
  0;a.adler=b.check=1;b.mode=512&v?16189:16191;t=v=0;break;case 16181:for(;16>t;){if(0===u)break a;u--;v+=y[A++]<<t;t+=8}if(b.flags=v,(255&b.flags)!==tg){a.msg="unknown compression method";b.mode=16209;break}if(57344&b.flags){a.msg="unknown header flags set";b.mode=16209;break}b.head&&(b.head.text=v>>8&1);512&b.flags&&4&b.wrap&&(p[0]=255&v,p[1]=v>>>8&255,b.check=Fa(b.check,p,2,0));t=v=0;b.mode=16182;case 16182:for(;32>t;){if(0===u)break a;u--;v+=y[A++]<<t;t+=8}b.head&&(b.head.time=v);512&b.flags&&4&
  b.wrap&&(p[0]=255&v,p[1]=v>>>8&255,p[2]=v>>>16&255,p[3]=v>>>24&255,b.check=Fa(b.check,p,4,0));t=v=0;b.mode=16183;case 16183:for(;16>t;){if(0===u)break a;u--;v+=y[A++]<<t;t+=8}b.head&&(b.head.xflags=255&v,b.head.os=v>>8);512&b.flags&&4&b.wrap&&(p[0]=255&v,p[1]=v>>>8&255,b.check=Fa(b.check,p,2,0));t=v=0;b.mode=16184;case 16184:if(1024&b.flags){for(;16>t;){if(0===u)break a;u--;v+=y[A++]<<t;t+=8}b.length=v;b.head&&(b.head.extra_len=v);512&b.flags&&4&b.wrap&&(p[0]=255&v,p[1]=v>>>8&255,b.check=Fa(b.check,
  p,2,0));t=v=0}else b.head&&(b.head.extra=null);b.mode=16185;case 16185:if(1024&b.flags&&((d=b.length)>u&&(d=u),d&&(b.head&&(k=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Uint8Array(b.head.extra_len)),b.head.extra.set(y.subarray(A,A+d),k)),512&b.flags&&4&b.wrap&&(b.check=Fa(b.check,y,d,A)),u-=d,A+=d,b.length-=d),b.length))break a;b.length=0;b.mode=16186;case 16186:if(2048&b.flags){if(0===u)break a;d=0;do k=y[A+d++],b.head&&k&&65536>b.length&&(b.head.name+=String.fromCharCode(k));while(k&&
  d<u);if(512&b.flags&&4&b.wrap&&(b.check=Fa(b.check,y,d,A)),u-=d,A+=d,k)break a}else b.head&&(b.head.name=null);b.length=0;b.mode=16187;case 16187:if(4096&b.flags){if(0===u)break a;d=0;do k=y[A+d++],b.head&&k&&65536>b.length&&(b.head.comment+=String.fromCharCode(k));while(k&&d<u);if(512&b.flags&&4&b.wrap&&(b.check=Fa(b.check,y,d,A)),u-=d,A+=d,k)break a}else b.head&&(b.head.comment=null);b.mode=16188;case 16188:if(512&b.flags){for(;16>t;){if(0===u)break a;u--;v+=y[A++]<<t;t+=8}if(4&b.wrap&&v!==(65535&
  b.check)){a.msg="header crc mismatch";b.mode=16209;break}t=v=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0);a.adler=b.check=0;b.mode=16191;break;case 16189:for(;32>t;){if(0===u)break a;u--;v+=y[A++]<<t;t+=8}a.adler=b.check=ug(v);t=v=0;b.mode=16190;case 16190:if(0===b.havedict)return a.next_out=m,a.avail_out=C,a.next_in=A,a.avail_in=u,b.hold=v,b.bits=t,Lh;a.adler=b.check=1;b.mode=16191;case 16191:if(c===Jh||c===zd)break a;case 16192:if(b.last){v>>>=7&t;t-=7&t;b.mode=16206;break}for(;3>t;){if(0===
  u)break a;u--;v+=y[A++]<<t;t+=8}switch(b.last=1&v,--t,3&(v>>>=1)){case 0:b.mode=16193;break;case 1:var G=b;if(zg){ze=new Int32Array(512);Ae=new Int32Array(32);for(f=0;144>f;)G.lens[f++]=8;for(;256>f;)G.lens[f++]=9;for(;280>f;)G.lens[f++]=7;for(;288>f;)G.lens[f++]=8;Rc(1,G.lens,0,288,ze,0,G.work,{bits:9});for(f=0;32>f;)G.lens[f++]=5;Rc(2,G.lens,0,32,Ae,0,G.work,{bits:5});zg=!1}G.lencode=ze;G.lenbits=9;G.distcode=Ae;G.distbits=5;if(b.mode=16199,c===zd){v>>>=2;t-=2;break a}break;case 2:b.mode=16196;
  break;case 3:a.msg="invalid block type",b.mode=16209}v>>>=2;t-=2;break;case 16193:v>>>=7&t;for(t-=7&t;32>t;){if(0===u)break a;u--;v+=y[A++]<<t;t+=8}if((65535&v)!=(v>>>16^65535)){a.msg="invalid stored block lengths";b.mode=16209;break}if(b.length=65535&v,v=0,t=0,b.mode=16194,c===zd)break a;case 16194:b.mode=16195;case 16195:if(d=b.length){if(d>u&&(d=u),d>C&&(d=C),0===d)break a;r.set(y.subarray(A,A+d),m);u-=d;A+=d;C-=d;m+=d;b.length-=d;break}b.mode=16191;break;case 16196:for(;14>t;){if(0===u)break a;
  u--;v+=y[A++]<<t;t+=8}if(b.nlen=257+(31&v),v>>>=5,t-=5,b.ndist=1+(31&v),v>>>=5,t-=5,b.ncode=4+(15&v),v>>>=4,t-=4,286<b.nlen||30<b.ndist){a.msg="too many length or distance symbols";b.mode=16209;break}b.have=0;b.mode=16197;case 16197:for(;b.have<b.ncode;){for(;3>t;){if(0===u)break a;u--;v+=y[A++]<<t;t+=8}b.lens[z[b.have++]]=7&v;v>>>=3;t-=3}for(;19>b.have;)b.lens[z[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,n={bits:b.lenbits},T=Rc(0,b.lens,0,19,b.lencode,0,b.work,n),b.lenbits=n.bits,T){a.msg="invalid code lengths set";
  b.mode=16209;break}b.have=0;b.mode=16198;case 16198:for(;b.have<b.nlen+b.ndist;){for(;l=b.lencode[v&(1<<b.lenbits)-1],h=65535&l,!((G=l>>>24)<=t);){if(0===u)break a;u--;v+=y[A++]<<t;t+=8}if(16>h)v>>>=G,t-=G,b.lens[b.have++]=h;else{if(16===h){for(f=G+2;t<f;){if(0===u)break a;u--;v+=y[A++]<<t;t+=8}if(v>>>=G,t-=G,0===b.have){a.msg="invalid bit length repeat";b.mode=16209;break}k=b.lens[b.have-1];d=3+(3&v);v>>>=2;t-=2}else if(17===h){for(f=G+3;t<f;){if(0===u)break a;u--;v+=y[A++]<<t;t+=8}t-=G;k=0;d=3+
  (7&(v>>>=G));v>>>=3;t-=3}else{for(f=G+7;t<f;){if(0===u)break a;u--;v+=y[A++]<<t;t+=8}t-=G;k=0;d=11+(127&(v>>>=G));v>>>=7;t-=7}if(b.have+d>b.nlen+b.ndist){a.msg="invalid bit length repeat";b.mode=16209;break}for(;d--;)b.lens[b.have++]=k}}if(16209===b.mode)break;if(0===b.lens[256]){a.msg="invalid code -- missing end-of-block";b.mode=16209;break}if(b.lenbits=9,n={bits:b.lenbits},T=Rc(1,b.lens,0,b.nlen,b.lencode,0,b.work,n),b.lenbits=n.bits,T){a.msg="invalid literal/lengths set";b.mode=16209;break}if(b.distbits=
  6,b.distcode=b.distdyn,n={bits:b.distbits},T=Rc(2,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,n),b.distbits=n.bits,T){a.msg="invalid distances set";b.mode=16209;break}if(b.mode=16199,c===zd)break a;case 16199:b.mode=16200;case 16200:if(6<=u&&258<=C){a.next_out=m;a.avail_out=C;a.next_in=A;a.avail_in=u;b.hold=v;b.bits=t;var L;u=A=void 0;var S=a,Q=S.state;var Y=S.next_in;r=S.input;var za=Y+(S.avail_in-5);var J=S.next_out;y=S.output;var V=J-(M-S.avail_out);var ka=J+(S.avail_out-257);var Ma=Q.dmax;var Ra=
  Q.wsize;var ya=Q.whave;var fa=Q.wnext;var aa=Q.window;h=Q.hold;f=Q.bits;G=Q.lencode;t=Q.distcode;v=(1<<Q.lenbits)-1;C=(1<<Q.distbits)-1;b:do{15>f&&(h+=r[Y++]<<f,f+=8,h+=r[Y++]<<f,f+=8);var Z=G[h&v];c:for(;;){if(h>>>=u=Z>>>24,f-=u,0===(u=Z>>>16&255))y[J++]=65535&Z;else{if(!(16&u)){if(0==(64&u)){Z=G[(65535&Z)+(h&(1<<u)-1)];continue c}if(32&u){Q.mode=16191;break b}S.msg="invalid literal/length code";Q.mode=16209;break b}m=65535&Z;(u&=15)&&(f<u&&(h+=r[Y++]<<f,f+=8),m+=h&(1<<u)-1,h>>>=u,f-=u);15>f&&(h+=
  r[Y++]<<f,f+=8,h+=r[Y++]<<f,f+=8);Z=t[h&C];d:for(;;){if(h>>>=u=Z>>>24,f-=u,!(16&(u=Z>>>16&255))){if(0==(64&u)){Z=t[(65535&Z)+(h&(1<<u)-1)];continue d}S.msg="invalid distance code";Q.mode=16209;break b}if(A=65535&Z,f<(u&=15)&&(h+=r[Y++]<<f,(f+=8)<u&&(h+=r[Y++]<<f,f+=8)),(A+=h&(1<<u)-1)>Ma){S.msg="invalid distance too far back";Q.mode=16209;break b}if(h>>>=u,f-=u,A>(u=J-V)){if((u=A-u)>ya&&Q.sane){S.msg="invalid distance too far back";Q.mode=16209;break b}if(L=0,Z=aa,0===fa){if(L+=Ra-u,u<m){m-=u;do y[J++]=
  aa[L++];while(--u);L=J-A;Z=y}}else if(fa<u){if(L+=Ra+fa-u,(u-=fa)<m){m-=u;do y[J++]=aa[L++];while(--u);if(L=0,fa<m){m-=u=fa;do y[J++]=aa[L++];while(--u);L=J-A;Z=y}}}else if(L+=fa-u,u<m){m-=u;do y[J++]=aa[L++];while(--u);L=J-A;Z=y}for(;2<m;)y[J++]=Z[L++],y[J++]=Z[L++],y[J++]=Z[L++],m-=3;m&&(y[J++]=Z[L++],1<m&&(y[J++]=Z[L++]))}else{L=J-A;do y[J++]=y[L++],y[J++]=y[L++],y[J++]=y[L++],m-=3;while(2<m);m&&(y[J++]=y[L++],1<m&&(y[J++]=y[L++]))}break}}break}}while(Y<za&&J<ka);Y-=m=f>>3;h&=(1<<(f-=m<<3))-1;
  S.next_in=Y;S.next_out=J;S.avail_in=Y<za?za-Y+5:5-(Y-za);S.avail_out=J<ka?ka-J+257:257-(J-ka);Q.hold=h;Q.bits=f;m=a.next_out;r=a.output;C=a.avail_out;A=a.next_in;y=a.input;u=a.avail_in;v=b.hold;t=b.bits;16191===b.mode&&(b.back=-1);break}for(b.back=0;f=(l=b.lencode[v&(1<<b.lenbits)-1])>>>16&255,h=65535&l,!((G=l>>>24)<=t);){if(0===u)break a;u--;v+=y[A++]<<t;t+=8}if(f&&0==(240&f)){aa=G;fa=f;for(ya=h;f=(l=b.lencode[ya+((v&(1<<aa+fa)-1)>>aa)])>>>16&255,h=65535&l,!(aa+(G=l>>>24)<=t);){if(0===u)break a;
  u--;v+=y[A++]<<t;t+=8}v>>>=aa;t-=aa;b.back+=aa}if(v>>>=G,t-=G,b.back+=G,b.length=h,0===f){b.mode=16205;break}if(32&f){b.back=-1;b.mode=16191;break}if(64&f){a.msg="invalid literal/length code";b.mode=16209;break}b.extra=15&f;b.mode=16201;case 16201:if(b.extra){for(f=b.extra;t<f;){if(0===u)break a;u--;v+=y[A++]<<t;t+=8}b.length+=v&(1<<b.extra)-1;v>>>=b.extra;t-=b.extra;b.back+=b.extra}b.was=b.length;b.mode=16202;case 16202:for(;f=(l=b.distcode[v&(1<<b.distbits)-1])>>>16&255,h=65535&l,!((G=l>>>24)<=
  t);){if(0===u)break a;u--;v+=y[A++]<<t;t+=8}if(0==(240&f)){aa=G;fa=f;for(ya=h;f=(l=b.distcode[ya+((v&(1<<aa+fa)-1)>>aa)])>>>16&255,h=65535&l,!(aa+(G=l>>>24)<=t);){if(0===u)break a;u--;v+=y[A++]<<t;t+=8}v>>>=aa;t-=aa;b.back+=aa}if(v>>>=G,t-=G,b.back+=G,64&f){a.msg="invalid distance code";b.mode=16209;break}b.offset=h;b.extra=15&f;b.mode=16203;case 16203:if(b.extra){for(f=b.extra;t<f;){if(0===u)break a;u--;v+=y[A++]<<t;t+=8}b.offset+=v&(1<<b.extra)-1;v>>>=b.extra;t-=b.extra;b.back+=b.extra}if(b.offset>
  b.dmax){a.msg="invalid distance too far back";b.mode=16209;break}b.mode=16204;case 16204:if(0===C)break a;if(d=M-C,b.offset>d){if((d=b.offset-d)>b.whave&&b.sane){a.msg="invalid distance too far back";b.mode=16209;break}d>b.wnext?(d-=b.wnext,e=b.wsize-d):e=b.wnext-d;d>b.length&&(d=b.length);G=b.window}else G=r,e=m-b.offset,d=b.length;d>C&&(d=C);C-=d;b.length-=d;do r[m++]=G[e++];while(--d);0===b.length&&(b.mode=16200);break;case 16205:if(0===C)break a;r[m++]=b.length;C--;b.mode=16200;break;case 16206:if(b.wrap){for(;32>
  t;){if(0===u)break a;u--;v|=y[A++]<<t;t+=8}if(M-=C,a.total_out+=M,b.total+=M,4&b.wrap&&M&&(a.adler=b.check=b.flags?Fa(b.check,r,M,m-M):Mc(b.check,r,M,m-M)),M=C,4&b.wrap&&(b.flags?v:ug(v))!==b.check){a.msg="incorrect data check";b.mode=16209;break}t=v=0}b.mode=16207;case 16207:if(b.wrap&&b.flags){for(;32>t;){if(0===u)break a;u--;v+=y[A++]<<t;t+=8}if(4&b.wrap&&v!==(4294967295&b.total)){a.msg="incorrect length check";b.mode=16209;break}t=v=0}b.mode=16208;case 16208:T=Kh;break a;case 16209:T=rg;break a;
  case 16210:return sg;default:return gb}return a.next_out=m,a.avail_out=C,a.next_in=A,a.avail_in=u,b.hold=v,b.bits=t,(b.wsize||M!==a.avail_out&&16209>b.mode&&(16206>b.mode||c!==qg))&&Ag(a,a.output,a.next_out,M-a.avail_out),R-=a.avail_in,M-=a.avail_out,a.total_in+=R,a.total_out+=M,b.total+=M,4&b.wrap&&M&&(a.adler=b.check=b.flags?Fa(b.check,r,M,a.next_out-M):Mc(b.check,r,M,a.next_out-M)),a.data_type=b.bits+(b.last?64:0)+(16191===b.mode?128:0)+(16199===b.mode||16194===b.mode?256:0),(0===R&&0===M||c===
  qg)&&T===dc&&(T=Mh),T},inflateEnd:function(a){if(ec(a))return gb;var c=a.state;return c.window&&(c.window=null),a.state=null,dc},inflateGetHeader:function(a,c){if(ec(a))return gb;a=a.state;return 0==(2&a.wrap)?gb:(a.head=c,c.done=!1,dc)},inflateSetDictionary:function(a,c){var b,d=c.length;return ec(a)||0!==(b=a.state).wrap&&16190!==b.mode?gb:16190===b.mode&&Mc(1,c,d,0)!==b.check?rg:Ag(a,c,d,d)?(b.mode=16210,sg):(b.havedict=1,dc)},inflateInfo:"pako inflate (from Nodeca project)"},Qg=function(){this.os=
  this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1},Re=Object.prototype.toString,Nh=P.Z_NO_FLUSH,Oh=P.Z_FINISH,yc=P.Z_OK,Be=P.Z_STREAM_END,Ce=P.Z_NEED_DICT,Ph=P.Z_STREAM_ERROR,Bg=P.Z_DATA_ERROR,Qh=P.Z_MEM_ERROR;xc.prototype.push=function(a,c){var b,d,e=this.strm,f=this.options.chunkSize,h=this.options.dictionary;if(this.ended)return!1;c=c===~~c?c:!0===c?Oh:Nh;"[object ArrayBuffer]"===Re.call(a)?e.input=new Uint8Array(a):e.input=a;
  e.next_in=0;for(e.avail_in=e.input.length;;){0===e.avail_out&&(e.output=new Uint8Array(f),e.next_out=0,e.avail_out=f);for((b=qb.inflate(e,c))===Ce&&h&&((b=qb.inflateSetDictionary(e,h))===yc?b=qb.inflate(e,c):b===Bg&&(b=Ce));0<e.avail_in&&b===Be&&0<e.state.wrap&&0!==a[e.next_in];)qb.inflateReset(e),b=qb.inflate(e,c);switch(b){case Ph:case Bg:case Ce:case Qh:return this.onEnd(b),this.ended=!0,!1}if(d=e.avail_out,e.next_out&&(0===e.avail_out||b===Be))if("string"===this.options.to){var k=e.output;var n=
  e.next_out;(n=n||k.length)>k.length&&(n=k.length);for(var l=n-1;0<=l&&128==(192&k[l]);)l--;k=0>l||0===l?n:l+Qc[k[l]]>n?l:n;n=e.next_out-k;var p,z,m=e.output,r=(l=k)||m.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)l=(new TextDecoder).decode(m.subarray(0,l));else{l=Array(2*r);for(z=p=0;z<r;){var C=m[z++];if(128>C)l[p++]=C;else{var A=Qc[C];if(4<A)l[p++]=65533,z+=A-1;else{for(C&=2===A?31:3===A?15:7;1<A&&z<r;)C=C<<6|63&m[z++],A--;1<A?l[p++]=65533:65536>C?l[p++]=C:(C-=65536,l[p++]=
  55296|C>>10&1023,l[p++]=56320|1023&C)}}}m=p;if(65534>m&&l.subarray&&pg)l=String.fromCharCode.apply(null,l.length===m?l:l.subarray(0,m));else{r="";for(p=0;p<m;p++)r+=String.fromCharCode(l[p]);l=r}}e.next_out=n;e.avail_out=f-n;n&&e.output.set(e.output.subarray(k,k+n),0);this.onData(l)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(b!==yc||0!==d){if(b===Be)return b=qb.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,!0;if(0===e.avail_in)break}}return!0};xc.prototype.onData=
  function(a){this.chunks.push(a)};xc.prototype.onEnd=function(a){a===yc&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=og(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};var Cg,Ze={Deflate:vc,deflate:Id,deflateRaw:function(a,c){return(c=c||{}).raw=!0,Id(a,c)},gzip:function(a,c){return(c=c||{}).gzip=!0,Id(a,c)},Inflate:xc,inflate:Jd,inflateRaw:function(a,c){return(c=c||{}).raw=!0,Jd(a,c)},ungzip:Jd,constants:P};!function(a){a.BRAND="DeviceBrand";a.MANUFACTURER=
  "DeviceManufacturer";a.MODEL="DeviceModel";a.TYPE="DeviceType";a.VERSION="DeviceVersion";a.OS_NAME="OperatingSystemName";a.OS_VERSION="OperatingSystemVersion";a.CATEGORY="DeviceCategory";a.FRAMEWORK_NAME="FrameworkName";a.FRAMEWORK_VERSION="FrameworkVersion"}(Cg||(Cg={}));var H,Ea,dh={CONSOLE:"Console",DESKTOP:"DESKTOP",MOBILE:"Mobile",SETTOP:"Settop",SMARTTV:"SmartTV",TABLET:"Tablet",VEHICLE:"Vehicle",OTHER:"Other"},Cf={ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",DESKTOP_APP:"DSKAPP",
  DEVICE_SIMULATOR:"SIMULATOR",KAIOS_DEVICE:"KAIOS",LG_TV:"LGTV",LINUX:"LNX",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",VIDAA_DEVICE:"VIDAA",VIZIO_TV:"VIZIOTV",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB"};!function(a){var c,b,d,e,f;a.TRACEPARENT_HEADER_KEY="traceparent";(function(h){h.NONE="NONE";h.RCFG="RCFG"})(b=a.SAMPLING_MODES||(a.SAMPLING_MODES={}));(d=a.SAMPLING_STATUS||(a.SAMPLING_STATUS={})).DERIVED="DERIVED";d.DEFAULT="DEFAULT";(function(h){h.SAMPLED="sl";h.NON_SAMPLED=
  "nsl"})(d=a.SAMPLING_ACTION||(a.SAMPLING_ACTION={}));a.DEFAULT_SAMPLING_ACTION=((c={})[d.SAMPLED]=b.RCFG,c[d.NON_SAMPLED]=b.NONE,c);(c=a.CONFIG_SOURCE||(a.CONFIG_SOURCE={})).DEFAULT="def";c.CACHED="cac";c.REMOTE="rem";(e=a.CONFIG_PREFERENCES||(a.CONFIG_PREFERENCES={}))[e.APP=0]="APP";e[e.REMOTE=1]="REMOTE";e[e.MERGE=2]="MERGE";(f=a.PERFORMANCE_CONTEXT||(a.PERFORMANCE_CONTEXT={}))[f.DISABLED=0]="DISABLED";f[f.PERFORMANCE_TIMING=1]="PERFORMANCE_TIMING";f[f.PERFORMANCE_NAVIGATION_TIMING=2]="PERFORMANCE_NAVIGATION_TIMING";
  (e=a.RC_FETCH_MODE||(a.RC_FETCH_MODE={})).DO_NOT_FETCH_UPDATE_TIMER="updateTimer";e.IMMEDIATE_FETCH="urgentFetch";e.UPDATE_TIMER_WITH_DIFF="checkDiff";a.REMOTE_CONFIG_STORAGE_KEY="ConvivaRemoteConfig";a.END_POINT_STORAGE_KEY="ConvivaEndpoint";a.DEFAULT_END_POINT="https://appgw.conviva.com";a.REMOTE_CONFIG_URL_PREFIX="https://rc.conviva.com/js/";a.REMOTE_CONFIG_FILE_NAME="/remote_config.json";a.SAMPLING_STORAGE_RANDOM_NUMBER_KEY="ConvivaSamplingRandomNumber";a.DIAGNOSTIC_INFO_MAX_LENGTH={MAX_MESSAGE_LENGTH:1024,
  MAX_STACK_LENGTH:2048,MAX_CLASSNAME_LENGTH:1024,MAX_EXCEPTION_NAME_LENGTH:1024}}(H||(H={}));(function(a){a.response_body="rsb";a.request_body="rqb";a.response_headers="rsh";a.request_headers="rqh"})(Ea||(Ea={}));var Ad,ra={};!function(a){a.APPLICATION_BACKGROUND="abg";a.APPLICATION_ERROR="ae"}(Ad||(Ad={}));var Eb,qa,ja={cacheRefreshInterval:30,base64:!1,linkClickTracking:!1,buttonClickTracking:!1,lifecycleAutotracking:!1,exceptionAutotracking:!1,enablePeriodicHeartbeat:!1,periodicHeartbeatInterval:40,
  customEventTrackingConfiguration:{enabled:!0},networkRequestTrackingConfiguration:{blocklist:["*"]},traceparentconfig:{enabled:!1,pref:H.CONFIG_PREFERENCES.MERGE,targetUrl:[]},performanceContextConfig:1,configurationVersion:-1,catRcLastUpdatedTs:0,endpoint:H.DEFAULT_END_POINT,applicationContext:!1,maxLocalStorageQueueSize:10,emitterConfiguration:{batching:{enabled:!0,byteLimitPostInKB:250,batchingIntervalInSec:5,urgentEvents:[Ad.APPLICATION_BACKGROUND,Ad.APPLICATION_ERROR]}},enc:"gzip",mend:!0,di:{en:!1,
  lim:30}},Lf=new AbortController,tb=Lf.signal,Rh="cws.conviva.com /wsg /ctp remote_config pings.conviva.com .m3u8 .mpd .ism .m4 .mp4 .ts .png .jpg .jpeg .bmp google-analytics.com googlesyndication.com googleapis stats.g.doubleclick chartbeat.com omtrdc.net app-measurement.com firebase nr-data.net newrelic bitmovin.com/impression bitmovin.com/analytics api.segment.io youbora hotjar mixpanel.com clevertap auryc .aac .vtt .googlevideo webp appsflyer facebook dynatrace mparticle npaw .pdf bookkeeper kochava mp3 marketingcloudapis demdex scorecardresearch lura.live perimeterx.net permutive.app segment.com vaicore.site boomtrain ketchcdn qualtrics .svg amplitude datadoghq branch.io hotjar splunkcloud".split(" ");
  !function(a){a.NONE="none";a.GZIP="gzip"}(Eb||(Eb={}));var eh=function(a,c,b){return qa=Jg({base64:null==a?void 0:a.base64,corePlugins:c,callback:b,linkClickTracking:a.linkClickTracking,buttonClickTracking:a.buttonClickTracking,exceptionAutotracking:a.exceptionAutotracking,enablePeriodicHeartbeat:a.enablePeriodicHeartbeat,periodicHeartbeatInterval:a.periodicHeartbeatInterval,enc:a.enc,mend:a.mend,maxLocalStorageQueueSize:a.maxLocalStorageQueueSize,maxGetBytes:a.maxGetBytes,bufferSize:a.bufferSize,
  customEventTrackingConfiguration:a.customEventTrackingConfiguration,networkRequestTrackingConfiguration:a.networkRequestTrackingConfiguration,metaTagsTrackingConfiguration:a.metaTagsTrackingConfiguration,performanceContextConfig:a.performanceContextConfig,lifecycleAutotracking:a.lifecycleAutotracking,configurationVersion:a.configurationVersion,catRcLastUpdatedTs:a.catRcLastUpdatedTs,cacheRefreshInterval:a.cacheRefreshInterval,endpoint:a.endpoint,controlIngestConfig:a.controlIngestConfig,applicationContext:a.applicationContext,
  emitterConfiguration:a.emitterConfiguration,di:a.di})},Sh=function(a){this.cacheRefreshInterval=a.cacheRefreshInterval;this.base64=a.base64;this.corePlugins=a.corePlugins;this.callback=a.callback;this.linkClickTracking=a.linkClickTracking;this.buttonClickTracking=a.buttonClickTracking;this.lifecycleAutotracking=a.lifecycleAutotracking;this.exceptionAutotracking=a.exceptionAutotracking;this.enablePeriodicHeartbeat=a.enablePeriodicHeartbeat;this.periodicHeartbeatInterval=a.periodicHeartbeatInterval;
  this.enc=a.enc;this.maxLocalStorageQueueSize=a.maxLocalStorageQueueSize;this.maxPostBytes=a.maxPostBytes;this.maxGetBytes=a.maxGetBytes;this.bufferSize=a.bufferSize;this.customEventTrackingConfiguration=a.customEventTrackingConfiguration;this.networkRequestTrackingConfiguration=a.networkRequestTrackingConfiguration;this.traceparentconfig=a.traceparentconfig;this.metaTagsTrackingConfiguration=a.metaTagsTrackingConfiguration;this.performanceContextConfig=a.performanceContextConfig;this.mend=a.mend;
  this.configurationVersion=a.configurationVersion;this.catRcLastUpdatedTs=a.catRcLastUpdatedTs;this.endpoint=a.endpoint;this.emitterConfiguration=a.emitterConfiguration;this.controlIngestConfig=a.controlIngestConfig;this.applicationContext=a.applicationContext;this.di=a.di},xf=function(){function a(){this.cacheRefreshInterval=ja.cacheRefreshInterval;this.base64=ja.base64;this.linkClickTracking=ja.linkClickTracking;this.buttonClickTracking=ja.buttonClickTracking;this.lifecycleAutotracking=ja.lifecycleAutotracking;
  this.exceptionAutotracking=ja.exceptionAutotracking;this.enablePeriodicHeartbeat=ja.enablePeriodicHeartbeat;this.periodicHeartbeatInterval=ja.periodicHeartbeatInterval;this.customEventTrackingConfiguration=ha({},ja.customEventTrackingConfiguration);this.networkRequestTrackingConfiguration=ha({},ja.networkRequestTrackingConfiguration);this.traceparentconfig=ha({},ja.traceparentconfig);this.performanceContextConfig=ja.performanceContextConfig;this.configurationVersion=ja.configurationVersion;this.catRcLastUpdatedTs=
  ja.catRcLastUpdatedTs;this.endpoint=ja.endpoint;this.emitterConfiguration=ja.emitterConfiguration;this.applicationContext=ja.applicationContext;this.enc=ja.enc;this.mend=ja.mend;this.di=ha({},ja.di)}return a.prototype.setCacheRefreshInterval=function(c){return this.cacheRefreshInterval="number"==typeof c&&1<=c&&Wc(c)?c:ja.cacheRefreshInterval,this},a.prototype.setBase64=function(c){return"boolean"==typeof c&&(this.base64=c),this},a.prototype.setCorePlugins=function(c){return c&&(this.corePlugins=
  c),this},a.prototype.setCallback=function(c){return c&&(this.callback=c),this},a.prototype.setLinkClickTracking=function(c){return"boolean"==typeof c&&(this.linkClickTracking=c),this},a.prototype.setButtonClickTracking=function(c){return"boolean"==typeof c&&(this.buttonClickTracking=c),this},a.prototype.setLifecycleAutotracking=function(c){return"boolean"==typeof c&&(this.lifecycleAutotracking=c),this},a.prototype.setExceptionAutotracking=function(c){return"boolean"==typeof c&&(this.exceptionAutotracking=
  c),this},a.prototype.setEnablePeriodicHeartbeat=function(c){return"boolean"==typeof c&&(this.enablePeriodicHeartbeat=c),this},a.prototype.setPeriodicHeartbeatInterval=function(c){return"number"==typeof c&&1<=c&&(this.periodicHeartbeatInterval=~~c),this},a.prototype.setEnc=function(c){return"string"==typeof c&&Object.values(Eb).includes(c)?this.enc=c:this.enc=ja.enc,this},a.prototype.setMaxLocalStorageQueueSize=function(c){return"number"==typeof c&&(this.maxLocalStorageQueueSize=c),this},a.prototype.setMaxGetBytes=
  function(c){return"number"==typeof c&&(this.maxGetBytes=c),this},a.prototype.setBufferSize=function(c){return"number"==typeof c&&(this.bufferSize=c),this},a.prototype.setCustomEventTrackingConfiguration=function(c){return c&&(this.customEventTrackingConfiguration=c),this},a.prototype.setEmitterConfiguration=function(c){return void 0!==c&&(void 0!==c.batching.enabled&&(this.emitterConfiguration.batching.enabled=c.batching.enabled),void 0!==c.batching.batchingIntervalInSec&&0<c.batching.batchingIntervalInSec&&
  (this.emitterConfiguration.batching.batchingIntervalInSec=c.batching.batchingIntervalInSec),"undefined"!=c.batching.byteLimitPostInKB&&0<c.batching.byteLimitPostInKB&&(this.emitterConfiguration.batching.byteLimitPostInKB=c.batching.byteLimitPostInKB),void 0!==c.batching.urgentEvents&&(this.emitterConfiguration.batching.urgentEvents=c.batching.urgentEvents)),this},a.prototype.setNetworkRequestTrackingConfiguration=function(c,b,d){return c&&(this.networkRequestTrackingConfiguration=c,b&&(this.networkRequestTrackingConfiguration.blocklist||
  (this.networkRequestTrackingConfiguration.blocklist=[]),d&&this.networkRequestTrackingConfiguration.blocklist.push(d),this.networkRequestTrackingConfiguration.blocklist=this.networkRequestTrackingConfiguration.blocklist.concat(Rh))),this},a.prototype.setTraceparentconfig=function(c){return c&&(this.traceparentconfig=c),this},a.prototype.setMetaTagsTrackingConfiguration=function(c){return c&&(this.metaTagsTrackingConfiguration=c),this},a.prototype.setPerformanceContextConfig=function(c){return"number"==
  typeof c&&(this.performanceContextConfig=c),this},a.prototype.setMend=function(c){return"boolean"==typeof c&&(this.mend=c),this},a.prototype.setConfigurationVersion=function(c){return"number"==typeof c&&(this.configurationVersion=c),this},a.prototype.setCatRcLastUpdatedTs=function(c){return"number"==typeof c&&(this.catRcLastUpdatedTs=c),this},a.prototype.setEndPoint=function(c){return"string"==typeof c&&0<c.trim().length?this.endpoint=c:this.endpoint=ja.endpoint,this},a.prototype.setcontrolIngestConfig=
  function(c){return void 0!==c?this.controlIngestConfig=c:Zc(),this},a.prototype.setApplicationContext=function(c){return void 0!==c&&(this.applicationContext=c),this},a.prototype.setDi=function(c){return void 0!==c&&(this.di=ha(ha({},this.di),c)),this},a.prototype.build=function(){return new Sh(this)},a}(),Ye=0,Xe=0,ta=H.CONFIG_SOURCE.DEFAULT,wa=0,eb,ua,pc=!1,Ic=null,qc=0,pd=!1,yf=function(a,c,b,d,e){var f=b.trackerConfigUrl?b.trackerConfigUrl:d;if("number"==typeof Ic){window.clearInterval(Ic);var h=
  {message:"Cancelling remote config timer",className:"updateRemoteConfig",extraData:{mode:e},configAppliedSrc:ta,configAppliedTime:wa};setTimeout(function(){Ca(qa,ua,h)},0)}var k=function(){var z={message:"Starting remote config timer with delay of ".concat(60*a," seconds"),className:"updateRemoteConfig",configAppliedSrc:ta,configAppliedTime:wa};setTimeout(function(){Ca(qa,ua,z)},0);Ic=window.setInterval(rc,6E4*a,f)};try{var n=c?((new Date).getTime()-c)/6E4:a;b=a-n;d=3*a/100;if("string"==typeof e&&
  e===H.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)k();else if("string"==typeof e&&e===H.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF&&0<c&&b>d){window.setTimeout(function(){rc(f);k()},6E4*b);var l={message:"Starting remote config timer with delay of ".concat(60*b," seconds"),className:"updateRemoteConfig",extraData:{mode:e},configAppliedSrc:ta,configAppliedTime:wa};setTimeout(function(){Ca(qa,ua,l)},0)}else rc(f),k()}catch(z){console.warn("Conviva App Tracker:: Error in setting cacheRefreshIntervalTimer",z);
  rc(f);k();var p={className:"cacheRefreshIntervalTimer",error:z,configAppliedSrc:ta,configAppliedTime:wa};setTimeout(function(){Ca(qa,ua,p)},0)}},rc=function(a,c){try{if("boolean"==typeof pc&&!1===pc){c?qc++:qc=0;eb.timeout=3E4;eb.open("GET",a,!0);pc=!0;var b={message:"Remote config fetch attempt",className:"updateRemoteConfig",configAppliedSrc:ta,configAppliedTime:wa};setTimeout(function(){Ca(qa,ua,b)},0);eb.send()}}catch(e){pc=!1;ma.warn("Conviva App Tracker:: Error in configtimerCallback ".concat(e));
  var d={className:"configtimerCallback",error:e,configAppliedSrc:ta,configAppliedTime:wa};setTimeout(function(){Ca(qa,ua,d)},0)}},bh=function(a,c,b,d){var e,f,h,k,n,l,p,z,m,r,C,A,y,u,v,t,R,M,T,G,L,S,Q,Y,za,J,V,ka,Ma,Ra,ya,fa,aa,Z,Ta=qa;try{if((null==a?void 0:a.configurationBundle[0].namespace)!==c)return Ca(qa,ua,{message:"Remote Config not Applied due to a missing namespace",className:"updateRemoteConfig",configAppliedSrc:ta,configAppliedTime:wa}),!1;if((null===(e=Ta.getConfig())||void 0===e?void 0:
  e.configurationVersion)===(null==a?void 0:a.configurationVersion)){var F=localStorage.getItem(H.REMOTE_CONFIG_STORAGE_KEY);if(F)return(F=JSON.parse(F)).catRcLastUpdatedTs=b,window.localStorage&&(localStorage.removeItem(H.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(H.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(F))),Ca(qa,ua,{message:"Remote Config not Applied as same version is fetched",className:"updateRemoteConfig",configAppliedSrc:ta,configAppliedTime:wa}),!1}var N=(new xf).setBase64(a.configurationBundle[0].trackerConfiguration.base64Encoding).setCacheRefreshInterval(a.cri||
  a.cacheRefreshInterval).setLinkClickTracking(null===(h=null===(f=a.configurationBundle[0])||void 0===f?void 0:f.trackerConfiguration)||void 0===h?void 0:h.linkClickTracking).setLifecycleAutotracking(null===(n=null===(k=a.configurationBundle[0])||void 0===k?void 0:k.trackerConfiguration)||void 0===n?void 0:n.lifecycleAutotracking).setButtonClickTracking(null===(p=null===(l=a.configurationBundle[0])||void 0===l?void 0:l.trackerConfiguration)||void 0===p?void 0:p.buttonClickTracking).setExceptionAutotracking(null===
  (m=null===(z=a.configurationBundle[0])||void 0===z?void 0:z.trackerConfiguration)||void 0===m?void 0:m.exceptionAutotracking).setEnablePeriodicHeartbeat(null===(C=null===(r=a.configurationBundle[0])||void 0===r?void 0:r.trackerConfiguration)||void 0===C?void 0:C.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null===(y=null===(A=a.configurationBundle[0])||void 0===A?void 0:A.trackerConfiguration)||void 0===y?void 0:y.periodicHeartbeatInterval).setEnc(null===(v=null===(u=a.configurationBundle[0])||
  void 0===u?void 0:u.networkConfiguration)||void 0===v?void 0:v.enc).setMaxLocalStorageQueueSize(null===(R=null===(t=a.configurationBundle[0])||void 0===t?void 0:t.networkConfiguration)||void 0===R?void 0:R.maxLocalStorageQueueSize).setMaxGetBytes(null===(T=null===(M=a.configurationBundle[0])||void 0===M?void 0:M.networkConfiguration)||void 0===T?void 0:T.maxGetBytes).setBufferSize(null===(L=null===(G=a.configurationBundle[0])||void 0===G?void 0:G.networkConfiguration)||void 0===L?void 0:L.bufferSize).setCustomEventTrackingConfiguration(null===
  (S=a.configurationBundle[0])||void 0===S?void 0:S.customEventTrackingConfiguration).setEndPoint(null===(Y=null===(Q=a.configurationBundle[0])||void 0===Q?void 0:Q.networkConfiguration)||void 0===Y?void 0:Y.endpoint).setNetworkRequestTrackingConfiguration(null===(za=a.configurationBundle[0])||void 0===za?void 0:za.networkRequestTrackingConfiguration,!0,null===(V=null===(J=a.configurationBundle[0])||void 0===J?void 0:J.networkConfiguration)||void 0===V?void 0:V.endpoint).setMetaTagsTrackingConfiguration(null===
  (ka=a.configurationBundle[0])||void 0===ka?void 0:ka.metaTagsTrackingConfiguration).setTraceparentconfig(null===(Ma=a.configurationBundle[0])||void 0===Ma?void 0:Ma.traceparentconfig).setMend(null===(ya=null===(Ra=a.configurationBundle[0])||void 0===Ra?void 0:Ra.networkConfiguration)||void 0===ya?void 0:ya.mend).setPerformanceContextConfig(null===(aa=null===(fa=a.configurationBundle[0])||void 0===fa?void 0:fa.trackerConfiguration)||void 0===aa?void 0:aa.perfCx).setConfigurationVersion(a.configurationVersion).setCatRcLastUpdatedTs(b).setEmitterConfiguration(a.configurationBundle[0].emitterConfiguration).setcontrolIngestConfig(a["ctrl-ingst"]).setApplicationContext(a.configurationBundle[0].trackerConfiguration.applicationContext).setDi(a.configurationBundle[0].di).build();
  ta=H.CONFIG_SOURCE.REMOTE;wa=(new Date).getTime();null==Ta||Ta.setConfig(N);a={message:"Remote Config Applied",className:"updateRemoteConfig - tracker",configAppliedSrc:ta,configAppliedTime:wa};Ca(qa,ua,a);null==ua||ua.setCollectorUrl(null===(Z=null==Ta?void 0:Ta.getConfig())||void 0===Z?void 0:Z.endpoint,d.convivaCustomerKey);try{window.localStorage&&(localStorage.removeItem(H.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(H.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(N)))}catch(K){Ca(qa,ua,{className:"updateRemoteConfig - localstorage",
  error:K,configAppliedSrc:ta,configAppliedTime:wa}),console.warn("Conviva: Error while saving remote-config to localstorage",K)}}catch(K){return a={className:"updateRemoteConfig - tracker",error:K,configAppliedSrc:ta,configAppliedTime:wa},Ca(qa,ua,a),console.warn("Conviva: Error while updating remote-config",K),!1}return!0},Dg=function(a){var c={};return a.forEach(function(b,d){c[d]=b}),c},kh=function(){function a(c,b,d){var e;this.originalXhr=XMLHttpRequest;this.originalFetch=null===(e=null===window||
  void 0===window?void 0:window.fetch)||void 0===e?void 0:e.bind(window);this.core=qa;this.trackerMethods=c;this.trackerConfiguration=b;this.getSamplingMode=d;this.handleFetchResponse=this.handleFetchResponse.bind(this);this.handleFetchError=this.handleFetchError.bind(this);this.handleResponse=this.handleResponse.bind(this);this.addTraceparentHeader=this.addTraceparentHeader.bind(this);this.addTraceparentHeaderToFetch=this.addTraceparentHeaderToFetch.bind(this);this.decorateXhrInstance=this.decorateXhrInstance.bind(this)}
  return a.prototype.cleanupNetworkRequestHandler=function(){a.instance=null},a.getInstance=function(c,b,d){return a.instance||(a.instance=new a(c,b,d)),a.instance},a.prototype.initiateNetworkRequestTracking=function(){try{this.decorateXMLHttpRequest(),this.decorateFetch()}catch(c){console.warn("Conviva App Tracker:: Unable to track network request ".concat(c))}},a.prototype.decorateXMLHttpRequest=function(){if(this.originalXhr){var c=this,b=function(){var d=new c.originalXhr;return c.decorateXhrInstance(d),
  d};b.prototype=this.originalXhr.prototype;window.XMLHttpRequest=b}},a.prototype.decorateXhrInstance=function(c){var b,d,e,f=this,h={},k=c.setRequestHeader;c.setRequestHeader=function(p,z){h[p]=z;k.call(this,p,z)};var n=c.open;c.open=function(){for(var p=[],z=0;z<arguments.length;z++)p[z]=arguments[z];b=p[0];d=f.normalizeUrl(p[1]);n.call(c,p[0],d,!0)};var l=c.send;c.send=function(p){try{var z=f.addTraceparentHeader(c,d,h);l.call(c,p);e=f.createRequestDetails(b,d,h,p,z)}catch(m){console.warn("Conviva App Tracker:: Unable to track network request while send ".concat(m))}};
  c.addEventListener("load",function(){return f.handleResponse(c,e,"load")},{signal:tb});c.addEventListener("error",function(){return f.handleResponse(c,e,"error")},{signal:tb});c.addEventListener("abort",function(){return f.handleResponse(c,e,"abort")},{signal:tb});c.addEventListener("timeout",function(){return f.handleResponse(c,e,"timeout")},{signal:tb})},a.prototype.decorateFetch=function(){var c=this;window.fetch=function(b,d){return c.interceptFetch(b,d)}},a.prototype.interceptFetch=function(c,
  b){var d,e,f,h;return Eg(this,void 0,void 0,function(){var k,n,l,p,z,m,r,C,A,y,u;return Fg(this,function(v){switch(v.label){case 0:n=null,v.label=1;case 1:v.trys.push([1,6,,7]),c instanceof Request?(k=c.clone(),n=this.addTraceparentHeaderToFetch(k)):(k=new Request(c,b),n=this.addTraceparentHeaderToFetch(k)),l=this.createRequestDetails(k.method,k.url,Dg(k.headers),null==b?void 0:b.body,n),p=null===(d=this.core)||void 0===d?void 0:d.getConfig().networkRequestTrackingConfiguration,z=p.blocklist,m=null===
  (h=null===(f=null===(e=this.trackerConfiguration)||void 0===e?void 0:e.configs)||void 0===f?void 0:f.networkRequestTracking)||void 0===h?void 0:h.safelist,r=(null==z?void 0:z.includes("*"))||(null==z?void 0:z.some(function(t){var R;return 0<(null==t?void 0:t.length)&&(null===(R=null==l?void 0:l.url)||void 0===R?void 0:R.toLowerCase().includes(t.toLowerCase()))})),C=null==m?void 0:m.some(function(t){var R;return 0<(null==t?void 0:t.length)&&(null===(R=null==l?void 0:l.url)||void 0===R?void 0:R.toLowerCase().includes(t.toLowerCase()))}),
  v.label=2;case 2:return v.trys.push([2,4,,5]),[4,this.originalFetch(k)];case 3:return A=v.sent(),p&&p.enabled&&!r||C?[2,this.handleFetchResponse(A,l)]:[3,5];case 4:return y=v.sent(),p&&p.enabled&&!r||C?[2,this.handleFetchError(y,l)]:[3,5];case 5:return[3,7];case 6:return u=v.sent(),console.warn("Conviva App Tracker:: Unable to track network request while fetch interceptRequest ".concat(u)),[3,7];case 7:return[2,new Response(null,{status:500,statusText:"Unknown error: Failed to trigger interceptFetch"})]}})})},
  a.prototype.handleFetchResponse=function(c,b){var d=this,e={status:c.status,statusText:c.statusText||void 0,headers:Dg(c.headers),responseTimestamp:Date.now(),responseTime:performance.now()||Date.now()};return c.clone().json().then(function(f){e.body=f;d.trackerMethods.trackNetworkRequest({requestDetails:b,responseDetails:e})}).catch(function(){d.trackerMethods.trackNetworkRequest({requestDetails:b,responseDetails:e})}),c},a.prototype.handleFetchError=function(c,b){var d={statusText:c.toString(),
  responseTimestamp:Date.now(),responseTime:performance.now()||Date.now()};return this.trackerMethods.trackNetworkRequest({requestDetails:b,responseDetails:d}),new Response(null,{status:500,statusText:c.toString()})},a.prototype.handleResponse=function(c,b,d){var e,f,h,k,n,l;try{if(this.getSamplingMode()!==H.SAMPLING_MODES.NONE){var p=null===(e=this.core)||void 0===e?void 0:e.getConfig().networkRequestTrackingConfiguration,z=p.blocklist,m=null===(k=null===(h=null===(f=this.trackerConfiguration)||void 0===
  f?void 0:f.configs)||void 0===h?void 0:h.networkRequestTracking)||void 0===k?void 0:k.safelist,r=(null==z?void 0:z.includes("*"))||(null==z?void 0:z.some(function(y){var u;return 0<(null==y?void 0:y.length)&&(null===(u=null==b?void 0:b.url)||void 0===u?void 0:u.toLowerCase().includes(y.toLowerCase()))})),C=null==m?void 0:m.some(function(y){var u;return 0<(null==y?void 0:y.length)&&(null===(u=null==b?void 0:b.url)||void 0===u?void 0:u.toLowerCase().includes(y.toLowerCase()))});if(p&&p.enabled&&!r||
  C){var A={status:c.status,statusText:c.statusText||("load"!==d?d:void 0),responseTimestamp:Date.now(),responseTime:performance.now()||Date.now(),headers:(n=c.getAllResponseHeaders(),l={},n.trim().split(/[\r\n]+/).forEach(function(y){y=y.split(":");var u=y[1];l[y[0].trim()]=null==u?void 0:u.trim()}),l),body:c.response};this.trackerMethods.trackNetworkRequest({requestDetails:b,responseDetails:A})}}}catch(y){ma.warn("Conviva App Tracker:: Unable to track network request error while handleResponse ".concat(y))}},
  a.prototype.addTraceparentHeader=function(c,b,d){var e=null;return H.TRACEPARENT_HEADER_KEY in d||(e=this.generateTraceparentHeader(b))&&c.setRequestHeader(H.TRACEPARENT_HEADER_KEY,e),e},a.prototype.addTraceparentHeaderToFetch=function(c){var b=null,d=!1;return c.headers.forEach(function(e,f){H.TRACEPARENT_HEADER_KEY===f&&(d=!0)}),d||(b=this.generateTraceparentHeader(c.url))&&c.headers.set(H.TRACEPARENT_HEADER_KEY,b),b},a.prototype.createRequestDetails=function(c,b,d,e,f){c={method:c,url:b,headers:d,
  body:e,requestTimestamp:Date.now(),requestTime:performance.now()||Date.now()};return f&&(c[H.TRACEPARENT_HEADER_KEY]=f),c},a.prototype.normalizeUrl=function(c){try{if(!/^(?:[a-z]+:)?\/\//i.test(c))return 0===c.indexOf("/")?window.location.origin+c:window.location.origin+"/"+c}catch(b){console.warn("Conviva App Tracker:: Unable to track network request while normalizing URL ".concat(b))}return c},a.prototype.generateTraceparentHeader=function(c){var b,d,e,f,h,k,n,l,p,z,m,r,C,A,y,u,v,t,R,M,T,G,L,S,
  Q,Y,za;try{if(this.core&&c){var J=this.core.getConfig(),V=H.CONFIG_PREFERENCES.MERGE,ka=[];switch((null===(e=null===(d=null===(b=this.trackerConfiguration)||void 0===b?void 0:b.configs)||void 0===d?void 0:d.traceparentGeneration)||void 0===e?0:e.force)?V=H.CONFIG_PREFERENCES.APP:(null===(f=null==J?void 0:J.traceparentconfig)||void 0===f?void 0:f.pref)&&(V=J.traceparentconfig.pref),V){case H.CONFIG_PREFERENCES.APP:if(!1===(null===(n=null===(k=null===(h=this.trackerConfiguration)||void 0===h?void 0:
  h.configs)||void 0===k?void 0:k.traceparentGeneration)||void 0===n?void 0:n.enabled))return"";ka=(null===(z=null===(p=null===(l=this.trackerConfiguration)||void 0===l?void 0:l.configs)||void 0===p?void 0:p.traceparentGeneration)||void 0===z?void 0:z.targetUrl)||[];break;case H.CONFIG_PREFERENCES.REMOTE:if(!1===(null===(m=null==J?void 0:J.traceparentconfig)||void 0===m?void 0:m.enabled))return"";ka=(null===(r=null==J?void 0:J.traceparentconfig)||void 0===r?void 0:r.targetUrl)||[];break;default:if((null==
  J||!J.traceparentconfig)&&!1===(null===(y=null===(A=null===(C=this.trackerConfiguration)||void 0===C?void 0:C.configs)||void 0===A?void 0:A.traceparentGeneration)||void 0===y?void 0:y.enabled)||(null===(v=null===(u=this.trackerConfiguration)||void 0===u?void 0:u.configs)||void 0===v||!v.traceparentGeneration)&&!1===(null===(t=null==J?void 0:J.traceparentconfig)||void 0===t?void 0:t.enabled))return"";var Ma=(null===(T=null===(M=null===(R=this.trackerConfiguration)||void 0===R?void 0:R.configs)||void 0===
  M?void 0:M.traceparentGeneration)||void 0===T?void 0:T.targetUrl)||[],Ra=(null===(G=null==J?void 0:J.traceparentconfig)||void 0===G?void 0:G.targetUrl)||[],ya=new Set(xa(xa([],Ra,!0),Ma,!0));ka=Array.from(ya)}var fa=null===(Q=null===(S=null===(L=this.trackerConfiguration)||void 0===L?void 0:L.configs)||void 0===S?void 0:S.networkRequestTracking)||void 0===Q?void 0:Q.safelist,aa=null===(Y=null==J?void 0:J.networkRequestTrackingConfiguration)||void 0===Y?void 0:Y.blocklist,Z=(null==aa?void 0:aa.includes("*"))||
  (null==aa?void 0:aa.some(function(K){return 0<(null==K?void 0:K.length)&&c.toLowerCase().includes(K.toLowerCase())})),Ta=null==fa?void 0:fa.some(function(K){return 0<(null==K?void 0:K.length)&&c.toLowerCase().includes(K.toLowerCase())});if(0<ka.length&&(ka.includes("*")||ka.some(function(K){return 0<(null==K?void 0:K.length)&&c.toLowerCase().includes(K.toLowerCase())}))&&(null===(za=null==J?void 0:J.networkRequestTrackingConfiguration)||void 0===za?0:za.enabled)&&(Ta||!Z)){var F=Array.from({length:32},
  function(){return Math.floor(16*Math.random()).toString(16)}).join(""),N=Array.from({length:16},function(){return Math.floor(16*Math.random()).toString(16)}).join("");return"00-".concat(F,"-").concat(N,"-00")}}}catch(K){console.warn("Conviva App Tracker:: Unable to generate traceparent header ".concat(K))}return""},a}(),ad,Aa,hf,mc,cf=function(a,c){return a.length>c?"".concat(a.slice(0,c-3),"..."):a},Xa={},bb={},bd=0,Qd={childList:!0,subtree:!0};!function(a){a[a.APP=0]="APP";a[a.REMOTE=1]="REMOTE";
  a[a.MERGE=2]="MERGE"}(mc||(mc={}));var ac={},Th=function(){this.outQueues=[];this.bufferFlushers=[];this.hasLoaded=!1;this.registeredOnLoadHandlers=[]};Ga.cleanup=function(a){fb(a,function(c){c.clearTimers()});(function(c){if(c)for(var b=0;b<c.length;b++){var d=c[b];ac.hasOwnProperty(d)?delete ac[d]:ma.warn(d+" not configured")}})(a)};Ga.convivaAppTracker=function(a){void 0===a&&(a={});try{var c="undefined"!=typeof window?function(){function b(){var h;if(!d.hasLoaded)for(d.hasLoaded=!0,h=0;h<d.registeredOnLoadHandlers.length;h++)d.registeredOnLoadHandlers[h]();
  return!0}var d=new Th,e=document,f=window;return ab(f,"beforeunload",function(){try{d.bufferFlushers.forEach(function(h){h(!1)})}catch(h){console.warn("Conviva App Tracker:: Error in flushBuffers of constructor ".concat(h))}},!1),"loading"===document.readyState?(e.addEventListener?e.addEventListener("DOMContentLoaded",function k(){e.removeEventListener("DOMContentLoaded",k,!1);b()}):e.attachEvent&&e.attachEvent("onreadystatechange",function n(){"complete"===e.readyState&&(e.detachEvent("onreadystatechange",
  n),b())}),ab(f,"load",b,!1)):b(),d}():void 0;if(c)return function(b,d,e,f,h,k){return ac.hasOwnProperty(b)?null:(ac[b]=Zg(b,d,e,f,h,k),ac[b])}("CAT","CAT","js-".concat("1.0.3"),"",c,a)}catch(b){return void console.warn("Conviva App Tracker:: Initialisation failed! "+b)}};Ga.setCustomTags=function(a,c){fb(c,function(b){try{b.setCustomTags(a)}catch(d){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})};Ga.setCustomUrl=function(a,c){fb(c,function(b){b.setCustomUrl(a)})};Ga.setDocumentTitle=
  function(a,c){fb(c,function(b){b.setDocumentTitle(a)})};Ga.setReferrerUrl=function(a,c){fb(c,function(b){b.setReferrerUrl(a)})};Ga.setUserId=function(a,c){fb(c,function(b){b.setUserId(a)})};Ga.trackButtonClick=function(a,c){fb(c,function(b){try{b.trackButtonClick(a)}catch(d){console.warn("Conviva App Tracker:: Unable to track button click event! "+d)}})};Ga.trackCustomEvent=function(a,c){fb(c,function(b){try{b.trackCustomEvent(a)}catch(d){console.warn("Conviva App Tracker:: Unable to track custom event! "+
  d)}})};Ga.trackLinkClick=function(a,c){fb(c,function(b){try{b.trackLinkClick(a)}catch(d){console.warn("Conviva App Tracker:: Unable to track link click event! "+d)}})};Ga.trackPageView=function(a,c){fb(c,function(b){b.trackPageView(a)})};Ga.unsetCustomTags=function(a,c){fb(c,function(b){try{b.unsetCustomTags(a)}catch(d){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})};Ga.version="1.0.3";Object.defineProperty(Ga,"__esModule",{value:!0})})
  //# sourceMappingURL=conviva-eco-js-sensor.umd.min.js.map
  