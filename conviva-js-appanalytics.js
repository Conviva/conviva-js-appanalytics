/*!
 * Browser tracker for Snowplow v0.6.11 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */

'use strict';(function(T,ja){"object"===typeof exports&&"undefined"!==typeof module?ja(exports):"function"===typeof define&&define.amd?define(["exports"],ja):(T="undefined"!==typeof globalThis?globalThis:T||self,ja(T.snowplowBrowserTracking={}))})(this,function(T){function ja(a,c,b){if(b||2===arguments.length)for(var d=0,f=c.length,g;d<f;d++)!g&&d in c||(g||(g=Array.prototype.slice.call(c,0,d)),g[d]=c[d]);return a.concat(g||Array.prototype.slice.call(c))}function Rf(a){var c=0,b=0;var d="";var f=
[];if(!a)return a;a+="";do{var g=nb.indexOf(a.charAt(c++));var l=nb.indexOf(a.charAt(c++));d=nb.indexOf(a.charAt(c++));var n=nb.indexOf(a.charAt(c++));var w=g<<18|l<<12|d<<6|n;g=w>>16&255;l=w>>8&255;w&=255;64===d?f[b++]=String.fromCharCode(g):64===n?f[b++]=String.fromCharCode(g,l):f[b++]=String.fromCharCode(g,l,w)}while(c<a.length);d=f.join("");return function(p){return decodeURIComponent(p.split("").map(function(u){return"%"+("00"+u.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(d.replace(/\0+$/,
""))}function Ac(){var a={},c=[],b=[],d=[],f,g=function(l,n){null!=n&&""!==n&&(a[l]=n)};return{add:g,addDict:function(l){for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&g(n,l[n])},addJson:function(l,n,w){w&&se(w)&&(l={keyIfEncoded:l,keyIfNotEncoded:n,json:w},b.push(l),c.push(l))},addContextEntity:function(l){d.push(l)},getPayload:function(){return a},getJson:function(){return c},withJsonProcessor:function(l){f=l},build:function(){null===f||void 0===f?void 0:f(this,b,d);return a}}}function Sf(a){return function(c,
b,d){for(var f=function(p,u,t){p=JSON.stringify(p);if(a){t=c.add;if(p){var v=0,k=0,q=[];if(p){p=unescape(encodeURIComponent(p));do{var h=p.charCodeAt(v++);var y=p.charCodeAt(v++);var x=p.charCodeAt(v++);var J=h<<16|y<<8|x;h=J>>18&63;y=J>>12&63;x=J>>6&63;J&=63;q[k++]=nb.charAt(h)+nb.charAt(y)+nb.charAt(x)+nb.charAt(J)}while(v<p.length);v=q.join("");p=p.length%3;p=(p?v.slice(0,p-3):v)+"===".slice(p||3)}p=p.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}t.call(c,u,p)}else c.add(t,p)},g=function(p,
u){if(!p){var t=c.getPayload();if(a?t.cx:t.co){p=JSON;var v=p.parse;if(a){if(t=t.cx){switch(4-t.length%4){case 2:t+="==";break;case 3:t+="="}t=t.replace(/-/g,"+").replace(/_/g,"/");t=Rf(t)}}else t=t.co;p=v.call(p,t)}else p=void 0}p?p.dt=p.dt.concat(u.dt):p=u;return p},l=void 0,n=0;n<b.length;n++){var w=b[n];"cx"===w.keyIfEncoded?l=g(l,w.json):f(w.json,w.keyIfEncoded,w.keyIfNotEncoded)}b.length=0;d.length&&(b={sc:"sp/ctx/1-0-0",dt:ja([],d,!0)},l=g(l,b),d.length=0);l&&f(l,"cx","co")}}function se(a){if(!te(a))return!1;
for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c))return!0;return!1}function te(a){return"undefined"!==typeof a&&null!==a&&(a.constructor==={}.constructor||a.constructor===[].constructor)}function Tf(){var a=[],c=[];return{getGlobalPrimitives:function(){return a},getConditionalProviders:function(){return c},addGlobalContexts:function(b){for(var d=[],f=[],g=0;g<b.length;g++){var l=b[g];ue(l)?d.push(l):Mb(l)&&f.push(l)}a=a.concat(f);c=c.concat(d)},clearGlobalContexts:function(){c=[];a=[]},
removeGlobalContexts:function(b){for(var d=function(g){ue(g)?c=c.filter(function(l){return JSON.stringify(l)!==JSON.stringify(g)}):Mb(g)&&(a=a.filter(function(l){return JSON.stringify(l)!==JSON.stringify(g)}))},f=0;f<b.length;f++)d(b[f])},getApplicableContexts:function(b){a:{var d=0;for(var f=b.getJson();d<f.length;d++){var g=f[d];if("ue_px"===g.keyIfEncoded&&"object"===typeof g.json.data&&(g=g.json.data.schema,"string"==typeof g)){d=g;break a}}d=""}f=b.getPayload().e;g="string"===typeof f?f:"";f=
[];var l=cd(a,b,g,d);f.push.apply(f,l);b=Uf(c,b,g,d);f.push.apply(f,b);return f}}}function Vf(a){return{addPluginContexts:function(c){var b=c?ja([],c,!0):[];a.forEach(function(d){try{d.contexts&&b.push.apply(b,d.contexts())}catch(f){Ga.error("Error adding plugin contexts",f)}});return b}}}function Wf(a){if("*"===a[0]||"*"===a[1])return!1;if(0<a.slice(2).length){var c=!1,b=0;for(a=a.slice(2);b<a.length;b++)if("*"===a[b])c=!0;else if(c)return!1;return!0}return 2==a.length?!0:!1}function ve(a){return(a=
a.split("."))&&1<a.length?Wf(a):!1}function we(a){a=/^iglu:((?:(?:[a-zA-Z0-9-_]+|\*).)+(?:[a-zA-Z0-9-_]+|\*))\/([a-zA-Z0-9-_.]+|\*)\/jsonschema\/([1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)$/.exec(a);if(null!==a&&ve(a[1]))return a.slice(1,6)}function dd(a){if(a=we(a)){var c=a[0];return 5===a.length&&ve(c)}return!1}function Xf(a){return Array.isArray(a)&&a.every(function(c){return"string"===typeof c})}function xe(a){return Xf(a)?a.every(function(c){return dd(c)}):"string"===typeof a?dd(a):
!1}function Zb(a){return se(a)&&"schema"in a&&"data"in a?"string"===typeof a.sc&&"object"===typeof a.dt:!1}function Yf(a){var c=0;if(null!=a&&"object"===typeof a&&!Array.isArray(a)){if(Object.prototype.hasOwnProperty.call(a,"accept"))if(xe(a.accept))c+=1;else return!1;if(Object.prototype.hasOwnProperty.call(a,"reject"))if(xe(a.reject))c+=1;else return!1;return 0<c&&2>=c}return!1}function Bc(a){return"function"===typeof a&&1>=a.length}function Mb(a){return Bc(a)||Zb(a)}function ye(a){return Array.isArray(a)&&
2===a.length?Array.isArray(a[1])?Bc(a[0])&&a[1].every(Mb):Bc(a[0])&&Mb(a[1]):!1}function ze(a){return Array.isArray(a)&&2===a.length?Yf(a[0])?Array.isArray(a[1])?a[1].every(Mb):Mb(a[1]):!1:!1}function ue(a){return ye(a)||ze(a)}function Zf(a,c){var b=0,d=0,f=a.accept;Array.isArray(f)?a.accept.some(function(g){return Cc(g,c)})&&d++:"string"===typeof f&&Cc(f,c)&&d++;f=a.reject;Array.isArray(f)?a.reject.some(function(g){return Cc(g,c)})&&b++:"string"===typeof f&&Cc(f,c)&&b++;return 0<d&&0===b?!0:!1}function Cc(a,
c){if(!dd(a))return!1;a=we(a);c=/^iglu:([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_]+)\/jsonschema\/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$/.exec(c);c=null!==c?c.slice(1,6):void 0;if(a&&c){if(!$f(a[0],c[0]))return!1;for(var b=1;5>b;b++)if(!Ae(a[b],c[b]))return!1;return!0}return!1}function $f(a,c){c=c.split(".");a=a.split(".");if(c&&a){if(c.length!==a.length)return!1;for(var b=0;b<a.length;b++)if(!Ae(c[b],a[b]))return!1;return!0}return!1}function Ae(a,c){return a&&c&&"*"===a||a===c}function Be(a){return Array.isArray(a)?
a:[a]}function cd(a,c,b,d){var f;a=Be(a).map(function(g){a:if(Zb(g))g=[g];else{if(Bc(g)){b:{var l=void 0;try{var n={event:c.getPayload(),eventType:b,eventSchema:d};l=g(n);if(Array.isArray(l)&&l.every(Zb)||Zb(l)){var w=l;break b}w=void 0;break b}catch(p){}w=void 0}if(Zb(w)){g=[w];break a}else if(Array.isArray(w)){g=w;break a}}g=void 0}if(g&&0!==g.length)return g});return(f=[]).concat.apply(f,a.filter(function(g){return null!=g&&g.filter(Boolean)}))}function Uf(a,c,b,d){var f;a=Be(a).map(function(g){a:{if(ye(g)){var l=
g[0],n=!1;try{var w={event:c.getPayload(),eventType:b,eventSchema:d};n=l(w)}catch(p){n=!1}if(!0===n){g=cd(g[1],c,b,d);break a}}else if(ze(g)&&Zf(g[0],d)){g=cd(g[1],c,b,d);break a}g=[]}if(g&&0!==g.length)return g});return(f=[]).concat.apply(f,a.filter(function(g){return null!=g&&g.filter(Boolean)}))}function ag(a){return null==a?{type:"dtm",value:(new Date).getTime()}:"number"===typeof a?{type:"dtm",value:a}:"ttm"===a.type?{type:"ttm",value:a.value}:{type:"dtm",value:a.value||(new Date).getTime()}}
function bg(a){void 0===a&&(a={});var c=a.base64,b=a.corePlugins,d=null!==b&&void 0!==b?b:[];c=function(g,l,n){function w(k,q){k=u.getApplicableContexts(k);var h=[];q&&q.length&&h.push.apply(h,q);k&&k.length&&h.push.apply(h,k);return h}var p=Vf(l),u=Tf(),t=g,v={};return{track:function(k,q,h){k.withJsonProcessor(Sf(t));k.add("eid",ob.v4());k.addDict(v);h=ag(h);k.add(h.type,h.value.toString());q=w(k,p.addPluginContexts(q));q=q&&q.length?{sc:"sp/ctx/1-0-0",dt:q}:void 0;void 0!==q&&k.addJson("cx","co",
q);l.forEach(function(x){try{x.beforeTrack&&x.beforeTrack(k)}catch(J){Ga.error("Plugin beforeTrack",J)}});"function"===typeof n&&n(k);var y=k.build();l.forEach(function(x){try{x.afterTrack&&x.afterTrack(y)}catch(J){Ga.error("Plugin afterTrack",J)}});return y},addPayloadPair:function(k,q){v[k]=q},configuration:a,getConfig:function(){return a},setConfig:function(k){k&&("undefined"!==typeof k.base64&&(t=a.base64=k.base64),"undefined"!==typeof k.linkClickTracking&&(a.linkClickTracking=k.linkClickTracking),
"undefined"!==typeof k.lifecycleAutotracking&&(a.lifecycleAutotracking=k.lifecycleAutotracking),"undefined"!==typeof k.cacheRefreshInterval&&(a.cacheRefreshInterval=k.cacheRefreshInterval),"undefined"!==typeof k.buttonClickTracking&&(a.buttonClickTracking=k.buttonClickTracking),"undefined"!==typeof k.exceptionAutotracking&&(a.exceptionAutotracking=k.exceptionAutotracking),"undefined"!==typeof k.enablePeriodicHeartbeat&&(a.enablePeriodicHeartbeat=k.enablePeriodicHeartbeat),"undefined"!==typeof k.periodicHeartbeatInterval&&
(a.periodicHeartbeatInterval=k.periodicHeartbeatInterval),"undefined"!==typeof k.enc&&(a.enc=k.enc),"undefined"!==typeof k.mend&&(a.mend=k.mend),"undefined"!==typeof k.maxLocalStorageQueueSize&&(a.maxLocalStorageQueueSize=k.maxLocalStorageQueueSize),"undefined"!==typeof k.maxPostBytes&&(a.maxPostBytes=k.maxPostBytes),"undefined"!==typeof k.maxGetBytes&&(a.maxGetBytes=k.maxGetBytes),"undefined"!==typeof k.bufferSize&&(a.bufferSize=k.bufferSize),"undefined"!==typeof k.customEventTrackingConfiguration&&
(a.customEventTrackingConfiguration=k.customEventTrackingConfiguration),"undefined"!==typeof k.ajaxTrackingConfiguration&&(a.ajaxTrackingConfiguration=k.ajaxTrackingConfiguration),"undefined"!==typeof k.networkRequestTrackingConfiguration&&(a.networkRequestTrackingConfiguration=k.networkRequestTrackingConfiguration),"undefined"!==typeof k.traceparentconfig&&(a.traceparentconfig=k.traceparentconfig),"undefined"!==typeof k.metaTagsTrackingConfiguration&&(a.metaTagsTrackingConfiguration=k.metaTagsTrackingConfiguration),
"undefined"!==typeof k.performanceContextConfig&&(a.performanceContextConfig=k.performanceContextConfig),"undefined"!==typeof k.configurationVersion&&(a.configurationVersion=k.configurationVersion),"undefined"!==typeof k.catRcLastUpdatedTs&&(a.catRcLastUpdatedTs=k.catRcLastUpdatedTs),"undefined"!==typeof k.endpoint&&(a.endpoint=k.endpoint))},getBase64Encoding:function(){return t},setBase64Encoding:function(k){t=k},addPayloadDict:function(k){for(var q in k)Object.prototype.hasOwnProperty.call(k,q)&&
(v[q]=k[q])},resetPayloadPairs:function(k){v=te(k)?k:{}},setTrackerVersion:function(k){v.tv=k},setTrackerNamespace:function(k){v.tna=k},setAppId:function(k){v.aid=k},setPlatform:function(k){v.p=k},setUserId:function(k){v.uid=k},setScreenResolution:function(k,q){v.res=k+"x"+q},setViewport:function(k,q){v.vp=k+"x"+q},setColorDepth:function(k){v.cd=k},setTimezone:function(k){v.tz=k},setLang:function(k){v.lang=k},setIpAddress:function(k){v.ip=k},setUseragent:function(k){v.ua=k},addGlobalContexts:function(k){u.addGlobalContexts(k)},
clearGlobalContexts:function(){u.clearGlobalContexts()},removeGlobalContexts:function(k){u.removeGlobalContexts(k)}}}(null!==c&&void 0!==c?c:!0,d,a.callback);var f=la(la({},c),{addPlugin:function(g){var l,n;g=g.plugin;d.push(g);null===(l=g.logger)||void 0===l?void 0:l.call(g,Ga);null===(n=g.activateCorePlugin)||void 0===n?void 0:n.call(g,f)}});null===d||void 0===d?void 0:d.forEach(function(g){var l,n;null===(l=g.logger)||void 0===l?void 0:l.call(g,Ga);null===(n=g.activateCorePlugin)||void 0===n?void 0:
n.call(g,f)});return f}function yb(a){var c=a.event;a=c.sc;var b=c.dt;c=Ac();a={sc:"sp/ue/1-0-0",dt:{sc:a,dt:b}};c.add("e","ue");c.addJson("ue_px","ue_pr",a);return c}function cg(a){var c=a.pageUrl,b=a.pageTitle;a=a.referrer;var d=Ac();d.add("e","pv");d.add("url",c);d.add("page",b);d.add("refr",a);return d}function dg(a){return yb({event:{sc:"cv/re/1-0-1",dt:Nb({name:a.name,data:a.data})}})}function eg(a){return yb({event:{sc:"cv/ve/1-0-5",dt:Nb({name:a.name,sid:a.sid,iid:a.iid,clid:a.clid,st:a.st,
cen:a.cen,ced:a.ced,an:a.an})}})}function Nb(a,c){void 0===c&&(c={});var b={},d;for(d in a)if(c[d]||null!==a[d]&&"undefined"!==typeof a[d])b[d]=a[d];return b}function Ob(a){let c=a.length;for(;0<=--c;)a[c]=0}function ed(a,c,b,d,f){this.static_tree=a;this.extra_bits=c;this.extra_base=b;this.elems=d;this.max_length=f;this.has_stree=a&&a.length}function fd(a,c){this.dyn_tree=a;this.max_code=0;this.stat_desc=c}function Xa(a,c,b,d,f){this.good_length=a;this.max_lazy=c;this.nice_length=b;this.max_chain=
d;this.func=f}function fg(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=Dc;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=
this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new Uint16Array(1146);this.dyn_dtree=new Uint16Array(122);this.bl_tree=new Uint16Array(78);pb(this.dyn_ltree);pb(this.dyn_dtree);pb(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new Uint16Array(16);this.heap=new Uint16Array(573);pb(this.heap);this.heap_max=this.heap_len=0;this.depth=new Uint16Array(573);pb(this.depth);this.bi_valid=this.bi_buf=this.insert=
this.matches=this.static_len=this.opt_len=this.sym_end=this.sym_next=this.lit_bufsize=this.sym_buf=0}function $b(a){a=this.options=Ec.assign({level:gg,method:hg,chunkSize:16384,windowBits:15,memLevel:8,strategy:ig},a||{});a.raw&&0<a.windowBits?a.windowBits=-a.windowBits:a.gzip&&0<a.windowBits&&16>a.windowBits&&(a.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new Ce;this.strm.avail_out=0;let c=ac.deflateInit2(this.strm,a.level,a.method,a.windowBits,a.memLevel,a.strategy);
if(c!==Fc)throw Error(zb[c]);a.header&&ac.deflateSetHeader(this.strm,a.header);if(a.dictionary){a="string"===typeof a.dictionary?bc.string2buf(a.dictionary):"[object ArrayBuffer]"===De.call(a.dictionary)?new Uint8Array(a.dictionary):a.dictionary;c=ac.deflateSetDictionary(this.strm,a);if(c!==Fc)throw Error(zb[c]);this._dict_set=!0}}function gd(a,c){c=new $b(c);c.push(a,!0);if(c.err)throw c.msg||zb[c.err];return c.result}function jg(){this.strm=null;this.mode=0;this.last=!1;this.wrap=0;this.havedict=
!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new Uint16Array(320);this.work=new Uint16Array(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function cc(a){let c=this.options=Ec.assign({chunkSize:65536,windowBits:15,to:""},
a||{});c.raw&&0<=c.windowBits&&16>c.windowBits&&(c.windowBits=-c.windowBits,0===c.windowBits&&(c.windowBits=-15));!(0<=c.windowBits&&16>c.windowBits)||a&&a.windowBits||(c.windowBits+=32);15<c.windowBits&&48>c.windowBits&&0===(c.windowBits&15)&&(c.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new Ce;this.strm.avail_out=0;a=hb.inflateInit2(this.strm,c.windowBits);if(a!==dc)throw Error(zb[a]);this.header=new kg;hb.inflateGetHeader(this.strm,this.header);if(c.dictionary&&
("string"===typeof c.dictionary?c.dictionary=bc.string2buf(c.dictionary):"[object ArrayBuffer]"===Ee.call(c.dictionary)&&(c.dictionary=new Uint8Array(c.dictionary)),c.raw&&(a=hb.inflateSetDictionary(this.strm,c.dictionary),a!==dc)))throw Error(zb[a]);}function hd(a,c){c=new cc(c);c.push(a);if(c.err)throw c.msg||zb[c.err];return c.result}function Fe(a){return Number.isInteger&&Number.isInteger(a)||"number"===typeof a&&isFinite(a)&&Math.floor(a)===a}function id(a){if(!a||"string"!==typeof a.valueOf()){a=
a.text||"";var c=document.getElementsByTagName("title");c&&null!=c[0]&&(a=c[0].text)}return a}function jd(a){var c=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(a);return c?c[1]:a}function Ge(a){var c=a.length;"."===a.charAt(--c)&&(a=a.slice(0,c));"*."===a.slice(0,2)&&(a=a.slice(1));return a}function kd(a){var c=window,b=ec("referrer",c.location.href)||ec("referer",c.location.href);if(b)return b;if(a)return a;try{if(c.top)return c.top.document.referrer;if(c.parent)return c.parent.document.referrer}catch(d){}return document.referrer}
function qb(a,c,b,d){if(a.addEventListener)return a.addEventListener(c,b,d),!0;if(a.attachEvent)return a.attachEvent("on"+c,b);a["on"+c]=b}function ec(a,c){return(a=(new RegExp("^[^#]*[?&]"+a+"=([^&#]*)")).exec(c))?decodeURIComponent(a[1].replace(/\+/g," ")):null}function Gc(a,c,b){void 0===b&&(b=63072E3);try{var d=window.localStorage,f=Date.now()+1E3*b;d.setItem("".concat(a,".expires"),f.toString());d.setItem(a,c);return!0}catch(g){return!1}}function He(a){try{var c=window.localStorage;c.removeItem(a);
c.removeItem(a+".expires");return!0}catch(b){return!1}}function lg(a,c){for(var b=window.location.hostname,d="_sp_root_domain_test_"+(new Date).getTime(),f="_test_value_"+(new Date).getTime(),g=b.split("."),l=g.length-1;0<=l;){var n=g.slice(l,g.length).join(".");Ya(d,f,0,"/",n,a,c);if(Ya(d)===f){Ya(d,"",-1,"/",n,a,c);b=document.cookie.split("; ");d=[];for(f=0;f<b.length;f++)"_sp_root_domain_test_"===b[f].substring(0,21)&&d.push(b[f]);b=d;for(d=0;d<b.length;d++)Ya(b[d],"",-1,"/",n,a,c);return n}--l}return b}
function Ya(a,c,b,d,f,g,l){return 1<arguments.length?document.cookie=a+"="+encodeURIComponent(null!==c&&void 0!==c?c:"")+(b?"; Expires="+(new Date(+new Date+1E3*b)).toUTCString():"")+(d?"; Path="+d:"")+(f?"; Domain="+f:"")+(g?"; SameSite="+g:"")+(l?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+a+"=")[1]||"").split(";")[0])}function Ie(a){try{var c=null===window||void 0===window?void 0:window.localStorage;return c?(c.removeItem(a),!0):!1}catch(b){return!1}}function mg(a,c){var b=
[ta.request_body,ta.response_body,ta.request_headers,ta.response_headers],d={};if(c&&0<c.length)for(var f=0;f<c.length;f++){var g=c[f],l=g.conditions;var n=void 0;var w=["conditions"],p={};for(n in g)Object.prototype.hasOwnProperty.call(g,n)&&0>w.indexOf(n)&&(p[n]=g[n]);if(null!=g&&"function"===typeof Object.getOwnPropertySymbols){var u=0;for(n=Object.getOwnPropertySymbols(g);u<n.length;u++)0>w.indexOf(n[u])&&Object.prototype.propertyIsEnumerable.call(g,n[u])&&(p[n[u]]=g[n[u]])}n=p;try{a:{g=a;try{for(w=
0;w<l.length;w++){var t=l[w];p=!1;if(0<Object.keys(t).length){u=0;for(var v=Object.entries(t);u<v.length;u++){var k=v[u],q=k[1],h=g[k[0]];if(0<q.length){for(var y=0,x=0,J=q;x<J.length;x++){var E=J[x],aa="contains",Z=E;if("object"===typeof E&&E.length)aa=E[1],Z=E[0];else if("boolean"===typeof E||null===E)aa="equal",Z=E;if(ng(h,aa,Z)){p=!0;break}else if(p=!1,y+1===q.length)break;y++}if(!1===p)break}}}if(p){var K=!0;break a}}}catch(ua){console.warn("Conviva App Tracker: Error in Applying nwreqConfig ".concat(ua))}K=
!1}if(K){g=0;for(var L=Object.entries(a);g<L.length;g++){var na=L[g],ma=na[0],xa=na[1];if(b.includes(ma))try{if(n[ma]&&0<n[ma].length){w=!1;if(ma===ta.response_headers||ma===ta.request_headers)w=!0;var pa=a[ma];l={};try{p=0;for(var oa=n[ma];p<oa.length;p++){var S=oa[p];u=pa;y=l;w&&(S=S.toLowerCase());var W=S.split(".");for(x=0;x<W.length;x++){var ba=W[x];"undefined"!==typeof u&&null!==u&&u.hasOwnProperty(ba)&&(x===W.length-1?y[ba]=u[ba]:(y[ba]=y[ba]||{},u=u[ba],y=y[ba]))}}}catch(ua){console.warn("Conviva App Tracker: Error in filtering schema object nwreq ".concat(ua))}var ea=
l;0!==Object.keys(ea).length&&(d[ma]=ea)}}catch(ua){d[ma]=void 0}else d[ma]=xa}return d}}catch(ua){console.warn("Conviva App Tracker: Error in collecting attributes nwreqConfig ".concat(ua))}}d=la({},a);for(a=0;a<b.length;a++)c=b[a],"undefined"!==typeof d&&null!==d&&d.hasOwnProperty(c)&&delete d[c];return d}function ng(a,c,b){try{if("string"===typeof b&&"string"===typeof a&&"*"===b.trim())return!0;switch(c){case "==":case "equal":return a===b;case "!=":return a!==b;case ">":return a>b;case "<":return a<
b;case ">=":return a>=b;case "<=":return a<=b;case "contains":return""!==b&&"string"===typeof a&&"string"===typeof b&&-1!==a.toLowerCase().indexOf(b.toLowerCase());default:return!1}}catch(d){return console.warn("Conviva App Tracker: Error in Compare values nwreq ".concat(d)),!1}}function og(){try{var a=!!window.localStorage}catch(b){a=!0}if(!a)return!1;try{var c=window.localStorage;c.setItem("modernizr","modernizr");c.removeItem("modernizr");return!0}catch(b){return!1}}function pg(a,c,b,d,f,g,l,n,
w,p,u,t,v,k,q,h,y,x){function J(B){var Q=Object.keys(B).map(function(O){return[O,B[O]]}).reduce(function(O,P){O[P[0]]=P[1].toString();return O},{});return{evt:Q,bytes:E(JSON.stringify(Q))}}function E(B){for(var Q=0,O=0;O<B.length;O++){var P=B.charCodeAt(O);127>=P?Q+=1:2047>=P?Q+=2:55296<=P&&57343>=P?(Q+=4,O++):Q=65535>P?Q+3:Q+4}return Q}function aa(B,Q){Q=L(Q,!0,!1);B=na(ma([B.evt]));try{"none"!==x().toLowerCase()&&(B=Je.gzip(B,{level:6}),Q.setRequestHeader("Content-Encoding","gzip"))}catch(O){}Q.send(B)}
function Z(B){for(void 0===B&&(B=!1);W.length&&"string"!==typeof W[0]&&"object"!==typeof W[0];)W.shift();if(1>W.length)oa=!1;else{if(!S||"string"!==typeof S.valueOf())throw"No collector configured";oa=!0;if(ua){var Q=function(Na){for(var Oa=0,fc=0;Oa<Na.length&&!(fc+=Na[Oa].bytes,fc>=l());)Oa+=1;return Oa},O=void 0;if(Pb(W)){O=S;var P=L(O,!0,B);var fa=Q(W)}else O=xa(W[0]),P=L(O,!1,B),fa=1;var ya=setTimeout(function(){P.abort();oa=!1},u),Za=function(Na){for(var Oa=0;Oa<Na;Oa++)W.shift();b&&Gc(Ab,JSON.stringify(W.slice(-1*
p())))};P.onreadystatechange=function(){4===P.readyState&&200<=P.status&&(clearTimeout(ya),300>P.status?(Za(fa),Z()):(K(P.status)||(Ga.error("Status ".concat(P.status,", will not retry.")),Za(fa)),oa=!1))};if(Pb(W)){if(Q=W.slice(0,fa),0<Q.length){B=!1;Q=Q.map(function(Na){return Na.evt});if(ea){var ld=new Blob([na(ma(Q))],{type:"application/json"});try{B=navigator.sendBeacon(O,ld)}catch(Na){B=!1}}if(!0===B)Za(fa),Z();else{O=na(ma(Q));try{"none"!==x().toLowerCase()&&(O=Je.gzip(O,{level:6}),P.setRequestHeader("Content-Encoding",
"gzip"))}catch(Na){}try{P.send(O)}catch(Na){}}}}else P.send()}else if(t||Pb(W))oa=!1;else{O=new Image(1,1);var ib=!0;O.onload=function(){ib&&(ib=!1,W.shift(),b&&Gc(Ab,JSON.stringify(W.slice(-1*p()))),Z())};O.onerror=function(){ib&&(oa=ib=!1)};O.src=xa(W[0]);setTimeout(function(){ib&&oa&&(ib=!1,Z())},u)}}}function K(B){if(200<=B&&300>B)return!1;if(q.includes(B))return!0;for(var Q=0;Q<y.length;Q++){var O=y[Q];if(B>=O[0]&&B<=O[1])return!1}return!h.includes(B)}function L(B,Q,O){var P=new XMLHttpRequest;
Q?(P.open("POST",B,!O),P.setRequestHeader("Content-Type","application/json; charset=UTF-8")):P.open("GET",B,!O);P.withCredentials=k;t&&P.setRequestHeader("SP-Anonymous","*");for(var fa in v)Object.prototype.hasOwnProperty.call(v,fa)&&P.setRequestHeader(fa,v[fa]);return P}function na(B){return JSON.stringify({sc:"sp/pd/1-0-4",dt:B})}function ma(B){for(var Q=(new Date).getTime().toString(),O=0;O<B.length;O++)B[O].stm=Q;return B}function xa(B){return w?S+B.replace("?","?stm="+(new Date).getTime()+"&"):
S+B}function pa(B){function Q(P,fa,ya){return(ya=ya.match("(Macintosh;.*Mac OS X (d+)_(d+)[_d]*.*) AppleWebKit/"))&&ya.length?parseInt(ya[0])<=P||parseInt(ya[0])===P&&parseInt(ya[1])<=fa:!1}function O(P){return P.match("Version/.* Safari/")&&!P.match("Chrom(e|ium)")}return function(P,fa){return(fa=fa.match("(iP.+; CPU .*OS (d+)[_d]*.*) AppleWebKit/"))&&fa.length?parseInt(fa[0])<=P:!1}(13,B)||Q(10,15,B)&&O(B)}var oa=!1,S,W=[];d="string"===typeof d?d.toLowerCase():d;var ba=!0===d||"beacon"===d||"true"===
d,ea=!(!(ba&&window.navigator&&window.navigator.sendBeacon)||pa(window.navigator.userAgent))&&ba,ua=!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),rb="get"!==d&&ua&&("post"===d||ba),gc=rb?f:"/i";d="snowplowOutQueue_".concat(a,"_").concat(rb?"post2":"get");var Ab="convivaOutQueue_".concat(a,"_").concat(rb?"post2":"get");Ie(d);Ie("".concat(d,".expires"));ba&&(v={});g=b&&og()&&rb&&g||1;if(b)try{var hc=window.localStorage.getItem(Ab);W=hc?JSON.parse(hc):[]}catch(B){}Array.isArray(W)||
(W=[]);c.outQueues.push(W);ua&&1<g&&c.bufferFlushers.push(function(B){oa||Z(B)});var Pb=function(B){return"object"===typeof B[0]};return{enqueueRequest:function(B,Q){S=Q+gc;if(rb){B=J(B);Q=l();if(B.bytes>=Q){Ga.warn("Event ("+B.bytes+"B) too big, max is "+Q);aa(B,S);return}W.push(B)}else{var O="?";var P={co:!0,cx:!0},fa=!0,ya;for(ya in B)B.hasOwnProperty(ya)&&!P.hasOwnProperty(ya)&&(fa?fa=!1:O+="&",O+=encodeURIComponent(ya)+"="+encodeURIComponent(B[ya]));for(var Za in P)B.hasOwnProperty(Za)&&P.hasOwnProperty(Za)&&
(O+="&"+Za+"="+encodeURIComponent(B[Za]));P=n();if(0<P&&(fa=xa(O),fa=E(fa),fa>=P)){Ga.warn("Event ("+fa+"B) too big, max is "+P);ua&&(B=J(B),aa(B,Q+f));return}W.push(O)}Q=!1;b&&(Q=Gc(Ab,JSON.stringify(W.slice(-1*p()))));oa||Q&&!(W.length>=g)||Z()},executeQueue:function(){oa||Z()},setUseLocalStorage:function(B){b=B},setAnonymousTracking:function(B){t=B},setCollectorUrl:function(B){S=B+gc},setBufferSize:function(B){g=B},setCustomHeaders:function(B){v=B}}}function Ke(a,c,b){if("translate.googleusercontent.com"===
a)""===b&&(b=c),a=(a=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(c))&&1<(null===a||void 0===a?void 0:a.length)?ec("u",a[1]):null,c=null!==a&&void 0!==a?a:"",a=jd(c);else if("cc.bingj.com"===a||"webcache.googleusercontent.com"===a)c=document.links[0].href,a=jd(c);return[a,c,b]}function qg(a,c,b,d){var f=Math.round((new Date).getTime()/1E3);a?(a=a.split("."),a.unshift("0")):a=["1",c,f,d,f,"",b];a[6]&&"undefined"!==a[6]||(a[6]=ob.v4());a[7]&&"undefined"!==a[7]||(a[7]="");a[8]&&"undefined"!==a[8]||
(a[8]="");a[9]&&"undefined"!==a[9]||(a[9]="");a[10]&&"undefined"!==a[10]||(a[10]=-1);var g=function(l,n){l=parseInt(l);return isNaN(l)?n:l};c=function(l){return l?g(l,void 0):void 0};return[a[0],a[1],g(a[2],f),g(a[3],d),g(a[4],f),c(a[5]),a[6],a[7],a[8],c(a[9]),g(a[10],-1)]}function ic(a,c){void 0===c&&(c=1);"0"===a[0]?(a[7]=a[6],a[5]=a[4],a[3]++):a[3]=c;c=ob.v4();a[6]=c;a[10]=-1;a[8]="";a[9]=void 0;return c}function md(a){a[4]=Math.round((new Date).getTime()/1E3)}function nd(a){function c(){var d,
f,g;try{var l=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};if(l.getEntriesByType){var n=l.getEntriesByType("navigation")[0],w=null!==(d=null===l||void 0===l?void 0:l.timeOrigin)&&void 0!==d?d:0;if(!n)return[];var p={st:Math.floor(w+n.startTime),dls:Math.floor(w+n.domainLookupStart),dle:Math.floor(w+n.domainLookupEnd),rss:Math.floor(w+n.responseStart),rse:Math.floor(w+n.responseEnd),le:Math.floor(w+n.loadEventEnd),dur:Math.floor(w+n.duration),as:Math.floor(w+
n.activationStart)};if(null===da||void 0===da?0:da.startTime)p.lcp={rt:Math.floor(w+da.startTime),url:128<(null===(f=null===da||void 0===da?void 0:da.url)||void 0===f?void 0:f.length)?null===(g=null===da||void 0===da?void 0:da.url)||void 0===g?void 0:g.substring(0,128):da.url,sz:da.size};return[{sc:"cv/pc/1-0-1",dt:p}]}return[]}catch(u){return console.warn("ConvivaAppTracker: issue will getting performance Navigation timing context"),[]}}function b(){return{contexts:function(){var d,f,g;try{if("undefined"!=
typeof(null===da||void 0===da?void 0:da.startTime)&&"number"===typeof(null===da||void 0===da?void 0:da.startTime))return[{sc:"cv/lcp/1-0-0",dt:{lcp:Math.round(da.startTime)-(null!==(d=da.performanceNavigationActivationStart)&&void 0!==d?d:0),url:128<(null===(f=null===da||void 0===da?void 0:da.url)||void 0===f?void 0:f.length)?null===(g=null===da||void 0===da?void 0:da.url)||void 0===g?void 0:g.substring(0,128):da.url}}]}catch(l){}return[]}}}return{activateLCPObserver:function(){try{PerformanceObserver&&
(new PerformanceObserver(function(d){try{d.getEntries().forEach(function(f){var g;if("largest-contentful-paint"===f.entryType){var l=null===performance||void 0===performance?void 0:performance.getEntriesByType("navigation"),n=void 0;l&&0<(null===l||void 0===l?void 0:l.length)&&(n=null===(g=l[0])||void 0===g?void 0:g.activationStart);da=la(la({},f.toJSON()),{performanceNavigationActivationStart:null!==n&&void 0!==n?n:0})}})}catch(f){console.warn("convivaAppTracker error in conviva lcp observer "+f)}})).observe({type:"largest-contentful-paint",
buffered:!0})}catch(d){console.warn("convivaAppTracker conviva_lcp failed "+d)}},contexts:function(){try{switch(a){case X.PERFORMANCE_CONTEXT.DISABLED:return[];case X.PERFORMANCE_CONTEXT.PERFORMANCE_NAVIGATION_TIMING:return c();default:var d=window,f=d.performance||d.mozPerformance||d.msPerformance||d.webkitPerformance,g=f.timing;var l=f?[{sc:"w3/pt/1-0-0",dt:{navigationStart:g.navigationStart,domainLookupStart:g.domainLookupStart,domainLookupEnd:g.domainLookupEnd,responseStart:g.responseStart,responseEnd:g.responseEnd,
loadEventEnd:g.loadEventEnd}}]:[];return ja(ja([],l,!0),b().contexts(),!0)}}catch(n){return console.warn("convivaAppTracker problem in perfromance context "+n),[]}}}}function rg(a,c,b,d,f,g){function l(u,t,v,k){var q,h;if((null===u||void 0===u?void 0:u.configurationBundle[0].namespace)===v){v="cws.conviva.com /wsg /ctp remote_config pings.conviva.com .m3u8 .mpd .ism .m4 .mp4 .ts .png .jpg .jpeg .bmp google-analytics.com googlesyndication.com googleapis stats.g.doubleclick chartbeat.com omtrdc.net app-measurement.com firebase nr-data.net newrelic bitmovin.com/impression bitmovin.com/analytics api.segment.io youbora hotjar mixpanel.com clevertap auryc .aac .vtt .googlevideo webp appsflyer facebook dynatrace mparticle npaw doubleclick .pdf bookkeeper kochava mp3 marketingcloudapis demdex scorecardresearch lura.live perimeterx.net permutive.app segment.com vaicore.site boomtrain ketchcdn qualtrics .svg amplitude datadoghq branch.io hotjar splunkcloud".split(" ");
t=JSON.parse(JSON.stringify(t));"number"===typeof u.cri&&1<=u.cri?t.cacheRefreshInterval=parseInt(u.cri):"number"===typeof u.cacheRefreshInterval&&1<=u.cacheRefreshInterval&&(t.cacheRefreshInterval=parseInt(u.cacheRefreshInterval));"undefined"!=typeof u.configurationBundle[0].trackerConfiguration.base64Encoding&&(t.base64=u.configurationBundle[0].trackerConfiguration.base64Encoding);"undefined"!=typeof u.configurationBundle[0].trackerConfiguration.linkClickTracking&&(t.linkClickTracking=u.configurationBundle[0].trackerConfiguration.linkClickTracking);
"undefined"!=typeof u.configurationBundle[0].trackerConfiguration.lifecycleAutotracking&&(t.lifecycleAutotracking=u.configurationBundle[0].trackerConfiguration.lifecycleAutotracking);"undefined"!=typeof u.configurationBundle[0].trackerConfiguration.buttonClickTracking&&(t.buttonClickTracking=u.configurationBundle[0].trackerConfiguration.buttonClickTracking);"undefined"!=typeof u.configurationBundle[0].trackerConfiguration.exceptionAutotracking&&(t.exceptionAutotracking=u.configurationBundle[0].trackerConfiguration.exceptionAutotracking);
"undefined"!=typeof u.configurationBundle[0].trackerConfiguration.enablePeriodicHeartbeat&&(t.enablePeriodicHeartbeat=u.configurationBundle[0].trackerConfiguration.enablePeriodicHeartbeat);var y=null===(h=null===(q=null===u||void 0===u?void 0:u.configurationBundle[0])||void 0===q?void 0:q.trackerConfiguration)||void 0===h?void 0:h.periodicHeartbeatInterval;"number"===typeof y&&1<=y&&(t.periodicHeartbeatInterval=parseInt(u.configurationBundle[0].trackerConfiguration.periodicHeartbeatInterval));"undefined"!=
typeof u.configurationBundle[0].networkConfiguration.enc&&(t.enc=u.configurationBundle[0].networkConfiguration.enc);"undefined"!=typeof u.configurationBundle[0].networkConfiguration.maxLocalStorageQueueSize&&(t.maxLocalStorageQueueSize=u.configurationBundle[0].networkConfiguration.maxLocalStorageQueueSize);"undefined"!=typeof u.configurationBundle[0].networkConfiguration.maxPostBytes&&(t.maxPostBytes=u.configurationBundle[0].networkConfiguration.maxPostBytes);"undefined"!=typeof u.configurationBundle[0].networkConfiguration.maxGetBytes&&
(t.maxGetBytes=u.configurationBundle[0].networkConfiguration.maxGetBytes);"undefined"!=typeof u.configurationBundle[0].networkConfiguration.bufferSize&&(t.bufferSize=u.configurationBundle[0].networkConfiguration.bufferSize);"undefined"!=typeof u.configurationBundle[0].customEventTrackingConfiguration&&(t.customEventTrackingConfiguration=u.configurationBundle[0].customEventTrackingConfiguration);"undefined"!=typeof u.configurationBundle[0].ajaxTrackingConfiguration&&(t.ajaxTrackingConfiguration=u.configurationBundle[0].ajaxTrackingConfiguration);
"undefined"!=typeof u.configurationBundle[0].networkRequestTrackingConfiguration&&(t.networkRequestTrackingConfiguration=u.configurationBundle[0].networkRequestTrackingConfiguration);"undefined"!=typeof u.configurationBundle[0].traceparentconfig&&(t.traceparentconfig=u.configurationBundle[0].traceparentconfig);"undefined"!=typeof u.configurationBundle[0].networkConfiguration.mend&&(t.mend=u.configurationBundle[0].networkConfiguration.mend);t.ajaxTrackingConfiguration&&(t.ajaxTrackingConfiguration.blocklist||
(t.ajaxTrackingConfiguration.blocklist=[]),t.ajaxTrackingConfiguration.blocklist.push(u.configurationBundle[0].networkConfiguration.endpoint),t.ajaxTrackingConfiguration.blocklist=t.ajaxTrackingConfiguration.blocklist.concat(v));t.networkRequestTrackingConfiguration&&(t.networkRequestTrackingConfiguration.blocklist||(t.networkRequestTrackingConfiguration.blocklist=[]),t.networkRequestTrackingConfiguration.blocklist.push(u.configurationBundle[0].networkConfiguration.endpoint),t.networkRequestTrackingConfiguration.blocklist=
t.networkRequestTrackingConfiguration.blocklist.concat(v));"undefined"!=typeof u.configurationBundle[0].metaTagsTrackingConfiguration&&(t.metaTagsTrackingConfiguration=u.configurationBundle[0].metaTagsTrackingConfiguration);"undefined"!=typeof u.configurationBundle[0].trackerConfiguration.perfCx&&(t.performanceContextConfig=u.configurationBundle[0].trackerConfiguration.perfCx);"undefined"!=typeof u.configurationVersion&&(t.configurationVersion=u.configurationVersion);"undefined"!=typeof u.configurationBundle[0].networkConfiguration.endpoint&&
(t.endpoint=u.configurationBundle[0].networkConfiguration.endpoint);t.catRcLastUpdatedTs=k;p.core.setConfig(t);null===p||void 0===p?void 0:p.setCollectorUrl(u.configurationBundle[0].networkConfiguration.endpoint,g.convivaCustomerKey);try{window.localStorage&&(localStorage.removeItem(X.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(X.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(t)))}catch(x){console.warn("Conviva: Error while saving remote-config to localstorage",x)}}}function n(u,t){return ja(ja([],
u,!0),t,!0).reduce(function(v,k){var q=v.find(function(h){return h.key===k.key});q?k.condition&&(q.condition=ja(ja([],q.condition||[],!0),k.condition,!0)):v.push(la({},k));return v},[])}void 0===g&&(g={});var w=[];a=function(u,t,v,k,q,h){function y(){Bb=Ke(window.location.hostname,window.location.href,kd());Bb[1]!==sb&&(jc=kd(sb));Le=Ge(Bb[0]);sb=Bb[1]}function x(e){try{var m=(new Date).getTime(),r=e.currentTarget;if(null===r||void 0===r?0:r.href){e="_sp="+(Hc+"."+m);var z=r.href.split("#"),A=z[0].split("?"),
C=A.shift(),F=A.join("?");if(F){A=!0;var D=F.split("&");for(m=0;m<D.length;m++)if("_sp="===D[m].substr(0,4)){A=!1;D[m]=e;F=D.join("&");break}A&&(F=e+"&"+F)}else F=e;z[0]=C+"?"+F;var R=z.join("#");r.href=R}}catch(V){console.warn("Conviva App Tracker:: Error in linkDecorationHandler of decorateLinks ".concat(V))}}function J(e){if("undefined"!=typeof document&&document.links&&0<document.links.length)for(var m=0;m<document.links.length;m++){var r=document.links[m];!r.spDecorationEnabled&&e(r)&&(qb(r,
"click",x,!0),qb(r,"mousedown",x,!0),r.spDecorationEnabled=!0)}}function E(e){if(Me){var m=/#.*/;e=e.replace(m,"")}Ne&&(m=/[{}]/g,e=e.replace(m,""));return e}function aa(e){return(e=/^([a-z]+):/.exec(e))?e[1]:null}function Z(e){e=Qb+e+"."+Cb;if("localStorage"==ra){try{var m=window.localStorage,r=m.getItem(e+".expires");if(null===r||+r>Date.now())var z=m.getItem(e);else m.removeItem(e),m.removeItem(e+".expires"),z=void 0}catch(A){z=void 0}return z}if("cookie"==ra||"cookieAndLocalStorage"==ra)return Ya(e)}
function K(){y();Cb=sg((kc||Le)+(od||"/")).slice(0,4)}function L(){pd=(new Date).getTime()}function na(){var e=ma(),m=e[0];m<Ic?Ic=m:m>Jc&&(Jc=m);e=e[1];e<Kc?Kc=e:e>Lc&&(Lc=e);L()}function ma(){var e="undefined"!=typeof document?null===document||void 0===document?void 0:document.documentElement:void 0;return e?[e.scrollLeft||window.pageXOffset,e.scrollTop||window.pageYOffset]:[0,0]}function xa(){var e=ma(),m=e[0];Jc=Ic=m;Lc=Kc=e=e[1]}function pa(){S(Qb+"ses."+Cb,"*",Oe)}function oa(e){var m=Qb+"id."+
Cb;e.shift();e=e.join(".");S(m,e,Pe)}function S(e,m,r){if(!lc||Mc)"localStorage"==ra?Gc(e,m,r):("cookie"==ra||"cookieAndLocalStorage"==ra)&&Ya(e,m,r,od,kc,Nc,Oc)}function W(e){var m=Qb+"id."+Cb,r=Qb+"ses."+Cb;He(m);He(r);Ya(m,"",-1,"/",kc,Nc,Oc);Ya(r,"",-1,"/",kc,Nc,Oc);null!==e&&void 0!==e&&e.preserveSession||(Db=ob.v4(),$a=1);null!==e&&void 0!==e&&e.preserveUser||(Hc=ob.v4(),Eb=null)}function ba(e){e&&e.stateStorageStrategy&&(h.stateStorageStrategy=e.stateStorageStrategy,ra=Qe(h));lc=!!h.anonymousTracking;
Mc=Re(h);qd=Se(h);jb.setUseLocalStorage("localStorage"==ra||"cookieAndLocalStorage"==ra);jb.setAnonymousTracking(qd)}function ea(){try{var e=window.localStorage.getItem(rd+"."+sd),m=JSON.parse(e||"{}");"{}"===m||"undefined"===typeof m?(mc=Pb(),Pc=B(),tb=-1):(mc=m.clId||Pb(),tb=m[nc]&&2147483648>m[nc]?m[nc]:-1,Pc=B());hc()}catch(z){console.warn(z)}if(!lc||Mc){e="none"!=ra&&!!Z("ses");m=ua();if(m[1])var r=m[1];else r=lc?"":ob.v4(),m[1]=r;Hc=r;Db=e?m[6]:ic(m);$a=m[3];"none"!=ra&&(pa(),md(m),oa(m))}}
function ua(){if("none"==ra)return["1","",0,0,0,void 0,"","","",void 0,0];var e=Z("id")||void 0;return qg(e,Hc,Db,$a)}function rb(e,m){var r,z,A,C,F=!0,D=Pa.getConfig();"undefined"!==typeof D.mend?F=D.mend:"undefined"!==typeof(null===(z=null===(r=null===h||void 0===h?void 0:h.configs)||void 0===r?void 0:r.network)||void 0===z?void 0:z.mergeEndpoint)&&(F=null===(C=null===(A=null===h||void 0===h?void 0:h.configs)||void 0===A?void 0:A.network)||void 0===C?void 0:C.mergeEndpoint);return 0===e.indexOf("http")?
(m&&F&&(e=e.replace(/^(https?:\/\/)(.*)$/,"$1"+m+".$2")),e):m&&F?("https:"===document.location.protocol?"https":"http")+"://"+m+"."+e:("https:"===document.location.protocol?"https":"http")+"://"+e}function gc(){Te&&null!=q.pageViewId||(q.pageViewId=ob.v4())}function Ab(){null==q.pageViewId&&(q.pageViewId=ob.v4());return q.pageViewId}function hc(){try{var e=window.localStorage,m={clId:mc,iid:Pc,eventIndex:tb},r=null;try{r=JSON.stringify(m)}catch(z){return}return e.setItem(rd+"."+sd,r)}catch(z){}}function Pb(){try{return O({"First Launch":"Yes"}),
Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()}catch(e){console.warn(e)}}function B(){try{return Math.floor(2147483647*Math.random())}catch(e){return console.warn(e),-1}}function Q(e){try{return"object"===typeof JSON.parse(e)}catch(m){return!1}}function O(e){try{var m=Object.keys(e);Q(JSON.stringify(e))?m.forEach(function(r){""!==r&&Object.defineProperty(td,
r,{value:""+e[r],writable:!0,enumerable:!0,configurable:!0})}):console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=")}catch(r){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",r)}}function P(e){try{e.forEach(function(m){delete td[m]})}catch(m){console.warn("Conviva AppTracker:: Failed to unset Custom tag(s). Check format of keys set.")}}function fa(e){try{var m=Object.keys(e);Q(JSON.stringify(e))?m.forEach(function(r){""!==r&&Object.defineProperty(ud,r,{value:""+
e[r],writable:!0,enumerable:!0,configurable:!0})}):console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=")}catch(r){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",r)}}function ya(e){var m=e.title,r=e.context,z=e.timestamp;e=e.contextCallback;y();vd&&gc();vd=!0;ub=document.title;Rb=m;m=id(Rb||ub);Pa.track(cg({pageUrl:E(Sb||sb),pageTitle:m,referrer:E(Qc||jc)}),(r||[]).concat(e?e():[]),z);z=new Date;m=!1;if(Qa.enabled&&!Qa.installed){m=Qa.installed=!0;var A=
{update:function(){if("undefined"!==typeof window&&"function"===typeof window.addEventListener){var F=!1,D=Object.defineProperty({},"passive",{get:function(){F=!0},set:function(){}}),R=function(){};window.addEventListener("testPassiveEventSupport",R,D);window.removeEventListener("testPassiveEventSupport",R,D);A.hasSupport=F}}};A.update();var C="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(A,"hasSupport")?
qb(document,C,L,{passive:!0}):qb(document,C,L);xa();C=function(F,D){void 0===D&&(D=L);return function(R){return qb(document,R,D)}};"click mouseup mousedown mousemove keypress keydown keyup".split(" ").forEach(C(document));["resize","focus","blur"].forEach(C(window));C(window,na)("scroll")}if(Qa.enabled&&(tg||m))for(z in pd=z.getTime(),z=void 0,Qa.configurations)if(m=Qa.configurations[z])window.clearInterval(m.activityInterval),ld(m,r,e)}function Za(){var e,m,r,z,A,C,F,D,R,V,U,ca,ha,za,Ha,Ia,N,ka,
Aa,Da,Ta,Ua,kb,Va,ab,bb,Ea,Ja,Ka,ia,cb;try{var I=p.core.getConfig(),G=void 0;ud={};var db=Tb.MERGE;"undefined"!==typeof(null===(m=null===(e=null===h||void 0===h?void 0:h.configs)||void 0===e?void 0:e.metaTagsTracking)||void 0===m?void 0:m.preference)?db=null===(z=null===(r=null===h||void 0===h?void 0:h.configs)||void 0===r?void 0:r.metaTagsTracking)||void 0===z?void 0:z.preference:!0===(null===(C=null===(A=null===h||void 0===h?void 0:h.configs)||void 0===A?void 0:A.metaTagsTracking)||void 0===C?void 0:
C.force)?db=Tb.APP:"undefined"!==typeof(null===(F=null===I||void 0===I?void 0:I.metaTagsTrackingConfiguration)||void 0===F?void 0:F.pref)&&(db=null===(D=null===I||void 0===I?void 0:I.metaTagsTrackingConfiguration)||void 0===D?void 0:D.pref);switch(db){case Tb.APP:if(!1===(null===(V=null===(R=null===h||void 0===h?void 0:h.configs)||void 0===R?void 0:R.metaTagsTracking)||void 0===V?void 0:V.enabled))return;0<(null===(ha=null===(ca=null===(U=null===h||void 0===h?void 0:h.configs)||void 0===U?void 0:
U.metaTagsTracking)||void 0===ca?void 0:ca.tags)||void 0===ha?void 0:ha.length)&&(G=ja([],null===(Ha=null===(za=null===h||void 0===h?void 0:h.configs)||void 0===za?void 0:za.metaTagsTracking)||void 0===Ha?void 0:Ha.tags,!0));break;case Tb.REMOTE:if(!1===(null===(Ia=null===I||void 0===I?void 0:I.metaTagsTrackingConfiguration)||void 0===Ia?void 0:Ia.enabled))return;"undefined"!=typeof(null===I||void 0===I?void 0:I.metaTagsTrackingConfiguration)&&0<(null===(ka=null===(N=null===I||void 0===I?void 0:I.metaTagsTrackingConfiguration)||
void 0===N?void 0:N.tags)||void 0===ka?void 0:ka.length)&&(G=ja([],null===(Aa=null===I||void 0===I?void 0:I.metaTagsTrackingConfiguration)||void 0===Aa?void 0:Aa.tags,!0));break;default:if("undefined"==typeof(null===I||void 0===I?void 0:I.metaTagsTrackingConfiguration)&&!1===(null===(Ta=null===(Da=null===h||void 0===h?void 0:h.configs)||void 0===Da?void 0:Da.metaTagsTracking)||void 0===Ta?void 0:Ta.enabled)||"undefined"==typeof(null===(Ua=null===h||void 0===h?void 0:h.configs)||void 0===Ua?void 0:
Ua.metaTagsTracking)&&!1===(null===(kb=null===I||void 0===I?void 0:I.metaTagsTrackingConfiguration)||void 0===kb?void 0:kb.enabled))return;var Ba=null===(ab=null===(Va=null===h||void 0===h?void 0:h.configs)||void 0===Va?void 0:Va.metaTagsTracking)||void 0===ab?void 0:ab.tags,oc=null===(bb=null===I||void 0===I?void 0:I.metaTagsTrackingConfiguration)||void 0===bb?void 0:bb.tags;!1===(null===(Ja=null===(Ea=null===h||void 0===h?void 0:h.configs)||void 0===Ea?void 0:Ea.metaTagsTracking)||void 0===Ja?void 0:
Ja.enabled)&&(Ba=[]);!1===(null===(Ka=null===I||void 0===I?void 0:I.metaTagsTrackingConfiguration)||void 0===Ka?void 0:Ka.enabled)&&(oc=[]);G=ja([],n(Ba||[],oc||[]),!0)}if("undefined"!=typeof G&&0<(null===G||void 0===G?void 0:G.length)){e={};var eb=null===document||void 0===document?void 0:document.head,vb=null===eb||void 0===eb?void 0:eb.getElementsByTagName("meta");if("undefined"!=typeof vb&&0<(null===vb||void 0===vb?void 0:vb.length))for(eb=0;eb<vb.length;eb++){var Ub=vb[eb];for(m=0;m<G.length;m++){var Wa=
Ub.getAttribute(G[m].key),Rc=Ub.getAttribute(G[m].value);r=void 0;if(null===(ia=G[m])||void 0===ia?0:ia.condition)r=null===(cb=G[m])||void 0===cb?void 0:cb.condition;Wa&&(r&&r.includes(Wa)?e[Wa]=Rc:r&&0!==r.length||(e[Wa]=Rc))}}p.setMetaCustomTags(e)}}catch(wd){console.warn("Conviva App Tracker:: setPageMetaTagsAsCustomTags",wd)}}function ld(e,m,r){var z=function(C,F){var D;y();var R=null===(D=null===p||void 0===p?void 0:p.core)||void 0===D?void 0:D.getConfig();R.enablePeriodicHeartbeat?void 0!=R.periodicHeartbeatInterval&&
(D=1E3*R.periodicHeartbeatInterval,D!=e.configHeartBeatTimer&&(e.configHeartBeatTimer=D,window.clearInterval(e.activityInterval),e.activityInterval=window.setInterval(A,D))):window.clearInterval(e.activityInterval);C({context:F,pageViewId:Ab(),minXOffset:Ic,minYOffset:Kc,maxXOffset:Jc,maxYOffset:Lc});xa()};window.setTimeout(function(){z(e.callback,(m||[]).concat(r?r():[]))},2E3);var A=function(){var C=new Date;("visible"==(null===document||void 0===document?void 0:document.visibilityState)||(null===
document||void 0===document?0:document.pictureInPictureElement)||pd+e.configHeartBeatTimer>C.getTime()||!0===Ue)&&z(e.callback,(m||[]).concat(r?r():[]))};e.activityInterval=window.setInterval(A,e.configHeartBeatTimer)}function ib(e){var m=e.minimumVisitLength,r=e.heartbeatDelay;e=e.callback;if(Fe(m)&&Fe(r))return{configMinimumVisitLength:1E3*m,configHeartBeatTimer:1E3*r,callback:e};Ga.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function Na(e){var m=e.context,r=
e.minXOffset,z=e.minYOffset,A=e.maxXOffset,C=e.maxYOffset;e=document.title;e!==ub&&(ub=e,Rb=void 0);e=Pa;var F=e.track,D=E(Sb||sb),R=id(Rb||ub),V=E(Qc||jc);r=Math.round(r);A=Math.round(A);z=Math.round(z);C=Math.round(C);var U=Ac();U.add("e","pp");U.add("url",D);U.add("page",R);U.add("refr",V);r&&!isNaN(Number(r))&&U.add("pp_mix",r.toString());A&&!isNaN(Number(A))&&U.add("pp_max",A.toString());z&&!isNaN(Number(z))&&U.add("pp_miy",z.toString());C&&!isNaN(Number(C))&&U.add("pp_may",C.toString());F.call(e,
U,m)}function Oa(e){var m,r,z,A,C,F,D,R,V,U,ca,ha,za,Ha,Ia,N,ka,Aa,Da,Ta,Ua,kb,Va,ab,bb,Ea,Ja,Ka,ia,cb,I;try{if(p&&e){var G=p.core.getConfig(),db=X.CONFIG_PREFERENCES.MERGE,Ba=[];"undefined"!==typeof(null===(r=null===(m=null===h||void 0===h?void 0:h.configs)||void 0===m?void 0:m.traceparentGeneration)||void 0===r?void 0:r.force)&&!0===(null===(A=null===(z=null===h||void 0===h?void 0:h.configs)||void 0===z?void 0:z.traceparentGeneration)||void 0===A?void 0:A.force)?db=X.CONFIG_PREFERENCES.APP:"undefined"!==
typeof(null===(C=null===G||void 0===G?void 0:G.traceparentconfig)||void 0===C?void 0:C.pref)&&(db=null===(F=null===G||void 0===G?void 0:G.traceparentconfig)||void 0===F?void 0:F.pref);switch(db){case X.CONFIG_PREFERENCES.APP:if(!1===(null===(R=null===(D=null===h||void 0===h?void 0:h.configs)||void 0===D?void 0:D.traceparentGeneration)||void 0===R?void 0:R.enabled))return"";if(null===(ca=null===(U=null===(V=null===h||void 0===h?void 0:h.configs)||void 0===V?void 0:V.traceparentGeneration)||void 0===
U?void 0:U.targetUrl)||void 0===ca?0:ca.length)Ba=ja([],null===(za=null===(ha=null===h||void 0===h?void 0:h.configs)||void 0===ha?void 0:ha.traceparentGeneration)||void 0===za?void 0:za.targetUrl,!0);break;case X.CONFIG_PREFERENCES.REMOTE:if(!1===(null===(Ha=null===G||void 0===G?void 0:G.traceparentconfig)||void 0===Ha?void 0:Ha.enabled))return"";"undefined"!=typeof(null===G||void 0===G?void 0:G.traceparentconfig)&&(null===(N=null===(Ia=null===G||void 0===G?void 0:G.traceparentconfig)||void 0===Ia?
void 0:Ia.targetUrl)||void 0===N?0:N.length)&&(Ba=ja([],null===(ka=null===G||void 0===G?void 0:G.traceparentconfig)||void 0===ka?void 0:ka.targetUrl,!0));break;default:if("undefined"==typeof(null===G||void 0===G?void 0:G.traceparentconfig)&&!1===(null===(Da=null===(Aa=null===h||void 0===h?void 0:h.configs)||void 0===Aa?void 0:Aa.traceparentGeneration)||void 0===Da?void 0:Da.enabled)||"undefined"==typeof(null===(Ta=null===h||void 0===h?void 0:h.configs)||void 0===Ta?void 0:Ta.traceparentGeneration)&&
!1===(null===(Ua=null===G||void 0===G?void 0:G.traceparentconfig)||void 0===Ua?void 0:Ua.enabled))return"";var oc=null===(Va=null===(kb=null===h||void 0===h?void 0:h.configs)||void 0===kb?void 0:kb.traceparentGeneration)||void 0===Va?void 0:Va.targetUrl,eb=null===(ab=null===G||void 0===G?void 0:G.traceparentconfig)||void 0===ab?void 0:ab.targetUrl;!1===(null===(Ea=null===(bb=null===h||void 0===h?void 0:h.configs)||void 0===bb?void 0:bb.traceparentGeneration)||void 0===Ea?void 0:Ea.enabled)&&(oc=[]);
!1===(null===(Ja=null===G||void 0===G?void 0:G.traceparentconfig)||void 0===Ja?void 0:Ja.enabled)&&(eb=[]);var vb=new Set(ja(ja([],eb||[],!0),oc||[],!0));Ba=Array.from(vb)}var Ub=null===(ia=null===(Ka=null===h||void 0===h?void 0:h.configs)||void 0===Ka?void 0:Ka.networkRequestTracking)||void 0===ia?void 0:ia.safelist,Wa=null===(cb=null===G||void 0===G?void 0:G.networkRequestTrackingConfiguration)||void 0===cb?void 0:cb.blocklist,Rc=(null===Wa||void 0===Wa?void 0:Wa.includes("*"))||(null===Wa||void 0===
Wa?void 0:Wa.some(function(Ca){return 0<(null===Ca||void 0===Ca?void 0:Ca.length)&&e.toLowerCase().includes(Ca.toLowerCase())})),wd=null===Ub||void 0===Ub?void 0:Ub.some(function(Ca){return 0<(null===Ca||void 0===Ca?void 0:Ca.length)&&e.toLowerCase().includes(Ca.toLowerCase())});if(0<(null===Ba||void 0===Ba?void 0:Ba.length)&&((null===Ba||void 0===Ba?0:Ba.includes("*"))||(null===Ba||void 0===Ba?0:Ba.some(function(Ca){return 0<(null===Ca||void 0===Ca?void 0:Ca.length)&&e.toLowerCase().includes(Ca.toLowerCase())})))&&
(null===(I=null===G||void 0===G?void 0:G.networkRequestTrackingConfiguration)||void 0===I?0:I.enabled)&&(wd||!Rc)){var ug=Array.from({length:32},function(){return Math.floor(16*Math.random()).toString(16)}).join(""),vg=Array.from({length:16},function(){return Math.floor(16*Math.random()).toString(16)}).join("");return"00-"+ug+"-"+vg+"-00"}}return""}catch(Ca){return""}}function fc(e,m,r){var z=h.trackerConfigUrl?h.trackerConfigUrl:Ve;"number"===typeof xd&&window.clearInterval(xd);var A=function(){xd=
window.setInterval(Vb,6E4*e,z)};try{var C=m?((new Date).getTime()-m)/6E4:e;C=e-C;var F=3*e/100;"string"==typeof r&&r===X.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER?A():"string"==typeof r&&r===X.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF&&0<m&&C>F?window.setTimeout(function(){Vb(z);A()},6E4*C):(Vb(z),A())}catch(D){Vb(z),A()}}var yd,zd,Ad,Bd,Cd,Dd,Ed,Fd,Gd,Hd,Id,Jd,Kd,Ld,Md,Nd,Od,Pd,Qd,Rd,Sd,Td,Ud,Vd,qa={cacheRefreshInterval:30,base64:!1,linkClickTracking:!0,buttonClickTracking:!0,lifecycleAutotracking:!0,exceptionAutotracking:!0,
enablePeriodicHeartbeat:!0,periodicHeartbeatInterval:40,customEventTrackingConfiguration:{enabled:!0},ajaxTrackingConfiguration:{blocklist:["*"]},networkRequestTrackingConfiguration:{blocklist:["*"]},traceparentconfig:{enabled:!0,pref:X.CONFIG_PREFERENCES.MERGE,targetUrl:[]},performanceContextConfig:1,configurationVersion:-1,catRcLastUpdatedTs:0,endpoint:X.DEFAULT_END_POINT},H={},xd=null,Sc=!1,Wb=!1,M={};if("undefined"!=typeof window&&(null===window||void 0===window?0:window.localStorage))try{localStorage.removeItem(X.END_POINT_STORAGE_KEY);
var Wd=null!==(yd=localStorage.getItem(X.REMOTE_CONFIG_STORAGE_KEY))&&void 0!==yd?yd:JSON.stringify(H)}catch(e){Wd=JSON.stringify(H),Sc=!0,Ga.warn("Issue while fetching data from local storage")}else Wd=JSON.stringify(H);try{M=JSON.parse(Wd)}catch(e){Sc=!0,Ga.warn("Issue while parsing storedConvivaRemoteConfig")}k=h.gatewayUrl?h.gatewayUrl:(null===M||void 0===M?0:M.endpoint)?null===M||void 0===M?void 0:M.endpoint:X.DEFAULT_END_POINT;t||(t="CAT");H.base64="undefined"!=typeof M.base64?M.base64:qa.base64;
H.cacheRefreshInterval="undefined"!=typeof M.cacheRefreshInterval?M.cacheRefreshInterval:qa.cacheRefreshInterval;H.linkClickTracking="undefined"!=typeof M.linkClickTracking?M.linkClickTracking:qa.linkClickTracking;H.lifecycleAutotracking="undefined"!=typeof M.lifecycleAutotracking?M.lifecycleAutotracking:qa.lifecycleAutotracking;H.buttonClickTracking="undefined"!=typeof M.buttonClickTracking?M.buttonClickTracking:qa.buttonClickTracking;H.exceptionAutotracking="undefined"!=typeof M.exceptionAutotracking?
M.exceptionAutotracking:qa.exceptionAutotracking;H.enablePeriodicHeartbeat="undefined"!=typeof M.enablePeriodicHeartbeat?M.enablePeriodicHeartbeat:qa.enablePeriodicHeartbeat;H.periodicHeartbeatInterval="undefined"!=typeof M.periodicHeartbeatInterval?M.periodicHeartbeatInterval:qa.periodicHeartbeatInterval;"undefined"!=typeof M.enc&&(H.enc=M.enc);"undefined"!=typeof M.maxLocalStorageQueueSize&&(H.maxLocalStorageQueueSize=M.maxLocalStorageQueueSize);"undefined"!=typeof M.maxPostBytes&&(H.maxPostBytes=
M.maxPostBytes);"undefined"!=typeof M.maxGetBytes&&(H.maxGetBytes=M.maxGetBytes);"undefined"!=typeof M.bufferSize&&(H.bufferSize=M.bufferSize);H.customEventTrackingConfiguration="undefined"!=typeof M.customEventTrackingConfiguration?M.customEventTrackingConfiguration:la({},qa.customEventTrackingConfiguration);H.ajaxTrackingConfiguration="undefined"!=typeof M.ajaxTrackingConfiguration?M.ajaxTrackingConfiguration:la({},qa.ajaxTrackingConfiguration);H.networkRequestTrackingConfiguration="undefined"!=
typeof M.networkRequestTrackingConfiguration?M.networkRequestTrackingConfiguration:la({},qa.networkRequestTrackingConfiguration);"undefined"!=typeof M.metaTagsTrackingConfiguration&&(H.metaTagsTrackingConfiguration=M.metaTagsTrackingConfiguration);H.traceparentconfig="undefined"!=typeof M.traceparentconfig?M.traceparentconfig:la({},qa.traceparentconfig);"undefined"!=typeof M.mend&&(H.mend=M.mend);H.performanceContextConfig="undefined"!=typeof M.performanceContextConfig?M.performanceContextConfig:
qa.performanceContextConfig;H.configurationVersion="undefined"!=typeof M.configurationVersion?M.configurationVersion:qa.configurationVersion;H.catRcLastUpdatedTs="undefined"!=typeof M.catRcLastUpdatedTs?M.catRcLastUpdatedTs:qa.catRcLastUpdatedTs;null===(zd=nd(H.performanceContextConfig))||void 0===zd?void 0:zd.activateLCPObserver();(function(){try{var e=0,m=0;null===window||void 0===window?void 0:window.addEventListener("load",function(){var r;try{var z=null===(r=null===p||void 0===p?void 0:p.core)||
void 0===r?void 0:r.getConfig();null===p||void 0===p?void 0:p.trackCustomEvent({name:"conviva_window_loaded",data:"{}",context:nd(null===z||void 0===z?void 0:z.performanceContextConfig).contexts()})}catch(A){console.warn("ConvivaAppTracker : issue while registering window loaded event",A)}});null===document||void 0===document?void 0:document.addEventListener("visibilitychange",function(){var r;try{if("hidden"===document.visibilityState)setTimeout(function(){var A;try{var C=null===(A=null===p||void 0===
p?void 0:p.core)||void 0===A?void 0:A.getConfig();m++;if(null===C||void 0===C?0:C.lifecycleAutotracking){var F=p.core,D=F.track;var R=yb({event:{sc:"sp/abg/1-0-0",dt:Nb({backgroundIndex:m})}});D.call(F,R)}"hidden"!==document.visibilityState||vd||(null===p||void 0===p?void 0:p.trackCustomEvent({name:"conviva_app_backgrnd_before_page_view",data:"{}"}))}catch(V){console.warn("ConvivaAppTracker : issue while tracking visibility change",V)}},0);else{var z=null===(r=null===p||void 0===p?void 0:p.core)||
void 0===r?void 0:r.getConfig();e++;(null===z||void 0===z?0:z.lifecycleAutotracking)&&p.core.track(yb({event:{sc:"sp/afg/1-0-0",dt:Nb({foregroundIndex:e})}}))}}catch(A){console.warn("convivaAppTracker visibilitychange failed "+A)}});"undefined"!=typeof document&&document&&document.addEventListener&&document.addEventListener("convivaVideoEvent",function(r){r&&p&&(null===p||void 0===p?void 0:p.trackVideoEvent(r))})}catch(r){console.warn("convivaAppTracker error in page load metrics"+r)}})();try{var Fb=
XMLHttpRequest,Tc=null===(Ad=null===window||void 0===window?void 0:window.fetch)||void 0===Ad?void 0:Ad.bind(window);if(Fb){var wg=function(e){var m={};e.trim().split(/[\r\n]+/).forEach(function(r){r=r.split(":");var z=r[1];m[r[0].trim()]=null===z||void 0===z?void 0:z.trim()});return m},Uc=function(e,m,r){var z,A;try{var C=p.core.getConfig().networkRequestTrackingConfiguration,F=C.blocklist,D=null===(A=null===(z=null===h||void 0===h?void 0:h.configs)||void 0===z?void 0:z.networkRequestTracking)||
void 0===A?void 0:A.safelist,R=(null===F||void 0===F?void 0:F.includes("*"))||(null===F||void 0===F?void 0:F.some(function(ca){var ha;return 0<(null===ca||void 0===ca?void 0:ca.length)&&(null===(ha=null===m||void 0===m?void 0:m.url)||void 0===ha?void 0:ha.toLowerCase().includes(ca.toLowerCase()))})),V=null===D||void 0===D?void 0:D.some(function(ca){var ha;return 0<(null===ca||void 0===ca?void 0:ca.length)&&(null===(ha=null===m||void 0===m?void 0:m.url)||void 0===ha?void 0:ha.toLowerCase().includes(ca.toLowerCase()))});
if(C&&C.enabled&&!R||V){var U={status:null===e||void 0===e?void 0:e.status,statusText:(""!==(null===e||void 0===e?void 0:e.statusText)?null===e||void 0===e?void 0:e.statusText:void 0)||("load"!=r?r:void 0),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};r=void 0;try{r=wg(e.getAllResponseHeaders()),U.headers=r}catch(ca){}try{U.body=null===e||void 0===e?void 0:
e.response}catch(ca){}p.trackNetworkRequest({requestDetails:m,responseDetails:U})}}catch(ca){console.warn("Conviva App Tracker:: Unable to track network request error while handleResponse ".concat(ca))}},Xd=function(){var e=new Fb;try{var m,r,z={},A,C=e.setRequestHeader;e.setRequestHeader=function(R,V){z[R]=V;C.call(this,R,V)};var F=e.open;e.open=function(){for(var R=[],V=0;V<arguments.length;V++)R[V]=arguments[V];m=R[0];r=R[1];try{/^(?:[a-z]+:)?\/\//i.test(r)||(r=0===r.indexOf("/")?window.location.origin+
r:window.location.origin+"/"+r)}catch(U){}F.call(e,R[0],R[1],!0)};var D=e.send;e.send=function(R){try{var V=null;X.TRACEPARENT_HEADER_KEY in z||(V=Oa(r),null!==V&&""!==V&&e.setRequestHeader(X.TRACEPARENT_HEADER_KEY,V));D.call(e,R);A={method:m,url:r,headers:z,body:R,requestTimestamp:null===Date||void 0===Date?void 0:Date.now(),requestTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};null!==V&&""!==V&&(A[X.TRACEPARENT_HEADER_KEY]=
V)}catch(U){console.warn("Conviva App Tracker:: Unable to track network request while send ".concat(U))}};e.addEventListener("load",function(){return Uc(e,A,"load")});e.addEventListener("error",function(){return Uc(e,A,"error")});e.addEventListener("abort",function(){return Uc(e,A,"abort")});e.addEventListener("timeout",function(){return Uc(e,A,"timeout")})}catch(R){console.warn("Conviva App Tracker:: Unable to track network request while interceptRequest ".concat(R))}return e},Vc;for(Vc in Fb)Fb.hasOwnProperty(Vc)&&
(Xd[Vc]=Fb[Vc]);Xd.prototype=Fb.prototype;window.XMLHttpRequest=Xd}if(Tc){var We=function(e){var m={};e.forEach(function(r,z){m[z]=r});return m};window.fetch=function(e,m){var r,z,A,C=null;if(e instanceof Request){e=null===e||void 0===e?void 0:e.clone();try{var F=!1;null===(r=null===e||void 0===e?void 0:e.headers)||void 0===r?void 0:r.forEach(function(N,ka){X.TRACEPARENT_HEADER_KEY===ka&&(F=!0)});F||(C=Oa(e.url),null!==C&&""!==C&&e.headers.set(X.TRACEPARENT_HEADER_KEY,C))}catch(N){console.warn("ConvivaAppTracker: Issue while adding traceparent header",
N)}r=Tc(e)}else{try{if(m&&m.headers){var D=new Headers(m.headers),R=!1;D.forEach(function(N,ka){X.TRACEPARENT_HEADER_KEY===ka&&(R=!0)});R||(C=Oa(e),null!==C&&""!==C&&D.set(X.TRACEPARENT_HEADER_KEY,C))}else D=new Headers,C=Oa(e),null!==C&&""!==C&&D.set(X.TRACEPARENT_HEADER_KEY,C),m||(m={});m.headers=D}catch(N){console.warn("ConvivaAppTracker: Issue while adding traceparent header",N)}r=Tc(e,m);e=(new Request(e,m)).clone()}try{D=void 0;try{D=We(e.headers)}catch(N){}var V=void 0;try{V=null===m||void 0===
m?void 0:m.body}catch(N){}var U={method:e.method,url:e.url,headers:D,body:V,requestTimestamp:null===Date||void 0===Date?void 0:Date.now(),requestTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},ca=p.core.getConfig().networkRequestTrackingConfiguration,ha=ca.blocklist,za=null===(A=null===(z=null===h||void 0===h?void 0:h.configs)||void 0===z?void 0:z.networkRequestTracking)||void 0===A?void 0:A.safelist,Ha=(null===ha||void 0===
ha?void 0:ha.includes("*"))||(null===ha||void 0===ha?void 0:ha.some(function(N){var ka;return 0<(null===N||void 0===N?void 0:N.length)&&(null===(ka=null===U||void 0===U?void 0:U.url)||void 0===ka?void 0:ka.toLowerCase().includes(N.toLowerCase()))})),Ia=null===za||void 0===za?void 0:za.some(function(N){var ka;return 0<(null===N||void 0===N?void 0:N.length)&&(null===(ka=null===U||void 0===U?void 0:U.url)||void 0===ka?void 0:ka.toLowerCase().includes(N.toLowerCase()))});null!==C&&""!==C&&(U[X.TRACEPARENT_HEADER_KEY]=
C);if(ca&&ca.enabled&&!Ha||Ia)r.then(function(N){try{var ka=We(N.headers)}catch(Da){}var Aa={status:null===N||void 0===N?void 0:N.status,statusText:""!==(null===N||void 0===N?void 0:N.statusText)?null===N||void 0===N?void 0:N.statusText:void 0,headers:ka,size:0,responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};N.clone().json().then(function(Da){Aa.body=Da;
p.trackNetworkRequest({requestDetails:U,responseDetails:Aa})})["catch"](function(){p.trackNetworkRequest({requestDetails:U,responseDetails:Aa})})})["catch"](function(N){N={statusText:N.toString(),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};p.trackNetworkRequest({requestDetails:U,responseDetails:N})})}catch(N){console.warn("Conviva App Tracker:: Unable to track network request while fetch interceptRequest ".concat(N))}return r}}try{Fb||
Tc||PerformanceObserver&&(new PerformanceObserver(function(e){try{e.getEntries().forEach(function(m){p&&p.trackAjaxEvent(m)})}catch(m){console.warn("Conviva PerformanceObserver error in listeneing ajax request observer ".concat(m))}})).observe({type:"resource",buffered:!0})}catch(e){console.warn("Conviva PerformanceObserver failed to report ajax request"+e)}}catch(e){console.warn("Conviva App Tracker:: Unable to track network request ".concat(e))}var xg=v.split("js-")[1],Ve=X.REMOTE_CONFIG_URL_PREFIX+
h.convivaCustomerKey+"/"+xg+X.REMOTE_CONFIG_FILE_NAME;if(window.XMLHttpRequest){var Gb=new XMLHttpRequest,pc=0;Gb.onreadystatechange=function(){try{if(4==Gb.readyState)if(Wb=!1,200==Gb.status){pc=0;H.catRcLastUpdatedTs=(new Date).getTime();var e=JSON.parse(Gb.response),m=e.cri||e.cacheRefreshInterval||qa.cacheRefreshInterval;m=0>m?qa.cacheRefreshInterval:~~m;H.cacheRefreshInterval!=m&&(H.cacheRefreshInterval=m,fc(H.cacheRefreshInterval,H.catRcLastUpdatedTs,X.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER));
l(e,qa,t,H.catRcLastUpdatedTs)}else try{2>pc&&window.setTimeout(function(){(null===h||void 0===h?0:h.trackerConfigUrl)?Vb(null===h||void 0===h?void 0:h.trackerConfigUrl,!0):Vb(Ve,!0)},5E3*(pc+1))}catch(r){}}catch(r){Wb=!1,console.warn("Conviva App Tracker:: Error in fetching remote-config ".concat(r))}};var Vb=function(e,m){try{"boolean"===typeof Wb&&!1===Wb&&(m?pc++:pc=0,Gb.timeout=3E4,Gb.open("GET",e,!0),Wb=!0,Gb.send())}catch(r){Wb=!1}};fc(H.cacheRefreshInterval,H.catRcLastUpdatedTs,"undefined"!=
typeof Sc&&!0===Sc?X.RC_FETCH_MODE.IMMEDIATE_FETCH:X.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF)}h.eventMethod=null!==(Bd=h.eventMethod)&&void 0!==Bd?Bd:"post";var Qe=function(e){var m;return null!==(m=e.stateStorageStrategy)&&void 0!==m?m:"cookieAndLocalStorage"},Re=function(e){var m,r;return"boolean"===typeof e.anonymousTracking?!1:null!==(r=!0===(null===(m=e.anonymousTracking)||void 0===m?void 0:m.withSessionTracking))&&void 0!==r?r:!1},Se=function(e){var m,r;return"boolean"===typeof e.anonymousTracking?
!1:null!==(r=!0===(null===(m=e.anonymousTracking)||void 0===m?void 0:m.withServerAnonymisation))&&void 0!==r?r:!1};w.push(function(){return{beforeTrack:function(e){var m=Z("ses"),r=ua();Yd=Zd?!!Ya(Zd):!1;Xe||Yd?W():("0"===r[0]?(Db=m||"none"==ra?r[6]:ic(r),$a=r[3]):(new Date).getTime()-$d>1E3*Oe&&($a++,Db=ic(r,$a)),md(r),-1===r[10]&&(m=e.build(),r[8]=m.eid,m=m.dtm||m.ttm,r[9]=m?parseInt(m):void 0),r[10]+=1,e.add("uid",lc?null:Eb),y(),e.add("refr",E(Qc||jc)),document&&(ub=document.title,m=id(Rb||ub),
e.add("page",m)),e.add("url",E(Sb||sb)),"none"!=ra&&(oa(r),pa()),$d=(new Date).getTime())}}}());w.push(function(){return{contexts:function(){var e=mc,m=Pc.toString(),r=yg;try{var z=window.localStorage.getItem(rd+"."+sd),A=JSON.parse(z||"{}");"{}"!==A&&"undefined"!==typeof A&&"undefined"!==typeof A[nc]&&(tb=A[nc]);2147483647<=tb?tb=0:tb++;hc();var C=tb}catch(F){console.warn(F),C=void 0}return[{sc:"cv/clid/1-0-2",dt:{clid:e,iid:m,ck:r,eventIndex:C}}]}}}());w.push(function(){return{contexts:function(){return[{sc:"cv/ct/1-0-0",
dt:{data:la(la({},td),ud)}}]}}}());w.push(function(){return{contexts:function(){return[{sc:"spm/app/1-0-0",dt:{build:Ye,version:Ye}}]}}}());try{(null!==(Cd=null===h||void 0===h?void 0:h.plugins)&&void 0!==Cd?Cd:[]).forEach(function(e){e.contexts||w.push(e)})}catch(e){console.warn("ConvivaAppTracker : issue while processing customer passed pligins",e)}var Pa=bg({base64:H.base64,corePlugins:w,callback:function(e){Xe||Yd||jb.enqueueRequest(e.build(),ae)},linkClickTracking:H.linkClickTracking,buttonClickTracking:H.buttonClickTracking,
exceptionAutotracking:H.exceptionAutotracking,enablePeriodicHeartbeat:H.enablePeriodicHeartbeat,periodicHeartbeatInterval:H.periodicHeartbeatInterval,enc:H.enc,mend:H.mend,maxLocalStorageQueueSize:H.maxLocalStorageQueueSize,maxPostBytes:H.maxPostBytes,maxGetBytes:H.maxGetBytes,bufferSize:H.bufferSize,customEventTrackingConfiguration:H.customEventTrackingConfiguration,ajaxTrackingConfiguration:H.ajaxTrackingConfiguration,networkRequestTrackingConfiguration:H.networkRequestTrackingConfiguration,metaTagsTrackingConfiguration:H.metaTagsTrackingConfiguration,
performanceContextConfig:H.performanceContextConfig,lifecycleAutotracking:H.lifecycleAutotracking,configurationVersion:H.configurationVersion,catRcLastUpdatedTs:H.catRcLastUpdatedTs,cacheRefreshInterval:H.cacheRefreshInterval}),Bb=Ke(window.location.hostname,window.location.href,kd()),Le=Ge(Bb[0]),sb=Bb[1],jc=Bb[2],Qc,zg=null!==(Dd=h.platform)&&void 0!==Dd?Dd:"web",ae=rb(k,h.convivaCustomerKey),Ag=null!==(Ed=h.postPath)&&void 0!==Ed?Ed:"/ctp",Bg=null!==(Fd=h.appId)&&void 0!==Fd?Fd:"",yg=null!==(Gd=
h.convivaCustomerKey)&&void 0!==Gd?Gd:"",Ye=null!==(Hd=h.appVersion)&&void 0!==Hd?Hd:"",Sb,td={},ud={},ub="undefined"!==typeof document?document.title:void 0,Rb,tg=null!==(Id=h.resetActivityTrackingOnPageView)&&void 0!==Id?Id:!0,Me,Ne,Qb=null!==(Jd=h.cookieName)&&void 0!==Jd?Jd:"_sp_",kc=null!==(Kd=h.cookieDomain)&&void 0!==Kd?Kd:void 0,od="/",Nc=null!==(Ld=h.cookieSameSite)&&void 0!==Ld?Ld:"None",Oc=null!==(Md=h.cookieSecure)&&void 0!==Md?Md:!0,Ze=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,
Xe="undefined"!==typeof h.respectDoNotTrack?h.respectDoNotTrack&&("yes"===Ze||"1"===Ze):!1,Zd,Pe=null!==(Nd=h.cookieLifetime)&&void 0!==Nd?Nd:63072E3,Oe=null!==(Od=h.sessionCookieTimeout)&&void 0!==Od?Od:1800,Mc=Re(h),qd=Se(h),lc=!!h.anonymousTracking,ra=Qe(h),rd="Conviva",sd="sdkConfig",nc="eventIndex",mc,Pc,tb=-1,pd,$d=(new Date).getTime(),Ic,Jc,Kc,Lc,Cb,Hc,Db,$a=1,Eb,jb=pg(u,q,"localStorage"==ra||"cookieAndLocalStorage"==ra,h.eventMethod,Ag,function(){var e,m=Pa.getConfig();return null!==(e=m.bufferSize?
m.bufferSize:h.bufferSize)&&void 0!==e?e:1}(),function(){var e,m=Pa.getConfig();return null!==(e=m.maxPostBytes?m.maxPostBytes:h.maxPostBytes)&&void 0!==e?e:2E4},function(){var e,m=Pa.getConfig();return null!==(e=m.maxGetBytes?m.maxGetBytes:h.maxGetBytes)&&void 0!==e?e:0},null!==(Pd=h.useStm)&&void 0!==Pd?Pd:!0,function(){var e,m=Pa.getConfig();return null!==(e=m.maxLocalStorageQueueSize?m.maxLocalStorageQueueSize:h.maxLocalStorageQueueSize)&&void 0!==e?e:10},null!==(Qd=h.connectionTimeout)&&void 0!==
Qd?Qd:5E3,qd,null!==(Rd=h.customHeaders)&&void 0!==Rd?Rd:{},null!==(Sd=h.withCredentials)&&void 0!==Sd?Sd:!1,null!==(Td=h.retryStatusCodes)&&void 0!==Td?Td:[],(null!==(Ud=h.dontRetryStatusCodes)&&void 0!==Ud?Ud:[]).concat([400,401,403,410,422]),(null!==(Vd=h.dontRetryStatusCodesRange)&&void 0!==Vd?Vd:[]).concat([[400,499]]),function(){var e,m,r,z=Pa.getConfig();return null!==(r=(null===z||void 0===z?0:z.enc)?z.enc:null===(m=null===(e=null===h||void 0===h?void 0:h.configs)||void 0===e?void 0:e.network)||
void 0===m?void 0:m.encoding)&&void 0!==r?r:"gzip"}),Te=!1,vd=!1,Qa={enabled:!0,installed:!1,configurations:{pagePing:{configMinimumVisitLength:5E3,configHeartBeatTimer:1E3*H.periodicHeartbeatInterval,callback:Na}}},Ue=!1,Yd;h.hasOwnProperty("discoverRootDomain")&&h.discoverRootDomain&&(kc=lg(Nc,Oc));Pa.setTrackerVersion(v);Pa.setAppId(Bg);Pa.setPlatform(zg);K();ea();jb.setCustomHeaders({"x-client-id":""+mc});h.crossDomainLinker&&J(h.crossDomainLinker);return la(la({},{getDomainSessionIndex:function(){return $a},
getPageViewId:function(){return Ab()},newSession:function(){var e=ua();"0"===e[0]?(Db="none"!=ra?ic(e):e[6],$a=e[3],pa()):($a++,Db=ic(e,$a));md(e);"none"!=ra&&(oa(e),pa());$d=(new Date).getTime()},getCookieName:function(e){return Qb+e+"."+Cb},getUserId:function(){return Eb},getDomainUserId:function(){return ua()[1]},getDomainUserInfo:function(){return ua()},setReferrerUrl:function(e){Qc=e},setCustomUrl:function(e){y();var m=sb,r;aa(e)?Sb=e:"/"===e.slice(0,1)?Sb=aa(m)+"://"+jd(m)+e:(m=E(m),0<=(r=m.indexOf("?"))&&
(m=m.slice(0,r)),(r=m.lastIndexOf("/"))!==m.length-1&&(m=m.slice(0,r+1)),Sb=m+e)},setDocumentTitle:function(e){ub=document.title;Rb=e},discardHashTag:function(e){Me=e},discardBrace:function(e){Ne=e},setCookiePath:function(e){od=e;K()},setVisitorCookieTimeout:function(e){Pe=e},crossDomainLinker:function(e){J(e)},enableActivityTracking:function(e){Qa.configurations.pagePing||(Qa.enabled=!0,Qa.configurations.pagePing=ib(la(la({},e),{callback:Na})))},enableActivityTrackingCallback:function(e){Qa.configurations.callback||
(Qa.enabled=!0,Qa.configurations.callback=ib(e))},updatePageActivity:function(){L()},setOptOutCookie:function(e){Zd=e},setUserId:function(e){Eb=e},setUserIdFromLocation:function(e){y();Eb=ec(e,sb)},setUserIdFromReferrer:function(e){y();Eb=ec(e,jc)},setUserIdFromCookie:function(e){Eb=Ya(e)},setCollectorUrl:function(e,m){ae=rb(e,m);jb.setCollectorUrl(ae)},setBufferSize:function(e){jb.setBufferSize(e)},flushBuffer:function(e){void 0===e&&(e={});jb.executeQueue();e.newBufferSize&&jb.setBufferSize(e.newBufferSize)},
trackPageView:function(e){void 0===e&&(e={});Za();var m=this.core.getConfig();try{e=la(la({},e),{context:nd(null===m||void 0===m?void 0:m.performanceContextConfig).contexts()})}catch(r){console.warn("Conviva App Tracker:: error adding performacetiming context to page view",r)}ya(e)},trackVideoEvent:function(e){var m;void 0===e&&(e={});try{var r=this.core.getConfig();""!=e.name&&void 0!=e.name||console.warn("Conviva App Tracker:: Video event could not be tracked due to missing name property!!");var z=
null===(m=null===r||void 0===r?void 0:r.customEventTrackingConfiguration)||void 0===m?void 0:m.blocklist;(null===z||void 0===z?0:z.includes("*"))||(null===z||void 0===z?0:z.some(function(A){return 0<(null===A||void 0===A?void 0:A.length)&&e.name.toLowerCase().includes(A.toLowerCase())}))||this.core.track(eg({name:e.name,sid:e.sid,iid:e.iid,clid:e.clid,st:e.st,sst:e.sst,an:e.an,cl:e.cl,lv:e.lv,pn:e.pn,vid:e.vid,fw:e.fw,fwv:e.fwv,mn:e.mn,mv:e.mv,url:e.url,tags:e.tags,cen:e.cen,ced:e.ced,oldsc:e.old,
newsc:e["new"],err:e.err,br:e.br,ft:e.ft}),e.context,e.timestamp)}catch(A){console.warn("Conviva App Tracker:: Video event could not be tracked due to an exception!!",A)}},trackCustomEvent:function(e){var m,r,z;void 0===e&&(e={});try{var A=p.core.getConfig();if(null!==(r=null===(m=null===A||void 0===A?void 0:A.customEventTrackingConfiguration)||void 0===m?void 0:m.enabled)&&void 0!==r?r:qa.customEventTrackingConfiguration.enabled){""!=e.name&&void 0!=e.name||console.warn("Conviva App Tracker:: custom event name is mandatory for trackCustomEvent API!!");
var C=e.data;try{"string"!==typeof e.data&&(C=JSON.stringify(e.data))}catch(D){}var F=null===(z=null===A||void 0===A?void 0:A.customEventTrackingConfiguration)||void 0===z?void 0:z.blocklist;(null===F||void 0===F?0:F.includes("*"))||(null===F||void 0===F?0:F.some(function(D){return 0<(null===D||void 0===D?void 0:D.length)&&e.name.toLowerCase().includes(D.toLowerCase())}))||!e.name||""===e.name||p.core.track(dg({name:e.name,data:C}),e.context,e.timestamp)}}catch(D){console.warn("Conviva App Tracker:: Unable to track custom event! "+
D)}},trackAjaxEvent:function(e){void 0===e&&(e={});try{if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType){var m=this.core.getConfig();if(""==e.name||void 0==e.name)console.warn("Conviva App Tracker:: Ajax request could not be tracked due to missing URL property!!");else if(void 0!=m.ajaxTrackingConfiguration&&void 0!=m.ajaxTrackingConfiguration.blocklist&&0<m.ajaxTrackingConfiguration.blocklist.length){var r=m.ajaxTrackingConfiguration.blocklist;if(-1==r.indexOf("*")){m=!1;for(var z=
0;z<r.length;z++)""!==r[z]&&-1!==e.name.toLowerCase().indexOf(r[z].toLowerCase())&&(m=!0);if(!m){var A=this.core,C=A.track;var F=yb({event:{sc:"cv/nr/1-0-2",dt:Nb({targetUrl:e.name,responseStatusCode:e.responseStatus,duration:e.duration})}});C.call(A,F,e.context,e.timestamp)}}}}}catch(D){console.warn("Conviva App Tracker:: Ajax request could not be tracked due to an exception!!",D)}},trackNetworkRequest:function(e){var m,r,z,A,C,F,D,R,V,U,ca,ha,za,Ha,Ia,N,ka,Aa,Da,Ta,Ua;void 0===e&&(e={});try{var kb=
this.core.getConfig().networkRequestTrackingConfiguration,Va=e.responseDetails.responseTime-e.requestDetails.requestTime;try{Va=parseFloat(Va.toFixed(3))}catch(I){console.warn("Conviva App Tracker:: exception while converting duration to 3 decimal",I)}var ab=function(I){try{var G=void 0;"undefined"!=typeof I&&null!==I&&(G=I["content-type"]||I["Content-Type"]||I["Content-type"]);return G}catch(db){}},bb=function(I){try{var G=void 0;"undefined"!=typeof I&&null!==I&&(G=I["content-length"]||I["Content-Length"]||
I["Content-length"]);return"undefined"==typeof G||null===G||isNaN(G)?G:Number(G)}catch(db){}}(null===(z=null===e||void 0===e?void 0:e.responseDetails)||void 0===z?void 0:z.headers),Ea=ab(null===(A=null===e||void 0===e?void 0:e.requestDetails)||void 0===A?void 0:A.headers),Ja=ab(null===(C=null===e||void 0===e?void 0:e.responseDetails)||void 0===C?void 0:C.headers);try{var Ka=(m={targetUrl:null===(F=null===e||void 0===e?void 0:e.requestDetails)||void 0===F?void 0:F.url,method:null===(D=null===e||void 0===
e?void 0:e.requestDetails)||void 0===D?void 0:D.method,responseStatusCode:null===(R=null===e||void 0===e?void 0:e.responseDetails)||void 0===R?void 0:R.status},m[ta.request_headers]=null===(V=null===e||void 0===e?void 0:e.requestDetails)||void 0===V?void 0:V.headers,m[ta.response_headers]=null===(U=null===e||void 0===e?void 0:e.responseDetails)||void 0===U?void 0:U.headers,m.duration=Va,m);if("undefined"!==typeof Ea&&(Ea.toLowerCase().includes("text/plain")||Ea.toLowerCase().includes("json")||Ea.toLowerCase().includes("text/javascript")||
Ea.toLowerCase().includes("application/javascript"))||"undefined"===typeof Ea)if("string"===typeof(null===(ca=null===e||void 0===e?void 0:e.requestDetails)||void 0===ca?void 0:ca.body))try{1E4>=(null===(ha=null===e||void 0===e?void 0:e.requestDetails)||void 0===ha?void 0:ha.body.length)&&(Ka[ta.request_body]=JSON.parse(null===(za=null===e||void 0===e?void 0:e.requestDetails)||void 0===za?void 0:za.body))}catch(I){}else"object"===typeof(null===(Ha=null===e||void 0===e?void 0:e.requestDetails)||void 0===
Ha?void 0:Ha.body)&&(Ka[ta.request_body]=null===(Ia=null===e||void 0===e?void 0:e.requestDetails)||void 0===Ia?void 0:Ia.body);if("undefined"!==typeof Ja&&(Ja.toLowerCase().includes("text/plain")||Ja.toLowerCase().includes("json")||Ja.toLowerCase().includes("text/javascript")||Ja.toLowerCase().includes("application/javascript"))&&"undefined"!==typeof bb&&1E4>=bb)if("string"===typeof(null===(N=null===e||void 0===e?void 0:e.responseDetails)||void 0===N?void 0:N.body))try{Ka[ta.response_body]=JSON.parse(null===
(ka=null===e||void 0===e?void 0:e.responseDetails)||void 0===ka?void 0:ka.body)}catch(I){}else"object"===typeof(null===(Aa=null===e||void 0===e?void 0:e.responseDetails)||void 0===Aa?void 0:Aa.body)&&(Ka[ta.response_body]=null===(Da=null===e||void 0===e?void 0:e.responseDetails)||void 0===Da?void 0:Da.body);var ia=mg(Ka,kb.collectattr);if(null===(Ta=null===e||void 0===e?void 0:e.requestDetails)||void 0===Ta?0:Ta[X.TRACEPARENT_HEADER_KEY]){var cb=(r={},r[X.TRACEPARENT_HEADER_KEY]=null===(Ua=null===
e||void 0===e?void 0:e.requestDetails)||void 0===Ua?void 0:Ua[X.TRACEPARENT_HEADER_KEY],r);ia[ta.request_headers]=ia[ta.request_headers]?la(la({},ia[ta.request_headers]),cb):cb}this.core.track(yb({event:{sc:"cv/nr/1-0-4",dt:Nb({targetUrl:ia.targetUrl,method:ia.method,queryParameters:ia.queryParameters,responseStatusCode:ia.responseStatusCode,responseStatusText:ia.responseStatusText,rqh:ia.rqh,rsh:ia.rsh,rqb:ia.rqb,rsb:ia.rsb,requestSize:ia.requestSize,responseSize:ia.responseSize,duration:ia.duration,
contentType:ia.contentType,requestTimestamp:ia.requestTimestamp,responseTimestamp:ia.responseTimestamp})}}),e.context,e.timestamp)}catch(I){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",I)}}catch(I){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",I)}},setCustomTags:function(e){void 0===e&&(e={});O(e)},setMetaCustomTags:function(e){void 0===e&&(e={});fa(e)},unsetCustomTags:function(e){void 0===e&&(e={});
P(e)},preservePageViewId:function(){Te=!0},disableAnonymousTracking:function(e){h.anonymousTracking=!1;ba(e);ea();jb.executeQueue()},enableAnonymousTracking:function(e){var m;h.anonymousTracking=null!==(m=e&&(null===e||void 0===e?void 0:e.options))&&void 0!==m?m:!0;ba(e);Mc||gc()},clearUserData:W,setKeepAliveInBG:function(e){void 0===e&&(e=!1);Ue=e}}),{id:u,namespace:t,core:Pa,sharedState:q})}(a,c,b,d,f,g);var p=la(la({},a),{addPlugin:function(u){var t,v;p.core.addPlugin(u);null===(v=(t=u.plugin).activateBrowserPlugin)||
void 0===v?void 0:v.call(t,p)}});w.forEach(function(u){var t;null===(t=u.activateBrowserPlugin)||void 0===t?void 0:t.call(u,p)});return p}function Y(a,c){try{var b=null!==a&&void 0!==a?a:Object.keys(qc);a=qc;for(var d=[],f=0;f<b.length;f++){var g=b[f];a.hasOwnProperty(g)?d.push(a[g]):Ga.warn(g+" not configured")}d.forEach(c)}catch(l){Ga.error("Function failed",l)}}function $e(a,c,b,d,f,g){return qc.hasOwnProperty(a)?null:(qc[a]=rg(a,c,b,d,f,g),qc[a])}function Cg(){function a(){try{"hidden"==f.visibilityState&&
d.bufferFlushers.forEach(function(l){l(!1)})}catch(l){console.warn("Conviva App Tracker:: Error in visibilityChangeHandler of constructor ".concat(l))}}function c(){var l;if(!d.hasLoaded)for(d.hasLoaded=!0,l=0;l<d.registeredOnLoadHandlers.length;l++)d.registeredOnLoadHandlers[l]();return!0}function b(){f.addEventListener?f.addEventListener("DOMContentLoaded",function n(){f.removeEventListener("DOMContentLoaded",n,!1);c()}):f.attachEvent&&f.attachEvent("onreadystatechange",function w(){"complete"===
f.readyState&&(f.detachEvent("onreadystatechange",w),c())});qb(g,"load",c,!1)}var d=new Dg,f=document,g=window;f.visibilityState&&qb(f,"visibilitychange",a,!1);qb(g,"beforeunload",function(){try{d.bufferFlushers.forEach(function(l){l(!1)})}catch(l){console.warn("Conviva App Tracker:: Error in flushBuffers of constructor ".concat(l))}},!1);"loading"===document.readyState?b():c();return d}var la=function(){la=Object.assign||function(a){for(var c,b=1,d=arguments.length;b<d;b++){c=arguments[b];for(var f in c)Object.prototype.hasOwnProperty.call(c,
f)&&(a[f]=c[f])}return a};return la.apply(this,arguments)},Wc={},af="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(af){var bf=new Uint8Array(16);Wc=function(){af(bf);return bf}}else{var cf=Array(16);Wc=function(){for(var a=0,c;16>a;a++)0===(a&3)&&(c=4294967296*Math.random()),cf[a]=c>>>((a&3)<<3)&255;return cf}}for(var va=[],Xc=0;256>
Xc;++Xc)va[Xc]=(Xc+256).toString(16).substr(1);var df=function(a,c){c=c||0;return[va[a[c++]],va[a[c++]],va[a[c++]],va[a[c++]],"-",va[a[c++]],va[a[c++]],"-",va[a[c++]],va[a[c++]],"-",va[a[c++]],va[a[c++]],"-",va[a[c++]],va[a[c++]],va[a[c++]],va[a[c++]],va[a[c++]],va[a[c++]]].join("")},Eg=Wc,ef,be,ce=0,de=0,Fg=Wc,ee=function(a,c,b){b=c&&b||0;"string"==typeof a&&(c="binary"===a?Array(16):null,a=null);a=a||{};a=a.random||(a.rng||Fg)();a[6]=a[6]&15|64;a[8]=a[8]&63|128;if(c)for(var d=0;16>d;++d)c[b+d]=
a[d];return c||df(a)};ee.v1=function(a,c,b){b=c&&b||0;var d=c||[];a=a||{};var f=a.node||ef,g=void 0!==a.clockseq?a.clockseq:be;if(null==f||null==g){var l=Eg();null==f&&(f=ef=[l[0]|1,l[1],l[2],l[3],l[4],l[5]]);null==g&&(g=be=(l[6]<<8|l[7])&16383)}l=void 0!==a.msecs?a.msecs:(new Date).getTime();var n=void 0!==a.nsecs?a.nsecs:de+1,w=l-ce+(n-de)/1E4;0>w&&void 0===a.clockseq&&(g=g+1&16383);(0>w||l>ce)&&void 0===a.nsecs&&(n=0);if(1E4<=n)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");ce=
l;de=n;be=g;l+=122192928E5;a=(1E4*(l&268435455)+n)%4294967296;d[b++]=a>>>24&255;d[b++]=a>>>16&255;d[b++]=a>>>8&255;d[b++]=a&255;a=l/4294967296*1E4&268435455;d[b++]=a>>>8&255;d[b++]=a&255;d[b++]=a>>>24&15|16;d[b++]=a>>>16&255;d[b++]=g>>>8|128;d[b++]=g&255;for(g=0;6>g;++g)d[b+g]=f[g];return c?c:df(d)};var ob=ee.v4=ee,nb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",lb;(function(a){a[a.none=0]="none";a[a.error=1]="error";a[a.warn=2]="warn";a[a.debug=3]="debug";a[a.info=4]="info"})(lb||
(lb={}));var Ga=function(a){void 0===a&&(a=lb.warn);return{setLogLevel:function(c){a=lb[c]?c:lb.warn},warn:function(c,b){for(var d=[],f=2;f<arguments.length;f++)d[f-2]=arguments[f];a>=lb.warn&&"undefined"!==typeof console&&(f="Conviva: "+c,b?console.warn.apply(console,ja([f+"\n",b],d,!1)):console.warn.apply(console,ja([f],d,!1)))},error:function(c,b){for(var d=[],f=2;f<arguments.length;f++)d[f-2]=arguments[f];a>=lb.error&&"undefined"!==typeof console&&(f="Conviva: "+c+"\n",b?console.error.apply(console,
ja([f+"\n",b],d,!1)):console.error.apply(console,ja([f],d,!1)))},debug:function(c){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];a>=lb.debug&&"undefined"!==typeof console&&console.debug.apply(console,ja(["Conviva: "+c],b,!1))},info:function(c){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];a>=lb.info&&"undefined"!==typeof console&&console.info.apply(console,ja(["Conviva: "+c],b,!1))}}}(),ff;(function(a){a.response_body="rsb";a.request_body="rqb";a.response_headers="rsh";
a.request_headers="rqh"})(ff||(ff={}));var gf={},hf={};(function(){var a={rotl:function(c,b){return c<<b|c>>>32-b},rotr:function(c,b){return c<<32-b|c>>>b},endian:function(c){if(c.constructor==Number)return a.rotl(c,8)&16711935|a.rotl(c,24)&4278255360;for(var b=0;b<c.length;b++)c[b]=a.endian(c[b]);return c},randomBytes:function(c){for(var b=[];0<c;c--)b.push(Math.floor(256*Math.random()));return b},bytesToWords:function(c){for(var b=[],d=0,f=0;d<c.length;d++,f+=8)b[f>>>5]|=c[d]<<24-f%32;return b},
wordsToBytes:function(c){for(var b=[],d=0;d<32*c.length;d+=8)b.push(c[d>>>5]>>>24-d%32&255);return b},bytesToHex:function(c){for(var b=[],d=0;d<c.length;d++)b.push((c[d]>>>4).toString(16)),b.push((c[d]&15).toString(16));return b.join("")},hexToBytes:function(c){for(var b=[],d=0;d<c.length;d+=2)b.push(parseInt(c.substr(d,2),16));return b},bytesToBase64:function(c){for(var b=[],d=0;d<c.length;d+=3)for(var f=c[d]<<16|c[d+1]<<8|c[d+2],g=0;4>g;g++)8*d+6*g<=8*c.length?b.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f>>>
6*(3-g)&63)):b.push("=");return b.join("")},base64ToBytes:function(c){c=c.replace(/[^A-Z0-9+\/]/ig,"");for(var b=[],d=0,f=0;d<c.length;f=++d%4)0!=f&&b.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(c.charAt(d-1))&Math.pow(2,-2*f+8)-1)<<2*f|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(c.charAt(d))>>>6-2*f);return b}};hf=a})();var fe={utf8:{stringToBytes:function(a){return fe.bin.stringToBytes(unescape(encodeURIComponent(a)))},bytesToString:function(a){return decodeURIComponent(escape(fe.bin.bytesToString(a)))}},
bin:{stringToBytes:function(a){for(var c=[],b=0;b<a.length;b++)c.push(a.charCodeAt(b)&255);return c},bytesToString:function(a){for(var c=[],b=0;b<a.length;b++)c.push(String.fromCharCode(a[b]));return c.join("")}}},jf=fe;(function(){var a=hf,c=jf.utf8,b=jf.bin,d=function(f,g){var l=a.wordsToBytes,n=f;n.constructor==String?n=c.stringToBytes(n):"undefined"!==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(n)?n=Array.prototype.slice.call(n,0):Array.isArray(n)||(n=n.toString());f=a.bytesToWords(n);
var w=8*n.length;n=[];var p=1732584193,u=-271733879,t=-1732584194,v=271733878,k=-1009589776;f[w>>5]|=128<<24-w%32;f[(w+64>>>9<<4)+15]=w;for(w=0;w<f.length;w+=16){for(var q=p,h=u,y=t,x=v,J=k,E=0;80>E;E++){if(16>E)n[E]=f[w+E];else{var aa=n[E-3]^n[E-8]^n[E-14]^n[E-16];n[E]=aa<<1|aa>>>31}aa=(p<<5|p>>>27)+k+(n[E]>>>0)+(20>E?(u&t|~u&v)+1518500249:40>E?(u^t^v)+1859775393:60>E?(u&t|u&v|t&v)-1894007588:(u^t^v)-899497514);k=v;v=t;t=u<<30|u>>>2;u=p;p=aa}p+=q;u+=h;t+=y;v+=x;k+=J}l=l.call(a,[p,u,t,v,k]);return g&&
g.asBytes?l:g&&g.asString?b.bytesToString(l):a.bytesToHex(l)};d._blocksize=16;d._digestsize=20;gf=d})();var sg=gf;let ge=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Yc=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Gg=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),kf=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mb=Array(576);Ob(mb);let rc=Array(60);Ob(rc);let Hb=Array(512);Ob(Hb);let sc=Array(256);
Ob(sc);let he=Array(29);Ob(he);let Zc=Array(30);Ob(Zc);let lf,mf,nf,tc=(a,c)=>{a.pending_buf[a.pending++]=c&255;a.pending_buf[a.pending++]=c>>>8&255},Fa=(a,c,b)=>{a.bi_valid>16-b?(a.bi_buf|=c<<a.bi_valid&65535,tc(a,a.bi_buf),a.bi_buf=c>>16-a.bi_valid,a.bi_valid+=b-16):(a.bi_buf|=c<<a.bi_valid&65535,a.bi_valid+=b)},fb=(a,c,b)=>{Fa(a,b[2*c],b[2*c+1])},of=(a,c)=>{let b=0;do b|=a&1,a>>>=1,b<<=1;while(0<--c);return b>>>1},pf=(a,c,b)=>{const d=Array(16);var f=0;let g;for(g=1;15>=g;g++)f=f+b[g-1]<<1,d[g]=
f;for(b=0;b<=c;b++)f=a[2*b+1],0!==f&&(a[2*b]=of(d[f]++,f))},qf=a=>{let c;for(c=0;286>c;c++)a.dyn_ltree[2*c]=0;for(c=0;30>c;c++)a.dyn_dtree[2*c]=0;for(c=0;19>c;c++)a.bl_tree[2*c]=0;a.dyn_ltree[512]=1;a.opt_len=a.static_len=0;a.sym_next=a.matches=0},rf=a=>{8<a.bi_valid?tc(a,a.bi_buf):0<a.bi_valid&&(a.pending_buf[a.pending++]=a.bi_buf);a.bi_buf=0;a.bi_valid=0},sf=(a,c,b,d)=>{const f=2*c,g=2*b;return a[f]<a[g]||a[f]===a[g]&&d[c]<=d[b]},ie=(a,c,b)=>{const d=a.heap[b];let f=b<<1;for(;f<=a.heap_len;){f<
a.heap_len&&sf(c,a.heap[f+1],a.heap[f],a.depth)&&f++;if(sf(c,d,a.heap[f],a.depth))break;a.heap[b]=a.heap[f];b=f;f<<=1}a.heap[b]=d},tf=(a,c,b)=>{let d,f,g=0,l,n;if(0!==a.sym_next){do d=a.pending_buf[a.sym_buf+g++]&255,d+=(a.pending_buf[a.sym_buf+g++]&255)<<8,f=a.pending_buf[a.sym_buf+g++],0===d?fb(a,f,c):(l=sc[f],fb(a,l+256+1,c),n=ge[l],0!==n&&(f-=he[l],Fa(a,f,n)),d--,l=256>d?Hb[d]:Hb[256+(d>>>7)],fb(a,l,b),n=Yc[l],0!==n&&(d-=Zc[l],Fa(a,d,n)));while(g<a.sym_next)}fb(a,256,c)},je=(a,c)=>{const b=c.dyn_tree;
var d=c.stat_desc.static_tree,f=c.stat_desc.has_stree,g=c.stat_desc.elems,l;let n=-1;a.heap_len=0;a.heap_max=573;for(l=0;l<g;l++)0!==b[2*l]?(a.heap[++a.heap_len]=n=l,a.depth[l]=0):b[2*l+1]=0;for(;2>a.heap_len;){var w=a.heap[++a.heap_len]=2>n?++n:0;b[2*w]=1;a.depth[w]=0;a.opt_len--;f&&(a.static_len-=d[2*w+1])}c.max_code=n;for(l=a.heap_len>>1;1<=l;l--)ie(a,b,l);w=g;do l=a.heap[1],a.heap[1]=a.heap[a.heap_len--],ie(a,b,1),d=a.heap[1],a.heap[--a.heap_max]=l,a.heap[--a.heap_max]=d,b[2*w]=b[2*l]+b[2*d],
a.depth[w]=(a.depth[l]>=a.depth[d]?a.depth[l]:a.depth[d])+1,b[2*l+1]=b[2*d+1]=w,a.heap[1]=w++,ie(a,b,1);while(2<=a.heap_len);a.heap[--a.heap_max]=a.heap[1];{l=c.dyn_tree;w=c.max_code;d=c.stat_desc.static_tree;f=c.stat_desc.has_stree;g=c.stat_desc.extra_bits;const p=c.stat_desc.extra_base,u=c.stat_desc.max_length;let t,v,k,q,h=0;for(v=0;15>=v;v++)a.bl_count[v]=0;l[2*a.heap[a.heap_max]+1]=0;for(c=a.heap_max+1;573>c;c++)t=a.heap[c],v=l[2*l[2*t+1]+1]+1,v>u&&(v=u,h++),l[2*t+1]=v,t>w||(a.bl_count[v]++,
k=0,t>=p&&(k=g[t-p]),q=l[2*t],a.opt_len+=q*(v+k),f&&(a.static_len+=q*(d[2*t+1]+k)));if(0!==h){do{for(v=u-1;0===a.bl_count[v];)v--;a.bl_count[v]--;a.bl_count[v+1]+=2;a.bl_count[u]--;h-=2}while(0<h);for(v=u;0!==v;v--)for(t=a.bl_count[v];0!==t;)d=a.heap[--c],d>w||(l[2*d+1]!==v&&(a.opt_len+=(v-l[2*d+1])*l[2*d],l[2*d+1]=v),t--)}}pf(b,n,a.bl_count)},uf=(a,c,b)=>{let d,f=-1,g,l=c[1],n=0,w=7,p=4;0===l&&(w=138,p=3);c[2*(b+1)+1]=65535;for(d=0;d<=b;d++)g=l,l=c[2*(d+1)+1],++n<w&&g===l||(n<p?a.bl_tree[2*g]+=n:
0!==g?(g!==f&&a.bl_tree[2*g]++,a.bl_tree[32]++):10>=n?a.bl_tree[34]++:a.bl_tree[36]++,n=0,f=g,0===l?(w=138,p=3):g===l?(w=6,p=3):(w=7,p=4))},vf=(a,c,b)=>{let d,f=-1,g,l=c[1],n=0,w=7,p=4;0===l&&(w=138,p=3);for(d=0;d<=b;d++)if(g=l,l=c[2*(d+1)+1],!(++n<w&&g===l)){if(n<p){do fb(a,g,a.bl_tree);while(0!==--n)}else 0!==g?(g!==f&&(fb(a,g,a.bl_tree),n--),fb(a,16,a.bl_tree),Fa(a,n-3,2)):10>=n?(fb(a,17,a.bl_tree),Fa(a,n-3,3)):(fb(a,18,a.bl_tree),Fa(a,n-11,7));n=0;f=g;0===l?(w=138,p=3):g===l?(w=6,p=3):(w=7,p=
4)}},Hg=a=>{let c=4093624447,b;for(b=0;31>=b;b++,c>>>=1)if(c&1&&0!==a.dyn_ltree[2*b])return 0;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return 1;for(b=32;256>b;b++)if(0!==a.dyn_ltree[2*b])return 1;return 0},wf=!1,xf=(a,c,b,d)=>{Fa(a,d?1:0,3);rf(a);tc(a,b);tc(a,~b);b&&a.pending_buf.set(a.window.subarray(c,c+b),a.pending);a.pending+=b};var Ig={_tr_init:a=>{if(!wf){var c,b;let d;const f=Array(16);for(d=b=0;28>d;d++)for(he[d]=b,c=0;c<1<<ge[d];c++)sc[b++]=d;sc[b-1]=d;for(d=b=0;16>
d;d++)for(Zc[d]=b,c=0;c<1<<Yc[d];c++)Hb[b++]=d;for(b>>=7;30>d;d++)for(Zc[d]=b<<7,c=0;c<1<<Yc[d]-7;c++)Hb[256+b++]=d;for(c=0;15>=c;c++)f[c]=0;for(c=0;143>=c;)mb[2*c+1]=8,c++,f[8]++;for(;255>=c;)mb[2*c+1]=9,c++,f[9]++;for(;279>=c;)mb[2*c+1]=7,c++,f[7]++;for(;287>=c;)mb[2*c+1]=8,c++,f[8]++;pf(mb,287,f);for(c=0;30>c;c++)rc[2*c+1]=5,rc[2*c]=of(c,5);lf=new ed(mb,ge,257,286,15);mf=new ed(rc,Yc,0,30,15);nf=new ed([],Gg,0,19,7);wf=!0}a.l_desc=new fd(a.dyn_ltree,lf);a.d_desc=new fd(a.dyn_dtree,mf);a.bl_desc=
new fd(a.bl_tree,nf);a.bi_buf=0;a.bi_valid=0;qf(a)},_tr_stored_block:xf,_tr_flush_block:(a,c,b,d)=>{let f;var g=0;if(0<a.level){2===a.strm.data_type&&(a.strm.data_type=Hg(a));je(a,a.l_desc);je(a,a.d_desc);uf(a,a.dyn_ltree,a.l_desc.max_code);uf(a,a.dyn_dtree,a.d_desc.max_code);je(a,a.bl_desc);for(g=18;3<=g&&0===a.bl_tree[2*kf[g]+1];g--);a.opt_len+=3*(g+1)+14;var l=a.opt_len+3+7>>>3;f=a.static_len+3+7>>>3;f<=l&&(l=f)}else l=f=b+5;if(b+4<=l&&-1!==c)xf(a,c,b,d);else if(4===a.strategy||f===l)Fa(a,2+(d?
1:0),3),tf(a,mb,rc);else{Fa(a,4+(d?1:0),3);c=a.l_desc.max_code+1;b=a.d_desc.max_code+1;g+=1;Fa(a,c-257,5);Fa(a,b-1,5);Fa(a,g-4,4);for(l=0;l<g;l++)Fa(a,a.bl_tree[2*kf[l]+1],3);vf(a,a.dyn_ltree,c-1);vf(a,a.dyn_dtree,b-1);tf(a,a.dyn_ltree,a.dyn_dtree)}qf(a);d&&rf(a)},_tr_tally:(a,c,b)=>{a.pending_buf[a.sym_buf+a.sym_next++]=c;a.pending_buf[a.sym_buf+a.sym_next++]=c>>8;a.pending_buf[a.sym_buf+a.sym_next++]=b;0===c?a.dyn_ltree[2*b]++:(a.matches++,c--,a.dyn_ltree[2*(sc[b]+256+1)]++,a.dyn_dtree[2*(256>c?
Hb[c]:Hb[256+(c>>>7)])]++);return a.sym_next===a.sym_end},_tr_align:a=>{Fa(a,2,3);fb(a,256,mb);16===a.bi_valid?(tc(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):8<=a.bi_valid&&(a.pending_buf[a.pending++]=a.bi_buf&255,a.bi_buf>>=8,a.bi_valid-=8)}},uc=(a,c,b,d)=>{let f=a&65535|0;a=a>>>16&65535|0;let g;for(;0!==b;){g=2E3<b?2E3:b;b-=g;do f=f+c[d++]|0,a=a+f|0;while(--g);f%=65521;a%=65521}return f|a<<16|0};let Jg=new Uint32Array((()=>{let a,c=[];for(var b=0;256>b;b++){a=b;for(var d=0;8>d;d++)a=a&1?3988292384^a>>>
1:a>>>1;c[b]=a}return c})());var sa=(a,c,b,d)=>{b=d+b;for(a^=-1;d<b;d++)a=a>>>8^Jg[(a^c[d])&255];return a^-1},zb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ib={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,
Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let {_tr_init:Kg,_tr_stored_block:ke,_tr_flush_block:Lg,_tr_tally:wb,_tr_align:Mg}=Ig,{Z_NO_FLUSH:xb,Z_PARTIAL_FLUSH:Ng,Z_FULL_FLUSH:Og,Z_FINISH:Ra,Z_BLOCK:yf,Z_OK:wa,Z_STREAM_END:zf,Z_STREAM_ERROR:gb,Z_DATA_ERROR:Pg,Z_BUF_ERROR:le,Z_DEFAULT_COMPRESSION:Qg,Z_FILTERED:Rg,Z_HUFFMAN_ONLY:$c,Z_RLE:Sg,Z_FIXED:Tg,Z_DEFAULT_STRATEGY:Ug,
Z_UNKNOWN:Vg,Z_DEFLATED:Dc}=Ib,Jb=(a,c)=>{a.msg=zb[c];return c},pb=a=>{let c=a.length;for(;0<=--c;)a[c]=0},La=a=>{const c=a.state;let b=c.pending;b>a.avail_out&&(b=a.avail_out);0!==b&&(a.output.set(c.pending_buf.subarray(c.pending_out,c.pending_out+b),a.next_out),a.next_out+=b,c.pending_out+=b,a.total_out+=b,a.avail_out-=b,c.pending-=b,0===c.pending&&(c.pending_out=0))},Ma=(a,c)=>{Lg(a,0<=a.block_start?a.block_start:-1,a.strstart-a.block_start,c);a.block_start=a.strstart;La(a.strm)},vc=(a,c)=>{a.pending_buf[a.pending++]=
c>>>8&255;a.pending_buf[a.pending++]=c&255},me=(a,c,b,d)=>{let f=a.avail_in;f>d&&(f=d);if(0===f)return 0;a.avail_in-=f;c.set(a.input.subarray(a.next_in,a.next_in+f),b);1===a.state.wrap?a.adler=uc(a.adler,c,f,b):2===a.state.wrap&&(a.adler=sa(a.adler,c,f,b));a.next_in+=f;a.total_in+=f;return f},Af=(a,c)=>{let b=a.max_chain_length,d=a.strstart;let f=a.prev_length,g=a.nice_match;const l=a.strstart>a.w_size-262?a.strstart-(a.w_size-262):0,n=a.window,w=a.w_mask,p=a.prev,u=a.strstart+258;let t=n[d+f-1],
v=n[d+f];a.prev_length>=a.good_match&&(b>>=2);g>a.lookahead&&(g=a.lookahead);do{var k=c;if(n[k+f]===v&&n[k+f-1]===t&&n[k]===n[d]&&n[++k]===n[d+1]){d+=2;for(k++;n[++d]===n[++k]&&n[++d]===n[++k]&&n[++d]===n[++k]&&n[++d]===n[++k]&&n[++d]===n[++k]&&n[++d]===n[++k]&&n[++d]===n[++k]&&n[++d]===n[++k]&&d<u;);k=258-(u-d);d=u-258;if(k>f){a.match_start=c;f=k;if(k>=g)break;t=n[d+f-1];v=n[d+f]}}}while((c=p[c&w])>l&&0!==--b);return f<=a.lookahead?f:a.lookahead},Xb=a=>{const c=a.w_size;do{var b=a.window_size-a.lookahead-
a.strstart;if(a.strstart>=c+(c-262)){a.window.set(a.window.subarray(c,c+c-b),0);a.match_start-=c;a.strstart-=c;a.block_start-=c;a.insert>a.strstart&&(a.insert=a.strstart);let f,g,l;var d=a;let n=d.w_size;f=l=d.hash_size;do g=d.head[--f],d.head[f]=g>=n?g-n:0;while(--l);f=l=n;do g=d.prev[--f],d.prev[f]=g>=n?g-n:0;while(--l);b+=c}if(0===a.strm.avail_in)break;b=me(a.strm,a.window,a.strstart+a.lookahead,b);a.lookahead+=b;if(3<=a.lookahead+a.insert)for(b=a.strstart-a.insert,a.ins_h=a.window[b],a.ins_h=
(a.ins_h<<a.hash_shift^a.window[b+1])&a.hash_mask;a.insert&&!(a.ins_h=(a.ins_h<<a.hash_shift^a.window[b+3-1])&a.hash_mask,a.prev[b&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=b,b++,a.insert--,3>a.lookahead+a.insert););}while(262>a.lookahead&&0!==a.strm.avail_in)},Bf=(a,c)=>{let b=a.pending_buf_size-5>a.w_size?a.w_size:a.pending_buf_size-5,d,f,g,l=0,n=a.strm.avail_in;do{d=65535;g=a.bi_valid+42>>3;if(a.strm.avail_out<g)break;g=a.strm.avail_out-g;f=a.strstart-a.block_start;d>f+a.strm.avail_in&&(d=f+a.strm.avail_in);
d>g&&(d=g);if(d<b&&(0===d&&c!==Ra||c===xb||d!==f+a.strm.avail_in))break;l=c===Ra&&d===f+a.strm.avail_in?1:0;ke(a,0,0,l);a.pending_buf[a.pending-4]=d;a.pending_buf[a.pending-3]=d>>8;a.pending_buf[a.pending-2]=~d;a.pending_buf[a.pending-1]=~d>>8;La(a.strm);f&&(f>d&&(f=d),a.strm.output.set(a.window.subarray(a.block_start,a.block_start+f),a.strm.next_out),a.strm.next_out+=f,a.strm.avail_out-=f,a.strm.total_out+=f,a.block_start+=f,d-=f);d&&(me(a.strm,a.strm.output,a.strm.next_out,d),a.strm.next_out+=d,
a.strm.avail_out-=d,a.strm.total_out+=d)}while(0===l);if(n-=a.strm.avail_in)n>=a.w_size?(a.matches=2,a.window.set(a.strm.input.subarray(a.strm.next_in-a.w_size,a.strm.next_in),0),a.strstart=a.w_size,a.insert=a.strstart):(a.window_size-a.strstart<=n&&(a.strstart-=a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+a.strstart),0),2>a.matches&&a.matches++,a.insert>a.strstart&&(a.insert=a.strstart)),a.window.set(a.strm.input.subarray(a.strm.next_in-n,a.strm.next_in),a.strstart),a.strstart+=n,a.insert+=
n>a.w_size-a.insert?a.w_size-a.insert:n),a.block_start=a.strstart;a.high_water<a.strstart&&(a.high_water=a.strstart);if(l)return 4;if(c!==xb&&c!==Ra&&0===a.strm.avail_in&&a.strstart===a.block_start)return 2;g=a.window_size-a.strstart;a.strm.avail_in>g&&a.block_start>=a.w_size&&(a.block_start-=a.w_size,a.strstart-=a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+a.strstart),0),2>a.matches&&a.matches++,g+=a.w_size,a.insert>a.strstart&&(a.insert=a.strstart));g>a.strm.avail_in&&(g=a.strm.avail_in);
g&&(me(a.strm,a.window,a.strstart,g),a.strstart+=g,a.insert+=g>a.w_size-a.insert?a.w_size-a.insert:g);a.high_water<a.strstart&&(a.high_water=a.strstart);g=a.bi_valid+42>>3;g=65535<a.pending_buf_size-g?65535:a.pending_buf_size-g;b=g>a.w_size?a.w_size:g;f=a.strstart-a.block_start;if(f>=b||(f||c===Ra)&&c!==xb&&0===a.strm.avail_in&&f<=g)d=f>g?g:f,l=c===Ra&&0===a.strm.avail_in&&d===f?1:0,ke(a,a.block_start,d,l),a.block_start+=d,La(a.strm);return l?3:1},ne=(a,c)=>{for(var b;;){if(262>a.lookahead){Xb(a);
if(262>a.lookahead&&c===xb)return 1;if(0===a.lookahead)break}b=0;3<=a.lookahead&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,b=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);0!==b&&a.strstart-b<=a.w_size-262&&(a.match_length=Af(a,b));if(3<=a.match_length)if(b=wb(a,a.strstart-a.match_start,a.match_length-3),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&3<=a.lookahead){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^
a.window[a.strstart+3-1])&a.hash_mask,a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!==--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else b=wb(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(b&&(Ma(a,!1),0===a.strm.avail_out))return 1}a.insert=2>a.strstart?a.strstart:2;return c===Ra?(Ma(a,!0),0===a.strm.avail_out?3:4):a.sym_next&&
(Ma(a,!1),0===a.strm.avail_out)?1:2},Yb=(a,c)=>{let b;for(;;){if(262>a.lookahead){Xb(a);if(262>a.lookahead&&c===xb)return 1;if(0===a.lookahead)break}var d=0;3<=a.lookahead&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,d=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);a.prev_length=a.match_length;a.prev_match=a.match_start;a.match_length=2;0!==d&&a.prev_length<a.max_lazy_match&&a.strstart-d<=a.w_size-262&&(a.match_length=Af(a,d),5>=a.match_length&&(a.strategy===
Rg||3===a.match_length&&4096<a.strstart-a.match_start)&&(a.match_length=2));if(3<=a.prev_length&&a.match_length<=a.prev_length){b=a.strstart+a.lookahead-3;d=wb(a,a.strstart-1-a.prev_match,a.prev_length-3);a.lookahead-=a.prev_length-1;a.prev_length-=2;do++a.strstart<=b&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!==--a.prev_length);a.match_available=0;a.match_length=2;a.strstart++;if(d&&(Ma(a,
!1),0===a.strm.avail_out))return 1}else if(a.match_available){if((d=wb(a,0,a.window[a.strstart-1]))&&Ma(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return 1}else a.match_available=1,a.strstart++,a.lookahead--}a.match_available&&(wb(a,0,a.window[a.strstart-1]),a.match_available=0);a.insert=2>a.strstart?a.strstart:2;return c===Ra?(Ma(a,!0),0===a.strm.avail_out?3:4):a.sym_next&&(Ma(a,!1),0===a.strm.avail_out)?1:2},Wg=(a,c)=>{let b,d;const f=a.window;for(;;){if(258>=a.lookahead){Xb(a);if(258>=
a.lookahead&&c===xb)return 1;if(0===a.lookahead)break}a.match_length=0;if(3<=a.lookahead&&0<a.strstart){b=a.strstart-1;var g=f[b];if(g===f[++b]&&g===f[++b]&&g===f[++b]){for(d=a.strstart+258;g===f[++b]&&g===f[++b]&&g===f[++b]&&g===f[++b]&&g===f[++b]&&g===f[++b]&&g===f[++b]&&g===f[++b]&&b<d;);a.match_length=258-(d-b);a.match_length>a.lookahead&&(a.match_length=a.lookahead)}}3<=a.match_length?(g=wb(a,1,a.match_length-3),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(g=wb(a,
0,a.window[a.strstart]),a.lookahead--,a.strstart++);if(g&&(Ma(a,!1),0===a.strm.avail_out))return 1}a.insert=0;return c===Ra?(Ma(a,!0),0===a.strm.avail_out?3:4):a.sym_next&&(Ma(a,!1),0===a.strm.avail_out)?1:2},Xg=(a,c)=>{let b;for(;;){if(0===a.lookahead&&(Xb(a),0===a.lookahead)){if(c===xb)return 1;break}a.match_length=0;b=wb(a,0,a.window[a.strstart]);a.lookahead--;a.strstart++;if(b&&(Ma(a,!1),0===a.strm.avail_out))return 1}a.insert=0;return c===Ra?(Ma(a,!0),0===a.strm.avail_out?3:4):a.sym_next&&(Ma(a,
!1),0===a.strm.avail_out)?1:2},wc=[new Xa(0,0,0,0,Bf),new Xa(4,4,8,4,ne),new Xa(4,5,16,8,ne),new Xa(4,6,32,32,ne),new Xa(4,4,16,16,Yb),new Xa(8,16,32,32,Yb),new Xa(8,16,128,128,Yb),new Xa(8,32,128,256,Yb),new Xa(32,128,258,1024,Yb),new Xa(32,258,258,4096,Yb)],xc=a=>{if(!a)return 1;const c=a.state;return!c||c.strm!==a||42!==c.status&&57!==c.status&&69!==c.status&&73!==c.status&&91!==c.status&&103!==c.status&&113!==c.status&&666!==c.status?1:0},Cf=a=>{if(xc(a))return Jb(a,gb);a.total_in=a.total_out=
0;a.data_type=Vg;const c=a.state;c.pending=0;c.pending_out=0;0>c.wrap&&(c.wrap=-c.wrap);c.status=2===c.wrap?57:c.wrap?42:113;a.adler=2===c.wrap?0:1;c.last_flush=-2;Kg(c);return wa},Df=a=>{const c=Cf(a);c===wa&&(a=a.state,a.window_size=2*a.w_size,pb(a.head),a.max_lazy_match=wc[a.level].max_lazy,a.good_match=wc[a.level].good_length,a.nice_match=wc[a.level].nice_length,a.max_chain_length=wc[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=2,a.match_available=
0,a.ins_h=0);return c},Ef=(a,c,b,d,f,g)=>{if(!a)return gb;let l=1;c===Qg&&(c=6);0>d?(l=0,d=-d):15<d&&(l=2,d-=16);if(1>f||9<f||b!==Dc||8>d||15<d||0>c||9<c||0>g||g>Tg||8===d&&1!==l)return Jb(a,gb);8===d&&(d=9);const n=new fg;a.state=n;n.strm=a;n.status=42;n.wrap=l;n.gzhead=null;n.w_bits=d;n.w_size=1<<n.w_bits;n.w_mask=n.w_size-1;n.hash_bits=f+7;n.hash_size=1<<n.hash_bits;n.hash_mask=n.hash_size-1;n.hash_shift=~~((n.hash_bits+3-1)/3);n.window=new Uint8Array(2*n.w_size);n.head=new Uint16Array(n.hash_size);
n.prev=new Uint16Array(n.w_size);n.lit_bufsize=1<<f+6;n.pending_buf_size=4*n.lit_bufsize;n.pending_buf=new Uint8Array(n.pending_buf_size);n.sym_buf=n.lit_bufsize;n.sym_end=3*(n.lit_bufsize-1);n.level=c;n.strategy=g;n.method=b;return Df(a)};var ac={deflateInit:(a,c)=>Ef(a,c,Dc,15,8,Ug),deflateInit2:Ef,deflateReset:Df,deflateResetKeep:Cf,deflateSetHeader:(a,c)=>{if(xc(a)||2!==a.state.wrap)return gb;a.state.gzhead=c;return wa},deflate:(a,c)=>{if(xc(a)||c>yf||0>c)return a?Jb(a,gb):gb;const b=a.state;
if(!a.output||0!==a.avail_in&&!a.input||666===b.status&&c!==Ra)return Jb(a,0===a.avail_out?le:gb);var d=b.last_flush;b.last_flush=c;if(0!==b.pending){if(La(a),0===a.avail_out)return b.last_flush=-1,wa}else if(0===a.avail_in&&2*c-(4<c?9:0)<=2*d-(4<d?9:0)&&c!==Ra)return Jb(a,le);if(666===b.status&&0!==a.avail_in)return Jb(a,le);42===b.status&&0===b.wrap&&(b.status=113);if(42===b.status&&(d=Dc+(b.w_bits-8<<4)<<8,d|=(b.strategy>=$c||2>b.level?0:6>b.level?1:6===b.level?2:3)<<6,0!==b.strstart&&(d|=32),
d+=31-d%31,vc(b,d),0!==b.strstart&&(vc(b,a.adler>>>16),vc(b,a.adler&65535)),a.adler=1,b.status=113,La(a),0!==b.pending))return b.last_flush=-1,wa;if(57===b.status)if(a.adler=0,b.pending_buf[b.pending++]=31,b.pending_buf[b.pending++]=139,b.pending_buf[b.pending++]=8,b.gzhead)d=(b.gzhead.text?1:0)+(b.gzhead.hcrc?2:0)+(b.gzhead.extra?4:0)+(b.gzhead.name?8:0)+(b.gzhead.comment?16:0),b.pending_buf[b.pending++]=d,d=b.gzhead.time&255,b.pending_buf[b.pending++]=d,d=b.gzhead.time>>8&255,b.pending_buf[b.pending++]=
d,d=b.gzhead.time>>16&255,b.pending_buf[b.pending++]=d,d=b.gzhead.time>>24&255,b.pending_buf[b.pending++]=d,d=9===b.level?2:b.strategy>=$c||2>b.level?4:0,b.pending_buf[b.pending++]=d,d=b.gzhead.os&255,b.pending_buf[b.pending++]=d,b.gzhead.extra&&b.gzhead.extra.length&&(d=b.gzhead.extra.length&255,b.pending_buf[b.pending++]=d,d=b.gzhead.extra.length>>8&255,b.pending_buf[b.pending++]=d),b.gzhead.hcrc&&(a.adler=sa(a.adler,b.pending_buf,b.pending,0)),b.gzindex=0,b.status=69;else if(b.pending_buf[b.pending++]=
0,b.pending_buf[b.pending++]=0,b.pending_buf[b.pending++]=0,b.pending_buf[b.pending++]=0,b.pending_buf[b.pending++]=0,d=9===b.level?2:b.strategy>=$c||2>b.level?4:0,b.pending_buf[b.pending++]=d,b.pending_buf[b.pending++]=3,b.status=113,La(a),0!==b.pending)return b.last_flush=-1,wa;if(69===b.status){if(b.gzhead.extra){d=b.pending;for(var f=(b.gzhead.extra.length&65535)-b.gzindex;b.pending+f>b.pending_buf_size;){var g=b.pending_buf_size-b.pending;b.pending_buf.set(b.gzhead.extra.subarray(b.gzindex,b.gzindex+
g),b.pending);b.pending=b.pending_buf_size;b.gzhead.hcrc&&b.pending>d&&(a.adler=sa(a.adler,b.pending_buf,b.pending-d,d));b.gzindex+=g;La(a);if(0!==b.pending)return b.last_flush=-1,wa;d=0;f-=g}g=new Uint8Array(b.gzhead.extra);b.pending_buf.set(g.subarray(b.gzindex,b.gzindex+f),b.pending);b.pending+=f;b.gzhead.hcrc&&b.pending>d&&(a.adler=sa(a.adler,b.pending_buf,b.pending-d,d));b.gzindex=0}b.status=73}if(73===b.status){if(b.gzhead.name){f=b.pending;do{if(b.pending===b.pending_buf_size){b.gzhead.hcrc&&
b.pending>f&&(a.adler=sa(a.adler,b.pending_buf,b.pending-f,f));La(a);if(0!==b.pending)return b.last_flush=-1,wa;f=0}d=g=b.gzindex<b.gzhead.name.length?b.gzhead.name.charCodeAt(b.gzindex++)&255:0;b.pending_buf[b.pending++]=d}while(0!==g);b.gzhead.hcrc&&b.pending>f&&(a.adler=sa(a.adler,b.pending_buf,b.pending-f,f));b.gzindex=0}b.status=91}if(91===b.status){if(b.gzhead.comment){f=b.pending;do{if(b.pending===b.pending_buf_size){b.gzhead.hcrc&&b.pending>f&&(a.adler=sa(a.adler,b.pending_buf,b.pending-f,
f));La(a);if(0!==b.pending)return b.last_flush=-1,wa;f=0}d=g=b.gzindex<b.gzhead.comment.length?b.gzhead.comment.charCodeAt(b.gzindex++)&255:0;b.pending_buf[b.pending++]=d}while(0!==g);b.gzhead.hcrc&&b.pending>f&&(a.adler=sa(a.adler,b.pending_buf,b.pending-f,f))}b.status=103}if(103===b.status){if(b.gzhead.hcrc){if(b.pending+2>b.pending_buf_size&&(La(a),0!==b.pending))return b.last_flush=-1,wa;d=a.adler&255;b.pending_buf[b.pending++]=d;d=a.adler>>8&255;b.pending_buf[b.pending++]=d;a.adler=0}b.status=
113;La(a);if(0!==b.pending)return b.last_flush=-1,wa}if(0!==a.avail_in||0!==b.lookahead||c!==xb&&666!==b.status){d=0===b.level?Bf(b,c):b.strategy===$c?Xg(b,c):b.strategy===Sg?Wg(b,c):wc[b.level].func(b,c);if(3===d||4===d)b.status=666;if(1===d||3===d)return 0===a.avail_out&&(b.last_flush=-1),wa;if(2===d&&(c===Ng?Mg(b):c!==yf&&(ke(b,0,0,!1),c===Og&&(pb(b.head),0===b.lookahead&&(b.strstart=0,b.block_start=0,b.insert=0))),La(a),0===a.avail_out))return b.last_flush=-1,wa}if(c!==Ra)return wa;if(0>=b.wrap)return zf;
2===b.wrap?(c=a.adler&255,b.pending_buf[b.pending++]=c,c=a.adler>>8&255,b.pending_buf[b.pending++]=c,c=a.adler>>16&255,b.pending_buf[b.pending++]=c,c=a.adler>>24&255,b.pending_buf[b.pending++]=c,c=a.total_in&255,b.pending_buf[b.pending++]=c,c=a.total_in>>8&255,b.pending_buf[b.pending++]=c,c=a.total_in>>16&255,b.pending_buf[b.pending++]=c,c=a.total_in>>24&255,b.pending_buf[b.pending++]=c):(vc(b,a.adler>>>16),vc(b,a.adler&65535));La(a);0<b.wrap&&(b.wrap=-b.wrap);return 0!==b.pending?wa:zf},deflateEnd:a=>
{if(xc(a))return gb;const c=a.state.status;a.state=null;return 113===c?Jb(a,Pg):wa},deflateSetDictionary:(a,c)=>{var b=c.length;if(xc(a))return gb;const d=a.state,f=d.wrap;if(2===f||1===f&&42!==d.status||d.lookahead)return gb;1===f&&(a.adler=uc(a.adler,c,b,0));d.wrap=0;if(b>=d.w_size){0===f&&(pb(d.head),d.strstart=0,d.block_start=0,d.insert=0);var g=new Uint8Array(d.w_size);g.set(c.subarray(b-d.w_size,b),0);c=g;b=d.w_size}g=a.avail_in;const l=a.next_in,n=a.input;a.avail_in=b;a.next_in=0;a.input=c;
for(Xb(d);3<=d.lookahead;){c=d.strstart;b=d.lookahead-2;do d.ins_h=(d.ins_h<<d.hash_shift^d.window[c+3-1])&d.hash_mask,d.prev[c&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=c,c++;while(--b);d.strstart=c;d.lookahead=2;Xb(d)}d.strstart+=d.lookahead;d.block_start=d.strstart;d.insert=d.lookahead;d.lookahead=0;d.match_length=d.prev_length=2;d.match_available=0;a.next_in=l;a.input=n;a.avail_in=g;d.wrap=f;return wa},deflateInfo:"pako deflate (from Nodeca project)"},Ec={assign:function(a){let c=Array.prototype.slice.call(arguments,
1);for(;c.length;){let b=c.shift();if(b){if("object"!==typeof b)throw new TypeError(b+"must be non-object");for(let d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])}}return a},flattenChunks:a=>{var c=0;for(let b=0,d=a.length;b<d;b++)c+=a[b].length;c=new Uint8Array(c);for(let b=0,d=0,f=a.length;b<f;b++){let g=a[b];c.set(g,d);d+=g.length}return c}};let Ff=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){Ff=!1}let yc=new Uint8Array(256);for(let a=0;256>a;a++)yc[a]=252<=
a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;yc[254]=yc[254]=1;var bc={string2buf:a=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(a);let c,b,d,f,g,l=a.length,n=0;for(f=0;f<l;f++)b=a.charCodeAt(f),55296===(b&64512)&&f+1<l&&(d=a.charCodeAt(f+1),56320===(d&64512)&&(b=65536+(b-55296<<10)+(d-56320),f++)),n+=128>b?1:2048>b?2:65536>b?3:4;c=new Uint8Array(n);for(f=g=0;g<n;f++)b=a.charCodeAt(f),55296===(b&64512)&&f+1<l&&(d=a.charCodeAt(f+1),56320===(d&64512)&&
(b=65536+(b-55296<<10)+(d-56320),f++)),128>b?c[g++]=b:(2048>b?c[g++]=192|b>>>6:(65536>b?c[g++]=224|b>>>12:(c[g++]=240|b>>>18,c[g++]=128|b>>>12&63),c[g++]=128|b>>>6&63),c[g++]=128|b&63);return c},buf2string:(a,c)=>{var b=c||a.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(a.subarray(0,c));var d;let f;c=Array(2*b);for(d=f=0;d<b;){let g=a[d++];if(128>g){c[f++]=g;continue}let l=yc[g];if(4<l)c[f++]=65533,d+=l-1;else{for(g&=2===l?31:3===l?15:7;1<l&&
d<b;)g=g<<6|a[d++]&63,l--;1<l?c[f++]=65533:65536>g?c[f++]=g:(g-=65536,c[f++]=55296|g>>10&1023,c[f++]=56320|g&1023)}}a=f;if(65534>a&&c.subarray&&Ff)c=String.fromCharCode.apply(null,c.length===a?c:c.subarray(0,a));else{b="";for(d=0;d<a;d++)b+=String.fromCharCode(c[d]);c=b}return c},utf8border:(a,c)=>{c=c||a.length;c>a.length&&(c=a.length);let b=c-1;for(;0<=b&&128===(a[b]&192);)b--;return 0>b||0===b?c:b+yc[a[b]]>c?b:c}},Ce=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=
null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0};let De=Object.prototype.toString,{Z_NO_FLUSH:Yg,Z_SYNC_FLUSH:Zg,Z_FULL_FLUSH:$g,Z_FINISH:ah,Z_OK:Fc,Z_STREAM_END:bh,Z_DEFAULT_COMPRESSION:gg,Z_DEFAULT_STRATEGY:ig,Z_DEFLATED:hg}=Ib;$b.prototype.push=function(a,c){let b=this.strm,d=this.options.chunkSize;if(this.ended)return!1;c=c===~~c?c:!0===c?ah:Yg;"string"===typeof a?b.input=bc.string2buf(a):"[object ArrayBuffer]"===De.call(a)?b.input=
new Uint8Array(a):b.input=a;b.next_in=0;for(b.avail_in=b.input.length;;)if(0===b.avail_out&&(b.output=new Uint8Array(d),b.next_out=0,b.avail_out=d),(c===Zg||c===$g)&&6>=b.avail_out)this.onData(b.output.subarray(0,b.next_out)),b.avail_out=0;else{a=ac.deflate(b,c);if(a===bh){if(0<b.next_out)this.onData(b.output.subarray(0,b.next_out));a=ac.deflateEnd(this.strm);this.onEnd(a);this.ended=!0;return a===Fc}if(0===b.avail_out)this.onData(b.output);else if(0<c&&0<b.next_out)this.onData(b.output.subarray(0,
b.next_out)),b.avail_out=0;else if(0===b.avail_in)break}return!0};$b.prototype.onData=function(a){this.chunks.push(a)};$b.prototype.onEnd=function(a){a===Fc&&(this.result=Ec.flattenChunks(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};var ch={Deflate:$b,deflate:gd,deflateRaw:function(a,c){c=c||{};c.raw=!0;return gd(a,c)},gzip:function(a,c){c=c||{};c.gzip=!0;return gd(a,c)},constants:Ib};let dh=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,
163,195,227,258,0,0]),eh=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),fh=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),gh=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var zc=(a,c,b,d,f,g,l,n)=>{var w=n.bits;let p,u,t,v;var k;let q,h,y,x,J,E,aa,Z;const K=new Uint16Array(16);var L=
new Uint16Array(16);let na,ma,xa,pa;for(p=0;15>=p;p++)K[p]=0;for(u=0;u<d;u++)K[c[b+u]]++;v=w;for(t=15;1<=t&&0===K[t];t--);v>t&&(v=t);if(0===t)return f[g++]=20971520,f[g++]=20971520,n.bits=1,0;for(w=1;w<t&&0===K[w];w++);v<w&&(v=w);for(p=k=1;15>=p;p++)if(k<<=1,k-=K[p],0>k)return-1;if(0<k&&(0===a||1!==t))return-1;L[1]=0;for(p=1;15>p;p++)L[p+1]=L[p]+K[p];for(u=0;u<d;u++)0!==c[b+u]&&(l[L[c[b+u]]++]=u);0===a?(aa=na=l,Z=20):1===a?(aa=dh,na=eh,Z=257):(aa=fh,na=gh,Z=0);u=h=0;p=w;E=g;d=v;L=0;x=-1;q=1<<v;J=
q-1;if(1===a&&852<q||2===a&&592<q)return 1;for(;;){ma=p-L;l[u]+1<Z?(xa=0,pa=l[u]):l[u]>=Z?(xa=na[l[u]-Z],pa=aa[l[u]-Z]):(xa=96,pa=0);k=1<<p-L;w=y=1<<d;do y-=k,f[E+(h>>L)+y]=ma<<24|xa<<16|pa|0;while(0!==y);for(k=1<<p-1;h&k;)k>>=1;0!==k?(h&=k-1,h+=k):h=0;u++;if(0===--K[p]){if(p===t)break;p=c[b+l[u]]}if(p>v&&(h&J)!==x){0===L&&(L=v);E+=w;d=p-L;for(k=1<<d;d+L<t;){k-=K[d+L];if(0>=k)break;d++;k<<=1}q+=1<<d;if(1===a&&852<q||2===a&&592<q)return 1;x=h&J;f[x]=v<<24|d<<16|E-g|0}}0!==h&&(f[E+h]=p-L<<24|4194304);
n.bits=v;return 0};let {Z_FINISH:Gf,Z_BLOCK:hh,Z_TREES:ad,Z_OK:Kb,Z_STREAM_END:ih,Z_NEED_DICT:jh,Z_STREAM_ERROR:Sa,Z_DATA_ERROR:Hf,Z_MEM_ERROR:If,Z_BUF_ERROR:kh,Z_DEFLATED:Jf}=Ib,Lb=a=>{if(!a)return 1;const c=a.state;return!c||c.strm!==a||16180>c.mode||16211<c.mode?1:0},Kf=a=>{if(Lb(a))return Sa;const c=a.state;a.total_in=a.total_out=c.total=0;a.msg="";c.wrap&&(a.adler=c.wrap&1);c.mode=16180;c.last=0;c.havedict=0;c.flags=-1;c.dmax=32768;c.head=null;c.hold=0;c.bits=0;c.lencode=c.lendyn=new Int32Array(852);
c.distcode=c.distdyn=new Int32Array(592);c.sane=1;c.back=-1;return Kb},Lf=a=>{if(Lb(a))return Sa;const c=a.state;c.wsize=0;c.whave=0;c.wnext=0;return Kf(a)},Mf=(a,c)=>{let b;if(Lb(a))return Sa;const d=a.state;0>c?(b=0,c=-c):(b=(c>>4)+5,48>c&&(c&=15));if(c&&(8>c||15<c))return Sa;null!==d.window&&d.wbits!==c&&(d.window=null);d.wrap=b;d.wbits=c;return Lf(a)},Nf=(a,c)=>{if(!a)return Sa;const b=new jg;a.state=b;b.strm=a;b.window=null;b.mode=16180;c=Mf(a,c);c!==Kb&&(a.state=null);return c},Of=!0,oe,pe,
Pf=(a,c,b,d)=>{const f=a.state;null===f.window&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new Uint8Array(f.wsize));d>=f.wsize?(f.window.set(c.subarray(b-f.wsize,b),0),f.wnext=0,f.whave=f.wsize):(a=f.wsize-f.wnext,a>d&&(a=d),f.window.set(c.subarray(b-d,b-d+a),f.wnext),(d-=a)?(f.window.set(c.subarray(b-d,b),0),f.wnext=d,f.whave=f.wsize):(f.wnext+=a,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=a)));return 0};var hb={inflateReset:Lf,inflateReset2:Mf,inflateResetKeep:Kf,inflateInit:a=>
Nf(a,15),inflateInit2:Nf,inflate:(a,c)=>{let b;let d,f;let g;const l=new Uint8Array(4),n=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Lb(a)||!a.output||!a.input&&0!==a.avail_in)return Sa;b=a.state;16191===b.mode&&(b.mode=16192);var w=a.next_out;var p=a.output;var u=a.avail_out;var t=a.next_in;var v=a.input;var k=a.avail_in;var q=b.hold;var h=b.bits;d=k;f=u;g=Kb;a:for(;;)switch(b.mode){case 16180:if(0===b.wrap){b.mode=16192;break}for(;16>h;){if(0===k)break a;k--;q+=v[t++]<<h;
h+=8}if(b.wrap&2&&35615===q){0===b.wbits&&(b.wbits=15);b.check=0;l[0]=q&255;l[1]=q>>>8&255;b.check=sa(b.check,l,2,0);h=q=0;b.mode=16181;break}b.head&&(b.head.done=!1);if(!(b.wrap&1)||(((q&255)<<8)+(q>>8))%31){a.msg="incorrect header check";b.mode=16209;break}if((q&15)!==Jf){a.msg="unknown compression method";b.mode=16209;break}q>>>=4;h-=4;var y=(q&15)+8;0===b.wbits&&(b.wbits=y);if(15<y||y>b.wbits){a.msg="invalid window size";b.mode=16209;break}b.dmax=1<<b.wbits;b.flags=0;a.adler=b.check=1;b.mode=
q&512?16189:16191;h=q=0;break;case 16181:for(;16>h;){if(0===k)break a;k--;q+=v[t++]<<h;h+=8}b.flags=q;if((b.flags&255)!==Jf){a.msg="unknown compression method";b.mode=16209;break}if(b.flags&57344){a.msg="unknown header flags set";b.mode=16209;break}b.head&&(b.head.text=q>>8&1);b.flags&512&&b.wrap&4&&(l[0]=q&255,l[1]=q>>>8&255,b.check=sa(b.check,l,2,0));h=q=0;b.mode=16182;case 16182:for(;32>h;){if(0===k)break a;k--;q+=v[t++]<<h;h+=8}b.head&&(b.head.time=q);b.flags&512&&b.wrap&4&&(l[0]=q&255,l[1]=q>>>
8&255,l[2]=q>>>16&255,l[3]=q>>>24&255,b.check=sa(b.check,l,4,0));h=q=0;b.mode=16183;case 16183:for(;16>h;){if(0===k)break a;k--;q+=v[t++]<<h;h+=8}b.head&&(b.head.xflags=q&255,b.head.os=q>>8);b.flags&512&&b.wrap&4&&(l[0]=q&255,l[1]=q>>>8&255,b.check=sa(b.check,l,2,0));h=q=0;b.mode=16184;case 16184:if(b.flags&1024){for(;16>h;){if(0===k)break a;k--;q+=v[t++]<<h;h+=8}b.length=q;b.head&&(b.head.extra_len=q);b.flags&512&&b.wrap&4&&(l[0]=q&255,l[1]=q>>>8&255,b.check=sa(b.check,l,2,0));h=q=0}else b.head&&
(b.head.extra=null);b.mode=16185;case 16185:if(b.flags&1024){var x=b.length;x>k&&(x=k);x&&(b.head&&(y=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Uint8Array(b.head.extra_len)),b.head.extra.set(v.subarray(t,t+x),y)),b.flags&512&&b.wrap&4&&(b.check=sa(b.check,v,x,t)),k-=x,t+=x,b.length-=x);if(b.length)break a}b.length=0;b.mode=16186;case 16186:if(b.flags&2048){if(0===k)break a;x=0;do y=v[t+x++],b.head&&y&&65536>b.length&&(b.head.name+=String.fromCharCode(y));while(y&&x<k);b.flags&512&&
b.wrap&4&&(b.check=sa(b.check,v,x,t));k-=x;t+=x;if(y)break a}else b.head&&(b.head.name=null);b.length=0;b.mode=16187;case 16187:if(b.flags&4096){if(0===k)break a;x=0;do y=v[t+x++],b.head&&y&&65536>b.length&&(b.head.comment+=String.fromCharCode(y));while(y&&x<k);b.flags&512&&b.wrap&4&&(b.check=sa(b.check,v,x,t));k-=x;t+=x;if(y)break a}else b.head&&(b.head.comment=null);b.mode=16188;case 16188:if(b.flags&512){for(;16>h;){if(0===k)break a;k--;q+=v[t++]<<h;h+=8}if(b.wrap&4&&q!==(b.check&65535)){a.msg=
"header crc mismatch";b.mode=16209;break}h=q=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0);a.adler=b.check=0;b.mode=16191;break;case 16189:for(;32>h;){if(0===k)break a;k--;q+=v[t++]<<h;h+=8}a.adler=b.check=(q>>>24&255)+(q>>>8&65280)+((q&65280)<<8)+((q&255)<<24);h=q=0;b.mode=16190;case 16190:if(0===b.havedict)return a.next_out=w,a.avail_out=u,a.next_in=t,a.avail_in=k,b.hold=q,b.bits=h,jh;a.adler=b.check=1;b.mode=16191;case 16191:if(c===hh||c===ad)break a;case 16192:if(b.last){q>>>=h&7;h-=h&7;
b.mode=16206;break}for(;3>h;){if(0===k)break a;k--;q+=v[t++]<<h;h+=8}b.last=q&1;q>>>=1;--h;switch(q&3){case 0:b.mode=16193;break;case 1:x=b;if(Of){oe=new Int32Array(512);pe=new Int32Array(32);for(y=0;144>y;)x.lens[y++]=8;for(;256>y;)x.lens[y++]=9;for(;280>y;)x.lens[y++]=7;for(;288>y;)x.lens[y++]=8;zc(1,x.lens,0,288,oe,0,x.work,{bits:9});for(y=0;32>y;)x.lens[y++]=5;zc(2,x.lens,0,32,pe,0,x.work,{bits:5});Of=!1}x.lencode=oe;x.lenbits=9;x.distcode=pe;x.distbits=5;b.mode=16199;if(c===ad){q>>>=2;h-=2;break a}break;
case 2:b.mode=16196;break;case 3:a.msg="invalid block type",b.mode=16209}q>>>=2;h-=2;break;case 16193:q>>>=h&7;for(h-=h&7;32>h;){if(0===k)break a;k--;q+=v[t++]<<h;h+=8}if((q&65535)!==(q>>>16^65535)){a.msg="invalid stored block lengths";b.mode=16209;break}b.length=q&65535;h=q=0;b.mode=16194;if(c===ad)break a;case 16194:b.mode=16195;case 16195:if(x=b.length){x>k&&(x=k);x>u&&(x=u);if(0===x)break a;p.set(v.subarray(t,t+x),w);k-=x;t+=x;u-=x;w+=x;b.length-=x;break}b.mode=16191;break;case 16196:for(;14>
h;){if(0===k)break a;k--;q+=v[t++]<<h;h+=8}b.nlen=(q&31)+257;q>>>=5;h-=5;b.ndist=(q&31)+1;q>>>=5;h-=5;b.ncode=(q&15)+4;q>>>=4;h-=4;if(286<b.nlen||30<b.ndist){a.msg="too many length or distance symbols";b.mode=16209;break}b.have=0;b.mode=16197;case 16197:for(;b.have<b.ncode;){for(;3>h;){if(0===k)break a;k--;q+=v[t++]<<h;h+=8}b.lens[n[b.have++]]=q&7;q>>>=3;h-=3}for(;19>b.have;)b.lens[n[b.have++]]=0;b.lencode=b.lendyn;b.lenbits=7;x={bits:b.lenbits};g=zc(0,b.lens,0,19,b.lencode,0,b.work,x);b.lenbits=
x.bits;if(g){a.msg="invalid code lengths set";b.mode=16209;break}b.have=0;b.mode=16198;case 16198:for(;b.have<b.nlen+b.ndist;){for(;;){var J=b.lencode[q&(1<<b.lenbits)-1];x=J>>>24;J&=65535;if(x<=h)break;if(0===k)break a;k--;q+=v[t++]<<h;h+=8}if(16>J)q>>>=x,h-=x,b.lens[b.have++]=J;else{if(16===J){for(y=x+2;h<y;){if(0===k)break a;k--;q+=v[t++]<<h;h+=8}q>>>=x;h-=x;if(0===b.have){a.msg="invalid bit length repeat";b.mode=16209;break}y=b.lens[b.have-1];x=3+(q&3);q>>>=2;h-=2}else if(17===J){for(y=x+3;h<
y;){if(0===k)break a;k--;q+=v[t++]<<h;h+=8}q>>>=x;h-=x;y=0;x=3+(q&7);q>>>=3;h-=3}else{for(y=x+7;h<y;){if(0===k)break a;k--;q+=v[t++]<<h;h+=8}q>>>=x;h-=x;y=0;x=11+(q&127);q>>>=7;h-=7}if(b.have+x>b.nlen+b.ndist){a.msg="invalid bit length repeat";b.mode=16209;break}for(;x--;)b.lens[b.have++]=y}}if(16209===b.mode)break;if(0===b.lens[256]){a.msg="invalid code -- missing end-of-block";b.mode=16209;break}b.lenbits=9;x={bits:b.lenbits};g=zc(1,b.lens,0,b.nlen,b.lencode,0,b.work,x);b.lenbits=x.bits;if(g){a.msg=
"invalid literal/lengths set";b.mode=16209;break}b.distbits=6;b.distcode=b.distdyn;x={bits:b.distbits};g=zc(2,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,x);b.distbits=x.bits;if(g){a.msg="invalid distances set";b.mode=16209;break}b.mode=16199;if(c===ad)break a;case 16199:b.mode=16200;case 16200:if(6<=k&&258<=u){a.next_out=w;a.avail_out=u;a.next_in=t;a.avail_in=k;b.hold=q;b.bits=h;var E=void 0;let L,na,ma,xa,pa,oa,S,W,ba;v=a;let ea=v.state;ba=v.next_in;t=v.input;W=ba+(v.avail_in-5);S=v.next_out;p=v.output;
oa=S-(f-v.avail_out);pa=S+(v.avail_out-257);xa=ea.dmax;ma=ea.wsize;J=ea.whave;var aa=ea.wnext;var Z=ea.window;var K=ea.hold;y=ea.bits;x=ea.lencode;h=ea.distcode;q=(1<<ea.lenbits)-1;u=(1<<ea.distbits)-1;b:do c:for(15>y&&(K+=t[ba++]<<y,y+=8,K+=t[ba++]<<y,y+=8),E=x[K&q];;){k=E>>>24;K>>>=k;y-=k;k=E>>>16&255;if(0===k)p[S++]=E&65535;else if(k&16){w=E&65535;if(k&=15)y<k&&(K+=t[ba++]<<y,y+=8),w+=K&(1<<k)-1,K>>>=k,y-=k;15>y&&(K+=t[ba++]<<y,y+=8,K+=t[ba++]<<y,y+=8);E=h[K&u];d:for(;;){k=E>>>24;K>>>=k;y-=k;k=
E>>>16&255;if(k&16){na=E&65535;k&=15;y<k&&(K+=t[ba++]<<y,y+=8,y<k&&(K+=t[ba++]<<y,y+=8));na+=K&(1<<k)-1;if(na>xa){v.msg="invalid distance too far back";ea.mode=16209;break b}K>>>=k;y-=k;k=S-oa;if(na>k){k=na-k;if(k>J&&ea.sane){v.msg="invalid distance too far back";ea.mode=16209;break b}L=0;E=Z;if(0===aa){if(L+=ma-k,k<w){w-=k;do p[S++]=Z[L++];while(--k);L=S-na;E=p}}else if(aa<k){if(L+=ma+aa-k,k-=aa,k<w){w-=k;do p[S++]=Z[L++];while(--k);L=0;if(aa<w){k=aa;w-=k;do p[S++]=Z[L++];while(--k);L=S-na;E=p}}}else if(L+=
aa-k,k<w){w-=k;do p[S++]=Z[L++];while(--k);L=S-na;E=p}for(;2<w;)p[S++]=E[L++],p[S++]=E[L++],p[S++]=E[L++],w-=3;w&&(p[S++]=E[L++],1<w&&(p[S++]=E[L++]))}else{L=S-na;do p[S++]=p[L++],p[S++]=p[L++],p[S++]=p[L++],w-=3;while(2<w);w&&(p[S++]=p[L++],1<w&&(p[S++]=p[L++]))}}else if(0===(k&64)){E=h[(E&65535)+(K&(1<<k)-1)];continue d}else{v.msg="invalid distance code";ea.mode=16209;break b}break}}else if(0===(k&64)){E=x[(E&65535)+(K&(1<<k)-1)];continue c}else{k&32?ea.mode=16191:(v.msg="invalid literal/length code",
ea.mode=16209);break b}break}while(ba<W&&S<pa);w=y>>3;ba-=w;y-=w<<3;v.next_in=ba;v.next_out=S;v.avail_in=ba<W?5+(W-ba):5-(ba-W);v.avail_out=S<pa?257+(pa-S):257-(S-pa);ea.hold=K&(1<<y)-1;ea.bits=y;w=a.next_out;p=a.output;u=a.avail_out;t=a.next_in;v=a.input;k=a.avail_in;q=b.hold;h=b.bits;16191===b.mode&&(b.back=-1);break}for(b.back=0;;){J=b.lencode[q&(1<<b.lenbits)-1];x=J>>>24;y=J>>>16&255;J&=65535;if(x<=h)break;if(0===k)break a;k--;q+=v[t++]<<h;h+=8}if(y&&0===(y&240)){K=x;Z=y;for(aa=J;;){J=b.lencode[aa+
((q&(1<<K+Z)-1)>>K)];x=J>>>24;y=J>>>16&255;J&=65535;if(K+x<=h)break;if(0===k)break a;k--;q+=v[t++]<<h;h+=8}q>>>=K;h-=K;b.back+=K}q>>>=x;h-=x;b.back+=x;b.length=J;if(0===y){b.mode=16205;break}if(y&32){b.back=-1;b.mode=16191;break}if(y&64){a.msg="invalid literal/length code";b.mode=16209;break}b.extra=y&15;b.mode=16201;case 16201:if(b.extra){for(y=b.extra;h<y;){if(0===k)break a;k--;q+=v[t++]<<h;h+=8}b.length+=q&(1<<b.extra)-1;q>>>=b.extra;h-=b.extra;b.back+=b.extra}b.was=b.length;b.mode=16202;case 16202:for(;;){J=
b.distcode[q&(1<<b.distbits)-1];x=J>>>24;y=J>>>16&255;J&=65535;if(x<=h)break;if(0===k)break a;k--;q+=v[t++]<<h;h+=8}if(0===(y&240)){K=x;Z=y;for(aa=J;;){J=b.distcode[aa+((q&(1<<K+Z)-1)>>K)];x=J>>>24;y=J>>>16&255;J&=65535;if(K+x<=h)break;if(0===k)break a;k--;q+=v[t++]<<h;h+=8}q>>>=K;h-=K;b.back+=K}q>>>=x;h-=x;b.back+=x;if(y&64){a.msg="invalid distance code";b.mode=16209;break}b.offset=J;b.extra=y&15;b.mode=16203;case 16203:if(b.extra){for(y=b.extra;h<y;){if(0===k)break a;k--;q+=v[t++]<<h;h+=8}b.offset+=
q&(1<<b.extra)-1;q>>>=b.extra;h-=b.extra;b.back+=b.extra}if(b.offset>b.dmax){a.msg="invalid distance too far back";b.mode=16209;break}b.mode=16204;case 16204:if(0===u)break a;x=f-u;if(b.offset>x){x=b.offset-x;if(x>b.whave&&b.sane){a.msg="invalid distance too far back";b.mode=16209;break}x>b.wnext?(x-=b.wnext,y=b.wsize-x):y=b.wnext-x;x>b.length&&(x=b.length);K=b.window}else K=p,y=w-b.offset,x=b.length;x>u&&(x=u);u-=x;b.length-=x;do p[w++]=K[y++];while(--x);0===b.length&&(b.mode=16200);break;case 16205:if(0===
u)break a;p[w++]=b.length;u--;b.mode=16200;break;case 16206:if(b.wrap){for(;32>h;){if(0===k)break a;k--;q|=v[t++]<<h;h+=8}f-=u;a.total_out+=f;b.total+=f;b.wrap&4&&f&&(a.adler=b.check=b.flags?sa(b.check,p,f,w-f):uc(b.check,p,f,w-f));f=u;if(b.wrap&4&&(b.flags?q:(q>>>24&255)+(q>>>8&65280)+((q&65280)<<8)+((q&255)<<24))!==b.check){a.msg="incorrect data check";b.mode=16209;break}h=q=0}b.mode=16207;case 16207:if(b.wrap&&b.flags){for(;32>h;){if(0===k)break a;k--;q+=v[t++]<<h;h+=8}if(b.wrap&4&&q!==(b.total&
4294967295)){a.msg="incorrect length check";b.mode=16209;break}h=q=0}b.mode=16208;case 16208:g=ih;break a;case 16209:g=Hf;break a;case 16210:return If;default:return Sa}a.next_out=w;a.avail_out=u;a.next_in=t;a.avail_in=k;b.hold=q;b.bits=h;(b.wsize||f!==a.avail_out&&16209>b.mode&&(16206>b.mode||c!==Gf))&&Pf(a,a.output,a.next_out,f-a.avail_out);d-=a.avail_in;f-=a.avail_out;a.total_in+=d;a.total_out+=f;b.total+=f;b.wrap&4&&f&&(a.adler=b.check=b.flags?sa(b.check,p,f,a.next_out-f):uc(b.check,p,f,a.next_out-
f));a.data_type=b.bits+(b.last?64:0)+(16191===b.mode?128:0)+(16199===b.mode||16194===b.mode?256:0);(0===d&&0===f||c===Gf)&&g===Kb&&(g=kh);return g},inflateEnd:a=>{if(Lb(a))return Sa;let c=a.state;c.window&&(c.window=null);a.state=null;return Kb},inflateGetHeader:(a,c)=>{if(Lb(a))return Sa;a=a.state;if(0===(a.wrap&2))return Sa;a.head=c;c.done=!1;return Kb},inflateSetDictionary:(a,c)=>{const b=c.length;let d,f;if(Lb(a))return Sa;d=a.state;if(0!==d.wrap&&16190!==d.mode)return Sa;if(16190===d.mode&&(f=
uc(1,c,b,0),f!==d.check))return Hf;if(Pf(a,c,b,b))return d.mode=16210,If;d.havedict=1;return Kb},inflateInfo:"pako inflate (from Nodeca project)"},kg=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1};let Ee=Object.prototype.toString,{Z_NO_FLUSH:lh,Z_FINISH:mh,Z_OK:dc,Z_STREAM_END:qe,Z_NEED_DICT:re,Z_STREAM_ERROR:nh,Z_DATA_ERROR:Qf,Z_MEM_ERROR:oh}=Ib;cc.prototype.push=function(a,c){let b=this.strm,d=this.options.chunkSize,
f=this.options.dictionary,g,l;if(this.ended)return!1;g=c===~~c?c:!0===c?mh:lh;"[object ArrayBuffer]"===Ee.call(a)?b.input=new Uint8Array(a):b.input=a;b.next_in=0;for(b.avail_in=b.input.length;;){0===b.avail_out&&(b.output=new Uint8Array(d),b.next_out=0,b.avail_out=d);c=hb.inflate(b,g);c===re&&f&&(c=hb.inflateSetDictionary(b,f),c===dc?c=hb.inflate(b,g):c===Qf&&(c=re));for(;0<b.avail_in&&c===qe&&0<b.state.wrap&&0!==a[b.next_in];)hb.inflateReset(b),c=hb.inflate(b,g);switch(c){case nh:case Qf:case re:case oh:return this.onEnd(c),
this.ended=!0,!1}l=b.avail_out;if(b.next_out&&(0===b.avail_out||c===qe))if("string"===this.options.to){let n=bc.utf8border(b.output,b.next_out),w=b.next_out-n,p=bc.buf2string(b.output,n);b.next_out=w;b.avail_out=d-w;w&&b.output.set(b.output.subarray(n,n+w),0);this.onData(p)}else this.onData(b.output.length===b.next_out?b.output:b.output.subarray(0,b.next_out));if(c!==dc||0!==l){if(c===qe){c=hb.inflateEnd(this.strm);this.onEnd(c);this.ended=!0;break}if(0===b.avail_in)break}}return!0};cc.prototype.onData=
function(a){this.chunks.push(a)};cc.prototype.onEnd=function(a){a===dc&&(this.result="string"===this.options.to?this.chunks.join(""):Ec.flattenChunks(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};var ph={Inflate:cc,inflate:hd,inflateRaw:function(a,c){c=c||{};c.raw=!0;return hd(a,c)},ungzip:hd,constants:Ib};let {Deflate:qh,deflate:rh,deflateRaw:sh,gzip:th}=ch,{Inflate:uh,inflate:vh,inflateRaw:wh,ungzip:xh}=ph;var Je={Deflate:qh,deflate:rh,deflateRaw:sh,gzip:th,Inflate:uh,inflate:vh,
inflateRaw:wh,ungzip:xh,constants:Ib},ta;(function(a){a.response_body="rsb";a.request_body="rqb";a.response_headers="rsh";a.request_headers="rqh"})(ta||(ta={}));var X;(function(a){a.TRACEPARENT_HEADER_KEY="traceparent";(function(c){c[c.APP=0]="APP";c[c.REMOTE=1]="REMOTE";c[c.MERGE=2]="MERGE"})(a.CONFIG_PREFERENCES||(a.CONFIG_PREFERENCES={}));(function(c){c[c.DISABLED=0]="DISABLED";c[c.PERFORMANCE_TIMING=1]="PERFORMANCE_TIMING";c[c.PERFORMANCE_NAVIGATION_TIMING=2]="PERFORMANCE_NAVIGATION_TIMING"})(a.PERFORMANCE_CONTEXT||
(a.PERFORMANCE_CONTEXT={}));(function(c){c.DO_NOT_FETCH_UPDATE_TIMER="updateTimer";c.IMMEDIATE_FETCH="urgentFetch";c.UPDATE_TIMER_WITH_DIFF="checkDiff"})(a.RC_FETCH_MODE||(a.RC_FETCH_MODE={}));a.REMOTE_CONFIG_STORAGE_KEY="ConvivaRemoteConfig";a.END_POINT_STORAGE_KEY="ConvivaEndpoint";a.DEFAULT_END_POINT="https://appgw.conviva.com";a.REMOTE_CONFIG_URL_PREFIX="https://rc.conviva.com/js/";a.REMOTE_CONFIG_FILE_NAME="/remote_config.json"})(X||(X={}));var da={},Tb;(function(a){a[a.APP=0]="APP";a[a.REMOTE=
1]="REMOTE";a[a.MERGE=2]="MERGE"})(Tb||(Tb={}));var qc={},Dg=function(){return function(){this.outQueues=[];this.bufferFlushers=[];this.hasLoaded=!1;this.registeredOnLoadHandlers=[]}}(),bd="undefined"!==typeof window?Cg():void 0;T.addGlobalContexts=function(a,c){Y(c,function(b){b.core.addGlobalContexts(a)})};T.addPlugin=function(a,c){Y(c,function(b){b.addPlugin(a)})};T.clearGlobalContexts=function(a){Y(a,function(c){c.core.clearGlobalContexts()})};T.clearUserData=function(a,c){Y(c,function(b){b.clearUserData(a)})};
T.convivaAppTracker=function(a){void 0===a&&(a={});try{if(bd)return $e("CAT","CAT","js-".concat("0.6.11"),"",bd,a)}catch(c){console.warn("Conviva App Tracker:: Initialisation failed! "+c)}};T.crossDomainLinker=function(a,c){Y(c,function(b){b.crossDomainLinker(a)})};T.disableAnonymousTracking=function(a,c){Y(c,function(b){b.disableAnonymousTracking(a)})};T.discardBrace=function(a,c){Y(c,function(b){b.discardBrace(a)})};T.discardHashTag=function(a,c){Y(c,function(b){b.discardHashTag(a)})};T.enableActivityTracking=
function(a,c){Y(c,function(b){b.enableActivityTracking(a)})};T.enableActivityTrackingCallback=function(a,c){Y(c,function(b){b.enableActivityTrackingCallback(a)})};T.enableAnonymousTracking=function(a,c){Y(c,function(b){b.enableAnonymousTracking(a)})};T.flushBuffer=function(a,c){Y(c,function(b){b.flushBuffer(a)})};T.newSession=function(a){Y(a,function(c){c.newSession()})};T.newTracker=function(a,c,b){void 0===b&&(b={});if(bd)return $e(a,a,"js-".concat("0.6.11"),c,bd,b)};T.preservePageViewId=function(a){Y(a,
function(c){c.preservePageViewId()})};T.removeGlobalContexts=function(a,c){Y(c,function(b){b.core.removeGlobalContexts(a)})};T.setBufferSize=function(a,c){Y(c,function(b){b.setBufferSize(a)})};T.setCollectorUrl=function(a,c){Y(c,function(b){b.setCollectorUrl(a)})};T.setCookiePath=function(a,c){Y(c,function(b){b.setCookiePath(a)})};T.setCustomTags=function(a,c){Y(c,function(b){try{b.setCustomTags(a)}catch(d){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})};T.setCustomUrl=function(a,
c){Y(c,function(b){b.setCustomUrl(a)})};T.setDocumentTitle=function(a,c){Y(c,function(b){b.setDocumentTitle(a)})};T.setOptOutCookie=function(a,c){Y(c,function(b){b.setOptOutCookie(a)})};T.setReferrerUrl=function(a,c){Y(c,function(b){b.setReferrerUrl(a)})};T.setUserId=function(a,c){Y(c,function(b){b.setUserId(a)})};T.setUserIdFromCookie=function(a,c){Y(c,function(b){b.setUserIdFromCookie(a)})};T.setUserIdFromLocation=function(a,c){Y(c,function(b){b.setUserIdFromLocation(a)})};T.setUserIdFromReferrer=
function(a,c){Y(c,function(b){b.setUserIdFromReferrer(a)})};T.setVisitorCookieTimeout=function(a,c){Y(c,function(b){b.setVisitorCookieTimeout(a)})};T.trackCustomEvent=function(a,c){Y(c,function(b){try{b.trackCustomEvent(a)}catch(d){console.warn("Conviva App Tracker:: Unable to track custom event! "+d)}})};T.trackPageView=function(a,c){Y(c,function(b){b.trackPageView(a)})};T.trackSelfDescribingEvent=function(a,c){Y(c,function(b){b.core.track(yb({event:a.event}),a.context,a.timestamp)})};T.trackStructEvent=
function(a,c){Y(c,function(b){b=b.core;var d=b.track,f=a.category,g=a.action,l=a.label,n=a.property,w=a.value,p=Ac();p.add("e","se");p.add("se_ca",f);p.add("se_ac",g);p.add("se_la",l);p.add("se_pr",n);p.add("se_va",null==w?void 0:w.toString());d.call(b,p,a.context,a.timestamp)})};T.unsetCustomTags=function(a,c){Y(c,function(b){try{b.unsetCustomTags(a)}catch(d){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})};T.updatePageActivity=function(a){Y(a,function(c){c.updatePageActivity()})};
T.version="0.6.11";Object.defineProperty(T,"__esModule",{value:!0})})
//# sourceMappingURL=index.umd.min.js.map
