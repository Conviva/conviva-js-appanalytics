/*!
 * Browser tracker for Conviva v1.5.5 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */

'use strict';(function(Ca,Sb){"object"===typeof exports&&"undefined"!==typeof module?Sb(exports):"function"===typeof define&&define.amd?define(["exports"],Sb):(Ca="undefined"!==typeof globalThis?globalThis:Ca||self,Sb(Ca.convivaBrowserTracking={}))})(this,function(Ca){function Sb(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,e=Array(b);c<b;c++)e[c]=a[c];return e}function he(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function Of(a,b){for(var c=0;c<b.length;c++){var e=
  b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,Pf(e.key),e)}}function ie(a,b,c){return b&&Of(a.prototype,b),c&&Of(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function $a(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=Qf(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var e=0;b=function(){};return{s:b,n:function(){return e>=a.length?{done:!0}:{done:!1,value:a[e++]}},e:function(g){throw g;
  },f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var d,f=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var g=c.next();return f=g.done,g},e:function(g){h=!0;d=g},f:function(){try{f||null==c.return||c.return()}finally{if(h)throw d;}}}}function ub(a,b,c){return(b=Pf(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function Rf(a,b){var c=
  Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);b&&(e=e.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable}));c.push.apply(c,e)}return c}function gi(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?Rf(Object(c),!0).forEach(function(e){ub(a,e,c[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):Rf(Object(c)).forEach(function(e){Object.defineProperty(a,e,
  Object.getOwnPropertyDescriptor(c,e))})}return a}function Pf(a){a:if("object"==typeof a&&a){var b=a[Symbol.toPrimitive];if(void 0!==b){a=b.call(a,"string");if("object"!=typeof a)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"==typeof a?a:a+""}function pa(a){"@babel/helpers - typeof";return pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===
  Symbol&&b!==Symbol.prototype?"symbol":typeof b},pa(a)}function Qf(a,b){if(a){if("string"==typeof a)return Sb(a,b);var c={}.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Sb(a,b):void 0}}function je(a,b){var c={},e;for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&0>b.indexOf(e)&&(c[e]=a[e]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var d=
  0;for(e=Object.getOwnPropertySymbols(a);d<e.length;d++)0>b.indexOf(e[d])&&Object.prototype.propertyIsEnumerable.call(a,e[d])&&(c[e[d]]=a[e[d]])}return c}function Jc(a,b,c,e){function d(f){return f instanceof c?f:new c(function(h){h(f)})}return new (c||(c=Promise))(function(f,h){function g(r){try{n(e.next(r))}catch(k){h(k)}}function m(r){try{n(e["throw"](r))}catch(k){h(k)}}function n(r){r.done?f(r.value):d(r.value).then(g,m)}n((e=e.apply(a,b||[])).next())})}function Kc(a,b){function c(n){return function(r){return e([n,
  r])}}function e(n){if(f)throw new TypeError("Generator is already executing.");for(;d;)try{if(f=1,h&&(g=n[0]&2?h["return"]:n[0]?h["throw"]||((g=h["return"])&&g.call(h),0):h.next)&&!(g=g.call(h,n[1])).done)return g;if(h=0,g)n=[n[0]&2,g.value];switch(n[0]){case 0:case 1:g=n;break;case 4:return d.label++,{value:n[1],done:!1};case 5:d.label++;h=n[1];n=[0];continue;case 7:n=d.ops.pop();d.trys.pop();continue;default:if(!(g=d.trys,g=0<g.length&&g[g.length-1])&&(6===n[0]||2===n[0])){d=0;continue}if(3===n[0]&&
  (!g||n[1]>g[0]&&n[1]<g[3]))d.label=n[1];else if(6===n[0]&&d.label<g[1])d.label=g[1],g=n;else if(g&&d.label<g[2])d.label=g[2],d.ops.push(n);else{g[2]&&d.ops.pop();d.trys.pop();continue}}n=b.call(a,d)}catch(r){n=[6,r],h=0}finally{f=g=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var d={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,h,g,m;return m={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(m[Symbol.iterator]=function(){return this}),
  m}function Ja(a,b,c){if(c||2===arguments.length)for(var e=0,d=b.length,f;e<d;e++)!f&&e in b||(f||(f=Array.prototype.slice.call(b,0,e)),f[e]=b[e]);return a.concat(f||Array.prototype.slice.call(b))}function hi(a){var b=0,c=0;var e="";var d=[];if(!a)return a;a+="";do{var f=ab.indexOf(a.charAt(b++));var h=ab.indexOf(a.charAt(b++));e=ab.indexOf(a.charAt(b++));var g=ab.indexOf(a.charAt(b++));var m=f<<18|h<<12|e<<6|g;f=m>>16&255;h=m>>8&255;m&=255;64===e?d[c++]=String.fromCharCode(f):64===g?d[c++]=String.fromCharCode(f,
  h):d[c++]=String.fromCharCode(f,h,m)}while(b<a.length);e=d.join("");return function(n){return decodeURIComponent(n.split("").map(function(r){return"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(e.replace(/\0+$/,""))}function ii(a){a=unescape(encodeURIComponent(a));for(var b="",c=0;c<a.length;){var e=a.charCodeAt(c++),d=a.charCodeAt(c++),f=a.charCodeAt(c++),h=e>>2;e=(e&3)<<4|d>>4;d=isNaN(d)?64:(d&15)<<2|f>>6;f=isNaN(f)?64:f&63;b+=ab.charAt(h)+ab.charAt(e)+ab.charAt(d)+ab.charAt(f)}return b}
  function ke(){var a={},b=[],c=[],e=[],d,f=function(h,g){null!=g&&""!==g&&(a[h]=g)};return{add:f,addDict:function(h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&f(g,h[g])},addJson:function(h,g,m){m&&Sf(m)&&(h={keyIfEncoded:h,keyIfNotEncoded:g,json:m},c.push(h),b.push(h))},addContextEntity:function(h){e.push(h)},getPayload:function(){return a},getJson:function(){return b},withJsonProcessor:function(h){d=h},build:function(){null===d||void 0===d?void 0:d(this,c,e);return a}}}function ji(a){return function(b,
  c,e){for(var d=function(n,r,k){n=JSON.stringify(n);if(a){k=b.add;if(n){var q=0,t=0,p=[];if(n){n=unescape(encodeURIComponent(n));do{var v=n.charCodeAt(q++);var w=n.charCodeAt(q++);var u=n.charCodeAt(q++);var z=v<<16|w<<8|u;v=z>>18&63;w=z>>12&63;u=z>>6&63;z&=63;p[t++]=ab.charAt(v)+ab.charAt(w)+ab.charAt(u)+ab.charAt(z)}while(q<n.length);q=p.join("");n=n.length%3;n=(n?q.slice(0,n-3):q)+"===".slice(n||3)}n=n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}k.call(b,r,n)}else b.add(k,n)},f=function(n,
  r){if(!n){var k=b.getPayload();if(a?k.cx:k.co){n=JSON;var q=n.parse;if(a){if(k=k.cx){switch(4-k.length%4){case 2:k+="==";break;case 3:k+="="}k=k.replace(/-/g,"+").replace(/_/g,"/");k=hi(k)}}else k=k.co;n=q.call(n,k)}else n=void 0}n?n.dt=n.dt.concat(r.dt):n=r;return n},h=void 0,g=0;g<c.length;g++){var m=c[g];"cx"===m.keyIfEncoded?h=f(h,m.json):d(m.json,m.keyIfEncoded,m.keyIfNotEncoded)}c.length=0;e.length&&(c={sc:"sp/ctx/1-0-0",dt:Ja([],e,!0)},h=f(h,c),e.length=0);h&&d(h,"cx","co")}}function Sf(a){if(!Tf(a))return!1;
  for(var b in a)if(Object.prototype.hasOwnProperty.call(a,b))return!0;return!1}function Tf(a){return"undefined"!==typeof a&&null!==a&&(a.constructor==={}.constructor||a.constructor===[].constructor)}function ki(){var a=[],b=[];return{getGlobalPrimitives:function(){return a},getConditionalProviders:function(){return b},addGlobalContexts:function(c){for(var e=[],d=[],f=0;f<c.length;f++){var h=c[f];Uf(h)?e.push(h):pc(h)&&d.push(h)}a=a.concat(d);b=b.concat(e)},clearGlobalContexts:function(){b=[];a=[]},
  removeGlobalContexts:function(c){for(var e=function(f){Uf(f)?b=b.filter(function(h){return JSON.stringify(h)!==JSON.stringify(f)}):pc(f)&&(a=a.filter(function(h){return JSON.stringify(h)!==JSON.stringify(f)}))},d=0;d<c.length;d++)e(c[d])},getApplicableContexts:function(c){a:{var e=0;for(var d=c.getJson();e<d.length;e++){var f=d[e];if("ue_px"===f.keyIfEncoded&&"object"===pa(f.json.data)&&(f=f.json.data.schema,"string"==typeof f)){e=f;break a}}e=""}d=c.getPayload().e;f="string"===typeof d?d:"";d=[];
  var h=le(a,c,f,e);d.push.apply(d,h);c=li(b,c,f,e);d.push.apply(d,c);return d}}}function mi(a){return{addPluginContexts:function(b){var c=b?Ja([],b,!0):[];a.forEach(function(e){try{e.contexts&&c.push.apply(c,e.contexts())}catch(d){ka.error("Error adding plugin contexts",d)}});return c}}}function Vf(a){for(var b,c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];return null!==(b=null===a||void 0===a?void 0:a.map(function(d){if("function"===typeof d)try{return d.apply(void 0,c)}catch(f){}else return d}).filter(Boolean))&&
  void 0!==b?b:[]}function ni(a){if("*"===a[0]||"*"===a[1])return!1;if(0<a.slice(2).length){var b=!1,c=0;for(a=a.slice(2);c<a.length;c++)if("*"===a[c])b=!0;else if(b)return!1;return!0}return 2==a.length?!0:!1}function Wf(a){return(a=a.split("."))&&1<a.length?ni(a):!1}function Xf(a){a=/^iglu:((?:(?:[a-zA-Z0-9-_]+|\*).)+(?:[a-zA-Z0-9-_]+|\*))\/([a-zA-Z0-9-_.]+|\*)\/jsonschema\/([1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)$/.exec(a);if(null!==a&&Wf(a[1]))return a.slice(1,6)}function me(a){if(a=
  Xf(a)){var b=a[0];return 5===a.length&&Wf(b)}return!1}function oi(a){return Array.isArray(a)&&a.every(function(b){return"string"===typeof b})}function Yf(a){return oi(a)?a.every(function(b){return me(b)}):"string"===typeof a?me(a):!1}function Lc(a){return Sf(a)&&"sc"in a&&"dt"in a?"string"===typeof a.sc&&"object"===pa(a.dt):!1}function pi(a){var b=0;if(null!=a&&"object"===pa(a)&&!Array.isArray(a)){if(Object.prototype.hasOwnProperty.call(a,"accept"))if(Yf(a.accept))b+=1;else return!1;if(Object.prototype.hasOwnProperty.call(a,
  "reject"))if(Yf(a.reject))b+=1;else return!1;return 0<b&&2>=b}return!1}function od(a){return"function"===typeof a&&1>=a.length}function pc(a){return od(a)||Lc(a)}function Zf(a){return Array.isArray(a)&&2===a.length?Array.isArray(a[1])?od(a[0])&&a[1].every(pc):od(a[0])&&pc(a[1]):!1}function $f(a){return Array.isArray(a)&&2===a.length?pi(a[0])?Array.isArray(a[1])?a[1].every(pc):pc(a[1]):!1:!1}function Uf(a){return Zf(a)||$f(a)}function qi(a,b){var c=0,e=0,d=a.accept;Array.isArray(d)?a.accept.some(function(f){return pd(f,
  b)})&&e++:"string"===typeof d&&pd(d,b)&&e++;d=a.reject;Array.isArray(d)?a.reject.some(function(f){return pd(f,b)})&&c++:"string"===typeof d&&pd(d,b)&&c++;return 0<e&&0===c?!0:!1}function pd(a,b){if(!me(a))return!1;a=Xf(a);b=/^iglu:([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_]+)\/jsonschema\/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$/.exec(b);b=null!==b?b.slice(1,6):void 0;if(a&&b){if(!ri(a[0],b[0]))return!1;for(var c=1;5>c;c++)if(!ag(a[c],b[c]))return!1;return!0}return!1}function ri(a,b){b=b.split(".");a=
  a.split(".");if(b&&a){if(b.length!==a.length)return!1;for(var c=0;c<a.length;c++)if(!ag(b[c],a[c]))return!1;return!0}return!1}function ag(a,b){return a&&b&&"*"===a||a===b}function bg(a){return Array.isArray(a)?a:[a]}function le(a,b,c,e){var d;a=bg(a).map(function(f){a:if(Lc(f))f=[f];else{if(od(f)){b:{var h=void 0;try{var g={event:b.getPayload(),eventType:c,eventSchema:e};h=f(g);if(Array.isArray(h)&&h.every(Lc)||Lc(h)){var m=h;break b}m=void 0;break b}catch(n){}m=void 0}if(Lc(m)){f=[m];break a}else if(Array.isArray(m)){f=
  m;break a}}f=void 0}if(f&&0!==f.length)return f});return(d=[]).concat.apply(d,a.filter(function(f){return null!=f&&f.filter(Boolean)}))}function li(a,b,c,e){var d;a=bg(a).map(function(f){a:{if(Zf(f)){var h=f[0],g=!1;try{var m={event:b.getPayload(),eventType:c,eventSchema:e};g=h(m)}catch(n){g=!1}if(!0===g){f=le(f[1],b,c,e);break a}}else if($f(f)&&qi(f[0],e)){f=le(f[1],b,c,e);break a}f=[]}if(f&&0!==f.length)return f});return(d=[]).concat.apply(d,a.filter(function(f){return null!=f&&f.filter(Boolean)}))}
  function si(a){return null==a?{type:"dtm",value:(new Date).getTime()}:"number"===typeof a?{type:"dtm",value:a}:"ttm"===a.type?{type:"ttm",value:a.value}:{type:"dtm",value:a.value||(new Date).getTime()}}function ti(a){void 0===a&&(a={});var b=a.base64,c=a.corePlugins,e=null!==c&&void 0!==c?c:[];b=function(f,h,g){function m(p,v){p=r.getApplicableContexts(p);var w=[];v&&v.length&&w.push.apply(w,v);p&&p.length&&w.push.apply(w,p);return w}var n=mi(h),r=ki(),k=f,q={},t=null;return{track:function(p,v,w){p.withJsonProcessor(ji(k));
  p.add("eid",Gb.v4());p.addDict(q);w=si(w);p.add(w.type,w.value.toString());h.forEach(function(z){try{z.beforeTrack&&z.beforeTrack(p)}catch(D){ka.error("Plugin beforeTrack",D)}});v=m(p,n.addPluginContexts(v));v=v&&v.length?{sc:"sp/ctx/1-0-0",dt:v}:void 0;void 0!==v&&p.addJson("cx","co",v);"function"===typeof g&&g(p);var u=p.build();h.forEach(function(z){try{z.afterTrack&&z.afterTrack(u)}catch(D){ka.error("Plugin afterTrack",D)}});return u},addPayloadPair:function(p,v){q[p]=v},configuration:a,getConfig:function(){return a},
  setConfig:function(p){p&&("undefined"!==typeof p.base64&&(k=a.base64=p.base64),"undefined"!==typeof p.lifecycleAutotracking&&(a.lifecycleAutotracking=p.lifecycleAutotracking),"undefined"!==typeof p.cacheRefreshInterval&&(a.cacheRefreshInterval=p.cacheRefreshInterval),"undefined"!==typeof p.exceptionAutotracking&&(a.exceptionAutotracking=p.exceptionAutotracking),"undefined"!==typeof p.enablePeriodicHeartbeat&&(a.enablePeriodicHeartbeat=p.enablePeriodicHeartbeat),"undefined"!==typeof p.periodicHeartbeatInterval&&
  (a.periodicHeartbeatInterval=p.periodicHeartbeatInterval),"undefined"!==typeof p.enc&&(a.enc=p.enc),"undefined"!==typeof p.mend&&(a.mend=p.mend),"undefined"!==typeof p.maxLocalStorageQueueSize&&(a.maxLocalStorageQueueSize=p.maxLocalStorageQueueSize),"undefined"!==typeof p.maxGetBytes&&(a.maxGetBytes=p.maxGetBytes),"undefined"!==typeof p.bufferSize&&(a.bufferSize=p.bufferSize),"undefined"!==typeof p.customEventTrackingConfiguration&&(a.customEventTrackingConfiguration=p.customEventTrackingConfiguration),
  "undefined"!==typeof p.networkRequestTrackingConfiguration&&(a.networkRequestTrackingConfiguration=p.networkRequestTrackingConfiguration),"undefined"!==typeof p.traceparentconfig&&(a.traceparentconfig=p.traceparentconfig),"undefined"!==typeof p.baggageConfiguration&&(a.baggageConfiguration=p.baggageConfiguration),"undefined"!==typeof p.metaTagsTrackingConfiguration&&(a.metaTagsTrackingConfiguration=p.metaTagsTrackingConfiguration),"undefined"!==typeof p.evtStreamTrackingConfiguration&&(a.evtStreamTrackingConfiguration=
  p.evtStreamTrackingConfiguration),"undefined"!==typeof p.performanceContextConfig&&(a.performanceContextConfig=p.performanceContextConfig),"undefined"!==typeof p.catRcLastUpdatedTs&&(a.catRcLastUpdatedTs=p.catRcLastUpdatedTs),"undefined"!==typeof p.endpoint&&(a.endpoint=p.endpoint),"undefined"!==typeof p.controlIngestConfig&&(a.controlIngestConfig=p.controlIngestConfig),"undefined"!==typeof p.applicationContext&&(a.applicationContext=p.applicationContext),"undefined"!==typeof p.emitterConfiguration&&
  (a.emitterConfiguration=p.emitterConfiguration),"undefined"!==typeof p.di&&(a.di=p.di),"undefined"!==typeof p.clickcc&&(a.clickcc=p.clickcc),"undefined"!==typeof p.collectionRateLimit&&(a.collectionRateLimit=p.collectionRateLimit),a.pageUrlTrackingConfig="undefined"!==typeof p.pageUrlTrackingConfig?p.pageUrlTrackingConfig:null,a.sessionReplayConfiguration="undefined"!==typeof p.sessionReplayConfiguration?p.sessionReplayConfiguration:null,"undefined"!==typeof p.rcv&&(a.rcv=p.rcv),a.valueProbes="undefined"!==
  typeof p.valueProbes?p.valueProbes:null,a.webVitals="undefined"!==typeof p.webVitals?p.webVitals:null)},getBase64Encoding:function(){return k},setBase64Encoding:function(p){k=p},addPayloadDict:function(p){for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(q[v]=p[v])},resetPayloadPairs:function(p){q=Tf(p)?p:{}},setTrackerVersion:function(p){q.tv=p},setTrackerNamespace:function(p){q.tna=p},setAppId:function(p){q.aid=p},setPlatform:function(p){q.p=p},setUserId:function(p){q.uid=p},setConversationId:function(p){t=
  p},getConversationId:function(){return t},setScreenResolution:function(p,v){q.res=p+"x"+v},setViewport:function(p,v){q.vp=p+"x"+v},setColorDepth:function(p){q.cd=p},setTimezone:function(p){q.tz=p},setLang:function(p){q.lang=p},setIpAddress:function(p){q.ip=p},setUseragent:function(p){q.ua=p},addGlobalContexts:function(p){r.addGlobalContexts(p)},clearGlobalContexts:function(){r.clearGlobalContexts()},removeGlobalContexts:function(p){r.removeGlobalContexts(p)},setRCV:function(p){a.rcv=p}}}(null!==b&&
  void 0!==b?b:!0,e,a.callback);var d=P(P({},b),{addPlugin:function(f){var h,g;f=f.plugin;e.push(f);null===(h=f.logger)||void 0===h?void 0:h.call(f,ka);null===(g=f.activateCorePlugin)||void 0===g?void 0:g.call(f,d)}});null===e||void 0===e?void 0:e.forEach(function(f){var h,g;null===(h=f.logger)||void 0===h?void 0:h.call(f,ka);null===(g=f.activateCorePlugin)||void 0===g?void 0:g.call(f,d)});return d}function Tb(a){var b=a.event;a=b.sc;var c=b.dt;b=ke();a={sc:"sp/ue/1-0-0",dt:{sc:a,dt:c}};b.add("e","ue");
  b.addJson("ue_px","ue_pr",a);return b}function Hb(a){return Tb({event:{sc:"cv/re/1-0-1",dt:qc({name:a.name,data:a.data})}})}function ui(a){return Tb({event:{sc:"cv/ve/1-0-6",dt:qc({name:a.name,sid:a.sid,iid:a.iid,clid:a.clid,st:a.st,sst:a.sst,an:a.an,cl:a.cl,lv:a.lv,pn:a.pn,vid:a.vid,fw:a.fw,fwv:a.fwv,mn:a.mn,mv:a.mv,url:a.url,tags:a.tags,cen:a.cen,ced:a.ced,oldsc:a.oldsc,newsc:a.newsc,err:a.err,br:a.br,ft:a.ft,avgbr:a.avgbr})}})}function qc(a,b){void 0===b&&(b={});var c={},e;for(e in a)if(b[e]||
  null!==a[e]&&"undefined"!==typeof a[e])c[e]=a[e];return c}function rc(a){for(var b=a.length;0<=--b;)a[b]=0}function ne(a,b,c,e,d){this.static_tree=a;this.extra_bits=b;this.extra_base=c;this.elems=e;this.max_length=d;this.has_stree=a&&a.length}function oe(a,b){this.dyn_tree=a;this.max_code=0;this.stat_desc=b}function jb(a,b,c,e,d){this.good_length=a;this.max_lazy=b;this.nice_length=c;this.max_chain=e;this.func=d}function vi(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=
  this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=qd;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=
  this.ins_h=0;this.dyn_ltree=new Uint16Array(1146);this.dyn_dtree=new Uint16Array(122);this.bl_tree=new Uint16Array(78);Ib(this.dyn_ltree);Ib(this.dyn_dtree);Ib(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new Uint16Array(16);this.heap=new Uint16Array(573);Ib(this.heap);this.heap_max=this.heap_len=0;this.depth=new Uint16Array(573);Ib(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.sym_end=this.sym_next=this.lit_bufsize=this.sym_buf=
  0}function Mc(a){a=this.options=rd.assign({level:wi,method:xi,chunkSize:16384,windowBits:15,memLevel:8,strategy:yi},a||{});a.raw&&0<a.windowBits?a.windowBits=-a.windowBits:a.gzip&&0<a.windowBits&&16>a.windowBits&&(a.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new cg;this.strm.avail_out=0;var b=Nc.deflateInit2(this.strm,a.level,a.method,a.windowBits,a.memLevel,a.strategy);if(b!==sd)throw Error(Ub[b]);a.header&&Nc.deflateSetHeader(this.strm,a.header);if(a.dictionary){a=
  "string"===typeof a.dictionary?Oc.string2buf(a.dictionary):"[object ArrayBuffer]"===dg.call(a.dictionary)?new Uint8Array(a.dictionary):a.dictionary;b=Nc.deflateSetDictionary(this.strm,a);if(b!==sd)throw Error(Ub[b]);this._dict_set=!0}}function pe(a,b){b=new Mc(b);b.push(a,!0);if(b.err)throw b.msg||Ub[b.err];return b.result}function zi(){this.strm=null;this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=
  this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new Uint16Array(320);this.work=new Uint16Array(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function Pc(a){var b=this.options=rd.assign({chunkSize:65536,windowBits:15,to:""},a||{});b.raw&&0<=b.windowBits&&16>b.windowBits&&(b.windowBits=-b.windowBits,0===b.windowBits&&
  (b.windowBits=-15));!(0<=b.windowBits&&16>b.windowBits)||a&&a.windowBits||(b.windowBits+=32);15<b.windowBits&&48>b.windowBits&&0===(b.windowBits&15)&&(b.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new cg;this.strm.avail_out=0;a=vb.inflateInit2(this.strm,b.windowBits);if(a!==Qc)throw Error(Ub[a]);this.header=new Ai;vb.inflateGetHeader(this.strm,this.header);if(b.dictionary&&("string"===typeof b.dictionary?b.dictionary=Oc.string2buf(b.dictionary):"[object ArrayBuffer]"===
  eg.call(b.dictionary)&&(b.dictionary=new Uint8Array(b.dictionary)),b.raw&&(a=vb.inflateSetDictionary(this.strm,b.dictionary),a!==Qc)))throw Error(Ub[a]);}function qe(a,b){b=new Pc(b);b.push(a);if(b.err)throw b.msg||Ub[b.err];return b.result}function re(a){return a&&"string"===typeof a.valueOf()?!0:!1}function td(a){return Number.isInteger&&Number.isInteger(a)||"number"===typeof a&&isFinite(a)&&Math.floor(a)===a}function se(a){if(!re(a)){a=a.text||"";var b=document.getElementsByTagName("title");b&&
  null!=b[0]&&(a=b[0].text)}return a}function ud(a){var b=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(a);return b?b[1]:a}function fg(a){var b=a.length;"."===a.charAt(--b)&&(a=a.slice(0,b));"*."===a.slice(0,2)&&(a=a.slice(1));return a}function te(a){var b=window,c=Rc("referrer",b.location.href)||Rc("referer",b.location.href);if(c)return c;if(a)return a;try{if(b.top)return b.top.document.referrer;if(b.parent)return b.parent.document.referrer}catch(e){}return document.referrer}function bb(a,b,c,
  e){if("undefined"===typeof a)return!1;if(a.addEventListener)return a.addEventListener(b,c,e),!0;if(a.attachEvent)return a.attachEvent("on"+b,c);a["on"+b]=c}function Rc(a,b){return(a=(new RegExp("^[^#]*[?&]"+a+"=([^&#]*)")).exec(b))?decodeURIComponent(a[1].replace(/\+/g," ")):null}function vd(a,b,c){void 0===c&&(c=63072E3);try{var e=window.localStorage,d=Date.now()+1E3*c;e.setItem("".concat(a,".expires"),d.toString());e.setItem(a,b);return!0}catch(f){return!1}}function gg(a){try{var b=window.localStorage;
  b.removeItem(a);b.removeItem(a+".expires");return!0}catch(c){return!1}}function Bi(a,b){for(var c=window.location.hostname,e="_cnv_root_domain_test_"+(new Date).getTime(),d="_test_value_"+(new Date).getTime(),f=c.split("."),h=f.length-1;0<=h;){var g=f.slice(h,f.length).join(".");wb(e,d,0,"/",g,a,b);if(wb(e)===d){sc(e,g,a,b);c=document.cookie.split("; ");e=[];for(d=0;d<c.length;d++)"_cnv_root_domain_test_"===c[d].substring(0,22)&&e.push(c[d]);c=e;for(e=0;e<c.length;e++)sc(c[e],g,a,b);return g}--h}return c}
  function sc(a,b,c,e){return wb(a,"",-1,"/",b,c,e)}function wb(a,b,c,e,d,f,h){return 1<arguments.length?document.cookie=a+"="+encodeURIComponent(null!==b&&void 0!==b?b:"")+(c?"; Expires="+(new Date(+new Date+1E3*c)).toUTCString():"")+(e?"; Path="+e:"")+(d?"; Domain="+d:"")+(f?"; SameSite="+f:"")+(h?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+a+"=")[1]||"").split(";")[0])}function hg(a){try{var b=null===window||void 0===window?void 0:window.localStorage;return b?(b.removeItem(a),
  !0):!1}catch(c){return!1}}function Ci(a,b){return Ja(Ja([],a,!0),b,!0).reduce(function(c,e){var d=c.find(function(f){return f.key===e.key});d?e.condition&&(d.condition=Ja(Ja([],d.condition||[],!0),e.condition,!0)):c.push(P({},e));return c},[])}function Di(a){try{if("undefined"===typeof a.sel)return wd(),C.SAMPLING_MODES.RCFG;var b=a.sel.pct;if("number"==typeof b&&100>b&&0<b&&0==b%1){if("undefined"!==typeof window&&"undefined"!==typeof window.localStorage){var c=localStorage.getItem(C.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);
  if("undefined"!==typeof c&&null!==c)return parseFloat(c)<=b?xd(a,C.SAMPLING_ACTION.SAMPLED):xd(a,C.SAMPLING_ACTION.NON_SAMPLED);var e=100*Math.random();localStorage.setItem(C.SAMPLING_STORAGE_RANDOM_NUMBER_KEY,e.toString());return e<b?xd(a,C.SAMPLING_ACTION.SAMPLED):xd(a,C.SAMPLING_ACTION.NON_SAMPLED)}return C.SAMPLING_MODES.NONE}if("number"==typeof b&&0===b)return wd(),C.SAMPLING_MODES.NONE;wd();return C.SAMPLING_MODES.RCFG}catch(d){}return C.SAMPLING_MODES.RCFG}function wd(){"undefined"!==typeof window&&
  "undefined"!==typeof window.localStorage&&(localStorage.removeItem(C.SAMPLING_STORAGE_RANDOM_NUMBER_KEY),localStorage.removeItem(C.SAMPLING_MODE_STORAGE_KEY))}function xd(a,b){return"undefined"!==typeof a.act&&"undefined"!==typeof a.act[b]&&(a=a.act[b],"undefined"!==typeof a)?a:C.DEFAULT_SAMPLING_ACTION[b]}function Aa(a,b){return a.length<=b?a:a.slice(0,b-3)+"..."}function ig(a,b,c,e,d){var f=[oa.request_body,oa.response_body,oa.request_headers,oa.response_headers,oa.request_query],h={};"number"===
  typeof d&&(tc=1024*d);if(b&&0<b.length)for(d=0;d<b.length;d++){var g=b[d],m=g.conditions;g=je(g,["conditions"]);try{if(jg(a,m)){m=0;for(var n=Object.entries(a);m<n.length;m++){var r=n[m],k=r[0],q=r[1];f.includes(k)||(h[k]=q)}m=0;for(var t=Object.entries(g);m<t.length;m++){var p=t[m];k=p[0];q=p[1];try{if(q&&0<g[k].length){var v=!1;if(k===oa.response_headers||k===oa.request_headers)v=!0;if(k===oa.request_body){var w=void 0,u=void 0,z=void 0,D=void 0,B=void 0,G=void 0,E=void 0,A=c,J=a;void 0===A&&(A=
  {});var I=yd(null===(E=null===A||void 0===A?void 0:A.requestDetails)||void 0===E?void 0:E.headers);if("undefined"!==typeof I&&(I.toLowerCase().includes("text/plain")||I.toLowerCase().includes("json")||I.toLowerCase().includes("text/javascript")||I.toLowerCase().includes("application/javascript")||I.toLowerCase().includes("text/html"))||"undefined"===typeof I)try{if("string"===typeof(null===(G=null===A||void 0===A?void 0:A.requestDetails)||void 0===G?void 0:G.body)&&(null===(B=null===A||void 0===A?
  void 0:A.requestDetails)||void 0===B?void 0:B.body.length)<=tc)try{J[oa.request_body]=JSON.parse(null===(D=null===A||void 0===A?void 0:A.requestDetails)||void 0===D?void 0:D.body)}catch(sa){}else"object"===pa(null===(z=null===A||void 0===A?void 0:A.requestDetails)||void 0===z?void 0:z.body)&&JSON.stringify(null===(u=null===A||void 0===A?void 0:A.requestDetails)||void 0===u?void 0:u.body).length<=tc&&(J[oa.request_body]=null===(w=null===A||void 0===A?void 0:A.requestDetails)||void 0===w?void 0:w.body)}catch(sa){}}if(k===
  oa.response_body){var aa=J=A=E=G=B=D=z=u=w=void 0,U=void 0,Z=void 0,M=void 0,F=c,ca=a;void 0===F&&(F={});a:{var K=null===(M=null===F||void 0===F?void 0:F.responseDetails)||void 0===M?void 0:M.headers;try{M=void 0;"undefined"!=typeof K&&null!==K&&(M=K["content-length"]||K["Content-Length"]||K["Content-length"]);var ha="undefined"==typeof M||null===M||isNaN(M)?M:Number(M);break a}catch(sa){}ha=void 0}var S=yd(null===(Z=null===F||void 0===F?void 0:F.responseDetails)||void 0===Z?void 0:Z.headers);if("undefined"!==
  typeof S&&(S.toLowerCase().includes("text/plain")||S.toLowerCase().includes("json")||S.toLowerCase().includes("text/javascript")||S.toLowerCase().includes("application/javascript")||S.toLowerCase().includes("text/html")))if("undefined"!==typeof ha&&ha<=tc)if("string"===typeof(null===(U=null===F||void 0===F?void 0:F.responseDetails)||void 0===U?void 0:U.body))try{ca[oa.response_body]=JSON.parse(null===(aa=null===F||void 0===F?void 0:F.responseDetails)||void 0===aa?void 0:aa.body)}catch(sa){}else"object"===
  pa(null===(J=null===F||void 0===F?void 0:F.responseDetails)||void 0===J?void 0:J.body)&&(ca[oa.response_body]=null===(A=null===F||void 0===F?void 0:F.responseDetails)||void 0===A?void 0:A.body);else if("undefined"===typeof ha)try{if("string"===typeof(null===(E=null===F||void 0===F?void 0:F.responseDetails)||void 0===E?void 0:E.body)&&(null===(B=null===(G=null===F||void 0===F?void 0:F.responseDetails)||void 0===G?void 0:G.body)||void 0===B?void 0:B.length)<=tc)try{ca[oa.response_body]=JSON.parse(null===
  (D=null===F||void 0===F?void 0:F.responseDetails)||void 0===D?void 0:D.body)}catch(sa){}else"object"===pa(null===(z=null===F||void 0===F?void 0:F.responseDetails)||void 0===z?void 0:z.body)&&JSON.stringify(null===(u=null===F||void 0===F?void 0:F.responseDetails)||void 0===u?void 0:u.body).length<=tc&&(ca[oa.response_body]=null===(w=null===F||void 0===F?void 0:F.responseDetails)||void 0===w?void 0:w.body)}catch(sa){}}k===oa.request_query&&ue(a,e);var qa=Ei(a[k],g[k],v);0!==Object.keys(qa).length&&
  (h[k]=qa)}}catch(sa){h[k]=void 0}}return h}}catch(sa){console.warn("Conviva App Tracker: Error in collecting attributes nwreqConfig ".concat(sa))}}h=P({},a);for(a=0;a<f.length;a++)b=f[a],"undefined"!==typeof h&&null!==h&&h.hasOwnProperty(b)&&delete h[b];return h}function Fi(a,b,c){var e,d,f,h,g,m,n;if(a&&0<a.length){var r={targetUrl:null===(e=null===b||void 0===b?void 0:b.requestDetails)||void 0===e?void 0:e.url};for(e=0;e<a.length;e++){var k=a[e],q=k.conditions;k=je(k,["conditions"]);try{if(jg(r,
  q)){q=0;for(var t=Object.entries(k);q<t.length;q++){var p=t[q],v=p[0],w=p[1];try{if(w&&0<k[v].length){if(v===oa.response_headers&&(r[v]=null===(d=null===b||void 0===b?void 0:b.responseDetails)||void 0===d?void 0:d.headers,Array.isArray(w)))for(var u=0,z=w;u<z.length;u++){var D=z[u],B=Vb(r[v],D);if(null!==B&&void 0!==B)return B}if(v===oa.request_headers&&(r[v]=null===(f=null===b||void 0===b?void 0:b.requestDetails)||void 0===f?void 0:f.headers,Array.isArray(w)))for(u=0,z=w;u<z.length;u++)if(D=z[u],
  B=Vb(r[v],D),null!==B&&void 0!==B)return B;if(v===oa.request_body){var G=yd(null===(h=null===b||void 0===b?void 0:b.requestDetails)||void 0===h?void 0:h.headers);if("undefined"!==typeof G&&(G.toLowerCase().includes("text/plain")||G.toLowerCase().includes("json")||G.toLowerCase().includes("text/javascript")||G.toLowerCase().includes("application/javascript")||G.toLowerCase().includes("text/html"))||"undefined"===typeof G)if(r[v]=null===(g=null===b||void 0===b?void 0:b.requestDetails)||void 0===g?void 0:
  g.body,Array.isArray(w))for(u=0,z=w;u<z.length;u++)if(D=z[u],B=Vb(r[v],D),null!==B&&void 0!==B)return B}if(v===oa.response_body){var E=yd(null===(m=null===b||void 0===b?void 0:b.responseDetails)||void 0===m?void 0:m.headers);if("undefined"!==typeof E&&(E.toLowerCase().includes("text/plain")||E.toLowerCase().includes("json")||E.toLowerCase().includes("text/javascript")||E.toLowerCase().includes("application/javascript")||E.toLowerCase().includes("text/html"))&&(r[v]=null===(n=null===b||void 0===b?
  void 0:b.responseDetails)||void 0===n?void 0:n.body,Array.isArray(w)))for(u=0,z=w;u<z.length;u++)if(D=z[u],B=Vb(r[v],D),null!==B&&void 0!==B)return B}if(v===oa.request_query&&(ue(r,c),Array.isArray(w)))for(u=0,z=w;u<z.length;u++)if(D=z[u],B=Vb(r[v],D),null!==B&&void 0!==B)return B}}catch(A){console.warn("Conviva App Tracker: Error in extracting attributes nwreqConfig ".concat(A))}}}}catch(A){console.warn("Conviva App Tracker: Error in collecting attributes nwreqConfig ".concat(A))}}}}function Gi(a,
  b,c){try{if("string"===typeof c&&"string"===typeof a&&"*"===c.trim())return!0;switch(b){case "==":case "equal":return a===c;case "!=":return a!==c;case ">":return a>c;case "<":return a<c;case ">=":return a>=c;case "<=":return a<=c;case "contains":return""!==c&&"string"===typeof a&&"string"===typeof c&&-1!==a.toLowerCase().indexOf(c.toLowerCase());default:return!1}}catch(e){return console.warn("Conviva App Tracker: Error in Compare values nwreq ".concat(e)),!1}}function jg(a,b){try{for(var c=0;c<b.length;c++){var e=
  b[c],d=!1;if(0<Object.keys(e).length)for(var f=0,h=Object.entries(e);f<h.length;f++){var g=h[f],m=g[1],n=a[g[0]];if(0<m.length){for(var r=0,k=0,q=m;k<q.length;k++){var t=q[k],p="contains",v=t;if("object"===pa(t)&&t.length)p=t[1],v=t[0];else if("boolean"===typeof t||null===t)p="equal",v=t;if(Gi(n,p,v)){d=!0;break}else if(d=!1,r+1===m.length)break;r++}if(!1===d)break}}if(d)return!0}}catch(w){console.warn("Conviva App Tracker: Error in Applying nwreqConfig ".concat(w))}return!1}function Ei(a,b,c){var e=
  {};try{for(var d=0;d<b.length;d++){var f=b[d],h=a,g=e;c&&(f=f.toLowerCase(),h=h&&Object.entries(h).reduce(function(k,q){var t=q[1];k[q[0].toLowerCase()]=t;return k},{}));for(var m=f.split("."),n=0;n<m.length;n++){var r=m[n];if("undefined"!==typeof h&&null!==h&&h.hasOwnProperty(r))n===m.length-1?g[r]=h[r]:(g[r]=g[r]||{},h=h[r],g=g[r]);else break}}}catch(k){console.warn("Conviva App Tracker: Error in filtering schema object nwreq ".concat(k))}return e}function ue(a,b){try{var c=(null===a||void 0===
  a?void 0:a.targetUrl)||(null===a||void 0===a?void 0:a.url);if(c&&"string"===typeof c&&c.includes("?")){var e=void 0;try{var d=c.indexOf("?");if(-1===d)return;var f=c.indexOf("#",d),h=-1!==f?c.substring(d+1,f):c.substring(d+1);if(!h||h.length>(b||10240))return;e="undefined"!==typeof URLSearchParams?new URLSearchParams(h):null}catch(t){console.warn("Conviva App Tracker: Error creating URLSearchParams: ".concat(t));return}var g={};if(e instanceof URLSearchParams)e.forEach(function(t,p){g[p]=t});else{b=
  0;for(var m=c.substring(c.indexOf("?")+1).split("&");b<m.length;b++){var n=m[b];if(n){var r=n.indexOf("="),k=0<r?decodeURIComponent(n.substring(0,r)):decodeURIComponent(n);if(k){var q=0<r&&r<n.length-1?decodeURIComponent(n.substring(r+1)):"";g[k]=q}}}}0<Object.keys(g).length&&(a[oa.request_query]=g)}}catch(t){console.warn("Conviva App Tracker: Error parsing request query parameters: ".concat(t))}}function ve(a,b,c,e,d,f){for(var h={},g=0;g<b.length;g++){var m=b[g],n=m.req,r=m.opt,k=m.smb;m=m.rqq;
  try{var q=e([{req:n,opt:r}],[],a,c);if(null===q||void 0===q?0:q.result){if(k&&Array.isArray(k)){var t=kg(a,k,!1,f);0<Object.keys(t).length&&Object.assign(h,t)}if(m&&Array.isArray(m)&&(ue(a,d),t=kg(a[oa.request_query],m,!1,f),0<Object.keys(t).length)){if(void 0===h[oa.request_query]||null===h[oa.request_query])h[oa.request_query]={};Object.assign(h[oa.request_query],t)}return h}}catch(p){console.warn("Conviva App Tracker: Error in collecting conditional SSE attributes ".concat(p))}}return h}function kg(a,
  b,c,e){void 0===e&&(e=!1);if(e)return Hi(a,b,c);e={};try{for(var d=0;d<b.length;d++){var f=b[d],h=a,g=e;c&&(f=f.toLowerCase(),h=h&&Object.entries(h).reduce(function(k,q){var t=q[1];k[q[0].toLowerCase()]=t;return k},{}));for(var m=f.split("."),n=0;n<m.length;n++){var r=m[n];if("undefined"!==typeof h&&null!==h&&h.hasOwnProperty(r))if(n===m.length-1)g[r]=h[r];else{g[r]=g[r]||{};h=h[r];if("string"===typeof h&&n<m.length-1)try{h=JSON.parse(h)}catch(k){}g=g[r]}else break}}}catch(k){console.warn("Conviva App Tracker: Error in filtering SSE object ".concat(k))}return e}
  function Hi(a,b,c){var e={};try{for(var d=new Map,f=new Set,h=0;h<b.length;h++){var g=b[h];c&&(g=g.toLowerCase());var m=g.split(".");if(1===m.length)f.add(m[0]);else if(2===m.length&&!isNaN(Number(m[1]))){var n=m[0],r=Number(m[1]),k="".concat(n,".").concat(r);d.has(k)||d.set(k,[]);d.get(k).push("")}else if(1<m.length&&!isNaN(Number(m[1]))){n=m[0];r=Number(m[1]);var q=m.slice(2);k="".concat(n,".").concat(r);d.has(k)||d.set(k,[]);d.get(k).push(q.join("."))}}b=0;for(var t=Array.from(f);b<t.length;b++){var p=
  t[b],v=a;c&&(v=v&&Object.entries(v).reduce(function(J,I){var aa=I[1];J[I[0].toLowerCase()]=aa;return J},{}));"undefined"!==typeof v&&null!==v&&v.hasOwnProperty(p)&&(e[p]=v[p])}f=0;for(var w=Array.from(d.entries());f<w.length;f++){var u=w[f];k=u[0];var z=u[1],D=k.split(".");n=D[0];r=Number(D[1]);v=a;d=e;c&&(v=v&&Object.entries(v).reduce(function(J,I){var aa=I[1];J[I[0].toLowerCase()]=aa;return J},{}));if("undefined"!==typeof v&&null!==v&&v.hasOwnProperty(n)&&(v=v[n],Array.isArray(d[n])||(d[n]=[]),
  d=d[n],Array.isArray(v)&&void 0!==v[r])){for(v=v[r];d.length<=r;)d.push(null);var B=d[r]||{};t=0;for(p=z;t<p.length;t++){var G=p[t];if(""===G)B=v;else for(q=G.split("."),b=v,h=B,g=0;g<q.length;g++){var E=q[g];if("undefined"!==typeof b&&null!==b&&b.hasOwnProperty(E))if(g===q.length-1){var A=b[E];if("string"===typeof A)try{A=JSON.parse(A)}catch(J){}h[E]=A}else{if(isNaN(Number(q[g+1]))){if(h[E]&&"object"===pa(h[E])||(h[E]={}),b=b[E],"string"===typeof b&&g<q.length-1)try{b=JSON.parse(b)}catch(J){}}else if(h[E]&&
  "object"===pa(h[E])||(h[E]={}),b=b[E],"string"===typeof b&&g<q.length-1)try{b=JSON.parse(b)}catch(J){}h=h[E]}else break}}d[r]=B}}}catch(J){console.warn("Conviva App Tracker: Error in filtering SSE ArrayBuffer object ".concat(J))}return e}function Vb(a,b){return b?b.split(".").reduce(function(c,e){if(null!=c){if("string"===typeof c)try{c=JSON.parse(c)}catch(d){}e=/^\d+$/.test(e)?Number(e):e;return null===c||void 0===c?void 0:c[e]}},a):a}function lg(a,b,c){if("translate.googleusercontent.com"===a)""===
  c&&(c=b),a=(a=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(b))&&1<(null===a||void 0===a?void 0:a.length)?Rc("u",a[1]):null,b=null!==a&&void 0!==a?a:"",a=ud(b);else if("cc.bingj.com"===a||"webcache.googleusercontent.com"===a)b=document.links[0].href,a=ud(b);return[a,b,c]}function Ii(a,b,c,e){var d=Math.round((new Date).getTime()/1E3);a?(a=a.split("."),a.unshift("0")):a=["1",b,d,e,d,"",c];a[6]&&"undefined"!==a[6]||(a[6]=Gb.v4());a[7]&&"undefined"!==a[7]||(a[7]="");a[8]&&"undefined"!==a[8]||(a[8]=
  "");a[9]&&"undefined"!==a[9]||(a[9]="");a[10]&&"undefined"!==a[10]||(a[10]=-1);var f=function(h,g){h=parseInt(h);return isNaN(h)?g:h};b=function(h){return h?f(h,void 0):void 0};return[a[0],a[1],f(a[2],d),f(a[3],e),f(a[4],d),b(a[5]),a[6],a[7],a[8],b(a[9])]}function Sc(a,b){void 0===b&&(b=1);"0"===a[0]?(a[7]=a[6],a[5]=a[4],a[3]++):a[3]=b;b=Gb.v4();a[6]=b;a[8]="";a[9]=void 0;return b}function we(a){a[4]=Math.round((new Date).getTime()/1E3)}function zd(a){return{activateLCPObserver:function(){try{PerformanceObserver&&
  (new PerformanceObserver(function(b){try{b.getEntries().forEach(function(c){var e;if("largest-contentful-paint"===c.entryType){var d=null===performance||void 0===performance?void 0:performance.getEntriesByType("navigation"),f=void 0;d&&0<(null===d||void 0===d?void 0:d.length)&&(f=null===(e=d[0])||void 0===e?void 0:e.activationStart);xa=P(P({},c.toJSON()),{performanceNavigationActivationStart:null!==f&&void 0!==f?f:0})}})}catch(c){console.warn("convivaAppTracker error in conviva lcp observer "+c)}})).observe({type:"largest-contentful-paint",
  buffered:!0})}catch(b){console.warn("convivaAppTracker conviva_lcp failed "+b)}},contexts:function(){try{switch(a){case C.PERFORMANCE_CONTEXT.DISABLED:return[];case C.PERFORMANCE_CONTEXT.PERFORMANCE_NAVIGATION_TIMING:return Ji();default:var b=window,c=b.performance||b.mozPerformance||b.msPerformance||b.webkitPerformance,e=c.timing;var d=c?[{sc:"w3/pt/1-0-0",dt:{navigationStart:e.navigationStart,domainLookupStart:e.domainLookupStart,domainLookupEnd:e.domainLookupEnd,responseStart:e.responseStart,responseEnd:e.responseEnd,
  loadEventEnd:e.loadEventEnd}}]:[];return Ja(Ja([],d,!0),Ki().contexts(),!0)}}catch(f){return console.warn("convivaAppTracker problem in perfromance context "+f),[]}}}}function Ji(){var a,b,c;try{var e=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};if(e.getEntriesByType){var d=e.getEntriesByType("navigation")[0],f=null!==(a=null===e||void 0===e?void 0:e.timeOrigin)&&void 0!==a?a:0;if(!d)return[];var h={st:Math.floor(f+d.startTime),dls:Math.floor(f+d.domainLookupStart),
  dle:Math.floor(f+d.domainLookupEnd),rss:Math.floor(f+d.responseStart),rse:Math.floor(f+d.responseEnd),le:Math.floor(f+d.loadEventEnd),dur:Math.floor(d.loadEventEnd-d.activationStart),as:Math.floor(f+d.activationStart)};if(null===xa||void 0===xa?0:xa.startTime)h.lcp={rt:Math.floor(f+xa.startTime),url:128<(null===(b=null===xa||void 0===xa?void 0:xa.url)||void 0===b?void 0:b.length)?null===(c=null===xa||void 0===xa?void 0:xa.url)||void 0===c?void 0:c.substring(0,128):xa.url,sz:xa.size};return[{sc:"cv/pc/1-0-1",
  dt:h}]}return[]}catch(g){return console.warn("ConvivaAppTracker: issue will getting performance Navigation timing context"),[]}}function Ki(){return{contexts:function(){var a,b,c;try{if("undefined"!=typeof(null===xa||void 0===xa?void 0:xa.startTime)&&"number"===typeof(null===xa||void 0===xa?void 0:xa.startTime))return[{sc:"cv/lcp/1-0-0",dt:{lcp:Math.round(xa.startTime)-(null!==(a=xa.performanceNavigationActivationStart)&&void 0!==a?a:0),url:128<(null===(b=null===xa||void 0===xa?void 0:xa.url)||void 0===
  b?void 0:b.length)?null===(c=null===xa||void 0===xa?void 0:xa.url)||void 0===c?void 0:c.substring(0,128):xa.url}}]}catch(e){}return[]}}}function uc(a,b,c,e,d,f){var h;try{var g=null,m=null!==(h=f.url)&&void 0!==h?h:"";if(!m)return!0;if(Li.some(function(t){return m.includes(t)}))return!1;var n=new URL(m);var r=n.protocol.replace(":","");h=function(t,p){var v;t=mg(t,{scheme:r,host:n.hostname,path:decodeURIComponent(n.pathname)},kb.NETWORK_REQUEST);return t.matched?t.opt?Jb(t.opt,{responseStatusCode:null!==
  (v=null===d||void 0===d?void 0:d.status)&&void 0!==v?v:0,duration:Date.now()-f.requestTimestamp},kb.NETWORK_REQUEST)===p:p:null};a&&null===g&&(g=h(a,!0));b&&null===g&&(g=h(b,!1));if(null===g){var k=(null===c||void 0===c?void 0:c.includes("*"))||(null===c||void 0===c?void 0:c.some(function(t){return t&&""!==t?m.includes(t):!1})),q=null===e||void 0===e?void 0:e.some(function(t){return t&&""!==t?m.includes(t):!1});g=!k||q}return!0===g?!0:!1}catch(t){return!0}}function vc(a,b,c,e){try{var d=null;e=null!==
  e&&void 0!==e?e:"";if(!e)return{result:!0};var f=new URL(e);var h=f.protocol.replace(":","");e=function(g,m){var n;g=mg(g,P({scheme:h,host:f.hostname,path:decodeURIComponent(f.pathname)},c),kb.SSE_EVENT);if(g.matched){if(g.opt){var r=Jb(g.opt,c,kb.SSE_EVENT);return!0!==(null===(n=null===g||void 0===g?void 0:g.item)||void 0===n?void 0:n.count)||r?{result:r===m,matchedConfig:g.item,shouldSend:!0}:{result:g.matched===m,matchedConfig:g.item,shouldSend:!1}}return{result:m,matchedConfig:g.item,shouldSend:!1}}return null};
  a&&null===d&&(d=e(a,!0));b&&null===d&&(d=e(b,!1));(!a||Array.isArray(a)&&0===a.length)&&null===d&&(d={result:!0});return d}catch(g){return{result:!0}}}function mg(a,b,c){try{for(var e=0;e<a.length;e++){var d=a[e],f=d.opt;if(Jb(d.req,b,c))return{matched:!0,opt:f||null,item:d}}return{matched:!1,opt:null}}catch(h){return{matched:!1,opt:null}}}function Jb(a,b,c){try{if(!a)return!1;if("and"===a.type){for(var e=0,d=a.cond;e<d.length;e++){var f=d[e];if(!Jb(f,b,c))return!1}return!0}if("or"===a.type){d=0;
  for(e=a.cond;d<e.length;d++)if(f=e[d],Jb(f,b,c))return!0;return!1}return c===kb.NETWORK_REQUEST?Mi(a,b):c===kb.CUSTOM_EVENT?Ni(a,b):c===kb.SSE_EVENT?Oi(a,b):!1}catch(h){return!1}}function Ni(a,b){var c=a.key,e=a.op;a=a.val;if(!c||!e)return!1;if("undefined"!==typeof b[c]){if(re(b[c]))return Kb(b[c],e,a);if("boolean"===typeof b[c])switch(b=b[c],e){case "!=":return b!==a;case "==":return b===a;default:return!1}if(Number.isInteger(b[c]))return Ad(b[c],e,a)}return!1}function Oi(a,b){var c=a.key,e=a.op;
  a=a.val;if(!c||!e)return!1;switch(c){case "sch":return b.scheme?Kb(b.scheme,e,a):!1;case "host":return b.host?Kb(b.host,e,a):!1;case "path":return b.path?Kb(b.path,e,a):!1;default:b=Vb(b,c);if(null!==b&&void 0!==b){if("string"===typeof b)return Kb(b,e,a);if("boolean"===typeof b)switch(e){case "!=":return b!==a;case "==":return b===a;default:return!1}if("number"===typeof b&&Number.isInteger(b))return Ad(b,e,a)}return!1}}function Mi(a,b){var c=a.key,e=a.op;a=a.val;if(!c||!e)return!1;switch(c){case "sch":return b.scheme?
  Kb(b.scheme,e,a):!1;case "host":return b.host?Kb(b.host,e,a):!1;case "path":return b.path?Kb(b.path,e,a):!1;case "dur":return b.duration?Ad(b.duration,e,a):!1;case "rsc":return void 0!==b.responseStatusCode&&0<=b.responseStatusCode?Ad(b.responseStatusCode,e,a):!1;default:return!1}}function Kb(a,b,c){return"=="===b&&Array.isArray(c)?(b=c,b.includes("*")?!0:b.some(function(e){return e&&""!==e?a===e:!1})):"contains"===b&&Array.isArray(c)?(b=c,b.includes("*")?!0:b.some(function(e){return e&&""!==e?a.includes(e):
  !1})):"sw"===b&&Array.isArray(c)?(b=c,b.includes("*")?!0:b.some(function(e){return e&&""!==e?a.startsWith(e):!1})):"ew"===b&&Array.isArray(c)?(b=c,b.includes("*")?!0:b.some(function(e){return e&&""!==e?a.endsWith(e):!1})):!1}function Ad(a,b,c){if("in"===b.toLowerCase()&&Array.isArray(c))return c.includes(a);if("range"===b.toLowerCase()&&"object"===pa(c)){b=c.min;var e=c.max,d=c.minExclusive;c=c.maxExclusive;return void 0!==b&&void 0!==e?a>=b&&a<=e:void 0!==d&&void 0!==c?a>d&&a<c:!1}if(td(c))switch(b){case "!=":return a!==
  c;case ">":return a>c;case ">=":return a>=c;case "<":return a<c;case "<=":return a<=c;case "==":return a===c}return!1}function ng(a,b,c){var e=null;a:{for(var d=0;d<a.length;d++){var f=a[d];var h=f.opt;if(Jb(f.req,b,c))if(h){if(Jb(h,b,c)){a=!0;break a}}else{a=!0;h=null;break a}}a=!1;h=null}a&&(e=h?Jb(h,b,c)?!0:!1:!0);return e}function Ga(a,b,c){var e,d;try{if(a&&b){var f=null===a||void 0===a?void 0:a.getConfig();a:{var h,g,m,n={message:""};try{var r=c.message,k=c.error,q=c.className,t=c.extraData;
  if(r)n.message=r;else if("string"===typeof k)if(0<k.trim().length)n.message=k;else{ka.warn("Conviva Eco Sensor:: Mandatory field message is missing");var p=null;break a}else"object"===pa(k)&&("string"===typeof k.message&&0<k.message.trim().length&&(n.message=Aa(k.message,C.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_MESSAGE_LENGTH)),"string"===typeof k.name&&0<k.name.trim().length&&(n.exceptionName=Aa(k.name,C.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_EXCEPTION_NAME_LENGTH)),"string"===typeof k.stack&&0<k.stack.trim().length&&
  (n.stackTrace=Aa(k.stack,C.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_STACK_LENGTH)));if(0===n.message.trim().length){ka.warn("Conviva Eco Sensor:: Mandatory field message is missing");p=null;break a}"string"===typeof q&&0<q.trim().length&&(n.className=Aa(q,C.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_CLASSNAME_LENGTH));"undefined"!==typeof t&&null!==t&&(n.extraData=t);var v=null===a||void 0===a?void 0:a.getConfig();if(null===v||void 0===v?0:v.rcv)n.remoteConfigVersion=v.rcv;if(null===c||void 0===c?0:c.configAppliedTime)n.configAppliedTime=
  null===c||void 0===c?void 0:c.configAppliedTime;if(null===v||void 0===v?0:v.cacheRefreshInterval)n.cacheRefreshInterval=v.cacheRefreshInterval;if(null===c||void 0===c?0:c.configAppliedSrc)n.configAppliedSrc=null===c||void 0===c?void 0:c.configAppliedSrc;if(localStorage){var w=localStorage.getItem(C.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);"undefined"!==typeof w&&null!==w&&(n.samplingRandomNumber=parseFloat(w))}"number"===typeof(null===(g=null===(h=null===v||void 0===v?void 0:v.controlIngestConfig)||void 0===
  h?void 0:h.sel)||void 0===g?void 0:g.pct)?(n.samplingPercentage=v.controlIngestConfig.sel.pct,n.samplingDecision=C.SAMPLING_STATUS.DERIVED,void 0!=pa(null===(m=null===v||void 0===v?void 0:v.controlIngestConfig)||void 0===m?void 0:m.act)&&(n.extraData=P(P({},n.extraData),{samplingActionConfig:v.controlIngestConfig.act}))):n.samplingDecision=C.SAMPLING_STATUS.DEFAULT;"function"==typeof b&&"string"==typeof b()&&(n.samplingStatus=b()==C.SAMPLING_MODES.RCFG?!0:!1)}catch(I){ka.warn("Error occurred while generating diagnostic object",
  I);p=null;break a}p=n}var u;if(!(u=!p)){var z;try{var D=null===a||void 0===a?void 0:a.getConfig(),B=(null===(z=null===D||void 0===D?void 0:D.di)||void 0===z?void 0:z.lim)||10,G=Date.now();6E4<=G-og&&(xe=0,og=G);xe++;var E=xe>B?!1:!0}catch(I){ka.warn("Conviva Eco Sensor:: Error occured while checking diagnostic event is allowed",I),E=!1}u=!E}if(!u&&"boolean"==typeof(null===(e=null===f||void 0===f?void 0:f.di)||void 0===e?void 0:e.en)&&!0===(null===(d=null===f||void 0===f?void 0:f.di)||void 0===d?void 0:
  d.en))if(null===a||void 0===a)void 0;else{var A=a.track;var J=Tb({event:{sc:"iglu:com.conviva/di/jsonschema/1-0-4",dt:qc({msg:p.message,cn:p.className,st:p.stackTrace,en:p.exceptionName,ed:p.extraData,rcv:p.remoteConfigVersion,cat:p.configAppliedTime,cri:p.cacheRefreshInterval,csrc:p.configAppliedSrc,srn:p.samplingRandomNumber,spr:p.samplingPercentage,ss:p.samplingStatus,sd:p.samplingDecision})}});A.call(a,J)}}}catch(I){ka.warn("Conviva Eco Sensor:: Error occurred while sending reportDiagnosticError",
  I)}}function Pi(){(null===window||void 0===window?0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",function(){pg()},{signal:Ha})}function pg(){var a,b,c=null===(a=null===ya||void 0===ya?void 0:ya.core)||void 0===a?void 0:a.getConfig();Wb=(null===(b=null===c||void 0===c?void 0:c.clickcc)||void 0===b?void 0:b.cssSelectorList)||Wb;Wb=(null===Wb||void 0===Wb?void 0:Wb.replace(/\s+/g,""))||""}function Qi(a,b){var c;a=a.querySelectorAll(qg);if(0===a.length)return null;if(1===
  a.length&&0<a[0].offsetWidth&&0<a[0].offsetHeight)return a[0];var e=b.clientX;b=b.clientY;if(a.length<=("IntersectionObserver"in window&&"fetch"in window&&"Promise"in window?C.MAX_NATIVE_SCAN:C.MAX_NATIVE_SCAN_LEGACY))for(var d=0;d<a.length;d++){var f=null===(c=a[d])||void 0===c?void 0:c.getBoundingClientRect();if(f&&e>=f.left&&e<=f.right&&b>=f.top&&b<f.bottom)return a[d]}return null}function rg(a,b){if(!(a instanceof HTMLElement||a instanceof SVGElement))return null;var c=null===a||void 0===a?void 0:
  a.closest(qg);if(c)return c;if(c=null===a||void 0===a?void 0:a.closest(Wb))return Qi(c,b)||c;b=a;c=0;var e=C.CLICK_MAX_DEPTH;a:{if(b.style){if(b.style.visibility&&""!==b.style.visibility&&"hidden"==b.style.visibility||b.style.pointerEvents&&""!==b.style.pointerEvents&&"none"==b.style.pointerEvents){var d=!1;break a}if(b.style.cursor&&""!==b.style.cursor&&"pointer"==b.style.cursor){d=!0;break a}}d=getComputedStyle(b);d="hidden"===d.visibility||"none"===d.pointerEvents?!1:"pointer"===d.cursor?!0:!1}if(d){for(;b&&
  b!==document.documentElement&&(b instanceof HTMLElement||b instanceof SVGElement)&&c<e;){if("function"===typeof b.onclick)return b;b=b.parentElement;c++}return a.closest(Ri)||a}return null}function Si(a){return"undefined"!==typeof CSS&&CSS.escape?CSS.escape(a):a.replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$&")}function Ti(a){try{if(!a||a.nodeType!==Node.ELEMENT_NODE)return null;if(a.id&&"string"===typeof a.id&&""!==a.id.trim()&&1===document.querySelectorAll("#".concat(Si(a.id))).length)return'//*[@id="'.concat(a.id,
  '"]');var b=[],c=a;for(a=function(){var e=c.tagName.toLowerCase(),d=c.parentElement;if(d){var f=Array.from(d.children).filter(function(h){return h.tagName.toLowerCase()===e});1<f.length&&(f=f.indexOf(c)+1,e+="[".concat(f,"]"));b.unshift(e);c=d}else if(d=c.getRootNode(),d instanceof ShadowRoot)b.unshift(e),b.unshift(">>"),c=d.host;else return b.unshift(e),"break"};c&&c.nodeType===Node.ELEMENT_NODE&&"break"!==a(););return"/"+b.join("/")}catch(e){return ka.warn("Conviva Browser Tracker caused Exception in calculateXPath method of user click tracking module",
  e),null}}function Ui(a,b){var c,e;try{if(!ya||!ya.core||!a)return null;var d=ya.core.getConfig();if(!0!==(null===(c=null===d||void 0===d?void 0:d.clickcc)||void 0===c?void 0:c.en))return null;var f=null===(e=null===d||void 0===d?void 0:d.clickcc)||void 0===e?void 0:e.uiMode;return f===Tc.RAW?a:f===Tc.BOTH?rg(a,b)||a:rg(a,b)}catch(h){return ka.warn("Conviva App Tracker caused Exception in getTrackedElement method of user click tracking module",h),null}}function sg(a){try{var b=Date.now(),c=C.CLICK_DEBOUNCING_DELAY;
  if(null===ye||b-ye>=c){var e,d,f,h,g,m,n;try{var r,k;if(null===(r=a.target)||void 0===r?0:r.shadowRoot)var q=null===(k=a.composedPath)||void 0===k?void 0:k.call(a);var t=Ui(q&&q[0]||a.target,a);if(t&&(t instanceof HTMLElement||t instanceof HTMLInputElement)){a={};var p=C.CLICK_KEY_MAX_LENGTH;if(null===t||void 0===t?0:t.id)a.id=Aa(t.id,p);if(null===t||void 0===t?0:t.className)a["class"]=Aa(t.className,p);if(null===t||void 0===t?0:t.tagName)a.elementName=Aa(t.tagName.toLowerCase(),p);if(null===(e=null===
  t||void 0===t?void 0:t.innerText)||void 0===e?0:e.trim())a.text=Aa(t.innerText.trim(),p);if(null===t||void 0===t?0:t.getAttribute("name"))a.name=Aa(t.getAttribute("name")||"",p);if(null===t||void 0===t?0:t.getAttribute("type"))a.elementType=Aa((null===(d=t.getAttribute("type"))||void 0===d?void 0:d.toLowerCase())||"",p);if(null===t||void 0===t?0:t.placeholder)a.placeholder=Aa(t.placeholder,p);(null===t||void 0===t?0:t.getAttribute("type"))&&"password"!==(null===t||void 0===t?void 0:t.getAttribute("type"))&&
  t.value&&(a.value=Aa(t.value,p));var v=null===(f=null===ya||void 0===ya?void 0:ya.core)||void 0===f?void 0:f.getConfig(),w=null===(h=null===v||void 0===v?void 0:v.clickcc)||void 0===h?void 0:h.collectattr;if(w)for(e=0;e<w.length;e++){var u=w[e],z=null===t||void 0===t?void 0:t.getAttribute(u);z&&(a[u]=Aa(z,p))}try{if("A"===t.tagName.toUpperCase()||"AREA"===t.tagName.toUpperCase()){if(null!=t.href){var D=t.hostname||ud(t.href),B=D.toLowerCase(),G=t.href.replace(D,B);/^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):/i.test(G)||
  (a.targetUrl=Aa(decodeURIComponent(G),p))}t.target&&(a.target=Aa(t.target,p))}}catch(F){ka.warn("Conviva App Tracker caused Exception in handleClick href setting",F)}var E=null===(g=t.querySelector("use"))||void 0===g?void 0:g.getAttribute("xlink:href");E&&(a["xlink:href"]=Aa(E,p));var A=Ti(t);A&&(a.xpath=Aa(A,p));var J=null!==(m=null===v||void 0===v?void 0:v.clickcc)&&void 0!==m?m:{},I=kb.CUSTOM_EVENT,aa=J.collect,U=J.block;g=null;aa&&(g=ng(aa,a,I));if(U&&null===g){var Z=ng(U,a,I);"boolean"===typeof Z&&
  (g=!Z)}var M=null===g?!0:g;if("boolean"!==typeof M||!1!==M)null===(n=null===ya||void 0===ya?void 0:ya.core)||void 0===n?void 0:n.track(Hb({name:"conviva_click",data:JSON.stringify(a)}))}}catch(F){ka.warn("Conviva App Tracker caused Exception in handleClick method of user click tracking module",F)}0<Bd&&Ga(ya.core,ya.getSamplingMode,{className:"clickTracking - droppedEvent",message:"total click events dropped to Avoid tracking spam from rapid clicks",extraData:{clickEventDropped:Bd}});Bd=0}else Bd++;
  ye=b}catch(F){console.warn("Conviva App Tracker caused Exception in immediateClickHandler method of user click tracking module",F)}}function Vi(){try{Uc||"undefined"===typeof document||(document.body?(Xb=sg,bb(document.body,"click",Xb,{signal:Ha,capture:!0,passive:!0}),Uc=!0):document.addEventListener("DOMContentLoaded",function(){if(null===document||void 0===document?0:document.body)Xb=sg,bb(document.body,"click",Xb,{signal:Ha,capture:!0,passive:!0}),Uc=!0}),pg(),Pi())}catch(a){ka.warn("Conviva App Tracker caused Exception in enableUserClickTracking method of user click tracking module",
  a)}}function tg(){try{Uc&&"undefined"!==typeof document&&document.body&&(Xb&&(document.body.removeEventListener("click",Xb),Xb=null),Uc=!1)}catch(a){ka.warn("Conviva App Tracker caused Exception in disableUserClickTracking method of user click tracking module",a)}}function Cd(a,b,c,e){return(null===c||void 0===c?0:c.enabled)&&(null===c||void 0===c?0:c.attributeExtraction)?(a=Fi(c.attributeExtraction,{requestDetails:a,responseDetails:b}))?(e.setConversationId("string"===typeof a?a:JSON.stringify(a)),
  !0):!1:!1}function ug(a,b,c,e,d,f,h){var g,m,n;void 0===f&&(f={});return Jc(this,void 0,void 0,function(){var r,k,q,t,p,v,w,u,z,D,B,G,E,A,J,I,aa,U;return Kc(this,function(Z){switch(Z.label){case 0:r=null!==(g=f.idleMs)&&void 0!==g?g:3E4,k=null!==(m=f.maxEvents)&&void 0!==m?m:1E4,q=null!==(n=f.bufferMaxBytes)&&void 0!==n?n:1E6,t=a.getReader(),p=new TextDecoder("utf-8"),v="",w=0,u=void 0,z=function(){void 0!==u&&(clearTimeout(u),u=void 0);u=setTimeout(function(){console.warn("Conviva App Tracker:: stream idle >",
  r,"ms \u2192 cancelling",b);t.cancel()},r)},z(),Z.label=1;case 1:Z.trys.push([1,5,6,7]),Z.label=2;case 2:return[4,t.read()];case 3:D=Z.sent();B=D.value;if(G=D.done)return[3,4];z();v+=p.decode(B,{stream:!0});if((new TextEncoder).encode(v).length>q)return console.warn("Conviva App Tracker:: SSE buffer exceeded",q,"bytes, cancelling stream",b),t.cancel(),[3,4];for(E=void 0;-1!==(E=v.search(c));)if(A=v.slice(0,E).replace(/\s+$/,""),I=(J=v.match(c))?J[0].length:0,v=v.slice(E+I),aa=e(A))if(d(aa),++w>=k){console.warn("Conviva App Tracker:: event budget reached \u2192 cancelling",
  b);t.cancel();break}return[3,2];case 4:return[3,7];case 5:U=Z.sent();if(!(U instanceof DOMException&&"AbortError"===U.name))throw U;return[3,7];case 6:return clearTimeout(u),t.releaseLock(),h&&h(),[7];case 7:return[2]}})})}function Wi(a){var b={data:""},c=0;for(a=a.split(/\n+/);c<a.length;c++){var e=a[c];if(e&&!e.startsWith(":")){var d=e.indexOf(":"),f=(-1===d?e:e.slice(0,d)).trim();e=-1===d?"":e.slice(d+1).replace(/^\s+/,"");switch(f){case "data":b.data+=(b.data?"\n":"")+e;break;case "event":b.event=
  e;break;case "id":b.id=e}}}return b.data?b:null}function Xi(a){return{data:a}}function Yi(a,b){var c;return(null===(c=null===b||void 0===b?void 0:b.configs)||void 0===c?void 0:c.plainTextChunkTracking)&&b.configs.plainTextChunkTracking.enabled&&b.configs.plainTextChunkTracking.endpoints.some(function(e){return a.includes(e)})}function ze(a,b,c){var e={};c&&(c=(new URL(c)).searchParams,a||(a={}),c.forEach(function(r,k){a[k]=r}));c=0;for(b=b.cond;c<b.length;c++){var d=b[c],f=Vb(a,d.key);if("string"===
  typeof f)for(var h=0,g=d.val;h<g.length;h++){var m=g[h],n=!1;switch(d.op){case "contains":n=f.toLowerCase().includes(m.toLowerCase());break;case "==":case "equals":n=f===m;break;case "startsWith":n=f.startsWith(m);break;case "endsWith":n=f.endsWith(m);break;default:n=f.toLowerCase().includes(m.toLowerCase())}n&&(e[d.type]||(e[d.type]={}),e[d.type][m]=n)}}return e}function vg(a){for(var b=[a],c=0,e=["\r\n","\n","\x00"];c<e.length;c++){var d=e[c];if(a.includes(d)){b=a.split(d).filter(function(f){return 0<
  f.trim().length});break}}return b}function Zi(){try{var a=!!window.localStorage}catch(c){a=!0}if(!a)return!1;try{var b=window.localStorage;b.setItem("modernizr","modernizr");b.removeItem("modernizr");return!0}catch(c){return!1}}function $i(a,b,c,e,d,f,h,g,m,n,r,k,q,t,p,v,w,u,z,D){function B(L){var T=Object.keys(L).map(function(da){return[da,L[da]]}).reduce(function(da,Y){da[Y[0]]=Y[1].toString();return da},{});return{evt:T,bytes:G(JSON.stringify(T))}}function G(L){for(var T=0,da=0;da<L.length;da++){var Y=
  L.charCodeAt(da);127>=Y?T+=1:2047>=Y?T+=2:55296<=Y&&57343>=Y?(T+=4,da++):T=65535>Y?T+3:T+4}return T}function E(L,T){if(0===L.length)return[];var da=[],Y=[],ia=0,ba=JSON.stringify({sc:"sp/pd/1-0-4",dt:[]});ba=G(ba);for(var fa=0;fa<L.length;fa++){var Ka=L[fa],Ma=G(JSON.stringify(Ka)),cb=0<Y.length?1:0;ia+cb+Ma+ba>T&&0<Y.length?(da.push(Y),Y=[Ka],ia=Ma):(Y.push(Ka),ia+=cb+Ma)}0<Y.length&&da.push(Y);return da}function A(L,T){T=aa(T,!0,!1);L=U(Z([L.evt]));try{p().toLowerCase()!==xb.NONE&&(L=wg.gzip(L,
  {level:6}),T.setRequestHeader("Content-Encoding",xb.GZIP))}catch(da){}z()!==C.SAMPLING_MODES.NONE&&T.send(L)}function J(L){try{if("undefined"!==typeof window&&"undefined"!==typeof window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__&&"function"===typeof window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__.postMessage){var T=U(Z(L));T&&0<T.length&&window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__.postMessage(T)}}catch(da){ka.warn("Error occured while sending message to Visual Labelling Extension",da)}}function I(L,
  T){void 0===L&&(L=!1);for(void 0===T&&(T=!1);S.length&&"string"!==typeof S[0]&&"object"!==pa(S[0]);)S.shift();if(1>S.length)K=!1;else{if(!re(ha))throw"No collector configured";K=!0;window.clearTimeout(qa);qa=-1;if(za){var da=function(Na){for(var gb=0,wc=0;gb<Na.length&&!(wc+=Na[gb].bytes,wc>=w());)gb+=1;return gb},Y=void 0,ia=void 0;if("object"===pa(S[0])){Y=ha;var ba=aa(Y,!0,L);ia=da(S)}else Y=M(S[0]),ba=aa(Y,!1,L),ia=1;var fa=setTimeout(function(){ba.abort();K=!1},n);da=function(Na){for(var gb=
  0;gb<Na;gb++)S.shift();c&&vd(lb,JSON.stringify(S.slice(-1*m())))};ba.onreadystatechange=function(){if(4===ba.readyState)if(clearTimeout(fa),200<=ba.status&&300>ba.status){I();var Na=ba.getResponseHeader("rcv");Na&&D(Na)}else ka.error("Status ".concat(ba.status,", will not retry.")),K=!1};if("object"!==pa(S[0]))ba.send(),da(ia);else{var Ka=S.slice(0,ia);if(0<Ka.length){var Ma=!1;Ka=Ka.map(function(Na){return Na.evt});if((la||T)&&window.navigator&&window.navigator.sendBeacon&&!ca(window.navigator.userAgent)){Ma=
  E(Ka,61440);T=[];for(var cb=0;cb<Ma.length;cb++){var Yb=Ma[cb],Zb=U(Z(Yb));Zb=new Blob([Zb],{type:"application/json"});try{navigator.sendBeacon(Y,Zb)||T.push(Yb)}catch(Na){T.push(Yb)}}if(0<T.length)for(Ma=0;Ma<T.length;Ma++){cb=T[Ma];try{var Vc=U(Z(cb));z()!==C.SAMPLING_MODES.NONE&&aa(Y,!0,L).send(Vc)}catch(Na){}}Ma=!0}if(!0===Ma)da(ia),I();else{L=U(Z(Ka));try{p().toLowerCase()!==xb.NONE&&(L=wg.gzip(L,{level:6}),ba.setRequestHeader("Content-Encoding",xb.GZIP))}catch(Na){}try{z()!==C.SAMPLING_MODES.NONE&&
  (ba.send(L),da(ia))}catch(Na){}}}}}else if(r||"object"===pa(S[0]))K=!1;else{ia=new Image(1,1);var mb=!0;ia.onload=function(){mb&&(mb=!1,S.shift(),c&&vd(lb,JSON.stringify(S.slice(-1*m()))),I())};ia.onerror=function(){mb&&(K=mb=!1)};ia.src=M(S[0]);setTimeout(function(){mb&&K&&(mb=!1,I())},n)}}}function aa(L,T,da){var Y=new XMLHttpRequest;T?(Y.open("POST",L,!da),Y.setRequestHeader("Content-Type","application/json; charset=UTF-8")):Y.open("GET",L,!da);Y.withCredentials=q;r&&Y.setRequestHeader("SP-Anonymous",
  "*");for(var ia in k)Object.prototype.hasOwnProperty.call(k,ia)&&Y.setRequestHeader(ia,k[ia]);return Y}function U(L){return JSON.stringify({sc:"sp/pd/1-0-4",dt:L})}function Z(L){for(var T=(new Date).getTime().toString(),da=0;da<L.length;da++)L[da].stm=T;return L}function M(L){return g?ha+L.replace("?","?stm="+(new Date).getTime()+"&"):ha+L}function F(){var L=0;return L=O?S.reduce(function(T,da){return T+da.bytes},0):S.reduce(function(T,da){return T+da.length},0)}function ca(L){function T(ba){return(ba=
  ba.match(/Macintosh;.*Mac OS X (\d+)_(\d+)[_\d]*.*AppleWebKit/))&&3<=ba.length?{major:parseInt(ba[1]),minor:parseInt(ba[2])}:null}function da(ba){return(ba=ba.match(/Version\/(\d+)\.(\d+)/))&&3<=ba.length?{major:parseInt(ba[1]),minor:parseInt(ba[2])}:null}if(function(ba,fa){return(fa=fa.match(/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//))&&fa.length?parseInt(fa[1])<=ba:!1}(13,L))return!0;if(function(ba){var fa;if(fa=/^(?!.*Chrome)(?!.*Chromium)(?!.*Edg)(?!.*OPR)(?=.*Safari)/.test(ba))fa=!/(Chrome|Chromium|Edg|OPR)/.test(ba);
  return fa}(L)){var Y=da(L),ia=T(L);if(ia){L=ia.major;ia=ia.minor;if(10===L&&15===ia)return Y&&14>Y.major||Y&&14===Y.major&&1>Y.minor?!0:!1;if(10>L||10===L&&15>ia)return!0;if(11<=L)return Y&&14>Y.major?!0:!1}if(Y&&14>Y.major)return!0}return!1}(null===window||void 0===window?0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",function(){I()},{signal:Ha});var K=!1,ha,S=[],qa=-1;e="string"===typeof e?e.toLowerCase():e;var sa=!0===e||"beacon"===e||"true"===e,la=!(!(sa&&window.navigator&&
  window.navigator.sendBeacon)||ca(window.navigator.userAgent))&&sa,za=!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),O="get"!==e&&za&&("post"===e||sa),ta=O?d:"/i";e="convivaOutQueue_".concat(a,"_").concat(O?"post2":"get");var lb="convivaOutQueue_".concat(a,"_").concat(O?"post2":"get");hg(e);hg("".concat(e,".expires"));sa&&(k={});f=c&&Zi()&&O&&f||1;if(c)try{var yb=window.localStorage.getItem(lb);S=yb?JSON.parse(yb):[]}catch(L){}Array.isArray(S)||(S=[]);b.outQueues.push(S);za&&1<f&&
  b.bufferFlushers.push(function(L,T){K||I(L,T)});return{enqueueRequest:function(L,T,da){if(z()!=C.SAMPLING_MODES.NONE){ha=T+ta;if(O){L=B(L);J([L.evt]);T=w();if(L.bytes>=T){K||I();ka.warn("Event ("+L.bytes+"B) too big, max is "+T);A(L,ha);return}S.push(L)}else{var Y="?";var ia={co:!0,cx:!0},ba=!0,fa;for(fa in L)L.hasOwnProperty(fa)&&!ia.hasOwnProperty(fa)&&(ba?ba=!1:Y+="&",Y+=encodeURIComponent(fa)+"="+encodeURIComponent(L[fa]));for(var Ka in ia)L.hasOwnProperty(Ka)&&ia.hasOwnProperty(Ka)&&(Y+="&"+
  Ka+"="+encodeURIComponent(L[Ka]));ia=h();if(0<ia&&(ba=M(Y),ba=G(ba),ba>=ia)){ka.warn("Event ("+ba+"B) too big, max is "+ia);za&&(L=B(L),J([L.evt]),A(L,T+d));return}S.push(Y)}T=!1;c&&(T=vd(lb,JSON.stringify(S.slice(-1*m()))));!K&&-1===qa&&T&&(qa=window.setTimeout(I,u()+Math.floor(Math.random()*t)));(K?0:!T||!v()||O&&F()>w()||S.length>f||da)&&I(!1,da)}},executeQueue:function(){K||I()},setUseLocalStorage:function(L){c=L},setAnonymousTracking:function(L){r=L},setCollectorUrl:function(L){ha=L+ta},setBufferSize:function(L){f=
  L},setCustomHeaders:function(L){k=L}}}function aj(){(null===window||void 0===window?0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",function(){var a,b,c,e,d,f,h,g=null===(a=null===Ia||void 0===Ia?void 0:Ia.core)||void 0===a?void 0:a.getConfig();a=null===(c=null===(b=null===g||void 0===g?void 0:g.collectionRateLimit)||void 0===b?void 0:b.exceptionAutotracking)||void 0===c?void 0:c.maxEvents;b=null===(d=null===(e=null===g||void 0===g?void 0:g.collectionRateLimit)||void 0===
  e?void 0:e.exceptionAutotracking)||void 0===d?void 0:d.disconnectDuration;e=null===(h=null===(f=null===g||void 0===g?void 0:g.collectionRateLimit)||void 0===f?void 0:f.exceptionAutotracking)||void 0===h?void 0:h.timeWindow;null===nb||void 0===nb?void 0:nb.updateErrortRateLimitConfig(a,b,e)},{signal:Ha})}function bj(){var a,b,c,e,d,f,h;try{var g=null===(a=null===Ia||void 0===Ia?void 0:Ia.core)||void 0===a?void 0:a.getConfig(),m=null===(c=null===(b=null===g||void 0===g?void 0:g.collectionRateLimit)||
  void 0===b?void 0:b.exceptionAutotracking)||void 0===c?void 0:c.maxEvents,n=null===(d=null===(e=null===g||void 0===g?void 0:g.collectionRateLimit)||void 0===e?void 0:e.exceptionAutotracking)||void 0===d?void 0:d.disconnectDuration,r=null===(h=null===(f=null===g||void 0===g?void 0:g.collectionRateLimit)||void 0===f?void 0:f.exceptionAutotracking)||void 0===h?void 0:h.timeWindow;nb=new cj(m,n,r,null===Ia||void 0===Ia?void 0:Ia.core,null===Ia||void 0===Ia?void 0:Ia.getSamplingMode)}catch(k){console.warn("Conviva App Tracker caused Exception in initialiseRateLimiter method of error tracking module",
  k)}}function xg(a){try{(null===nb||void 0===nb?0:nb.isAllowedToSendEvent())&&Ae({message:a.message,filename:a.filename,lineno:a.lineno,colno:a.colno,error:a.error})}catch(b){console.warn("Conviva App Tracker caused Exception in captureError method of error tracking module",b)}}function yg(a){try{(null===nb||void 0===nb?0:nb.isAllowedToSendEvent())&&Ae({message:a.reason})}catch(b){console.warn("Conviva App Tracker caused Exception in captureRejection method of error tracking module",b)}}function Ae(a){var b,
  c,e=a.message,d=a.filename,f=a.lineno,h=a.colno,g=a.error,m=a.context;a=a.timestamp;g=g&&g.stack?g.stack:void 0;if(!("undefined"===typeof e||null===e&&"undefined"===typeof g||null===g&&"undefined"===typeof f||null===f&&"undefined"===typeof h||null===h&&"undefined"===typeof d||null===d)){var n=null===(b=null===Ia||void 0===Ia?void 0:Ia.core)||void 0===b?void 0:b.getConfig();if(null===n||void 0===n?0:n.exceptionAutotracking)null===(c=null===Ia||void 0===Ia?void 0:Ia.core)||void 0===c?void 0:c.track(Tb({event:{sc:"sp/ae/1-0-1",
  dt:{programmingLanguage:"JAVASCRIPT",message:e?zg(e,2048):"JS Exception.",stackTrace:g?zg(g,8192):"",lineNumber:f,lineColumn:h,fileName:d}}}),m,a)}}function dj(a,b){var c;void 0===b&&(b=!0);if(!1!==b){var e=null===(c=null===a||void 0===a?void 0:a.core)||void 0===c?void 0:c.getConfig();null===a||void 0===a?void 0:a.trackPagePing({context:zd(null===e||void 0===e?void 0:e.performanceContextConfig).contexts()});try{var d=function(){null===a||void 0===a?void 0:a.trackCustomEvent({name:"conviva_window_loaded",
  data:"{}",context:zd(null===e||void 0===e?void 0:e.performanceContextConfig).contexts()});null===a||void 0===a?void 0:a.setPageMetaTagsAsCustomTags()},f=0,h=0;"complete"===document.readyState?setTimeout(function(){try{d()}catch(g){console.warn("ConvivaAppTracker : issue while detecting readyState complete",g)}},0):null===window||void 0===window?void 0:window.addEventListener("load",function(){setTimeout(function(){try{d()}catch(g){console.warn("ConvivaAppTracker : issue while registering window loaded event",
  g)}},0)},{signal:Ha});null===document||void 0===document?void 0:document.addEventListener("visibilitychange",function(){var g,m,n,r;try{if((null===a||void 0===a?void 0:a.getSamplingMode())!==C.SAMPLING_MODES.NONE)if("hidden"===document.visibilityState)try{var k=null===(g=null===a||void 0===a?void 0:a.core)||void 0===g?void 0:g.getConfig();h++;if(null===k||void 0===k?0:k.lifecycleAutotracking)if(null===(m=null===a||void 0===a?void 0:a.core)||void 0===m)void 0;else{var q=m.track;var t=Tb({event:{sc:"sp/abg/1-0-0",
  dt:qc({backgroundIndex:h})}});q.call(m,t)}"hidden"!==document.visibilityState||(null===a||void 0===a?0:a.getPageViewSent())||(null===a||void 0===a?void 0:a.trackCustomEvent({name:"conviva_app_backgrnd_before_page_view",data:"{}"}))}catch(u){console.warn("ConvivaAppTracker : issue while tracking visibility change",u)}else{var p=null===(n=null===a||void 0===a?void 0:a.core)||void 0===n?void 0:n.getConfig();f++;if(null===p||void 0===p?0:p.lifecycleAutotracking)if(null===(r=null===a||void 0===a?void 0:
  a.core)||void 0===r)void 0;else{var v=r.track;var w=Tb({event:{sc:"sp/afg/1-0-0",dt:qc({foregroundIndex:f})}});v.call(r,w)}}}catch(u){console.warn("convivaAppTracker visibilitychange failed "+u)}},{signal:Ha});"undefined"!=typeof document&&document&&document.addEventListener&&document.addEventListener("convivaVideoEvent",function(g){g&&a&&(null===a||void 0===a?void 0:a.getSamplingMode())!==C.SAMPLING_MODES.NONE&&(null===a||void 0===a?void 0:a.trackVideoEvent(g))},{signal:Ha})}catch(g){console.warn("convivaAppTracker error in page load metrics"+
  g)}}}function ej(a){var b,c,e,d,f;if(null===a||void 0===a?0:a.softNavigationTrackingConfiguration)a=a.softNavigationTrackingConfiguration,$b=P(P({},zb),{idleWindowMs:null!==(b=a.idleWindowMs)&&void 0!==b?b:zb.idleWindowMs,maxMeasurementMs:null!==(c=a.maxMeasurementMs)&&void 0!==c?c:zb.maxMeasurementMs,includeHashChanges:null!==(e=a.includeHashChanges)&&void 0!==e?e:zb.includeHashChanges,domainAllowlist:null!==(d=a.domainAllowlist)&&void 0!==d?d:zb.domainAllowlist,domainBlocklist:null!==(f=a.domainBlocklist)&&
  void 0!==f?f:zb.domainBlocklist,requireLcp:zb.requireLcp,lcpTimeoutMs:zb.lcpTimeoutMs})}function Be(a){a=new URL(a,location.href);return"".concat(a.origin).concat(a.pathname).concat(a.search).concat(a.hash)}function Ag(a){a=a.split("#");var b=a[1];return{originPathSearch:a[0],hash:null!==b&&void 0!==b?b:""}}function fj(a,b){return new Promise(function(c){var e=function(){var d=performance.now();if(d-a>=$b.maxMeasurementMs)c(d);else{var f=performance.now()-((null===Da||void 0===Da?void 0:Da.lastLongTaskTs)||
  0)>=b,h=0===((null===Dd||void 0===Dd?void 0:Dd.getInflightRequests())||0);f&&h?c(d):requestAnimationFrame(e)}};setTimeout(function(){return requestAnimationFrame(e)},50)})}function gj(){if(Da&&!Da.patched){Da.patched=!0;try{(new PerformanceObserver(function(b){var c=0;for(b=b.getEntries();c<b.length;c++)Da.lastLongTaskTs=performance.now()})).observe({entryTypes:["longtask"]})}catch(b){}try{var a=new PerformanceObserver(function(b){var c=0;for(b=b.getEntries();c<b.length;c++)Da.lastLcpTs=b[c].startTime});
  a.observe({type:"largest-contentful-paint",buffered:!0});null===window||void 0===window?void 0:window.addEventListener("pagehide",function(){try{a.disconnect()}catch(b){}})}catch(b){}}}function Bg(a){var b=history[a];history[a]=function(c,e,d){c=b.call(this,c,e,d);Ce(a,null!==d&&void 0!==d?d:location.href);return c}}function Ce(a,b){if(Da){b=Be(b);if(!$b.includeHashChanges){var c=Ag(Da.lastUrlKey),e=Ag(b);if(c.originPathSearch===e.originPathSearch&&c.hash!==e.hash)return}if(b!==Da.lastUrlKey||"replaceState"===
  a)Da.lastUrlKey=b,Da.currentMeasurement&&(Da.currentMeasurement=null),hj(a,b)}}function hj(a,b){return Jc(this,void 0,void 0,function(){var c,e,d,f,h;return Kc(this,function(g){switch(g.label){case 0:if(!Da||!De)return[2];c=++Da.navSeq;e=performance.now();Da.currentMeasurement={id:c,startTime:e,urlKey:b,trigger:a};return[4,fj(e,$b.idleWindowMs)];case 1:d=g.sent();if(!Da.currentMeasurement||Da.currentMeasurement.id!==c)return[2];f=Math.round((d-e)/1E3*100)/100;h={load_time:f,page_url:b,trigger:a,navigation_id:c,
  start_time:Math.round(e/1E3*100)/100,end_time:Math.round(d/1E3*100)/100};try{De.trackCustomEvent({name:"conviva_soft_navigation",data:h})}catch(m){}Da.currentMeasurement=null;return[2]}})})}function ij(a){var b,c,e;try{var d=null===(b=null===a||void 0===a?void 0:a.core)||void 0===b?void 0:b.getConfig();ej(d);if((null!==(e=null===(c=null===d||void 0===d?void 0:d.softNavigationTrackingConfiguration)||void 0===c?void 0:c.enabled)&&void 0!==e?e:ja.softNavigationTrackingConfiguration.enabled)&&(null===
  a||void 0===a?void 0:a.getSamplingMode())!==C.SAMPLING_MODES.NONE){var f=location.hostname;$b.domainAllowlist.length&&!$b.domainAllowlist.some(function(h){return f.endsWith(h)})||$b.domainBlocklist.some(function(h){return f.endsWith(h)})||(Da={lastLongTaskTs:0,lastLcpTs:0,currentMeasurement:null,navSeq:0,patched:!1,lastUrlKey:Be(location.href)},De=a,Dd=Cg.getInstance(a.trackNetworkRequest,a.trackerConfiguration,a.getSamplingMode),gj(),Bg("pushState"),Bg("replaceState"),addEventListener("popstate",
  function(){return Ce("popstate",location.href)},{signal:Ha}),addEventListener("hashchange",function(){return Ce("hashchange",location.href)},{signal:Ha}),document.addEventListener("DOMContentLoaded",function(){Da&&(Da.lastUrlKey=Be(location.href))},{signal:Ha}))}}catch(h){}}function Va(){if(!db)return!1;var a=db.core.getConfig();a=null===a||void 0===a?void 0:a.valueProbes;return!0===(null===a||void 0===a?void 0:a.enabled)}function jj(a){return new Promise(function(b){return setTimeout(b,a)})}function Dg(a){a=
  new URL(a,location.href);return"".concat(a.origin).concat(a.pathname).concat(a.search).concat(a.hash)}function Eg(a){var b=a.emit||"once_per_view";return"always"===b?!0:"once_per_session"===b?!Ed.has(a.id):"once_per_view"===b?!Wc.has(a.id):!1}function kj(a,b){if(!b)return!0;var c=b.key,e=b.op;b=b.val;var d=null;d="class"===c?a.className||"":"id"===c?a.id||"":a.getAttribute(c)||"";var f=d.toLowerCase();a=Array.isArray(b)?b.map(function(h){return String(h).toLowerCase()}):[String(b).toLowerCase()];
  return"=="===e?a.includes(f):"contains"===e?a.some(function(h){return f.includes(h)}):!1}function Fg(a){return Jc(this,void 0,void 0,function(){var b;return Kc(this,function(c){switch(c.label){case 0:if(!Va())return[2];if(10<=Ee)return Fe.push(a),[2];Ee++;c.label=1;case 1:return c.trys.push([1,,3,4]),[4,lj(a)];case 2:return c.sent(),[3,4];case 3:return Ee--,0<Fe.length&&(b=Fe.shift(),Fg(b)),[7];case 4:return[2]}})})}function lj(a){var b,c,e;return Jc(this,void 0,void 0,function(){var d,f,h,g,m,n,
  r,k,q,t,p,v,w,u,z,D,B;return Kc(this,function(G){switch(G.label){case 0:if(!Va()||!Eg(a))return[2];d=Date.now();f=[0,50,200];h=null!==(c=null===(b=a.strategy)||void 0===b?void 0:b.maxTotalMs)&&void 0!==c?c:1E3;g=(null===(e=a.strategy)||void 0===e?0:e.retries)&&0<a.strategy.retries.length?a.strategy.retries:f;for(var E=a.id,A=0,J=0;J<E.length;J++)A=(A<<5)-A+E.charCodeAt(J),A&=A;m=Math.abs(A)%100;n=0;r=[];t=q=k=0;G.label=1;case 1:if(!(t<g.length))return[3,5];p=g[t];v=0===t?0:Math.max(0,p+2*(m%20/20-
  .5)*Math.min(.1*p,5));return 0<v?[4,jj(v)]:[3,3];case 2:G.sent(),G.label=3;case 3:if(Date.now()-d>=h)return[3,5];n++;E=a.conditions;A=[];J=0;for(var I=a.selectors;J<I.length;J++){var aa=I[J];try{var U=document.querySelectorAll(aa);for(aa=0;aa<U.length;aa++){var Z=U[aa];kj(Z,E)&&A.push(Z)}if(0<A.length)break}catch(ta){}}w=A;0<w.length&&0===r.length&&(r=w,k=Date.now()-d,q=n);G.label=4;case 4:return t++,[3,1];case 5:if(0<r.length){u=a.emit||"once_per_view";z=0;for(D=r;z<D.length;z++){B=D[z];var M=B;
  G=a;U=k;Z=q;if(db)try{if(db.getSamplingMode()!==C.SAMPLING_MODES.NONE){var F=void 0,ca=void 0,K=M,ha=G,S={};A=C.CLICK_KEY_MAX_LENGTH;K.id&&(S.id=Aa(K.id,A));K.className&&(S["class"]=Aa(K.className,A));K.tagName&&(S.elementName=Aa(K.tagName.toLowerCase(),A));if(null===(ca=K.innerText)||void 0===ca?0:ca.trim())S.text=Aa(K.innerText.trim(),A);K.getAttribute("name")&&(S.name=Aa(K.getAttribute("name")||"",A));K.getAttribute("type")&&(S.elementType=Aa((null===(F=K.getAttribute("type"))||void 0===F?void 0:
  F.toLowerCase())||"",A));if(null===K||void 0===K?0:K.placeholder)S.placeholder=Aa(K.placeholder,A);"password"!==K.getAttribute("type")&&K.value&&(S.value=Aa(K.value,A));if(ha.collectAttributes&&0<ha.collectAttributes.length)for(F=0,J=ha.collectAttributes;F<J.length;F++)I=J[F],(aa=K.getAttribute(I))&&(S[I]=Aa(aa,A));E=S;b:{var qa=G.selectors;for(K=0;K<qa.length;K++){var sa=qa[K];try{if(M.matches(sa)){var la=sa;break b}}catch(ta){}}la=null}var za={probeId:G.id,selectorMatched:la||G.selectors[0]||"",
  timestamp:Date.now(),attemptCount:Z,discoveryTime:U,method:1===Z?"immediate":"retry"},O=P(P({},E),za);db.core.track(Hb({name:"conviva_dom_value_probe",data:JSON.stringify(O)}))}}catch(ta){ka.warn("Conviva App Tracker: Error emitting probe event",ta)}}E=a.id;A=u||"once_per_view";"once_per_session"===A?Ed.add(E):"once_per_view"===A&&Wc.add(E)}return[2]}})})}function Ge(a){if(Va()&&db&&0!==a.length){var b=0;for(a=a.filter(function(c){return Eg(c)});b<a.length;b++)Fg(a[b])}}function Gg(){var a;if(Va()&&
  db){var b=db.core.getConfig(),c=null===b||void 0===b?void 0:b.valueProbes;(null===c||void 0===c?0:c.enabled)&&(null===(a=null===c||void 0===c?void 0:c.probes)||void 0===a?0:a.length)&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){Va()&&requestAnimationFrame(function(){return Ge(c.probes)})}):Va()&&requestAnimationFrame(function(){return Ge(c.probes)}))}}function He(a,b){var c;if(Va()&&db){b=Dg(b);var e=Dg(location.href);if(b!==e||"replaceState"===a)Wc.clear(),
  a=db.core.getConfig(),a=null===a||void 0===a?void 0:a.valueProbes,(null===a||void 0===a?0:a.enabled)&&(null===(c=null===a||void 0===a?void 0:a.probes)||void 0===c?0:c.length)&&(c=a.probes.filter(function(d){return"once_per_view"===(d.emit||"once_per_view")}),0<c.length&&Ge(c))}}function mj(){if(Va()&&!Hg&&db){var a=history.pushState,b=history.replaceState;history.pushState=function(){for(var c=[],e=0;e<arguments.length;e++)c[e]=arguments[e];a.apply(this,c);Va()&&He("pushState",location.href)};history.replaceState=
  function(){for(var c=[],e=0;e<arguments.length;e++)c[e]=arguments[e];b.apply(this,c);Va()&&He("replaceState",location.href)};bb(window,"popstate",function(){Va()&&He("popstate",location.href)},{signal:Ha});Hg=!0}}function nj(){"undefined"!==typeof window&&window.addEventListener&&window.addEventListener("RemoteConfigUpdateApplied",function(){Ig?Va()?(Ed.clear(),Wc.clear(),Gg()):(Ed.clear(),Wc.clear()):Ig=!0},{signal:Ha})}function oj(a){try{db=a,(null===a||void 0===a?void 0:a.getSamplingMode())!==
  C.SAMPLING_MODES.NONE&&Va()&&(mj(),nj(),Gg())}catch(b){ka.warn("Conviva App Tracker: Error enabling DOM value probe",b)}}function xc(a,b){return Ie.get(a)||Ie.set(a,new b),Ie.get(a)}function Je(a){var b,c;try{var e=Ke.core.getConfig();if(!0===(null===(b=null===e||void 0===e?void 0:e.webVitals)||void 0===b?void 0:b.enabled)){var d="conviva_webvitals_".concat(a.name.toLowerCase()),f={value:a.value,rating:a.rating,delta:a.delta,id:a.id,navigationType:a.navigationType,attribution:pj(a,(null===(c=null===
  e||void 0===e?void 0:e.webVitals)||void 0===c?void 0:c.collectattr)||[])};Ke.core.track(Hb({name:d,data:JSON.stringify(f)}))}}catch(h){console.warn("Error sending Web Vitals event",h)}}function pj(a,b){var c=a.attribution;if(c){var e={};(a={LCP:"target",INP:"interactionTarget",CLS:"largestShiftTarget"}[a.name])&&null!=c[a]&&(e[a]=c[a]);b.forEach(function(d){if(d){var f=d.split("."),h=c;for(d=0;d<f.length;d++){var g=f[d];if(h&&"object"===pa(h)&&g in h)h=h[g];else return}var m=e;f.forEach(function(n,
  r){if(r===f.length-1)m[n]=h;else{if("object"!==pa(m[n])||null===m[n])m[n]={};m=m[n]}})}});return Object.keys(e).length?e:void 0}}function qj(a,b,c,e,d){void 0===d&&(d={});var f=[];a=function(g,m,n,r,k){function q(){ac=lg(window.location.hostname,window.location.href,te());ac[1]!==Ab&&(Xc=te(Ab));Jg=fg(ac[0]);Ab=ac[1]}function t(l){try{var x=(new Date).getTime(),y=l.currentTarget;if(null===y||void 0===y?0:y.href){l="_cnv="+(Fd+"."+x);var H=y.href.split("#"),Q=H[0].split("?"),V=Q.shift(),X=Q.join("?");
  if(X){Q=!0;var R=X.split("&");for(x=0;x<R.length;x++)if("_cnv="===R[x].substr(0,5)){Q=!1;R[x]=l;X=R.join("&");break}Q&&(X=l+"&"+X)}else X=l;H[0]=V+"?"+X;var W=H.join("#");y.href=W}}catch(na){console.warn("Conviva App Tracker:: Error in linkDecorationHandler of decorateLinks ".concat(na))}}function p(l){if("undefined"!=typeof document&&document.links&&0<document.links.length)for(var x=0;x<document.links.length;x++){var y=document.links[x];!y.spDecorationEnabled&&l(y)&&(bb(y,"click",t,!0),bb(y,"mousedown",
  t,!0),y.spDecorationEnabled=!0)}}function v(l){if(Kg){var x=/#.*/;l=l.replace(x,"")}Lg&&(x=/[{}]/g,l=l.replace(x,""));return l}function w(l){return(l=/^([a-z]+):/.exec(l))?l[1]:null}function u(l){var x,y,H,Q=null!==(H=null===(y=null===(x=Bb.getConfig().emitterConfiguration)||void 0===x?void 0:x.batching)||void 0===y?void 0:y.urgentEvents)&&void 0!==H?H:[],V=x="",X="",R="";y=l.getPayload();"string"===typeof y.e&&(R=y.e);if("ue"!==R&&"pv"!==R&&"pp"!==R)return!1;l=l.getJson().find(function(W){return"ue_pr"===
  W.keyIfNotEncoded||"ue_px"===W.keyIfEncoded});"undefined"!==typeof l&&(l=l.json,"object"===pa(l.dt)&&null!==l.dt&&(l=l.dt,"string"===typeof l.sc&&(x=l.sc),"object"===pa(l.dt)&&"string"===typeof l.dt.name&&(V=l.dt.name)),X=x.split("/")[1]||"");return Q.some(function(W){W=W.toLowerCase();return""===W?!1:W===R.toLowerCase()||W===X.toLowerCase()||W===V.toLowerCase()})}function z(l){l=yc+l+"."+bc;if("localStorage"==Oa){try{var x=window.localStorage,y=x.getItem(l+".expires");if(null===y||+y>Date.now())var H=
  x.getItem(l);else x.removeItem(l),x.removeItem(l+".expires"),H=void 0}catch(Q){H=void 0}return H}if("cookie"==Oa||"cookieAndLocalStorage"==Oa)return wb(l)}function D(){q();bc=rj((Yc||Jg)+(Le||"/")).slice(0,4)}function B(){Me=(new Date).getTime()}function G(){var l=E(),x=l[0];x<Gd?Gd=x:x>Hd&&(Hd=x);l=l[1];l<Id?Id=l:l>Jd&&(Jd=l);B()}function E(){var l="undefined"!=typeof document?null===document||void 0===document?void 0:document.documentElement:void 0;return l?[l.scrollLeft||window.pageXOffset,l.scrollTop||
  window.pageYOffset]:[0,0]}function A(){var l=E(),x=l[0];Hd=Gd=x;Jd=Id=l=l[1]}function J(){aa(yc+"ses."+bc,"*",Mg)}function I(l){var x=yc+"id."+bc;l.shift();l=l.join(".");aa(x,l,Ng)}function aa(l,x,y){if(!Zc||Kd)"localStorage"==Oa?vd(l,x,y):("cookie"==Oa||"cookieAndLocalStorage"==Oa)&&wb(l,x,y,Le,Yc,Ld,Md)}function U(l){var x=yc+"id."+bc,y=yc+"ses."+bc;gg(x);gg(y);sc(x,Yc,Ld,Md);sc(y,Yc,Ld,Md);null!==l&&void 0!==l&&l.preserveSession||(cc=Gb.v4(),ob=1);null!==l&&void 0!==l&&l.preserveUser||(Fd=Gb.v4(),
  dc=null)}function Z(l){l&&l.stateStorageStrategy&&(k.stateStorageStrategy=l.stateStorageStrategy,Oa=Og(k));Zc=!!k.anonymousTracking;Kd=Pg(k);Ne=Qg(k);Cb.setUseLocalStorage("localStorage"==Oa||"cookieAndLocalStorage"==Oa);Cb.setAnonymousTracking(Ne)}function M(){var l;try{var x=null;if(null===(l=null===k||void 0===k?void 0:k.configs)||void 0===l?0:l.enableClIdInCookies){b:{l="Conviva_sdkConfig";try{var y=wb(l);if(y&&0<y.length){try{if("string"===typeof y&&0!==y.length&&/%[0-9A-Fa-f]{2}/.test(y)){var H=
  decodeURIComponent(y);var Q=!/%[0-9A-Fa-f]{2}/.test(H)}else Q=!1}catch(ra){Q=!1}if(Q)sc(l,S(),"None",!0);else{var V=y;break b}}V=window.localStorage.getItem(l)}catch(ra){ka.warn("getConvivaCookie",ra),V=null}}V&&(x=V)}else try{sc("Conviva_sdkConfig",S(),"None",!0)}catch(ra){}x||(x=window.localStorage.getItem("Conviva.sdkConfig"));var X=JSON.parse(x||"{}");"{}"===X||"undefined"===typeof X?$c=qa():($c=X.clId||qa(),2147483648<=Nd?Nd=-1:Nd++);try{Od=Math.floor(2147483647*Math.random())}catch(ra){console.warn(ra),
  Od=-1}var R=P(P({},X),{clId:$c,iid:Od});b:{var W;try{x=null;try{x=JSON.stringify(R)}catch(ra){break b}window.localStorage.setItem("Conviva.sdkConfig",x);if(null===(W=null===k||void 0===k?void 0:k.configs)||void 0===W?0:W.enableClIdInCookies){R=x;try{var na=S();wb("Conviva_sdkConfig",R,void 0,"/",na,"None",!0)}catch(ra){ka.warn("setConvivaCookie",ra)}}}catch(ra){}}}catch(ra){ka.warn("getEventIndexByClid",ra)}if(!Zc||Kd)na="none"!=Oa&&!!z("ses"),R=F(),R[1]?W=R[1]:(W=Zc?"":Gb.v4(),R[1]=W),Fd=W,cc=na?
  R[6]:Sc(R),ob=R[3],"none"!=Oa&&(J(),we(R),I(R))}function F(){if("none"==Oa)return["1","",0,0,0,void 0,"","","",void 0];var l=z("id")||void 0;return Ii(l,Fd,cc,ob)}function ca(l,x){var y,H,Q,V,X=!0,R=Bb.getConfig();"undefined"!==typeof R.mend?X=R.mend:"undefined"!==typeof(null===(H=null===(y=null===k||void 0===k?void 0:k.configs)||void 0===y?void 0:y.network)||void 0===H?void 0:H.mergeEndpoint)&&(X=null===(V=null===(Q=null===k||void 0===k?void 0:k.configs)||void 0===Q?void 0:Q.network)||void 0===V?
  void 0:V.mergeEndpoint);return 0===l.indexOf("http")?(x&&X&&(l=l.replace(/^(https?:\/\/)(.*)$/,"$1"+x+".$2")),l):x&&X?("https:"===document.location.protocol?"https":"http")+"://"+x+"."+l:("https:"===document.location.protocol?"https":"http")+"://"+l}function K(){Rg&&null!=r.pageViewId||(r.pageViewId=Gb.v4())}function ha(){null==r.pageViewId&&(r.pageViewId=Gb.v4());return r.pageViewId}function S(){var l=window.location.hostname,x=l.split(".");return 2<=x.length?"."+x.slice(-2).join("."):l}function qa(){try{return la({"First Launch":"Yes"}),
  Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()}catch(l){console.warn(l)}}function sa(l){try{var x=JSON.parse(l);return"object"===pa(x)}catch(y){return!1}}function la(l){try{var x=Object.keys(l);sa(JSON.stringify(l))?x.forEach(function(y){if(""!==y.trim()){var H=l[y];H&&""!==H&&(H="object"===pa(H)?JSON.stringify(H):""+H,Object.defineProperty(ad,
  y,{value:H,writable:!0,enumerable:!0,configurable:!0}))}}):console.warn("Conviva AppTracker:: Invalid JSON Format")}catch(y){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",y)}}function za(l){try{l.forEach(function(x){delete ad[x]})}catch(x){console.warn("Conviva AppTracker:: Failed to unset Custom tag(s). Check format of keys set.")}}function O(l){try{var x=Object.keys(l);sa(JSON.stringify(l))?x.forEach(function(y){""!==y&&Object.defineProperty(Oe,y,{value:""+l[y],writable:!0,
  enumerable:!0,configurable:!0})}):console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=")}catch(y){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",y)}}function ta(l){try{var x=Object.keys(l);sa(JSON.stringify(l))?x.forEach(function(y){if(""!==y.trim()){var H=l[y];H&&""!==H&&("object"!==pa(H)&&(H=""+H),Object.defineProperty(ad,y,{value:H,writable:!0,enumerable:!0,configurable:!0}))}}):console.warn("Conviva AppTracker:: Invalid JSON Format")}catch(y){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",
  y)}}function lb(l){var x=l.context;l=l.contextCallback;var y=new Date,H=!1;if(Sa.enabled&&!Sa.installed){H=Sa.installed=!0;var Q={update:function(){if("undefined"!==typeof window&&"function"===typeof window.addEventListener){var X=!1,R=Object.defineProperty({},"passive",{get:function(){X=!0},set:function(){}}),W=function(){};window.addEventListener("testPassiveEventSupport",W,R);window.removeEventListener("testPassiveEventSupport",W,R);Q.hasSupport=X}}};Q.update();var V="onwheel"in document.createElement("div")?
  "wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(Q,"hasSupport")?bb(document,V,B,{passive:!0}):bb(document,V,B);A();V=function(X,R){void 0===R&&(R=B);return function(W){return bb(document,W,R)}};"click mouseup mousedown mousemove keypress keydown keyup".split(" ").forEach(V(document));["resize","focus","blur"].forEach(V(window));V(window,G)("scroll")}if(Sa.enabled&&(sj||H))for(y in Me=y.getTime(),y=void 0,Sa.configurations)if(H=Sa.configurations[y])window.clearInterval(H.activityInterval),
  L(H,x,l)}function yb(){var l,x,y,H,Q,V,X,R,W,na,ra,hb,pb,Wa,ec,bd,Ea,zc,cd,dd,Db,Pe,Qe,Re,Se,Te,Ue,Ve,We,Xe,Ye,Ze;try{var va=null===(l=null===h||void 0===h?void 0:h.core)||void 0===l?void 0:l.getConfig();l=void 0;Oe={};var Pd=Ac.MERGE;"undefined"!==typeof(null===(y=null===(x=null===k||void 0===k?void 0:k.configs)||void 0===x?void 0:x.metaTagsTracking)||void 0===y?void 0:y.preference)?Pd=null===(Q=null===(H=null===k||void 0===k?void 0:k.configs)||void 0===H?void 0:H.metaTagsTracking)||void 0===Q?void 0:
  Q.preference:!0===(null===(X=null===(V=null===k||void 0===k?void 0:k.configs)||void 0===V?void 0:V.metaTagsTracking)||void 0===X?void 0:X.force)?Pd=Ac.APP:"undefined"!==typeof(null===(R=null===va||void 0===va?void 0:va.metaTagsTrackingConfiguration)||void 0===R?void 0:R.pref)&&(Pd=null===(W=null===va||void 0===va?void 0:va.metaTagsTrackingConfiguration)||void 0===W?void 0:W.pref);switch(Pd){case Ac.APP:if(!1===(null===(ra=null===(na=null===k||void 0===k?void 0:k.configs)||void 0===na?void 0:na.metaTagsTracking)||
  void 0===ra?void 0:ra.enabled))return;0<(null===(Wa=null===(pb=null===(hb=null===k||void 0===k?void 0:k.configs)||void 0===hb?void 0:hb.metaTagsTracking)||void 0===pb?void 0:pb.tags)||void 0===Wa?void 0:Wa.length)&&(l=Ja([],null===(bd=null===(ec=null===k||void 0===k?void 0:k.configs)||void 0===ec?void 0:ec.metaTagsTracking)||void 0===bd?void 0:bd.tags,!0));break;case Ac.REMOTE:if(!1===(null===(Ea=null===va||void 0===va?void 0:va.metaTagsTrackingConfiguration)||void 0===Ea?void 0:Ea.enabled))return;
  "undefined"!=typeof(null===va||void 0===va?void 0:va.metaTagsTrackingConfiguration)&&0<(null===(cd=null===(zc=null===va||void 0===va?void 0:va.metaTagsTrackingConfiguration)||void 0===zc?void 0:zc.tags)||void 0===cd?void 0:cd.length)&&(l=Ja([],null===(dd=null===va||void 0===va?void 0:va.metaTagsTrackingConfiguration)||void 0===dd?void 0:dd.tags,!0));break;default:if("undefined"==typeof(null===va||void 0===va?void 0:va.metaTagsTrackingConfiguration)&&!1===(null===(Pe=null===(Db=null===k||void 0===
  k?void 0:k.configs)||void 0===Db?void 0:Db.metaTagsTracking)||void 0===Pe?void 0:Pe.enabled)||"undefined"==typeof(null===(Qe=null===k||void 0===k?void 0:k.configs)||void 0===Qe?void 0:Qe.metaTagsTracking)&&!1===(null===(Re=null===va||void 0===va?void 0:va.metaTagsTrackingConfiguration)||void 0===Re?void 0:Re.enabled))return;var Sg=null===(Te=null===(Se=null===k||void 0===k?void 0:k.configs)||void 0===Se?void 0:Se.metaTagsTracking)||void 0===Te?void 0:Te.tags,Tg=null===(Ue=null===va||void 0===va?void 0:
  va.metaTagsTrackingConfiguration)||void 0===Ue?void 0:Ue.tags;!1===(null===(We=null===(Ve=null===k||void 0===k?void 0:k.configs)||void 0===Ve?void 0:Ve.metaTagsTracking)||void 0===We?void 0:We.enabled)&&(Sg=[]);!1===(null===(Xe=null===va||void 0===va?void 0:va.metaTagsTrackingConfiguration)||void 0===Xe?void 0:Xe.enabled)&&(Tg=[]);l=Ja([],Ci(Sg||[],Tg||[]),!0)}if("undefined"!=typeof l&&0<(null===l||void 0===l?void 0:l.length)){x={};var fc=null===document||void 0===document?void 0:document.head,Bc=
  null===fc||void 0===fc?void 0:fc.getElementsByTagName("meta");if("undefined"!=typeof Bc&&0<(null===Bc||void 0===Bc?void 0:Bc.length))for(fc=0;fc<Bc.length;fc++){var Ug=Bc[fc];for(y=0;y<l.length;y++){var Qd=Ug.getAttribute(l[y].key),Vg=Ug.getAttribute(l[y].value);H=void 0;if(null===(Ye=l[y])||void 0===Ye?0:Ye.condition)H=null===(Ze=l[y])||void 0===Ze?void 0:Ze.condition;Qd&&(H&&H.includes(Qd)?x[Qd]=Vg:H&&0!==H.length||(x[Qd]=Vg))}}h.setMetaCustomTags(x)}}catch(tj){console.warn("Conviva App Tracker:: setPageMetaTagsAsCustomTags",
  tj)}}function L(l,x,y){var H=function(V,X){var R;q();var W=null===(R=null===h||void 0===h?void 0:h.core)||void 0===R?void 0:R.getConfig();W.enablePeriodicHeartbeat?(void 0!=W.periodicHeartbeatInterval&&(R=1E3*W.periodicHeartbeatInterval,R!=l.configHeartBeatTimer&&(l.configHeartBeatTimer=R,window.clearInterval(l.activityInterval),l.activityInterval=window.setInterval(Q,R))),V({context:X,pageViewId:ha(),minXOffset:Gd,minYOffset:Id,maxXOffset:Hd,maxYOffset:Jd})):window.clearInterval(l.activityInterval);
  A()};window.setTimeout(function(){H(l.callback,(x||[]).concat(y?y():[]))},2E3);var Q=function(){var V=new Date;(!1===(null===document||void 0===document?void 0:document.hidden)||"visible"==(null===document||void 0===document?void 0:document.visibilityState)||(null===document||void 0===document?0:document.pictureInPictureElement)||Me+l.configHeartBeatTimer>V.getTime()||!0===Wg)&&H(l.callback,(x||[]).concat(y?y():[]))};l.activityInterval=window.setInterval(Q,l.configHeartBeatTimer)}function T(l){var x=
  l.minimumVisitLength,y=l.heartbeatDelay;l=l.callback;if(td(x)&&td(y))return{configMinimumVisitLength:1E3*x,configHeartBeatTimer:1E3*y,callback:l};ka.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function da(l){var x=l.context,y=l.minXOffset,H=l.minYOffset,Q=l.maxXOffset,V=l.maxYOffset;l=document.title;l!==Lb&&(Lb=l,Cc=void 0);if(gc()!==C.SAMPLING_MODES.NONE){Y();l=Bb;var X=l.track,R=v(hc||Ab),W=se(Cc||Lb),na=v(Rd||Xc);y=Math.round(y);Q=Math.round(Q);H=Math.round(H);
  V=Math.round(V);var ra=ke();ra.add("e","pp");ra.add("url",R);ra.add("page",W);ra.add("refr",na);y&&!isNaN(Number(y))&&ra.add("pp_mix",y.toString());Q&&!isNaN(Number(Q))&&ra.add("pp_max",Q.toString());H&&!isNaN(Number(H))&&ra.add("pp_miy",H.toString());V&&!isNaN(Number(V))&&ra.add("pp_may",V.toString());X.call(l,ra,x)}}function Y(){var l,x,y=null===(x=null===h||void 0===h?void 0:h.core)||void 0===x?void 0:x.getConfig().pageUrlTrackingConfig;x=ad[C.PAGE_URL_QUERY_PARAMS];if(y){var H={targetUrl:v(hc||
  Ab),rqq:{}};H=ig(H,null===y||void 0===y?void 0:y.collectattr,null,null===y||void 0===y?void 0:y.maxQueryLength);if(!x&&H.rqq||x!==JSON.stringify(H.rqq))za([C.PAGE_URL_QUERY_PARAMS]),ta((l={},l[C.PAGE_URL_QUERY_PARAMS]=H.rqq,l))}else x&&za([C.PAGE_URL_QUERY_PARAMS])}var ia,ba,fa,Ka,Ma,cb,Yb,Zb,Vc,mb,Na,gb,wc,$e,af,bf;if(window&&window.localStorage){var uj=window.localStorage,Dc={sensorVersion:n,ck:null!==(ia=k.convivaCustomerKey)&&void 0!==ia?ia:""};Dc=JSON.stringify(Dc);Dc="function"===typeof btoa?
  btoa(Dc):ii(Dc);uj.setItem(C.VISUAL_LABELLING_CONFIG,Dc)}var Sd=qb,vj=Ha;Sd&&vj||("function"===typeof AbortController&&(qb=new AbortController),Ha=null===qb||void 0===qb?void 0:qb.signal);m||(m="CAT");var ma=wj(n,m,k).convivaRemoteTrackerConfig;null===(ba=zd(ma.performanceContextConfig))||void 0===ba?void 0:ba.activateLCPObserver();k.eventMethod=null!==(fa=k.eventMethod)&&void 0!==fa?fa:"post";var Og=function(l){var x;return null!==(x=l.stateStorageStrategy)&&void 0!==x?x:"cookieAndLocalStorage"},
  Pg=function(l){var x,y;return"boolean"===typeof l.anonymousTracking?!1:null!==(y=!0===(null===(x=l.anonymousTracking)||void 0===x?void 0:x.withSessionTracking))&&void 0!==y?y:!1},Qg=function(l){var x,y;return"boolean"===typeof l.anonymousTracking?!1:null!==(y=!0===(null===(x=l.anonymousTracking)||void 0===x?void 0:x.withServerAnonymisation))&&void 0!==y?y:!1};f.push(function(){return{beforeTrack:function(l){var x=z("ses"),y=F();cf=df?!!wb(df):!1;if(Xg||cf)U();else{"0"===y[0]?(cc=x||"none"==Oa?y[6]:
  Sc(y),ob=y[3]):(new Date).getTime()-ef>1E3*Mg&&(ob++,cc=Sc(y,ob));we(y);l.add("uid",Zc?null:dc);q();l.add("refr",v(Rd||Xc));document&&(Lb=document.title,x=se(Cc||Lb),l.add("page",x));x=v(hc||Ab);l.add("url",x);if(void 0===ff||ff!==x)Y(),ff=x;"none"!=Oa&&(I(y),J());ef=(new Date).getTime()}}}}());f.push(function(){return{contexts:function(){return[{sc:"cv/clid/1-0-2",dt:{clid:$c,iid:Od.toString(),ck:xj,eventIndex:Nd++}}]}}}());f.push(function(){return{contexts:function(){return[{sc:"cv/ct/1-0-0",dt:{data:P(P({},
  ad),Oe)}}]}}}());f.push(function(){return{contexts:function(){var l,x=null===(l=null===h||void 0===h?void 0:h.core)||void 0===l?void 0:l.getConfig();return!0===(null===x||void 0===x?void 0:x.applicationContext)?[{sc:"spm/app/1-0-0",dt:{build:Yg,version:Yg}}]:[]}}}());f.push(function(){return{contexts:function(){var l={sch:"sdk.js.eco.1"};l.cat=gf.DeviceCategory.WEB;try{var x=null===k||void 0===k?void 0:k.deviceMetadata;if(x){var y=x.DeviceBrand,H=x.DeviceCategory,Q=x.DeviceManufacturer,V=x.DeviceModel,
  X=x.DeviceType,R=x.DeviceVersion,W=x.OperatingSystemName,na=x.OperatingSystemVersion,ra=x.FrameworkName,hb=x.FrameworkVersion;"string"===typeof H&&Object.values(gf.DeviceCategory).includes(H)?l.cat=H:l.cat="INVALID"+(H?": ".concat(H):"");"string"===typeof y&&""!=y&&(l.dvb=y);"string"===typeof Q&&""!=Q&&(l.dvma=Q);"string"===typeof V&&""!=V&&(l.dvm=V);X&&Object.values(gf.DeviceType).includes(X)&&(l.dvt=X);"string"===typeof R&&""!=R&&(l.dvv=R);"string"===typeof W&&""!=W&&(l.os=W);"string"===typeof na&&
  ""!=na&&(l.osv=na);"string"===typeof ra&&""!=ra&&(l.fw=ra);"string"===typeof hb&&""!=hb&&(l.fwv=hb)}}catch(pb){ka.warn("error in setting platform metadata context",pb)}return null!=l&&0<Object.keys(l).length?[{sc:"iglu:com.conviva/pm/jsonschema/1-0-2",dt:l}]:[]}}}());try{(null!==(Ka=null===k||void 0===k?void 0:k.plugins)&&void 0!==Ka?Ka:[]).forEach(function(l){l.contexts||f.push(l)})}catch(l){console.warn("ConvivaAppTracker : issue while processing customer passed pligins",l)}var gc=function(){var l;
  try{var x=null===(l=null===h||void 0===h?void 0:h.core)||void 0===l?void 0:l.getConfig();if(x){if(void 0===x.catRcLastUpdatedTs||0===x.catRcLastUpdatedTs)return C.SAMPLING_MODES.RCFG;var y=x.controlIngestConfig?Di(null===x||void 0===x?void 0:x.controlIngestConfig):C.SAMPLING_MODES.RCFG;"undefined"!==typeof window&&"undefined"!==typeof window.localStorage&&localStorage.setItem(C.SAMPLING_MODE_STORAGE_KEY,y);return y}return C.SAMPLING_MODES.RCFG}catch(H){return ka.error("Error while getting sampling mode"),
  C.SAMPLING_MODES.RCFG}},Td=function(l){if("object"===pa(l)&&null!==l)return l;if("string"===typeof l)try{var x=JSON.parse(l);return x&&"object"===pa(x)&&0===Object.keys(x).length?void 0:x}catch(y){}};var Bb=wa=ti({base64:null===ma||void 0===ma?void 0:ma.base64,corePlugins:f,callback:function(l){Xg||cf||Cb.enqueueRequest(l.build(),hf,u(l))},exceptionAutotracking:ma.exceptionAutotracking,enablePeriodicHeartbeat:ma.enablePeriodicHeartbeat,periodicHeartbeatInterval:ma.periodicHeartbeatInterval,enc:ma.enc,
  mend:ma.mend,maxLocalStorageQueueSize:ma.maxLocalStorageQueueSize,maxGetBytes:ma.maxGetBytes,bufferSize:ma.bufferSize,customEventTrackingConfiguration:ma.customEventTrackingConfiguration,softNavigationTrackingConfiguration:ma.softNavigationTrackingConfiguration,networkRequestTrackingConfiguration:ma.networkRequestTrackingConfiguration,metaTagsTrackingConfiguration:ma.metaTagsTrackingConfiguration,traceparentconfig:ma.traceparentconfig,baggageConfiguration:ma.baggageConfiguration,performanceContextConfig:ma.performanceContextConfig,
  lifecycleAutotracking:ma.lifecycleAutotracking,catRcLastUpdatedTs:ma.catRcLastUpdatedTs,cacheRefreshInterval:ma.cacheRefreshInterval,endpoint:ma.endpoint,controlIngestConfig:ma.controlIngestConfig,applicationContext:ma.applicationContext,emitterConfiguration:ma.emitterConfiguration,di:ma.di,clickcc:ma.clickcc,collectionRateLimit:ma.collectionRateLimit,pageUrlTrackingConfig:ma.pageUrlTrackingConfig,sessionReplayConfiguration:ma.sessionReplayConfiguration,evtStreamTrackingConfiguration:ma.evtStreamTrackingConfiguration,
  rcv:ma.rcv,valueProbes:ma.valueProbes,webVitals:ma.webVitals});var ac=lg(window.location.hostname,window.location.href,te()),Jg=fg(ac[0]),Ab=ac[1],Xc=ac[2],Rd,yj=null!==(Ma=k.platform)&&void 0!==Ma?Ma:"web",hf=ca(ma.endpoint,k.convivaCustomerKey),zj=null!==(cb=k.postPath)&&void 0!==cb?cb:"/ctp",Aj=null!==(Yb=k.appId)&&void 0!==Yb?Yb:"",xj=null!==(Zb=k.convivaCustomerKey)&&void 0!==Zb?Zb:"",Yg=null!==(Vc=k.appVersion)&&void 0!==Vc?Vc:"",hc,ad={},Oe={},Lb="undefined"!==typeof document?document.title:
  void 0,Cc,sj=null!==(mb=k.resetActivityTrackingOnPageView)&&void 0!==mb?mb:!0,Kg,Lg,yc=null!==(Na=k.cookieName)&&void 0!==Na?Na:"_cnv_",Yc=null!==(gb=k.cookieDomain)&&void 0!==gb?gb:void 0,Le="/",Ld=null!==(wc=k.cookieSameSite)&&void 0!==wc?wc:"None",Md=null!==($e=k.cookieSecure)&&void 0!==$e?$e:!0,Zg=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,Xg="undefined"!==typeof k.respectDoNotTrack?k.respectDoNotTrack&&("yes"===Zg||"1"===Zg):!1,df,Ng=null!==(af=k.cookieLifetime)&&void 0!==
  af?af:63072E3,Mg=null!==(bf=k.sessionCookieTimeout)&&void 0!==bf?bf:1800,Kd=Pg(k),Ne=Qg(k),Zc=!!k.anonymousTracking,Oa=Og(k),$c,Od,Nd=-1,Me,ef=(new Date).getTime(),ff,Gd,Hd,Id,Jd,bc,Fd,cc,ob=1,dc,Cb=Bj(g,r,Oa,k,zj,Ne,5E3,gc),Rg=!1,jf=!1,Sa={enabled:!0,installed:!1,configurations:{pagePing:{configMinimumVisitLength:5E3,configHeartBeatTimer:1E3*ma.periodicHeartbeatInterval,callback:da}}},Wg=!1,cf;k.hasOwnProperty("discoverRootDomain")&&k.discoverRootDomain&&(Yc=Bi(Ld,Md));Bb.setTrackerVersion(n);Bb.setAppId(Aj);
  Bb.setPlatform(yj);D();M();Cb.setCustomHeaders({"x-client-id":""+$c});k.crossDomainLinker&&p(k.crossDomainLinker);var kf={getDomainSessionIndex:function(){return ob},getPageViewId:function(){return ha()},newSession:function(){var l=F();"0"===l[0]?(cc="none"!=Oa?Sc(l):l[6],ob=l[3],J()):(ob++,cc=Sc(l,ob));we(l);"none"!=Oa&&(I(l),J());ef=(new Date).getTime()},getCookieName:function(l){return yc+l+"."+bc},getUserId:function(){return dc},getDomainUserId:function(){var l=F();return l&&1<l.length?l[1]:null},
  getDomainUserInfo:function(){return F()},setReferrerUrl:function(l){Rd=l},setCustomUrl:function(l){q();var x=Ab,y;w(l)?hc=l:"/"===l.slice(0,1)?hc=w(x)+"://"+ud(x)+l:(x=v(x),0<=(y=x.indexOf("?"))&&(x=x.slice(0,y)),(y=x.lastIndexOf("/"))!==x.length-1&&(x=x.slice(0,y+1)),hc=x+l)},setDocumentTitle:function(l){Lb=document.title;Cc=l},discardHashTag:function(l){Kg=l},discardBrace:function(l){Lg=l},setCookiePath:function(l){Le=l;D()},setVisitorCookieTimeout:function(l){Ng=l},crossDomainLinker:function(l){p(l)},
  enableActivityTracking:function(l){Sa.configurations.pagePing||(Sa.enabled=!0,Sa.configurations.pagePing=T(P(P({},l),{callback:da})))},enableActivityTrackingCallback:function(l){Sa.configurations.callback||(Sa.enabled=!0,Sa.configurations.callback=T(l))},updatePageActivity:function(){B()},setOptOutCookie:function(l){df=l},setUserId:function(l){dc=l},setConversationId:function(l){Bb.setConversationId(l)},setUserIdFromLocation:function(l){q();dc=Rc(l,Ab)},setUserIdFromReferrer:function(l){q();dc=Rc(l,
  Xc)},setUserIdFromCookie:function(l){dc=wb(l)},setCollectorUrl:function(l,x){hf=ca(l,x);Cb.setCollectorUrl(hf)},setBufferSize:function(l){Cb.setBufferSize(l)},flushBuffer:function(l){void 0===l&&(l={});Cb.executeQueue();l.newBufferSize&&Cb.setBufferSize(l.newBufferSize)},trackPageView:function(l){var x;void 0===l&&(l={});yb();var y=null===(x=null===h||void 0===h?void 0:h.core)||void 0===x?void 0:x.getConfig();try{l=P(P({},l),{context:zd(null===y||void 0===y?void 0:y.performanceContextConfig).contexts()})}catch(na){console.warn("Conviva App Tracker:: error adding performacetiming context to page view",
  na)}var H=l.title;x=l.context;y=l.timestamp;l=l.contextCallback;q();jf&&K();jf=!0;Lb=document.title;Cc=H;H=se(Cc||Lb);if(gc()!==C.SAMPLING_MODES.NONE){Y();var Q=Bb,V=Q.track,X=v(hc||Ab),R=v(Rd||Xc),W=ke();W.add("e","pv");W.add("url",X);W.add("page",H);W.add("refr",R);V.call(Q,W,(x||[]).concat(l?l():[]),y)}},trackPagePing:function(l){void 0===l&&(l={});lb(l)},trackVideoEvent:function(l){var x,y,H;void 0===l&&(l={});try{var Q=this.core.getConfig(),V=!1;if(null!==(y=null===(x=null===Q||void 0===Q?void 0:
  Q.customEventTrackingConfiguration)||void 0===x?void 0:x.enabled)&&void 0!==y?y:ja.customEventTrackingConfiguration.enabled)if(""==l.name||void 0==l.name)console.warn("Conviva App Tracker:: Video event could not be tracked due to missing name property!!");else{l.ced=Td(l.ced);l.old=Td(l.old);l["new"]=Td(l["new"]);l.tags=Td(l.tags);l.cen&&C.V2A_CUSTOM_EVENTS.includes(l.name)&&(l.name=l.cen,V=!0);var X=null===(H=null===Q||void 0===Q?void 0:Q.customEventTrackingConfiguration)||void 0===H?void 0:H.blocklist;
  if(!((null===X||void 0===X?0:X.includes("*"))||(null===X||void 0===X?0:X.some(function(na){return 0<(null===na||void 0===na?void 0:na.length)&&l.name.toLowerCase().includes(na.toLowerCase())}))))if(!0===V){var R=l.name,W=je(l,["isTrusted","name","cen","new","old"]);this.core.track(Hb({name:R,data:JSON.stringify(W)}),l.context,l.timestamp)}else this.core.track(ui({name:l.name,sid:l.sid,iid:l.iid,clid:l.clid,st:l.st,sst:l.sst,an:l.an,cl:l.cl,lv:l.lv,pn:l.pn,vid:l.vid,fw:l.fw,fwv:l.fwv,mn:l.mn,mv:l.mv,
  url:l.url,tags:l.tags,cen:l.cen,ced:l.ced,oldsc:l.old,newsc:l["new"],err:l.err,br:l.br,ft:l.ft,avgbr:l.avgbr}),l.context,l.timestamp)}}catch(na){console.warn("Conviva App Tracker:: Video event could not be tracked due to an exception!!",na)}},trackCustomEvent:function(l){var x,y,H,Q,V;void 0===l&&(l={});try{if(gc()!==C.SAMPLING_MODES.NONE){var X=null===(x=null===h||void 0===h?void 0:h.core)||void 0===x?void 0:x.getConfig();if(null!==(H=null===(y=null===X||void 0===X?void 0:X.customEventTrackingConfiguration)||
  void 0===y?void 0:y.enabled)&&void 0!==H?H:ja.customEventTrackingConfiguration.enabled)if(!l.name||"string"==typeof l.name&&""==l.name.trim())console.warn("Conviva App Tracker:: custom event name is mandatory for trackCustomEvent API!!");else{var R=l.data;try{"string"!==typeof l.data&&(R=JSON.stringify(l.data))}catch(na){}var W=null===(Q=null===X||void 0===X?void 0:X.customEventTrackingConfiguration)||void 0===Q?void 0:Q.blocklist;(null===W||void 0===W?0:W.includes("*"))||(null===W||void 0===W?0:
  W.some(function(na){return 0<(null===na||void 0===na?void 0:na.length)&&l.name.toLowerCase().includes(na.toLowerCase())}))||(null===(V=null===h||void 0===h?void 0:h.core)||void 0===V?void 0:V.track(Hb({name:l.name,data:R}),l.context,l.timestamp))}}}catch(na){console.warn("Conviva App Tracker:: Unable to track custom event! "+na)}},trackSSEEvent:function(l){var x;void 0===l&&(l={});try{gc()!==C.SAMPLING_MODES.NONE&&(null===(x=null===h||void 0===h?void 0:h.core)||void 0===x?void 0:x.track(Hb(l),l.context,
  l.timestamp))}catch(y){}},trackNetworkRequest:function(l){var x,y,H,Q,V,X,R,W,na,ra,hb,pb;void 0===l&&(l={});try{var Wa=null===(H=null===h||void 0===h?void 0:h.core)||void 0===H?void 0:H.getConfig().networkRequestTrackingConfiguration,ec=l.responseDetails.responseTime-l.requestDetails.requestTime;try{ec=parseFloat(ec.toFixed(3))}catch(Db){console.warn("Conviva App Tracker:: exception while converting duration to 3 decimal",Db)}try{var bd=(x={targetUrl:null===(Q=null===l||void 0===l?void 0:l.requestDetails)||
  void 0===Q?void 0:Q.url,method:null===(V=null===l||void 0===l?void 0:l.requestDetails)||void 0===V?void 0:V.method,responseStatusCode:(null===(X=null===l||void 0===l?void 0:l.responseDetails)||void 0===X?0:X.status)?l.responseDetails.status:0,responseStatusText:(null===(R=null===l||void 0===l?void 0:l.responseDetails)||void 0===R?0:R.statusText)?l.responseDetails.statusText:"ok"},x[oa.request_headers]=null===(W=null===l||void 0===l?void 0:l.requestDetails)||void 0===W?void 0:W.headers,x[oa.response_headers]=
  null===(na=null===l||void 0===l?void 0:l.responseDetails)||void 0===na?void 0:na.headers,x.duration=ec,x),Ea=ig(bd,null===Wa||void 0===Wa?void 0:Wa.collectattr,l,null===Wa||void 0===Wa?void 0:Wa.maxQueryLength,null===Wa||void 0===Wa?void 0:Wa.rbl);if(null===(ra=null===l||void 0===l?void 0:l.requestDetails)||void 0===ra?0:ra[C.TRACEPARENT_HEADER_KEY]){var zc=(y={},y[C.TRACEPARENT_HEADER_KEY]=null===(hb=null===l||void 0===l?void 0:l.requestDetails)||void 0===hb?void 0:hb[C.TRACEPARENT_HEADER_KEY],y);
  Ea[oa.request_headers]=Ea[oa.request_headers]?P(P({},Ea[oa.request_headers]),zc):zc}if(null===(pb=null===h||void 0===h?void 0:h.core)||void 0===pb)void 0;else{var cd=pb.track;var dd=Tb({event:{sc:"cv/nr/1-0-5",dt:qc({targetUrl:Ea.targetUrl,method:Ea.method,queryParameters:Ea.queryParameters,responseStatusCode:Ea.responseStatusCode,responseStatusText:Ea.responseStatusText,rqh:Ea.rqh,rsh:Ea.rsh,rqb:Ea.rqb,rsb:Ea.rsb,rqq:Ea.rqq,requestSize:Ea.requestSize,responseSize:Ea.responseSize,duration:Ea.duration,
  contentType:Ea.contentType,requestTimestamp:Ea.requestTimestamp,responseTimestamp:Ea.responseTimestamp})}});cd.call(pb,dd,l.context,l.timestamp)}}catch(Db){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",Db)}}catch(Db){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",Db)}},trackButtonClick:function(l){var x,y,H;try{var Q=null===(x=null===ya||void 0===ya?void 0:ya.core)||void 0===x?void 0:x.getConfig();!0===
  (null===(y=null===Q||void 0===Q?void 0:Q.clickcc)||void 0===y?void 0:y.en)&&(l.elementType="button",null===(H=null===ya||void 0===ya?void 0:ya.core)||void 0===H?void 0:H.track(Hb({name:"conviva_click",data:JSON.stringify(l)}),Vf(void 0,void 0)))}catch(V){ka.warn("Conviva App Tracker caused Exception in sendButtonClick method of user click tracking module",V)}},trackLinkClick:function(l){var x,y,H;try{var Q=null===(x=null===ya||void 0===ya?void 0:ya.core)||void 0===x?void 0:x.getConfig();!0===(null===
  (y=null===Q||void 0===Q?void 0:Q.clickcc)||void 0===y?void 0:y.en)&&(l.elementType="link",null===(H=null===ya||void 0===ya?void 0:ya.core)||void 0===H?void 0:H.track(Hb({name:"conviva_click",data:JSON.stringify(l)}),Vf(void 0,void 0)))}catch(V){ka.warn("Conviva App Tracker caused Exception in sendLinkClick method of user click tracking module",V)}},trackErrorEvent:function(l){Ae(l)},setCustomTags:function(l){void 0===l&&(l={});la(l)},setMetaCustomTags:function(l){void 0===l&&(l={});O(l)},unsetCustomTags:function(l){void 0===
  l&&(l=[]);za(l)},preservePageViewId:function(){Rg=!0},disableAnonymousTracking:function(l){k.anonymousTracking=!1;Z(l);M();Cb.executeQueue()},enableAnonymousTracking:function(l){var x;k.anonymousTracking=null!==(x=l&&(null===l||void 0===l?void 0:l.options))&&void 0!==x?x:!0;Z(l);Kd||K()},clearUserData:U,setKeepAliveInBG:function(l){void 0===l&&(l=!1);Wg=l},clearTimers:function(){wa=null;$g.cleanupNetworkRequestHandler();try{Ia=h,removeEventListener("error",xg,!0),removeEventListener("unhandledrejection",
  yg,!0)}catch(y){console.warn("Conviva App Tracker caused Exception in disableErrorTracking method of error tracking module",y)}tg();null===Sd||void 0===Sd?void 0:Sd.abort();Ha=qb=void 0;Xa&&window.clearInterval(Xa);if(Sa.enabled){var l=void 0;for(l in Sa.configurations){var x=Sa.configurations[l];x&&window.clearInterval(x.activityInterval)}}h&&(h.core=null);this.tracker=null},getSamplingMode:gc,getPageViewSent:function(){return jf},setPageMetaTagsAsCustomTags:function(){yb()},determineShouldTrack:function(l,
  x,y,H,Q,V){return uc(l,x,y,H,Q,V)}};N=kf;var $g=Cg.getInstance(kf,k,gc);$g.initiateNetworkRequestTracking();return P(P({},kf),{id:g,namespace:m,core:Bb,sharedState:r})}(a,b,c,e,d);var h=P(P({},a),{addPlugin:function(g){var m,n,r;null===(m=null===h||void 0===h?void 0:h.core)||void 0===m?void 0:m.addPlugin(g);null===(r=(n=g.plugin).activateBrowserPlugin)||void 0===r?void 0:r.call(n,h)}});f.forEach(function(g){var m;null===(m=g.activateBrowserPlugin)||void 0===m?void 0:m.call(g,h)});dj(h,null===d||void 0===
  d?void 0:d.enableCommonEvents);ij(h);try{Ia=h,bj(),aj(),bb(window,"error",xg,!0),bb(window,"unhandledrejection",yg,!0)}catch(g){console.warn("Conviva App Tracker caused Exception in enableErrorTracking method of error tracking module",g)}ya=h;oj(h);try{Ke=h,Cj(Je),Dj(Je),Ej(Je)}catch(g){console.warn("Conviva App Tracker caused Exception in enabling Web Vitals tracking",g)}try{(null===window||void 0===window?void 0:window.self)===(null===window||void 0===window?void 0:window.top)&&function(){(null===
  window||void 0===window?0:window.addEventListener)&&window.addEventListener("SessionRecordingStatus",function(g){h.setCustomTags(g.detail)},{signal:Ha})}()}catch(g){}return h}function Ta(a,b){try{var c=null!==a&&void 0!==a?a:Object.keys(ic);a=ic;for(var e=[],d=0;d<c.length;d++){var f=c[d];a.hasOwnProperty(f)?e.push(a[f]):ka.warn(f+" not configured")}e.forEach(b)}catch(h){ka.error("Function failed",h)}}function Fj(a){if(a)for(var b=0;b<a.length;b++){var c=a[b];ic.hasOwnProperty(c)?delete ic[c]:ka.warn(c+
  " not configured")}}function Gj(){function a(){var f;if(!c.hasLoaded)for(c.hasLoaded=!0,f=0;f<c.registeredOnLoadHandlers.length;f++)c.registeredOnLoadHandlers[f]();return!0}function b(){e.addEventListener?e.addEventListener("DOMContentLoaded",function h(){e.removeEventListener("DOMContentLoaded",h,!1);a()}):e.attachEvent&&e.attachEvent("onreadystatechange",function g(){"complete"===e.readyState&&(e.detachEvent("onreadystatechange",g),a())});bb(d,"load",a,!1)}var c=new Hj,e=document,d=window;bb(d,
  "beforeunload",function(){try{c.bufferFlushers.forEach(function(f){f(!1,!0)})}catch(f){}},!1);"loading"===document.readyState?b():a();return c}var P=function(){P=Object.assign||function(a){for(var b,c=1,e=arguments.length;c<e;c++){b=arguments[c];for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])}return a};return P.apply(this,arguments)},Ud={},ah="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&
  msCrypto.getRandomValues.bind(msCrypto);if(ah){var bh=new Uint8Array(16);Ud=function(){ah(bh);return bh}}else{var ch=Array(16);Ud=function(){for(var a=0,b;16>a;a++)0===(a&3)&&(b=4294967296*Math.random()),ch[a]=b>>>((a&3)<<3)&255;return ch}}for(var Pa=[],Vd=0;256>Vd;++Vd)Pa[Vd]=(Vd+256).toString(16).substr(1);var dh=function(a,b){b=b||0;return[Pa[a[b++]],Pa[a[b++]],Pa[a[b++]],Pa[a[b++]],"-",Pa[a[b++]],Pa[a[b++]],"-",Pa[a[b++]],Pa[a[b++]],"-",Pa[a[b++]],Pa[a[b++]],"-",Pa[a[b++]],Pa[a[b++]],Pa[a[b++]],
  Pa[a[b++]],Pa[a[b++]],Pa[a[b++]]].join("")},Ij=Ud,eh,lf,mf=0,nf=0,Jj=Ud,of=function(a,b,c){c=b&&c||0;"string"==typeof a&&(b="binary"===a?Array(16):null,a=null);a=a||{};a=a.random||(a.rng||Jj)();a[6]=a[6]&15|64;a[8]=a[8]&63|128;if(b)for(var e=0;16>e;++e)b[c+e]=a[e];return b||dh(a)};of.v1=function(a,b,c){c=b&&c||0;var e=b||[];a=a||{};var d=a.node||eh,f=void 0!==a.clockseq?a.clockseq:lf;if(null==d||null==f){var h=Ij();null==d&&(d=eh=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]);null==f&&(f=lf=(h[6]<<8|h[7])&16383)}h=
  void 0!==a.msecs?a.msecs:(new Date).getTime();var g=void 0!==a.nsecs?a.nsecs:nf+1,m=h-mf+(g-nf)/1E4;0>m&&void 0===a.clockseq&&(f=f+1&16383);(0>m||h>mf)&&void 0===a.nsecs&&(g=0);if(1E4<=g)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");mf=h;nf=g;lf=f;h+=122192928E5;a=(1E4*(h&268435455)+g)%4294967296;e[c++]=a>>>24&255;e[c++]=a>>>16&255;e[c++]=a>>>8&255;e[c++]=a&255;a=h/4294967296*1E4&268435455;e[c++]=a>>>8&255;e[c++]=a&255;e[c++]=a>>>24&15|16;e[c++]=a>>>16&255;e[c++]=f>>>8|128;e[c++]=
  f&255;for(f=0;6>f;++f)e[c+f]=d[f];return b?b:dh(e)};var Gb=of.v4=of,ab="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Eb;(function(a){a[a.none=0]="none";a[a.error=1]="error";a[a.warn=2]="warn";a[a.debug=3]="debug";a[a.info=4]="info"})(Eb||(Eb={}));var ka=function(a){void 0===a&&(a=Eb.warn);return{setLogLevel:function(b){a=Eb[b]?b:Eb.warn},warn:function(b,c){for(var e=[],d=2;d<arguments.length;d++)e[d-2]=arguments[d];a>=Eb.warn&&"undefined"!==typeof console&&(d="Conviva: "+b,c?
  console.warn.apply(console,Ja([d+"\n",c],e,!1)):console.warn.apply(console,Ja([d],e,!1)))},error:function(b,c){for(var e=[],d=2;d<arguments.length;d++)e[d-2]=arguments[d];a>=Eb.error&&"undefined"!==typeof console&&(d="Conviva: "+b+"\n",c?console.error.apply(console,Ja([d+"\n",c],e,!1)):console.error.apply(console,Ja([d],e,!1)))},debug:function(b){for(var c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];a>=Eb.debug&&"undefined"!==typeof console&&console.debug.apply(console,Ja(["Conviva: "+b],c,
  !1))},info:function(b){for(var c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];a>=Eb.info&&"undefined"!==typeof console&&console.info.apply(console,Ja(["Conviva: "+b],c,!1))}}}(),fh;(function(a){a.response_body="rsb";a.request_body="rqb";a.response_headers="rsh";a.request_headers="rqh";a.request_query="rqq"})(fh||(fh={}));var gh={},hh={};(function(){var a={rotl:function(b,c){return b<<c|b>>>32-c},rotr:function(b,c){return b<<32-c|b>>>c},endian:function(b){if(b.constructor==Number)return a.rotl(b,
  8)&16711935|a.rotl(b,24)&4278255360;for(var c=0;c<b.length;c++)b[c]=a.endian(b[c]);return b},randomBytes:function(b){for(var c=[];0<b;b--)c.push(Math.floor(256*Math.random()));return c},bytesToWords:function(b){for(var c=[],e=0,d=0;e<b.length;e++,d+=8)c[d>>>5]|=b[e]<<24-d%32;return c},wordsToBytes:function(b){for(var c=[],e=0;e<32*b.length;e+=8)c.push(b[e>>>5]>>>24-e%32&255);return c},bytesToHex:function(b){for(var c=[],e=0;e<b.length;e++)c.push((b[e]>>>4).toString(16)),c.push((b[e]&15).toString(16));
  return c.join("")},hexToBytes:function(b){for(var c=[],e=0;e<b.length;e+=2)c.push(parseInt(b.substr(e,2),16));return c},bytesToBase64:function(b){for(var c=[],e=0;e<b.length;e+=3)for(var d=b[e]<<16|b[e+1]<<8|b[e+2],f=0;4>f;f++)8*e+6*f<=8*b.length?c.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d>>>6*(3-f)&63)):c.push("=");return c.join("")},base64ToBytes:function(b){b=b.replace(/[^A-Z0-9+\/]/ig,"");for(var c=[],e=0,d=0;e<b.length;d=++e%4)0!=d&&c.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(b.charAt(e-
  1))&Math.pow(2,-2*d+8)-1)<<2*d|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(b.charAt(e))>>>6-2*d);return c}};hh=a})();var pf={utf8:{stringToBytes:function(a){return pf.bin.stringToBytes(unescape(encodeURIComponent(a)))},bytesToString:function(a){return decodeURIComponent(escape(pf.bin.bytesToString(a)))}},bin:{stringToBytes:function(a){for(var b=[],c=0;c<a.length;c++)b.push(a.charCodeAt(c)&255);return b},bytesToString:function(a){for(var b=[],c=0;c<a.length;c++)b.push(String.fromCharCode(a[c]));
  return b.join("")}}},ih=pf;(function(){var a=hh,b=ih.utf8,c=ih.bin,e=function(d,f){var h=a.wordsToBytes,g=d;g.constructor==String?g=b.stringToBytes(g):"undefined"!==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(g)?g=Array.prototype.slice.call(g,0):Array.isArray(g)||(g=g.toString());d=a.bytesToWords(g);var m=8*g.length;g=[];var n=1732584193,r=-271733879,k=-1732584194,q=271733878,t=-1009589776;d[m>>5]|=128<<24-m%32;d[(m+64>>>9<<4)+15]=m;for(m=0;m<d.length;m+=16){for(var p=n,v=r,
  w=k,u=q,z=t,D=0;80>D;D++){if(16>D)g[D]=d[m+D];else{var B=g[D-3]^g[D-8]^g[D-14]^g[D-16];g[D]=B<<1|B>>>31}B=(n<<5|n>>>27)+t+(g[D]>>>0)+(20>D?(r&k|~r&q)+1518500249:40>D?(r^k^q)+1859775393:60>D?(r&k|r&q|k&q)-1894007588:(r^k^q)-899497514);t=q;q=k;k=r<<30|r>>>2;r=n;n=B}n+=p;r+=v;k+=w;q+=u;t+=z}h=h.call(a,[n,r,k,q,t]);return f&&f.asBytes?h:f&&f.asString?c.bytesToString(h):a.bytesToHex(h)};e._blocksize=16;e._digestsize=20;gh=e})();var rj=gh,qf=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,
  4,5,5,5,5,0]),Wd=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Kj=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),jh=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fb=Array(576);rc(Fb);var ed=Array(60);rc(ed);var jc=Array(512);rc(jc);var fd=Array(256);rc(fd);var rf=Array(29);rc(rf);var Xd=Array(30);rc(Xd);var kh,lh,mh,gd=function(a,b){a.pending_buf[a.pending++]=b&255;a.pending_buf[a.pending++]=b>>>8&255},Ua=function(a,b,c){a.bi_valid>
  16-c?(a.bi_buf|=b<<a.bi_valid&65535,gd(a,a.bi_buf),a.bi_buf=b>>16-a.bi_valid,a.bi_valid+=c-16):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)},rb=function(a,b,c){Ua(a,c[2*b],c[2*b+1])},nh=function(a,b){var c=0;do c|=a&1,a>>>=1,c<<=1;while(0<--b);return c>>>1},oh=function(a,b,c){var e=Array(16),d=0,f;for(f=1;15>=f;f++)d=d+c[f-1]<<1,e[f]=d;for(c=0;c<=b;c++)d=a[2*c+1],0!==d&&(a[2*c]=nh(e[d]++,d))},ph=function(a){var b;for(b=0;286>b;b++)a.dyn_ltree[2*b]=0;for(b=0;30>b;b++)a.dyn_dtree[2*b]=0;for(b=0;19>
  b;b++)a.bl_tree[2*b]=0;a.dyn_ltree[512]=1;a.opt_len=a.static_len=0;a.sym_next=a.matches=0},qh=function(a){8<a.bi_valid?gd(a,a.bi_buf):0<a.bi_valid&&(a.pending_buf[a.pending++]=a.bi_buf);a.bi_buf=0;a.bi_valid=0},rh=function(a,b,c,e){var d=2*b,f=2*c;return a[d]<a[f]||a[d]===a[f]&&e[b]<=e[c]},sf=function(a,b,c){for(var e=a.heap[c],d=c<<1;d<=a.heap_len;){d<a.heap_len&&rh(b,a.heap[d+1],a.heap[d],a.depth)&&d++;if(rh(b,e,a.heap[d],a.depth))break;a.heap[c]=a.heap[d];c=d;d<<=1}a.heap[c]=e},sh=function(a,b,
  c){var e=0;if(0!==a.sym_next){do{var d=a.pending_buf[a.sym_buf+e++]&255;d+=(a.pending_buf[a.sym_buf+e++]&255)<<8;var f=a.pending_buf[a.sym_buf+e++];if(0===d)rb(a,f,b);else{var h=fd[f];rb(a,h+256+1,b);var g=qf[h];0!==g&&(f-=rf[h],Ua(a,f,g));d--;h=256>d?jc[d]:jc[256+(d>>>7)];rb(a,h,c);g=Wd[h];0!==g&&(d-=Xd[h],Ua(a,d,g))}}while(e<a.sym_next)}rb(a,256,b)},tf=function(a,b){var c=b.dyn_tree,e=b.stat_desc.static_tree,d=b.stat_desc.has_stree,f=b.stat_desc.elems,h,g=-1;a.heap_len=0;a.heap_max=573;for(h=0;h<
  f;h++)0!==c[2*h]?(a.heap[++a.heap_len]=g=h,a.depth[h]=0):c[2*h+1]=0;for(;2>a.heap_len;){var m=a.heap[++a.heap_len]=2>g?++g:0;c[2*m]=1;a.depth[m]=0;a.opt_len--;d&&(a.static_len-=e[2*m+1])}b.max_code=g;for(h=a.heap_len>>1;1<=h;h--)sf(a,c,h);m=f;do h=a.heap[1],a.heap[1]=a.heap[a.heap_len--],sf(a,c,1),e=a.heap[1],a.heap[--a.heap_max]=h,a.heap[--a.heap_max]=e,c[2*m]=c[2*h]+c[2*e],a.depth[m]=(a.depth[h]>=a.depth[e]?a.depth[h]:a.depth[e])+1,c[2*h+1]=c[2*e+1]=m,a.heap[1]=m++,sf(a,c,1);while(2<=a.heap_len);
  a.heap[--a.heap_max]=a.heap[1];h=b.dyn_tree;m=b.max_code;e=b.stat_desc.static_tree;d=b.stat_desc.has_stree;f=b.stat_desc.extra_bits;var n=b.stat_desc.extra_base,r=b.stat_desc.max_length,k,q=0;for(k=0;15>=k;k++)a.bl_count[k]=0;h[2*a.heap[a.heap_max]+1]=0;for(b=a.heap_max+1;573>b;b++){var t=a.heap[b];k=h[2*h[2*t+1]+1]+1;k>r&&(k=r,q++);h[2*t+1]=k;if(!(t>m)){a.bl_count[k]++;var p=0;t>=n&&(p=f[t-n]);var v=h[2*t];a.opt_len+=v*(k+p);d&&(a.static_len+=v*(e[2*t+1]+p))}}if(0!==q){do{for(k=r-1;0===a.bl_count[k];)k--;
  a.bl_count[k]--;a.bl_count[k+1]+=2;a.bl_count[r]--;q-=2}while(0<q);for(k=r;0!==k;k--)for(t=a.bl_count[k];0!==t;)e=a.heap[--b],e>m||(h[2*e+1]!==k&&(a.opt_len+=(k-h[2*e+1])*h[2*e],h[2*e+1]=k),t--)}oh(c,g,a.bl_count)},th=function(a,b,c){var e,d=-1,f=b[1],h=0,g=7,m=4;0===f&&(g=138,m=3);b[2*(c+1)+1]=65535;for(e=0;e<=c;e++){var n=f;f=b[2*(e+1)+1];++h<g&&n===f||(h<m?a.bl_tree[2*n]+=h:0!==n?(n!==d&&a.bl_tree[2*n]++,a.bl_tree[32]++):10>=h?a.bl_tree[34]++:a.bl_tree[36]++,h=0,d=n,0===f?(g=138,m=3):n===f?(g=
  6,m=3):(g=7,m=4))}},uh=function(a,b,c){var e,d=-1,f=b[1],h=0,g=7,m=4;0===f&&(g=138,m=3);for(e=0;e<=c;e++){var n=f;f=b[2*(e+1)+1];if(!(++h<g&&n===f)){if(h<m){do rb(a,n,a.bl_tree);while(0!==--h)}else 0!==n?(n!==d&&(rb(a,n,a.bl_tree),h--),rb(a,16,a.bl_tree),Ua(a,h-3,2)):10>=h?(rb(a,17,a.bl_tree),Ua(a,h-3,3)):(rb(a,18,a.bl_tree),Ua(a,h-11,7));h=0;d=n;0===f?(g=138,m=3):n===f?(g=6,m=3):(g=7,m=4)}}},Lj=function(a){var b=4093624447,c;for(c=0;31>=c;c++,b>>>=1)if(b&1&&0!==a.dyn_ltree[2*c])return 0;if(0!==a.dyn_ltree[18]||
  0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return 1;for(c=32;256>c;c++)if(0!==a.dyn_ltree[2*c])return 1;return 0},vh=!1,Yd=function(a,b,c,e){Ua(a,e?1:0,3);qh(a);gd(a,c);gd(a,~c);c&&a.pending_buf.set(a.window.subarray(b,b+c),a.pending);a.pending+=c},hd=function(a,b,c,e){var d=a&65535|0;a=a>>>16&65535|0;for(var f;0!==c;){f=2E3<c?2E3:c;c-=f;do d=d+b[e++]|0,a=a+d|0;while(--f);d%=65521;a%=65521}return d|a<<16|0},Mj=new Uint32Array(function(){for(var a,b=[],c=0;256>c;c++){a=c;for(var e=0;8>e;e++)a=a&1?3988292384^
  a>>>1:a>>>1;b[c]=a}return b}()),La=function(a,b,c,e){c=e+c;for(a^=-1;e<c;e++)a=a>>>8^Mj[(a^b[e])&255];return a^-1},Ub={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ea={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,
  Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Mb=function(a,b,c){a.pending_buf[a.sym_buf+a.sym_next++]=b;a.pending_buf[a.sym_buf+a.sym_next++]=b>>8;a.pending_buf[a.sym_buf+a.sym_next++]=c;0===b?a.dyn_ltree[2*c]++:(a.matches++,b--,a.dyn_ltree[2*(fd[c]+256+1)]++,a.dyn_dtree[2*(256>b?jc[b]:jc[256+(b>>>7)])]++);return a.sym_next===a.sym_end},Nb=ea.Z_NO_FLUSH,Nj=ea.Z_PARTIAL_FLUSH,
  Oj=ea.Z_FULL_FLUSH,eb=ea.Z_FINISH,wh=ea.Z_BLOCK,Qa=ea.Z_OK,xh=ea.Z_STREAM_END,sb=ea.Z_STREAM_ERROR,Pj=ea.Z_DATA_ERROR,uf=ea.Z_BUF_ERROR,Qj=ea.Z_DEFAULT_COMPRESSION,Rj=ea.Z_FILTERED,Zd=ea.Z_HUFFMAN_ONLY,Sj=ea.Z_RLE,Tj=ea.Z_FIXED,Uj=ea.Z_DEFAULT_STRATEGY,Vj=ea.Z_UNKNOWN,qd=ea.Z_DEFLATED,kc=function(a,b){a.msg=Ub[b];return b},Ib=function(a){for(var b=a.length;0<=--b;)a[b]=0},Ob=function(a,b,c){return(b<<a.hash_shift^c)&a.hash_mask},Ya=function(a){var b=a.state,c=b.pending;c>a.avail_out&&(c=a.avail_out);
  0!==c&&(a.output.set(b.pending_buf.subarray(b.pending_out,b.pending_out+c),a.next_out),a.next_out+=c,b.pending_out+=c,a.total_out+=c,a.avail_out-=c,b.pending-=c,0===b.pending&&(b.pending_out=0))},Za=function(a,b){var c=0<=a.block_start?a.block_start:-1,e=a.strstart-a.block_start,d=0;if(0<a.level){2===a.strm.data_type&&(a.strm.data_type=Lj(a));tf(a,a.l_desc);tf(a,a.d_desc);th(a,a.dyn_ltree,a.l_desc.max_code);th(a,a.dyn_dtree,a.d_desc.max_code);tf(a,a.bl_desc);for(d=18;3<=d&&0===a.bl_tree[2*jh[d]+1];d--);
  a.opt_len+=3*(d+1)+14;var f=a.opt_len+3+7>>>3;var h=a.static_len+3+7>>>3;h<=f&&(f=h)}else f=h=e+5;if(e+4<=f&&-1!==c)Yd(a,c,e,b);else if(4===a.strategy||h===f)Ua(a,2+(b?1:0),3),sh(a,Fb,ed);else{Ua(a,4+(b?1:0),3);c=a.l_desc.max_code+1;e=a.d_desc.max_code+1;d+=1;Ua(a,c-257,5);Ua(a,e-1,5);Ua(a,d-4,4);for(f=0;f<d;f++)Ua(a,a.bl_tree[2*jh[f]+1],3);uh(a,a.dyn_ltree,c-1);uh(a,a.dyn_dtree,e-1);sh(a,a.dyn_ltree,a.dyn_dtree)}ph(a);b&&qh(a);a.block_start=a.strstart;Ya(a.strm)},ua=function(a,b){a.pending_buf[a.pending++]=
  b},id=function(a,b){a.pending_buf[a.pending++]=b>>>8&255;a.pending_buf[a.pending++]=b&255},vf=function(a,b,c,e){var d=a.avail_in;d>e&&(d=e);if(0===d)return 0;a.avail_in-=d;b.set(a.input.subarray(a.next_in,a.next_in+d),c);1===a.state.wrap?a.adler=hd(a.adler,b,d,c):2===a.state.wrap&&(a.adler=La(a.adler,b,d,c));a.next_in+=d;a.total_in+=d;return d},yh=function(a,b){var c=a.max_chain_length,e=a.strstart,d=a.prev_length,f=a.nice_match,h=a.strstart>a.w_size-262?a.strstart-(a.w_size-262):0,g=a.window,m=a.w_mask,
  n=a.prev,r=a.strstart+258,k=g[e+d-1],q=g[e+d];a.prev_length>=a.good_match&&(c>>=2);f>a.lookahead&&(f=a.lookahead);do{var t=b;if(g[t+d]===q&&g[t+d-1]===k&&g[t]===g[e]&&g[++t]===g[e+1]){e+=2;for(t++;g[++e]===g[++t]&&g[++e]===g[++t]&&g[++e]===g[++t]&&g[++e]===g[++t]&&g[++e]===g[++t]&&g[++e]===g[++t]&&g[++e]===g[++t]&&g[++e]===g[++t]&&e<r;);t=258-(r-e);e=r-258;if(t>d){a.match_start=b;d=t;if(t>=f)break;k=g[e+d-1];q=g[e+d]}}}while((b=n[b&m])>h&&0!==--c);return d<=a.lookahead?d:a.lookahead},Ec=function(a){var b=
  a.w_size;do{var c=a.window_size-a.lookahead-a.strstart;if(a.strstart>=b+(b-262)){a.window.set(a.window.subarray(b,b+b-c),0);a.match_start-=b;a.strstart-=b;a.block_start-=b;a.insert>a.strstart&&(a.insert=a.strstart);var e,d=a,f=d.w_size;var h=e=d.hash_size;do{var g=d.head[--h];d.head[h]=g>=f?g-f:0}while(--e);h=e=f;do g=d.prev[--h],d.prev[h]=g>=f?g-f:0;while(--e);c+=b}if(0===a.strm.avail_in)break;c=vf(a.strm,a.window,a.strstart+a.lookahead,c);a.lookahead+=c;if(3<=a.lookahead+a.insert)for(c=a.strstart-
  a.insert,a.ins_h=a.window[c],a.ins_h=Ob(a,a.ins_h,a.window[c+1]);a.insert&&!(a.ins_h=Ob(a,a.ins_h,a.window[c+3-1]),a.prev[c&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=c,c++,a.insert--,3>a.lookahead+a.insert););}while(262>a.lookahead&&0!==a.strm.avail_in)},zh=function(a,b){var c=a.pending_buf_size-5>a.w_size?a.w_size:a.pending_buf_size-5,e=0,d=a.strm.avail_in;do{var f=65535;var h=a.bi_valid+42>>3;if(a.strm.avail_out<h)break;h=a.strm.avail_out-h;var g=a.strstart-a.block_start;f>g+a.strm.avail_in&&(f=
  g+a.strm.avail_in);f>h&&(f=h);if(f<c&&(0===f&&b!==eb||b===Nb||f!==g+a.strm.avail_in))break;e=b===eb&&f===g+a.strm.avail_in?1:0;Yd(a,0,0,e);a.pending_buf[a.pending-4]=f;a.pending_buf[a.pending-3]=f>>8;a.pending_buf[a.pending-2]=~f;a.pending_buf[a.pending-1]=~f>>8;Ya(a.strm);g&&(g>f&&(g=f),a.strm.output.set(a.window.subarray(a.block_start,a.block_start+g),a.strm.next_out),a.strm.next_out+=g,a.strm.avail_out-=g,a.strm.total_out+=g,a.block_start+=g,f-=g);f&&(vf(a.strm,a.strm.output,a.strm.next_out,f),
  a.strm.next_out+=f,a.strm.avail_out-=f,a.strm.total_out+=f)}while(0===e);if(d-=a.strm.avail_in)d>=a.w_size?(a.matches=2,a.window.set(a.strm.input.subarray(a.strm.next_in-a.w_size,a.strm.next_in),0),a.strstart=a.w_size,a.insert=a.strstart):(a.window_size-a.strstart<=d&&(a.strstart-=a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+a.strstart),0),2>a.matches&&a.matches++,a.insert>a.strstart&&(a.insert=a.strstart)),a.window.set(a.strm.input.subarray(a.strm.next_in-d,a.strm.next_in),a.strstart),
  a.strstart+=d,a.insert+=d>a.w_size-a.insert?a.w_size-a.insert:d),a.block_start=a.strstart;a.high_water<a.strstart&&(a.high_water=a.strstart);if(e)return 4;if(b!==Nb&&b!==eb&&0===a.strm.avail_in&&a.strstart===a.block_start)return 2;h=a.window_size-a.strstart;a.strm.avail_in>h&&a.block_start>=a.w_size&&(a.block_start-=a.w_size,a.strstart-=a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+a.strstart),0),2>a.matches&&a.matches++,h+=a.w_size,a.insert>a.strstart&&(a.insert=a.strstart));h>a.strm.avail_in&&
  (h=a.strm.avail_in);h&&(vf(a.strm,a.window,a.strstart,h),a.strstart+=h,a.insert+=h>a.w_size-a.insert?a.w_size-a.insert:h);a.high_water<a.strstart&&(a.high_water=a.strstart);h=a.bi_valid+42>>3;h=65535<a.pending_buf_size-h?65535:a.pending_buf_size-h;c=h>a.w_size?a.w_size:h;g=a.strstart-a.block_start;if(g>=c||(g||b===eb)&&b!==Nb&&0===a.strm.avail_in&&g<=h)f=g>h?h:g,e=b===eb&&0===a.strm.avail_in&&f===g?1:0,Yd(a,a.block_start,f,e),a.block_start+=f,Ya(a.strm);return e?3:1},wf=function(a,b){for(var c;;){if(262>
  a.lookahead){Ec(a);if(262>a.lookahead&&b===Nb)return 1;if(0===a.lookahead)break}c=0;3<=a.lookahead&&(a.ins_h=Ob(a,a.ins_h,a.window[a.strstart+3-1]),c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);0!==c&&a.strstart-c<=a.w_size-262&&(a.match_length=yh(a,c));if(3<=a.match_length)if(c=Mb(a,a.strstart-a.match_start,a.match_length-3),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&3<=a.lookahead){a.match_length--;do a.strstart++,a.ins_h=Ob(a,a.ins_h,a.window[a.strstart+
  3-1]),a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!==--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=Ob(a,a.ins_h,a.window[a.strstart+1]);else c=Mb(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(c&&(Za(a,!1),0===a.strm.avail_out))return 1}a.insert=2>a.strstart?a.strstart:2;return b===eb?(Za(a,!0),0===a.strm.avail_out?3:4):a.sym_next&&(Za(a,!1),0===a.strm.avail_out)?1:2},Fc=function(a,b){for(var c,
  e;;){if(262>a.lookahead){Ec(a);if(262>a.lookahead&&b===Nb)return 1;if(0===a.lookahead)break}c=0;3<=a.lookahead&&(a.ins_h=Ob(a,a.ins_h,a.window[a.strstart+3-1]),c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);a.prev_length=a.match_length;a.prev_match=a.match_start;a.match_length=2;0!==c&&a.prev_length<a.max_lazy_match&&a.strstart-c<=a.w_size-262&&(a.match_length=yh(a,c),5>=a.match_length&&(a.strategy===Rj||3===a.match_length&&4096<a.strstart-a.match_start)&&(a.match_length=
  2));if(3<=a.prev_length&&a.match_length<=a.prev_length){e=a.strstart+a.lookahead-3;c=Mb(a,a.strstart-1-a.prev_match,a.prev_length-3);a.lookahead-=a.prev_length-1;a.prev_length-=2;do++a.strstart<=e&&(a.ins_h=Ob(a,a.ins_h,a.window[a.strstart+3-1]),a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!==--a.prev_length);a.match_available=0;a.match_length=2;a.strstart++;if(c&&(Za(a,!1),0===a.strm.avail_out))return 1}else if(a.match_available){if((c=Mb(a,0,a.window[a.strstart-
  1]))&&Za(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return 1}else a.match_available=1,a.strstart++,a.lookahead--}a.match_available&&(Mb(a,0,a.window[a.strstart-1]),a.match_available=0);a.insert=2>a.strstart?a.strstart:2;return b===eb?(Za(a,!0),0===a.strm.avail_out?3:4):a.sym_next&&(Za(a,!1),0===a.strm.avail_out)?1:2},Wj=function(a,b){for(var c,e,d,f=a.window;;){if(258>=a.lookahead){Ec(a);if(258>=a.lookahead&&b===Nb)return 1;if(0===a.lookahead)break}a.match_length=0;if(3<=a.lookahead&&0<
  a.strstart&&(e=a.strstart-1,c=f[e],c===f[++e]&&c===f[++e]&&c===f[++e])){for(d=a.strstart+258;c===f[++e]&&c===f[++e]&&c===f[++e]&&c===f[++e]&&c===f[++e]&&c===f[++e]&&c===f[++e]&&c===f[++e]&&e<d;);a.match_length=258-(d-e);a.match_length>a.lookahead&&(a.match_length=a.lookahead)}3<=a.match_length?(c=Mb(a,1,a.match_length-3),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(c=Mb(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++);if(c&&(Za(a,!1),0===a.strm.avail_out))return 1}a.insert=
  0;return b===eb?(Za(a,!0),0===a.strm.avail_out?3:4):a.sym_next&&(Za(a,!1),0===a.strm.avail_out)?1:2},Xj=function(a,b){for(var c;;){if(0===a.lookahead&&(Ec(a),0===a.lookahead)){if(b===Nb)return 1;break}a.match_length=0;c=Mb(a,0,a.window[a.strstart]);a.lookahead--;a.strstart++;if(c&&(Za(a,!1),0===a.strm.avail_out))return 1}a.insert=0;return b===eb?(Za(a,!0),0===a.strm.avail_out?3:4):a.sym_next&&(Za(a,!1),0===a.strm.avail_out)?1:2},jd=[new jb(0,0,0,0,zh),new jb(4,4,8,4,wf),new jb(4,5,16,8,wf),new jb(4,
  6,32,32,wf),new jb(4,4,16,16,Fc),new jb(8,16,32,32,Fc),new jb(8,16,128,128,Fc),new jb(8,32,128,256,Fc),new jb(32,128,258,1024,Fc),new jb(32,258,258,4096,Fc)],kd=function(a){if(!a)return 1;var b=a.state;return!b||b.strm!==a||42!==b.status&&57!==b.status&&69!==b.status&&73!==b.status&&91!==b.status&&103!==b.status&&113!==b.status&&666!==b.status?1:0},Ah=function(a){if(kd(a))return kc(a,sb);a.total_in=a.total_out=0;a.data_type=Vj;var b=a.state;b.pending=0;b.pending_out=0;0>b.wrap&&(b.wrap=-b.wrap);b.status=
  2===b.wrap?57:b.wrap?42:113;a.adler=2===b.wrap?0:1;b.last_flush=-2;if(!vh){var c,e,d;a=Array(16);for(d=e=0;28>d;d++)for(rf[d]=e,c=0;c<1<<qf[d];c++)fd[e++]=d;fd[e-1]=d;for(d=e=0;16>d;d++)for(Xd[d]=e,c=0;c<1<<Wd[d];c++)jc[e++]=d;for(e>>=7;30>d;d++)for(Xd[d]=e<<7,c=0;c<1<<Wd[d]-7;c++)jc[256+e++]=d;for(c=0;15>=c;c++)a[c]=0;for(c=0;143>=c;)Fb[2*c+1]=8,c++,a[8]++;for(;255>=c;)Fb[2*c+1]=9,c++,a[9]++;for(;279>=c;)Fb[2*c+1]=7,c++,a[7]++;for(;287>=c;)Fb[2*c+1]=8,c++,a[8]++;oh(Fb,287,a);for(c=0;30>c;c++)ed[2*
  c+1]=5,ed[2*c]=nh(c,5);kh=new ne(Fb,qf,257,286,15);lh=new ne(ed,Wd,0,30,15);mh=new ne([],Kj,0,19,7);vh=!0}b.l_desc=new oe(b.dyn_ltree,kh);b.d_desc=new oe(b.dyn_dtree,lh);b.bl_desc=new oe(b.bl_tree,mh);b.bi_buf=0;b.bi_valid=0;ph(b);return Qa},Bh=function(a){var b=Ah(a);b===Qa&&(a=a.state,a.window_size=2*a.w_size,Ib(a.head),a.max_lazy_match=jd[a.level].max_lazy,a.good_match=jd[a.level].good_length,a.nice_match=jd[a.level].nice_length,a.max_chain_length=jd[a.level].max_chain,a.strstart=0,a.block_start=
  0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=2,a.match_available=0,a.ins_h=0);return b},Ch=function(a,b,c,e,d,f){if(!a)return sb;var h=1;b===Qj&&(b=6);0>e?(h=0,e=-e):15<e&&(h=2,e-=16);if(1>d||9<d||c!==qd||8>e||15<e||0>b||9<b||0>f||f>Tj||8===e&&1!==h)return kc(a,sb);8===e&&(e=9);var g=new vi;a.state=g;g.strm=a;g.status=42;g.wrap=h;g.gzhead=null;g.w_bits=e;g.w_size=1<<g.w_bits;g.w_mask=g.w_size-1;g.hash_bits=d+7;g.hash_size=1<<g.hash_bits;g.hash_mask=g.hash_size-1;g.hash_shift=~~((g.hash_bits+
  3-1)/3);g.window=new Uint8Array(2*g.w_size);g.head=new Uint16Array(g.hash_size);g.prev=new Uint16Array(g.w_size);g.lit_bufsize=1<<d+6;g.pending_buf_size=4*g.lit_bufsize;g.pending_buf=new Uint8Array(g.pending_buf_size);g.sym_buf=g.lit_bufsize;g.sym_end=3*(g.lit_bufsize-1);g.level=b;g.strategy=f;g.method=c;return Bh(a)},Nc={deflateInit:function(a,b){return Ch(a,b,qd,15,8,Uj)},deflateInit2:Ch,deflateReset:Bh,deflateResetKeep:Ah,deflateSetHeader:function(a,b){if(kd(a)||2!==a.state.wrap)return sb;a.state.gzhead=
  b;return Qa},deflate:function(a,b){if(kd(a)||b>wh||0>b)return a?kc(a,sb):sb;var c=a.state;if(!a.output||0!==a.avail_in&&!a.input||666===c.status&&b!==eb)return kc(a,0===a.avail_out?uf:sb);var e=c.last_flush;c.last_flush=b;if(0!==c.pending){if(Ya(a),0===a.avail_out)return c.last_flush=-1,Qa}else if(0===a.avail_in&&2*b-(4<b?9:0)<=2*e-(4<e?9:0)&&b!==eb)return kc(a,uf);if(666===c.status&&0!==a.avail_in)return kc(a,uf);42===c.status&&0===c.wrap&&(c.status=113);if(42===c.status&&(e=qd+(c.w_bits-8<<4)<<
  8,e|=(c.strategy>=Zd||2>c.level?0:6>c.level?1:6===c.level?2:3)<<6,0!==c.strstart&&(e|=32),id(c,e+(31-e%31)),0!==c.strstart&&(id(c,a.adler>>>16),id(c,a.adler&65535)),a.adler=1,c.status=113,Ya(a),0!==c.pending))return c.last_flush=-1,Qa;if(57===c.status)if(a.adler=0,ua(c,31),ua(c,139),ua(c,8),c.gzhead)ua(c,(c.gzhead.text?1:0)+(c.gzhead.hcrc?2:0)+(c.gzhead.extra?4:0)+(c.gzhead.name?8:0)+(c.gzhead.comment?16:0)),ua(c,c.gzhead.time&255),ua(c,c.gzhead.time>>8&255),ua(c,c.gzhead.time>>16&255),ua(c,c.gzhead.time>>
  24&255),ua(c,9===c.level?2:c.strategy>=Zd||2>c.level?4:0),ua(c,c.gzhead.os&255),c.gzhead.extra&&c.gzhead.extra.length&&(ua(c,c.gzhead.extra.length&255),ua(c,c.gzhead.extra.length>>8&255)),c.gzhead.hcrc&&(a.adler=La(a.adler,c.pending_buf,c.pending,0)),c.gzindex=0,c.status=69;else if(ua(c,0),ua(c,0),ua(c,0),ua(c,0),ua(c,0),ua(c,9===c.level?2:c.strategy>=Zd||2>c.level?4:0),ua(c,3),c.status=113,Ya(a),0!==c.pending)return c.last_flush=-1,Qa;if(69===c.status){if(c.gzhead.extra){e=c.pending;for(var d=(c.gzhead.extra.length&
  65535)-c.gzindex;c.pending+d>c.pending_buf_size;){var f=c.pending_buf_size-c.pending;c.pending_buf.set(c.gzhead.extra.subarray(c.gzindex,c.gzindex+f),c.pending);c.pending=c.pending_buf_size;c.gzhead.hcrc&&c.pending>e&&(a.adler=La(a.adler,c.pending_buf,c.pending-e,e));c.gzindex+=f;Ya(a);if(0!==c.pending)return c.last_flush=-1,Qa;e=0;d-=f}f=new Uint8Array(c.gzhead.extra);c.pending_buf.set(f.subarray(c.gzindex,c.gzindex+d),c.pending);c.pending+=d;c.gzhead.hcrc&&c.pending>e&&(a.adler=La(a.adler,c.pending_buf,
  c.pending-e,e));c.gzindex=0}c.status=73}if(73===c.status){if(c.gzhead.name){e=c.pending;do{if(c.pending===c.pending_buf_size){c.gzhead.hcrc&&c.pending>e&&(a.adler=La(a.adler,c.pending_buf,c.pending-e,e));Ya(a);if(0!==c.pending)return c.last_flush=-1,Qa;e=0}d=c.gzindex<c.gzhead.name.length?c.gzhead.name.charCodeAt(c.gzindex++)&255:0;ua(c,d)}while(0!==d);c.gzhead.hcrc&&c.pending>e&&(a.adler=La(a.adler,c.pending_buf,c.pending-e,e));c.gzindex=0}c.status=91}if(91===c.status){if(c.gzhead.comment){e=c.pending;
  do{if(c.pending===c.pending_buf_size){c.gzhead.hcrc&&c.pending>e&&(a.adler=La(a.adler,c.pending_buf,c.pending-e,e));Ya(a);if(0!==c.pending)return c.last_flush=-1,Qa;e=0}d=c.gzindex<c.gzhead.comment.length?c.gzhead.comment.charCodeAt(c.gzindex++)&255:0;ua(c,d)}while(0!==d);c.gzhead.hcrc&&c.pending>e&&(a.adler=La(a.adler,c.pending_buf,c.pending-e,e))}c.status=103}if(103===c.status){if(c.gzhead.hcrc){if(c.pending+2>c.pending_buf_size&&(Ya(a),0!==c.pending))return c.last_flush=-1,Qa;ua(c,a.adler&255);
  ua(c,a.adler>>8&255);a.adler=0}c.status=113;Ya(a);if(0!==c.pending)return c.last_flush=-1,Qa}if(0!==a.avail_in||0!==c.lookahead||b!==Nb&&666!==c.status){e=0===c.level?zh(c,b):c.strategy===Zd?Xj(c,b):c.strategy===Sj?Wj(c,b):jd[c.level].func(c,b);if(3===e||4===e)c.status=666;if(1===e||3===e)return 0===a.avail_out&&(c.last_flush=-1),Qa;if(2===e&&(b===Nj?(Ua(c,2,3),rb(c,256,Fb),16===c.bi_valid?(gd(c,c.bi_buf),c.bi_buf=0,c.bi_valid=0):8<=c.bi_valid&&(c.pending_buf[c.pending++]=c.bi_buf&255,c.bi_buf>>=
  8,c.bi_valid-=8)):b!==wh&&(Yd(c,0,0,!1),b===Oj&&(Ib(c.head),0===c.lookahead&&(c.strstart=0,c.block_start=0,c.insert=0))),Ya(a),0===a.avail_out))return c.last_flush=-1,Qa}if(b!==eb)return Qa;if(0>=c.wrap)return xh;2===c.wrap?(ua(c,a.adler&255),ua(c,a.adler>>8&255),ua(c,a.adler>>16&255),ua(c,a.adler>>24&255),ua(c,a.total_in&255),ua(c,a.total_in>>8&255),ua(c,a.total_in>>16&255),ua(c,a.total_in>>24&255)):(id(c,a.adler>>>16),id(c,a.adler&65535));Ya(a);0<c.wrap&&(c.wrap=-c.wrap);return 0!==c.pending?Qa:
  xh},deflateEnd:function(a){if(kd(a))return sb;var b=a.state.status;a.state=null;return 113===b?kc(a,Pj):Qa},deflateSetDictionary:function(a,b){var c=b.length;if(kd(a))return sb;var e=a.state,d=e.wrap;if(2===d||1===d&&42!==e.status||e.lookahead)return sb;1===d&&(a.adler=hd(a.adler,b,c,0));e.wrap=0;if(c>=e.w_size){0===d&&(Ib(e.head),e.strstart=0,e.block_start=0,e.insert=0);var f=new Uint8Array(e.w_size);f.set(b.subarray(c-e.w_size,c),0);b=f;c=e.w_size}f=a.avail_in;var h=a.next_in,g=a.input;a.avail_in=
  c;a.next_in=0;a.input=b;for(Ec(e);3<=e.lookahead;){b=e.strstart;c=e.lookahead-2;do e.ins_h=Ob(e,e.ins_h,e.window[b+3-1]),e.prev[b&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=b,b++;while(--c);e.strstart=b;e.lookahead=2;Ec(e)}e.strstart+=e.lookahead;e.block_start=e.strstart;e.insert=e.lookahead;e.lookahead=0;e.match_length=e.prev_length=2;e.match_available=0;a.next_in=h;a.input=g;a.avail_in=f;e.wrap=d;return Qa},deflateInfo:"pako deflate (from Nodeca project)"},rd={assign:function(a){for(var b=Array.prototype.slice.call(arguments,
  1);b.length;){var c=b.shift();if(c){if("object"!==pa(c))throw new TypeError(c+"must be non-object");for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(a[e]=c[e])}}return a},flattenChunks:function(a){for(var b=0,c=0,e=a.length;c<e;c++)b+=a[c].length;b=new Uint8Array(b);e=c=0;for(var d=a.length;c<d;c++){var f=a[c];b.set(f,e);e+=f.length}return b}},Dh=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){Dh=!1}for(var ld=new Uint8Array(256),Pb=0;256>Pb;Pb++)ld[Pb]=252<=Pb?6:248<=
  Pb?5:240<=Pb?4:224<=Pb?3:192<=Pb?2:1;ld[254]=ld[254]=1;var Oc={string2buf:function(a){if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(a);var b,c,e=a.length,d=0;for(b=0;b<e;b++){var f=a.charCodeAt(b);if(55296===(f&64512)&&b+1<e){var h=a.charCodeAt(b+1);56320===(h&64512)&&(f=65536+(f-55296<<10)+(h-56320),b++)}d+=128>f?1:2048>f?2:65536>f?3:4}var g=new Uint8Array(d);for(b=c=0;c<d;b++)f=a.charCodeAt(b),55296===(f&64512)&&b+1<e&&(h=a.charCodeAt(b+1),56320===
  (h&64512)&&(f=65536+(f-55296<<10)+(h-56320),b++)),128>f?g[c++]=f:(2048>f?g[c++]=192|f>>>6:(65536>f?g[c++]=224|f>>>12:(g[c++]=240|f>>>18,g[c++]=128|f>>>12&63),g[c++]=128|f>>>6&63),g[c++]=128|f&63);return g},buf2string:function(a,b){var c=b||a.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(a.subarray(0,b));var e,d;b=Array(2*c);for(e=d=0;e<c;){var f=a[e++];if(128>f)b[d++]=f;else{var h=ld[f];if(4<h)b[d++]=65533,e+=h-1;else{for(f&=2===h?31:3===h?
  15:7;1<h&&e<c;)f=f<<6|a[e++]&63,h--;1<h?b[d++]=65533:65536>f?b[d++]=f:(f-=65536,b[d++]=55296|f>>10&1023,b[d++]=56320|f&1023)}}}a=d;if(65534>a&&b.subarray&&Dh)b=String.fromCharCode.apply(null,b.length===a?b:b.subarray(0,a));else{c="";for(e=0;e<a;e++)c+=String.fromCharCode(b[e]);b=c}return b},utf8border:function(a,b){b=b||a.length;b>a.length&&(b=a.length);for(var c=b-1;0<=c&&128===(a[c]&192);)c--;return 0>c||0===c?b:c+ld[a[c]]>b?c:b}},cg=function(){this.input=null;this.total_in=this.avail_in=this.next_in=
  0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0},dg=Object.prototype.toString,Yj=ea.Z_NO_FLUSH,Zj=ea.Z_SYNC_FLUSH,ak=ea.Z_FULL_FLUSH,bk=ea.Z_FINISH,sd=ea.Z_OK,ck=ea.Z_STREAM_END,wi=ea.Z_DEFAULT_COMPRESSION,yi=ea.Z_DEFAULT_STRATEGY,xi=ea.Z_DEFLATED;Mc.prototype.push=function(a,b){var c=this.strm,e=this.options.chunkSize;if(this.ended)return!1;b=b===~~b?b:!0===b?bk:Yj;"string"===typeof a?c.input=Oc.string2buf(a):"[object ArrayBuffer]"===
  dg.call(a)?c.input=new Uint8Array(a):c.input=a;c.next_in=0;for(c.avail_in=c.input.length;;)if(0===c.avail_out&&(c.output=new Uint8Array(e),c.next_out=0,c.avail_out=e),(b===Zj||b===ak)&&6>=c.avail_out)this.onData(c.output.subarray(0,c.next_out)),c.avail_out=0;else{a=Nc.deflate(c,b);if(a===ck){if(0<c.next_out)this.onData(c.output.subarray(0,c.next_out));a=Nc.deflateEnd(this.strm);this.onEnd(a);this.ended=!0;return a===sd}if(0===c.avail_out)this.onData(c.output);else if(0<b&&0<c.next_out)this.onData(c.output.subarray(0,
  c.next_out)),c.avail_out=0;else if(0===c.avail_in)break}return!0};Mc.prototype.onData=function(a){this.chunks.push(a)};Mc.prototype.onEnd=function(a){a===sd&&(this.result=rd.flattenChunks(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};var dk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ek=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),fk=new Uint16Array([1,
  2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),gk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),md=function(a,b,c,e,d,f,h,g){var m=g.bits,n,r,k,q,t,p,v=new Uint16Array(16);var w=new Uint16Array(16);var u;for(n=0;15>=n;n++)v[n]=0;for(r=0;r<e;r++)v[b[c+r]]++;var z=m;for(k=15;1<=k&&0===v[k];k--);z>k&&(z=k);if(0===k)return d[f++]=20971520,d[f++]=20971520,g.bits=1,0;
  for(m=1;m<k&&0===v[m];m++);z<m&&(z=m);for(n=q=1;15>=n;n++)if(q<<=1,q-=v[n],0>q)return-1;if(0<q&&(0===a||1!==k))return-1;w[1]=0;for(n=1;15>n;n++)w[n+1]=w[n]+v[n];for(r=0;r<e;r++)0!==b[c+r]&&(h[w[b[c+r]]++]=r);if(0===a){var D=u=h;var B=20}else 1===a?(D=dk,u=ek,B=257):(D=fk,u=gk,B=0);r=t=0;n=m;var G=f;e=z;w=0;var E=-1;var A=1<<z;var J=A-1;if(1===a&&852<A||2===a&&592<A)return 1;for(;;){var I=n-w;if(h[r]+1<B){var aa=0;var U=h[r]}else h[r]>=B?(aa=u[h[r]-B],U=D[h[r]-B]):(aa=96,U=0);q=1<<n-w;m=p=1<<e;do p-=
  q,d[G+(t>>w)+p]=I<<24|aa<<16|U|0;while(0!==p);for(q=1<<n-1;t&q;)q>>=1;0!==q?(t&=q-1,t+=q):t=0;r++;if(0===--v[n]){if(n===k)break;n=b[c+h[r]]}if(n>z&&(t&J)!==E){0===w&&(w=z);G+=m;e=n-w;for(q=1<<e;e+w<k;){q-=v[e+w];if(0>=q)break;e++;q<<=1}A+=1<<e;if(1===a&&852<A||2===a&&592<A)return 1;E=t&J;d[E]=z<<24|e<<16|G-f|0}}0!==t&&(d[G+t]=n-w<<24|4194304);g.bits=z;return 0},Eh=ea.Z_FINISH,hk=ea.Z_BLOCK,$d=ea.Z_TREES,lc=ea.Z_OK,ik=ea.Z_STREAM_END,jk=ea.Z_NEED_DICT,fb=ea.Z_STREAM_ERROR,Fh=ea.Z_DATA_ERROR,Gh=ea.Z_MEM_ERROR,
  kk=ea.Z_BUF_ERROR,Hh=ea.Z_DEFLATED,Ih=function(a){return(a>>>24&255)+(a>>>8&65280)+((a&65280)<<8)+((a&255)<<24)},mc=function(a){if(!a)return 1;var b=a.state;return!b||b.strm!==a||16180>b.mode||16211<b.mode?1:0},Jh=function(a){if(mc(a))return fb;var b=a.state;a.total_in=a.total_out=b.total=0;a.msg="";b.wrap&&(a.adler=b.wrap&1);b.mode=16180;b.last=0;b.havedict=0;b.flags=-1;b.dmax=32768;b.head=null;b.hold=0;b.bits=0;b.lencode=b.lendyn=new Int32Array(852);b.distcode=b.distdyn=new Int32Array(592);b.sane=
  1;b.back=-1;return lc},Kh=function(a){if(mc(a))return fb;var b=a.state;b.wsize=0;b.whave=0;b.wnext=0;return Jh(a)},Lh=function(a,b){if(mc(a))return fb;var c=a.state;if(0>b){var e=0;b=-b}else e=(b>>4)+5,48>b&&(b&=15);if(b&&(8>b||15<b))return fb;null!==c.window&&c.wbits!==b&&(c.window=null);c.wrap=e;c.wbits=b;return Kh(a)},Mh=function(a,b){if(!a)return fb;var c=new zi;a.state=c;c.strm=a;c.window=null;c.mode=16180;b=Lh(a,b);b!==lc&&(a.state=null);return b},Nh=!0,xf,yf,Oh=function(a,b,c,e){var d=a.state;
  null===d.window&&(d.wsize=1<<d.wbits,d.wnext=0,d.whave=0,d.window=new Uint8Array(d.wsize));e>=d.wsize?(d.window.set(b.subarray(c-d.wsize,c),0),d.wnext=0,d.whave=d.wsize):(a=d.wsize-d.wnext,a>e&&(a=e),d.window.set(b.subarray(c-e,c-e+a),d.wnext),(e-=a)?(d.window.set(b.subarray(c-e,c),0),d.wnext=e,d.whave=d.wsize):(d.wnext+=a,d.wnext===d.wsize&&(d.wnext=0),d.whave<d.wsize&&(d.whave+=a)));return 0},vb={inflateReset:Kh,inflateReset2:Lh,inflateResetKeep:Jh,inflateInit:function(a){return Mh(a,15)},inflateInit2:Mh,
  inflate:function(a,b){var c=new Uint8Array(4),e=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(mc(a)||!a.output||!a.input&&0!==a.avail_in)return fb;var d=a.state;16191===d.mode&&(d.mode=16192);var f=a.next_out;var h=a.output;var g=a.avail_out;var m=a.next_in;var n=a.input;var r=a.avail_in;var k=d.hold;var q=d.bits;var t=r;var p=g;var v=lc;a:for(;;)switch(d.mode){case 16180:if(0===d.wrap){d.mode=16192;break}for(;16>q;){if(0===r)break a;r--;k+=n[m++]<<q;q+=8}if(d.wrap&2&&35615===
  k){0===d.wbits&&(d.wbits=15);d.check=0;c[0]=k&255;c[1]=k>>>8&255;d.check=La(d.check,c,2,0);q=k=0;d.mode=16181;break}d.head&&(d.head.done=!1);if(!(d.wrap&1)||(((k&255)<<8)+(k>>8))%31){a.msg="incorrect header check";d.mode=16209;break}if((k&15)!==Hh){a.msg="unknown compression method";d.mode=16209;break}k>>>=4;q-=4;var w=(k&15)+8;0===d.wbits&&(d.wbits=w);if(15<w||w>d.wbits){a.msg="invalid window size";d.mode=16209;break}d.dmax=1<<d.wbits;d.flags=0;a.adler=d.check=1;d.mode=k&512?16189:16191;q=k=0;break;
  case 16181:for(;16>q;){if(0===r)break a;r--;k+=n[m++]<<q;q+=8}d.flags=k;if((d.flags&255)!==Hh){a.msg="unknown compression method";d.mode=16209;break}if(d.flags&57344){a.msg="unknown header flags set";d.mode=16209;break}d.head&&(d.head.text=k>>8&1);d.flags&512&&d.wrap&4&&(c[0]=k&255,c[1]=k>>>8&255,d.check=La(d.check,c,2,0));q=k=0;d.mode=16182;case 16182:for(;32>q;){if(0===r)break a;r--;k+=n[m++]<<q;q+=8}d.head&&(d.head.time=k);d.flags&512&&d.wrap&4&&(c[0]=k&255,c[1]=k>>>8&255,c[2]=k>>>16&255,c[3]=
  k>>>24&255,d.check=La(d.check,c,4,0));q=k=0;d.mode=16183;case 16183:for(;16>q;){if(0===r)break a;r--;k+=n[m++]<<q;q+=8}d.head&&(d.head.xflags=k&255,d.head.os=k>>8);d.flags&512&&d.wrap&4&&(c[0]=k&255,c[1]=k>>>8&255,d.check=La(d.check,c,2,0));q=k=0;d.mode=16184;case 16184:if(d.flags&1024){for(;16>q;){if(0===r)break a;r--;k+=n[m++]<<q;q+=8}d.length=k;d.head&&(d.head.extra_len=k);d.flags&512&&d.wrap&4&&(c[0]=k&255,c[1]=k>>>8&255,d.check=La(d.check,c,2,0));q=k=0}else d.head&&(d.head.extra=null);d.mode=
  16185;case 16185:if(d.flags&1024){var u=d.length;u>r&&(u=r);u&&(d.head&&(w=d.head.extra_len-d.length,d.head.extra||(d.head.extra=new Uint8Array(d.head.extra_len)),d.head.extra.set(n.subarray(m,m+u),w)),d.flags&512&&d.wrap&4&&(d.check=La(d.check,n,u,m)),r-=u,m+=u,d.length-=u);if(d.length)break a}d.length=0;d.mode=16186;case 16186:if(d.flags&2048){if(0===r)break a;u=0;do w=n[m+u++],d.head&&w&&65536>d.length&&(d.head.name+=String.fromCharCode(w));while(w&&u<r);d.flags&512&&d.wrap&4&&(d.check=La(d.check,
  n,u,m));r-=u;m+=u;if(w)break a}else d.head&&(d.head.name=null);d.length=0;d.mode=16187;case 16187:if(d.flags&4096){if(0===r)break a;u=0;do w=n[m+u++],d.head&&w&&65536>d.length&&(d.head.comment+=String.fromCharCode(w));while(w&&u<r);d.flags&512&&d.wrap&4&&(d.check=La(d.check,n,u,m));r-=u;m+=u;if(w)break a}else d.head&&(d.head.comment=null);d.mode=16188;case 16188:if(d.flags&512){for(;16>q;){if(0===r)break a;r--;k+=n[m++]<<q;q+=8}if(d.wrap&4&&k!==(d.check&65535)){a.msg="header crc mismatch";d.mode=
  16209;break}q=k=0}d.head&&(d.head.hcrc=d.flags>>9&1,d.head.done=!0);a.adler=d.check=0;d.mode=16191;break;case 16189:for(;32>q;){if(0===r)break a;r--;k+=n[m++]<<q;q+=8}a.adler=d.check=Ih(k);q=k=0;d.mode=16190;case 16190:if(0===d.havedict)return a.next_out=f,a.avail_out=g,a.next_in=m,a.avail_in=r,d.hold=k,d.bits=q,jk;a.adler=d.check=1;d.mode=16191;case 16191:if(b===hk||b===$d)break a;case 16192:if(d.last){k>>>=q&7;q-=q&7;d.mode=16206;break}for(;3>q;){if(0===r)break a;r--;k+=n[m++]<<q;q+=8}d.last=k&
  1;k>>>=1;--q;switch(k&3){case 0:d.mode=16193;break;case 1:u=d;if(Nh){xf=new Int32Array(512);yf=new Int32Array(32);for(w=0;144>w;)u.lens[w++]=8;for(;256>w;)u.lens[w++]=9;for(;280>w;)u.lens[w++]=7;for(;288>w;)u.lens[w++]=8;md(1,u.lens,0,288,xf,0,u.work,{bits:9});for(w=0;32>w;)u.lens[w++]=5;md(2,u.lens,0,32,yf,0,u.work,{bits:5});Nh=!1}u.lencode=xf;u.lenbits=9;u.distcode=yf;u.distbits=5;d.mode=16199;if(b===$d){k>>>=2;q-=2;break a}break;case 2:d.mode=16196;break;case 3:a.msg="invalid block type",d.mode=
  16209}k>>>=2;q-=2;break;case 16193:k>>>=q&7;for(q-=q&7;32>q;){if(0===r)break a;r--;k+=n[m++]<<q;q+=8}if((k&65535)!==(k>>>16^65535)){a.msg="invalid stored block lengths";d.mode=16209;break}d.length=k&65535;q=k=0;d.mode=16194;if(b===$d)break a;case 16194:d.mode=16195;case 16195:if(u=d.length){u>r&&(u=r);u>g&&(u=g);if(0===u)break a;h.set(n.subarray(m,m+u),f);r-=u;m+=u;g-=u;f+=u;d.length-=u;break}d.mode=16191;break;case 16196:for(;14>q;){if(0===r)break a;r--;k+=n[m++]<<q;q+=8}d.nlen=(k&31)+257;k>>>=5;
  q-=5;d.ndist=(k&31)+1;k>>>=5;q-=5;d.ncode=(k&15)+4;k>>>=4;q-=4;if(286<d.nlen||30<d.ndist){a.msg="too many length or distance symbols";d.mode=16209;break}d.have=0;d.mode=16197;case 16197:for(;d.have<d.ncode;){for(;3>q;){if(0===r)break a;r--;k+=n[m++]<<q;q+=8}d.lens[e[d.have++]]=k&7;k>>>=3;q-=3}for(;19>d.have;)d.lens[e[d.have++]]=0;d.lencode=d.lendyn;d.lenbits=7;u={bits:d.lenbits};v=md(0,d.lens,0,19,d.lencode,0,d.work,u);d.lenbits=u.bits;if(v){a.msg="invalid code lengths set";d.mode=16209;break}d.have=
  0;d.mode=16198;case 16198:for(;d.have<d.nlen+d.ndist;){for(;;){var z=d.lencode[k&(1<<d.lenbits)-1];u=z>>>24;z&=65535;if(u<=q)break;if(0===r)break a;r--;k+=n[m++]<<q;q+=8}if(16>z)k>>>=u,q-=u,d.lens[d.have++]=z;else{if(16===z){for(w=u+2;q<w;){if(0===r)break a;r--;k+=n[m++]<<q;q+=8}k>>>=u;q-=u;if(0===d.have){a.msg="invalid bit length repeat";d.mode=16209;break}w=d.lens[d.have-1];u=3+(k&3);k>>>=2;q-=2}else if(17===z){for(w=u+3;q<w;){if(0===r)break a;r--;k+=n[m++]<<q;q+=8}k>>>=u;q-=u;w=0;u=3+(k&7);k>>>=
  3;q-=3}else{for(w=u+7;q<w;){if(0===r)break a;r--;k+=n[m++]<<q;q+=8}k>>>=u;q-=u;w=0;u=11+(k&127);k>>>=7;q-=7}if(d.have+u>d.nlen+d.ndist){a.msg="invalid bit length repeat";d.mode=16209;break}for(;u--;)d.lens[d.have++]=w}}if(16209===d.mode)break;if(0===d.lens[256]){a.msg="invalid code -- missing end-of-block";d.mode=16209;break}d.lenbits=9;u={bits:d.lenbits};v=md(1,d.lens,0,d.nlen,d.lencode,0,d.work,u);d.lenbits=u.bits;if(v){a.msg="invalid literal/lengths set";d.mode=16209;break}d.distbits=6;d.distcode=
  d.distdyn;u={bits:d.distbits};v=md(2,d.lens,d.nlen,d.ndist,d.distcode,0,d.work,u);d.distbits=u.bits;if(v){a.msg="invalid distances set";d.mode=16209;break}d.mode=16199;if(b===$d)break a;case 16199:d.mode=16200;case 16200:if(6<=r&&258<=g){a.next_out=f;a.avail_out=g;a.next_in=m;a.avail_in=r;d.hold=k;d.bits=q;var D=a,B=D.state;var G=D.next_in;h=D.input;var E=G+(D.avail_in-5);var A=D.next_out;n=D.output;var J=A-(p-D.avail_out);var I=A+(D.avail_out-257);var aa=B.dmax;z=B.wsize;var U=B.whave;var Z=B.wnext;
  var M=B.window;w=B.hold;u=B.bits;q=B.lencode;k=B.distcode;g=(1<<B.lenbits)-1;r=(1<<B.distbits)-1;b:do{15>u&&(w+=h[G++]<<u,u+=8,w+=h[G++]<<u,u+=8);var F=q[w&g];c:for(;;){f=F>>>24;w>>>=f;u-=f;f=F>>>16&255;if(0===f)n[A++]=F&65535;else if(f&16){m=F&65535;if(f&=15)u<f&&(w+=h[G++]<<u,u+=8),m+=w&(1<<f)-1,w>>>=f,u-=f;15>u&&(w+=h[G++]<<u,u+=8,w+=h[G++]<<u,u+=8);F=k[w&r];d:for(;;){f=F>>>24;w>>>=f;u-=f;f=F>>>16&255;if(f&16){var ca=F&65535;f&=15;u<f&&(w+=h[G++]<<u,u+=8,u<f&&(w+=h[G++]<<u,u+=8));ca+=w&(1<<f)-
  1;if(ca>aa){D.msg="invalid distance too far back";B.mode=16209;break b}w>>>=f;u-=f;f=A-J;if(ca>f){f=ca-f;if(f>U&&B.sane){D.msg="invalid distance too far back";B.mode=16209;break b}var K=0;F=M;if(0===Z){if(K+=z-f,f<m){m-=f;do n[A++]=M[K++];while(--f);K=A-ca;F=n}}else if(Z<f){if(K+=z+Z-f,f-=Z,f<m){m-=f;do n[A++]=M[K++];while(--f);K=0;if(Z<m){f=Z;m-=f;do n[A++]=M[K++];while(--f);K=A-ca;F=n}}}else if(K+=Z-f,f<m){m-=f;do n[A++]=M[K++];while(--f);K=A-ca;F=n}for(;2<m;)n[A++]=F[K++],n[A++]=F[K++],n[A++]=
  F[K++],m-=3;m&&(n[A++]=F[K++],1<m&&(n[A++]=F[K++]))}else{K=A-ca;do n[A++]=n[K++],n[A++]=n[K++],n[A++]=n[K++],m-=3;while(2<m);m&&(n[A++]=n[K++],1<m&&(n[A++]=n[K++]))}}else if(0===(f&64)){F=k[(F&65535)+(w&(1<<f)-1)];continue d}else{D.msg="invalid distance code";B.mode=16209;break b}break}}else if(0===(f&64)){F=q[(F&65535)+(w&(1<<f)-1)];continue c}else{f&32?B.mode=16191:(D.msg="invalid literal/length code",B.mode=16209);break b}break}}while(G<E&&A<I);m=u>>3;G-=m;u-=m<<3;D.next_in=G;D.next_out=A;D.avail_in=
  G<E?5+(E-G):5-(G-E);D.avail_out=A<I?257+(I-A):257-(A-I);B.hold=w&(1<<u)-1;B.bits=u;f=a.next_out;h=a.output;g=a.avail_out;m=a.next_in;n=a.input;r=a.avail_in;k=d.hold;q=d.bits;16191===d.mode&&(d.back=-1);break}for(d.back=0;;){z=d.lencode[k&(1<<d.lenbits)-1];u=z>>>24;w=z>>>16&255;z&=65535;if(u<=q)break;if(0===r)break a;r--;k+=n[m++]<<q;q+=8}if(w&&0===(w&240)){M=u;Z=w;for(U=z;;){z=d.lencode[U+((k&(1<<M+Z)-1)>>M)];u=z>>>24;w=z>>>16&255;z&=65535;if(M+u<=q)break;if(0===r)break a;r--;k+=n[m++]<<q;q+=8}k>>>=
  M;q-=M;d.back+=M}k>>>=u;q-=u;d.back+=u;d.length=z;if(0===w){d.mode=16205;break}if(w&32){d.back=-1;d.mode=16191;break}if(w&64){a.msg="invalid literal/length code";d.mode=16209;break}d.extra=w&15;d.mode=16201;case 16201:if(d.extra){for(w=d.extra;q<w;){if(0===r)break a;r--;k+=n[m++]<<q;q+=8}d.length+=k&(1<<d.extra)-1;k>>>=d.extra;q-=d.extra;d.back+=d.extra}d.was=d.length;d.mode=16202;case 16202:for(;;){z=d.distcode[k&(1<<d.distbits)-1];u=z>>>24;w=z>>>16&255;z&=65535;if(u<=q)break;if(0===r)break a;r--;
  k+=n[m++]<<q;q+=8}if(0===(w&240)){M=u;Z=w;for(U=z;;){z=d.distcode[U+((k&(1<<M+Z)-1)>>M)];u=z>>>24;w=z>>>16&255;z&=65535;if(M+u<=q)break;if(0===r)break a;r--;k+=n[m++]<<q;q+=8}k>>>=M;q-=M;d.back+=M}k>>>=u;q-=u;d.back+=u;if(w&64){a.msg="invalid distance code";d.mode=16209;break}d.offset=z;d.extra=w&15;d.mode=16203;case 16203:if(d.extra){for(w=d.extra;q<w;){if(0===r)break a;r--;k+=n[m++]<<q;q+=8}d.offset+=k&(1<<d.extra)-1;k>>>=d.extra;q-=d.extra;d.back+=d.extra}if(d.offset>d.dmax){a.msg="invalid distance too far back";
  d.mode=16209;break}d.mode=16204;case 16204:if(0===g)break a;u=p-g;if(d.offset>u){u=d.offset-u;if(u>d.whave&&d.sane){a.msg="invalid distance too far back";d.mode=16209;break}u>d.wnext?(u-=d.wnext,w=d.wsize-u):w=d.wnext-u;u>d.length&&(u=d.length);M=d.window}else M=h,w=f-d.offset,u=d.length;u>g&&(u=g);g-=u;d.length-=u;do h[f++]=M[w++];while(--u);0===d.length&&(d.mode=16200);break;case 16205:if(0===g)break a;h[f++]=d.length;g--;d.mode=16200;break;case 16206:if(d.wrap){for(;32>q;){if(0===r)break a;r--;
  k|=n[m++]<<q;q+=8}p-=g;a.total_out+=p;d.total+=p;d.wrap&4&&p&&(a.adler=d.check=d.flags?La(d.check,h,p,f-p):hd(d.check,h,p,f-p));p=g;if(d.wrap&4&&(d.flags?k:Ih(k))!==d.check){a.msg="incorrect data check";d.mode=16209;break}q=k=0}d.mode=16207;case 16207:if(d.wrap&&d.flags){for(;32>q;){if(0===r)break a;r--;k+=n[m++]<<q;q+=8}if(d.wrap&4&&k!==(d.total&4294967295)){a.msg="incorrect length check";d.mode=16209;break}q=k=0}d.mode=16208;case 16208:v=ik;break a;case 16209:v=Fh;break a;case 16210:return Gh;default:return fb}a.next_out=
  f;a.avail_out=g;a.next_in=m;a.avail_in=r;d.hold=k;d.bits=q;(d.wsize||p!==a.avail_out&&16209>d.mode&&(16206>d.mode||b!==Eh))&&Oh(a,a.output,a.next_out,p-a.avail_out);t-=a.avail_in;p-=a.avail_out;a.total_in+=t;a.total_out+=p;d.total+=p;d.wrap&4&&p&&(a.adler=d.check=d.flags?La(d.check,h,p,a.next_out-p):hd(d.check,h,p,a.next_out-p));a.data_type=d.bits+(d.last?64:0)+(16191===d.mode?128:0)+(16199===d.mode||16194===d.mode?256:0);(0===t&&0===p||b===Eh)&&v===lc&&(v=kk);return v},inflateEnd:function(a){if(mc(a))return fb;
  var b=a.state;b.window&&(b.window=null);a.state=null;return lc},inflateGetHeader:function(a,b){if(mc(a))return fb;a=a.state;if(0===(a.wrap&2))return fb;a.head=b;b.done=!1;return lc},inflateSetDictionary:function(a,b){var c=b.length;if(mc(a))return fb;var e=a.state;if(0!==e.wrap&&16190!==e.mode)return fb;if(16190===e.mode){var d=hd(1,b,c,0);if(d!==e.check)return Fh}if(Oh(a,b,c,c))return e.mode=16210,Gh;e.havedict=1;return lc},inflateInfo:"pako inflate (from Nodeca project)"},Ai=function(){this.os=
  this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1},eg=Object.prototype.toString,lk=ea.Z_NO_FLUSH,mk=ea.Z_FINISH,Qc=ea.Z_OK,zf=ea.Z_STREAM_END,Af=ea.Z_NEED_DICT,nk=ea.Z_STREAM_ERROR,Ph=ea.Z_DATA_ERROR,ok=ea.Z_MEM_ERROR;Pc.prototype.push=function(a,b){var c=this.strm,e=this.options.chunkSize,d=this.options.dictionary;if(this.ended)return!1;var f=b===~~b?b:!0===b?mk:lk;"[object ArrayBuffer]"===eg.call(a)?c.input=new Uint8Array(a):c.input=
  a;c.next_in=0;for(c.avail_in=c.input.length;;){0===c.avail_out&&(c.output=new Uint8Array(e),c.next_out=0,c.avail_out=e);b=vb.inflate(c,f);b===Af&&d&&(b=vb.inflateSetDictionary(c,d),b===Qc?b=vb.inflate(c,f):b===Ph&&(b=Af));for(;0<c.avail_in&&b===zf&&0<c.state.wrap&&0!==a[c.next_in];)vb.inflateReset(c),b=vb.inflate(c,f);switch(b){case nk:case Ph:case Af:case ok:return this.onEnd(b),this.ended=!0,!1}var h=c.avail_out;if(c.next_out&&(0===c.avail_out||b===zf))if("string"===this.options.to){var g=Oc.utf8border(c.output,
  c.next_out),m=c.next_out-g,n=Oc.buf2string(c.output,g);c.next_out=m;c.avail_out=e-m;m&&c.output.set(c.output.subarray(g,g+m),0);this.onData(n)}else this.onData(c.output.length===c.next_out?c.output:c.output.subarray(0,c.next_out));if(b!==Qc||0!==h){if(b===zf){b=vb.inflateEnd(this.strm);this.onEnd(b);this.ended=!0;break}if(0===c.avail_in)break}}return!0};Pc.prototype.onData=function(a){this.chunks.push(a)};Pc.prototype.onEnd=function(a){a===Qc&&(this.result="string"===this.options.to?this.chunks.join(""):
  rd.flattenChunks(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};var wg={Deflate:Mc,deflate:pe,deflateRaw:function(a,b){b=b||{};b.raw=!0;return pe(a,b)},gzip:function(a,b){b=b||{};b.gzip=!0;return pe(a,b)},Inflate:Pc,inflate:qe,inflateRaw:function(a,b){b=b||{};b.raw=!0;return qe(a,b)},ungzip:qe,constants:ea},Qh;(function(a){a.BRAND="DeviceBrand";a.MANUFACTURER="DeviceManufacturer";a.MODEL="DeviceModel";a.TYPE="DeviceType";a.VERSION="DeviceVersion";a.OS_NAME="OperatingSystemName";a.OS_VERSION=
  "OperatingSystemVersion";a.CATEGORY="DeviceCategory";a.FRAMEWORK_NAME="FrameworkName";a.FRAMEWORK_VERSION="FrameworkVersion"})(Qh||(Qh={}));var gf={DeviceType:{CONSOLE:"Console",DESKTOP:"DESKTOP",MOBILE:"Mobile",SETTOP:"Settop",SMARTTV:"SmartTV",TABLET:"Tablet",VEHICLE:"Vehicle",OTHER:"Other"},DeviceCategory:{ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",DESKTOP_APP:"DSKAPP",DEVICE_SIMULATOR:"SIMULATOR",KAIOS_DEVICE:"KAIOS",LG_TV:"LGTV",LINUX:"LNX",NINTENDO:"NINTENDO",PLAYSTATION:"PS",
  ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",VIDAA_DEVICE:"VIDAA",VIZIO_TV:"VIZIOTV",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB"}},C;(function(a){var b;a.TRACEPARENT_HEADER_KEY="traceparent";a.BAGGAGE_HEADER_KEY="baggage";var c;(function(d){d.NONE="NONE";d.RCFG="RCFG"})(c=a.SAMPLING_MODES||(a.SAMPLING_MODES={}));(function(d){d.DERIVED="DERIVED";d.DEFAULT="DEFAULT"})(a.SAMPLING_STATUS||(a.SAMPLING_STATUS={}));var e;(function(d){d.SAMPLED="sl";d.NON_SAMPLED="nsl"})(e=a.SAMPLING_ACTION||(a.SAMPLING_ACTION={}));a.DEFAULT_SAMPLING_ACTION=
  (b={},b[e.SAMPLED]=c.RCFG,b[e.NON_SAMPLED]=c.NONE,b);(function(d){d.DEFAULT="def";d.CACHED="cac";d.REMOTE="rem"})(a.CONFIG_SOURCE||(a.CONFIG_SOURCE={}));(function(d){d[d.APP=0]="APP";d[d.REMOTE=1]="REMOTE";d[d.MERGE=2]="MERGE"})(a.CONFIG_PREFERENCES||(a.CONFIG_PREFERENCES={}));(function(d){d[d.DISABLED=0]="DISABLED";d[d.PERFORMANCE_TIMING=1]="PERFORMANCE_TIMING";d[d.PERFORMANCE_NAVIGATION_TIMING=2]="PERFORMANCE_NAVIGATION_TIMING"})(a.PERFORMANCE_CONTEXT||(a.PERFORMANCE_CONTEXT={}));(function(d){d.DO_NOT_FETCH_UPDATE_TIMER=
  "updateTimer";d.IMMEDIATE_FETCH="urgentFetch";d.UPDATE_TIMER_WITH_DIFF="checkDiff"})(a.RC_FETCH_MODE||(a.RC_FETCH_MODE={}));(function(d){d.AUTO="auto";d.MANUAL="manual";d.BOTH="both"})(a.NETWORK_REQUEST_EVENT_COLLECTION_MODE||(a.NETWORK_REQUEST_EVENT_COLLECTION_MODE={}));a.REMOTE_CONFIG_STORAGE_KEY="ConvivaRemoteConfig";a.REMOTE_CONFIG_RCV_KEY="ConvivaRemoteConfigRCV";a.END_POINT_STORAGE_KEY="ConvivaEndpoint";a.DEFAULT_END_POINT="https://appgw.conviva.com";a.REMOTE_CONFIG_URL_PREFIX="https://rcg.conviva.com/js/";
  a.REMOTE_CONFIG_FILE_NAME="/remote_config.json";a.SAMPLING_STORAGE_RANDOM_NUMBER_KEY="ConvivaSamplingRandomNumber";a.VISUAL_LABELLING_CONFIG="ConvivaVisualLabellingConfig";a.SESSION_RECORDING_STARTED="ConvivaSessionRecordingStarted";a.SAMPLING_MODE_STORAGE_KEY="ConvivaSamplingMode";a.DIAGNOSTIC_INFO_MAX_LENGTH={MAX_MESSAGE_LENGTH:1024,MAX_STACK_LENGTH:2048,MAX_CLASSNAME_LENGTH:1024,MAX_EXCEPTION_NAME_LENGTH:1024};a.CLICK_KEY_MAX_LENGTH=1024;a.CLICK_DEBOUNCING_DELAY=300;a.CLICK_MAX_DEPTH=16;a.MAX_NATIVE_SCAN=
  16;a.MAX_NATIVE_SCAN_LEGACY=8;a.PAGE_URL_QUERY_PARAMS="pgq";a.V2A_CUSTOM_EVENTS=["c3.video.custom_event","c3.sdk.custom_event","c3.ad.custom_event"]})(C||(C={}));var qb;"function"===typeof AbortController&&(qb=new AbortController);var Ha=null===qb||void 0===qb?void 0:qb.signal,oa;(function(a){a.response_body="rsb";a.request_body="rqb";a.response_headers="rsh";a.request_headers="rqh";a.request_query="rqq"})(oa||(oa={}));var tc=10240,yd=function(a){try{var b=void 0;"undefined"!=typeof a&&null!==a&&
  (b=a["content-type"]||a["Content-Type"]||a["Content-type"]);return b}catch(c){}},xa={},nc;(function(a){a.APPLICATION_BACKGROUND="abg";a.APPLICATION_ERROR="ae";a.WEBVITALS_LCP="conviva_webvitals_lcp";a.WEBVITALS_CLS="conviva_webvitals_cls";a.WEBVITALS_INP="conviva_webvitals_inp"})(nc||(nc={}));var ja={cacheRefreshInterval:30,base64:!1,lifecycleAutotracking:!0,exceptionAutotracking:!0,enablePeriodicHeartbeat:!0,periodicHeartbeatInterval:40,customEventTrackingConfiguration:{enabled:!0},softNavigationTrackingConfiguration:{enabled:!1,
  idleWindowMs:600,maxMeasurementMs:1E4,includeHashChanges:!1,domainAllowlist:[],domainBlocklist:["sdk.fra-01.braze.eu","tr.snapchat.com","analytics.google.com","ams.creativecdn.com","analytics.tiktok.com"]},networkRequestTrackingConfiguration:{eventCollectionMode:C.NETWORK_REQUEST_EVENT_COLLECTION_MODE.BOTH,blocklist:["*"]},traceparentconfig:{enabled:!1,pref:C.CONFIG_PREFERENCES.MERGE,targetUrl:[]},baggageConfiguration:{enabled:!1,targetUrl:[],attributeExtraction:[]},performanceContextConfig:2,catRcLastUpdatedTs:0,
  endpoint:C.DEFAULT_END_POINT,applicationContext:!0,maxLocalStorageQueueSize:10,emitterConfiguration:{batching:{enabled:!0,byteLimitPostInKB:250,batchingIntervalInSec:5,urgentEvents:[nc.APPLICATION_BACKGROUND,nc.APPLICATION_ERROR,nc.WEBVITALS_LCP,nc.WEBVITALS_CLS,nc.WEBVITALS_INP]}},enc:"gzip",mend:!0,di:{en:!1,lim:30},clickcc:{en:!0,cssSelectorList:'\n  [role="button"],\n  [data-role="button"],\n  li,\n  [class^="btn"],\n  [class*="click"],\n  [data-click],\n  [data-action],\n  [tabindex]:not([tabindex="-1"]),\n  [onclick],\n  [role="datepicker"],\n  [class*="datepicker"],\n  [class*="date-picker"],\n  [class*="mat-datepicker"],\n  [class*="ant-picker"],\n  [class*="v-date-picker"],\n  [class*="react-datepicker"],\n  [class*="ngx-datepicker"],\n  [data-ng-click],\n  [ng-click],\n  [v-on\\:click],\n  [\\@click],\n  [data-test-id*="click"],\n  [data-testid*="button"],\n  [class*="-btn"],\n  [class*="-button"],\n  [class*="mat-button"],\n  [class*="v-btn"],\n  [class*="v-icon-button"],\n  [data-listener-count-click],\n  [class*="Button"]\n',
  uiMode:"closest"},collectionRateLimit:{exceptionAutotracking:{maxEvents:20,timeWindow:1E3,disconnectDuration:2E3}},evtStreamTrackingConfiguration:{enabled:!1,collect:[],block:[],conditionalCollectAttr:[],richContentInference:{cond:[]}},rcv:"0.0.0.0",valueProbes:{enabled:!1,probes:[]},webVitals:{enabled:!1,collectattr:[]}},pk="cws.conviva.com rcg.conviva.com /wsg /ctp remote_config pings.conviva.com .m3u8 .mpd .ism .m4 .mp4 .ts .png .jpg .jpeg .bmp google-analytics.com googlesyndication.com googleapis stats.g.doubleclick chartbeat.com omtrdc.net app-measurement.com firebase nr-data.net newrelic bitmovin.com/impression bitmovin.com/analytics api.segment.io youbora hotjar mixpanel.com clevertap auryc .aac .vtt .googlevideo webp appsflyer facebook dynatrace mparticle npaw .pdf bookkeeper kochava mp3 marketingcloudapis demdex scorecardresearch lura.live perimeterx.net permutive.app segment.com vaicore.site boomtrain ketchcdn qualtrics .svg amplitude datadoghq branch.io hotjar splunkcloud".split(" "),
  xb;(function(a){a.NONE="none";a.GZIP="gzip"})(xb||(xb={}));var wa,qk=function(a){var b={};a.trim().split(/[\r\n]+/).forEach(function(c){c=c.split(":");var e=c[1];b[c[0].trim()]=null===e||void 0===e?void 0:e.trim()});return b},Bf=function(a){var b={};a.forEach(function(c,e){b[e]=c});return b},Li="/ctp /wsg remote_config rc.conviva.com pings.conviva.com rcg.conviva.com".split(" "),kb;(function(a){a[a.NETWORK_REQUEST=0]="NETWORK_REQUEST";a[a.CUSTOM_EVENT=1]="CUSTOM_EVENT";a[a.SSE_EVENT=2]="SSE_EVENT"})(kb||
  (kb={}));var xe=0,og=0,Ba=C.CONFIG_SOURCE.DEFAULT,Fa=0,Cf,Df,Ef,Uc=!1,Xb=null,ya,ye=null,Bd=0,qg='\n  button,\n  a,\n  select,\n  textarea,\n  input:not([type="hidden"]),\n  summary,\n  video,\n  audio\n'.replace(/\s+/g,"")||"",Ri='\n[class*="card"]\n'.replace(/\s+/g,"")||"",Rh="undefined"!==typeof window&&(null===window||void 0===window?0:window.localStorage)?localStorage.getItem(C.REMOTE_CONFIG_STORAGE_KEY):null,Wb=Rh?null===(Df=null===(Cf=JSON.parse(Rh).clickcc)||void 0===Cf?void 0:Cf.cssSelectorList)||
  void 0===Df?void 0:Df.replace(/\s+/g,""):null===(Ef=ja.clickcc)||void 0===Ef?void 0:Ef.cssSelectorList,Tc;(function(a){a.BOTH="both";a.CLOSEST="closest";a.RAW="raw"})(Tc||(Tc={}));"undefined"!=typeof Element&&Element.prototype&&!Element.prototype.closest&&(Element.prototype.closest=function(a){try{for(var b=this;b;){if(b.matches(a))return b;b=b.parentElement}}catch(c){ka.warn("Conviva App Tracker caused Exception in closest polyfill method of user click tracking module",c)}return null});var rk=function(){return function(a){this.cacheRefreshInterval=
  a.cacheRefreshInterval;this.base64=a.base64;this.corePlugins=a.corePlugins;this.callback=a.callback;this.lifecycleAutotracking=a.lifecycleAutotracking;this.exceptionAutotracking=a.exceptionAutotracking;this.enablePeriodicHeartbeat=a.enablePeriodicHeartbeat;this.periodicHeartbeatInterval=a.periodicHeartbeatInterval;this.enc=a.enc;this.maxLocalStorageQueueSize=a.maxLocalStorageQueueSize;this.maxPostBytes=a.maxPostBytes;this.maxGetBytes=a.maxGetBytes;this.bufferSize=a.bufferSize;this.customEventTrackingConfiguration=
  a.customEventTrackingConfiguration;this.softNavigationTrackingConfiguration=a.softNavigationTrackingConfiguration;this.networkRequestTrackingConfiguration=a.networkRequestTrackingConfiguration;this.traceparentconfig=a.traceparentconfig;this.baggageConfiguration=a.baggageConfiguration;this.metaTagsTrackingConfiguration=a.metaTagsTrackingConfiguration;this.performanceContextConfig=a.performanceContextConfig;this.mend=a.mend;this.catRcLastUpdatedTs=a.catRcLastUpdatedTs;this.endpoint=a.endpoint;this.emitterConfiguration=
  a.emitterConfiguration;this.controlIngestConfig=a.controlIngestConfig;this.applicationContext=a.applicationContext;this.di=a.di;this.clickcc=a.clickcc;this.collectionRateLimit=a.collectionRateLimit;this.pageUrlTrackingConfig=a.pageUrlTrackingConfig;this.sessionReplayConfiguration=a.sessionReplayConfiguration;this.evtStreamTrackingConfiguration=a.evtStreamTrackingConfiguration;this.rcv=a.rcv;this.valueProbes=a.valueProbes;this.webVitals=a.webVitals}}(),Sh=function(){function a(){this.cacheRefreshInterval=
  ja.cacheRefreshInterval;this.base64=ja.base64;this.lifecycleAutotracking=ja.lifecycleAutotracking;this.exceptionAutotracking=ja.exceptionAutotracking;this.enablePeriodicHeartbeat=ja.enablePeriodicHeartbeat;this.periodicHeartbeatInterval=ja.periodicHeartbeatInterval;this.customEventTrackingConfiguration=P({},ja.customEventTrackingConfiguration);this.softNavigationTrackingConfiguration=P({},ja.softNavigationTrackingConfiguration);this.networkRequestTrackingConfiguration=P({},ja.networkRequestTrackingConfiguration);
  this.traceparentconfig=P({},ja.traceparentconfig);this.baggageConfiguration=P({},ja.baggageConfiguration);this.performanceContextConfig=ja.performanceContextConfig;this.catRcLastUpdatedTs=ja.catRcLastUpdatedTs;this.endpoint=ja.endpoint;this.emitterConfiguration=ja.emitterConfiguration;this.applicationContext=ja.applicationContext;this.enc=ja.enc;this.mend=ja.mend;this.di=P({},ja.di);this.clickcc=P({},ja.clickcc);this.collectionRateLimit=P({},ja.collectionRateLimit);this.evtStreamTrackingConfiguration=
  P({},ja.evtStreamTrackingConfiguration);this.rcv=ja.rcv;this.valueProbes=P({},ja.valueProbes);this.webVitals=P({},ja.webVitals)}a.prototype.setCacheRefreshInterval=function(b){this.cacheRefreshInterval="number"===typeof b&&1<=b?td(b)?b:ja.cacheRefreshInterval:ja.cacheRefreshInterval;return this};a.prototype.setBase64=function(b){"boolean"===typeof b&&(this.base64=b);return this};a.prototype.setCorePlugins=function(b){b&&(this.corePlugins=b);return this};a.prototype.setCallback=function(b){b&&(this.callback=
  b);return this};a.prototype.setLifecycleAutotracking=function(b){"boolean"===typeof b&&(this.lifecycleAutotracking=b);return this};a.prototype.setExceptionAutotracking=function(b){"boolean"===typeof b&&(this.exceptionAutotracking=b);return this};a.prototype.setEnablePeriodicHeartbeat=function(b){"boolean"===typeof b&&(this.enablePeriodicHeartbeat=b);return this};a.prototype.setPeriodicHeartbeatInterval=function(b){"number"===typeof b&&1<=b&&(this.periodicHeartbeatInterval=~~b);return this};a.prototype.setEnc=
  function(b,c){"string"===typeof b&&Object.values(xb).includes(b)?this.enc=b:c&&"string"===typeof c&&Object.values(xb).includes(c)?this.enc=c:this.enc=ja.enc;return this};a.prototype.setMaxLocalStorageQueueSize=function(b){"number"===typeof b&&(this.maxLocalStorageQueueSize=b);return this};a.prototype.setMaxGetBytes=function(b){"number"===typeof b&&(this.maxGetBytes=b);return this};a.prototype.setBufferSize=function(b){"number"===typeof b&&(this.bufferSize=b);return this};a.prototype.setCustomEventTrackingConfiguration=
  function(b){b&&(this.customEventTrackingConfiguration=b);return this};a.prototype.setSoftNavigationTrackingConfiguration=function(b){b&&(this.softNavigationTrackingConfiguration=b);return this};a.prototype.setEmitterConfiguration=function(b){"undefined"!=typeof b&&("undefined"!=typeof b.batching.enabled&&(this.emitterConfiguration.batching.enabled=b.batching.enabled),"undefined"!=typeof b.batching.batchingIntervalInSec&&0<b.batching.batchingIntervalInSec&&(this.emitterConfiguration.batching.batchingIntervalInSec=
  b.batching.batchingIntervalInSec),"undefined"!=b.batching.byteLimitPostInKB&&0<b.batching.byteLimitPostInKB&&(this.emitterConfiguration.batching.byteLimitPostInKB=b.batching.byteLimitPostInKB),"undefined"!=typeof b.batching.urgentEvents&&(this.emitterConfiguration.batching.urgentEvents=b.batching.urgentEvents));return this};a.prototype.setNetworkRequestTrackingConfiguration=function(b,c,e){b&&(this.networkRequestTrackingConfiguration=b,this.networkRequestTrackingConfiguration.eventCollectionMode||
  (this.networkRequestTrackingConfiguration.eventCollectionMode=ja.networkRequestTrackingConfiguration.eventCollectionMode),c&&(this.networkRequestTrackingConfiguration.blocklist||(this.networkRequestTrackingConfiguration.blocklist=[]),e&&this.networkRequestTrackingConfiguration.blocklist.push(e),this.networkRequestTrackingConfiguration.blocklist=this.networkRequestTrackingConfiguration.blocklist.concat(pk)));return this};a.prototype.setTraceparentconfig=function(b){b&&(this.traceparentconfig=b);return this};
  a.prototype.setBaggageConfiguration=function(b){"undefined"!==typeof b&&null!==b&&("boolean"===typeof b.enabled&&(this.baggageConfiguration.enabled=b.enabled),"undefined"!==typeof b.targetUrl&&(this.baggageConfiguration.targetUrl=b.targetUrl),"undefined"!==typeof b.attributeExtraction&&(this.baggageConfiguration.attributeExtraction=b.attributeExtraction));return this};a.prototype.setMetaTagsTrackingConfiguration=function(b){b&&(this.metaTagsTrackingConfiguration=b);return this};a.prototype.setPerformanceContextConfig=
  function(b){"number"===typeof b&&(this.performanceContextConfig=b);return this};a.prototype.setMend=function(b,c){"boolean"===typeof b?this.mend=b:"boolean"===typeof c&&(this.mend=c);return this};a.prototype.setCatRcLastUpdatedTs=function(b){"number"===typeof b&&(this.catRcLastUpdatedTs=b);return this};a.prototype.setEndPoint=function(b,c,e){"string"===typeof e&&0<e.trim().length?this.endpoint=e:"string"===typeof b&&0<b.trim().length?this.endpoint=b:c&&"string"===typeof c&&0<c.trim().length?this.endpoint=
  c:this.endpoint=ja.endpoint;return this};a.prototype.setcontrolIngestConfig=function(b){"undefined"!==typeof b?this.controlIngestConfig=b:wd();return this};a.prototype.setApplicationContext=function(b){"undefined"!=typeof b&&(this.applicationContext=b);return this};a.prototype.setDi=function(b){"undefined"!=typeof b&&(this.di=P(P({},this.di),b));return this};a.prototype.setClickcc=function(b){var c,e;"undefined"!=typeof b&&("boolean"===typeof b.en&&(this.clickcc.en=b.en),b.cssSelectorList&&0<b.cssSelectorList.trim().length&&
  (this.clickcc.cssSelectorList=b.cssSelectorList),"string"===typeof b.uiMode&&Object.values(Tc).includes(b.uiMode)&&(this.clickcc.uiMode=b.uiMode),"undefined"!==typeof b.block&&(this.clickcc.block=b.block),"undefined"!==typeof b.collect&&(this.clickcc.collect=b.collect),"undefined"!==typeof b.collectattr&&(this.clickcc.collectattr=b.collectattr));"boolean"===typeof(null===(c=null===this||void 0===this?void 0:this.clickcc)||void 0===c?void 0:c.en)&&!0===(null===(e=null===this||void 0===this?void 0:
  this.clickcc)||void 0===e?void 0:e.en)?Vi():tg();return this};a.prototype.setCollectionRateLimit=function(b){"undefined"!=typeof b&&null!==b&&(this.collectionRateLimit=P(P({},this.collectionRateLimit),b));return this};a.prototype.setPageUrlTrackingConfig=function(b){this.pageUrlTrackingConfig="undefined"!==typeof b?b:null;return this};a.prototype.setSessionReplayConfiguration=function(b){this.sessionReplayConfiguration="undefined"!==typeof b?b:null;return this};a.prototype.setValueProbes=function(b){var c,
  e;this.valueProbes="undefined"!==typeof b?P(P({},b),{enabled:null!==(c=null===b||void 0===b?void 0:b.enabled)&&void 0!==c?c:!1,probes:null!==(e=null===b||void 0===b?void 0:b.probes)&&void 0!==e?e:[]}):P({},ja.valueProbes);return this};a.prototype.setWebVitals=function(b){var c,e;this.webVitals="undefined"!==typeof b?P(P({},b),{enabled:null!==(c=null===b||void 0===b?void 0:b.enabled)&&void 0!==c?c:!1,collectattr:null!==(e=null===b||void 0===b?void 0:b.collectattr)&&void 0!==e?e:[]}):P({},ja.webVitals);
  return this};a.prototype.setEvtStreamTrackingConfiguration=function(b){"undefined"!==typeof b&&("boolean"===typeof b.enabled&&(this.evtStreamTrackingConfiguration.enabled=b.enabled),"undefined"!==typeof b.block&&(this.evtStreamTrackingConfiguration.block=b.block),"undefined"!==typeof b.collect&&(this.evtStreamTrackingConfiguration.collect=b.collect),"undefined"!==typeof b.conditionalCollectAttr&&(this.evtStreamTrackingConfiguration.conditionalCollectAttr=b.conditionalCollectAttr),"undefined"!==typeof b.richContentInference&&
  (this.evtStreamTrackingConfiguration.richContentInference=b.richContentInference),"undefined"!==typeof b.bufferMaxBytes&&(this.evtStreamTrackingConfiguration.bufferMaxBytes=b.bufferMaxBytes));return this};a.prototype.setRcv=function(b){this.rcv=b;return this};a.prototype.build=function(){return new rk(this)};return a}(),Gc=!1,Xa=null,oc=0,ib=void 0,Ra,ae=!1,N,Ff=0,wj=function(a,b,c){var e,d,f,h,g={},m={},n;if("undefined"!=typeof window&&(null===window||void 0===window?0:window.localStorage))try{localStorage.removeItem(C.END_POINT_STORAGE_KEY),
  (n=localStorage.getItem(C.REMOTE_CONFIG_STORAGE_KEY))?Ba=C.CONFIG_SOURCE.CACHED:n=JSON.stringify(m)}catch(p){n=JSON.stringify(m);ae=!0;var r={className:"fetchRemoteConfig - localstorage",error:p,configAppliedSrc:Ba,configAppliedTime:Fa};setTimeout(function(){Ga(wa,null===N||void 0===N?void 0:N.getSamplingMode,r)},0);ka.warn("Issue while fetching data from local storage")}else n=JSON.stringify(m);try{g=JSON.parse(n)}catch(p){ae=!0;var k={className:"fetchRemoteConfig - parsing cached data",error:p,
  configAppliedSrc:Ba,configAppliedTime:Fa};setTimeout(function(){Ga(wa,null===N||void 0===N?void 0:N.getSamplingMode,k)},0);ka.warn("Issue while parsing storedConvivaRemoteConfig")}m=(new Sh).setBase64(null===g||void 0===g?void 0:g.base64).setCacheRefreshInterval(null===g||void 0===g?void 0:g.cacheRefreshInterval).setLifecycleAutotracking(null===g||void 0===g?void 0:g.lifecycleAutotracking).setExceptionAutotracking(null===g||void 0===g?void 0:g.exceptionAutotracking).setEnablePeriodicHeartbeat(null===
  g||void 0===g?void 0:g.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null===g||void 0===g?void 0:g.periodicHeartbeatInterval).setEnc(null===g||void 0===g?void 0:g.enc,null===(d=null===(e=null===c||void 0===c?void 0:c.configs)||void 0===e?void 0:e.network)||void 0===d?void 0:d.encoding).setMaxLocalStorageQueueSize(null===g||void 0===g?void 0:g.maxLocalStorageQueueSize).setMaxGetBytes(null===g||void 0===g?void 0:g.maxGetBytes).setBufferSize(null===g||void 0===g?void 0:g.bufferSize).setCustomEventTrackingConfiguration(null===
  g||void 0===g?void 0:g.customEventTrackingConfiguration).setSoftNavigationTrackingConfiguration(null===g||void 0===g?void 0:g.softNavigationTrackingConfiguration).setEndPoint(null===g||void 0===g?void 0:g.endpoint,c.gatewayUrl,c.proxyGatewayUrl).setNetworkRequestTrackingConfiguration(null===g||void 0===g?void 0:g.networkRequestTrackingConfiguration,!1).setMetaTagsTrackingConfiguration(null===g||void 0===g?void 0:g.metaTagsTrackingConfiguration).setTraceparentconfig(null===g||void 0===g?void 0:g.traceparentconfig).setBaggageConfiguration(null===
  g||void 0===g?void 0:g.baggageConfiguration).setMend(null===g||void 0===g?void 0:g.mend,null===(h=null===(f=null===c||void 0===c?void 0:c.configs)||void 0===f?void 0:f.network)||void 0===h?void 0:h.mergeEndpoint).setPerformanceContextConfig(null===g||void 0===g?void 0:g.performanceContextConfig).setCatRcLastUpdatedTs(null===g||void 0===g?void 0:g.catRcLastUpdatedTs).setEmitterConfiguration(null===g||void 0===g?void 0:g.emitterConfiguration).setcontrolIngestConfig(null===g||void 0===g?void 0:g.controlIngestConfig).setApplicationContext(null===
  g||void 0===g?void 0:g.applicationContext).setDi(null===g||void 0===g?void 0:g.di).setClickcc(null===g||void 0===g?void 0:g.clickcc).setCollectionRateLimit(null===g||void 0===g?void 0:g.collectionRateLimit).setPageUrlTrackingConfig(null===g||void 0===g?void 0:g.pageUrlTrackingConfig).setSessionReplayConfiguration(null===g||void 0===g?void 0:g.sessionReplayConfiguration).setEvtStreamTrackingConfiguration(null===g||void 0===g?void 0:g.evtStreamTrackingConfiguration).setRcv(null===g||void 0===g?void 0:
  g.rcv).setValueProbes(null===g||void 0===g?void 0:g.valueProbes).setWebVitals(null===g||void 0===g?void 0:g.webVitals).build();e="Cached Config Applied";Ba===C.CONFIG_SOURCE.DEFAULT&&(e="Default Config Applied");Fa=(new Date).getTime();var q={message:e,className:"browserTrackerCore",configAppliedSrc:Ba,configAppliedTime:Fa};setTimeout(function(){Ga(wa,null===N||void 0===N?void 0:N.getSamplingMode,q)},0);a=a.split("js-")[1].split(" ")[0];var t=(c.proxyGatewayUrl?c.proxyGatewayUrl+"/js/":C.REMOTE_CONFIG_URL_PREFIX)+
  c.convivaCustomerKey+"/"+a+C.REMOTE_CONFIG_FILE_NAME;window.XMLHttpRequest&&(Ra=new XMLHttpRequest,Ra.onreadystatechange=function(){var p,v,w;try{if(4==Ra.readyState)if(Gc=!1,200==Ra.status){var u={message:"Remote config request is successful - ".concat("number"==typeof Ra.status?Ra.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:Ba,configAppliedTime:Fa};Ga(wa,null===N||void 0===N?void 0:N.getSamplingMode,u);oc=0;ib=void 0;var z=JSON.parse(Ra.response);var D=wa;if((null===
  z||void 0===z?void 0:z.configurationBundle[0].namespace)!==b)Ga(wa,null===N||void 0===N?void 0:N.getSamplingMode,{message:"Remote Config not Applied due to a missing namespace",className:"updateRemoteConfig",configAppliedSrc:Ba,configAppliedTime:Fa});else{if(!z.hasOwnProperty("rcv")||(null===(p=D.getConfig())||void 0===p?void 0:p.rcv)===(null===z||void 0===z?void 0:z.rcv)){var B=localStorage.getItem(C.REMOTE_CONFIG_STORAGE_KEY);if(B){B=JSON.parse(B);B.catRcLastUpdatedTs=(new Date).getTime();window.localStorage&&
  (localStorage.removeItem(C.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(C.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(B)));Ga(wa,null===N||void 0===N?void 0:N.getSamplingMode,{message:"Remote Config not Applied as same version is fetched",className:"updateRemoteConfig",configAppliedSrc:Ba,configAppliedTime:Fa});return}}m.catRcLastUpdatedTs=(new Date).getTime();Ff=m.catRcLastUpdatedTs;var G=sk(z,m.catRcLastUpdatedTs,c);(null===N||void 0===N?void 0:N.getSamplingMode())===C.SAMPLING_MODES.NONE?(m.cacheRefreshInterval=
  (null===(v=D.getConfig())||void 0===v?void 0:v.cacheRefreshInterval)||ja.cacheRefreshInterval,be(m.cacheRefreshInterval,m.catRcLastUpdatedTs,c,t,C.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)):("number"===typeof Xa&&window.clearInterval(Xa),Xa=null);if(G){var E=new Event("RemoteConfigUpdateApplied");(null===window||void 0===window?0:window.dispatchEvent)&&window.dispatchEvent(E)}}}else if(304==Ra.status){if(B=localStorage.getItem(C.REMOTE_CONFIG_STORAGE_KEY))B=JSON.parse(B),B.catRcLastUpdatedTs=(new Date).getTime(),
  window.localStorage&&(localStorage.removeItem(C.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(C.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(B)));m.catRcLastUpdatedTs=(new Date).getTime();Ff=m.catRcLastUpdatedTs;var A={message:"Remote config not modified - ".concat("number"==typeof Ra.status?Ra.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:Ba,configAppliedTime:Fa};Ga(wa,null===N||void 0===N?void 0:N.getSamplingMode,A);oc=0;ib=void 0;(null===N||void 0===N?void 0:N.getSamplingMode())===
  C.SAMPLING_MODES.NONE?(m.cacheRefreshInterval=(null===(D=wa.getConfig())||void 0===D?void 0:D.cacheRefreshInterval)||ja.cacheRefreshInterval,be(m.cacheRefreshInterval,m.catRcLastUpdatedTs,c,t,C.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)):("number"===typeof Xa&&window.clearInterval(Xa),Xa=null)}else try{2>oc&&window.setTimeout(function(){(null===c||void 0===c?0:c.trackerConfigUrl)?tb(null===c||void 0===c?void 0:c.trackerConfigUrl,!0,null!==ib&&void 0!==ib?ib:void 0):tb(t,!0,null!==ib&&void 0!==ib?ib:
  void 0)},5E3*(oc+1));var J={message:"Remote config request is not successful - ".concat("number"==typeof Ra.status?Ra.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:Ba,configAppliedTime:Fa};Ga(wa,null===N||void 0===N?void 0:N.getSamplingMode,J);2<=oc&&(Ga(wa,null===N||void 0===N?void 0:N.getSamplingMode,{message:"Remote config is not applied since failed to download remote config after 3 tries",className:"configtimerCallback - onreadystatechange",configAppliedSrc:Ba,
  configAppliedTime:Fa}),localStorage.removeItem(C.REMOTE_CONFIG_RCV_KEY),ib=void 0,m.cacheRefreshInterval=(null===(w=wa.getConfig())||void 0===w?void 0:w.cacheRefreshInterval)||ja.cacheRefreshInterval,be(m.cacheRefreshInterval,m.catRcLastUpdatedTs,c,t,C.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER))}catch(I){}}catch(I){Gc=!1,console.warn("Conviva App Tracker:: Error in fetching remote-config ".concat(I)),Ga(wa,null===N||void 0===N?void 0:N.getSamplingMode,{className:"configtimerCallback - onreadystatechange",
  error:I,configAppliedSrc:Ba,configAppliedTime:Fa})}},(null===N||void 0===N?void 0:N.getSamplingMode)===C.SAMPLING_MODES.NONE&&be(ja.cacheRefreshInterval,m.catRcLastUpdatedTs,c,t,"undefined"!=typeof ae&&!0===ae?C.RC_FETCH_MODE.IMMEDIATE_FETCH:C.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF));(null===window||void 0===window?0:window.addEventListener)&&window.addEventListener("RCVUpdateApplied",function(p){var v,w,u,z,D,B=null!==(u=null===(w=null===(v=wa)||void 0===v?void 0:v.getConfig())||void 0===w?void 0:
  w.rcv)&&void 0!==u?u:"";B!==(null===(z=p.detail)||void 0===z?void 0:z.rcvHeader)&&3E4<=(new Date).getTime()-Ff&&(localStorage.setItem(C.REMOTE_CONFIG_RCV_KEY,null===(D=p.detail)||void 0===D?void 0:D.rcvHeader),"number"===typeof Xa&&window.clearInterval(Xa),(null===c||void 0===c?0:c.trackerConfigUrl)?tb(null===c||void 0===c?void 0:c.trackerConfigUrl,!1,B):tb(t,!1,B))});(null===c||void 0===c?0:c.trackerConfigUrl)?tb(null===c||void 0===c?void 0:c.trackerConfigUrl,!1,m.rcv):tb(t,!1,m.rcv);return{convivaRemoteTrackerConfig:m}},
  be=function(a,b,c,e,d){var f=c.trackerConfigUrl?c.trackerConfigUrl:e;if("number"===typeof Xa){window.clearInterval(Xa);var h={message:"Cancelling remote config timer",className:"updateRemoteConfig",extraData:{mode:d},configAppliedSrc:Ba,configAppliedTime:Fa};setTimeout(function(){Ga(wa,null===N||void 0===N?void 0:N.getSamplingMode,h)},0)}var g=function(){var k={message:"Starting remote config timer with delay of ".concat(60*a," seconds"),className:"updateRemoteConfig",configAppliedSrc:Ba,configAppliedTime:Fa};
  setTimeout(function(){Ga(wa,null===N||void 0===N?void 0:N.getSamplingMode,k)},0);Xa=window.setInterval(tb,6E4*a,f)};try{var m=b?((new Date).getTime()-b)/6E4:a;c=a-m;e=3*a/100;if("string"==typeof d&&d===C.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)g();else if("string"==typeof d&&d===C.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF&&0<b&&c>e){window.setTimeout(function(){tb(f);g()},6E4*c);var n={message:"Starting remote config timer with delay of ".concat(60*c," seconds"),className:"updateRemoteConfig",extraData:{mode:d},
  configAppliedSrc:Ba,configAppliedTime:Fa};setTimeout(function(){Ga(wa,null===N||void 0===N?void 0:N.getSamplingMode,n)},0)}else tb(f),g()}catch(k){console.warn("Conviva App Tracker:: Error in setting cacheRefreshIntervalTimer",k);tb(f);g();var r={className:"cacheRefreshIntervalTimer",error:k,configAppliedSrc:Ba,configAppliedTime:Fa};setTimeout(function(){Ga(wa,null===N||void 0===N?void 0:N.getSamplingMode,r)},0)}},tb=function(a,b,c){var e,d,f,h;try{if("boolean"===typeof Gc&&!1===Gc){b?oc++:oc=0;Ra.timeout=
  3E4;Ra.open("GET",a,!0);ib=null!==(h=null!==(f=null===(d=null===(e=wa)||void 0===e?void 0:e.getConfig())||void 0===d?void 0:d.rcv)&&void 0!==f?f:c)&&void 0!==h?h:"0.0.0.0";Ra.setRequestHeader("If-None-Match",ib);Gc=!0;var g={message:"Remote config fetch attempt",className:"updateRemoteConfig",configAppliedSrc:Ba,configAppliedTime:Fa};setTimeout(function(){Ga(wa,null===N||void 0===N?void 0:N.getSamplingMode,g)},0);Ra.send()}}catch(n){Gc=!1;ka.warn("Conviva App Tracker:: Error in configtimerCallback ".concat(n));
  var m={className:"configtimerCallback",error:n,configAppliedSrc:Ba,configAppliedTime:Fa};setTimeout(function(){Ga(wa,null===N||void 0===N?void 0:N.getSamplingMode,m)},0)}},sk=function(a,b,c){var e,d,f,h,g,m,n,r,k,q,t,p,v,w,u,z,D,B,G,E,A,J,I,aa,U,Z,M,F,ca,K,ha,S,qa,sa,la,za=wa;try{var O=(new Sh).setBase64(a.configurationBundle[0].trackerConfiguration.base64Encoding).setCacheRefreshInterval(a.cri||a.cacheRefreshInterval).setLifecycleAutotracking(null===(d=null===(e=a.configurationBundle[0])||void 0===
  e?void 0:e.trackerConfiguration)||void 0===d?void 0:d.lifecycleAutotracking).setExceptionAutotracking(null===(h=null===(f=a.configurationBundle[0])||void 0===f?void 0:f.trackerConfiguration)||void 0===h?void 0:h.exceptionAutotracking).setEnablePeriodicHeartbeat(null===(m=null===(g=a.configurationBundle[0])||void 0===g?void 0:g.trackerConfiguration)||void 0===m?void 0:m.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null===(r=null===(n=a.configurationBundle[0])||void 0===n?void 0:n.trackerConfiguration)||
  void 0===r?void 0:r.periodicHeartbeatInterval).setEnc(null===(q=null===(k=a.configurationBundle[0])||void 0===k?void 0:k.networkConfiguration)||void 0===q?void 0:q.enc,null===(p=null===(t=null===c||void 0===c?void 0:c.configs)||void 0===t?void 0:t.network)||void 0===p?void 0:p.encoding).setMaxLocalStorageQueueSize(null===(w=null===(v=a.configurationBundle[0])||void 0===v?void 0:v.networkConfiguration)||void 0===w?void 0:w.maxLocalStorageQueueSize).setMaxGetBytes(null===(z=null===(u=a.configurationBundle[0])||
  void 0===u?void 0:u.networkConfiguration)||void 0===z?void 0:z.maxGetBytes).setBufferSize(null===(B=null===(D=a.configurationBundle[0])||void 0===D?void 0:D.networkConfiguration)||void 0===B?void 0:B.bufferSize).setCustomEventTrackingConfiguration(null===(G=a.configurationBundle[0])||void 0===G?void 0:G.customEventTrackingConfiguration).setSoftNavigationTrackingConfiguration(null===(E=a.configurationBundle[0])||void 0===E?void 0:E.softNavigationTrackingConfiguration).setEndPoint(null===(J=null===
  (A=a.configurationBundle[0])||void 0===A?void 0:A.networkConfiguration)||void 0===J?void 0:J.endpoint,c.gatewayUrl,c.proxyGatewayUrl).setNetworkRequestTrackingConfiguration(null===(I=a.configurationBundle[0])||void 0===I?void 0:I.networkRequestTrackingConfiguration,!0,null===(U=null===(aa=a.configurationBundle[0])||void 0===aa?void 0:aa.networkConfiguration)||void 0===U?void 0:U.endpoint).setMetaTagsTrackingConfiguration(null===(Z=a.configurationBundle[0])||void 0===Z?void 0:Z.metaTagsTrackingConfiguration).setTraceparentconfig(null===
  (M=a.configurationBundle[0])||void 0===M?void 0:M.traceparentconfig).setBaggageConfiguration(null===(F=a.configurationBundle[0])||void 0===F?void 0:F.baggageConfiguration).setMend(null===(K=null===(ca=a.configurationBundle[0])||void 0===ca?void 0:ca.networkConfiguration)||void 0===K?void 0:K.mend,null===(S=null===(ha=null===c||void 0===c?void 0:c.configs)||void 0===ha?void 0:ha.network)||void 0===S?void 0:S.mergeEndpoint).setPerformanceContextConfig(null===(sa=null===(qa=a.configurationBundle[0])||
  void 0===qa?void 0:qa.trackerConfiguration)||void 0===sa?void 0:sa.perfCx).setCatRcLastUpdatedTs(b).setEmitterConfiguration(a.configurationBundle[0].emitterConfiguration).setcontrolIngestConfig(a["ctrl-ingst"]).setApplicationContext(a.configurationBundle[0].trackerConfiguration.applicationContext).setDi(a.configurationBundle[0].di).setClickcc(a.configurationBundle[0].clickcc).setCollectionRateLimit(a.configurationBundle[0].collectionRateLimit).setPageUrlTrackingConfig(a.configurationBundle[0].pageUrlTrackingConfig).setSessionReplayConfiguration(a.configurationBundle[0].sessionReplayConfiguration).setEvtStreamTrackingConfiguration(a.configurationBundle[0].evtStreamTrackingConfiguration).setRcv(a.rcv).setValueProbes(a.configurationBundle[0].valueProbes).setWebVitals(a.configurationBundle[0].webVitals).build();
  Ba=C.CONFIG_SOURCE.REMOTE;Fa=(new Date).getTime();null===za||void 0===za?void 0:za.setConfig(O);a={message:"Remote Config Applied",className:"updateRemoteConfig - tracker",configAppliedSrc:Ba,configAppliedTime:Fa};Ga(wa,null===N||void 0===N?void 0:N.getSamplingMode,a);null===N||void 0===N?void 0:N.setCollectorUrl(null===(la=null===za||void 0===za?void 0:za.getConfig())||void 0===la?void 0:la.endpoint,c.convivaCustomerKey);try{window.localStorage&&(localStorage.removeItem(C.REMOTE_CONFIG_STORAGE_KEY),
  localStorage.setItem(C.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(O)))}catch(ta){Ga(wa,null===N||void 0===N?void 0:N.getSamplingMode,{className:"updateRemoteConfig - localstorage",error:ta,configAppliedSrc:Ba,configAppliedTime:Fa}),console.warn("Conviva: Error while saving remote-config to localstorage",ta)}}catch(ta){return a={className:"updateRemoteConfig - tracker",error:ta,configAppliedSrc:Ba,configAppliedTime:Fa},Ga(wa,null===N||void 0===N?void 0:N.getSamplingMode,a),console.warn("Conviva: Error while updating remote-config",
  ta),!1}return!0},Gf={idleMs:3E4,maxEvents:1E4,bufferMaxBytes:1E6},Cg=function(){function a(b,c,e){var d;this.originalFetch=null===(d=null===window||void 0===window?void 0:window.fetch)||void 0===d?void 0:d.bind(window);this.sseCountStates=new Map;this.inflightRequests=0;this.core=wa;this.trackerMethods=b;this.trackerConfiguration=c;this.getSamplingMode=e;this.handleResponse=this.handleResponse.bind(this);this.addTraceparentHeader=this.addTraceparentHeader.bind(this);this.addBaggageHeader=this.addBaggageHeader.bind(this)}
  a.prototype.cleanupNetworkRequestHandler=function(){a.instance=null};a.getInstance=function(b,c,e){a.instance||(a.instance=new a(b,c,e));return a.instance};a.prototype.initiateNetworkRequestTracking=function(){try{this.decorateXMLHttpRequest(),this.decorateFetch(),this.decorateWebSocket(),this.decorateEventSource()}catch(b){console.warn("Conviva App Tracker:: Unable to track network request ".concat(b))}};a.prototype.decorateXMLHttpRequest=function(){var b=this,c=XMLHttpRequest.prototype.open,e=XMLHttpRequest.prototype.send,
  d=XMLHttpRequest.prototype.setRequestHeader;XMLHttpRequest.prototype.open=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];try{this._conviva={method:f[0],url:b.normalizeUrl(f[1]),headers:{}}}catch(g){console.warn("Conviva App Tracker:: Unable to normalizeUrl while open ".concat(g))}return c.apply(this,f)};XMLHttpRequest.prototype.setRequestHeader=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];try{this._conviva&&(this._conviva.headers[f[0]]=f[1])}catch(g){console.warn("Conviva App Tracker:: while setRequestHeader ".concat(g))}return d.apply(this,
  f)};XMLHttpRequest.prototype.send=function(){for(var f=this,h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];try{var m=this._conviva;if(!m)return;var n=b.addTraceparentHeader(this,m.url,m.headers),r=b.addBaggageHeader(this,m.url,m.headers,m.method,h[0]),k=b.createRequestDetails(m.method,m.url,m.headers,h[0],n,r);g=Ha;b.shouldTrackForSoftNavigation(k.url||"")&&b.incrementInflightRequests();this.addEventListener("load",function(){b.shouldTrackForSoftNavigation(k.url||"")&&b.decrementInflightRequests();
  b.handleResponse(f,k,"load")},{signal:g});this.addEventListener("error",function(){b.shouldTrackForSoftNavigation(k.url||"")&&b.decrementInflightRequests();b.handleResponse(f,k,"error")},{signal:g});this.addEventListener("abort",function(){b.shouldTrackForSoftNavigation(k.url||"")&&b.decrementInflightRequests();b.handleResponse(f,k,"abort")},{signal:g});this.addEventListener("timeout",function(){b.shouldTrackForSoftNavigation(k.url||"")&&b.decrementInflightRequests();b.handleResponse(f,k,"timeout")},
  {signal:g})}catch(q){console.warn("Conviva App Tracker:: Unable to track network request while send ".concat(q))}return e.apply(this,h)}};a.prototype.decorateFetch=function(){window.fetch=this.interceptFetch.bind(this)};a.prototype.interceptFetch=function(b,c){var e,d,f,h,g,m,n,r,k;return Jc(this,void 0,void 0,function(){var q,t,p,v,w,u,z,D,B,G,E,A,J,I,aa,U,Z,M,F,ca,K,ha,S,qa,sa,la=this;return Kc(this,function(za){switch(za.label){case 0:v=p=null;u=this;if(!(b instanceof Request))return[3,5];t=null===
  b||void 0===b?void 0:b.clone();try{z=!1,null===(e=null===t||void 0===t?void 0:t.headers)||void 0===e?void 0:e.forEach(function(O,ta){C.TRACEPARENT_HEADER_KEY===ta&&(z=!0)}),z||(p=this.generateTraceparentHeader(t.url),null!==p&&""!==p&&b.headers.set(C.TRACEPARENT_HEADER_KEY,p)),D=!1,null===(d=null===t||void 0===t?void 0:t.headers)||void 0===d?void 0:d.forEach(function(O,ta){C.BAGGAGE_HEADER_KEY===ta&&(D=!0)}),D||(B={},t.headers.forEach(function(O,ta){B[ta]=O}),G={method:t.method,url:t.url,headers:B,
  body:void 0},v=this.generateBaggageHeader(t.url,G),null!==v&&""!==v&&b.headers.set(C.BAGGAGE_HEADER_KEY,v))}catch(O){console.warn("ConvivaAppTracker: Issue while adding traceparent header",O)}q=this.originalFetch(b);za.label=1;case 1:return za.trys.push([1,3,,4]),[4,t.text()];case 2:return w=za.sent(),[3,4];case 3:return za.sent(),[3,4];case 4:return[3,6];case 5:try{if(c&&c.headers){if(E=u.core.getConfig(),(null===(f=null===E||void 0===E?void 0:E.traceparentconfig)||void 0===f?0:f.enabled)||(null===
  (h=null===E||void 0===E?void 0:E.baggageConfiguration)||void 0===h?0:h.enabled))J=(A=c.headers instanceof Headers)?new Headers(c.headers):c.headers,I=!1,A?J.forEach(function(O,ta){C.TRACEPARENT_HEADER_KEY===ta&&(I=!0)}):Object.keys(J).forEach(function(O){C.TRACEPARENT_HEADER_KEY===O&&(I=!0)}),I||(p=this.generateTraceparentHeader(b),null!==p&&""!==p&&(A?J.set(C.TRACEPARENT_HEADER_KEY,p):J[C.TRACEPARENT_HEADER_KEY]=p)),aa=!1,A?J.forEach(function(O,ta){C.BAGGAGE_HEADER_KEY===ta&&(aa=!0)}):Object.keys(J).forEach(function(O){C.BAGGAGE_HEADER_KEY===
  O&&(aa=!0)}),aa||(U={},A?J.forEach(function(O,ta){U[ta]=O}):U=J,G={method:(null===c||void 0===c?void 0:c.method)||"GET",url:b,headers:U,body:null===c||void 0===c?void 0:c.body},v=this.generateBaggageHeader(b,G),null!==v&&""!==v&&(A?J.set(C.BAGGAGE_HEADER_KEY,v):J[C.BAGGAGE_HEADER_KEY]=v)),c.headers=J}else if(E=u.core.getConfig(),(null===(g=null===E||void 0===E?void 0:E.traceparentconfig)||void 0===g?0:g.enabled)||(null===(m=null===E||void 0===E?void 0:E.baggageConfiguration)||void 0===m?0:m.enabled))J=
  new Headers,p=this.generateTraceparentHeader(b),null!==p&&""!==p&&J.set(C.TRACEPARENT_HEADER_KEY,p),G={method:(null===c||void 0===c?void 0:c.method)||"GET",url:b,headers:{},body:null===c||void 0===c?void 0:c.body},v=this.generateBaggageHeader(b,G),null!==v&&""!==v&&J.set(C.BAGGAGE_HEADER_KEY,v),c||(c={}),c.headers=J}catch(O){console.warn("ConvivaAppTracker: Issue while adding traceparent header",O)}q=this.originalFetch(b,c);t=(new Request(b,c)).clone();w=null===c||void 0===c?void 0:c.body;za.label=
  6;case 6:try{Z=void 0;try{Z=Bf(t.headers)}catch(O){}M={method:t.method,url:decodeURIComponent(t.url),headers:Z,body:w,requestTimestamp:null===Date||void 0===Date?void 0:Date.now(),requestTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};this.shouldTrackForSoftNavigation(t.url)&&this.incrementInflightRequests();this.getSamplingMode()!==C.SAMPLING_MODES.NONE&&(F=this.core.getConfig().networkRequestTrackingConfiguration,ca=this.core.getConfig().evtStreamTrackingConfiguration,
  K=F.blocklist,ha=null===(k=null===(r=null===(n=this.trackerConfiguration)||void 0===n?void 0:n.configs)||void 0===r?void 0:r.networkRequestTracking)||void 0===k?void 0:k.safelist,S=F.collect,qa=F.block,sa=F.eventCollectionMode===C.NETWORK_REQUEST_EVENT_COLLECTION_MODE.AUTO||F.eventCollectionMode===C.NETWORK_REQUEST_EVENT_COLLECTION_MODE.BOTH,null!==p&&""!==p&&(M[C.TRACEPARENT_HEADER_KEY]=p),null!==v&&""!==v&&(M[C.BAGGAGE_HEADER_KEY]=v),q.then(function(O){var ta,lb,yb;la.shouldTrackForSoftNavigation(t.url)&&
  la.decrementInflightRequests();try{var L=O.headers.get("content-type");if(ca&&ca.enabled&&L&&L.includes("text/event-stream")){var T=O.clone().body;if(T)ug(T,t.url,/\r?\n\r?\n/,Wi,function(fa){la.processStreamEvent(fa,t.url,"conviva_sse_message")},{idleMs:ca.idleMs,maxEvents:ca.maxEvents,bufferMaxBytes:ca.bufferMaxBytes},function(){la.cleanupSSECountState(t.url)})["catch"](function(){});else console.warn("Conviva App Tracker:: Response body is null, cannot read as stream")}else if(Yi(t.url,la.trackerConfiguration)){if(uc(S,
  qa,K,ha,O,M)){var da=void 0;try{da=Bf(O.headers)}catch(fa){}var Y={status:null===O||void 0===O?void 0:O.status,statusText:""!==(null===O||void 0===O?void 0:O.statusText)?null===O||void 0===O?void 0:O.statusText:void 0,headers:da,size:0,responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};la.trackerMethods.trackNetworkRequest({requestDetails:M,responseDetails:Y})}(T=
  O.clone().body)?(la.resetStreamCountState(t.url),ug(T,t.url,null!==(yb=null===(lb=null===(ta=la.trackerConfiguration.configs)||void 0===ta?void 0:ta.plainTextChunkTracking)||void 0===lb?void 0:lb.delimiter)&&void 0!==yb?yb:/\r?\n/,Xi,function(fa){la.processStreamEvent(fa,t.url,"conviva_chunk_message")},{idleMs:ca.idleMs,maxEvents:ca.maxEvents,bufferMaxBytes:ca.bufferMaxBytes},function(){la.cleanupSSECountState(t.url)})["catch"](function(){})):console.warn("Conviva App Tracker:: Response body is null, cannot read as stream")}else if(F&&
  F.enabled&&sa){var ia=uc(S,qa,K,ha,O,M);if(ia){da=void 0;try{da=Bf(O.headers)}catch(fa){}var ba={status:null===O||void 0===O?void 0:O.status,statusText:""!==(null===O||void 0===O?void 0:O.statusText)?null===O||void 0===O?void 0:O.statusText:void 0,headers:da,size:0,responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};O.clone().json().then(function(fa){ba.body=
  fa;fa=la.core.getConfig().baggageConfiguration;(null===fa||void 0===fa?0:fa.enabled)&&Cd(M,ba,fa,la.core);la.trackerMethods.trackNetworkRequest({requestDetails:M,responseDetails:ba})})["catch"](function(){var fa=la.core.getConfig().baggageConfiguration;(null===fa||void 0===fa?0:fa.enabled)&&Cd(M,ba,fa,la.core);la.trackerMethods.trackNetworkRequest({requestDetails:M,responseDetails:ba})})}}}catch(fa){ia=uc(S,qa,K,ha,O,M),F&&F.enabled&&ia&&sa&&(Y={statusText:fa.toString(),responseTimestamp:null===Date||
  void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},la.trackerMethods.trackNetworkRequest({requestDetails:M,responseDetails:Y}))}})["catch"](function(O){la.shouldTrackForSoftNavigation(t.url)&&la.decrementInflightRequests();var ta=uc(S,qa,K,ha,null,M);F&&F.enabled&&ta&&sa&&(O={statusText:O.toString(),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||
  void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},la.trackerMethods.trackNetworkRequest({requestDetails:M,responseDetails:O}))}))}catch(O){console.warn("Conviva App Tracker:: Unable to track network request while fetch interceptRequest ".concat(O))}return[2,q]}})})};a.prototype.handleResponse=function(b,c,e){var d,f,h,g;try{if(this.getSamplingMode()!==C.SAMPLING_MODES.NONE){var m=null===(d=this.core)||void 0===d?void 0:d.getConfig().networkRequestTrackingConfiguration,
  n=m.blocklist,r=null===(g=null===(h=null===(f=this.trackerConfiguration)||void 0===f?void 0:f.configs)||void 0===h?void 0:h.networkRequestTracking)||void 0===g?void 0:g.safelist,k=uc(m.collect,m.block,n,r,b,c),q=m.eventCollectionMode===C.NETWORK_REQUEST_EVENT_COLLECTION_MODE.AUTO||m.eventCollectionMode===C.NETWORK_REQUEST_EVENT_COLLECTION_MODE.BOTH;if(m&&m.enabled&&q&&k){var t={status:b.status,statusText:b.statusText||("load"!==e?e:void 0),responseTimestamp:Date.now(),responseTime:performance.now()||
  Date.now(),headers:qk(b.getAllResponseHeaders()),body:b.response},p=this.core.getConfig().baggageConfiguration;(null===p||void 0===p?0:p.enabled)&&Cd(c,t,p,this.core);this.trackerMethods.trackNetworkRequest({requestDetails:c,responseDetails:t})}}}catch(v){ka.warn("Conviva App Tracker:: Unable to track network request error while handleResponse ".concat(v))}};a.prototype.decorateWebSocket=function(){function b(h){e?e.has(h)||(e.add(h),c.addWebSocketEventListeners(h)):h.__convivaWsTag__||(h.__convivaWsTag__=
  !0,c.addWebSocketEventListeners(h))}var c=this,e="undefined"!==typeof WeakSet?new WeakSet:null,d=WebSocket.prototype.send;WebSocket.prototype.send=function(h){try{c.handleWebSocketSend(h,this),b(this)}catch(g){ka.warn("Conviva WS tracking error:",g)}return d.apply(this,arguments)};var f=WebSocket;window.WebSocket=function(h,g){h=new f(h,g);b(h);return h};window.WebSocket.prototype=f.prototype;Object.assign(window.WebSocket,f)};a.prototype.decorateEventSource=function(){var b=this,c="undefined"!==
  typeof WeakSet?new WeakSet:null,e=EventSource,d=e.prototype.close;window.EventSource=function(f,h){f=new e(f,h);c?c.has(f)||(c.add(f),b.addEventSourceEventListeners(f)):f.__convivaEventSourceTag__||(f.__convivaEventSourceTag__=!0,b.addEventSourceEventListeners(f));return f};e.prototype.close=function(){var f,h=null!==(f=null===this||void 0===this?void 0:this.url)&&void 0!==f?f:"unknown";b.handleEventSourceClose(h);return d.call(this)};window.EventSource.prototype=e.prototype;Object.setPrototypeOf(window.EventSource,
  e)};a.prototype.addWebSocketEventListeners=function(b){var c=this,e=Ha;b.addEventListener("message",function(d){return c.handleWebSocketMessage(d)},{signal:e});b.addEventListener("open",function(d){return c.handleWebSocketOpen(d)},{signal:e});b.addEventListener("close",function(d){return c.handleWebSocketClose(d)},{signal:e});b.addEventListener("error",function(d){return c.handleWebSocketError(d)},{signal:e})};a.prototype.addEventSourceEventListeners=function(b){var c=this,e=Ha;b.addEventListener("message",
  function(d){return c.handleEventSourceMessage(d)},{signal:e});b.addEventListener("open",function(d){return c.handleEventSourceOpen(d)},{signal:e});b.addEventListener("error",function(d){return c.handleEventSourceError(d)},{signal:e})};a.prototype.handleWebSocketOpen=function(b){try{var c={url:this.getWebSocketUrl(b.target),type:b.type,timestamp:Date.now()}}catch(e){c={data:b.data,url:b.target?this.getWebSocketUrl(b.target):void 0}}this.sendWebSocketEvent("open",c,{},!1)};a.prototype.handleWebSocketClose=
  function(b){try{var c={url:this.getWebSocketUrl(b.target),type:b.type,code:b.code,reason:b.reason,wasClean:b.wasClean,timestamp:Date.now()}}catch(e){c={data:b.data,url:b.target?this.getWebSocketUrl(b.target):void 0}}this.sendWebSocketEvent("close",c,{},!1)};a.prototype.handleWebSocketMessage=function(b){var c,e,d=null===(c=this.core)||void 0===c?void 0:c.getConfig().evtStreamTrackingConfiguration;c=null!==(e=null===d||void 0===d?void 0:d.bufferMaxBytes)&&void 0!==e?e:1048576;try{if(b.data instanceof
  ArrayBuffer){if(!(b.data.byteLength>c)){var f=(new TextDecoder("utf-8",{fatal:!1})).decode(b.data),h=[];vg(f).forEach(function(m){try{var n=JSON.parse(m.trim());h.push(n)}catch(r){h.push(m)}});var g={data:h,url:this.getWebSocketUrl(b.target)};this.sendWebSocketEvent("server",g,{},!0)}}else{e=void 0;try{e="string"===typeof b.data?JSON.parse(b.data.replace(/[\x00-\x1F]+$/g,"")):b.data,e.url=this.getWebSocketUrl(b.target)}catch(m){e={data:b.data,url:b.target?this.getWebSocketUrl(b.target):void 0}}this.sendWebSocketEvent("server",
  e)}}catch(m){b={data:b.data,url:b.target?this.getWebSocketUrl(b.target):void 0},this.sendWebSocketEvent("server",b)}};a.prototype.handleWebSocketSend=function(b,c){var e,d,f,h,g=null===(e=this.core)||void 0===e?void 0:e.getConfig().evtStreamTrackingConfiguration;e=null!==(d=null===g||void 0===g?void 0:g.bufferMaxBytes)&&void 0!==d?d:1048576;try{if(b instanceof ArrayBuffer){if(!(b.byteLength>e)){var m=(new TextDecoder("utf-8",{fatal:!1})).decode(b),n=[];vg(m).forEach(function(t){try{if("string"===
  typeof t){var p=JSON.parse(t);n.push(p)}else n.push(t)}catch(v){n.push(t)}});var r={url:this.getWebSocketUrl(c)};var k={data:n};this.sendWebSocketEvent("send",r,k,!0)}}else{var q="string"===typeof b?JSON.parse(b):b;r={url:this.getWebSocketUrl(c),type:null!==(h=null!==(f=q.type)&&void 0!==f?f:q.method)&&void 0!==h?h:void 0};this.sendWebSocketEvent("send",r,q)}}catch(t){r={url:this.getWebSocketUrl(c)},q={data:b},this.sendWebSocketEvent("send",r,q)}};a.prototype.handleWebSocketError=function(b){var c,
  e,d,f,h,g,m;try{var n={url:this.getWebSocketUrl(b.target),type:b.type,timestamp:Date.now(),readyState:this.getWebSocketReadyState(b.target),errorMessage:b.message||"WebSocket error occurred",errorType:(null===(c=b.error)||void 0===c?void 0:c.name)||"WebSocketError",errorCode:null===(e=b.error)||void 0===e?void 0:e.code,errorDetails:null===(d=b.error)||void 0===d?void 0:d.message,networkType:(null===(f=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===f?void 0:f.type)||"unknown",
  networkEffectiveType:(null===(h=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===h?void 0:h.effectiveType)||"unknown",networkDownlink:null===(g=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===g?void 0:g.downlink,networkRtt:null===(m=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===m?void 0:m.rtt,userAgent:null===navigator||void 0===navigator?void 0:navigator.userAgent}}catch(r){n={url:this.getWebSocketUrl(b.target),
  type:"error",timestamp:Date.now(),error:"Failed to process WebSocket error event: ".concat(r instanceof Error?r.message:String(r)),originalEvent:b}}this.sendWebSocketEvent("error",n)};a.prototype.handleEventSourceOpen=function(b){try{var c={url:this.getEventSourceUrl(b.target),type:b.type}}catch(e){c={data:b.data,url:b.target?this.getEventSourceUrl(b.target):void 0,type:b.type}}this.sendEventSourceEvent(c)};a.prototype.handleEventSourceMessage=function(b){var c={};try{if("string"===typeof b.data)try{c.data=
  JSON.parse(b.data)}catch(e){c.data=b.data}else c.data=b.data;c.url=this.getEventSourceUrl(b.target);c.type=b.type;c.id=b.lastEventId}catch(e){c={data:b.data,url:b.target?this.getEventSourceUrl(b.target):void 0,type:b.type,id:b.lastEventId}}this.sendEventSourceEvent(c)};a.prototype.handleEventSourceError=function(b){var c,e,d,f;try{var h={url:this.getEventSourceUrl(b.target),type:b.type,readyState:this.getEventSourceReadyState(b.target),errorMessage:b.message||"EventSource error occurred",errorType:"EventSourceError",
  networkType:(null===(c=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===c?void 0:c.type)||"unknown",networkEffectiveType:(null===(e=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===e?void 0:e.effectiveType)||"unknown",networkDownlink:null===(d=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===d?void 0:d.downlink,networkRtt:null===(f=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===f?void 0:f.rtt,
  userAgent:null===navigator||void 0===navigator?void 0:navigator.userAgent}}catch(g){h={url:this.getEventSourceUrl(b.target),type:"error",error:"Failed to process EventSource error event: ".concat(g instanceof Error?g.message:String(g)),originalEvent:b}}this.sendEventSourceEvent(h)};a.prototype.handleEventSourceClose=function(b){this.sendEventSourceEvent({url:b,type:"close"})};a.prototype.sendWebSocketEvent=function(b,c,e,d){var f;void 0===e&&(e={});void 0===d&&(d=!1);try{var h=null===(f=this.core.getConfig())||
  void 0===f?void 0:f.evtStreamTrackingConfiguration;if(null!==h&&void 0!==h&&h.enabled){var g=this.getStreamCountState(c.url),m="send"===b?P(P(P({},c),e),{event:b}):P(P({},c),{event:b}),n=vc(h.collect,h.block,m,c.url);if(null!==n&&void 0!==n&&n.result){var r=null===n||void 0===n?void 0:n.matchedConfig;if(!0===(null===r||void 0===r?void 0:r.count)&&(g.tokenCount++,null===n||void 0===n||!n.shouldSend))return;var k={url:c.url,id:c.id,type:c.type,event:b};!0===(null===r||void 0===r?void 0:r.countReset)&&
  (0<g.tokenCount&&(k.tokenCount=g.tokenCount),this.resetStreamCountState(c.url));b="send"===b?e:c;e={};if(h.richContentInference&&h.richContentInference.cond)try{e=ze(b,h.richContentInference,null===c||void 0===c?void 0:c.url)}catch(t){console.warn("Conviva App Tracker:: Error in rich content inference:",t)}if(h.conditionalCollectAttr&&0<h.conditionalCollectAttr.length){var q=ve(b,h.conditionalCollectAttr,c.url,vc,null===h||void 0===h?void 0:h.maxQueryLength,d);0<Object.keys(q).length&&(k=P(P({},k),
  q))}0<Object.keys(e).length&&(k.richContentInference=e);this.trackerMethods.trackSSEEvent({name:"conviva_ws_message",data:JSON.stringify(k)})}}}catch(t){}};a.prototype.sendEventSourceEvent=function(b){var c,e;try{var d=null===(c=this.core.getConfig())||void 0===c?void 0:c.evtStreamTrackingConfiguration;if(null!==d&&void 0!==d&&d.enabled){var f=this.getStreamCountState((null===b||void 0===b?void 0:b.url)||""),h=P({},b),g=vc(d.collect,d.block,h,(null===b||void 0===b?void 0:b.url)||"");if(null!==g&&
  void 0!==g&&g.result){var m=null===g||void 0===g?void 0:g.matchedConfig;if(!0===(null===m||void 0===m?void 0:m.count)&&(f.tokenCount++,null===g||void 0===g||!g.shouldSend))return;var n={url:(null===(e=null===b||void 0===b?void 0:b.url)||void 0===e?void 0:e.split("?")[0])||"",id:null===b||void 0===b?void 0:b.id,type:null===b||void 0===b?void 0:b.type};!0===(null===m||void 0===m?void 0:m.countReset)&&(0<f.tokenCount&&(n.tokenCount=f.tokenCount),this.resetStreamCountState((null===b||void 0===b?void 0:
  b.url)||""));if(d.conditionalCollectAttr&&0<d.conditionalCollectAttr.length){var r=ve(b,d.conditionalCollectAttr,(null===b||void 0===b?void 0:b.url)||"",vc,null===d||void 0===d?void 0:d.maxQueryLength,!1);0<Object.keys(r).length&&(n=P(P({},n),r))}if(d.richContentInference&&d.richContentInference.cond)try{var k=ze(b,d.richContentInference,null===b||void 0===b?void 0:b.url);0<Object.keys(k).length&&(n.richContentInference=k)}catch(q){console.warn("Conviva App Tracker:: Error in rich content inference:",
  q)}this.trackerMethods.trackSSEEvent({name:"conviva_sse_message",data:JSON.stringify(n)})}}}catch(q){}};a.prototype.getWebSocketUrl=function(b){try{if(b&&"object"===pa(b)&&"url"in b)return b.url}catch(c){}};a.prototype.getWebSocketReadyState=function(b){try{if(b&&"object"===pa(b)&&"readyState"in b)return b.readyState}catch(c){}};a.prototype.getEventSourceUrl=function(b){try{if(b&&"object"===pa(b)&&"url"in b)return b.url}catch(c){}};a.prototype.getEventSourceReadyState=function(b){try{if(b&&"object"===
  pa(b)&&"readyState"in b)return b.readyState}catch(c){}};a.prototype.addTraceparentHeader=function(b,c,e){var d=null;C.TRACEPARENT_HEADER_KEY in e||(d=this.generateTraceparentHeader(c))&&b.setRequestHeader(C.TRACEPARENT_HEADER_KEY,d);return d};a.prototype.addBaggageHeader=function(b,c,e,d,f){(c=this.generateBaggageHeader(c,{method:d||"GET",url:c,headers:e,body:f}))&&b.setRequestHeader(C.BAGGAGE_HEADER_KEY,c);return c};a.prototype.createRequestDetails=function(b,c,e,d,f,h){b={method:b,url:c,headers:e,
  body:d,requestTimestamp:Date.now(),requestTime:performance.now()||Date.now()};f&&(b[C.TRACEPARENT_HEADER_KEY]=f);h&&(b[C.BAGGAGE_HEADER_KEY]=h);return b};a.prototype.normalizeUrl=function(b){if(b instanceof URL)return b.href;try{if("undefined"!==typeof document){var c=URL;if(document.baseURI)var e=document.baseURI;else{var d=document.querySelector("base");e=d&&d.href?d.href:document.location.href}return(new c(b,e)).href}}catch(f){}return b};a.prototype.generateTraceparentHeader=function(b){var c,
  e,d,f,h,g,m,n,r,k,q,t,p,v,w,u,z,D,B,G,E,A,J;try{if(this.core&&b){var I=this.core.getConfig(),aa=C.CONFIG_PREFERENCES.MERGE,U=[];if(null===(d=null===(e=null===(c=this.trackerConfiguration)||void 0===c?void 0:c.configs)||void 0===e?void 0:e.traceparentGeneration)||void 0===d?0:d.force)aa=C.CONFIG_PREFERENCES.APP;else if(null===(f=null===I||void 0===I?void 0:I.traceparentconfig)||void 0===f?0:f.pref)aa=I.traceparentconfig.pref;switch(aa){case C.CONFIG_PREFERENCES.APP:if(!1===(null===(m=null===(g=null===
  (h=this.trackerConfiguration)||void 0===h?void 0:h.configs)||void 0===g?void 0:g.traceparentGeneration)||void 0===m?void 0:m.enabled))return"";U=(null===(k=null===(r=null===(n=this.trackerConfiguration)||void 0===n?void 0:n.configs)||void 0===r?void 0:r.traceparentGeneration)||void 0===k?void 0:k.targetUrl)||[];break;case C.CONFIG_PREFERENCES.REMOTE:if(!1===(null===(q=null===I||void 0===I?void 0:I.traceparentconfig)||void 0===q?void 0:q.enabled))return"";U=(null===(t=null===I||void 0===I?void 0:I.traceparentconfig)||
  void 0===t?void 0:t.targetUrl)||[];break;default:if((null===I||void 0===I||!I.traceparentconfig)&&!1===(null===(w=null===(v=null===(p=this.trackerConfiguration)||void 0===p?void 0:p.configs)||void 0===v?void 0:v.traceparentGeneration)||void 0===w?void 0:w.enabled)||(null===(z=null===(u=this.trackerConfiguration)||void 0===u?void 0:u.configs)||void 0===z||!z.traceparentGeneration)&&!1===(null===(D=null===I||void 0===I?void 0:I.traceparentconfig)||void 0===D?void 0:D.enabled))return"";var Z=(null===
  (E=null===(G=null===(B=this.trackerConfiguration)||void 0===B?void 0:B.configs)||void 0===G?void 0:G.traceparentGeneration)||void 0===E?void 0:E.targetUrl)||[],M=(null===(A=null===I||void 0===I?void 0:I.traceparentconfig)||void 0===A?void 0:A.targetUrl)||[],F=new Set(Ja(Ja([],M,!0),Z,!0));U=Array.from(F)}if(0<U.length&&(U.includes("*")||U.some(function(ha){return 0<(null===ha||void 0===ha?void 0:ha.length)&&b.toLowerCase().includes(null===ha||void 0===ha?void 0:ha.toLowerCase())}))&&(null===(J=null===
  I||void 0===I?void 0:I.networkRequestTrackingConfiguration)||void 0===J?0:J.enabled)){var ca=Array.from({length:32},function(){return Math.floor(16*Math.random()).toString(16)}).join(""),K=Array.from({length:16},function(){return Math.floor(16*Math.random()).toString(16)}).join("");return"00-".concat(ca,"-").concat(K,"-00")}}}catch(ha){console.warn("Conviva App Tracker:: Unable to generate traceparent header ".concat(ha))}return""};a.prototype.generateBaggageHeader=function(b,c){var e,d;try{if(this.core&&
  b){var f=this.core.getConfig();if(!1===(null===(e=null===f||void 0===f?void 0:f.baggageConfiguration)||void 0===e?void 0:e.enabled))return"";c&&(null===f||void 0===f?0:f.baggageConfiguration)&&Cd(c,{},f.baggageConfiguration,this.core);var h=(null===(d=null===f||void 0===f?void 0:f.baggageConfiguration)||void 0===d?void 0:d.targetUrl)||[];if(0<h.length&&h.some(function(n){return 0<(null===n||void 0===n?void 0:n.length)&&b.toLowerCase().includes(null===n||void 0===n?void 0:n.toLowerCase())})){c=[];
  var g=this.getConvivaClientId();g&&c.push("c3.client_id=".concat(g));var m=this.core.getConversationId();m&&c.push("c3.convid=".concat(m));if(0<c.length)return c.join(", ")}}}catch(n){console.warn("Conviva App Tracker:: Unable to generate baggage header ".concat(n))}return""};a.prototype.getConvivaClientId=function(){try{if("undefined"!==typeof window&&(null===window||void 0===window?0:window.localStorage)){var b=window.localStorage.getItem("Conviva.sdkConfig"),c=JSON.parse(b||"{}");if(c&&"object"===
  pa(c)&&c.clId)return c.clId}}catch(e){console.warn("Conviva App Tracker:: Unable to get client ID ".concat(e))}return""};a.prototype.updateSSETrackingConfig=function(b){Gf=P(P({},Gf),b)};a.prototype.getSSETrackingConfig=function(){return P({},Gf)};a.prototype.processStreamEvent=function(b,c,e){var d,f;try{if("ping"!==b.event){var h=b.data;try{h=JSON.parse(b.data)}catch(p){}var g={url:c,id:b.id,event:null!==(d=b.event)&&void 0!==d?d:"message",data:h},m=null===(f=this.core)||void 0===f?void 0:f.getConfig().evtStreamTrackingConfiguration;
  if(null!==m&&void 0!==m&&m.enabled){var n=this.getStreamCountState(c),r=vc(m.collect,m.block,g,c);if(null!==r&&void 0!==r&&r.result){var k=null===r||void 0===r?void 0:r.matchedConfig;if(!0===(null===k||void 0===k?void 0:k.count)&&(n.tokenCount++,null===r||void 0===r||!r.shouldSend))return;b={};if(m.richContentInference&&m.richContentInference.cond)try{b=ze(g,m.richContentInference,null===g||void 0===g?void 0:g.url)}catch(p){console.warn("Conviva App Tracker:: Error in rich content inference:",p)}var q=
  {url:g.url,id:g.id,event:g.event};!0===(null===k||void 0===k?void 0:k.countReset)&&(0<n.tokenCount&&(q.tokenCount=n.tokenCount),this.resetStreamCountState(c));if(m.conditionalCollectAttr&&0<m.conditionalCollectAttr.length){var t=ve(g,m.conditionalCollectAttr,c,vc,null===m||void 0===m?void 0:m.maxQueryLength,!1);0<Object.keys(t).length&&(q=P(P({},q),t))}0<Object.keys(b).length&&(q.richContentInference=b);this.trackerMethods.trackSSEEvent({name:e,data:JSON.stringify(q)})}}}}catch(p){}};a.prototype.getStreamCountState=
  function(b){this.sseCountStates.has(b)||this.sseCountStates.set(b,{tokenCount:0});return this.sseCountStates.get(b)};a.prototype.resetStreamCountState=function(b){this.sseCountStates.set(b,{tokenCount:0})};a.prototype.cleanupSSECountState=function(b){this.sseCountStates["delete"](b)};a.prototype.getInflightRequests=function(){return this.inflightRequests};a.prototype.incrementInflightRequests=function(){this.inflightRequests++};a.prototype.decrementInflightRequests=function(){this.inflightRequests=
  Math.max(0,this.inflightRequests-1)};a.prototype.shouldTrackForSoftNavigation=function(b){try{var c=(new URL(b)).hostname,e=this.core.getConfig(),d=null===e||void 0===e?void 0:e.softNavigationTrackingConfiguration;return null!==d&&void 0!==d&&d.domainBlocklist&&0!==d.domainBlocklist.length?!d.domainBlocklist.some(function(f){return c.endsWith(f)}):!0}catch(f){return!1}};return a}(),Bj=function(a,b,c,e,d,f,h,g){var m,n,r,k,q=wa,t=function(){var p=q.getConfig();return p.emitterConfiguration&&p.emitterConfiguration.batching?
  p.emitterConfiguration.batching.enabled:!0};return $i(a,b,"localStorage"==c||"cookieAndLocalStorage"==c,e.eventMethod,d,function(){var p,v=q.getConfig();return null!==(p=v.bufferSize?v.bufferSize:e.bufferSize)&&void 0!==p?p:20}(),function(){var p,v=q.getConfig();return null!==(p=v.maxGetBytes?v.maxGetBytes:e.maxGetBytes)&&void 0!==p?p:0},null!==(m=e.useStm)&&void 0!==m?m:!0,function(){var p,v=q.getConfig();return null!==(p=v.maxLocalStorageQueueSize?v.maxLocalStorageQueueSize:e.maxLocalStorageQueueSize)&&
  void 0!==p?p:10},null!==(n=e.connectionTimeout)&&void 0!==n?n:3E4,f,null!==(r=e.customHeaders)&&void 0!==r?r:{},null!==(k=e.withCredentials)&&void 0!==k?k:!1,h,function(){var p,v,w,u=q.getConfig();return null!==(w=(null===u||void 0===u?0:u.enc)?u.enc:null===(v=null===(p=null===e||void 0===e?void 0:e.configs)||void 0===p?void 0:p.network)||void 0===v?void 0:v.encoding)&&void 0!==w?w:xb.GZIP},t,function(){var p,v,w=q.getConfig();return t()?"number"===typeof(null===(v=null===(p=w.emitterConfiguration)||
  void 0===p?void 0:p.batching)||void 0===v?void 0:v.byteLimitPostInKB)?1E3*w.emitterConfiguration.batching.byteLimitPostInKB:25E4:4E4},function(){var p,v,w=null===(v=null===(p=q.getConfig().emitterConfiguration)||void 0===p?void 0:p.batching)||void 0===v?void 0:v.batchingIntervalInSec;return 1E3*("number"===typeof w?w:5)},g,function(p){var v;"undefined"!==typeof p&&"0.0.0.0"!==p?(null!==(v=localStorage.getItem(C.REMOTE_CONFIG_RCV_KEY))&&void 0!==v?v:"")!==p&&(p=new CustomEvent("RCVUpdateApplied",{detail:{rcvHeader:p}}),
  (null===window||void 0===window?0:window.dispatchEvent)&&window.dispatchEvent(p)):(p={message:"Remote config RCV header ".concat(void 0===p?"undefined":"default value: 0.0.0.0"),className:"getOutQueue - verifyResponseRCVHeader",configAppliedSrc:Ba,configAppliedTime:Fa},Ga(q,g,p))})},cj=function(){function a(b,c,e,d,f){void 0===b&&(b=20);void 0===c&&(c=2E3);void 0===e&&(e=1E3);this.eventMaxLimit=b;this.cooldown=c;this.windowStart=Date.now();this.circuitBreakerUntil=this.eventCount=0;this.breakerPreviouslyOpen=
  !1;this.droppedCount=0;this.trackerCore=d;this.timeWindow=e;this.getSamplingMode=f}a.prototype.isAllowedToSendEvent=function(){var b=Date.now();if(b<this.circuitBreakerUntil)return this.droppedCount++,!1;this.breakerPreviouslyOpen&&(this.breakerPreviouslyOpen=!1,Ga(this.trackerCore,this.getSamplingMode,{message:"Application Error",className:"errorRateLimiter - isAllowedToSendEvent",extraData:{droppedCount:this.droppedCount},configAppliedSrc:Ba,configAppliedTime:Fa}),this.droppedCount=0);b-this.windowStart<
  this.timeWindow?this.eventCount++:(this.windowStart=b,this.eventCount=1);return this.eventCount>this.eventMaxLimit?(this.circuitBreakerUntil=b+this.cooldown,this.breakerPreviouslyOpen=!0,this.droppedCount++,!1):!0};a.prototype.updateErrortRateLimitConfig=function(b,c,e){this.eventMaxLimit=b;this.cooldown=c;this.timeWindow=e};return a}(),Ia,nb,zg=function(a,b){return a.length>b?"".concat(a.slice(0,b-3),"..."):a},zb={idleWindowMs:600,requireLcp:!1,lcpTimeoutMs:3E3,maxMeasurementMs:1E4,includeHashChanges:!1,
  domainAllowlist:[],domainBlocklist:["sdk.fra-01.braze.eu","tr.snapchat.com","analytics.google.com","ams.creativecdn.com","analytics.tiktok.com"]},$b=P({},zb),Da=null,De=null,Dd=null,db=null,Hg=!1,Ig=!1,Ed=new Set,Wc=new Set,Ee=0,Fe=[],Th=function(){function a(){he(this,a);ub(this,"t",void 0);ub(this,"o",0);ub(this,"i",[])}return ie(a,[{key:"u",value:function(b){var c;if(!b.hadRecentInput){var e=this.i[0],d=this.i.at(-1);this.o&&e&&d&&1E3>b.startTime-d.startTime&&5E3>b.startTime-e.startTime?(this.o+=
  b.value,this.i.push(b)):(this.o=b.value,this.i=[b]);null===(c=this.t)||void 0===c?void 0:c.call(this,b)}}}])}(),ce=function(){var a=performance.getEntriesByType("navigation")[0];if(a&&0<a.responseStart&&a.responseStart<performance.now())return a},Uh=function(a){if("loading"===document.readyState)return"loading";var b=ce();if(b){if(a<b.domInteractive)return"loading";if(0===b.domContentLoadedEventStart||a<b.domContentLoadedEventStart)return"dom-interactive";if(0===b.domComplete||a<b.domComplete)return"dom-content-loaded"}return"complete"},
  Hf=function(a){var b="";try{for(;9!==(null===(c=a)||void 0===c?void 0:c.nodeType);){var c,e=a;if(e.id)var d="#"+e.id;else{var f=e.nodeName,h=[1===e.nodeType?f.toLowerCase():f.toUpperCase().replace(/^#/,"")],g=h.concat,m=Array.from(e.classList).sort();var n=m;var r=Array.isArray(n)?Sb(n):void 0;var k;(k=r)||(k="undefined"!=typeof Symbol&&null!=m[Symbol.iterator]||null!=m["@@iterator"]?Array.from(m):void 0);var q;if(!(q=k||Qf(m)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  d=g.call(h,q).join(".")}n=d;if(99<b.length+n.length)return b||n;if(b=b?n+">"+b:n,e.id)break;a=e.parentNode}}catch(t){}return b},Ie=new WeakMap,Vh=-1,nd=function(a){addEventListener("pageshow",function(b){b.persisted&&(Vh=b.timeStamp,a(b))},!0)},Qb=function(a,b,c,e){var d,f;return function(h){var g;0<=b.value&&(h||e)&&((f=b.value-(null!==(g=d)&&void 0!==g?g:0))||void 0===d)&&(d=b.value,b.delta=f,h=b.value,b.rating=h>c[1]?"poor":h>c[0]?"needs-improvement":"good",a(b))}},If=function(a){requestAnimationFrame(function(){return requestAnimationFrame(function(){return a()})})},
  de=function(){var a,b=ce();return null!==(a=null===b||void 0===b?void 0:b.activationStart)&&void 0!==a?a:0},Rb=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,c=ce(),e="navigate";0<=Vh?e="back-forward-cache":c&&(document.prerendering||0<de()?e="prerender":document.wasDiscarded?e="restore":c.type&&(e=c.type.replace(/_/g,"-")));return{name:a,value:b,rating:"good",delta:0,entries:[],id:"v5-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1E12),navigationType:e}},
  Hc=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};try{if(PerformanceObserver.supportedEntryTypes.includes(a)){var e=new PerformanceObserver(function(d){Promise.resolve().then(function(){b(d.getEntries())})});return e.observe(gi({type:a,buffered:!0},c)),e}}catch(d){}},Jf=function(a){var b=!1;return function(){b||(a(),b=!0)}},Ic=-1,Wh=new Set,Kf=function(a){if("hidden"===document.visibilityState){if("visibilitychange"===a.type){var b=$a(Wh),c;try{for(b.s();!(c=b.n()).done;){var e=
  c.value;e()}}catch(d){b.e(d)}finally{b.f()}}isFinite(Ic)||(Ic="visibilitychange"===a.type?a.timeStamp:0,removeEventListener("prerenderingchange",Kf,!0))}},ee=function(){if(0>Ic){var a,b=de(),c=document.prerendering?void 0:null===(a=globalThis.performance.getEntriesByType("visibility-state").filter(function(e){return"hidden"===e.name&&e.startTime>b})[0])||void 0===a?void 0:a.startTime;Ic=null!==c&&void 0!==c?c:"hidden"!==document.visibilityState||document.prerendering?1/0:0;addEventListener("visibilitychange",
  Kf,!0);addEventListener("prerenderingchange",Kf,!0);nd(function(){setTimeout(function(){Ic="hidden"!==document.visibilityState||document.prerendering?1/0:0})})}return{get firstHiddenTime(){return Ic},onHidden:function(e){Wh.add(e)}}},Lf=function(a){document.prerendering?addEventListener("prerenderingchange",function(){return a()},!0):a()},Xh=[1800,3E3],tk=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Lf(function(){var c=ee(),e,d=Rb("FCP"),f=Hc("paint",function(h){h=$a(h);
  var g;try{for(h.s();!(g=h.n()).done;){var m=g.value;"first-contentful-paint"===m.name&&(f.disconnect(),m.startTime<c.firstHiddenTime&&(d.value=Math.max(m.startTime-de(),0),d.entries.push(m),e(!0)))}}catch(n){h.e(n)}finally{h.f()}});f&&(e=Qb(a,d,Xh,b.reportAllChanges),nd(function(h){d=Rb("FCP");e=Qb(a,d,Xh,b.reportAllChanges);If(function(){d.value=performance.now()-h.timeStamp;e(!0)})}))})},Yh=[.1,.25],Zh=function(a){return a.find(function(b){var c;return 1===(null===(c=b.node)||void 0===c?void 0:
  c.nodeType)})||a[0]},Ej=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=xc(b=Object.assign({},b),Th),e=new WeakMap;c.t=function(d){var f;if(null!==d&&void 0!==d&&null!==(f=d.sources)&&void 0!==f&&f.length&&(d=Zh(d.sources),f=null===d||void 0===d?void 0:d.node)){var h,g,m;f=null!==(h=null===(g=(m=b).generateTarget)||void 0===g?void 0:g.call(m,f))&&void 0!==h?h:Hf(f);e.set(d,f)}};(function(d){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},h=ee();tk(Jf(function(){var g,
  m=Rb("CLS",0),n=xc(f,Th),r=function(q){q=$a(q);var t;try{for(q.s();!(t=q.n()).done;)n.u(t.value)}catch(p){q.e(p)}finally{q.f()}n.o>m.value&&(m.value=n.o,m.entries=n.i,g())},k=Hc("layout-shift",r);k&&(g=Qb(d,m,Yh,f.reportAllChanges),h.onHidden(function(){r(k.takeRecords());g(!0)}),nd(function(){n.o=0;m=Rb("CLS",0);g=Qb(d,m,Yh,f.reportAllChanges);If(function(){return g()})}),setTimeout(g))}))})(function(d){d=function(f){var h={};if(f.entries.length){var g,m=f.entries.reduce(function(n,r){return n.value>
  r.value?n:r});null!==m&&void 0!==m&&null!==(g=m.sources)&&void 0!==g&&g.length&&(g=Zh(m.sources))&&(h={largestShiftTarget:e.get(g),largestShiftTime:m.startTime,largestShiftValue:m.value,largestShiftSource:g,largestShiftEntry:m,loadState:Uh(m.startTime)})}return Object.assign(f,{attribution:h})}(d);a(d)},b)},$h=0,Mf=1/0,fe=0,uk=function(a){a=$a(a);var b;try{for(a.s();!(b=a.n()).done;){var c=b.value;c.interactionId&&(Mf=Math.min(Mf,c.interactionId),fe=Math.max(fe,c.interactionId),$h=fe?(fe-Mf)/7+1:
  0)}}catch(e){a.e(e)}finally{a.f()}},Nf,ai=function(){var a;return Nf?$h:null!==(a=performance.interactionCount)&&void 0!==a?a:0},bi=0,ci=function(){function a(){he(this,a);ub(this,"l",[]);ub(this,"h",new Map);ub(this,"m",void 0);ub(this,"p",void 0)}return ie(a,[{key:"v",value:function(){bi=ai();this.l.length=0;this.h.clear()}},{key:"M",value:function(){var b=Math.min(this.l.length-1,Math.floor((ai()-bi)/50));return this.l[b]}},{key:"u",value:function(b){var c;if(null!==(c=this.m)&&void 0!==c&&c.call(this,
  b),b.interactionId||"first-input"===b.entryType){var e=this.l.at(-1);if((c=this.h.get(b.interactionId))||10>this.l.length||b.duration>e.T){var d;if(c?b.duration>c.T?(c.entries=[b],c.T=b.duration):b.duration===c.T&&b.startTime===c.entries[0].startTime&&c.entries.push(b):(c={id:b.interactionId,entries:[b],T:b.duration},this.h.set(c.id,c),this.l.push(c)),this.l.sort(function(h,g){return g.T-h.T}),10<this.l.length){b=this.l.splice(10);b=$a(b);var f;try{for(b.s();!(f=b.n()).done;)this.h.delete(f.value.id)}catch(h){b.e(h)}finally{b.f()}}null===
  (d=this.p)||void 0===d||d.call(this,c)}}}}])}(),ge=function(a){var b=globalThis.requestIdleCallback||setTimeout;"hidden"===document.visibilityState?a():(a=Jf(a),addEventListener("visibilitychange",a,{once:!0,capture:!0}),b(function(){a();removeEventListener("visibilitychange",a,{capture:!0})}))},di=[200,500],Dj=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=xc(b=Object.assign({},b),ci),e=[],d=[],f=0,h=new WeakMap,g=new WeakMap,m=!1,n=function(){var q=c.l.map(function(E){return h.get(E.entries[0])}),
  t=d.length-50;d=d.filter(function(E,A){return A>=t||q.includes(E)});var p=new Set,v=$a(d),w;try{for(v.s();!(w=v.n()).done;){var u=w.value,z=r(u.startTime,u.processingEnd),D=$a(z),B;try{for(D.s();!(B=D.n()).done;)p.add(B.value)}catch(E){D.e(E)}finally{D.f()}}}catch(E){v.e(E)}finally{v.f()}var G=e.length-1-50;e=e.filter(function(E,A){return E.startTime>f&&A>G||p.has(E)});m=!1};c.m=function(q){var t=q.startTime+q.duration;f=Math.max(f,q.processingEnd);for(var p=d.length-1;0<=p;p--){var v=d[p];if(8>=
  Math.abs(t-v.renderTime)){var w=v;w.startTime=Math.min(q.startTime,w.startTime);w.processingStart=Math.min(q.processingStart,w.processingStart);w.processingEnd=Math.max(q.processingEnd,w.processingEnd);w.entries.push(q);break}}w||(w={startTime:q.startTime,processingStart:q.processingStart,processingEnd:q.processingEnd,renderTime:t,entries:[q]},d.push(w));(q.interactionId||"first-input"===q.entryType)&&h.set(q,w);m||(ge(n),m=!0)};c.p=function(q){if(!g.get(q)){var t=q.entries[0].target;if(t){var p,
  v,w;t=null!==(p=null===(v=(w=b).generateTarget)||void 0===v?void 0:v.call(w,t))&&void 0!==p?p:Hf(t);g.set(q,t)}}};var r=function(q,t){var p=[],v=$a(e),w;try{for(v.s();!(w=v.n()).done;){var u=w.value;if(!(u.startTime+u.duration<q)){if(u.startTime>t)break;p.push(u)}}}catch(z){v.e(z)}finally{v.f()}return p},k=function(q){var t=q.entries[0],p=h.get(t),v=t.processingStart,w=Math.max(t.startTime+t.duration,v),u=Math.min(p.processingEnd,w);p=p.entries.sort(function(B,G){return B.processingStart-G.processingStart});
  var z=r(t.startTime,u),D=c.h.get(t.interactionId);t={interactionTarget:g.get(D),interactionType:t.name.startsWith("key")?"keyboard":"pointer",interactionTime:t.startTime,nextPaintTime:w,processedEventEntries:p,longAnimationFrameEntries:z,inputDelay:v-t.startTime,processingDuration:u-v,presentationDelay:w-u,loadState:Uh(t.startTime),longestScript:void 0,totalScriptDuration:void 0,totalStyleAndLayoutDuration:void 0,totalPaintDuration:void 0,totalUnattributedDuration:void 0};(function(B,G){if(null!==
  (G=B.longAnimationFrameEntries)&&void 0!==G&&G.length){G=B.interactionTime;var E=B.inputDelay,A=B.processingDuration,J,I,aa=0,U=0,Z=0,M=0,F=$a(B.longAnimationFrameEntries),ca;try{for(F.s();!(ca=F.n()).done;){var K=ca.value;U=U+K.startTime+K.duration-K.styleAndLayoutStart;var ha=$a(K.scripts),S;try{for(ha.s();!(S=ha.n()).done;){var qa=S.value,sa=qa.startTime+qa.duration;if(!(sa<G)){var la=sa-Math.max(G,qa.startTime),za=qa.duration?la/qa.duration*qa.forcedStyleAndLayoutDuration:0;aa+=la-za;U+=za;la>
  M&&(I=qa.startTime<G+E?"input-delay":qa.startTime>=G+E+A?"presentation-delay":"processing-duration",J=qa,M=la)}}}catch(O){ha.e(O)}finally{ha.f()}}}catch(O){F.e(O)}finally{F.f()}ca=(ca=B.longAnimationFrameEntries.at(-1))?ca.startTime+ca.duration:0;ca>=G+E+A&&(Z=B.nextPaintTime-ca);J&&I&&(B.longestScript={entry:J,subpart:I,intersectingDuration:M});B.totalScriptDuration=aa;B.totalStyleAndLayoutDuration=U;B.totalPaintDuration=Z;B.totalUnattributedDuration=B.nextPaintTime-G-aa-U-Z}})(t);return Object.assign(q,
  {attribution:t})};Hc("long-animation-frame",function(q){e=e.concat(q);m||(ge(n),m=!0)});(function(q){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype){var p=ee();Lf(function(){var v;"interactionCount"in performance||Nf||(Nf=Hc("event",uk,{type:"event",buffered:!0,durationThreshold:0}));var w=Rb("INP"),u=xc(t,ci),z=function(G){ge(function(){var E=$a(G),A;try{for(E.s();!(A=E.n()).done;)u.u(A.value)}catch(J){E.e(J)}finally{E.f()}(E=
  u.M())&&E.T!==w.value&&(w.value=E.T,w.entries=E.entries,B())})},D=Hc("event",z,{durationThreshold:null!==(v=t.durationThreshold)&&void 0!==v?v:40});var B=Qb(q,w,di,t.reportAllChanges);D&&(D.observe({type:"first-input",buffered:!0}),p.onHidden(function(){z(D.takeRecords());B(!0)}),nd(function(){u.v();w=Rb("INP");B=Qb(q,w,di,t.reportAllChanges)}))})}})(function(q){q=k(q);a(q)},b)},ei=function(){function a(){he(this,a);ub(this,"m",void 0)}return ie(a,[{key:"u",value:function(b){var c;null===(c=this.m)||
  void 0===c||c.call(this,b)}}])}(),fi=[2500,4E3],Cj=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=xc(b=Object.assign({},b),ei),e=new WeakMap;c.m=function(d){var f=d.element;if(f){var h,g,m;f=null!==(h=null===(g=(m=b).generateTarget)||void 0===g?void 0:g.call(m,f))&&void 0!==h?h:Hf(f);e.set(d,f)}};(function(d){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Lf(function(){var h=ee(),g=Rb("LCP"),m=xc(f,ei),n=function(w){f.reportAllChanges||(w=w.slice(-1));
  w=$a(w);var u;try{for(w.s();!(u=w.n()).done;){var z=u.value;m.u(z);z.startTime<h.firstHiddenTime&&(g.value=Math.max(z.startTime-de(),0),g.entries=[z],k())}}catch(D){w.e(D)}finally{w.f()}},r=Hc("largest-contentful-paint",n);if(r){var k=Qb(d,g,fi,f.reportAllChanges);for(var q=Jf(function(){n(r.takeRecords());r.disconnect();k(!0)}),t=function(w){w.isTrusted&&(ge(q),removeEventListener(w.type,t,{capture:!0}))},p=0,v=["keydown","click","visibilitychange"];p<v.length;p++)addEventListener(v[p],t,{capture:!0});
  nd(function(w){g=Rb("LCP");k=Qb(d,g,fi,f.reportAllChanges);If(function(){g.value=performance.now()-w.timeStamp;k(!0)})})}})})(function(d){d=function(f){var h={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:f.value};if(f.entries.length){var g=ce();if(g){var m=g.activationStart||0,n=f.entries.at(-1),r=n.url&&performance.getEntriesByType("resource").filter(function(q){return q.name===n.url})[0];h=Math.max(0,g.responseStart-m);var k=Math.max(h,r?(r.requestStart||r.startTime)-
  m:0);m=Math.min(f.value,Math.max(k,r?r.responseEnd-m:0));h={target:e.get(n),timeToFirstByte:h,resourceLoadDelay:k-h,resourceLoadDuration:m-k,elementRenderDelay:f.value-m,navigationEntry:g,lcpEntry:n};n.url&&(h.url=n.url);r&&(h.lcpResourceEntry=r)}}return Object.assign(f,{attribution:h})}(d);a(d)},b)},Ke,Ac;(function(a){a[a.APP=0]="APP";a[a.REMOTE=1]="REMOTE";a[a.MERGE=2]="MERGE"})(Ac||(Ac={}));var ic={},Hj=function(){return function(){this.outQueues=[];this.bufferFlushers=[];this.hasLoaded=!1;this.registeredOnLoadHandlers=
  []}}();Ca.cleanup=function(a){Ta(a,function(b){b.clearTimers()});Fj(a)};Ca.convivaAppTracker=function(a){void 0===a&&(a={});try{var b="undefined"!==typeof window?Gj():void 0;if(b){var c=a.trackerVersionSuffix?"js-".concat("1.5.5"," ").concat(a.trackerVersionSuffix):"js-".concat("1.5.5");if(ic.hasOwnProperty("CAT"))var e=null;else ic.CAT=qj("CAT","CAT",c,b,a),e=ic.CAT;return e}}catch(d){console.warn("Conviva App Tracker:: Initialisation failed! "+d)}};Ca.getClientId=function(){var a="";"undefined"!=
  typeof window&&(null===window||void 0===window?0:window.localStorage)&&(a=window.localStorage.getItem("Conviva.sdkConfig"),a=JSON.parse(a||"{}"),a="{}"===a||"undefined"===typeof a?"":a.clId);return a};Ca.setClientId=function(a){if(a&&"string"===typeof a)try{var b=a.split(".");if(4!==b.length)console.warn('Conviva App Tracker:: Invalid clientId format! It should be in the format of "x.x.x.x"');else if(!1===b.every(function(h){return/^\d+$/.test(h)}))console.warn("Conviva App Tracker:: Invalid clientId format! Every part of clientId should be numeric");
  else if("undefined"!=typeof window&&(null===window||void 0===window?0:window.localStorage)){var c=window.localStorage,e=c.getItem("Conviva.sdkConfig"),d=JSON.parse(e||"{}");"{}"===d||"undefined"===typeof d?d={clId:a}:d.clId=a;var f=JSON.stringify(d);c.setItem("Conviva.sdkConfig",f)}else console.warn("Conviva App Tracker:: window or local storage is not available")}catch(h){console.warn(h)}else console.warn("Conviva App Tracker:: Unable to set clinetId string!")};Ca.setConversationId=function(a,b){Ta(b,
  function(c){c.setConversationId(a)})};Ca.setCustomTags=function(a,b){Ta(b,function(c){try{c.setCustomTags(a)}catch(e){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})};Ca.setCustomUrl=function(a,b){Ta(b,function(c){c.setCustomUrl(a)})};Ca.setDocumentTitle=function(a,b){Ta(b,function(c){c.setDocumentTitle(a)})};Ca.setReferrerUrl=function(a,b){Ta(b,function(c){c.setReferrerUrl(a)})};Ca.setUserId=function(a,b){Ta(b,function(c){c.setUserId(a)})};Ca.trackButtonClick=function(a,
  b){Ta(b,function(c){try{c.trackButtonClick(a)}catch(e){console.warn("Conviva App Tracker:: Unable to track button click event! "+e)}})};Ca.trackCustomEvent=function(a,b){Ta(b,function(c){try{c.trackCustomEvent(a)}catch(e){console.warn("Conviva App Tracker:: Unable to track custom event! "+e)}})};Ca.trackError=function(a,b){Ta(b,function(c){try{c.trackErrorEvent(a)}catch(e){console.warn("Conviva App Tracker:: Unable to track error!")}})};Ca.trackLinkClick=function(a,b){Ta(b,function(c){try{c.trackLinkClick(a)}catch(e){console.warn("Conviva App Tracker:: Unable to track link click event! "+
  e)}})};Ca.trackNetworkRequest=function(a,b){var c,e,d,f,h,g,m,n,r,k,q,t,p,v,w,u,z,D,B={method:null!==(c=a.requestDetails.method)&&void 0!==c?c:void 0,url:null!==(e=a.requestDetails.url)&&void 0!==e?e:void 0,headers:null!==(d=a.requestDetails.headers)&&void 0!==d?d:void 0,body:null!==(f=a.requestDetails.body)&&void 0!==f?f:void 0,requestTimestamp:null!==(h=a.requestDetails.requestTimestamp)&&void 0!==h?h:void 0,requestTime:null!==(g=a.requestDetails.requestTime)&&void 0!==g?g:void 0,size:null!==(m=
  a.requestDetails.size)&&void 0!==m?m:void 0,traceparent:null!==(n=a.requestDetails.traceparent)&&void 0!==n?n:void 0,baggage:null!==(r=a.requestDetails.baggage)&&void 0!==r?r:void 0},G={status:null!==(k=a.responseDetails.status)&&void 0!==k?k:void 0,statusText:null!==(q=a.responseDetails.statusText)&&void 0!==q?q:void 0,url:null!==(t=a.responseDetails.url)&&void 0!==t?t:void 0,headers:null!==(p=a.responseDetails.headers)&&void 0!==p?p:void 0,body:null!==(v=a.responseDetails.body)&&void 0!==v?v:null,
  event:null!==(w=a.responseDetails.event)&&void 0!==w?w:void 0,size:null!==(u=a.responseDetails.size)&&void 0!==u?u:void 0,responseTimestamp:null!==(z=a.responseDetails.responseTimestamp)&&void 0!==z?z:void 0,responseTime:null!==(D=a.responseDetails.responseTime)&&void 0!==D?D:void 0};B.url?Ta(b,function(E){var A;try{var J=null===(A=E.core)||void 0===A?void 0:A.getConfig().networkRequestTrackingConfiguration;E.getSamplingMode()!==C.SAMPLING_MODES.NONE&&J.enabled&&E.determineShouldTrack(J.collect,J.block,
  J.blocklist,J.safelist,G,B)&&(J.eventCollectionMode!==C.NETWORK_REQUEST_EVENT_COLLECTION_MODE.MANUAL&&J.eventCollectionMode!==C.NETWORK_REQUEST_EVENT_COLLECTION_MODE.BOTH||E.trackNetworkRequest({requestDetails:B,responseDetails:G}))}catch(I){console.warn("Conviva App Tracker:: Unable to track network request! "+I)}}):console.warn("Conviva App Tracker:: Unable to track network request! Missing required fields.")};Ca.trackPageView=function(a,b){Ta(b,function(c){c.trackPageView(a)})};Ca.unsetCustomTags=
  function(a,b){Ta(b,function(c){try{c.unsetCustomTags(a)}catch(e){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})};Ca.version="1.5.5";Object.defineProperty(Ca,"__esModule",{value:!0})})
  //# sourceMappingURL=conviva-eco-js-sensor.umd.min.js.map
  