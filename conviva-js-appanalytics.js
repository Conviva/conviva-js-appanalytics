/*!
 * Browser tracker for Conviva v1.5.1 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */

'use strict';(function(Ya,Oc){"object"===typeof exports&&"undefined"!==typeof module?Oc(exports):"function"===typeof define&&define.amd?define(["exports"],Oc):(Ya="undefined"!==typeof globalThis?globalThis:Ya||self,Oc(Ya.convivaBrowserTracking={}))})(this,function(Ya){function Oc(b,a){(null==a||a>b.length)&&(a=b.length);for(var c=0,d=Array(a);c<a;c++)d[c]=b[c];return d}function $i(b,a,c,d,e,f,g){try{var h=b[f](g),k=h.value}catch(l){return void c(l)}h.done?a(k):Promise.resolve(k).then(d,e)}function Gg(b){return function(){var a=
this,c=arguments;return new Promise(function(d,e){function f(k){$i(h,d,e,f,g,"next",k)}function g(k){$i(h,d,e,f,g,"throw",k)}var h=b.apply(a,c);f(void 0)})}}function rb(b,a,c){a=Pc(a);a=Hg()?Reflect.construct(a,c||[],Pc(b).constructor):a.apply(b,c);if(!a||"object"!=typeof a&&"function"!=typeof a){if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}else b=a;
return b}function na(b,a){if(!(b instanceof a))throw new TypeError("Cannot call a class as a function");}function vn(b,a,c){if(Hg())return Reflect.construct.apply(null,arguments);var d=[null];d.push.apply(d,a);d=new (b.bind.apply(b,d));return c&&ne(d,c.prototype),d}function aj(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,bj(d.key),d)}}function oa(b,a,c){return a&&aj(b.prototype,a),c&&aj(b,c),Object.defineProperty(b,
"prototype",{writable:!1}),b}function X(b,a){var c="undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(!c){if(Array.isArray(b)||(c=Ig(b))||a&&b&&"number"==typeof b.length){c&&(b=c);var d=0;a=function(){};return{s:a,n:function(){return d>=b.length?{done:!0}:{done:!1,value:b[d++]}},e:function(h){throw h;},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var e,f=!0,g=!1;return{s:function(){c=
c.call(b)},n:function(){var h=c.next();return f=h.done,h},e:function(h){g=!0;e=h},f:function(){try{f||null==c.return||c.return()}finally{if(g)throw e;}}}}function bc(b,a,c){return(a=bj(a))in b?Object.defineProperty(b,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):b[a]=c,b}function Jg(){return Jg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(b,a,c){var d;for(d=b;!{}.hasOwnProperty.call(d,a)&&null!==(d=Pc(d)););if(d)return d=Object.getOwnPropertyDescriptor(d,a),d.get?
d.get.call(3>arguments.length?b:c):d.value},Jg.apply(null,arguments)}function Pc(b){return Pc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},Pc(b)}function sb(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}});Object.defineProperty(b,"prototype",{writable:!1});a&&ne(b,a)}function wn(b){try{return-1!==
Function.toString.call(b).indexOf("[native code]")}catch(a){return"function"==typeof b}}function Hg(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(Hg=function(){return!!b})()}function cj(b,a){var c=Object.keys(b);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(b);a&&(d=d.filter(function(e){return Object.getOwnPropertyDescriptor(b,e).enumerable}));c.push.apply(c,d)}return c}function ra(b){for(var a=1;a<arguments.length;a++){var c=
null!=arguments[a]?arguments[a]:{};a%2?cj(Object(c),!0).forEach(function(d){bc(b,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(c)):cj(Object(c)).forEach(function(d){Object.defineProperty(b,d,Object.getOwnPropertyDescriptor(c,d))})}return b}function oe(b,a){if(null==b)return{};var c;if(null==b)var d={};else{var e={};for(c in b)({}).hasOwnProperty.call(b,c)&&!a.includes(c)&&(e[c]=b[c]);d=e}if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(b);
for(c=0;c<f.length;c++)e=f[c],a.includes(e)||{}.propertyIsEnumerable.call(b,e)&&(d[e]=b[e])}return d}function Lb(){function b(y,F,A){return Object.defineProperty(y,F,{value:A,enumerable:!0,configurable:!0,writable:!0}),y[F]}function a(y,F,A,O){F=Object.create((F&&F.prototype instanceof d?F:d).prototype);O=new n(O||[]);return x(F,"_invoke",{value:k(y,A,O)}),F}function c(y,F,A){try{return{type:"normal",arg:y.call(F,A)}}catch(O){return{type:"throw",arg:O}}}function d(){}function e(){}function f(){}function g(y){["next",
"throw","return"].forEach(function(F){b(y,F,function(A){return this._invoke(F,A)})})}function h(y,F){function A(K,ca,ea,ba){K=c(y[K],y,ca);if("throw"!==K.type){var ta=K.arg;return(K=ta.value)&&"object"==typeof K&&w.call(K,"__await")?F.resolve(K.__await).then(function(P){A("next",P,ea,ba)},function(P){A("throw",P,ea,ba)}):F.resolve(K).then(function(P){ta.value=P;ea(ta)},function(P){return A("throw",P,ea,ba)})}ba(K.arg)}var O;x(this,"_invoke",{value:function(K,ca){function ea(){return new F(function(ba,
ta){A(K,ca,ba,ta)})}return O=O?O.then(ea,ea):ea()}})}function k(y,F,A){var O=B;return function(K,ca){if(O===L)throw Error("Generator is already running");if(O===V){if("throw"===K)throw ca;return{value:t,done:!0}}A.method=K;for(A.arg=ca;;){if(K=A.delegate)if(K=l(K,A)){if(K===R)continue;return K}if("next"===A.method)A.sent=A._sent=A.arg;else if("throw"===A.method){if(O===B)throw O=V,A.arg;A.dispatchException(A.arg)}else"return"===A.method&&A.abrupt("return",A.arg);O=L;K=c(y,F,A);if("normal"===K.type){if(O=
A.done?V:I,K.arg===R)continue;return{value:K.arg,done:A.done}}"throw"===K.type&&(O=V,A.method="throw",A.arg=K.arg)}}}function l(y,F){var A=F.method,O=y.iterator[A];if(O===t)return F.delegate=null,"throw"===A&&y.iterator.return&&(F.method="return",F.arg=t,l(y,F),"throw"===F.method)||"return"!==A&&(F.method="throw",F.arg=new TypeError("The iterator does not provide a '"+A+"' method")),R;A=c(O,y.iterator,F.arg);return"throw"===A.type?(F.method="throw",F.arg=A.arg,F.delegate=null,R):(A=A.arg)?A.done?
(F[y.resultName]=A.value,F.next=y.nextLoc,"return"!==F.method&&(F.method="next",F.arg=t),F.delegate=null,R):A:(F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,R)}function p(y){var F={tryLoc:y[0]};1 in y&&(F.catchLoc=y[1]);2 in y&&(F.finallyLoc=y[2],F.afterLoc=y[3]);this.tryEntries.push(F)}function m(y){var F=y.completion||{};F.type="normal";delete F.arg;y.completion=F}function n(y){this.tryEntries=[{tryLoc:"root"}];y.forEach(p,this);this.reset(!0)}function q(y){if(y||
""===y){var F=y[E];if(F)return F.call(y);if("function"==typeof y.next)return y;if(!isNaN(y.length)){var A=-1;F=function K(){for(;++A<y.length;)if(w.call(y,A))return K.value=y[A],K.done=!1,K;return K.value=t,K.done=!0,K};return F.next=F}}throw new TypeError(typeof y+" is not iterable");}Lb=function(){return r};var t,r={},v=Object.prototype,w=v.hasOwnProperty,x=Object.defineProperty||function(y,F,A){y[F]=A.value},C="function"==typeof Symbol?Symbol:{},E=C.iterator||"@@iterator",H=C.asyncIterator||"@@asyncIterator",
D=C.toStringTag||"@@toStringTag";try{b({},"")}catch(y){b=function(F,A,O){return F[A]=O}}r.wrap=a;var B="suspendedStart",I="suspendedYield",L="executing",V="completed",R={};C={};b(C,E,function(){return this});var U=Object.getPrototypeOf;(U=U&&U(U(q([]))))&&U!==v&&w.call(U,E)&&(C=U);var N=f.prototype=d.prototype=Object.create(C);return e.prototype=f,x(N,"constructor",{value:f,configurable:!0}),x(f,"constructor",{value:e,configurable:!0}),e.displayName=b(f,D,"GeneratorFunction"),r.isGeneratorFunction=
function(y){y="function"==typeof y&&y.constructor;return!!y&&(y===e||"GeneratorFunction"===(y.displayName||y.name))},r.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,f):(y.__proto__=f,b(y,D,"GeneratorFunction")),y.prototype=Object.create(N),y},r.awrap=function(y){return{__await:y}},g(h.prototype),b(h.prototype,H,function(){return this}),r.AsyncIterator=h,r.async=function(y,F,A,O,K){void 0===K&&(K=Promise);var ca=new h(a(y,F,A,O),K);return r.isGeneratorFunction(F)?ca:ca.next().then(function(ea){return ea.done?
ea.value:ca.next()})},g(N),b(N,D,"Generator"),b(N,E,function(){return this}),b(N,"toString",function(){return"[object Generator]"}),r.keys=function(y){var F=Object(y),A=[],O;for(O in F)A.push(O);return A.reverse(),function ca(){for(;A.length;){var ea=A.pop();if(ea in F)return ca.value=ea,ca.done=!1,ca}return ca.done=!0,ca}},r.values=q,n.prototype={constructor:n,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(m),
!y)for(var F in this)"t"===F.charAt(0)&&w.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=t)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if("throw"===y.type)throw y.arg;return this.rval},dispatchException:function(y){function F(ta,P){return ca.type="throw",ca.arg=y,A.next=ta,P&&(A.method="next",A.arg=t),!!P}if(this.done)throw y;for(var A=this,O=this.tryEntries.length-1;0<=O;--O){var K=this.tryEntries[O],ca=K.completion;if("root"===K.tryLoc)return F("end");if(K.tryLoc<=this.prev){var ea=
w.call(K,"catchLoc"),ba=w.call(K,"finallyLoc");if(ea&&ba){if(this.prev<K.catchLoc)return F(K.catchLoc,!0);if(this.prev<K.finallyLoc)return F(K.finallyLoc)}else if(ea){if(this.prev<K.catchLoc)return F(K.catchLoc,!0)}else{if(!ba)throw Error("try statement without catch or finally");if(this.prev<K.finallyLoc)return F(K.finallyLoc)}}}},abrupt:function(y,F){for(var A=this.tryEntries.length-1;0<=A;--A){var O=this.tryEntries[A];if(O.tryLoc<=this.prev&&w.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var K=
O;break}}K&&("break"===y||"continue"===y)&&K.tryLoc<=F&&F<=K.finallyLoc&&(K=null);A=K?K.completion:{};return A.type=y,A.arg=F,K?(this.method="next",this.next=K.finallyLoc,R):this.complete(A)},complete:function(y,F){if("throw"===y.type)throw y.arg;return"break"===y.type||"continue"===y.type?this.next=y.arg:"return"===y.type?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):"normal"===y.type&&F&&(this.next=F),R},finish:function(y){for(var F=this.tryEntries.length-1;0<=F;--F){var A=this.tryEntries[F];
if(A.finallyLoc===y)return this.complete(A.completion,A.afterLoc),m(A),R}},catch:function(y){for(var F=this.tryEntries.length-1;0<=F;--F){var A=this.tryEntries[F];if(A.tryLoc===y){y=A.completion;if("throw"===y.type){var O=y.arg;m(A)}return O}}throw Error("illegal catch attempt");},delegateYield:function(y,F,A){return this.delegate={iterator:q(y),resultName:F,nextLoc:A},"next"===this.method&&(this.arg=t),R}},r}function ne(b,a){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,
d){return c.__proto__=d,c},ne(b,a)}function eb(b,a){var c=Array.isArray(b)?b:void 0;if(!c)a:{var d=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=d){var e,f,g,h=[],k=!0,l=!1;try{if(f=(d=d.call(b)).next,0===a){if(Object(d)!==d){c=void 0;break a}k=!1}else for(;!(k=(e=f.call(d)).done)&&(h.push(e.value),h.length!==a);k=!0);}catch(m){l=!0;var p=m}finally{try{if(!k&&null!=d.return&&(g=d.return(),Object(g)!==g)){c=void 0;break a}}finally{if(l)throw p;}}c=h}else c=void 0}if(!(b=
c||Ig(b,a)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return b}function Qb(b,a,c,d){var e=Jg(Pc(1&d?b.prototype:b),a,c);return 2&d&&"function"==typeof e?function(f){return e.apply(c,f)}:e}function Rb(b){var a=Array.isArray(b)?Oc(b):void 0;a||(a="undefined"!=typeof Symbol&&null!=b[Symbol.iterator]||null!=b["@@iterator"]?Array.from(b):void 0);if(!(b=a||Ig(b)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
return b}function bj(b){a:if("object"==typeof b&&b){var a=b[Symbol.toPrimitive];if(void 0!==a){b=a.call(b,"string");if("object"!=typeof b)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}return"symbol"==typeof b?b:b+""}function T(b){"@babel/helpers - typeof";return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},
T(b)}function Ig(b,a){if(b){if("string"==typeof b)return Oc(b,a);var c={}.toString.call(b).slice(8,-1);return"Object"===c&&b.constructor&&(c=b.constructor.name),"Map"===c||"Set"===c?Array.from(b):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Oc(b,a):void 0}}function jf(b){var a="function"==typeof Map?new Map:void 0;return jf=function(c){function d(){return vn(c,arguments,Pc(this).constructor)}if(null===c||!wn(c))return c;if("function"!=typeof c)throw new TypeError("Super expression must either be null or a function");
if(void 0!==a){if(a.has(c))return a.get(c);a.set(c,d)}return d.prototype=Object.create(c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),ne(d,c)},jf(b)}function Kg(b,a){var c={},d;for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&0>a.indexOf(d)&&(c[d]=b[d]);if(null!=b&&"function"===typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(b);e<d.length;e++)0>a.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(b,d[e])&&(c[d[e]]=b[d[e]])}return c}
function Qc(b,a,c,d){function e(f){return f instanceof c?f:new c(function(g){g(f)})}return new (c||(c=Promise))(function(f,g){function h(p){try{l(d.next(p))}catch(m){g(m)}}function k(p){try{l(d["throw"](p))}catch(m){g(m)}}function l(p){p.done?f(p.value):e(p.value).then(h,k)}l((d=d.apply(b,a||[])).next())})}function Rc(b,a){function c(l){return function(p){return d([l,p])}}function d(l){if(f)throw new TypeError("Generator is already executing.");for(;e;)try{if(f=1,g&&(h=l[0]&2?g["return"]:l[0]?g["throw"]||
((h=g["return"])&&h.call(g),0):g.next)&&!(h=h.call(g,l[1])).done)return h;if(g=0,h)l=[l[0]&2,h.value];switch(l[0]){case 0:case 1:h=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++;g=l[1];l=[0];continue;case 7:l=e.ops.pop();e.trys.pop();continue;default:if(!(h=e.trys,h=0<h.length&&h[h.length-1])&&(6===l[0]||2===l[0])){e=0;continue}if(3===l[0]&&(!h||l[1]>h[0]&&l[1]<h[3]))e.label=l[1];else if(6===l[0]&&e.label<h[1])e.label=h[1],h=l;else if(h&&e.label<h[2])e.label=h[2],e.ops.push(l);
else{h[2]&&e.ops.pop();e.trys.pop();continue}}l=a.call(b,e)}catch(p){l=[6,p],g=0}finally{f=h=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}var e={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,g,h,k;return k={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k}function ib(b,a,c){if(c||2===arguments.length)for(var d=0,e=a.length,f;d<e;d++)!f&&d in a||(f||(f=Array.prototype.slice.call(a,0,d)),f[d]=
a[d]);return b.concat(f||Array.prototype.slice.call(a))}function xn(b){var a=0,c=0;var d="";var e=[];if(!b)return b;b+="";do{var f=Eb.indexOf(b.charAt(a++));var g=Eb.indexOf(b.charAt(a++));d=Eb.indexOf(b.charAt(a++));var h=Eb.indexOf(b.charAt(a++));var k=f<<18|g<<12|d<<6|h;f=k>>16&255;g=k>>8&255;k&=255;64===d?e[c++]=String.fromCharCode(f):64===h?e[c++]=String.fromCharCode(f,g):e[c++]=String.fromCharCode(f,g,k)}while(a<b.length);d=e.join("");return function(l){return decodeURIComponent(l.split("").map(function(p){return"%"+
("00"+p.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(d.replace(/\0+$/,""))}function yn(b){b=unescape(encodeURIComponent(b));for(var a="",c=0;c<b.length;){var d=b.charCodeAt(c++),e=b.charCodeAt(c++),f=b.charCodeAt(c++),g=d>>2;d=(d&3)<<4|e>>4;e=isNaN(e)?64:(e&15)<<2|f>>6;f=isNaN(f)?64:f&63;a+=Eb.charAt(g)+Eb.charAt(d)+Eb.charAt(e)+Eb.charAt(f)}return a}function Lg(){var b={},a=[],c=[],d=[],e,f=function(g,h){null!=h&&""!==h&&(b[g]=h)};return{add:f,addDict:function(g){for(var h in g)Object.prototype.hasOwnProperty.call(g,
h)&&f(h,g[h])},addJson:function(g,h,k){k&&dj(k)&&(g={keyIfEncoded:g,keyIfNotEncoded:h,json:k},c.push(g),a.push(g))},addContextEntity:function(g){d.push(g)},getPayload:function(){return b},getJson:function(){return a},withJsonProcessor:function(g){e=g},build:function(){null===e||void 0===e?void 0:e(this,c,d);return b}}}function zn(b){return function(a,c,d){for(var e=function(l,p,m){l=JSON.stringify(l);if(b){m=a.add;if(l){var n=0,q=0,t=[];if(l){l=unescape(encodeURIComponent(l));do{var r=l.charCodeAt(n++);
var v=l.charCodeAt(n++);var w=l.charCodeAt(n++);var x=r<<16|v<<8|w;r=x>>18&63;v=x>>12&63;w=x>>6&63;x&=63;t[q++]=Eb.charAt(r)+Eb.charAt(v)+Eb.charAt(w)+Eb.charAt(x)}while(n<l.length);n=t.join("");l=l.length%3;l=(l?n.slice(0,l-3):n)+"===".slice(l||3)}l=l.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}m.call(a,p,l)}else a.add(m,l)},f=function(l,p){if(!l){var m=a.getPayload();if(b?m.cx:m.co){l=JSON;var n=l.parse;if(b){if(m=m.cx){switch(4-m.length%4){case 2:m+="==";break;case 3:m+="="}m=m.replace(/-/g,
"+").replace(/_/g,"/");m=xn(m)}}else m=m.co;l=n.call(l,m)}else l=void 0}l?l.dt=l.dt.concat(p.dt):l=p;return l},g=void 0,h=0;h<c.length;h++){var k=c[h];"cx"===k.keyIfEncoded?g=f(g,k.json):e(k.json,k.keyIfEncoded,k.keyIfNotEncoded)}c.length=0;d.length&&(c={sc:"sp/ctx/1-0-0",dt:ib([],d,!0)},g=f(g,c),d.length=0);g&&e(g,"cx","co")}}function dj(b){if(!ej(b))return!1;for(var a in b)if(Object.prototype.hasOwnProperty.call(b,a))return!0;return!1}function ej(b){return"undefined"!==typeof b&&null!==b&&(b.constructor===
{}.constructor||b.constructor===[].constructor)}function An(){var b=[],a=[];return{getGlobalPrimitives:function(){return b},getConditionalProviders:function(){return a},addGlobalContexts:function(c){for(var d=[],e=[],f=0;f<c.length;f++){var g=c[f];fj(g)?d.push(g):Bd(g)&&e.push(g)}b=b.concat(e);a=a.concat(d)},clearGlobalContexts:function(){a=[];b=[]},removeGlobalContexts:function(c){for(var d=function(f){fj(f)?a=a.filter(function(g){return JSON.stringify(g)!==JSON.stringify(f)}):Bd(f)&&(b=b.filter(function(g){return JSON.stringify(g)!==
JSON.stringify(f)}))},e=0;e<c.length;e++)d(c[e])},getApplicableContexts:function(c){a:{var d=0;for(var e=c.getJson();d<e.length;d++){var f=e[d];if("ue_px"===f.keyIfEncoded&&"object"===T(f.json.data)&&(f=f.json.data.schema,"string"==typeof f)){d=f;break a}}d=""}e=c.getPayload().e;f="string"===typeof e?e:"";e=[];var g=Mg(b,c,f,d);e.push.apply(e,g);c=Bn(a,c,f,d);e.push.apply(e,c);return e}}}function Cn(b){return{addPluginContexts:function(a){var c=a?ib([],a,!0):[];b.forEach(function(d){try{d.contexts&&
c.push.apply(c,d.contexts())}catch(e){va.error("Error adding plugin contexts",e)}});return c}}}function gj(b){for(var a,c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];return null!==(a=null===b||void 0===b?void 0:b.map(function(e){if("function"===typeof e)try{return e.apply(void 0,c)}catch(f){}else return e}).filter(Boolean))&&void 0!==a?a:[]}function Dn(b){if("*"===b[0]||"*"===b[1])return!1;if(0<b.slice(2).length){var a=!1,c=0;for(b=b.slice(2);c<b.length;c++)if("*"===b[c])a=!0;else if(a)return!1;
return!0}return 2==b.length?!0:!1}function hj(b){return(b=b.split("."))&&1<b.length?Dn(b):!1}function ij(b){b=/^iglu:((?:(?:[a-zA-Z0-9-_]+|\*).)+(?:[a-zA-Z0-9-_]+|\*))\/([a-zA-Z0-9-_.]+|\*)\/jsonschema\/([1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)$/.exec(b);if(null!==b&&hj(b[1]))return b.slice(1,6)}function Ng(b){if(b=ij(b)){var a=b[0];return 5===b.length&&hj(a)}return!1}function En(b){return Array.isArray(b)&&b.every(function(a){return"string"===typeof a})}function jj(b){return En(b)?b.every(function(a){return Ng(a)}):
"string"===typeof b?Ng(b):!1}function pe(b){return dj(b)&&"sc"in b&&"dt"in b?"string"===typeof b.sc&&"object"===T(b.dt):!1}function Fn(b){var a=0;if(null!=b&&"object"===T(b)&&!Array.isArray(b)){if(Object.prototype.hasOwnProperty.call(b,"accept"))if(jj(b.accept))a+=1;else return!1;if(Object.prototype.hasOwnProperty.call(b,"reject"))if(jj(b.reject))a+=1;else return!1;return 0<a&&2>=a}return!1}function kf(b){return"function"===typeof b&&1>=b.length}function Bd(b){return kf(b)||pe(b)}function kj(b){return Array.isArray(b)&&
2===b.length?Array.isArray(b[1])?kf(b[0])&&b[1].every(Bd):kf(b[0])&&Bd(b[1]):!1}function lj(b){return Array.isArray(b)&&2===b.length?Fn(b[0])?Array.isArray(b[1])?b[1].every(Bd):Bd(b[1]):!1:!1}function fj(b){return kj(b)||lj(b)}function Gn(b,a){var c=0,d=0,e=b.accept;Array.isArray(e)?b.accept.some(function(f){return lf(f,a)})&&d++:"string"===typeof e&&lf(e,a)&&d++;e=b.reject;Array.isArray(e)?b.reject.some(function(f){return lf(f,a)})&&c++:"string"===typeof e&&lf(e,a)&&c++;return 0<d&&0===c?!0:!1}function lf(b,
a){if(!Ng(b))return!1;b=ij(b);a=/^iglu:([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_]+)\/jsonschema\/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$/.exec(a);a=null!==a?a.slice(1,6):void 0;if(b&&a){if(!Hn(b[0],a[0]))return!1;for(var c=1;5>c;c++)if(!mj(b[c],a[c]))return!1;return!0}return!1}function Hn(b,a){a=a.split(".");b=b.split(".");if(a&&b){if(a.length!==b.length)return!1;for(var c=0;c<b.length;c++)if(!mj(a[c],b[c]))return!1;return!0}return!1}function mj(b,a){return b&&a&&"*"===b||b===a}function nj(b){return Array.isArray(b)?
b:[b]}function Mg(b,a,c,d){var e;b=nj(b).map(function(f){a:if(pe(f))f=[f];else{if(kf(f)){b:{var g=void 0;try{var h={event:a.getPayload(),eventType:c,eventSchema:d};g=f(h);if(Array.isArray(g)&&g.every(pe)||pe(g)){var k=g;break b}k=void 0;break b}catch(l){}k=void 0}if(pe(k)){f=[k];break a}else if(Array.isArray(k)){f=k;break a}}f=void 0}if(f&&0!==f.length)return f});return(e=[]).concat.apply(e,b.filter(function(f){return null!=f&&f.filter(Boolean)}))}function Bn(b,a,c,d){var e;b=nj(b).map(function(f){a:{if(kj(f)){var g=
f[0],h=!1;try{var k={event:a.getPayload(),eventType:c,eventSchema:d};h=g(k)}catch(l){h=!1}if(!0===h){f=Mg(f[1],a,c,d);break a}}else if(lj(f)&&Gn(f[0],d)){f=Mg(f[1],a,c,d);break a}f=[]}if(f&&0!==f.length)return f});return(e=[]).concat.apply(e,b.filter(function(f){return null!=f&&f.filter(Boolean)}))}function In(b){return null==b?{type:"dtm",value:(new Date).getTime()}:"number"===typeof b?{type:"dtm",value:b}:"ttm"===b.type?{type:"ttm",value:b.value}:{type:"dtm",value:b.value||(new Date).getTime()}}
function Jn(b){void 0===b&&(b={});var a=b.base64,c=b.corePlugins,d=null!==c&&void 0!==c?c:[];a=function(f,g,h){function k(t,r){t=p.getApplicableContexts(t);var v=[];r&&r.length&&v.push.apply(v,r);t&&t.length&&v.push.apply(v,t);return v}var l=Cn(g),p=An(),m=f,n={},q=null;return{track:function(t,r,v){t.withJsonProcessor(zn(m));t.add("eid",pc.v4());t.addDict(n);v=In(v);t.add(v.type,v.value.toString());r=k(t,l.addPluginContexts(r));r=r&&r.length?{sc:"sp/ctx/1-0-0",dt:r}:void 0;void 0!==r&&t.addJson("cx",
"co",r);g.forEach(function(x){try{x.beforeTrack&&x.beforeTrack(t)}catch(C){va.error("Plugin beforeTrack",C)}});"function"===typeof h&&h(t);var w=t.build();g.forEach(function(x){try{x.afterTrack&&x.afterTrack(w)}catch(C){va.error("Plugin afterTrack",C)}});return w},addPayloadPair:function(t,r){n[t]=r},configuration:b,getConfig:function(){return b},setConfig:function(t){t&&("undefined"!==typeof t.base64&&(m=b.base64=t.base64),"undefined"!==typeof t.lifecycleAutotracking&&(b.lifecycleAutotracking=t.lifecycleAutotracking),
"undefined"!==typeof t.cacheRefreshInterval&&(b.cacheRefreshInterval=t.cacheRefreshInterval),"undefined"!==typeof t.exceptionAutotracking&&(b.exceptionAutotracking=t.exceptionAutotracking),"undefined"!==typeof t.enablePeriodicHeartbeat&&(b.enablePeriodicHeartbeat=t.enablePeriodicHeartbeat),"undefined"!==typeof t.periodicHeartbeatInterval&&(b.periodicHeartbeatInterval=t.periodicHeartbeatInterval),"undefined"!==typeof t.enc&&(b.enc=t.enc),"undefined"!==typeof t.mend&&(b.mend=t.mend),"undefined"!==typeof t.maxLocalStorageQueueSize&&
(b.maxLocalStorageQueueSize=t.maxLocalStorageQueueSize),"undefined"!==typeof t.maxGetBytes&&(b.maxGetBytes=t.maxGetBytes),"undefined"!==typeof t.bufferSize&&(b.bufferSize=t.bufferSize),"undefined"!==typeof t.customEventTrackingConfiguration&&(b.customEventTrackingConfiguration=t.customEventTrackingConfiguration),"undefined"!==typeof t.networkRequestTrackingConfiguration&&(b.networkRequestTrackingConfiguration=t.networkRequestTrackingConfiguration),"undefined"!==typeof t.traceparentconfig&&(b.traceparentconfig=
t.traceparentconfig),"undefined"!==typeof t.baggageConfiguration&&(b.baggageConfiguration=t.baggageConfiguration),"undefined"!==typeof t.metaTagsTrackingConfiguration&&(b.metaTagsTrackingConfiguration=t.metaTagsTrackingConfiguration),"undefined"!==typeof t.evtStreamTrackingConfiguration&&(b.evtStreamTrackingConfiguration=t.evtStreamTrackingConfiguration),"undefined"!==typeof t.performanceContextConfig&&(b.performanceContextConfig=t.performanceContextConfig),"undefined"!==typeof t.configurationVersion&&
(b.configurationVersion=t.configurationVersion),"undefined"!==typeof t.catRcLastUpdatedTs&&(b.catRcLastUpdatedTs=t.catRcLastUpdatedTs),"undefined"!==typeof t.endpoint&&(b.endpoint=t.endpoint),"undefined"!==typeof t.controlIngestConfig&&(b.controlIngestConfig=t.controlIngestConfig),"undefined"!==typeof t.applicationContext&&(b.applicationContext=t.applicationContext),"undefined"!==typeof t.emitterConfiguration&&(b.emitterConfiguration=t.emitterConfiguration),"undefined"!==typeof t.di&&(b.di=t.di),
"undefined"!==typeof t.clickcc&&(b.clickcc=t.clickcc),"undefined"!==typeof t.collectionRateLimit&&(b.collectionRateLimit=t.collectionRateLimit),b.pageUrlTrackingConfig="undefined"!==typeof t.pageUrlTrackingConfig?t.pageUrlTrackingConfig:null,b.sessionReplayConfiguration="undefined"!==typeof t.sessionReplayConfiguration?t.sessionReplayConfiguration:null,b.valueProbes="undefined"!==typeof t.valueProbes?t.valueProbes:null,b.webVitals="undefined"!==typeof t.webVitals?t.webVitals:null)},getBase64Encoding:function(){return m},
setBase64Encoding:function(t){m=t},addPayloadDict:function(t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])},resetPayloadPairs:function(t){n=ej(t)?t:{}},setTrackerVersion:function(t){n.tv=t},setTrackerNamespace:function(t){n.tna=t},setAppId:function(t){n.aid=t},setPlatform:function(t){n.p=t},setUserId:function(t){n.uid=t},setConversationId:function(t){q=t},getConversationId:function(){return q},setScreenResolution:function(t,r){n.res=t+"x"+r},setViewport:function(t,r){n.vp=
t+"x"+r},setColorDepth:function(t){n.cd=t},setTimezone:function(t){n.tz=t},setLang:function(t){n.lang=t},setIpAddress:function(t){n.ip=t},setUseragent:function(t){n.ua=t},addGlobalContexts:function(t){p.addGlobalContexts(t)},clearGlobalContexts:function(){p.clearGlobalContexts()},removeGlobalContexts:function(t){p.removeGlobalContexts(t)}}}(null!==a&&void 0!==a?a:!0,d,b.callback);var e=W(W({},a),{addPlugin:function(f){var g,h;f=f.plugin;d.push(f);null===(g=f.logger)||void 0===g?void 0:g.call(f,va);
null===(h=f.activateCorePlugin)||void 0===h?void 0:h.call(f,e)}});null===d||void 0===d?void 0:d.forEach(function(f){var g,h;null===(g=f.logger)||void 0===g?void 0:g.call(f,va);null===(h=f.activateCorePlugin)||void 0===h?void 0:h.call(f,e)});return e}function Sc(b){var a=b.event;b=a.sc;var c=a.dt;a=Lg();b={sc:"sp/ue/1-0-0",dt:{sc:b,dt:c}};a.add("e","ue");a.addJson("ue_px","ue_pr",b);return a}function qc(b){return Sc({event:{sc:"cv/re/1-0-1",dt:Cd({name:b.name,data:b.data})}})}function Kn(b){return Sc({event:{sc:"cv/ve/1-0-6",
dt:Cd({name:b.name,sid:b.sid,iid:b.iid,clid:b.clid,st:b.st,sst:b.sst,an:b.an,cl:b.cl,lv:b.lv,pn:b.pn,vid:b.vid,fw:b.fw,fwv:b.fwv,mn:b.mn,mv:b.mv,url:b.url,tags:b.tags,cen:b.cen,ced:b.ced,oldsc:b.oldsc,newsc:b.newsc,err:b.err,br:b.br,ft:b.ft,avgbr:b.avgbr})}})}function Cd(b,a){void 0===a&&(a={});var c={},d;for(d in b)if(a[d]||null!==b[d]&&"undefined"!==typeof b[d])c[d]=b[d];return c}function Dd(b){for(var a=b.length;0<=--a;)b[a]=0}function Og(b,a,c,d,e){this.static_tree=b;this.extra_bits=a;this.extra_base=
c;this.elems=d;this.max_length=e;this.has_stree=b&&b.length}function Pg(b,a){this.dyn_tree=b;this.max_code=0;this.stat_desc=a}function Sb(b,a,c,d,e){this.good_length=b;this.max_lazy=a;this.nice_length=c;this.max_chain=d;this.func=e}function Ln(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=mf;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;
this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new Uint16Array(1146);this.dyn_dtree=new Uint16Array(122);this.bl_tree=new Uint16Array(78);rc(this.dyn_ltree);rc(this.dyn_dtree);rc(this.bl_tree);this.bl_desc=
this.d_desc=this.l_desc=null;this.bl_count=new Uint16Array(16);this.heap=new Uint16Array(573);rc(this.heap);this.heap_max=this.heap_len=0;this.depth=new Uint16Array(573);rc(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.sym_end=this.sym_next=this.lit_bufsize=this.sym_buf=0}function qe(b){b=this.options=nf.assign({level:Mn,method:Nn,chunkSize:16384,windowBits:15,memLevel:8,strategy:On},b||{});b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&
0<b.windowBits&&16>b.windowBits&&(b.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new oj;this.strm.avail_out=0;var a=re.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(a!==of)throw Error(Tc[a]);b.header&&re.deflateSetHeader(this.strm,b.header);if(b.dictionary){b="string"===typeof b.dictionary?se.string2buf(b.dictionary):"[object ArrayBuffer]"===pj.call(b.dictionary)?new Uint8Array(b.dictionary):b.dictionary;a=re.deflateSetDictionary(this.strm,
b);if(a!==of)throw Error(Tc[a]);this._dict_set=!0}}function Qg(b,a){a=new qe(a);a.push(b,!0);if(a.err)throw a.msg||Tc[a.err];return a.result}function Pn(){this.strm=null;this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=
0;this.next=null;this.lens=new Uint16Array(320);this.work=new Uint16Array(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function te(b){var a=this.options=nf.assign({chunkSize:65536,windowBits:15,to:""},b||{});a.raw&&0<=a.windowBits&&16>a.windowBits&&(a.windowBits=-a.windowBits,0===a.windowBits&&(a.windowBits=-15));!(0<=a.windowBits&&16>a.windowBits)||b&&b.windowBits||(a.windowBits+=32);15<a.windowBits&&48>a.windowBits&&0===(a.windowBits&15)&&(a.windowBits|=15);this.err=0;this.msg=
"";this.ended=!1;this.chunks=[];this.strm=new oj;this.strm.avail_out=0;b=cc.inflateInit2(this.strm,a.windowBits);if(b!==ue)throw Error(Tc[b]);this.header=new Qn;cc.inflateGetHeader(this.strm,this.header);if(a.dictionary&&("string"===typeof a.dictionary?a.dictionary=se.string2buf(a.dictionary):"[object ArrayBuffer]"===qj.call(a.dictionary)&&(a.dictionary=new Uint8Array(a.dictionary)),a.raw&&(b=cc.inflateSetDictionary(this.strm,a.dictionary),b!==ue)))throw Error(Tc[b]);}function Rg(b,a){a=new te(a);
a.push(b);if(a.err)throw a.msg||Tc[a.err];return a.result}function Sg(b){if(pf[b])return pf[b];var a=globalThis[b],c=a.prototype,d=b in rj?rj[b]:void 0;d=!(!d||!d.every(function(k){var l,p;return!(null==(p=null==(l=Object.getOwnPropertyDescriptor(c,k))?void 0:l.get)||!p.toString().includes("[native code]"))}));var e=b in sj?sj[b]:void 0;e=!(!e||!e.every(function(k){var l;return"function"===typeof c[k]&&(null==(l=c[k])?void 0:l.toString().includes("[native code]"))}));if(d&&e&&!globalThis.Zone)return pf[b]=
a.prototype;try{var f=document.createElement("iframe");document.body.appendChild(f);var g=f.contentWindow;if(!g)return a.prototype;var h=g[b].prototype;document.body.removeChild(f);return h?pf[b]=h:c}catch(k){return c}}function sc(b,a,c){var d,e="".concat(b,".").concat(String(c));if(Tg[e])return Tg[e].call(a);b=Sg(b);b=null==(d=Object.getOwnPropertyDescriptor(b,c))?void 0:d.get;if(!b)return a[c];Tg[e]=b;return b.call(a)}function tj(b,a,c){var d="".concat(b,".").concat(String(c));if(Ug[d])return Ug[d].bind(a);
b=Sg(b)[c];if("function"!==typeof b)return a[c];Ug[d]=b;return b.bind(a)}function ve(b){var a=b&&"host"in b&&"mode"in b&&tb.host(b)||null;return!!(a&&"shadowRoot"in a&&tb.shadowRoot(a)===b)}function we(b){return"[object ShadowRoot]"===Object.prototype.toString.call(b)}function Rn(b){b.includes(" background-clip: text;")&&!b.includes(" -webkit-background-clip: text;")&&(b=b.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;"));return b}function Vg(b){try{var a=
b.rules||b.cssRules;if(!a)return null;var c=b.href;!c&&b.ownerNode&&b.ownerNode.ownerDocument&&(c=b.ownerNode.ownerDocument.location.href);var d=Array.from(a,function(e){return uj(e,c)}).join("");return Rn(d)}catch(e){return null}}function uj(b,a){if("styleSheet"in b){try{var c;if(!(c=Vg(b.styleSheet))){var d=b.cssText;if(3>d.split('"').length)c=d;else{var e=["@import","url(".concat(JSON.stringify(b.href),")")];""===b.layerName?e.push("layer"):b.layerName&&e.push("layer(".concat(b.layerName,")"));
b.supportsText&&e.push("supports(".concat(b.supportsText,")"));b.media.length&&e.push(b.media.mediaText);c=e.join(" ")+";"}}var f=c}catch(g){f=b.cssText}return b.styleSheet.href?qf(f,b.styleSheet.href):f}f=b.cssText;"selectorText"in b&&b.selectorText.includes(":")&&(f=f.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2"));return a?qf(f,a):f}function Wg(b){var a=b.element,c=b.maskInputOptions,d=b.tagName,e=b.type,f=b.maskInputFn;b=b.value||"";e=e&&e.toLowerCase();if(c[d.toLowerCase()]||e&&c[e])b=
f?f(b,a):"*".repeat(b.length);return b}function Sn(b){var a=b.getContext("2d");if(!a)return!0;for(var c=0;c<b.width;c+=50)for(var d=0;d<b.height;d+=50){var e=a.getImageData;if((new Uint32Array(("__rrweb_original__"in e?e.__rrweb_original__:e).call(a,c,d,Math.min(50,b.width-c),Math.min(50,b.height-d)).data.buffer)).some(function(f){return 0!==f}))return!1}return!0}function Xg(b){var a=b.type;return b.hasAttribute("data-rr-is-password")?"password":a?a.toLowerCase():null}function vj(b,a){var c;try{var d=
new URL(b,null!==a&&void 0!==a?a:window.location.href)}catch(e){return null}b=d.pathname.match(/\.([0-9a-z]+)(?:$)/i);return null!==(c=null==b?void 0:b[1])&&void 0!==c?c:null}function qf(b,a){return(b||"").replace(Tn,function(c,d,e,f,g,h){e=e||g||h;d=d||f||"";if(!e)return c;if(Un.test(e)||Vn.test(e)||Wn.test(e))return"url(".concat(d).concat(e).concat(d,")");if("/"===e[0]){var k="url(".concat(d),l=k.concat;c=-1<a.indexOf("//")?a.split("/").slice(0,3).join("/"):a.split("/")[0];c=c.split("?")[0];return l.call(k,
c+e).concat(d,")")}c=a.split("/");e=e.split("/");c.pop();e=X(e);try{for(e.s();!(k=e.n()).done;)l=k.value,"."!==l&&(".."===l?c.pop():c.push(l))}catch(p){e.e(p)}finally{e.f()}return"url(".concat(d).concat(c.join("/")).concat(d,")")})}function rf(b){return 1<arguments.length&&void 0!==arguments[1]&&arguments[1]?b.replace(/(\/\*[^*]*\*\/)|[\s;]/g,""):b.replace(/(\/\*[^*]*\*\/)|[\s;]/g,"").replace(/0px/g,"0")}function Xn(b,a){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,d=Array.from(a.childNodes),
e=[],f=0;if(1<d.length&&b&&"string"===typeof b)for(var g=rf(b,c),h=g.length/b.length,k=1;k<d.length;k++)if(d[k].textContent&&"string"===typeof d[k].textContent){for(var l=rf(d[k].textContent,c),p=3;p<l.length&&(l[p].match(/[a-zA-Z0-9]/)||-1!==l.indexOf(l.substring(0,p),1));p++);for(;p<l.length;p++){var m=l.substring(0,p),n=g.split(m),q=-1;if(2===n.length)q=n[0].length;else if(2<n.length&&""===n[0]&&""!==d[k-1].textContent)q=g.indexOf(m,1);else if(1===n.length){m=m.substring(0,m.length-1);n=g.split(m);
if(1>=n.length)return e.push(b),e;p=101}else p===l.length-1&&(q=g.indexOf(m));if(2<=n.length&&100<p){var t=d[k-1].textContent;t&&"string"===typeof t&&(q=rf(t).length,q=g.indexOf(m,q));-1===q&&(q=n[0].length)}if(-1!==q){for(l=Math.floor(q/h);0<l&&l<b.length;){f++;if(f>50*d.length)return e.push(b),e;p=rf(b.substring(0,l),c);if(p.length===q){e.push(b.substring(0,l));b=b.substring(l);g=g.substring(q);break}else l=p.length<q?l+Math.max(1,Math.floor((q-p.length)/h)):l-Math.max(1,Math.floor((p.length-q)*
h))}break}}}e.push(b);return e}function Yn(){return wj++}function Zn(b){if(b instanceof HTMLFormElement)return"form";b=b.tagName.toLowerCase();return $n.test(b)?"div":b}function ao(b,a){function c(l){return(l=l.exec(a.substring(d)))?(l=l[0],d+=l.length,l):""}if(""===a.trim())return a;for(var d=0,e=[];;){c(bo);if(d>=a.length)break;var f=c(co);if(","===f.slice(-1))f=sf(b,f.substring(0,f.length-1)),e.push(f);else{var g="";f=sf(b,f);for(var h=!1;;){var k=a.charAt(d);if(""===k){e.push((f+g).trim());break}else if(h)")"===
k&&(h=!1);else if(","===k){d+=1;e.push((f+g).trim());break}else"("===k&&(h=!0);g+=k;d+=1}}}return e.join(", ")}function sf(b,a){return a&&""!==a.trim()?Yg(b,a):a}function Yg(b,a){var c=xj.get(b);c||(c=b.createElement("a"),xj.set(b,c));if(!a)a="";else if(a.startsWith("blob:")||a.startsWith("data:"))return a;c.setAttribute("href",a);return c.href}function yj(b,a,c,d){return d?"src"===c||"href"===c&&("use"!==a||"#"!==d[0])||"xlink:href"===c&&"#"!==d[0]||"background"===c&&("table"===a||"td"===a||"th"===
a)?sf(b,d):"srcset"===c?ao(b,d):"style"===c?qf(d,Yg(b)):"object"===a&&"data"===c?sf(b,d):d:d}function zj(b,a,c){return("video"===b||"audio"===b)&&"autoplay"===a}function eo(b,a,c){try{if("string"===typeof a){if(b.classList.contains(a))return!0}else for(var d=b.classList.length;d--;)if(a.test(b.classList[d]))return!0;if(c)return b.matches(c)}catch(e){}return!1}function tf(b,a,c){if(!b)return!1;if(b.nodeType!==b.ELEMENT_NODE)return c?tf(tb.parentNode(b),a,c):!1;for(var d=b.classList.length;d--;)if(a.test(b.classList[d]))return!0;
return c?tf(tb.parentNode(b),a,c):!1}function Aj(b,a,c,d){if(b.nodeType===b.ELEMENT_NODE){if(!tb.childNodes(b).length)return!1}else{if(null===tb.parentElement(b))return!1;b=tb.parentElement(b)}try{if("string"===typeof a)if(d){if(b.closest(".".concat(a)))return!0}else{if(b.classList.contains(a))return!0}else if(tf(b,a,d))return!0;if(c)if(d){if(b.closest(c))return!0}else if(b.matches(c))return!0}catch(e){}return!1}function fo(b,a,c){var d=b.contentWindow;if(d){var e=!1;try{var f=d.document.readyState}catch(h){return}if("complete"!==
f){var g=setTimeout(function(){e||(a(),e=!0)},c);b.addEventListener("load",function(){clearTimeout(g);e=!0;a()})}else{if("about:blank"!==d.location.href||"about:blank"===b.src||""===b.src)return setTimeout(a,0),b.addEventListener("load",a);b.addEventListener("load",a)}}}function go(b,a,c){var d=!1;try{var e=b.sheet}catch(g){return}if(!e){var f=setTimeout(function(){d||(a(),d=!0)},c);b.addEventListener("load",function(){clearTimeout(f);d=!0;a()})}}function ho(b,a){var c=a.doc,d=a.blockClass,e=a.blockSelector,
f=a.needsMask,g=a.inlineStylesheet,h=a.maskInputOptions,k=void 0===h?{}:h;h=a.maskTextFn;var l=a.maskInputFn,p=a.dataURLOptions,m=void 0===p?{}:p,n=a.inlineImages,q=a.recordCanvas,t=a.keepIframeSrcFn;p=a.newlyAddedElement;var r=void 0===p?!1:p;p=a.cssCaptured;p=void 0===p?!1:p;a=a.mirror;a.hasNode(c)?(a=a.getId(c),a=1===a?void 0:a):a=void 0;switch(b.nodeType){case b.DOCUMENT_NODE:return"CSS1Compat"!==b.compatMode?{type:jb.Document,childNodes:[],compatMode:b.compatMode}:{type:jb.Document,childNodes:[]};
case b.DOCUMENT_TYPE_NODE:return{type:jb.DocumentType,name:b.name,publicId:b.publicId,systemId:b.systemId,rootId:a};case b.ELEMENT_NODE:return io(b,{doc:c,blockClass:d,blockSelector:e,inlineStylesheet:g,maskInputOptions:k,maskInputFn:l,dataURLOptions:m,inlineImages:n,recordCanvas:q,keepIframeSrcFn:t,newlyAddedElement:r,rootId:a});case b.TEXT_NODE:return d=a,k=(e=tb.parentNode(b))&&e.tagName,e="",g="STYLE"===k?!0:void 0,(k="SCRIPT"===k?!0:void 0)?e="SCRIPT_PLACEHOLDER":p||(e=tb.textContent(b),g&&e&&
(e=qf(e,Yg(c)))),!g&&!k&&e&&f&&(e=h?h(e,tb.parentElement(b)):e.replace(/[\S]/g,"*")),{type:jb.Text,textContent:e||"",rootId:d};case b.CDATA_SECTION_NODE:return{type:jb.CDATA,textContent:"",rootId:a};case b.COMMENT_NODE:return{type:jb.Comment,textContent:tb.textContent(b)||"",rootId:a};default:return!1}}function io(b,a){var c=a.doc,d=a.inlineStylesheet,e=a.maskInputOptions,f=void 0===e?{}:e,g=a.maskInputFn;e=a.dataURLOptions;var h=void 0===e?{}:e,k=a.inlineImages,l=a.recordCanvas;e=a.keepIframeSrcFn;
var p=a.newlyAddedElement,m=void 0===p?!1:p;p=a.rootId;a=eo(b,a.blockClass,a.blockSelector);for(var n=Zn(b),q={},t=b.attributes.length,r=0;r<t;r++){var v=b.attributes[r];zj(n,v.name,v.value)||(q[v.name]=yj(c,n,v.name.toLowerCase(),v.value))}"link"===n&&d&&(d=Array.from(c.styleSheets).find(function(H){return H.href===b.href}),t=null,d&&(t=Vg(d)),t&&(delete q.rel,delete q.href,q._cssText=t));"style"===n&&b.sheet&&(d=Vg(b.sheet))&&(1<b.childNodes.length&&(d=Xn(d,b).join("/* rr_split */")),q._cssText=
d);if("input"===n||"textarea"===n||"select"===n)d=b.value,t=b.checked,"radio"!==q.type&&"checkbox"!==q.type&&"submit"!==q.type&&"button"!==q.type&&d?q.value=Wg({element:b,type:Xg(b),tagName:n,value:d,maskInputOptions:f,maskInputFn:g}):t&&(q.checked=t);"option"===n&&(b.selected&&!f.select?q.selected=!0:delete q.selected);"dialog"===n&&b.open&&(q.rr_open_mode=b.matches("dialog:modal")?"modal":"non-modal");"canvas"===n&&l&&("2d"===b.__context?Sn(b)||(q.rr_dataURL=b.toDataURL(h.type,h.quality)):"__context"in
b||(f=b.toDataURL(h.type,h.quality),g=c.createElement("canvas"),g.width=b.width,g.height=b.height,g=g.toDataURL(h.type,h.quality),f!==g&&(q.rr_dataURL=f)));if("img"===n&&k){Ed||(Ed=c.createElement("canvas"),Bj=Ed.getContext("2d"));var w=b.currentSrc||b.getAttribute("src")||"<unknown-src>",x=b.crossOrigin,C=function(){b.removeEventListener("load",C);try{Ed.width=b.naturalWidth,Ed.height=b.naturalHeight,Bj.drawImage(b,0,0),q.rr_dataURL=Ed.toDataURL(h.type,h.quality)}catch(H){if("anonymous"!==b.crossOrigin){b.crossOrigin=
"anonymous";b.complete&&0!==b.naturalWidth?C():b.addEventListener("load",C);return}console.warn("Cannot inline img src=".concat(w,"! Error: ").concat(H))}"anonymous"===b.crossOrigin&&(x?q.crossOrigin=x:b.removeAttribute("crossorigin"))};b.complete&&0!==b.naturalWidth?C():b.addEventListener("load",C)}if("audio"===n||"video"===n)c=q,c.rr_mediaState=b.paused?"paused":"played",c.rr_mediaCurrentTime=b.currentTime,c.rr_mediaPlaybackRate=b.playbackRate,c.rr_mediaMuted=b.muted,c.rr_mediaLoop=b.loop,c.rr_mediaVolume=
b.volume;m||(b.scrollLeft&&(q.rr_scrollLeft=b.scrollLeft),b.scrollTop&&(q.rr_scrollTop=b.scrollTop));a&&(c=b.getBoundingClientRect(),k=c.height,q={class:q.class,rr_width:"".concat(c.width,"px"),rr_height:"".concat(k,"px")});"iframe"!==n||e(q.src)||(b.contentDocument||(q.rr_src=q.src),delete q.src);var E;try{customElements.get(n)&&(E=!0)}catch(H){}return{type:jb.Element,tagName:n,attributes:q,childNodes:[],isSVG:!("svg"!==b.tagName&&!b.ownerSVGElement)||void 0,needBlock:a,rootId:p,isCustom:E}}function Na(b){return void 0===
b||null===b?"":b.toLowerCase()}function jo(b,a){return a.comment&&b.type===jb.Comment||b.type===jb.Element&&(a.script&&("script"===b.tagName||"link"===b.tagName&&("preload"===b.attributes.rel||"modulepreload"===b.attributes.rel)&&"script"===b.attributes.as||"link"===b.tagName&&"prefetch"===b.attributes.rel&&"string"===typeof b.attributes.href&&"js"===vj(b.attributes.href))||a.headFavicon&&("link"===b.tagName&&"shortcut icon"===b.attributes.rel||"meta"===b.tagName&&(Na(b.attributes.name).match(/^msapplication-tile(image|color)$/)||
"application-name"===Na(b.attributes.name)||"icon"===Na(b.attributes.rel)||"apple-touch-icon"===Na(b.attributes.rel)||"shortcut icon"===Na(b.attributes.rel)))||"meta"===b.tagName&&(a.headMetaDescKeywords&&Na(b.attributes.name).match(/^description|keywords$/)||a.headMetaSocial&&(Na(b.attributes.property).match(/^(og|twitter|fb):/)||Na(b.attributes.name).match(/^(og|twitter):/)||"pinterest"===Na(b.attributes.name))||a.headMetaRobots&&("robots"===Na(b.attributes.name)||"googlebot"===Na(b.attributes.name)||
"bingbot"===Na(b.attributes.name))||a.headMetaHttpEquiv&&void 0!==b.attributes["http-equiv"]||a.headMetaAuthorship&&("author"===Na(b.attributes.name)||"generator"===Na(b.attributes.name)||"framework"===Na(b.attributes.name)||"publisher"===Na(b.attributes.name)||"progid"===Na(b.attributes.name)||Na(b.attributes.property).match(/^article:/)||Na(b.attributes.property).match(/^product:/))||a.headMetaVerification&&("google-site-verification"===Na(b.attributes.name)||"yandex-verification"===Na(b.attributes.name)||
"csrf-token"===Na(b.attributes.name)||"p:domain_verify"===Na(b.attributes.name)||"verify-v1"===Na(b.attributes.name)||"verification"===Na(b.attributes.name)||"shopify-checkout-api-token"===Na(b.attributes.name))))?!0:!1}function Fd(b,a){var c=a.doc,d=a.mirror,e=a.blockClass,f=a.blockSelector,g=a.maskTextClass,h=a.maskTextSelector,k=a.skipChild;k=void 0===k?!1:k;var l=a.inlineStylesheet,p=void 0===l?!0:l;l=a.maskInputOptions;var m=void 0===l?{}:l,n=a.maskTextFn,q=a.maskInputFn,t=a.slimDOMOptions;l=
a.dataURLOptions;var r=void 0===l?{}:l;l=a.inlineImages;var v=void 0===l?!1:l;l=a.recordCanvas;var w=void 0===l?!1:l,x=a.onSerialize,C=a.onIframeLoad;l=a.iframeLoadTimeout;var E=void 0===l?5E3:l,H=a.onStylesheetLoad;l=a.stylesheetLoadTimeout;var D=void 0===l?5E3:l;l=a.keepIframeSrcFn;var B=void 0===l?function(){return!1}:l;l=a.newlyAddedElement;l=void 0===l?!1:l;var I=a.cssCaptured;I=void 0===I?!1:I;var L=a.needsMask;a=a.preserveWhiteSpace;var V=void 0===a?!0:a;L||(L=Aj(b,g,h,void 0===L));a=ho(b,
{doc:c,mirror:d,blockClass:e,blockSelector:f,needsMask:L,inlineStylesheet:p,maskInputOptions:m,maskTextFn:n,maskInputFn:q,dataURLOptions:r,inlineImages:v,recordCanvas:w,keepIframeSrcFn:B,newlyAddedElement:l,cssCaptured:I});if(!a)return console.warn(b,"not serialized"),null;l=d.hasNode(b)?d.getId(b):jo(a,t)||!V&&a.type===jb.Text&&!a.textContent.replace(/^\s+|\s+$/gm,"").length?-2:wj++;a=Object.assign(a,{id:l});d.add(b,a);if(-2===l)return null;x&&x(b);l=!k;a.type===jb.Element&&(l=l&&!a.needBlock,delete a.needBlock,
(I=tb.shadowRoot(b))&&we(I)&&(a.isShadowHost=!0));if((a.type===jb.Document||a.type===jb.Element)&&l){t.headWhitespace&&a.type===jb.Element&&"head"===a.tagName&&(V=!1);k={doc:c,mirror:d,blockClass:e,blockSelector:f,needsMask:L,maskTextClass:g,maskTextSelector:h,skipChild:k,inlineStylesheet:p,maskInputOptions:m,maskTextFn:n,maskInputFn:q,slimDOMOptions:t,dataURLOptions:r,inlineImages:v,recordCanvas:w,preserveWhiteSpace:V,onSerialize:x,onIframeLoad:C,iframeLoadTimeout:E,onStylesheetLoad:H,stylesheetLoadTimeout:D,
keepIframeSrcFn:B,cssCaptured:!1};if(a.type!==jb.Element||"textarea"!==a.tagName||void 0===a.attributes.value)for(a.type===jb.Element&&void 0!==a.attributes._cssText&&"string"===typeof a.attributes._cssText&&(k.cssCaptured=!0),l=0,I=Array.from(tb.childNodes(b));l<I.length;l++){var R=Fd(I[l],k);R&&a.childNodes.push(R)}l=null;if(b.nodeType===b.ELEMENT_NODE&&(l=tb.shadowRoot(b)))for(I=0,R=Array.from(tb.childNodes(l));I<R.length;I++){var U=Fd(R[I],k);U&&(we(l)&&(U.isShadow=!0),a.childNodes.push(U))}}(k=
tb.parentNode(b))&&ve(k)&&we(k)&&(a.isShadow=!0);a.type===jb.Element&&"iframe"===a.tagName&&fo(b,function(){var N=b.contentDocument;N&&C&&(N=Fd(N,{doc:N,mirror:d,blockClass:e,blockSelector:f,needsMask:L,maskTextClass:g,maskTextSelector:h,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskTextFn:n,maskInputFn:q,slimDOMOptions:t,dataURLOptions:r,inlineImages:v,recordCanvas:w,preserveWhiteSpace:V,onSerialize:x,onIframeLoad:C,iframeLoadTimeout:E,onStylesheetLoad:H,stylesheetLoadTimeout:D,keepIframeSrcFn:B}))&&
C(b,N)},E);a.type===jb.Element&&"link"===a.tagName&&"string"===typeof a.attributes.rel&&("stylesheet"===a.attributes.rel||"preload"===a.attributes.rel&&"string"===typeof a.attributes.href&&"css"===vj(a.attributes.href))&&go(b,function(){if(H){var N=Fd(b,{doc:c,mirror:d,blockClass:e,blockSelector:f,needsMask:L,maskTextClass:g,maskTextSelector:h,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskTextFn:n,maskInputFn:q,slimDOMOptions:t,dataURLOptions:r,inlineImages:v,recordCanvas:w,preserveWhiteSpace:V,
onSerialize:x,onIframeLoad:C,iframeLoadTimeout:E,onStylesheetLoad:H,stylesheetLoadTimeout:D,keepIframeSrcFn:B});N&&H(b,N)}},D);return a}function ko(b,a){a=a||{};var c=a.mirror;c=void 0===c?new Cj:c;var d=a.blockClass,e=a.blockSelector,f=a.maskTextClass,g=a.maskTextSelector,h=a.inlineStylesheet,k=a.inlineImages,l=a.recordCanvas,p=a.maskAllInputs;p=void 0===p?!1:p;var m=a.slimDOM;m=void 0===m?!1:m;var n=a.keepIframeSrcFn;return Fd(b,{doc:b,mirror:c,blockClass:void 0===d?"rr-block":d,blockSelector:void 0===
e?null:e,maskTextClass:void 0===f?"rr-mask":f,maskTextSelector:void 0===g?null:g,skipChild:!1,inlineStylesheet:void 0===h?!0:h,maskInputOptions:!0===p?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===p?{password:!0}:p,maskTextFn:a.maskTextFn,maskInputFn:a.maskInputFn,slimDOMOptions:!0===m||"all"===m?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===m,
headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===m?{}:m,dataURLOptions:a.dataURLOptions,inlineImages:void 0===k?!1:k,recordCanvas:void 0===l?!1:l,preserveWhiteSpace:a.preserveWhiteSpace,onSerialize:a.onSerialize,onIframeLoad:a.onIframeLoad,iframeLoadTimeout:a.iframeLoadTimeout,onStylesheetLoad:a.onStylesheetLoad,stylesheetLoadTimeout:a.stylesheetLoadTimeout,keepIframeSrcFn:void 0===n?function(){return!1}:n,newlyAddedElement:!1})}function lo(b){return b[0].toUpperCase()+
b.slice(1)}function Gd(b,a){(new mo(a)).stringify(b)}function Zg(b,a){var c=new b.constructor,d;for(d in b)if(Object.prototype.hasOwnProperty.call(b,d)&&"proxyCache"!==d){var e=b[d],f=T(e);"parent"===d&&"object"===f?a&&(c[d]=a):"source"===d?c[d]=e:Array.isArray(e)?c[d]=e.map(function(g){return Zg(g,c)}):("object"===f&&null!==e&&(e=Zg(e)),c[d]=e)}return c}function Dj(b){return b.map(function(a){a.nodes&&(a.nodes=Dj(a.nodes));delete a.source;return a})}function Ej(b){b[Fj]=!1;if(b.proxyOf.nodes){b=
X(b.proxyOf.nodes);var a;try{for(b.s();!(a=b.n()).done;)Ej(a.value)}catch(c){b.e(c)}finally{b.f()}}}function no(b){for(var a=b.length-1;0<=a;a--){var c=b[a];if(c=c[3]||c[2])return c}}function Hd(b,a){b=new oo(b,a);b=new po(b);try{b.parse()}catch(c){throw"CssSyntaxError"===c.name&&a&&a.from&&(/\.scss$/i.test(a.from)?c.message+="\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser":/\.sass/i.test(a.from)?c.message+="\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser":
/\.less$/i.test(a.from)&&(c.message+="\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser")),c;}return b.root}function xe(b){return"object"===T(b)&&"function"===typeof b.then}function Gj(b){var a=!1,c=qo[b.type];"decl"===b.type?a=b.prop.toLowerCase():"atrule"===b.type&&(a=b.name.toLowerCase());return a&&b.append?[c,c+"-"+a,0,c+"Exit",c+"Exit-"+a]:a?[c,c+"-"+a,c+"Exit",c+"Exit-"+a]:b.append?[c,0,c+"Exit"]:[c,c+"Exit"]}function Hj(b){return{eventIndex:0,events:"document"===
b.type?["Document",0,"DocumentExit"]:"root"===b.type?["Root",0,"RootExit"]:Gj(b),iterator:0,node:b,visitorIndex:0,visitors:[]}}function $g(b){b[Tb]=!1;b.nodes&&b.nodes.forEach(function(a){return $g(a)});return b}function ye(b,a){if(Array.isArray(b))return b.map(function(g){return ye(g)});var c=b.inputs,d=oe(b,ro);if(c){a=[];c=X(c);var e;try{for(c.s();!(e=c.n()).done;){var f=ra(ra({},e.value),{},{__proto__:so.prototype});f.map&&(f.map=ra(ra({},f.map),{},{__proto__:to.prototype}));a.push(f)}}catch(g){c.e(g)}finally{c.f()}}d.nodes&&
(d.nodes=b.nodes.map(function(g){return ye(g,a)}));d.source&&(f=d.source,e=f.inputId,f=oe(f,uo),d.source=f,null!=e&&(d.source.input=a[e]));if("root"===d.type)return new vo(d);if("decl"===d.type)return new wo(d);if("rule"===d.type)return new xo(d);if("comment"===d.type)return new yo(d);if("atrule"===d.type)return new zo(d);throw Error("Unknown node type: "+b.type);}function Ja(){for(var b=arguments.length,a=Array(b),c=0;c<b;c++)a[c]=arguments[c];1===a.length&&Array.isArray(a[0])&&(a=a[0]);return new ah(a)}
function Ao(b){return b[0].toUpperCase()+b.slice(1)}function Id(b,a){(new Bo(a)).stringify(b)}function bh(b,a){var c=new b.constructor,d;for(d in b)if(Object.prototype.hasOwnProperty.call(b,d)&&"proxyCache"!==d){var e=b[d],f=T(e);"parent"===d&&"object"===f?a&&(c[d]=a):"source"===d?c[d]=e:Array.isArray(e)?c[d]=e.map(function(g){return bh(g,c)}):("object"===f&&null!==e&&(e=bh(e)),c[d]=e)}return c}function Ij(b){return b.map(function(a){a.nodes&&(a.nodes=Ij(a.nodes));delete a.source;return a})}function Jj(b){b[Kj]=
!1;if(b.proxyOf.nodes){b=X(b.proxyOf.nodes);var a;try{for(b.s();!(a=b.n()).done;)Jj(a.value)}catch(c){b.e(c)}finally{b.f()}}}function Co(b){for(var a=b.length-1;0<=a;a--){var c=b[a];if(c=c[3]||c[2])return c}}function Jd(b,a){b=new Do(b,a);b=new Eo(b);try{b.parse()}catch(c){throw"CssSyntaxError"===c.name&&a&&a.from&&(/\.scss$/i.test(a.from)?c.message+="\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser":/\.sass/i.test(a.from)?c.message+="\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser":
/\.less$/i.test(a.from)&&(c.message+="\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser")),c;}return b.root}function ze(b){return"object"===T(b)&&"function"===typeof b.then}function Lj(b){var a=!1,c=Fo[b.type];"decl"===b.type?a=b.prop.toLowerCase():"atrule"===b.type&&(a=b.name.toLowerCase());return a&&b.append?[c,c+"-"+a,0,c+"Exit",c+"Exit-"+a]:a?[c,c+"-"+a,c+"Exit",c+"Exit-"+a]:b.append?[c,0,c+"Exit"]:[c,c+"Exit"]}function Mj(b){return{eventIndex:0,events:"document"===
b.type?["Document",0,"DocumentExit"]:"root"===b.type?["Root",0,"RootExit"]:Lj(b),iterator:0,node:b,visitorIndex:0,visitors:[]}}function ch(b){b[Ub]=!1;b.nodes&&b.nodes.forEach(function(a){return ch(a)});return b}function Ae(b,a){if(Array.isArray(b))return b.map(function(g){return Ae(g)});var c=b.inputs,d=oe(b,Go);if(c){a=[];c=X(c);var e;try{for(c.s();!(e=c.n()).done;){var f=ra(ra({},e.value),{},{__proto__:Ho.prototype});f.map&&(f.map=ra(ra({},f.map),{},{__proto__:Io.prototype}));a.push(f)}}catch(g){c.e(g)}finally{c.f()}}d.nodes&&
(d.nodes=b.nodes.map(function(g){return Ae(g,a)}));d.source&&(f=d.source,e=f.inputId,f=oe(f,Jo),d.source=f,null!=e&&(d.source.input=a[e]));if("root"===d.type)return new Ko(d);if("decl"===d.type)return new Lo(d);if("rule"===d.type)return new Mo(d);if("comment"===d.type)return new No(d);if("atrule"===d.type)return new Oo(d);throw Error("Unknown node type: "+b.type);}function Ka(){for(var b=arguments.length,a=Array(b),c=0;c<b;c++)a[c]=arguments[c];1===a.length&&Array.isArray(a[0])&&(a=a[0]);return new dh(a)}
function eh(b){if(uf[b])return uf[b];var a=globalThis[b],c=a.prototype,d=b in Nj?Nj[b]:void 0;d=!(!d||!d.every(function(k){var l,p;return!(null==(p=null==(l=Object.getOwnPropertyDescriptor(c,k))?void 0:l.get)||!p.toString().includes("[native code]"))}));var e=b in Oj?Oj[b]:void 0;e=!(!e||!e.every(function(k){var l;return"function"===typeof c[k]&&(null==(l=c[k])?void 0:l.toString().includes("[native code]"))}));if(d&&e&&!globalThis.Zone)return uf[b]=a.prototype;try{var f=document.createElement("iframe");
document.body.appendChild(f);var g=f.contentWindow;if(!g)return a.prototype;var h=g[b].prototype;document.body.removeChild(f);return h?uf[b]=h:c}catch(k){return c}}function tc(b,a,c){var d,e="".concat(b,".").concat(String(c));if(fh[e])return fh[e].call(a);b=eh(b);b=null==(d=Object.getOwnPropertyDescriptor(b,c))?void 0:d.get;if(!b)return a[c];fh[e]=b;return b.call(a)}function Pj(b,a,c){var d="".concat(b,".").concat(String(c));if(gh[d])return gh[d].bind(a);b=eh(b)[c];if("function"!==typeof b)return a[c];
gh[d]=b;return b.bind(a)}function Qj(){return eh("MutationObserver").constructor}function ub(b,a){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:document,d={capture:!0,passive:!0};c.addEventListener(b,a,d);return function(){return c.removeEventListener(b,a,d)}}function Be(b,a){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},d=null,e=0;return function(){for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];f=Date.now();e||!1!==c.leading||(e=f);h=a-(f-e);
var k=this;0>=h||h>a?(d&&(clearTimeout(d),d=null),e=f,b.apply(k,g)):d||!1===c.trailing||(d=setTimeout(function(){e=!1===c.leading?0:Date.now();d=null;b.apply(k,g)},h))}}function vf(b,a,c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:window,f=e.Object.getOwnPropertyDescriptor(b,a);e.Object.defineProperty(b,a,d?c:{set:function(g){var h=this;setTimeout(function(){c.set.call(h,g)},0);f&&f.set&&f.set.call(this,g)}});return function(){return vf(b,a,f||{},!0)}}function Kd(b,a,c){try{if(!(a in
b))return function(){};var d=b[a],e=c(d);"function"===typeof e&&(e.prototype=e.prototype||{},Object.defineProperties(e,{__rrweb_original__:{enumerable:!1,value:d}}));b[a]=e;return function(){b[a]=d}}catch(f){return function(){}}}function Rj(b){var a,c,d,e,f=b.document;return{left:f.scrollingElement?f.scrollingElement.scrollLeft:void 0!==b.pageXOffset?b.pageXOffset:f.documentElement.scrollLeft||(null==f?void 0:f.body)&&(null==(a=ya.parentElement(f.body))?void 0:a.scrollLeft)||(null==(c=null==f?void 0:
f.body)?void 0:c.scrollLeft)||0,top:f.scrollingElement?f.scrollingElement.scrollTop:void 0!==b.pageYOffset?b.pageYOffset:(null==f?void 0:f.documentElement.scrollTop)||(null==f?void 0:f.body)&&(null==(d=ya.parentElement(f.body))?void 0:d.scrollTop)||(null==(e=null==f?void 0:f.body)?void 0:e.scrollTop)||0}}function Sj(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Tj(){return window.innerWidth||document.documentElement&&
document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Uj(b){return b?b.nodeType===b.ELEMENT_NODE?b:ya.parentElement(b):null}function vb(b,a,c,d){if(!b)return!1;b=Uj(b);if(!b)return!1;try{if("string"===typeof a){if(b.classList.contains(a)||d&&null!==b.closest("."+a))return!0}else if(tf(b,a,d))return!0}catch(e){}return c&&(b.matches(c)||d&&null!==b.closest(c))?!0:!1}function hh(b,a,c){return"TITLE"===b.tagName&&c.headTitleMutations?!0:-2===a.getId(b)}function Vj(b,
a){if(ve(b))return!1;var c=a.getId(b);return a.has(c)?(c=ya.parentNode(b))&&c.nodeType===b.DOCUMENT_NODE?!1:c?Vj(c,a):!0:!0}function Po(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window;"NodeList"in b&&!b.NodeList.prototype.forEach&&(b.NodeList.prototype.forEach=Array.prototype.forEach);"DOMTokenList"in b&&!b.DOMTokenList.prototype.forEach&&(b.DOMTokenList.prototype.forEach=Array.prototype.forEach)}function Wj(b,a){return!("LINK"!==b.nodeName||b.nodeType!==b.ELEMENT_NODE||!b.getAttribute||
"stylesheet"!==b.getAttribute("rel")||!a.getMeta(b))}function ih(b){return b?b instanceof Qo&&"shadowRoot"in b?!!b.shadowRoot:!!ya.shadowRoot(b):!1}function Xj(b){var a,c=null;"getRootNode"in b&&(null==(a=ya.getRootNode(b))?void 0:a.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&ya.host(ya.getRootNode(b))&&(c=ya.host(ya.getRootNode(b)));return c}function Yj(b){var a=b.ownerDocument;if(!a)return!1;if(!(a=ya.contains(a,b)))if(a=b.ownerDocument){for(var c;c=Xj(b);)b=c;a=ya.contains(a,b)}else a=!1;return a}
function jh(b,a){b.delete(a);ya.childNodes(a).forEach(function(c){return jh(b,c)})}function Ro(b,a){for(var c=[b];c.length;)b=c.pop(),a.has(b)||(a.add(b),ya.childNodes(b).forEach(function(d){return c.push(d)}))}function Zj(b,a,c){if(0===b.size)return!1;b=(a=ya.parentNode(a))?b.has(a):!1;return b}function ak(b,a){return 0===b.size?!1:bk(b,a)}function bk(b,a){return(a=ya.parentNode(a))?b.has(a)?!0:bk(b,a):!1}function Ce(b){try{if("composedPath"in b){var a=b.composedPath();if(a.length)return a[0]}else if("path"in
b&&b.path.length)return b.path[0]}catch(c){}return b&&b.target}function ck(b,a){var c=new So;Uc.push(c);c.init(b);b=new (Qj())(Aa(c.processMutations.bind(c)));b.observe(a,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0});return b}function To(b){var a=b.mousemoveCb,c=b.sampling,d=b.doc,e=b.mirror;if(!1===c.mousemove)return function(){};b="number"===typeof c.mousemove?c.mousemove:50;c="number"===typeof c.mousemoveCallback?c.mousemoveCallback:500;
var f=[],g,h=Be(Aa(function(l){var p=Date.now()-g;a(f.map(function(m){m.timeOffset-=p;return m}),l);f=[];g=null}),c);c=Aa(Be(Aa(function(l){var p=Ce(l),m=l.changedTouches?l.changedTouches[0]:l,n=m.clientX;m=m.clientY;g||(g=wf());f.push({x:n,y:m,id:e.getId(p),timeOffset:wf()-g});h("undefined"!==typeof DragEvent&&l instanceof DragEvent?Ba.Drag:l instanceof MouseEvent?Ba.MouseMove:Ba.TouchMove)}),b,{trailing:!1}));var k=[ub("mousemove",c,d),ub("touchmove",c,d),ub("drag",c,d)];return Aa(function(){k.forEach(function(l){return l()})})}
function Uo(b){var a=b.mouseInteractionCb,c=b.doc,d=b.mirror,e=b.blockClass,f=b.blockSelector;b=b.sampling;if(!1===b.mouseInteraction)return function(){};var g=!0===b.mouseInteraction||void 0===b.mouseInteraction?{}:b.mouseInteraction,h=[],k=null,l=function(p){return function(m){var n=Ce(m);if(!vb(n,e,f,!0)){var q=null,t=p;if("pointerType"in m){switch(m.pointerType){case "mouse":q=uc.Mouse;break;case "touch":q=uc.Touch;break;case "pen":q=uc.Pen}q===uc.Touch&&(xb[p]===xb.MouseDown?t="TouchStart":xb[p]===
xb.MouseUp&&(t="TouchEnd"))}else m.changedTouches&&(q=uc.Touch);if(null!==q){if(k=q,t.startsWith("Touch")&&q===uc.Touch||t.startsWith("Mouse")&&q===uc.Mouse)q=null}else xb[p]===xb.Click&&(q=k,k=null);if(m=m.changedTouches?m.changedTouches[0]:m){n=d.getId(n);var r=m.clientX;m=m.clientY;Aa(a)(ra({type:xb[t],id:n,x:r,y:m},null!==q&&{pointerType:q}))}}}};Object.keys(xb).filter(function(p){return Number.isNaN(Number(p))&&!p.endsWith("_Departed")&&!1!==g[p]}).forEach(function(p){var m=p.toLowerCase(),n=
l(p);if(window.PointerEvent)switch(xb[p]){case xb.MouseDown:case xb.MouseUp:m=m.replace("mouse","pointer");break;case xb.TouchStart:case xb.TouchEnd:return}h.push(ub(m,n,c))});return Aa(function(){h.forEach(function(p){return p()})})}function dk(b){var a=b.scrollCb,c=b.doc,d=b.mirror,e=b.blockClass,f=b.blockSelector;b=b.sampling;b=Aa(Be(Aa(function(g){var h=Ce(g);h&&!vb(h,e,f,!0)&&(g=d.getId(h),h===c&&c.defaultView?(h=Rj(c.defaultView),a({id:g,x:h.left,y:h.top})):a({id:g,x:h.scrollLeft,y:h.scrollTop}))}),
b.scroll||100));return ub("scroll",b,c)}function Vo(b,a){var c=b.viewportResizeCb;b=a.win;var d=-1,e=-1;a=Aa(Be(Aa(function(){var f=Sj(),g=Tj();if(d!==f||e!==g)c({width:Number(g),height:Number(f)}),d=f,e=g}),200));return ub("resize",a,b)}function Wo(b){function a(v){var w=Ce(v),x=v.isTrusted,C=w&&w.tagName;w&&"OPTION"===C&&(w=ya.parentElement(w));if(!(!w||!C||0>Xo.indexOf(C)||vb(w,g,h,!0)||w.classList.contains(k)||l&&w.matches(l))){var E=w.value,H=!1;v=Xg(w)||"";if("radio"===v||"checkbox"===v)H=w.checked;
else if(p[C.toLowerCase()]||p[v])E=Wg({element:w,maskInputOptions:p,tagName:C,type:v,value:E,maskInputFn:m});c(w,n?{text:E,isChecked:H,userTriggered:x}:{text:E,isChecked:H});x=w.name;"radio"===v&&x&&H&&e.querySelectorAll('input[type="radio"][name="'.concat(x,'"]')).forEach(function(D){if(D!==w){var B=D.value;c(D,n?{text:B,isChecked:!H,userTriggered:!1}:{text:B,isChecked:!H})}})}}function c(v,w){var x=ek.get(v);x&&x.text===w.text&&x.isChecked===w.isChecked||(ek.set(v,w),v=f.getId(v),Aa(d)(ra(ra({},
w),{},{id:v})))}var d=b.inputCb,e=b.doc,f=b.mirror,g=b.blockClass,h=b.blockSelector,k=b.ignoreClass,l=b.ignoreSelector,p=b.maskInputOptions,m=b.maskInputFn,n=b.userTriggeredOnInput,q=("last"===b.sampling.input?["change"]:["input","change"]).map(function(v){return ub(v,Aa(a),e)}),t=e.defaultView;if(!t)return function(){q.forEach(function(v){return v()})};b=t.Object.getOwnPropertyDescriptor(t.HTMLInputElement.prototype,"value");var r=[[t.HTMLInputElement.prototype,"value"],[t.HTMLInputElement.prototype,
"checked"],[t.HTMLSelectElement.prototype,"value"],[t.HTMLTextAreaElement.prototype,"value"],[t.HTMLSelectElement.prototype,"selectedIndex"],[t.HTMLOptionElement.prototype,"selected"]];b&&b.set&&q.push.apply(q,Rb(r.map(function(v){return vf(v[0],v[1],{set:function(){Aa(a)({target:this,isTrusted:!1})}},!1,t)})));return Aa(function(){q.forEach(function(v){return v()})})}function xf(b){var a=[];yf("CSSGroupingRule")&&b.parentRule instanceof CSSGroupingRule||yf("CSSMediaRule")&&b.parentRule instanceof
CSSMediaRule||yf("CSSSupportsRule")&&b.parentRule instanceof CSSSupportsRule||yf("CSSConditionRule")&&b.parentRule instanceof CSSConditionRule?(b=Array.from(b.parentRule.cssRules).indexOf(b),a.unshift(b)):b.parentStyleSheet&&(b=Array.from(b.parentStyleSheet.cssRules).indexOf(b),a.unshift(b));return a}function vc(b,a,c){var d,e;if(!b)return{};b.ownerNode?d=a.getId(b.ownerNode):e=c.getId(b);return{styleId:e,id:d}}function Yo(b,a){var c=b.styleSheetRuleCb,d=b.mirror,e=b.stylesheetManager,f=a.win;if(!f.CSSStyleSheet||
!f.CSSStyleSheet.prototype)return function(){};var g=f.CSSStyleSheet.prototype.insertRule;f.CSSStyleSheet.prototype.insertRule=new Proxy(g,{apply:Aa(function(n,q,t){var r=eb(t,2),v=r[0];r=r[1];var w=vc(q,d,e.styleMirror),x=w.id;w=w.styleId;(x&&-1!==x||w&&-1!==w)&&c({id:x,styleId:w,adds:[{rule:v,index:r}]});return n.apply(q,t)})});f.CSSStyleSheet.prototype.addRule=function(n,q){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.cssRules.length,r="".concat(n," { ").concat(q," }");return f.CSSStyleSheet.prototype.insertRule.apply(this,
[r,t])};var h=f.CSSStyleSheet.prototype.deleteRule;f.CSSStyleSheet.prototype.deleteRule=new Proxy(h,{apply:Aa(function(n,q,t){var r=eb(t,1)[0],v=vc(q,d,e.styleMirror),w=v.id;v=v.styleId;(w&&-1!==w||v&&-1!==v)&&c({id:w,styleId:v,removes:[{index:r}]});return n.apply(q,t)})});f.CSSStyleSheet.prototype.removeRule=function(n){return f.CSSStyleSheet.prototype.deleteRule.apply(this,[n])};if(f.CSSStyleSheet.prototype.replace){var k=f.CSSStyleSheet.prototype.replace;f.CSSStyleSheet.prototype.replace=new Proxy(k,
{apply:Aa(function(n,q,t){var r=eb(t,1)[0],v=vc(q,d,e.styleMirror),w=v.id;v=v.styleId;(w&&-1!==w||v&&-1!==v)&&c({id:w,styleId:v,replace:r});return n.apply(q,t)})})}if(f.CSSStyleSheet.prototype.replaceSync){var l=f.CSSStyleSheet.prototype.replaceSync;f.CSSStyleSheet.prototype.replaceSync=new Proxy(l,{apply:Aa(function(n,q,t){var r=eb(t,1)[0],v=vc(q,d,e.styleMirror),w=v.id;v=v.styleId;(w&&-1!==w||v&&-1!==v)&&c({id:w,styleId:v,replaceSync:r});return n.apply(q,t)})})}var p={};zf("CSSGroupingRule")?p.CSSGroupingRule=
f.CSSGroupingRule:(zf("CSSMediaRule")&&(p.CSSMediaRule=f.CSSMediaRule),zf("CSSConditionRule")&&(p.CSSConditionRule=f.CSSConditionRule),zf("CSSSupportsRule")&&(p.CSSSupportsRule=f.CSSSupportsRule));var m={};Object.entries(p).forEach(function(n){var q=eb(n,2);n=q[0];q=q[1];m[n]={insertRule:q.prototype.insertRule,deleteRule:q.prototype.deleteRule};q.prototype.insertRule=new Proxy(m[n].insertRule,{apply:Aa(function(t,r,v){var w=eb(v,2),x=w[0];w=w[1];var C=vc(r.parentStyleSheet,d,e.styleMirror),E=C.id;
C=C.styleId;(E&&-1!==E||C&&-1!==C)&&c({id:E,styleId:C,adds:[{rule:x,index:[].concat(Rb(xf(r)),[w||0])}]});return t.apply(r,v)})});q.prototype.deleteRule=new Proxy(m[n].deleteRule,{apply:Aa(function(t,r,v){var w=eb(v,1)[0],x=vc(r.parentStyleSheet,d,e.styleMirror),C=x.id;x=x.styleId;(C&&-1!==C||x&&-1!==x)&&c({id:C,styleId:x,removes:[{index:[].concat(Rb(xf(r)),[w])}]});return t.apply(r,v)})})});return Aa(function(){f.CSSStyleSheet.prototype.insertRule=g;f.CSSStyleSheet.prototype.deleteRule=h;k&&(f.CSSStyleSheet.prototype.replace=
k);l&&(f.CSSStyleSheet.prototype.replaceSync=l);Object.entries(p).forEach(function(n){var q=eb(n,2);n=q[0];q=q[1];q.prototype.insertRule=m[n].insertRule;q.prototype.deleteRule=m[n].deleteRule})})}function fk(b,a){var c=b.mirror,d=b.stylesheetManager,e,f,g,h=null;h="#document"===a.nodeName?c.getId(a):c.getId(ya.host(a));b="#document"===a.nodeName?null==(e=a.defaultView)?void 0:e.Document:null==(g=null==(f=a.ownerDocument)?void 0:f.defaultView)?void 0:g.ShadowRoot;var k=(null==b?0:b.prototype)?Object.getOwnPropertyDescriptor(null==
b?void 0:b.prototype,"adoptedStyleSheets"):void 0;if(null===h||-1===h||!b||!k)return function(){};Object.defineProperty(a,"adoptedStyleSheets",{configurable:k.configurable,enumerable:k.enumerable,get:function(){var l;return null==(l=k.get)?void 0:l.call(this)},set:function(l){var p,m=null==(p=k.set)?void 0:p.call(this,l);if(null!==h&&-1!==h)try{d.adoptStyleSheets(l,h)}catch(n){}return m}});return Aa(function(){Object.defineProperty(a,"adoptedStyleSheets",{configurable:k.configurable,enumerable:k.enumerable,
get:k.get,set:k.set})})}function Zo(b,a){var c=b.styleDeclarationCb,d=b.mirror,e=b.ignoreCSSAttributes,f=b.stylesheetManager,g=a.win,h=g.CSSStyleDeclaration.prototype.setProperty;g.CSSStyleDeclaration.prototype.setProperty=new Proxy(h,{apply:Aa(function(l,p,m){var n,q=eb(m,3),t=q[0],r=q[1];q=q[2];if(e.has(t))return h.apply(p,[t,r,q]);var v=vc(null==(n=p.parentRule)?void 0:n.parentStyleSheet,d,f.styleMirror);n=v.id;v=v.styleId;(n&&-1!==n||v&&-1!==v)&&c({id:n,styleId:v,set:{property:t,value:r,priority:q},
index:xf(p.parentRule)});return l.apply(p,m)})});var k=g.CSSStyleDeclaration.prototype.removeProperty;g.CSSStyleDeclaration.prototype.removeProperty=new Proxy(k,{apply:Aa(function(l,p,m){var n,q=eb(m,1)[0];if(e.has(q))return k.apply(p,[q]);var t=vc(null==(n=p.parentRule)?void 0:n.parentStyleSheet,d,f.styleMirror);n=t.id;t=t.styleId;(n&&-1!==n||t&&-1!==t)&&c({id:n,styleId:t,remove:{property:q},index:xf(p.parentRule)});return l.apply(p,m)})});return Aa(function(){g.CSSStyleDeclaration.prototype.setProperty=
h;g.CSSStyleDeclaration.prototype.removeProperty=k})}function $o(b){var a=b.mediaInteractionCb,c=b.blockClass,d=b.blockSelector,e=b.mirror,f=b.sampling;b=b.doc;var g=Aa(function(k){return Be(Aa(function(l){if((l=Ce(l))&&!vb(l,c,d,!0)){var p=l.currentTime,m=l.volume,n=l.muted,q=l.playbackRate,t=l.loop;a({type:k,id:e.getId(l),currentTime:p,volume:m,muted:n,playbackRate:q,loop:t})}}),f.media||500)}),h=[ub("play",g(Ld.Play),b),ub("pause",g(Ld.Pause),b),ub("seeked",g(Ld.Seeked),b),ub("volumechange",g(Ld.VolumeChange),
b),ub("ratechange",g(Ld.RateChange),b)];return Aa(function(){h.forEach(function(k){return k()})})}function ap(b){var a=b.fontCb;b=b.doc;var c=b.defaultView;if(!c)return function(){};var d=[],e=new WeakMap,f=c.FontFace;c.FontFace=function(g,h,k){var l=new f(g,h,k);e.set(l,{family:g,buffer:"string"!==typeof h,descriptors:k,fontSource:"string"===typeof h?h:JSON.stringify(Array.from(new Uint8Array(h)))});return l};b=Kd(b.fonts,"add",function(g){return function(h){setTimeout(Aa(function(){var k=e.get(h);
k&&(a(k),e.delete(h))}),0);return g.apply(this,[h])}});d.push(function(){c.FontFace=f});d.push(b);return Aa(function(){d.forEach(function(g){return g()})})}function bp(b){var a=b.doc,c=b.mirror,d=b.blockClass,e=b.blockSelector,f=b.selectionCb,g=!0;b=Aa(function(){var h=a.getSelection();if(h&&!(g&&(null==h?0:h.isCollapsed))){g=h.isCollapsed||!1;for(var k=[],l=h.rangeCount||0,p=0;p<l;p++){var m=h.getRangeAt(p),n=m.startContainer,q=m.startOffset,t=m.endContainer;m=m.endOffset;vb(n,d,e,!0)||vb(t,d,e,
!0)||k.push({start:c.getId(n),startOffset:q,end:c.getId(t),endOffset:m})}f({ranges:k})}});b();return ub("selectionchange",b)}function cp(b){var a=b.customElementCb;return(b=b.doc.defaultView)&&b.customElements?Kd(b.customElements,"define",function(c){return function(d,e,f){try{a({define:{name:d}})}catch(g){console.warn("Custom element callback failed for ".concat(d))}return c.apply(this,[d,e,f])}}):function(){}}function dp(b,a){var c=b.mutationCb,d=b.mousemoveCb,e=b.mouseInteractionCb,f=b.scrollCb,
g=b.viewportResizeCb,h=b.inputCb,k=b.mediaInteractionCb,l=b.styleSheetRuleCb,p=b.styleDeclarationCb,m=b.canvasMutationCb,n=b.fontCb,q=b.selectionCb,t=b.customElementCb;b.mutationCb=function(){a.mutation&&a.mutation.apply(a,arguments);c.apply(void 0,arguments)};b.mousemoveCb=function(){a.mousemove&&a.mousemove.apply(a,arguments);d.apply(void 0,arguments)};b.mouseInteractionCb=function(){a.mouseInteraction&&a.mouseInteraction.apply(a,arguments);e.apply(void 0,arguments)};b.scrollCb=function(){a.scroll&&
a.scroll.apply(a,arguments);f.apply(void 0,arguments)};b.viewportResizeCb=function(){a.viewportResize&&a.viewportResize.apply(a,arguments);g.apply(void 0,arguments)};b.inputCb=function(){a.input&&a.input.apply(a,arguments);h.apply(void 0,arguments)};b.mediaInteractionCb=function(){a.mediaInteaction&&a.mediaInteaction.apply(a,arguments);k.apply(void 0,arguments)};b.styleSheetRuleCb=function(){a.styleSheetRule&&a.styleSheetRule.apply(a,arguments);l.apply(void 0,arguments)};b.styleDeclarationCb=function(){a.styleDeclaration&&
a.styleDeclaration.apply(a,arguments);p.apply(void 0,arguments)};b.canvasMutationCb=function(){a.canvasMutation&&a.canvasMutation.apply(a,arguments);m.apply(void 0,arguments)};b.fontCb=function(){a.font&&a.font.apply(a,arguments);n.apply(void 0,arguments)};b.selectionCb=function(){a.selection&&a.selection.apply(a,arguments);q.apply(void 0,arguments)};b.customElementCb=function(){a.customElement&&a.customElement.apply(a,arguments);t.apply(void 0,arguments)}}function ep(b){var a=b.doc.defaultView;if(!a)return function(){};
dp(b,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});var c;b.recordDOM&&(c=ck(b,b.doc));var d=To(b),e=Uo(b),f=dk(b),g=Vo(b,{win:a}),h=Wo(b),k=$o(b),l=function(){},p=function(){},m=function(){},n=function(){};b.recordDOM&&(l=Yo(b,{win:a}),p=fk(b,b.doc),m=Zo(b,{win:a}),b.collectFonts&&(n=ap(b)));var q=bp(b),t=cp(b),r=[],v=X(b.plugins),w;try{for(v.s();!(w=v.n()).done;){var x=w.value;r.push(x.observer(x.callback,a,x.options))}}catch(C){v.e(C)}finally{v.f()}return Aa(function(){Uc.forEach(function(C){return C.reset()});
null==c?void 0:c.disconnect();d();e();f();g();h();k();l();p();m();n();q();t();r.forEach(function(C){return C()})})}function yf(b){return"undefined"!==typeof window[b]}function zf(b){return!!("undefined"!==typeof window[b]&&window[b].prototype&&"insertRule"in window[b].prototype&&"deleteRule"in window[b].prototype)}function Af(b,a,c){if(b instanceof Array)return b.map(function(e){return Af(e,a,c)});if(null!==b){if(b instanceof Float32Array||b instanceof Float64Array||b instanceof Int32Array||b instanceof
Uint32Array||b instanceof Uint8Array||b instanceof Uint16Array||b instanceof Int16Array||b instanceof Int8Array||b instanceof Uint8ClampedArray)return{rr_type:b.constructor.name,args:[Object.values(b)]};if(b instanceof ArrayBuffer){var d=b.constructor.name;b=fp(b);return{rr_type:d,base64:b}}if(b instanceof DataView)return{rr_type:b.constructor.name,args:[Af(b.buffer,a,c),b.byteOffset,b.byteLength]};if(b instanceof HTMLImageElement)return{rr_type:b.constructor.name,src:b.src};if(b instanceof HTMLCanvasElement)return{rr_type:"HTMLImageElement",
src:b.toDataURL()};if(b instanceof ImageData)return{rr_type:b.constructor.name,args:[Af(b.data,a,c),b.width,b.height]};if(gk(b,a)||"object"===T(b))return d=b.constructor.name,b=hk(b,a,c),{rr_type:d,index:b}}return b}function gp(b,a,c,d){var e=[],f=Object.getOwnPropertyNames(a.CanvasRenderingContext2D.prototype);f=X(f);var g;try{var h=function(){var k=g.value;try{if("function"!==typeof a.CanvasRenderingContext2D.prototype[k])return 1;var l=Kd(a.CanvasRenderingContext2D.prototype,k,function(p){return function(){for(var m=
this,n=arguments.length,q=Array(n),t=0;t<n;t++)q[t]=arguments[t];vb(this.canvas,c,d,!0)||setTimeout(function(){var r=ik(q,a,m);b(m.canvas,{type:Md["2D"],property:k,args:r})},0);return p.apply(this,q)}});e.push(l)}catch(p){l=vf(a.CanvasRenderingContext2D.prototype,k,{set:function(m){b(this.canvas,{type:Md["2D"],property:k,args:[m],setter:!0})}}),e.push(l)}};for(f.s();!(g=f.n()).done;)h()}catch(k){f.e(k)}finally{f.f()}return function(){e.forEach(function(k){return k()})}}function jk(b,a,c,d){var e=
[];try{var f=Kd(b.HTMLCanvasElement.prototype,"getContext",function(g){return function(h){for(var k=arguments.length,l=Array(1<k?k-1:0),p=1;p<k;p++)l[p-1]=arguments[p];vb(this,a,c,!0)||(k="experimental-webgl"===h?"webgl":h,"__context"in this||(this.__context=k),d&&["webgl","webgl2"].includes(k)&&(l[0]&&"object"===T(l[0])?(k=l[0],k.preserveDrawingBuffer||(k.preserveDrawingBuffer=!0)):l.splice(0,1,{preserveDrawingBuffer:!0})));return g.apply(this,[h].concat(l))}});e.push(f)}catch(g){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return function(){e.forEach(function(g){return g()})}}
function kk(b,a,c,d,e,f){var g=[],h=Object.getOwnPropertyNames(b);h=X(h);var k;try{var l=function(){var p=k.value;if(["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(p))return 0;try{if("function"!==typeof b[p])return 0;var m=Kd(b,p,function(n){return function(){for(var q=arguments.length,t=Array(q),r=0;r<q;r++)t[r]=arguments[r];q=n.apply(this,t);hk(q,f,this);"tagName"in this.canvas&&!vb(this.canvas,d,e,!0)&&(t=ik(t,f,this),c(this.canvas,{type:a,property:p,args:t}));return q}});
g.push(m)}catch(n){m=vf(b,p,{set:function(q){c(this.canvas,{type:a,property:p,args:[q],setter:!0})}}),g.push(m)}};for(h.s();!(k=h.n()).done;)l()}catch(p){h.e(p)}finally{h.f()}return g}function hp(b,a,c,d){var e=[];e.push.apply(e,Rb(kk(a.WebGLRenderingContext.prototype,Md.WebGL,b,c,d,a)));"undefined"!==typeof a.WebGL2RenderingContext&&e.push.apply(e,Rb(kk(a.WebGL2RenderingContext.prototype,Md.WebGL2,b,c,d,a)));return function(){e.forEach(function(f){return f()})}}function ip(b){try{var a=lk&&(window.URL||
window.webkitURL).createObjectURL(lk);if(!a)throw"";var c=new Worker(a,{name:null==b?void 0:b.name});c.addEventListener("error",function(){(window.URL||window.webkitURL).revokeObjectURL(a)});return c}catch(d){return new Worker("data:text/javascript;base64,KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",
{name:null==b?void 0:b.name})}finally{a&&(window.URL||window.webkitURL).revokeObjectURL(a)}}function wc(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=b.emit,c=b.checkoutEveryNms,d=b.checkoutEveryNth,e=b.blockClass,f=void 0===e?"rr-block":e;e=b.blockSelector;var g=void 0===e?null:e;e=b.ignoreClass;var h=void 0===e?"rr-ignore":e;e=b.ignoreSelector;var k=void 0===e?null:e;e=b.maskTextClass;var l=void 0===e?"rr-mask":e;e=b.maskTextSelector;var p=void 0===e?null:e;e=b.inlineStylesheet;
var m=void 0===e?!0:e;e=b.maskAllInputs;var n=b.maskInputOptions,q=b.slimDOMOptions,t=b.maskInputFn,r=b.maskTextFn,v=b.hooks,w=b.packFn,x=b.sampling,C=void 0===x?{}:x;x=b.dataURLOptions;var E=void 0===x?{}:x;x=b.mousemoveWait;var H=b.recordDOM,D=void 0===H?!0:H;H=b.recordCanvas;var B=void 0===H?!1:H;H=b.recordCrossOriginIframes;H=void 0===H?!1:H;var I=b.recordAfter,L=void 0===I?"DOMContentLoaded"===b.recordAfter?b.recordAfter:"load":I;I=b.userTriggeredOnInput;var V=void 0===I?!1:I;I=b.collectFonts;
var R=void 0===I?!1:I;I=b.inlineImages;var U=void 0===I?!1:I,N=b.plugins;I=b.keepIframeSrcFn;var y=void 0===I?function(){return!1}:I;I=b.ignoreCSSAttributes;var F=void 0===I?new Set([]):I;De=b.errorHandler;var A=H?window.parent===window:!0,O=!1;if(!A)try{window.parent.document&&(O=!1)}catch(ma){O=!0}if(A&&!a)throw Error("emit function is required");if(!A&&!O)return function(){};void 0!==x&&void 0===C.mousemove&&(C.mousemove=x);Mb.reset();var K=!0===e?{color:!0,date:!0,"datetime-local":!0,email:!0,
month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==n?n:{password:!0},ca=!0===q||"all"===q?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===q,headMetaDescKeywords:"all"===q,headTitleMutations:"all"===q}:q?q:{};Po();var ea,ba=0,ta=function(ma){var Pa=X(N||[]),ia;try{for(Pa.s();!(ia=Pa.n()).done;){var fb=ia.value;fb.eventProcessor&&
(ma=fb.eventProcessor(ma))}}catch(dc){Pa.e(dc)}finally{Pa.f()}w&&!O&&(ma=w(ma));return ma};ab=function(ma,Pa){var ia;ma.timestamp=wf();(null==(ia=Uc[0])?0:ia.isFrozen())&&ma.type!==Ha.FullSnapshot&&(ma.type!==Ha.IncrementalSnapshot||ma.data.source!==Ba.Mutation)&&Uc.forEach(function(fb){return fb.unfreeze()});A?null==a?void 0:a(ta(ma),Pa):O&&(Pa={type:"rrweb",event:ta(ma),origin:window.location.origin,isCheckout:Pa},window.parent.postMessage(Pa,"*"));ma.type===Ha.FullSnapshot?(ea=ma,ba=0):ma.type!==
Ha.IncrementalSnapshot||ma.data.source===Ba.Mutation&&ma.data.isAttachIframe||(ba++,ma=c&&ma.timestamp-ea.timestamp>c,(d&&ba>=d||ma)&&Bf(!0))};var P=function(ma){ab({type:Ha.IncrementalSnapshot,data:ra({source:Ba.Mutation},ma)})},wa=function(ma){return ab({type:Ha.IncrementalSnapshot,data:ra({source:Ba.Scroll},ma)})},Q=function(ma){return ab({type:Ha.IncrementalSnapshot,data:ra({source:Ba.CanvasMutation},ma)})},Y=new jp({mutationCb:P,adoptedStyleSheetCb:function(ma){return ab({type:Ha.IncrementalSnapshot,
data:ra({source:Ba.AdoptedStyleSheet},ma)})}}),ka=new kp({mirror:Mb,mutationCb:P,stylesheetManager:Y,recordCrossOriginIframes:H,wrappedEmit:ab});b=X(N||[]);var la;try{for(b.s();!(la=b.n()).done;){var pa=la.value;pa.getMirror&&pa.getMirror({nodeMirror:Mb,crossOriginIframeMirror:ka.crossOriginIframeMirror,crossOriginIframeStyleMirror:ka.crossOriginIframeStyleMirror})}}catch(ma){b.e(ma)}finally{b.f()}var Ea=new lp;kh=new mp({recordCanvas:B,mutationCb:Q,win:window,blockClass:f,blockSelector:g,mirror:Mb,
sampling:C.canvas,dataURLOptions:E});var Sa=new np({mutationCb:P,scrollCb:wa,bypassOptions:{blockClass:f,blockSelector:g,maskTextClass:l,maskTextSelector:p,inlineStylesheet:m,maskInputOptions:K,dataURLOptions:E,maskTextFn:r,maskInputFn:t,recordCanvas:B,inlineImages:U,sampling:C,slimDOMOptions:ca,iframeManager:ka,stylesheetManager:Y,canvasManager:kh,keepIframeSrcFn:y,processedNodeManager:Ea},mirror:Mb});Bf=function(){var ma=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(D){ab({type:Ha.Meta,
data:{href:window.location.href,width:Tj(),height:Sj()}},ma);Y.reset();Sa.init();Uc.forEach(function(ia){return ia.lock()});var Pa=ko(document,{mirror:Mb,blockClass:f,blockSelector:g,maskTextClass:l,maskTextSelector:p,inlineStylesheet:m,maskAllInputs:K,maskTextFn:r,maskInputFn:t,slimDOM:ca,dataURLOptions:E,recordCanvas:B,inlineImages:U,onSerialize:function(ia){"IFRAME"===ia.nodeName&&Mb.getMeta(ia)&&ka.addIframe(ia);Wj(ia,Mb)&&Y.trackLinkElement(ia);ih(ia)&&Sa.addShadowRoot(ya.shadowRoot(ia),document)},
onIframeLoad:function(ia,fb){ka.attachIframe(ia,fb);Sa.observeAttachShadow(ia)},onStylesheetLoad:function(ia,fb){Y.attachLinkElement(ia,fb)},keepIframeSrcFn:y});if(!Pa)return console.warn("Failed to snapshot the document");ab({type:Ha.FullSnapshot,data:{node:Pa,initialOffset:Rj(window)}},ma);Uc.forEach(function(ia){return ia.unlock()});document.adoptedStyleSheets&&0<document.adoptedStyleSheets.length&&Y.adoptStyleSheets(document.adoptedStyleSheets,Mb.getId(document))}};try{var Fa=[],ua=function(ma){var Pa;
return Aa(ep)({mutationCb:P,mousemoveCb:function(ia,fb){return ab({type:Ha.IncrementalSnapshot,data:{source:fb,positions:ia}})},mouseInteractionCb:function(ia){return ab({type:Ha.IncrementalSnapshot,data:ra({source:Ba.MouseInteraction},ia)})},scrollCb:wa,viewportResizeCb:function(ia){return ab({type:Ha.IncrementalSnapshot,data:ra({source:Ba.ViewportResize},ia)})},inputCb:function(ia){return ab({type:Ha.IncrementalSnapshot,data:ra({source:Ba.Input},ia)})},mediaInteractionCb:function(ia){return ab({type:Ha.IncrementalSnapshot,
data:ra({source:Ba.MediaInteraction},ia)})},styleSheetRuleCb:function(ia){return ab({type:Ha.IncrementalSnapshot,data:ra({source:Ba.StyleSheetRule},ia)})},styleDeclarationCb:function(ia){return ab({type:Ha.IncrementalSnapshot,data:ra({source:Ba.StyleDeclaration},ia)})},canvasMutationCb:Q,fontCb:function(ia){return ab({type:Ha.IncrementalSnapshot,data:ra({source:Ba.Font},ia)})},selectionCb:function(ia){ab({type:Ha.IncrementalSnapshot,data:ra({source:Ba.Selection},ia)})},customElementCb:function(ia){ab({type:Ha.IncrementalSnapshot,
data:ra({source:Ba.CustomElement},ia)})},blockClass:f,ignoreClass:h,ignoreSelector:k,maskTextClass:l,maskTextSelector:p,maskInputOptions:K,inlineStylesheet:m,sampling:C,recordDOM:D,recordCanvas:B,inlineImages:U,userTriggeredOnInput:V,collectFonts:R,doc:ma,maskInputFn:t,maskTextFn:r,keepIframeSrcFn:y,blockSelector:g,slimDOMOptions:ca,dataURLOptions:E,mirror:Mb,iframeManager:ka,stylesheetManager:Y,shadowDomManager:Sa,processedNodeManager:Ea,canvasManager:kh,ignoreCSSAttributes:F,plugins:(null==(Pa=
null==N?void 0:N.filter(function(ia){return ia.observer}))?void 0:Pa.map(function(ia){return{observer:ia.observer,options:ia.options,callback:function(fb){return ab({type:Ha.Plugin,data:{plugin:ia.name,payload:fb}})}}}))||[]},v)};ka.addLoadListener(function(ma){try{Fa.push(ua(ma.contentDocument))}catch(Pa){console.warn(Pa)}});var kb=function(){Bf();Fa.push(ua(document));Cf=!0};"interactive"===document.readyState||"complete"===document.readyState?kb():(Fa.push(ub("DOMContentLoaded",function(){ab({type:Ha.DomContentLoaded,
data:{}});"DOMContentLoaded"===L&&kb()})),Fa.push(ub("load",function(){ab({type:Ha.Load,data:{}});"load"===L&&kb()},window)));return function(){Fa.forEach(function(ma){return ma()});Ea.destroy();Cf=!1;De=void 0}}catch(ma){console.warn(ma)}}function lh(b){return b&&"string"===typeof b.valueOf()?!0:!1}function Ee(b){return Number.isInteger&&Number.isInteger(b)||"number"===typeof b&&isFinite(b)&&Math.floor(b)===b}function mh(b){if(!lh(b)){b=b.text||"";var a=document.getElementsByTagName("title");a&&
null!=a[0]&&(b=a[0].text)}return b}function Df(b){var a=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(b);return a?a[1]:b}function mk(b){var a=b.length;"."===b.charAt(--a)&&(b=b.slice(0,a));"*."===b.slice(0,2)&&(b=b.slice(1));return b}function nh(b){var a=window,c=Fe("referrer",a.location.href)||Fe("referer",a.location.href);if(c)return c;if(b)return b;try{if(a.top)return a.top.document.referrer;if(a.parent)return a.parent.document.referrer}catch(d){}return document.referrer}function Fb(b,a,c,
d){if("undefined"===typeof b)return!1;if(b.addEventListener)return b.addEventListener(a,c,d),!0;if(b.attachEvent)return b.attachEvent("on"+a,c);b["on"+a]=c}function Fe(b,a){return(b=(new RegExp("^[^#]*[?&]"+b+"=([^&#]*)")).exec(a))?decodeURIComponent(b[1].replace(/\+/g," ")):null}function Ef(b,a,c){void 0===c&&(c=63072E3);try{var d=window.localStorage,e=Date.now()+1E3*c;d.setItem("".concat(b,".expires"),e.toString());d.setItem(b,a);return!0}catch(f){return!1}}function nk(b){try{var a=window.localStorage;
a.removeItem(b);a.removeItem(b+".expires");return!0}catch(c){return!1}}function op(b,a){for(var c=window.location.hostname,d="_cnv_root_domain_test_"+(new Date).getTime(),e="_test_value_"+(new Date).getTime(),f=c.split("."),g=f.length-1;0<=g;){var h=f.slice(g,f.length).join(".");ec(d,e,0,"/",h,b,a);if(ec(d)===e){Nd(d,h,b,a);c=document.cookie.split("; ");d=[];for(e=0;e<c.length;e++)"_cnv_root_domain_test_"===c[e].substring(0,22)&&d.push(c[e]);c=d;for(d=0;d<c.length;d++)Nd(c[d],h,b,a);return h}--g}return c}
function Nd(b,a,c,d){return ec(b,"",-1,"/",a,c,d)}function ec(b,a,c,d,e,f,g){return 1<arguments.length?document.cookie=b+"="+encodeURIComponent(null!==a&&void 0!==a?a:"")+(c?"; Expires="+(new Date(+new Date+1E3*c)).toUTCString():"")+(d?"; Path="+d:"")+(e?"; Domain="+e:"")+(f?"; SameSite="+f:"")+(g?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+b+"=")[1]||"").split(";")[0])}function ok(b){try{var a=null===window||void 0===window?void 0:window.localStorage;return a?(a.removeItem(b),
!0):!1}catch(c){return!1}}function pp(b,a){return ib(ib([],b,!0),a,!0).reduce(function(c,d){var e=c.find(function(f){return f.key===d.key});e?d.condition&&(e.condition=ib(ib([],e.condition||[],!0),d.condition,!0)):c.push(W({},d));return c},[])}function qp(b){try{if("undefined"===typeof b.sel)return Ff(),J.SAMPLING_MODES.RCFG;var a=b.sel.pct;if("number"==typeof a&&100>a&&0<a&&0==a%1){if("undefined"!==typeof window&&"undefined"!==typeof window.localStorage){var c=localStorage.getItem(J.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);
if("undefined"!==typeof c&&null!==c)return parseFloat(c)<=a?Gf(b,J.SAMPLING_ACTION.SAMPLED):Gf(b,J.SAMPLING_ACTION.NON_SAMPLED);var d=100*Math.random();localStorage.setItem(J.SAMPLING_STORAGE_RANDOM_NUMBER_KEY,d.toString());return d<a?Gf(b,J.SAMPLING_ACTION.SAMPLED):Gf(b,J.SAMPLING_ACTION.NON_SAMPLED)}return J.SAMPLING_MODES.NONE}if("number"==typeof a&&0===a)return Ff(),J.SAMPLING_MODES.NONE;Ff();return J.SAMPLING_MODES.RCFG}catch(e){}return J.SAMPLING_MODES.RCFG}function Ff(){"undefined"!==typeof window&&
"undefined"!==typeof window.localStorage&&localStorage.removeItem(J.SAMPLING_STORAGE_RANDOM_NUMBER_KEY)}function Gf(b,a){return"undefined"!==typeof b.act&&"undefined"!==typeof b.act[a]&&(b=b.act[a],"undefined"!==typeof b)?b:J.DEFAULT_SAMPLING_ACTION[a]}function Oa(b,a){return b.length<=a?b:b.slice(0,a-3)+"..."}function pk(b,a,c,d,e){var f=[Ca.request_body,Ca.response_body,Ca.request_headers,Ca.response_headers,Ca.request_query],g={};"number"===typeof e&&(Od=1024*e);if(a&&0<a.length)for(e=0;e<a.length;e++){var h=
a[e],k=h.conditions;h=Kg(h,["conditions"]);try{if(qk(b,k)){k=0;for(var l=Object.entries(b);k<l.length;k++){var p=l[k],m=p[0],n=p[1];f.includes(m)||(g[m]=n)}k=0;for(var q=Object.entries(h);k<q.length;k++){var t=q[k];m=t[0];n=t[1];try{if(n&&0<h[m].length){var r=!1;if(m===Ca.response_headers||m===Ca.request_headers)r=!0;if(m===Ca.request_body){var v=void 0,w=void 0,x=void 0,C=void 0,E=void 0,H=void 0,D=void 0,B=c,I=b;void 0===B&&(B={});var L=Hf(null===(D=null===B||void 0===B?void 0:B.requestDetails)||
void 0===D?void 0:D.headers);if("undefined"!==typeof L&&(L.toLowerCase().includes("text/plain")||L.toLowerCase().includes("json")||L.toLowerCase().includes("text/javascript")||L.toLowerCase().includes("application/javascript")||L.toLowerCase().includes("text/html"))||"undefined"===typeof L)try{if("string"===typeof(null===(H=null===B||void 0===B?void 0:B.requestDetails)||void 0===H?void 0:H.body)&&(null===(E=null===B||void 0===B?void 0:B.requestDetails)||void 0===E?void 0:E.body.length)<=Od)try{I[Ca.request_body]=
JSON.parse(null===(C=null===B||void 0===B?void 0:B.requestDetails)||void 0===C?void 0:C.body)}catch(ea){}else"object"===T(null===(x=null===B||void 0===B?void 0:B.requestDetails)||void 0===x?void 0:x.body)&&JSON.stringify(null===(w=null===B||void 0===B?void 0:B.requestDetails)||void 0===w?void 0:w.body).length<=Od&&(I[Ca.request_body]=null===(v=null===B||void 0===B?void 0:B.requestDetails)||void 0===v?void 0:v.body)}catch(ea){}}if(m===Ca.response_body){var V=I=B=D=H=E=C=x=w=v=void 0,R=void 0,U=void 0,
N=void 0,y=c,F=b;void 0===y&&(y={});a:{var A=null===(N=null===y||void 0===y?void 0:y.responseDetails)||void 0===N?void 0:N.headers;try{N=void 0;"undefined"!=typeof A&&null!==A&&(N=A["content-length"]||A["Content-Length"]||A["Content-length"]);var O="undefined"==typeof N||null===N||isNaN(N)?N:Number(N);break a}catch(ea){}O=void 0}var K=Hf(null===(U=null===y||void 0===y?void 0:y.responseDetails)||void 0===U?void 0:U.headers);if("undefined"!==typeof K&&(K.toLowerCase().includes("text/plain")||K.toLowerCase().includes("json")||
K.toLowerCase().includes("text/javascript")||K.toLowerCase().includes("application/javascript")||K.toLowerCase().includes("text/html")))if("undefined"!==typeof O&&O<=Od)if("string"===typeof(null===(R=null===y||void 0===y?void 0:y.responseDetails)||void 0===R?void 0:R.body))try{F[Ca.response_body]=JSON.parse(null===(V=null===y||void 0===y?void 0:y.responseDetails)||void 0===V?void 0:V.body)}catch(ea){}else"object"===T(null===(I=null===y||void 0===y?void 0:y.responseDetails)||void 0===I?void 0:I.body)&&
(F[Ca.response_body]=null===(B=null===y||void 0===y?void 0:y.responseDetails)||void 0===B?void 0:B.body);else if("undefined"===typeof O)try{if("string"===typeof(null===(D=null===y||void 0===y?void 0:y.responseDetails)||void 0===D?void 0:D.body)&&(null===(E=null===(H=null===y||void 0===y?void 0:y.responseDetails)||void 0===H?void 0:H.body)||void 0===E?void 0:E.length)<=Od)try{F[Ca.response_body]=JSON.parse(null===(C=null===y||void 0===y?void 0:y.responseDetails)||void 0===C?void 0:C.body)}catch(ea){}else"object"===
T(null===(x=null===y||void 0===y?void 0:y.responseDetails)||void 0===x?void 0:x.body)&&JSON.stringify(null===(w=null===y||void 0===y?void 0:y.responseDetails)||void 0===w?void 0:w.body).length<=Od&&(F[Ca.response_body]=null===(v=null===y||void 0===y?void 0:y.responseDetails)||void 0===v?void 0:v.body)}catch(ea){}}m===Ca.request_query&&oh(b,d);var ca=rp(b[m],h[m],r);0!==Object.keys(ca).length&&(g[m]=ca)}}catch(ea){g[m]=void 0}}return g}}catch(ea){console.warn("Conviva App Tracker: Error in collecting attributes nwreqConfig ".concat(ea))}}g=
W({},b);for(b=0;b<f.length;b++)a=f[b],"undefined"!==typeof g&&null!==g&&g.hasOwnProperty(a)&&delete g[a];return g}function sp(b,a,c){var d,e,f,g,h,k,l;if(b&&0<b.length){var p={targetUrl:null===(d=null===a||void 0===a?void 0:a.requestDetails)||void 0===d?void 0:d.url};for(d=0;d<b.length;d++){var m=b[d],n=m.conditions;m=Kg(m,["conditions"]);try{if(qk(p,n)){n=0;for(var q=Object.entries(m);n<q.length;n++){var t=q[n],r=t[0],v=t[1];try{if(v&&0<m[r].length){if(r===Ca.response_headers&&(p[r]=null===(e=null===
a||void 0===a?void 0:a.responseDetails)||void 0===e?void 0:e.headers,Array.isArray(v)))for(var w=0,x=v;w<x.length;w++){var C=x[w],E=Vc(p[r],C);if(null!==E&&void 0!==E)return E}if(r===Ca.request_headers&&(p[r]=null===(f=null===a||void 0===a?void 0:a.requestDetails)||void 0===f?void 0:f.headers,Array.isArray(v)))for(w=0,x=v;w<x.length;w++)if(C=x[w],E=Vc(p[r],C),null!==E&&void 0!==E)return E;if(r===Ca.request_body){var H=Hf(null===(g=null===a||void 0===a?void 0:a.requestDetails)||void 0===g?void 0:g.headers);
if("undefined"!==typeof H&&(H.toLowerCase().includes("text/plain")||H.toLowerCase().includes("json")||H.toLowerCase().includes("text/javascript")||H.toLowerCase().includes("application/javascript")||H.toLowerCase().includes("text/html"))||"undefined"===typeof H)if(p[r]=null===(h=null===a||void 0===a?void 0:a.requestDetails)||void 0===h?void 0:h.body,Array.isArray(v))for(w=0,x=v;w<x.length;w++)if(C=x[w],E=Vc(p[r],C),null!==E&&void 0!==E)return E}if(r===Ca.response_body){var D=Hf(null===(k=null===a||
void 0===a?void 0:a.responseDetails)||void 0===k?void 0:k.headers);if("undefined"!==typeof D&&(D.toLowerCase().includes("text/plain")||D.toLowerCase().includes("json")||D.toLowerCase().includes("text/javascript")||D.toLowerCase().includes("application/javascript")||D.toLowerCase().includes("text/html"))&&(p[r]=null===(l=null===a||void 0===a?void 0:a.responseDetails)||void 0===l?void 0:l.body,Array.isArray(v)))for(w=0,x=v;w<x.length;w++)if(C=x[w],E=Vc(p[r],C),null!==E&&void 0!==E)return E}if(r===Ca.request_query&&
(oh(p,c),Array.isArray(v)))for(w=0,x=v;w<x.length;w++)if(C=x[w],E=Vc(p[r],C),null!==E&&void 0!==E)return E}}catch(B){console.warn("Conviva App Tracker: Error in extracting attributes nwreqConfig ".concat(B))}}}}catch(B){console.warn("Conviva App Tracker: Error in collecting attributes nwreqConfig ".concat(B))}}}}function tp(b,a,c){try{if("string"===typeof c&&"string"===typeof b&&"*"===c.trim())return!0;switch(a){case "==":case "equal":return b===c;case "!=":return b!==c;case ">":return b>c;case "<":return b<
c;case ">=":return b>=c;case "<=":return b<=c;case "contains":return""!==c&&"string"===typeof b&&"string"===typeof c&&-1!==b.toLowerCase().indexOf(c.toLowerCase());default:return!1}}catch(d){return console.warn("Conviva App Tracker: Error in Compare values nwreq ".concat(d)),!1}}function qk(b,a){try{for(var c=0;c<a.length;c++){var d=a[c],e=!1;if(0<Object.keys(d).length)for(var f=0,g=Object.entries(d);f<g.length;f++){var h=g[f],k=h[1],l=b[h[0]];if(0<k.length){for(var p=0,m=0,n=k;m<n.length;m++){var q=
n[m],t="contains",r=q;if("object"===T(q)&&q.length)t=q[1],r=q[0];else if("boolean"===typeof q||null===q)t="equal",r=q;if(tp(l,t,r)){e=!0;break}else if(e=!1,p+1===k.length)break;p++}if(!1===e)break}}if(e)return!0}}catch(v){console.warn("Conviva App Tracker: Error in Applying nwreqConfig ".concat(v))}return!1}function rp(b,a,c){var d={};try{for(var e=0;e<a.length;e++){var f=a[e],g=b,h=d;c&&(f=f.toLowerCase(),g=g&&Object.entries(g).reduce(function(m,n){var q=n[1];m[n[0].toLowerCase()]=q;return m},{}));
for(var k=f.split("."),l=0;l<k.length;l++){var p=k[l];if("undefined"!==typeof g&&null!==g&&g.hasOwnProperty(p))l===k.length-1?h[p]=g[p]:(h[p]=h[p]||{},g=g[p],h=h[p]);else break}}}catch(m){console.warn("Conviva App Tracker: Error in filtering schema object nwreq ".concat(m))}return d}function oh(b,a){try{var c=(null===b||void 0===b?void 0:b.targetUrl)||(null===b||void 0===b?void 0:b.url);if(c&&"string"===typeof c&&c.includes("?")){var d=void 0;try{var e=c.indexOf("?");if(-1===e)return;var f=c.indexOf("#",
e),g=-1!==f?c.substring(e+1,f):c.substring(e+1);if(!g||g.length>(a||10240))return;d="undefined"!==typeof URLSearchParams?new URLSearchParams(g):null}catch(q){console.warn("Conviva App Tracker: Error creating URLSearchParams: ".concat(q));return}var h={};if(d instanceof URLSearchParams)d.forEach(function(q,t){h[t]=q});else{a=0;for(var k=c.substring(c.indexOf("?")+1).split("&");a<k.length;a++){var l=k[a];if(l){var p=l.indexOf("="),m=0<p?decodeURIComponent(l.substring(0,p)):decodeURIComponent(l);if(m){var n=
0<p&&p<l.length-1?decodeURIComponent(l.substring(p+1)):"";h[m]=n}}}}0<Object.keys(h).length&&(b[Ca.request_query]=h)}}catch(q){console.warn("Conviva App Tracker: Error parsing request query parameters: ".concat(q))}}function ph(b,a,c,d,e,f){for(var g={},h=0;h<a.length;h++){var k=a[h],l=k.req,p=k.opt,m=k.smb;k=k.rqq;try{var n=d([{req:l,opt:p}],[],b,c);if(null===n||void 0===n?0:n.result){if(m&&Array.isArray(m)){var q=rk(b,m,!1,f);0<Object.keys(q).length&&Object.assign(g,q)}if(k&&Array.isArray(k)&&(oh(b,
e),q=rk(b[Ca.request_query],k,!1,f),0<Object.keys(q).length)){if(void 0===g[Ca.request_query]||null===g[Ca.request_query])g[Ca.request_query]={};Object.assign(g[Ca.request_query],q)}return g}}catch(t){console.warn("Conviva App Tracker: Error in collecting conditional SSE attributes ".concat(t))}}return g}function rk(b,a,c,d){void 0===d&&(d=!1);if(d)return up(b,a,c);d={};try{for(var e=0;e<a.length;e++){var f=a[e],g=b,h=d;c&&(f=f.toLowerCase(),g=g&&Object.entries(g).reduce(function(m,n){var q=n[1];
m[n[0].toLowerCase()]=q;return m},{}));for(var k=f.split("."),l=0;l<k.length;l++){var p=k[l];if("undefined"!==typeof g&&null!==g&&g.hasOwnProperty(p))if(l===k.length-1)h[p]=g[p];else{h[p]=h[p]||{};g=g[p];if("string"===typeof g&&l<k.length-1)try{g=JSON.parse(g)}catch(m){}h=h[p]}else break}}}catch(m){console.warn("Conviva App Tracker: Error in filtering SSE object ".concat(m))}return d}function up(b,a,c){var d={};try{for(var e=new Map,f=new Set,g=0;g<a.length;g++){var h=a[g];c&&(h=h.toLowerCase());
var k=h.split(".");if(1===k.length)f.add(k[0]);else if(2===k.length&&!isNaN(Number(k[1]))){var l=k[0],p=Number(k[1]),m="".concat(l,".").concat(p);e.has(m)||e.set(m,[]);e.get(m).push("")}else if(1<k.length&&!isNaN(Number(k[1]))){l=k[0];p=Number(k[1]);var n=k.slice(2);m="".concat(l,".").concat(p);e.has(m)||e.set(m,[]);e.get(m).push(n.join("."))}}a=0;for(var q=Array.from(f);a<q.length;a++){var t=q[a],r=b;c&&(r=r&&Object.entries(r).reduce(function(I,L){var V=L[1];I[L[0].toLowerCase()]=V;return I},{}));
"undefined"!==typeof r&&null!==r&&r.hasOwnProperty(t)&&(d[t]=r[t])}f=0;for(var v=Array.from(e.entries());f<v.length;f++){var w=v[f];m=w[0];var x=w[1],C=m.split(".");l=C[0];p=Number(C[1]);r=b;e=d;c&&(r=r&&Object.entries(r).reduce(function(I,L){var V=L[1];I[L[0].toLowerCase()]=V;return I},{}));if("undefined"!==typeof r&&null!==r&&r.hasOwnProperty(l)&&(r=r[l],Array.isArray(e[l])||(e[l]=[]),e=e[l],Array.isArray(r)&&void 0!==r[p])){for(r=r[p];e.length<=p;)e.push(null);var E=e[p]||{};q=0;for(t=x;q<t.length;q++){var H=
t[q];if(""===H)E=r;else for(n=H.split("."),a=r,g=E,h=0;h<n.length;h++){var D=n[h];if("undefined"!==typeof a&&null!==a&&a.hasOwnProperty(D))if(h===n.length-1){var B=a[D];if("string"===typeof B)try{B=JSON.parse(B)}catch(I){}g[D]=B}else{if(isNaN(Number(n[h+1]))){if(g[D]&&"object"===T(g[D])||(g[D]={}),a=a[D],"string"===typeof a&&h<n.length-1)try{a=JSON.parse(a)}catch(I){}}else if(g[D]&&"object"===T(g[D])||(g[D]={}),a=a[D],"string"===typeof a&&h<n.length-1)try{a=JSON.parse(a)}catch(I){}g=g[D]}else break}}e[p]=
E}}}catch(I){console.warn("Conviva App Tracker: Error in filtering SSE ArrayBuffer object ".concat(I))}return d}function Vc(b,a){return a?a.split(".").reduce(function(c,d){if(null!=c){if("string"===typeof c)try{c=JSON.parse(c)}catch(e){}d=/^\d+$/.test(d)?Number(d):d;return null===c||void 0===c?void 0:c[d]}},b):b}function sk(b,a,c){if("translate.googleusercontent.com"===b)""===c&&(c=a),b=(b=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(a))&&1<(null===b||void 0===b?void 0:b.length)?Fe("u",b[1]):
null,a=null!==b&&void 0!==b?b:"",b=Df(a);else if("cc.bingj.com"===b||"webcache.googleusercontent.com"===b)a=document.links[0].href,b=Df(a);return[b,a,c]}function vp(b,a,c,d){var e=Math.round((new Date).getTime()/1E3);b?(b=b.split("."),b.unshift("0")):b=["1",a,e,d,e,"",c];b[6]&&"undefined"!==b[6]||(b[6]=pc.v4());b[7]&&"undefined"!==b[7]||(b[7]="");b[8]&&"undefined"!==b[8]||(b[8]="");b[9]&&"undefined"!==b[9]||(b[9]="");b[10]&&"undefined"!==b[10]||(b[10]=-1);var f=function(g,h){g=parseInt(g);return isNaN(g)?
h:g};a=function(g){return g?f(g,void 0):void 0};return[b[0],b[1],f(b[2],e),f(b[3],d),f(b[4],e),a(b[5]),b[6],b[7],b[8],a(b[9])]}function Ge(b,a){void 0===a&&(a=1);"0"===b[0]?(b[7]=b[6],b[5]=b[4],b[3]++):b[3]=a;a=pc.v4();b[6]=a;b[8]="";b[9]=void 0;return a}function qh(b){b[4]=Math.round((new Date).getTime()/1E3)}function If(b){return{activateLCPObserver:function(){try{PerformanceObserver&&(new PerformanceObserver(function(a){try{a.getEntries().forEach(function(c){var d;if("largest-contentful-paint"===
c.entryType){var e=null===performance||void 0===performance?void 0:performance.getEntriesByType("navigation"),f=void 0;e&&0<(null===e||void 0===e?void 0:e.length)&&(f=null===(d=e[0])||void 0===d?void 0:d.activationStart);La=W(W({},c.toJSON()),{performanceNavigationActivationStart:null!==f&&void 0!==f?f:0})}})}catch(c){console.warn("convivaAppTracker error in conviva lcp observer "+c)}})).observe({type:"largest-contentful-paint",buffered:!0})}catch(a){console.warn("convivaAppTracker conviva_lcp failed "+
a)}},contexts:function(){try{switch(b){case J.PERFORMANCE_CONTEXT.DISABLED:return[];case J.PERFORMANCE_CONTEXT.PERFORMANCE_NAVIGATION_TIMING:return wp();default:var a=window,c=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance,d=c.timing;var e=c?[{sc:"w3/pt/1-0-0",dt:{navigationStart:d.navigationStart,domainLookupStart:d.domainLookupStart,domainLookupEnd:d.domainLookupEnd,responseStart:d.responseStart,responseEnd:d.responseEnd,loadEventEnd:d.loadEventEnd}}]:[];return ib(ib([],e,
!0),xp().contexts(),!0)}}catch(f){return console.warn("convivaAppTracker problem in perfromance context "+f),[]}}}}function wp(){var b,a,c;try{var d=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};if(d.getEntriesByType){var e=d.getEntriesByType("navigation")[0],f=null!==(b=null===d||void 0===d?void 0:d.timeOrigin)&&void 0!==b?b:0;if(!e)return[];var g={st:Math.floor(f+e.startTime),dls:Math.floor(f+e.domainLookupStart),dle:Math.floor(f+e.domainLookupEnd),
rss:Math.floor(f+e.responseStart),rse:Math.floor(f+e.responseEnd),le:Math.floor(f+e.loadEventEnd),dur:Math.floor(e.loadEventEnd-e.activationStart),as:Math.floor(f+e.activationStart)};if(null===La||void 0===La?0:La.startTime)g.lcp={rt:Math.floor(f+La.startTime),url:128<(null===(a=null===La||void 0===La?void 0:La.url)||void 0===a?void 0:a.length)?null===(c=null===La||void 0===La?void 0:La.url)||void 0===c?void 0:c.substring(0,128):La.url,sz:La.size};return[{sc:"cv/pc/1-0-1",dt:g}]}return[]}catch(h){return console.warn("ConvivaAppTracker: issue will getting performance Navigation timing context"),
[]}}function xp(){return{contexts:function(){var b,a,c;try{if("undefined"!=typeof(null===La||void 0===La?void 0:La.startTime)&&"number"===typeof(null===La||void 0===La?void 0:La.startTime))return[{sc:"cv/lcp/1-0-0",dt:{lcp:Math.round(La.startTime)-(null!==(b=La.performanceNavigationActivationStart)&&void 0!==b?b:0),url:128<(null===(a=null===La||void 0===La?void 0:La.url)||void 0===a?void 0:a.length)?null===(c=null===La||void 0===La?void 0:La.url)||void 0===c?void 0:c.substring(0,128):La.url}}]}catch(d){}return[]}}}
function Pd(b,a,c,d,e,f){var g;try{var h=null,k=null!==(g=f.url)&&void 0!==g?g:"";if(!k)return!0;if(yp.some(function(q){return k.includes(q)}))return!1;var l=new URL(k);var p=l.protocol.replace(":","");g=function(q,t){var r;q=tk(q,{scheme:p,host:l.hostname,path:decodeURIComponent(l.pathname)},Vb.NETWORK_REQUEST);return q.matched?q.opt?xc(q.opt,{responseStatusCode:null!==(r=null===e||void 0===e?void 0:e.status)&&void 0!==r?r:0,duration:Date.now()-f.requestTimestamp},Vb.NETWORK_REQUEST)===t:t:null};
b&&null===h&&(h=g(b,!0));a&&null===h&&(h=g(a,!1));if(null===h){var m=(null===c||void 0===c?void 0:c.includes("*"))||(null===c||void 0===c?void 0:c.some(function(q){return q&&""!==q?k.includes(q):!1})),n=null===d||void 0===d?void 0:d.some(function(q){return q&&""!==q?k.includes(q):!1});h=!m||n}return!0===h?!0:!1}catch(q){return!0}}function Qd(b,a,c,d){try{var e=null;d=null!==d&&void 0!==d?d:"";if(!d)return{result:!0};var f=new URL(d);var g=f.protocol.replace(":","");d=function(h,k){var l;h=tk(h,W({scheme:g,
host:f.hostname,path:decodeURIComponent(f.pathname)},c),Vb.SSE_EVENT);if(h.matched){if(h.opt){var p=xc(h.opt,c,Vb.SSE_EVENT);return!0!==(null===(l=null===h||void 0===h?void 0:h.item)||void 0===l?void 0:l.count)||p?{result:p===k,matchedConfig:h.item,shouldSend:!0}:{result:h.matched===k,matchedConfig:h.item,shouldSend:!1}}return{result:k,matchedConfig:h.item,shouldSend:!1}}return null};b&&null===e&&(e=d(b,!0));a&&null===e&&(e=d(a,!1));(!b||Array.isArray(b)&&0===b.length)&&null===e&&(e={result:!0});
return e}catch(h){return{result:!0}}}function tk(b,a,c){try{for(var d=0;d<b.length;d++){var e=b[d],f=e.opt;if(xc(e.req,a,c))return{matched:!0,opt:f||null,item:e}}return{matched:!1,opt:null}}catch(g){return{matched:!1,opt:null}}}function xc(b,a,c){try{if(!b)return!1;if("and"===b.type){for(var d=0,e=b.cond;d<e.length;d++){var f=e[d];if(!xc(f,a,c))return!1}return!0}if("or"===b.type){e=0;for(d=b.cond;e<d.length;e++)if(f=d[e],xc(f,a,c))return!0;return!1}return c===Vb.NETWORK_REQUEST?zp(b,a):c===Vb.CUSTOM_EVENT?
Ap(b,a):c===Vb.SSE_EVENT?Bp(b,a):!1}catch(g){return!1}}function Ap(b,a){var c=b.key,d=b.op;b=b.val;if(!c||!d)return!1;if("undefined"!==typeof a[c]){if(lh(a[c]))return yc(a[c],d,b);if("boolean"===typeof a[c])switch(a=a[c],d){case "!=":return a!==b;case "==":return a===b;default:return!1}if(Number.isInteger(a[c]))return Jf(a[c],d,b)}return!1}function Bp(b,a){var c=b.key,d=b.op;b=b.val;if(!c||!d)return!1;switch(c){case "sch":return a.scheme?yc(a.scheme,d,b):!1;case "host":return a.host?yc(a.host,d,b):
!1;case "path":return a.path?yc(a.path,d,b):!1;default:a=Vc(a,c);if(null!==a&&void 0!==a){if("string"===typeof a)return yc(a,d,b);if("boolean"===typeof a)switch(d){case "!=":return a!==b;case "==":return a===b;default:return!1}if("number"===typeof a&&Number.isInteger(a))return Jf(a,d,b)}return!1}}function zp(b,a){var c=b.key,d=b.op;b=b.val;if(!c||!d)return!1;switch(c){case "sch":return a.scheme?yc(a.scheme,d,b):!1;case "host":return a.host?yc(a.host,d,b):!1;case "path":return a.path?yc(a.path,d,b):
!1;case "dur":return a.duration?Jf(a.duration,d,b):!1;case "rsc":return void 0!==a.responseStatusCode&&0<=a.responseStatusCode?Jf(a.responseStatusCode,d,b):!1;default:return!1}}function yc(b,a,c){return"=="===a&&Array.isArray(c)?(a=c,a.includes("*")?!0:a.some(function(d){return d&&""!==d?b===d:!1})):"contains"===a&&Array.isArray(c)?(a=c,a.includes("*")?!0:a.some(function(d){return d&&""!==d?b.includes(d):!1})):"sw"===a&&Array.isArray(c)?(a=c,a.includes("*")?!0:a.some(function(d){return d&&""!==d?
b.startsWith(d):!1})):"ew"===a&&Array.isArray(c)?(a=c,a.includes("*")?!0:a.some(function(d){return d&&""!==d?b.endsWith(d):!1})):!1}function Jf(b,a,c){if("in"===a.toLowerCase()&&Array.isArray(c))return c.includes(b);if("range"===a.toLowerCase()&&"object"===T(c)){a=c.min;var d=c.max,e=c.minExclusive;c=c.maxExclusive;return void 0!==a&&void 0!==d?b>=a&&b<=d:void 0!==e&&void 0!==c?b>e&&b<c:!1}if(Ee(c))switch(a){case "!=":return b!==c;case ">":return b>c;case ">=":return b>=c;case "<":return b<c;case "<=":return b<=
c;case "==":return b===c}return!1}function uk(b,a,c){var d=null;a:{for(var e=0;e<b.length;e++){var f=b[e];var g=f.opt;if(xc(f.req,a,c))if(g){if(xc(g,a,c)){b=!0;break a}}else{b=!0;g=null;break a}}b=!1;g=null}b&&(d=g?xc(g,a,c)?!0:!1:!0);return d}function gb(b,a,c){var d,e;try{if(b&&a){var f=null===b||void 0===b?void 0:b.getConfig();a:{var g,h,k,l={message:""};try{var p=c.message,m=c.error,n=c.className,q=c.extraData;if(p)l.message=p;else if("string"===typeof m)if(0<m.trim().length)l.message=m;else{va.warn("Conviva Eco Sensor:: Mandatory field message is missing");
var t=null;break a}else"object"===T(m)&&("string"===typeof m.message&&0<m.message.trim().length&&(l.message=Oa(m.message,J.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_MESSAGE_LENGTH)),"string"===typeof m.name&&0<m.name.trim().length&&(l.exceptionName=Oa(m.name,J.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_EXCEPTION_NAME_LENGTH)),"string"===typeof m.stack&&0<m.stack.trim().length&&(l.stackTrace=Oa(m.stack,J.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_STACK_LENGTH)));if(0===l.message.trim().length){va.warn("Conviva Eco Sensor:: Mandatory field message is missing");
t=null;break a}"string"===typeof n&&0<n.trim().length&&(l.className=Oa(n,J.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_CLASSNAME_LENGTH));"undefined"!==typeof q&&null!==q&&(l.extraData=q);var r=null===b||void 0===b?void 0:b.getConfig();if(null===r||void 0===r?0:r.configurationVersion)l.remoteConfigVersion=r.configurationVersion;if(null===c||void 0===c?0:c.configAppliedTime)l.configAppliedTime=null===c||void 0===c?void 0:c.configAppliedTime;if(null===r||void 0===r?0:r.cacheRefreshInterval)l.cacheRefreshInterval=
r.cacheRefreshInterval;if(null===c||void 0===c?0:c.configAppliedSrc)l.configAppliedSrc=null===c||void 0===c?void 0:c.configAppliedSrc;if(localStorage){var v=localStorage.getItem(J.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);"undefined"!==typeof v&&null!==v&&(l.samplingRandomNumber=parseFloat(v))}"number"===typeof(null===(h=null===(g=null===r||void 0===r?void 0:r.controlIngestConfig)||void 0===g?void 0:g.sel)||void 0===h?void 0:h.pct)?(l.samplingPercentage=r.controlIngestConfig.sel.pct,l.samplingDecision=
J.SAMPLING_STATUS.DERIVED,void 0!=T(null===(k=null===r||void 0===r?void 0:r.controlIngestConfig)||void 0===k?void 0:k.act)&&(l.extraData=W(W({},l.extraData),{samplingActionConfig:r.controlIngestConfig.act}))):l.samplingDecision=J.SAMPLING_STATUS.DEFAULT;"function"==typeof a&&"string"==typeof a()&&(l.samplingStatus=a()==J.SAMPLING_MODES.RCFG?!0:!1)}catch(L){va.warn("Error occurred while generating diagnostic object",L);t=null;break a}t=l}var w;if(!(w=!t)){var x;try{var C=null===b||void 0===b?void 0:
b.getConfig(),E=(null===(x=null===C||void 0===C?void 0:C.di)||void 0===x?void 0:x.lim)||10,H=Date.now();6E4<=H-vk&&(rh=0,vk=H);rh++;var D=rh>E?!1:!0}catch(L){va.warn("Conviva Eco Sensor:: Error occured while checking diagnostic event is allowed",L),D=!1}w=!D}if(!w&&"boolean"==typeof(null===(d=null===f||void 0===f?void 0:f.di)||void 0===d?void 0:d.en)&&!0===(null===(e=null===f||void 0===f?void 0:f.di)||void 0===e?void 0:e.en))if(null===b||void 0===b)void 0;else{var B=b.track;var I=Sc({event:{sc:"iglu:com.conviva/di/jsonschema/1-0-4",
dt:Cd({msg:t.message,cn:t.className,st:t.stackTrace,en:t.exceptionName,ed:t.extraData,rcv:t.remoteConfigVersion,cat:t.configAppliedTime,cri:t.cacheRefreshInterval,csrc:t.configAppliedSrc,srn:t.samplingRandomNumber,spr:t.samplingPercentage,ss:t.samplingStatus,sd:t.samplingDecision})}});B.call(b,I)}}}catch(L){va.warn("Conviva Eco Sensor:: Error occurred while sending reportDiagnosticError",L)}}function Cp(){(null===window||void 0===window?0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",
function(){wk()},{signal:cb})}function wk(){var b,a,c=null===(b=null===Ma||void 0===Ma?void 0:Ma.core)||void 0===b?void 0:b.getConfig();Wc=(null===(a=null===c||void 0===c?void 0:c.clickcc)||void 0===a?void 0:a.cssSelectorList)||Wc;Wc=(null===Wc||void 0===Wc?void 0:Wc.replace(/\s+/g,""))||""}function Dp(b,a){var c;b=b.querySelectorAll(xk);if(0===b.length)return null;if(1===b.length&&0<b[0].offsetWidth&&0<b[0].offsetHeight)return b[0];var d=a.clientX;a=a.clientY;if(b.length<=("IntersectionObserver"in
window&&"fetch"in window&&"Promise"in window?J.MAX_NATIVE_SCAN:J.MAX_NATIVE_SCAN_LEGACY))for(var e=0;e<b.length;e++){var f=null===(c=b[e])||void 0===c?void 0:c.getBoundingClientRect();if(f&&d>=f.left&&d<=f.right&&a>=f.top&&a<f.bottom)return b[e]}return null}function yk(b,a){if(!(b instanceof HTMLElement||b instanceof SVGElement))return null;var c=null===b||void 0===b?void 0:b.closest(xk);if(c)return c;if(c=null===b||void 0===b?void 0:b.closest(Wc))return Dp(c,a)||c;a=b;c=0;var d=J.CLICK_MAX_DEPTH;
a:{if(a.style){if(a.style.visibility&&""!==a.style.visibility&&"hidden"==a.style.visibility||a.style.pointerEvents&&""!==a.style.pointerEvents&&"none"==a.style.pointerEvents){var e=!1;break a}if(a.style.cursor&&""!==a.style.cursor&&"pointer"==a.style.cursor){e=!0;break a}}e=getComputedStyle(a);e="hidden"===e.visibility||"none"===e.pointerEvents?!1:"pointer"===e.cursor?!0:!1}if(e){for(;a&&a!==document.documentElement&&(a instanceof HTMLElement||a instanceof SVGElement)&&c<d;){if("function"===typeof a.onclick)return a;
a=a.parentElement;c++}return b.closest(Ep)||b}return null}function Fp(b){return"undefined"!==typeof CSS&&CSS.escape?CSS.escape(b):b.replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$&")}function Gp(b){try{if(!b||b.nodeType!==Node.ELEMENT_NODE)return null;if(b.id&&"string"===typeof b.id&&""!==b.id.trim()&&1===document.querySelectorAll("#".concat(Fp(b.id))).length)return'//*[@id="'.concat(b.id,'"]');var a=[],c=b;for(b=function(){var d=c.tagName.toLowerCase(),e=c.parentElement;if(e){var f=Array.from(e.children).filter(function(g){return g.tagName.toLowerCase()===
d});1<f.length&&(f=f.indexOf(c)+1,d+="[".concat(f,"]"));a.unshift(d);c=e}else if(e=c.getRootNode(),e instanceof ShadowRoot)a.unshift(d),a.unshift(">>"),c=e.host;else return a.unshift(d),"break"};c&&c.nodeType===Node.ELEMENT_NODE&&"break"!==b(););return"/"+a.join("/")}catch(d){return va.warn("Conviva Browser Tracker caused Exception in calculateXPath method of user click tracking module",d),null}}function Hp(b,a){var c,d;try{if(!Ma||!Ma.core||!b)return null;var e=Ma.core.getConfig();if(!0!==(null===
(c=null===e||void 0===e?void 0:e.clickcc)||void 0===c?void 0:c.en))return null;var f=null===(d=null===e||void 0===e?void 0:e.clickcc)||void 0===d?void 0:d.uiMode;return f===He.RAW?b:f===He.BOTH?yk(b,a)||b:yk(b,a)}catch(g){return va.warn("Conviva App Tracker caused Exception in getTrackedElement method of user click tracking module",g),null}}function zk(b){try{var a=Date.now(),c=J.CLICK_DEBOUNCING_DELAY;if(null===sh||a-sh>=c){var d,e,f,g,h,k,l;try{var p,m;if(null===(p=b.target)||void 0===p?0:p.shadowRoot)var n=
null===(m=b.composedPath)||void 0===m?void 0:m.call(b);var q=Hp(n&&n[0]||b.target,b);if(q&&(q instanceof HTMLElement||q instanceof HTMLInputElement)){b={};var t=J.CLICK_KEY_MAX_LENGTH;if(null===q||void 0===q?0:q.id)b.id=Oa(q.id,t);if(null===q||void 0===q?0:q.className)b["class"]=Oa(q.className,t);if(null===q||void 0===q?0:q.tagName)b.elementName=Oa(q.tagName.toLowerCase(),t);if(null===(d=null===q||void 0===q?void 0:q.innerText)||void 0===d?0:d.trim())b.text=Oa(q.innerText.trim(),t);if(null===q||void 0===
q?0:q.getAttribute("name"))b.name=Oa(q.getAttribute("name")||"",t);if(null===q||void 0===q?0:q.getAttribute("type"))b.elementType=Oa((null===(e=q.getAttribute("type"))||void 0===e?void 0:e.toLowerCase())||"",t);if(null===q||void 0===q?0:q.placeholder)b.placeholder=Oa(q.placeholder,t);(null===q||void 0===q?0:q.getAttribute("type"))&&"password"!==(null===q||void 0===q?void 0:q.getAttribute("type"))&&q.value&&(b.value=Oa(q.value,t));var r=null===(f=null===Ma||void 0===Ma?void 0:Ma.core)||void 0===f?
void 0:f.getConfig(),v=null===(g=null===r||void 0===r?void 0:r.clickcc)||void 0===g?void 0:g.collectattr;if(v)for(d=0;d<v.length;d++){var w=v[d],x=null===q||void 0===q?void 0:q.getAttribute(w);x&&(b[w]=Oa(x,t))}try{if("A"===q.tagName.toUpperCase()||"AREA"===q.tagName.toUpperCase()){if(null!=q.href){var C=q.hostname||Df(q.href),E=C.toLowerCase(),H=q.href.replace(C,E);/^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):/i.test(H)||(b.targetUrl=Oa(decodeURIComponent(H),t))}q.target&&(b.target=
Oa(q.target,t))}}catch(y){va.warn("Conviva App Tracker caused Exception in handleClick href setting",y)}var D=null===(h=q.querySelector("use"))||void 0===h?void 0:h.getAttribute("xlink:href");D&&(b["xlink:href"]=Oa(D,t));var B=Gp(q);B&&(b.xpath=Oa(B,t));var I=null!==(k=null===r||void 0===r?void 0:r.clickcc)&&void 0!==k?k:{},L=Vb.CUSTOM_EVENT,V=I.collect,R=I.block;h=null;V&&(h=uk(V,b,L));if(R&&null===h){var U=uk(R,b,L);"boolean"===typeof U&&(h=!U)}var N=null===h?!0:h;if("boolean"!==typeof N||!1!==
N)null===(l=null===Ma||void 0===Ma?void 0:Ma.core)||void 0===l?void 0:l.track(qc({name:"conviva_click",data:JSON.stringify(b)}))}}catch(y){va.warn("Conviva App Tracker caused Exception in handleClick method of user click tracking module",y)}0<Kf&&gb(Ma.core,Ma.getSamplingMode,{className:"clickTracking - droppedEvent",message:"total click events dropped to Avoid tracking spam from rapid clicks",extraData:{clickEventDropped:Kf}});Kf=0}else Kf++;sh=a}catch(y){console.warn("Conviva App Tracker caused Exception in immediateClickHandler method of user click tracking module",
y)}}function Ip(){try{Ie||"undefined"===typeof document||(document.body?(Xc=zk,Fb(document.body,"click",Xc,{signal:cb,capture:!0,passive:!0}),Ie=!0):document.addEventListener("DOMContentLoaded",function(){if(null===document||void 0===document?0:document.body)Xc=zk,Fb(document.body,"click",Xc,{signal:cb,capture:!0,passive:!0}),Ie=!0}),wk(),Cp())}catch(b){va.warn("Conviva App Tracker caused Exception in enableUserClickTracking method of user click tracking module",b)}}function Ak(){try{Ie&&"undefined"!==
typeof document&&document.body&&(Xc&&(document.body.removeEventListener("click",Xc),Xc=null),Ie=!1)}catch(b){va.warn("Conviva App Tracker caused Exception in disableUserClickTracking method of user click tracking module",b)}}function Lf(b,a,c,d){return(null===c||void 0===c?0:c.enabled)&&(null===c||void 0===c?0:c.attributeExtraction)?(b=sp(c.attributeExtraction,{requestDetails:b,responseDetails:a}))?(d.setConversationId("string"===typeof b?b:JSON.stringify(b)),!0):!1:!1}function Bk(b,a,c,d,e,f,g){var h,
k,l;void 0===f&&(f={});return Qc(this,void 0,void 0,function(){var p,m,n,q,t,r,v,w,x,C,E,H,D,B,I,L,V,R;return Rc(this,function(U){switch(U.label){case 0:p=null!==(h=f.idleMs)&&void 0!==h?h:3E4,m=null!==(k=f.maxEvents)&&void 0!==k?k:1E4,n=null!==(l=f.bufferMaxBytes)&&void 0!==l?l:1E6,q=b.getReader(),t=new TextDecoder("utf-8"),r="",v=0,w=void 0,x=function(){void 0!==w&&(clearTimeout(w),w=void 0);w=setTimeout(function(){console.warn("Conviva App Tracker:: stream idle >",p,"ms \u2192 cancelling",a);q.cancel()},
p)},x(),U.label=1;case 1:U.trys.push([1,5,6,7]),U.label=2;case 2:return[4,q.read()];case 3:C=U.sent();E=C.value;if(H=C.done)return[3,4];x();r+=t.decode(E,{stream:!0});if((new TextEncoder).encode(r).length>n)return console.warn("Conviva App Tracker:: SSE buffer exceeded",n,"bytes, cancelling stream",a),q.cancel(),[3,4];for(D=void 0;-1!==(D=r.search(c));)if(B=r.slice(0,D).replace(/\s+$/,""),L=(I=r.match(c))?I[0].length:0,r=r.slice(D+L),V=d(B))if(e(V),++v>=m){console.warn("Conviva App Tracker:: event budget reached \u2192 cancelling",
a);q.cancel();break}return[3,2];case 4:return[3,7];case 5:R=U.sent();if(!(R instanceof DOMException&&"AbortError"===R.name))throw R;return[3,7];case 6:return clearTimeout(w),q.releaseLock(),g&&g(),[7];case 7:return[2]}})})}function Jp(b){var a={data:""},c=0;for(b=b.split(/\n+/);c<b.length;c++){var d=b[c];if(d&&!d.startsWith(":")){var e=d.indexOf(":"),f=(-1===e?d:d.slice(0,e)).trim();d=-1===e?"":d.slice(e+1).replace(/^\s+/,"");switch(f){case "data":a.data+=(a.data?"\n":"")+d;break;case "event":a.event=
d;break;case "id":a.id=d}}}return a.data?a:null}function Kp(b){return{data:b}}function Lp(b,a){var c;return(null===(c=null===a||void 0===a?void 0:a.configs)||void 0===c?void 0:c.plainTextChunkTracking)&&a.configs.plainTextChunkTracking.enabled&&a.configs.plainTextChunkTracking.endpoints.some(function(d){return b.includes(d)})}function th(b,a,c){var d={};c&&(c=(new URL(c)).searchParams,b||(b={}),c.forEach(function(p,m){b[m]=p}));c=0;for(a=a.cond;c<a.length;c++){var e=a[c],f=Vc(b,e.key);if("string"===
typeof f)for(var g=0,h=e.val;g<h.length;g++){var k=h[g],l=!1;switch(e.op){case "contains":l=f.toLowerCase().includes(k.toLowerCase());break;case "==":case "equals":l=f===k;break;case "startsWith":l=f.startsWith(k);break;case "endsWith":l=f.endsWith(k);break;default:l=f.toLowerCase().includes(k.toLowerCase())}l&&(d[e.type]||(d[e.type]={}),d[e.type][k]=l)}}return d}function Ck(b){for(var a=[b],c=0,d=["\r\n","\n","\x00"];c<d.length;c++){var e=d[c];if(b.includes(e)){a=b.split(e).filter(function(f){return 0<
f.trim().length});break}}return a}function Mp(){try{var b=!!window.localStorage}catch(c){b=!0}if(!b)return!1;try{var a=window.localStorage;a.setItem("modernizr","modernizr");a.removeItem("modernizr");return!0}catch(c){return!1}}function Np(b,a,c,d,e,f,g,h,k,l,p,m,n,q,t,r,v,w,x){function C(Q){var Y=Object.keys(Q).map(function(ka){return[ka,Q[ka]]}).reduce(function(ka,la){ka[la[0]]=la[1].toString();return ka},{});return{evt:Y,bytes:E(JSON.stringify(Y))}}function E(Q){for(var Y=0,ka=0;ka<Q.length;ka++){var la=
Q.charCodeAt(ka);127>=la?Y+=1:2047>=la?Y+=2:55296<=la&&57343>=la?(Y+=4,ka++):Y=65535>la?Y+3:Y+4}return Y}function H(Q,Y){Y=I(Y,!0,!1);Q=L(V([Q.evt]));try{t().toLowerCase()!==fc.NONE&&(Q=Dk.gzip(Q,{level:6}),Y.setRequestHeader("Content-Encoding",fc.GZIP))}catch(ka){}x()!==J.SAMPLING_MODES.NONE&&Y.send(Q)}function D(Q){try{if("undefined"!==typeof window&&"undefined"!==typeof window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__&&"function"===typeof window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__.postMessage){var Y=
L(V(Q));Y&&0<Y.length&&window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__.postMessage(Y)}}catch(ka){va.warn("Error occured while sending message to Visual Labelling Extension",ka)}}function B(Q){for(void 0===Q&&(Q=!1);A.length&&"string"!==typeof A[0]&&"object"!==T(A[0]);)A.shift();if(1>A.length)y=!1;else{if(!lh(F))throw"No collector configured";y=!0;window.clearTimeout(O);O=-1;if(ea){var Y=function(ua){for(var kb=0,ma=0;kb<ua.length&&!(ma+=ua[kb].bytes,ma>=v());)kb+=1;return kb},ka=void 0,la=void 0;if("object"===
T(A[0])){ka=F;var pa=I(ka,!0,Q);la=Y(A)}else ka=R(A[0]),pa=I(ka,!1,Q),la=1;var Ea=setTimeout(function(){pa.abort();y=!1},l);pa.onreadystatechange=function(){4===pa.readyState&&(clearTimeout(Ea),200<=pa.status&&300>pa.status?B():(va.error("Status ".concat(pa.status,", will not retry.")),y=!1))};if("object"!==T(A[0]))pa.send();else if(Y=A.slice(0,la),0<Y.length){Q=!1;Y=Y.map(function(ua){return ua.evt});if(ca){var Sa=new Blob([L(V(Y))],{type:"application/json"});try{Q=navigator.sendBeacon(ka,Sa)}catch(ua){Q=
!1}}if(!0===Q)B();else{ka=L(V(Y));try{t().toLowerCase()!==fc.NONE&&(ka=Dk.gzip(ka,{level:6}),pa.setRequestHeader("Content-Encoding",fc.GZIP))}catch(ua){}try{x()!==J.SAMPLING_MODES.NONE&&pa.send(ka)}catch(ua){}}}(function(ua){for(var kb=0;kb<ua;kb++)A.shift();c&&Ef(P,JSON.stringify(A.slice(-1*k())))})(la)}else if(p||"object"===T(A[0]))y=!1;else{la=new Image(1,1);var Fa=!0;la.onload=function(){Fa&&(Fa=!1,A.shift(),c&&Ef(P,JSON.stringify(A.slice(-1*k()))),B())};la.onerror=function(){Fa&&(y=Fa=!1)};la.src=
R(A[0]);setTimeout(function(){Fa&&y&&(Fa=!1,B())},l)}}}function I(Q,Y,ka){var la=new XMLHttpRequest;Y?(la.open("POST",Q,!ka),la.setRequestHeader("Content-Type","application/json; charset=UTF-8")):la.open("GET",Q,!ka);la.withCredentials=n;p&&la.setRequestHeader("SP-Anonymous","*");for(var pa in m)Object.prototype.hasOwnProperty.call(m,pa)&&la.setRequestHeader(pa,m[pa]);return la}function L(Q){return JSON.stringify({sc:"sp/pd/1-0-4",dt:Q})}function V(Q){for(var Y=(new Date).getTime().toString(),ka=
0;ka<Q.length;ka++)Q[ka].stm=Y;return Q}function R(Q){return h?F+Q.replace("?","?stm="+(new Date).getTime()+"&"):F+Q}function U(){var Q=0;return Q=ba?A.reduce(function(Y,ka){return Y+ka.bytes},0):A.reduce(function(Y,ka){return Y+ka.length},0)}function N(Q){function Y(la,pa,Ea){return(Ea=Ea.match("(Macintosh;.*Mac OS X (\\d+)_(\\d+)[_\\d]*.*) AppleWebKit/"))&&Ea.length?parseInt(Ea[2])<=la||parseInt(Ea[2])===la&&parseInt(Ea[3])<=pa:!1}function ka(la){var pa;if(pa=/^(?!.*Chrome)(?!.*Chromium)(?!.*Edg)(?!.*OPR)(?=.*Safari)/.test(la))pa=
!/(Chrome|Chromium|Edg|OPR)/.test(la);return pa}return function(la,pa){return(pa=pa.match(/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//))&&pa.length?parseInt(pa[0])<=la:!1}(13,Q)||Y(10,15,Q)&&ka(Q)}(null===window||void 0===window?0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",function(){B()},{signal:cb});var y=!1,F,A=[],O=-1;d="string"===typeof d?d.toLowerCase():d;var K=!0===d||"beacon"===d||"true"===d,ca=!(!(K&&window.navigator&&window.navigator.sendBeacon)||N(window.navigator.userAgent))&&
K,ea=!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),ba="get"!==d&&ea&&("post"===d||K),ta=ba?e:"/i";d="convivaOutQueue_".concat(b,"_").concat(ba?"post2":"get");var P="convivaOutQueue_".concat(b,"_").concat(ba?"post2":"get");ok(d);ok("".concat(d,".expires"));K&&(m={});f=c&&Mp()&&ba&&f||1;if(c)try{var wa=window.localStorage.getItem(P);A=wa?JSON.parse(wa):[]}catch(Q){}Array.isArray(A)||(A=[]);a.outQueues.push(A);ea&&1<f&&a.bufferFlushers.push(function(Q){y||B(Q)});return{enqueueRequest:function(Q,
Y,ka){if(x()!=J.SAMPLING_MODES.NONE){F=Y+ta;if(ba){Q=C(Q);D([Q.evt]);Y=v();if(Q.bytes>=Y){y||B();va.warn("Event ("+Q.bytes+"B) too big, max is "+Y);H(Q,F);return}A.push(Q)}else{var la="?";var pa={co:!0,cx:!0},Ea=!0,Sa;for(Sa in Q)Q.hasOwnProperty(Sa)&&!pa.hasOwnProperty(Sa)&&(Ea?Ea=!1:la+="&",la+=encodeURIComponent(Sa)+"="+encodeURIComponent(Q[Sa]));for(var Fa in pa)Q.hasOwnProperty(Fa)&&pa.hasOwnProperty(Fa)&&(la+="&"+Fa+"="+encodeURIComponent(Q[Fa]));pa=g();if(0<pa&&(Ea=R(la),Ea=E(Ea),Ea>=pa)){va.warn("Event ("+
Ea+"B) too big, max is "+pa);ea&&(Q=C(Q),D([Q.evt]),H(Q,Y+e));return}A.push(la)}Y=!1;c&&(Y=Ef(P,JSON.stringify(A.slice(-1*k()))));!y&&-1===O&&Y&&(O=window.setTimeout(B,w()+Math.floor(Math.random()*q)));(y?0:!Y||!r()||ba&&U()>v()||A.length>f||ka)&&B()}},executeQueue:function(){y||B()},setUseLocalStorage:function(Q){c=Q},setAnonymousTracking:function(Q){p=Q},setCollectorUrl:function(Q){F=Q+ta},setBufferSize:function(Q){f=Q},setCustomHeaders:function(Q){m=Q}}}function Op(){(null===window||void 0===window?
0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",function(){var b,a,c,d,e,f,g,h=null===(b=null===hb||void 0===hb?void 0:hb.core)||void 0===b?void 0:b.getConfig();b=null===(c=null===(a=null===h||void 0===h?void 0:h.collectionRateLimit)||void 0===a?void 0:a.exceptionAutotracking)||void 0===c?void 0:c.maxEvents;a=null===(e=null===(d=null===h||void 0===h?void 0:h.collectionRateLimit)||void 0===d?void 0:d.exceptionAutotracking)||void 0===e?void 0:e.disconnectDuration;d=null===
(g=null===(f=null===h||void 0===h?void 0:h.collectionRateLimit)||void 0===f?void 0:f.exceptionAutotracking)||void 0===g?void 0:g.timeWindow;null===Wb||void 0===Wb?void 0:Wb.updateErrortRateLimitConfig(b,a,d)},{signal:cb})}function Pp(){var b,a,c,d,e,f,g;try{var h=null===(b=null===hb||void 0===hb?void 0:hb.core)||void 0===b?void 0:b.getConfig(),k=null===(c=null===(a=null===h||void 0===h?void 0:h.collectionRateLimit)||void 0===a?void 0:a.exceptionAutotracking)||void 0===c?void 0:c.maxEvents,l=null===
(e=null===(d=null===h||void 0===h?void 0:h.collectionRateLimit)||void 0===d?void 0:d.exceptionAutotracking)||void 0===e?void 0:e.disconnectDuration,p=null===(g=null===(f=null===h||void 0===h?void 0:h.collectionRateLimit)||void 0===f?void 0:f.exceptionAutotracking)||void 0===g?void 0:g.timeWindow;Wb=new Qp(k,l,p,null===hb||void 0===hb?void 0:hb.core,null===hb||void 0===hb?void 0:hb.getSamplingMode)}catch(m){console.warn("Conviva App Tracker caused Exception in initialiseRateLimiter method of error tracking module",
m)}}function Ek(b){try{(null===Wb||void 0===Wb?0:Wb.isAllowedToSendEvent())&&uh({message:b.message,filename:b.filename,lineno:b.lineno,colno:b.colno,error:b.error})}catch(a){console.warn("Conviva App Tracker caused Exception in captureError method of error tracking module",a)}}function Fk(b){try{(null===Wb||void 0===Wb?0:Wb.isAllowedToSendEvent())&&uh({message:b.reason})}catch(a){console.warn("Conviva App Tracker caused Exception in captureRejection method of error tracking module",a)}}function uh(b){var a,
c,d=b.message,e=b.filename,f=b.lineno,g=b.colno,h=b.error,k=b.context;b=b.timestamp;h=h&&h.stack?h.stack:void 0;if(!("undefined"===typeof d||null===d&&"undefined"===typeof h||null===h&&"undefined"===typeof f||null===f&&"undefined"===typeof g||null===g&&"undefined"===typeof e||null===e)){var l=null===(a=null===hb||void 0===hb?void 0:hb.core)||void 0===a?void 0:a.getConfig();if(null===l||void 0===l?0:l.exceptionAutotracking)null===(c=null===hb||void 0===hb?void 0:hb.core)||void 0===c?void 0:c.track(Sc({event:{sc:"sp/ae/1-0-1",
dt:{programmingLanguage:"JAVASCRIPT",message:d?Gk(d,2048):"JS Exception.",stackTrace:h?Gk(h,8192):"",lineNumber:f,lineColumn:g,fileName:e}}}),k,b)}}function Rp(b,a){var c;void 0===a&&(a=!0);if(!1!==a){var d=null===(c=null===b||void 0===b?void 0:b.core)||void 0===c?void 0:c.getConfig();null===b||void 0===b?void 0:b.trackPagePing({context:If(null===d||void 0===d?void 0:d.performanceContextConfig).contexts()});try{var e=function(){null===b||void 0===b?void 0:b.trackCustomEvent({name:"conviva_window_loaded",
data:"{}",context:If(null===d||void 0===d?void 0:d.performanceContextConfig).contexts()});null===b||void 0===b?void 0:b.setPageMetaTagsAsCustomTags()},f=0,g=0;"complete"===document.readyState?setTimeout(function(){try{e()}catch(h){console.warn("ConvivaAppTracker : issue while detecting readyState complete",h)}},0):null===window||void 0===window?void 0:window.addEventListener("load",function(){setTimeout(function(){try{e()}catch(h){console.warn("ConvivaAppTracker : issue while registering window loaded event",
h)}},0)},{signal:cb});null===document||void 0===document?void 0:document.addEventListener("visibilitychange",function(){var h,k;try{if((null===b||void 0===b?void 0:b.getSamplingMode())!==J.SAMPLING_MODES.NONE)if("hidden"===document.visibilityState)setTimeout(function(){var p,m;try{var n=null===(p=null===b||void 0===b?void 0:b.core)||void 0===p?void 0:p.getConfig();g++;if(null===n||void 0===n?0:n.lifecycleAutotracking)if(null===(m=null===b||void 0===b?void 0:b.core)||void 0===m)void 0;else{var q=m.track;
var t=Sc({event:{sc:"sp/abg/1-0-0",dt:Cd({backgroundIndex:g})}});q.call(m,t)}"hidden"!==document.visibilityState||(null===b||void 0===b?0:b.getPageViewSent())||(null===b||void 0===b?void 0:b.trackCustomEvent({name:"conviva_app_backgrnd_before_page_view",data:"{}"}))}catch(r){console.warn("ConvivaAppTracker : issue while tracking visibility change",r)}},0);else{var l=null===(h=null===b||void 0===b?void 0:b.core)||void 0===h?void 0:h.getConfig();f++;if(null===l||void 0===l?0:l.lifecycleAutotracking)null===
(k=null===b||void 0===b?void 0:b.core)||void 0===k?void 0:k.track(Sc({event:{sc:"sp/afg/1-0-0",dt:Cd({foregroundIndex:f})}}))}}catch(p){console.warn("convivaAppTracker visibilitychange failed "+p)}},{signal:cb});"undefined"!=typeof document&&document&&document.addEventListener&&document.addEventListener("convivaVideoEvent",function(h){h&&b&&(null===b||void 0===b?void 0:b.getSamplingMode())!==J.SAMPLING_MODES.NONE&&(null===b||void 0===b?void 0:b.trackVideoEvent(h))},{signal:cb})}catch(h){console.warn("convivaAppTracker error in page load metrics"+
h)}}}function Sp(b){var a,c,d,e,f;if(null===b||void 0===b?0:b.softNavigationTrackingConfiguration)b=b.softNavigationTrackingConfiguration,Yc=W(W({},gc),{idleWindowMs:null!==(a=b.idleWindowMs)&&void 0!==a?a:gc.idleWindowMs,maxMeasurementMs:null!==(c=b.maxMeasurementMs)&&void 0!==c?c:gc.maxMeasurementMs,includeHashChanges:null!==(d=b.includeHashChanges)&&void 0!==d?d:gc.includeHashChanges,domainAllowlist:null!==(e=b.domainAllowlist)&&void 0!==e?e:gc.domainAllowlist,domainBlocklist:null!==(f=b.domainBlocklist)&&
void 0!==f?f:gc.domainBlocklist,requireLcp:gc.requireLcp,lcpTimeoutMs:gc.lcpTimeoutMs})}function vh(b){b=new URL(b,location.href);return"".concat(b.origin).concat(b.pathname).concat(b.search).concat(b.hash)}function Hk(b){b=b.split("#");var a=b[1];return{originPathSearch:b[0],hash:null!==a&&void 0!==a?a:""}}function Tp(b,a){return new Promise(function(c){var d=function(){var e=performance.now();if(e-b>=Yc.maxMeasurementMs)c(e);else{var f=performance.now()-((null===Za||void 0===Za?void 0:Za.lastLongTaskTs)||
0)>=a,g=0===((null===Mf||void 0===Mf?void 0:Mf.getInflightRequests())||0);f&&g?c(e):requestAnimationFrame(d)}};setTimeout(function(){return requestAnimationFrame(d)},50)})}function Up(){if(Za&&!Za.patched){Za.patched=!0;try{(new PerformanceObserver(function(a){var c=0;for(a=a.getEntries();c<a.length;c++)Za.lastLongTaskTs=performance.now()})).observe({entryTypes:["longtask"]})}catch(a){}try{var b=new PerformanceObserver(function(a){var c=0;for(a=a.getEntries();c<a.length;c++)Za.lastLcpTs=a[c].startTime});
b.observe({type:"largest-contentful-paint",buffered:!0});null===window||void 0===window?void 0:window.addEventListener("pagehide",function(){try{b.disconnect()}catch(a){}})}catch(a){}}}function Ik(b){var a=history[b];history[b]=function(c,d,e){c=a.call(this,c,d,e);wh(b,null!==e&&void 0!==e?e:location.href);return c}}function wh(b,a){if(Za){a=vh(a);if(!Yc.includeHashChanges){var c=Hk(Za.lastUrlKey),d=Hk(a);if(c.originPathSearch===d.originPathSearch&&c.hash!==d.hash)return}if(a!==Za.lastUrlKey||"replaceState"===
b)Za.lastUrlKey=a,Za.currentMeasurement&&(Za.currentMeasurement=null),Vp(b,a)}}function Vp(b,a){return Qc(this,void 0,void 0,function(){var c,d,e,f,g;return Rc(this,function(h){switch(h.label){case 0:if(!Za||!xh)return[2];c=++Za.navSeq;d=performance.now();Za.currentMeasurement={id:c,startTime:d,urlKey:a,trigger:b};return[4,Tp(d,Yc.idleWindowMs)];case 1:e=h.sent();if(!Za.currentMeasurement||Za.currentMeasurement.id!==c)return[2];f=Math.round((e-d)/1E3*100)/100;g={load_time:f,page_url:a,trigger:b,navigation_id:c,
start_time:Math.round(d/1E3*100)/100,end_time:Math.round(e/1E3*100)/100};try{xh.trackCustomEvent({name:"conviva_soft_navigation",data:g})}catch(k){}Za.currentMeasurement=null;return[2]}})})}function Wp(b){var a,c,d;try{var e=null===(a=null===b||void 0===b?void 0:b.core)||void 0===a?void 0:a.getConfig();Sp(e);if((null!==(d=null===(c=null===e||void 0===e?void 0:e.softNavigationTrackingConfiguration)||void 0===c?void 0:c.enabled)&&void 0!==d?d:xa.softNavigationTrackingConfiguration.enabled)&&(null===
b||void 0===b?void 0:b.getSamplingMode())!==J.SAMPLING_MODES.NONE){var f=location.hostname;Yc.domainAllowlist.length&&!Yc.domainAllowlist.some(function(g){return f.endsWith(g)})||Yc.domainBlocklist.some(function(g){return f.endsWith(g)})||(Za={lastLongTaskTs:0,lastLcpTs:0,currentMeasurement:null,navSeq:0,patched:!1,lastUrlKey:vh(location.href)},xh=b,Mf=Jk.getInstance(b.trackNetworkRequest,b.trackerConfiguration,b.getSamplingMode),Up(),Ik("pushState"),Ik("replaceState"),addEventListener("popstate",
function(){return wh("popstate",location.href)},{signal:cb}),addEventListener("hashchange",function(){return wh("hashchange",location.href)},{signal:cb}),document.addEventListener("DOMContentLoaded",function(){Za&&(Za.lastUrlKey=vh(location.href))},{signal:cb}))}}catch(g){}}function Kk(){var b=localStorage.getItem("Conviva.sdkConfig"),a={};if(b)try{a=JSON.parse(b)}catch(c){}return a}function Lk(){var b=null;try{if(window.localStorage){var a=localStorage.getItem(J.REMOTE_CONFIG_STORAGE_KEY);a&&(b=
JSON.parse(a).sessionReplayConfiguration)}}catch(c){}return b}function Mk(b,a){if(b===a||Number.isNaN(b)&&Number.isNaN(a))return!0;if("object"!==T(b)||null===b||"object"!==T(a)||null===a)return!1;if(b instanceof Date&&a instanceof Date)return b.getTime()===a.getTime();var c=Object.keys(b),d=Object.keys(a);return c.length!==d.length?!1:c.every(function(e){return d.includes(e)&&Mk(b[e],a[e])})}function yh(){if("undefined"===typeof window)return!1;try{return window.top===window.self}catch(b){return!1}}
function Xp(b,a){var c;try{if("undefined"!==typeof window&&(null===(c=window.__CONVIVA_SESSION_REPLAY__)||void 0===c||!c.inited)&&(window.__CONVIVA_SESSION_REPLAY__={inited:!0},zh=b,Nk=a,yh())){if(Rd="true"===(null===localStorage||void 0===localStorage?void 0:localStorage.getItem(J.SESSION_RECORDING_STARTED))){var d=Lk();Ok(d)}Yp()}}catch(e){}}function Yp(){(null===window||void 0===window?0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",function(){try{if(zh.getSamplingMode()!==
J.SAMPLING_MODES.RCFG)Rd&&(null===localStorage||void 0===localStorage?void 0:localStorage.setItem(J.SESSION_RECORDING_STARTED,"false"),Ah(!0)),Je&&(Je=null);else{var b=Lk();if(null===Je||!Mk(Je,b))if(Je=b,yh()){if(b){var a=!1,c=!1;try{if(a=b.enabled)try{var d=Kk(),e=b.sampling.pct;c=0===e?!1:100===e?!0:Zp.shouldInclude(e,d.clId)}catch(g){}}catch(g){}var f=a&&c}else f=!1;b&&f?(Zc&&Ah(!1),Rd||(Rd=!0,null===localStorage||void 0===localStorage?void 0:localStorage.setItem(J.SESSION_RECORDING_STARTED,"true"),
Ok(b))):Rd&&(null===localStorage||void 0===localStorage?void 0:localStorage.setItem(J.SESSION_RECORDING_STARTED,"false"),Ah(!0))}}}catch(g){}},{signal:cb})}function Ah(b){null===Zc||void 0===Zc?void 0:Zc.stopRecording(b);Rd=!1;Zc=null}function Ok(b){yh()&&(Zc=new $p(zh,Nk,b),Zc.initiateRecording())}function Ab(){if(!Gb)return!1;var b=Gb.core.getConfig();b=null===b||void 0===b?void 0:b.valueProbes;return!0===(null===b||void 0===b?void 0:b.enabled)}function aq(b){return new Promise(function(a){return setTimeout(a,
b)})}function Pk(b){b=new URL(b,location.href);return"".concat(b.origin).concat(b.pathname).concat(b.search).concat(b.hash)}function Qk(b){var a=b.emit||"once_per_view";return"always"===a?!0:"once_per_session"===a?!Nf.has(b.id):"once_per_view"===a?!Ke.has(b.id):!1}function bq(b,a){if(!a)return!0;var c=a.key,d=a.op;a=a.val;var e=null;e="class"===c?b.className||"":"id"===c?b.id||"":b.getAttribute(c)||"";var f=e.toLowerCase();b=Array.isArray(a)?a.map(function(g){return String(g).toLowerCase()}):[String(a).toLowerCase()];
return"=="===d?b.includes(f):"contains"===d?b.some(function(g){return f.includes(g)}):!1}function Rk(b){return Qc(this,void 0,void 0,function(){var a;return Rc(this,function(c){switch(c.label){case 0:if(!Ab())return[2];if(10<=Bh)return Ch.push(b),[2];Bh++;c.label=1;case 1:return c.trys.push([1,,3,4]),[4,cq(b)];case 2:return c.sent(),[3,4];case 3:return Bh--,0<Ch.length&&(a=Ch.shift(),Rk(a)),[7];case 4:return[2]}})})}function cq(b){var a,c,d;return Qc(this,void 0,void 0,function(){var e,f,g,h,k,l,
p,m,n,q,t,r,v,w,x,C,E;return Rc(this,function(H){switch(H.label){case 0:if(!Ab()||!Qk(b))return[2];e=Date.now();f=[0,50,200];g=null!==(c=null===(a=b.strategy)||void 0===a?void 0:a.maxTotalMs)&&void 0!==c?c:1E3;h=(null===(d=b.strategy)||void 0===d?0:d.retries)&&0<b.strategy.retries.length?b.strategy.retries:f;for(var D=b.id,B=0,I=0;I<D.length;I++)B=(B<<5)-B+D.charCodeAt(I),B&=B;k=Math.abs(B)%100;l=0;p=[];q=n=m=0;H.label=1;case 1:if(!(q<h.length))return[3,5];t=h[q];r=0===q?0:Math.max(0,t+2*(k%20/20-
.5)*Math.min(.1*t,5));return 0<r?[4,aq(r)]:[3,3];case 2:H.sent(),H.label=3;case 3:if(Date.now()-e>=g)return[3,5];l++;D=b.conditions;B=[];I=0;for(var L=b.selectors;I<L.length;I++){var V=L[I];try{var R=document.querySelectorAll(V);for(V=0;V<R.length;V++){var U=R[V];bq(U,D)&&B.push(U)}if(0<B.length)break}catch(wa){}}v=B;0<v.length&&0===p.length&&(p=v,m=Date.now()-e,n=l);H.label=4;case 4:return q++,[3,1];case 5:if(0<p.length){w=b.emit||"once_per_view";x=0;for(C=p;x<C.length;x++){E=C[x];var N=E;H=b;R=
m;U=n;if(Gb)try{if(Gb.getSamplingMode()!==J.SAMPLING_MODES.NONE){var y=void 0,F=void 0,A=N,O=H,K={};B=J.CLICK_KEY_MAX_LENGTH;A.id&&(K.id=Oa(A.id,B));A.className&&(K["class"]=Oa(A.className,B));A.tagName&&(K.elementName=Oa(A.tagName.toLowerCase(),B));if(null===(F=A.innerText)||void 0===F?0:F.trim())K.text=Oa(A.innerText.trim(),B);A.getAttribute("name")&&(K.name=Oa(A.getAttribute("name")||"",B));A.getAttribute("type")&&(K.elementType=Oa((null===(y=A.getAttribute("type"))||void 0===y?void 0:y.toLowerCase())||
"",B));if(null===A||void 0===A?0:A.placeholder)K.placeholder=Oa(A.placeholder,B);"password"!==A.getAttribute("type")&&A.value&&(K.value=Oa(A.value,B));if(O.collectAttributes&&0<O.collectAttributes.length)for(y=0,I=O.collectAttributes;y<I.length;y++)L=I[y],(V=A.getAttribute(L))&&(K[L]=Oa(V,B));D=K;b:{var ca=H.selectors;for(A=0;A<ca.length;A++){var ea=ca[A];try{if(N.matches(ea)){var ba=ea;break b}}catch(wa){}}ba=null}var ta={probeId:H.id,selectorMatched:ba||H.selectors[0]||"",timestamp:Date.now(),attemptCount:U,
discoveryTime:R,method:1===U?"immediate":"retry"},P=W(W({},D),ta);Gb.core.track(qc({name:"conviva_dom_value_probe",data:JSON.stringify(P)}))}}catch(wa){va.warn("Conviva App Tracker: Error emitting probe event",wa)}}D=b.id;B=w||"once_per_view";"once_per_session"===B?Nf.add(D):"once_per_view"===B&&Ke.add(D)}return[2]}})})}function Dh(b){if(Ab()&&Gb&&0!==b.length){var a=0;for(b=b.filter(function(c){return Qk(c)});a<b.length;a++)Rk(b[a])}}function Sk(){var b;if(Ab()&&Gb){var a=Gb.core.getConfig(),c=null===
a||void 0===a?void 0:a.valueProbes;(null===c||void 0===c?0:c.enabled)&&(null===(b=null===c||void 0===c?void 0:c.probes)||void 0===b?0:b.length)&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){Ab()&&requestAnimationFrame(function(){return Dh(c.probes)})}):Ab()&&requestAnimationFrame(function(){return Dh(c.probes)}))}}function Eh(b,a){var c;if(Ab()&&Gb){a=Pk(a);var d=Pk(location.href);if(a!==d||"replaceState"===b)Ke.clear(),b=Gb.core.getConfig(),b=null===b||
void 0===b?void 0:b.valueProbes,(null===b||void 0===b?0:b.enabled)&&(null===(c=null===b||void 0===b?void 0:b.probes)||void 0===c?0:c.length)&&(c=b.probes.filter(function(e){return"once_per_view"===(e.emit||"once_per_view")}),0<c.length&&Dh(c))}}function dq(){if(Ab()&&!Tk&&Gb){var b=history.pushState,a=history.replaceState;history.pushState=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];b.apply(this,c);Ab()&&Eh("pushState",location.href)};history.replaceState=function(){for(var c=
[],d=0;d<arguments.length;d++)c[d]=arguments[d];a.apply(this,c);Ab()&&Eh("replaceState",location.href)};Fb(window,"popstate",function(){Ab()&&Eh("popstate",location.href)},{signal:cb});Tk=!0}}function eq(){"undefined"!==typeof window&&window.addEventListener&&window.addEventListener("RemoteConfigUpdateApplied",function(){Uk?Ab()?(Nf.clear(),Ke.clear(),Sk()):(Nf.clear(),Ke.clear()):Uk=!0},{signal:cb})}function fq(b){try{Gb=b,(null===b||void 0===b?void 0:b.getSamplingMode())!==J.SAMPLING_MODES.NONE&&
Ab()&&(dq(),eq(),Sk())}catch(a){va.warn("Conviva App Tracker: Error enabling DOM value probe",a)}}function Sd(b,a){return Fh.get(b)||Fh.set(b,new a),Fh.get(b)}function Gh(b){var a,c;try{var d=Hh.core.getConfig();if(!0===(null===(a=null===d||void 0===d?void 0:d.webVitals)||void 0===a?void 0:a.enabled)){var e="conviva_webvitals_".concat(b.name.toLowerCase()),f={value:b.value,rating:b.rating,delta:b.delta,id:b.id,navigationType:b.navigationType,attribution:gq(b,(null===(c=null===d||void 0===d?void 0:
d.webVitals)||void 0===c?void 0:c.collectattr)||[])};Hh.core.track(qc({name:e,data:JSON.stringify(f)}))}}catch(g){console.warn("Error sending Web Vitals event",g)}}function gq(b,a){var c=b.attribution;if(c){var d={};(b={LCP:"target",INP:"interactionTarget",CLS:"largestShiftTarget"}[b.name])&&null!=c[b]&&(d[b]=c[b]);a.forEach(function(e){if(e){var f=e.split("."),g=c;for(e=0;e<f.length;e++){var h=f[e];if(g&&"object"===T(g)&&h in g)g=g[h];else return}var k=d;f.forEach(function(l,p){if(p===f.length-1)k[l]=
g;else{if("object"!==T(k[l])||null===k[l])k[l]={};k=k[l]}})}});return Object.keys(d).length?d:void 0}}function hq(b,a,c,d,e){void 0===e&&(e={});var f=[];b=function(h,k,l,p,m){function n(){$c=sk(window.location.hostname,window.location.href,nh());$c[1]!==hc&&(Le=nh(hc));Vk=mk($c[0]);hc=$c[1]}function q(u){try{var z=(new Date).getTime(),G=u.currentTarget;if(null===G||void 0===G?0:G.href){u="_cnv="+(Of+"."+z);var M=G.href.split("#"),Z=M[0].split("?"),fa=Z.shift(),ja=Z.join("?");if(ja){Z=!0;var aa=ja.split("&");
for(z=0;z<aa.length;z++)if("_cnv="===aa[z].substr(0,5)){Z=!1;aa[z]=u;ja=aa.join("&");break}Z&&(ja=u+"&"+ja)}else ja=u;M[0]=fa+"?"+ja;var ha=M.join("#");G.href=ha}}catch(za){console.warn("Conviva App Tracker:: Error in linkDecorationHandler of decorateLinks ".concat(za))}}function t(u){if("undefined"!=typeof document&&document.links&&0<document.links.length)for(var z=0;z<document.links.length;z++){var G=document.links[z];!G.spDecorationEnabled&&u(G)&&(Fb(G,"click",q,!0),Fb(G,"mousedown",q,!0),G.spDecorationEnabled=
!0)}}function r(u){if(Wk){var z=/#.*/;u=u.replace(z,"")}Xk&&(z=/[{}]/g,u=u.replace(z,""));return u}function v(u){return(u=/^([a-z]+):/.exec(u))?u[1]:null}function w(u){var z,G,M,Z=null!==(M=null===(G=null===(z=ic.getConfig().emitterConfiguration)||void 0===z?void 0:z.batching)||void 0===G?void 0:G.urgentEvents)&&void 0!==M?M:[],fa=z="",ja="",aa="";G=u.getPayload();"string"===typeof G.e&&(aa=G.e);if("ue"!==aa&&"pv"!==aa&&"pp"!==aa)return!1;u=u.getJson().find(function(ha){return"ue_pr"===ha.keyIfNotEncoded||
"ue_px"===ha.keyIfEncoded});"undefined"!==typeof u&&(u=u.json,"object"===T(u.dt)&&null!==u.dt&&(u=u.dt,"string"===typeof u.sc&&(z=u.sc),"object"===T(u.dt)&&"string"===typeof u.dt.name&&(fa=u.dt.name)),ja=z.split("/")[1]||"");return Z.some(function(ha){ha=ha.toLowerCase();return""===ha?!1:ha===aa.toLowerCase()||ha===ja.toLowerCase()||ha===fa.toLowerCase()})}function x(u){u=Td+u+"."+ad;if("localStorage"==ob){try{var z=window.localStorage,G=z.getItem(u+".expires");if(null===G||+G>Date.now())var M=z.getItem(u);
else z.removeItem(u),z.removeItem(u+".expires"),M=void 0}catch(Z){M=void 0}return M}if("cookie"==ob||"cookieAndLocalStorage"==ob)return ec(u)}function C(){n();ad=iq((Me||Vk)+(Ih||"/")).slice(0,4)}function E(){Jh=(new Date).getTime()}function H(){var u=D(),z=u[0];z<Pf?Pf=z:z>Qf&&(Qf=z);u=u[1];u<Rf?Rf=u:u>Sf&&(Sf=u);E()}function D(){var u="undefined"!=typeof document?null===document||void 0===document?void 0:document.documentElement:void 0;return u?[u.scrollLeft||window.pageXOffset,u.scrollTop||window.pageYOffset]:
[0,0]}function B(){var u=D(),z=u[0];Qf=Pf=z;Sf=Rf=u=u[1]}function I(){V(Td+"ses."+ad,"*",Yk)}function L(u){var z=Td+"id."+ad;u.shift();u=u.join(".");V(z,u,Zk)}function V(u,z,G){if(!Ne||Tf)"localStorage"==ob?Ef(u,z,G):("cookie"==ob||"cookieAndLocalStorage"==ob)&&ec(u,z,G,Ih,Me,Uf,Vf)}function R(u){var z=Td+"id."+ad,G=Td+"ses."+ad;nk(z);nk(G);Nd(z,Me,Uf,Vf);Nd(G,Me,Uf,Vf);null!==u&&void 0!==u&&u.preserveSession||(bd=pc.v4(),Xb=1);null!==u&&void 0!==u&&u.preserveUser||(Of=pc.v4(),cd=null)}function U(u){u&&
u.stateStorageStrategy&&(m.stateStorageStrategy=u.stateStorageStrategy,ob=jc(m));Ne=!!m.anonymousTracking;Tf=Ud(m);Kh=$k(m);kc.setUseLocalStorage("localStorage"==ob||"cookieAndLocalStorage"==ob);kc.setAnonymousTracking(Kh)}function N(){var u;try{var z=null;if(null===(u=null===m||void 0===m?void 0:m.configs)||void 0===u?0:u.enableClIdInCookies){b:{u="Conviva_sdkConfig";try{var G=ec(u);if(G&&0<G.length){try{if("string"===typeof G&&0!==G.length&&/%[0-9A-Fa-f]{2}/.test(G)){var M=decodeURIComponent(G);
var Z=!/%[0-9A-Fa-f]{2}/.test(M)}else Z=!1}catch(Da){Z=!1}if(Z)Nd(u,K(),"None",!0);else{var fa=G;break b}}fa=window.localStorage.getItem(u)}catch(Da){va.warn("getConvivaCookie",Da),fa=null}}fa&&(z=fa)}else try{Nd("Conviva_sdkConfig",K(),"None",!0)}catch(Da){}z||(z=window.localStorage.getItem("Conviva.sdkConfig"));var ja=JSON.parse(z||"{}");"{}"===ja||"undefined"===typeof ja?Oe=ca():(Oe=ja.clId||ca(),2147483648<=Wf?Wf=-1:Wf++);try{Xf=Math.floor(2147483647*Math.random())}catch(Da){console.warn(Da),
Xf=-1}var aa=W(W({},ja),{clId:Oe,iid:Xf});b:{var ha;try{z=null;try{z=JSON.stringify(aa)}catch(Da){break b}window.localStorage.setItem("Conviva.sdkConfig",z);if(null===(ha=null===m||void 0===m?void 0:m.configs)||void 0===ha?0:ha.enableClIdInCookies){aa=z;try{var za=K();ec("Conviva_sdkConfig",aa,void 0,"/",za,"None",!0)}catch(Da){va.warn("setConvivaCookie",Da)}}}catch(Da){}}}catch(Da){va.warn("getEventIndexByClid",Da)}if(!Ne||Tf)za="none"!=ob&&!!x("ses"),aa=y(),aa[1]?ha=aa[1]:(ha=Ne?"":pc.v4(),aa[1]=
ha),Of=ha,bd=za?aa[6]:Ge(aa),Xb=aa[3],"none"!=ob&&(I(),qh(aa),L(aa))}function y(){if("none"==ob)return["1","",0,0,0,void 0,"","","",void 0];var u=x("id")||void 0;return vp(u,Of,bd,Xb)}function F(u,z){var G,M,Z,fa,ja=!0,aa=ic.getConfig();"undefined"!==typeof aa.mend?ja=aa.mend:"undefined"!==typeof(null===(M=null===(G=null===m||void 0===m?void 0:m.configs)||void 0===G?void 0:G.network)||void 0===M?void 0:M.mergeEndpoint)&&(ja=null===(fa=null===(Z=null===m||void 0===m?void 0:m.configs)||void 0===Z?void 0:
Z.network)||void 0===fa?void 0:fa.mergeEndpoint);return 0===u.indexOf("http")?(z&&ja&&(u=u.replace(/^(https?:\/\/)(.*)$/,"$1"+z+".$2")),u):z&&ja?("https:"===document.location.protocol?"https":"http")+"://"+z+"."+u:("https:"===document.location.protocol?"https":"http")+"://"+u}function A(){al&&null!=p.pageViewId||(p.pageViewId=pc.v4())}function O(){null==p.pageViewId&&(p.pageViewId=pc.v4());return p.pageViewId}function K(){var u=window.location.hostname,z=u.split(".");return 2<=z.length?"."+z.slice(-2).join("."):
u}function ca(){try{return ba({"First Launch":"Yes"}),Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()}catch(u){console.warn(u)}}function ea(u){try{var z=JSON.parse(u);return"object"===T(z)}catch(G){return!1}}function ba(u){try{var z=Object.keys(u);ea(JSON.stringify(u))?z.forEach(function(G){if(""!==G.trim()){var M=u[G];M&&""!==M&&(M="object"===
T(M)?JSON.stringify(M):""+M,Object.defineProperty(Pe,G,{value:M,writable:!0,enumerable:!0,configurable:!0}))}}):console.warn("Conviva AppTracker:: Invalid JSON Format")}catch(G){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",G)}}function ta(u){try{u.forEach(function(z){delete Pe[z]})}catch(z){console.warn("Conviva AppTracker:: Failed to unset Custom tag(s). Check format of keys set.")}}function P(u){try{var z=Object.keys(u);ea(JSON.stringify(u))?z.forEach(function(G){""!==
G&&Object.defineProperty(Lh,G,{value:""+u[G],writable:!0,enumerable:!0,configurable:!0})}):console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=")}catch(G){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",G)}}function wa(u){try{var z=Object.keys(u);ea(JSON.stringify(u))?z.forEach(function(G){if(""!==G.trim()){var M=u[G];M&&""!==M&&("object"!==T(M)&&(M=""+M),Object.defineProperty(Pe,G,{value:M,writable:!0,enumerable:!0,configurable:!0}))}}):console.warn("Conviva AppTracker:: Invalid JSON Format")}catch(G){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",
G)}}function Q(u){var z=u.context;u=u.contextCallback;var G=new Date,M=!1;if(wb.enabled&&!wb.installed){M=wb.installed=!0;var Z={update:function(){if("undefined"!==typeof window&&"function"===typeof window.addEventListener){var ja=!1,aa=Object.defineProperty({},"passive",{get:function(){ja=!0},set:function(){}}),ha=function(){};window.addEventListener("testPassiveEventSupport",ha,aa);window.removeEventListener("testPassiveEventSupport",ha,aa);Z.hasSupport=ja}}};Z.update();var fa="onwheel"in document.createElement("div")?
"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(Z,"hasSupport")?Fb(document,fa,E,{passive:!0}):Fb(document,fa,E);B();fa=function(ja,aa){void 0===aa&&(aa=E);return function(ha){return Fb(document,ha,aa)}};"click mouseup mousedown mousemove keypress keydown keyup".split(" ").forEach(fa(document));["resize","focus","blur"].forEach(fa(window));fa(window,H)("scroll")}if(wb.enabled&&(jq||M))for(G in Jh=G.getTime(),G=void 0,wb.configurations)if(M=
wb.configurations[G])window.clearInterval(M.activityInterval),ka(M,z,u)}function Y(){var u,z,G,M,Z,fa,ja,aa,ha,za,Da,Nb,Yb,Bb,dd,Qe,$a,Vd,Re,Se,lc,Mh,Nh,Oh,Ph,Qh,Rh,Sh,Th,Uh,Vh,Wh;try{var Ia=null===(u=null===g||void 0===g?void 0:g.core)||void 0===u?void 0:u.getConfig();u=void 0;Lh={};var Yf=Wd.MERGE;"undefined"!==typeof(null===(G=null===(z=null===m||void 0===m?void 0:m.configs)||void 0===z?void 0:z.metaTagsTracking)||void 0===G?void 0:G.preference)?Yf=null===(Z=null===(M=null===m||void 0===m?void 0:
m.configs)||void 0===M?void 0:M.metaTagsTracking)||void 0===Z?void 0:Z.preference:!0===(null===(ja=null===(fa=null===m||void 0===m?void 0:m.configs)||void 0===fa?void 0:fa.metaTagsTracking)||void 0===ja?void 0:ja.force)?Yf=Wd.APP:"undefined"!==typeof(null===(aa=null===Ia||void 0===Ia?void 0:Ia.metaTagsTrackingConfiguration)||void 0===aa?void 0:aa.pref)&&(Yf=null===(ha=null===Ia||void 0===Ia?void 0:Ia.metaTagsTrackingConfiguration)||void 0===ha?void 0:ha.pref);switch(Yf){case Wd.APP:if(!1===(null===
(Da=null===(za=null===m||void 0===m?void 0:m.configs)||void 0===za?void 0:za.metaTagsTracking)||void 0===Da?void 0:Da.enabled))return;0<(null===(Bb=null===(Yb=null===(Nb=null===m||void 0===m?void 0:m.configs)||void 0===Nb?void 0:Nb.metaTagsTracking)||void 0===Yb?void 0:Yb.tags)||void 0===Bb?void 0:Bb.length)&&(u=ib([],null===(Qe=null===(dd=null===m||void 0===m?void 0:m.configs)||void 0===dd?void 0:dd.metaTagsTracking)||void 0===Qe?void 0:Qe.tags,!0));break;case Wd.REMOTE:if(!1===(null===($a=null===
Ia||void 0===Ia?void 0:Ia.metaTagsTrackingConfiguration)||void 0===$a?void 0:$a.enabled))return;"undefined"!=typeof(null===Ia||void 0===Ia?void 0:Ia.metaTagsTrackingConfiguration)&&0<(null===(Re=null===(Vd=null===Ia||void 0===Ia?void 0:Ia.metaTagsTrackingConfiguration)||void 0===Vd?void 0:Vd.tags)||void 0===Re?void 0:Re.length)&&(u=ib([],null===(Se=null===Ia||void 0===Ia?void 0:Ia.metaTagsTrackingConfiguration)||void 0===Se?void 0:Se.tags,!0));break;default:if("undefined"==typeof(null===Ia||void 0===
Ia?void 0:Ia.metaTagsTrackingConfiguration)&&!1===(null===(Mh=null===(lc=null===m||void 0===m?void 0:m.configs)||void 0===lc?void 0:lc.metaTagsTracking)||void 0===Mh?void 0:Mh.enabled)||"undefined"==typeof(null===(Nh=null===m||void 0===m?void 0:m.configs)||void 0===Nh?void 0:Nh.metaTagsTracking)&&!1===(null===(Oh=null===Ia||void 0===Ia?void 0:Ia.metaTagsTrackingConfiguration)||void 0===Oh?void 0:Oh.enabled))return;var bl=null===(Qh=null===(Ph=null===m||void 0===m?void 0:m.configs)||void 0===Ph?void 0:
Ph.metaTagsTracking)||void 0===Qh?void 0:Qh.tags,cl=null===(Rh=null===Ia||void 0===Ia?void 0:Ia.metaTagsTrackingConfiguration)||void 0===Rh?void 0:Rh.tags;!1===(null===(Th=null===(Sh=null===m||void 0===m?void 0:m.configs)||void 0===Sh?void 0:Sh.metaTagsTracking)||void 0===Th?void 0:Th.enabled)&&(bl=[]);!1===(null===(Uh=null===Ia||void 0===Ia?void 0:Ia.metaTagsTrackingConfiguration)||void 0===Uh?void 0:Uh.enabled)&&(cl=[]);u=ib([],pp(bl||[],cl||[]),!0)}if("undefined"!=typeof u&&0<(null===u||void 0===
u?void 0:u.length)){z={};var ed=null===document||void 0===document?void 0:document.head,Xd=null===ed||void 0===ed?void 0:ed.getElementsByTagName("meta");if("undefined"!=typeof Xd&&0<(null===Xd||void 0===Xd?void 0:Xd.length))for(ed=0;ed<Xd.length;ed++){var dl=Xd[ed];for(G=0;G<u.length;G++){var Zf=dl.getAttribute(u[G].key),el=dl.getAttribute(u[G].value);M=void 0;if(null===(Vh=u[G])||void 0===Vh?0:Vh.condition)M=null===(Wh=u[G])||void 0===Wh?void 0:Wh.condition;Zf&&(M&&M.includes(Zf)?z[Zf]=el:M&&0!==
M.length||(z[Zf]=el))}}g.setMetaCustomTags(z)}}catch(kq){console.warn("Conviva App Tracker:: setPageMetaTagsAsCustomTags",kq)}}function ka(u,z,G){var M=function(fa,ja){var aa;n();var ha=null===(aa=null===g||void 0===g?void 0:g.core)||void 0===aa?void 0:aa.getConfig();ha.enablePeriodicHeartbeat?(void 0!=ha.periodicHeartbeatInterval&&(aa=1E3*ha.periodicHeartbeatInterval,aa!=u.configHeartBeatTimer&&(u.configHeartBeatTimer=aa,window.clearInterval(u.activityInterval),u.activityInterval=window.setInterval(Z,
aa))),fa({context:ja,pageViewId:O(),minXOffset:Pf,minYOffset:Rf,maxXOffset:Qf,maxYOffset:Sf})):window.clearInterval(u.activityInterval);B()};window.setTimeout(function(){M(u.callback,(z||[]).concat(G?G():[]))},2E3);var Z=function(){var fa=new Date;(!1===(null===document||void 0===document?void 0:document.hidden)||"visible"==(null===document||void 0===document?void 0:document.visibilityState)||(null===document||void 0===document?0:document.pictureInPictureElement)||Jh+u.configHeartBeatTimer>fa.getTime()||
!0===fl)&&M(u.callback,(z||[]).concat(G?G():[]))};u.activityInterval=window.setInterval(Z,u.configHeartBeatTimer)}function la(u){var z=u.minimumVisitLength,G=u.heartbeatDelay;u=u.callback;if(Ee(z)&&Ee(G))return{configMinimumVisitLength:1E3*z,configHeartBeatTimer:1E3*G,callback:u};va.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function pa(u){var z=u.context,G=u.minXOffset,M=u.minYOffset,Z=u.maxXOffset,fa=u.maxYOffset;u=document.title;u!==zc&&(zc=u,Yd=void 0);if(fd()!==
J.SAMPLING_MODES.NONE){Ea();u=ic;var ja=u.track,aa=r(gd||hc),ha=mh(Yd||zc),za=r($f||Le);G=Math.round(G);Z=Math.round(Z);M=Math.round(M);fa=Math.round(fa);var Da=Lg();Da.add("e","pp");Da.add("url",aa);Da.add("page",ha);Da.add("refr",za);G&&!isNaN(Number(G))&&Da.add("pp_mix",G.toString());Z&&!isNaN(Number(Z))&&Da.add("pp_max",Z.toString());M&&!isNaN(Number(M))&&Da.add("pp_miy",M.toString());fa&&!isNaN(Number(fa))&&Da.add("pp_may",fa.toString());ja.call(u,Da,z)}}function Ea(){var u,z,G=null===(z=null===
g||void 0===g?void 0:g.core)||void 0===z?void 0:z.getConfig().pageUrlTrackingConfig;z=Pe[J.PAGE_URL_QUERY_PARAMS];if(G){var M={targetUrl:r(gd||hc),rqq:{}};M=pk(M,null===G||void 0===G?void 0:G.collectattr,null,null===G||void 0===G?void 0:G.maxQueryLength);if(!z&&M.rqq||z!==JSON.stringify(M.rqq))ta([J.PAGE_URL_QUERY_PARAMS]),wa((u={},u[J.PAGE_URL_QUERY_PARAMS]=M.rqq,u))}else z&&ta([J.PAGE_URL_QUERY_PARAMS])}var Sa,Fa,ua,kb,ma,Pa,ia,fb,dc,hd,id,jd,kd,ld,md,nd;if(window&&window.localStorage){var Te=window.localStorage,
mc={sensorVersion:l,ck:null!==(Sa=m.convivaCustomerKey)&&void 0!==Sa?Sa:""};mc=JSON.stringify(mc);mc="function"===typeof btoa?btoa(mc):yn(mc);Te.setItem(J.VISUAL_LABELLING_CONFIG,mc)}var od=Zb,ag=cb;od&&ag||("function"===typeof AbortController&&(Zb=new AbortController),cb=null===Zb||void 0===Zb?void 0:Zb.signal);k||(k="CAT");var sa=lq(l,k,m).convivaRemoteTrackerConfig;null===(Fa=If(sa.performanceContextConfig))||void 0===Fa?void 0:Fa.activateLCPObserver();m.eventMethod=null!==(ua=m.eventMethod)&&
void 0!==ua?ua:"post";var jc=function(u){var z;return null!==(z=u.stateStorageStrategy)&&void 0!==z?z:"cookieAndLocalStorage"},Ud=function(u){var z,G;return"boolean"===typeof u.anonymousTracking?!1:null!==(G=!0===(null===(z=u.anonymousTracking)||void 0===z?void 0:z.withSessionTracking))&&void 0!==G?G:!1},$k=function(u){var z,G;return"boolean"===typeof u.anonymousTracking?!1:null!==(G=!0===(null===(z=u.anonymousTracking)||void 0===z?void 0:z.withServerAnonymisation))&&void 0!==G?G:!1};f.push(function(){return{beforeTrack:function(u){var z=
x("ses"),G=y();Xh=Yh?!!ec(Yh):!1;gl||Xh?R():("0"===G[0]?(bd=z||"none"==ob?G[6]:Ge(G),Xb=G[3]):(new Date).getTime()-Zh>1E3*Yk&&(Xb++,bd=Ge(G,Xb)),qh(G),u.add("uid",Ne?null:cd),n(),u.add("refr",r($f||Le)),document&&(zc=document.title,z=mh(Yd||zc),u.add("page",z)),u.add("url",r(gd||hc)),"none"!=ob&&(L(G),I()),Zh=(new Date).getTime())}}}());f.push(function(){return{contexts:function(){return[{sc:"cv/clid/1-0-2",dt:{clid:Oe,iid:Xf.toString(),ck:mq,eventIndex:Wf++}}]}}}());f.push(function(){return{contexts:function(){return[{sc:"cv/ct/1-0-0",
dt:{data:W(W({},Pe),Lh)}}]}}}());f.push(function(){return{contexts:function(){var u,z=null===(u=null===g||void 0===g?void 0:g.core)||void 0===u?void 0:u.getConfig();return!0===(null===z||void 0===z?void 0:z.applicationContext)?[{sc:"spm/app/1-0-0",dt:{build:hl,version:hl}}]:[]}}}());f.push(function(){return{contexts:function(){var u={sch:"sdk.js.eco.1"};u.cat=$h.DeviceCategory.WEB;try{var z=null===m||void 0===m?void 0:m.deviceMetadata;if(z){var G=z.DeviceBrand,M=z.DeviceCategory,Z=z.DeviceManufacturer,
fa=z.DeviceModel,ja=z.DeviceType,aa=z.DeviceVersion,ha=z.OperatingSystemName,za=z.OperatingSystemVersion,Da=z.FrameworkName,Nb=z.FrameworkVersion;"string"===typeof M&&Object.values($h.DeviceCategory).includes(M)?u.cat=M:u.cat="INVALID"+(M?": ".concat(M):"");"string"===typeof G&&""!=G&&(u.dvb=G);"string"===typeof Z&&""!=Z&&(u.dvma=Z);"string"===typeof fa&&""!=fa&&(u.dvm=fa);ja&&Object.values($h.DeviceType).includes(ja)&&(u.dvt=ja);"string"===typeof aa&&""!=aa&&(u.dvv=aa);"string"===typeof ha&&""!=
ha&&(u.os=ha);"string"===typeof za&&""!=za&&(u.osv=za);"string"===typeof Da&&""!=Da&&(u.fw=Da);"string"===typeof Nb&&""!=Nb&&(u.fwv=Nb)}}catch(Yb){va.warn("error in setting platform metadata context",Yb)}return null!=u&&0<Object.keys(u).length?[{sc:"iglu:com.conviva/pm/jsonschema/1-0-2",dt:u}]:[]}}}());try{(null!==(kb=null===m||void 0===m?void 0:m.plugins)&&void 0!==kb?kb:[]).forEach(function(u){u.contexts||f.push(u)})}catch(u){console.warn("ConvivaAppTracker : issue while processing customer passed pligins",
u)}var fd=function(){var u;try{var z=null===(u=null===g||void 0===g?void 0:g.core)||void 0===u?void 0:u.getConfig();return z?void 0===z.catRcLastUpdatedTs||0===z.catRcLastUpdatedTs?J.SAMPLING_MODES.RCFG:z.controlIngestConfig?qp(null===z||void 0===z?void 0:z.controlIngestConfig):J.SAMPLING_MODES.RCFG:J.SAMPLING_MODES.RCFG}catch(G){return va.error("Error while getting sampling mode"),J.SAMPLING_MODES.RCFG}},bg=function(u){if("object"===T(u)&&null!==u)return u;if("string"===typeof u)try{var z=JSON.parse(u);
return z&&"object"===T(z)&&0===Object.keys(z).length?void 0:z}catch(G){}};var ic=Ta=Jn({base64:null===sa||void 0===sa?void 0:sa.base64,corePlugins:f,callback:function(u){gl||Xh||kc.enqueueRequest(u.build(),ai,w(u))},exceptionAutotracking:sa.exceptionAutotracking,enablePeriodicHeartbeat:sa.enablePeriodicHeartbeat,periodicHeartbeatInterval:sa.periodicHeartbeatInterval,enc:sa.enc,mend:sa.mend,maxLocalStorageQueueSize:sa.maxLocalStorageQueueSize,maxGetBytes:sa.maxGetBytes,bufferSize:sa.bufferSize,customEventTrackingConfiguration:sa.customEventTrackingConfiguration,
softNavigationTrackingConfiguration:sa.softNavigationTrackingConfiguration,networkRequestTrackingConfiguration:sa.networkRequestTrackingConfiguration,metaTagsTrackingConfiguration:sa.metaTagsTrackingConfiguration,traceparentconfig:sa.traceparentconfig,baggageConfiguration:sa.baggageConfiguration,performanceContextConfig:sa.performanceContextConfig,lifecycleAutotracking:sa.lifecycleAutotracking,configurationVersion:sa.configurationVersion,catRcLastUpdatedTs:sa.catRcLastUpdatedTs,cacheRefreshInterval:sa.cacheRefreshInterval,
endpoint:sa.endpoint,controlIngestConfig:sa.controlIngestConfig,applicationContext:sa.applicationContext,emitterConfiguration:sa.emitterConfiguration,di:sa.di,clickcc:sa.clickcc,collectionRateLimit:sa.collectionRateLimit,pageUrlTrackingConfig:sa.pageUrlTrackingConfig,sessionReplayConfiguration:sa.sessionReplayConfiguration,evtStreamTrackingConfiguration:sa.evtStreamTrackingConfiguration,valueProbes:sa.valueProbes,webVitals:sa.webVitals});var $c=sk(window.location.hostname,window.location.href,nh()),
Vk=mk($c[0]),hc=$c[1],Le=$c[2],$f,nq=null!==(ma=m.platform)&&void 0!==ma?ma:"web",ai=F(sa.endpoint,m.convivaCustomerKey),oq=null!==(Pa=m.postPath)&&void 0!==Pa?Pa:"/ctp",pq=null!==(ia=m.appId)&&void 0!==ia?ia:"",mq=null!==(fb=m.convivaCustomerKey)&&void 0!==fb?fb:"",hl=null!==(dc=m.appVersion)&&void 0!==dc?dc:"",gd,Pe={},Lh={},zc="undefined"!==typeof document?document.title:void 0,Yd,jq=null!==(hd=m.resetActivityTrackingOnPageView)&&void 0!==hd?hd:!0,Wk,Xk,Td=null!==(id=m.cookieName)&&void 0!==id?
id:"_cnv_",Me=null!==(jd=m.cookieDomain)&&void 0!==jd?jd:void 0,Ih="/",Uf=null!==(kd=m.cookieSameSite)&&void 0!==kd?kd:"None",Vf=null!==(ld=m.cookieSecure)&&void 0!==ld?ld:!0,il=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,gl="undefined"!==typeof m.respectDoNotTrack?m.respectDoNotTrack&&("yes"===il||"1"===il):!1,Yh,Zk=null!==(md=m.cookieLifetime)&&void 0!==md?md:63072E3,Yk=null!==(nd=m.sessionCookieTimeout)&&void 0!==nd?nd:1800,Tf=Ud(m),Kh=$k(m),Ne=!!m.anonymousTracking,ob=jc(m),
Oe,Xf,Wf=-1,Jh,Zh=(new Date).getTime(),Pf,Qf,Rf,Sf,ad,Of,bd,Xb=1,cd,kc=qq(h,p,ob,m,oq,Kh,5E3,fd),al=!1,bi=!1,wb={enabled:!0,installed:!1,configurations:{pagePing:{configMinimumVisitLength:5E3,configHeartBeatTimer:1E3*sa.periodicHeartbeatInterval,callback:pa}}},fl=!1,Xh;m.hasOwnProperty("discoverRootDomain")&&m.discoverRootDomain&&(Me=op(Uf,Vf));ic.setTrackerVersion(l);ic.setAppId(pq);ic.setPlatform(nq);C();N();kc.setCustomHeaders({"x-client-id":""+Oe});m.crossDomainLinker&&t(m.crossDomainLinker);
var ci={getDomainSessionIndex:function(){return Xb},getPageViewId:function(){return O()},newSession:function(){var u=y();"0"===u[0]?(bd="none"!=ob?Ge(u):u[6],Xb=u[3],I()):(Xb++,bd=Ge(u,Xb));qh(u);"none"!=ob&&(L(u),I());Zh=(new Date).getTime()},getCookieName:function(u){return Td+u+"."+ad},getUserId:function(){return cd},getDomainUserId:function(){var u=y();return u&&1<u.length?u[1]:null},getDomainUserInfo:function(){return y()},setReferrerUrl:function(u){$f=u},setCustomUrl:function(u){n();var z=hc,
G;v(u)?gd=u:"/"===u.slice(0,1)?gd=v(z)+"://"+Df(z)+u:(z=r(z),0<=(G=z.indexOf("?"))&&(z=z.slice(0,G)),(G=z.lastIndexOf("/"))!==z.length-1&&(z=z.slice(0,G+1)),gd=z+u)},setDocumentTitle:function(u){zc=document.title;Yd=u},discardHashTag:function(u){Wk=u},discardBrace:function(u){Xk=u},setCookiePath:function(u){Ih=u;C()},setVisitorCookieTimeout:function(u){Zk=u},crossDomainLinker:function(u){t(u)},enableActivityTracking:function(u){wb.configurations.pagePing||(wb.enabled=!0,wb.configurations.pagePing=
la(W(W({},u),{callback:pa})))},enableActivityTrackingCallback:function(u){wb.configurations.callback||(wb.enabled=!0,wb.configurations.callback=la(u))},updatePageActivity:function(){E()},setOptOutCookie:function(u){Yh=u},setUserId:function(u){cd=u},setConversationId:function(u){ic.setConversationId(u)},setUserIdFromLocation:function(u){n();cd=Fe(u,hc)},setUserIdFromReferrer:function(u){n();cd=Fe(u,Le)},setUserIdFromCookie:function(u){cd=ec(u)},setCollectorUrl:function(u,z){ai=F(u,z);kc.setCollectorUrl(ai)},
setBufferSize:function(u){kc.setBufferSize(u)},flushBuffer:function(u){void 0===u&&(u={});kc.executeQueue();u.newBufferSize&&kc.setBufferSize(u.newBufferSize)},trackPageView:function(u){var z;void 0===u&&(u={});Y();var G=null===(z=null===g||void 0===g?void 0:g.core)||void 0===z?void 0:z.getConfig();try{u=W(W({},u),{context:If(null===G||void 0===G?void 0:G.performanceContextConfig).contexts()})}catch(za){console.warn("Conviva App Tracker:: error adding performacetiming context to page view",za)}var M=
u.title;z=u.context;G=u.timestamp;u=u.contextCallback;n();bi&&A();bi=!0;zc=document.title;Yd=M;M=mh(Yd||zc);if(fd()!==J.SAMPLING_MODES.NONE){Ea();var Z=ic,fa=Z.track,ja=r(gd||hc),aa=r($f||Le),ha=Lg();ha.add("e","pv");ha.add("url",ja);ha.add("page",M);ha.add("refr",aa);fa.call(Z,ha,(z||[]).concat(u?u():[]),G)}},trackPagePing:function(u){void 0===u&&(u={});Q(u)},trackVideoEvent:function(u){var z,G,M;void 0===u&&(u={});try{var Z=this.core.getConfig(),fa=!1;if(null!==(G=null===(z=null===Z||void 0===Z?
void 0:Z.customEventTrackingConfiguration)||void 0===z?void 0:z.enabled)&&void 0!==G?G:xa.customEventTrackingConfiguration.enabled)if(""==u.name||void 0==u.name)console.warn("Conviva App Tracker:: Video event could not be tracked due to missing name property!!");else{u.ced=bg(u.ced);u.old=bg(u.old);u["new"]=bg(u["new"]);u.tags=bg(u.tags);u.cen&&J.V2A_CUSTOM_EVENTS.includes(u.name)&&(u.name=u.cen,fa=!0);var ja=null===(M=null===Z||void 0===Z?void 0:Z.customEventTrackingConfiguration)||void 0===M?void 0:
M.blocklist;if(!((null===ja||void 0===ja?0:ja.includes("*"))||(null===ja||void 0===ja?0:ja.some(function(za){return 0<(null===za||void 0===za?void 0:za.length)&&u.name.toLowerCase().includes(za.toLowerCase())}))))if(!0===fa){var aa=u.name,ha=Kg(u,["isTrusted","name","cen","new","old"]);this.core.track(qc({name:aa,data:JSON.stringify(ha)}),u.context,u.timestamp)}else this.core.track(Kn({name:u.name,sid:u.sid,iid:u.iid,clid:u.clid,st:u.st,sst:u.sst,an:u.an,cl:u.cl,lv:u.lv,pn:u.pn,vid:u.vid,fw:u.fw,
fwv:u.fwv,mn:u.mn,mv:u.mv,url:u.url,tags:u.tags,cen:u.cen,ced:u.ced,oldsc:u.old,newsc:u["new"],err:u.err,br:u.br,ft:u.ft,avgbr:u.avgbr}),u.context,u.timestamp)}}catch(za){console.warn("Conviva App Tracker:: Video event could not be tracked due to an exception!!",za)}},trackCustomEvent:function(u){var z,G,M,Z,fa;void 0===u&&(u={});try{if(fd()!==J.SAMPLING_MODES.NONE){var ja=null===(z=null===g||void 0===g?void 0:g.core)||void 0===z?void 0:z.getConfig();if(null!==(M=null===(G=null===ja||void 0===ja?
void 0:ja.customEventTrackingConfiguration)||void 0===G?void 0:G.enabled)&&void 0!==M?M:xa.customEventTrackingConfiguration.enabled)if(!u.name||"string"==typeof u.name&&""==u.name.trim())console.warn("Conviva App Tracker:: custom event name is mandatory for trackCustomEvent API!!");else{var aa=u.data;try{"string"!==typeof u.data&&(aa=JSON.stringify(u.data))}catch(za){}var ha=null===(Z=null===ja||void 0===ja?void 0:ja.customEventTrackingConfiguration)||void 0===Z?void 0:Z.blocklist;(null===ha||void 0===
ha?0:ha.includes("*"))||(null===ha||void 0===ha?0:ha.some(function(za){return 0<(null===za||void 0===za?void 0:za.length)&&u.name.toLowerCase().includes(za.toLowerCase())}))||(null===(fa=null===g||void 0===g?void 0:g.core)||void 0===fa?void 0:fa.track(qc({name:u.name,data:aa}),u.context,u.timestamp))}}}catch(za){console.warn("Conviva App Tracker:: Unable to track custom event! "+za)}},trackSSEEvent:function(u){var z;void 0===u&&(u={});try{fd()!==J.SAMPLING_MODES.NONE&&(null===(z=null===g||void 0===
g?void 0:g.core)||void 0===z?void 0:z.track(qc(u),u.context,u.timestamp))}catch(G){}},trackNetworkRequest:function(u){var z,G,M,Z,fa,ja,aa,ha,za,Da,Nb,Yb;void 0===u&&(u={});try{var Bb=null===(M=null===g||void 0===g?void 0:g.core)||void 0===M?void 0:M.getConfig().networkRequestTrackingConfiguration,dd=u.responseDetails.responseTime-u.requestDetails.requestTime;try{dd=parseFloat(dd.toFixed(3))}catch(lc){console.warn("Conviva App Tracker:: exception while converting duration to 3 decimal",lc)}try{var Qe=
(z={targetUrl:null===(Z=null===u||void 0===u?void 0:u.requestDetails)||void 0===Z?void 0:Z.url,method:null===(fa=null===u||void 0===u?void 0:u.requestDetails)||void 0===fa?void 0:fa.method,responseStatusCode:(null===(ja=null===u||void 0===u?void 0:u.responseDetails)||void 0===ja?0:ja.status)?u.responseDetails.status:0,responseStatusText:(null===(aa=null===u||void 0===u?void 0:u.responseDetails)||void 0===aa?0:aa.statusText)?u.responseDetails.statusText:"ok"},z[Ca.request_headers]=null===(ha=null===
u||void 0===u?void 0:u.requestDetails)||void 0===ha?void 0:ha.headers,z[Ca.response_headers]=null===(za=null===u||void 0===u?void 0:u.responseDetails)||void 0===za?void 0:za.headers,z.duration=dd,z),$a=pk(Qe,null===Bb||void 0===Bb?void 0:Bb.collectattr,u,null===Bb||void 0===Bb?void 0:Bb.maxQueryLength,null===Bb||void 0===Bb?void 0:Bb.rbl);if(null===(Da=null===u||void 0===u?void 0:u.requestDetails)||void 0===Da?0:Da[J.TRACEPARENT_HEADER_KEY]){var Vd=(G={},G[J.TRACEPARENT_HEADER_KEY]=null===(Nb=null===
u||void 0===u?void 0:u.requestDetails)||void 0===Nb?void 0:Nb[J.TRACEPARENT_HEADER_KEY],G);$a[Ca.request_headers]=$a[Ca.request_headers]?W(W({},$a[Ca.request_headers]),Vd):Vd}if(null===(Yb=null===g||void 0===g?void 0:g.core)||void 0===Yb)void 0;else{var Re=Yb.track;var Se=Sc({event:{sc:"cv/nr/1-0-5",dt:Cd({targetUrl:$a.targetUrl,method:$a.method,queryParameters:$a.queryParameters,responseStatusCode:$a.responseStatusCode,responseStatusText:$a.responseStatusText,rqh:$a.rqh,rsh:$a.rsh,rqb:$a.rqb,rsb:$a.rsb,
rqq:$a.rqq,requestSize:$a.requestSize,responseSize:$a.responseSize,duration:$a.duration,contentType:$a.contentType,requestTimestamp:$a.requestTimestamp,responseTimestamp:$a.responseTimestamp})}});Re.call(Yb,Se,u.context,u.timestamp)}}catch(lc){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",lc)}}catch(lc){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",lc)}},trackButtonClick:function(u){var z,G,M;try{var Z=
null===(z=null===Ma||void 0===Ma?void 0:Ma.core)||void 0===z?void 0:z.getConfig();!0===(null===(G=null===Z||void 0===Z?void 0:Z.clickcc)||void 0===G?void 0:G.en)&&(u.elementType="button",null===(M=null===Ma||void 0===Ma?void 0:Ma.core)||void 0===M?void 0:M.track(qc({name:"conviva_click",data:JSON.stringify(u)}),gj(void 0,void 0)))}catch(fa){va.warn("Conviva App Tracker caused Exception in sendButtonClick method of user click tracking module",fa)}},trackLinkClick:function(u){var z,G,M;try{var Z=null===
(z=null===Ma||void 0===Ma?void 0:Ma.core)||void 0===z?void 0:z.getConfig();!0===(null===(G=null===Z||void 0===Z?void 0:Z.clickcc)||void 0===G?void 0:G.en)&&(u.elementType="link",null===(M=null===Ma||void 0===Ma?void 0:Ma.core)||void 0===M?void 0:M.track(qc({name:"conviva_click",data:JSON.stringify(u)}),gj(void 0,void 0)))}catch(fa){va.warn("Conviva App Tracker caused Exception in sendLinkClick method of user click tracking module",fa)}},trackErrorEvent:function(u){uh(u)},setCustomTags:function(u){void 0===
u&&(u={});ba(u)},setMetaCustomTags:function(u){void 0===u&&(u={});P(u)},unsetCustomTags:function(u){void 0===u&&(u=[]);ta(u)},preservePageViewId:function(){al=!0},disableAnonymousTracking:function(u){m.anonymousTracking=!1;U(u);N();kc.executeQueue()},enableAnonymousTracking:function(u){var z;m.anonymousTracking=null!==(z=u&&(null===u||void 0===u?void 0:u.options))&&void 0!==z?z:!0;U(u);Tf||A()},clearUserData:R,setKeepAliveInBG:function(u){void 0===u&&(u=!1);fl=u},clearTimers:function(){Ta=null;jl.cleanupNetworkRequestHandler();
try{hb=g,removeEventListener("error",Ek,!0),removeEventListener("unhandledrejection",Fk,!0)}catch(G){console.warn("Conviva App Tracker caused Exception in disableErrorTracking method of error tracking module",G)}Ak();null===od||void 0===od?void 0:od.abort();cb=Zb=void 0;Ue&&window.clearInterval(Ue);if(wb.enabled){var u=void 0;for(u in wb.configurations){var z=wb.configurations[u];z&&window.clearInterval(z.activityInterval)}}g&&(g.core=null);this.tracker=null},getSamplingMode:fd,getPageViewSent:function(){return bi},
setPageMetaTagsAsCustomTags:function(){Y()},determineShouldTrack:function(u,z,G,M,Z,fa){return Pd(u,z,G,M,Z,fa)}};da=ci;var jl=Jk.getInstance(ci,m,fd);jl.initiateNetworkRequestTracking();return W(W({},ci),{id:h,namespace:k,core:ic,sharedState:p})}(b,a,c,d,e);var g=W(W({},b),{addPlugin:function(h){var k,l,p;null===(k=null===g||void 0===g?void 0:g.core)||void 0===k?void 0:k.addPlugin(h);null===(p=(l=h.plugin).activateBrowserPlugin)||void 0===p?void 0:p.call(l,g)}});f.forEach(function(h){var k;null===
(k=h.activateBrowserPlugin)||void 0===k?void 0:k.call(h,g)});Rp(g,null===e||void 0===e?void 0:e.enableCommonEvents);Wp(g);try{hb=g,Pp(),Op(),Fb(window,"error",Ek,!0),Fb(window,"unhandledrejection",Fk,!0)}catch(h){console.warn("Conviva App Tracker caused Exception in enableErrorTracking method of error tracking module",h)}Ma=g;fq(g);try{Hh=g,rq(Gh),sq(Gh),tq(Gh)}catch(h){console.warn("Conviva App Tracker caused Exception in enabling Web Vitals tracking",h)}Xp(g,e);return g}function yb(b,a){try{var c=
null!==b&&void 0!==b?b:Object.keys(pd);b=pd;for(var d=[],e=0;e<c.length;e++){var f=c[e];b.hasOwnProperty(f)?d.push(b[f]):va.warn(f+" not configured")}d.forEach(a)}catch(g){va.error("Function failed",g)}}function uq(b){if(b)for(var a=0;a<b.length;a++){var c=b[a];pd.hasOwnProperty(c)?delete pd[c]:va.warn(c+" not configured")}}function vq(){function b(){var f;if(!c.hasLoaded)for(c.hasLoaded=!0,f=0;f<c.registeredOnLoadHandlers.length;f++)c.registeredOnLoadHandlers[f]();return!0}function a(){d.addEventListener?
d.addEventListener("DOMContentLoaded",function g(){d.removeEventListener("DOMContentLoaded",g,!1);b()}):d.attachEvent&&d.attachEvent("onreadystatechange",function h(){"complete"===d.readyState&&(d.detachEvent("onreadystatechange",h),b())});Fb(e,"load",b,!1)}var c=new wq,d=document,e=window;Fb(e,"beforeunload",function(){try{c.bufferFlushers.forEach(function(f){f(!1)})}catch(f){console.warn("Conviva App Tracker:: Error in flushBuffers of constructor ".concat(f))}},!1);"loading"===document.readyState?
a():b();return c}var W=function(){W=Object.assign||function(b){for(var a,c=1,d=arguments.length;c<d;c++){a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(b[e]=a[e])}return b};return W.apply(this,arguments)},cg={},kl="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(kl){var ll=new Uint8Array(16);cg=function(){kl(ll);
return ll}}else{var ml=Array(16);cg=function(){for(var b=0,a;16>b;b++)0===(b&3)&&(a=4294967296*Math.random()),ml[b]=a>>>((b&3)<<3)&255;return ml}}for(var pb=[],dg=0;256>dg;++dg)pb[dg]=(dg+256).toString(16).substr(1);var nl=function(b,a){a=a||0;return[pb[b[a++]],pb[b[a++]],pb[b[a++]],pb[b[a++]],"-",pb[b[a++]],pb[b[a++]],"-",pb[b[a++]],pb[b[a++]],"-",pb[b[a++]],pb[b[a++]],"-",pb[b[a++]],pb[b[a++]],pb[b[a++]],pb[b[a++]],pb[b[a++]],pb[b[a++]]].join("")},xq=cg,ol,di,ei=0,fi=0,yq=cg,gi=function(b,a,c){c=
a&&c||0;"string"==typeof b&&(a="binary"===b?Array(16):null,b=null);b=b||{};b=b.random||(b.rng||yq)();b[6]=b[6]&15|64;b[8]=b[8]&63|128;if(a)for(var d=0;16>d;++d)a[c+d]=b[d];return a||nl(b)};gi.v1=function(b,a,c){c=a&&c||0;var d=a||[];b=b||{};var e=b.node||ol,f=void 0!==b.clockseq?b.clockseq:di;if(null==e||null==f){var g=xq();null==e&&(e=ol=[g[0]|1,g[1],g[2],g[3],g[4],g[5]]);null==f&&(f=di=(g[6]<<8|g[7])&16383)}g=void 0!==b.msecs?b.msecs:(new Date).getTime();var h=void 0!==b.nsecs?b.nsecs:fi+1,k=g-
ei+(h-fi)/1E4;0>k&&void 0===b.clockseq&&(f=f+1&16383);(0>k||g>ei)&&void 0===b.nsecs&&(h=0);if(1E4<=h)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");ei=g;fi=h;di=f;g+=122192928E5;b=(1E4*(g&268435455)+h)%4294967296;d[c++]=b>>>24&255;d[c++]=b>>>16&255;d[c++]=b>>>8&255;d[c++]=b&255;b=g/4294967296*1E4&268435455;d[c++]=b>>>8&255;d[c++]=b&255;d[c++]=b>>>24&15|16;d[c++]=b>>>16&255;d[c++]=f>>>8|128;d[c++]=f&255;for(f=0;6>f;++f)d[c+f]=e[f];return a?a:nl(d)};var pc=gi.v4=gi,Eb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
nc;(function(b){b[b.none=0]="none";b[b.error=1]="error";b[b.warn=2]="warn";b[b.debug=3]="debug";b[b.info=4]="info"})(nc||(nc={}));var va=function(b){void 0===b&&(b=nc.warn);return{setLogLevel:function(a){b=nc[a]?a:nc.warn},warn:function(a,c){for(var d=[],e=2;e<arguments.length;e++)d[e-2]=arguments[e];b>=nc.warn&&"undefined"!==typeof console&&(e="Conviva: "+a,c?console.warn.apply(console,ib([e+"\n",c],d,!1)):console.warn.apply(console,ib([e],d,!1)))},error:function(a,c){for(var d=[],e=2;e<arguments.length;e++)d[e-
2]=arguments[e];b>=nc.error&&"undefined"!==typeof console&&(e="Conviva: "+a+"\n",c?console.error.apply(console,ib([e+"\n",c],d,!1)):console.error.apply(console,ib([e],d,!1)))},debug:function(a){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];b>=nc.debug&&"undefined"!==typeof console&&console.debug.apply(console,ib(["Conviva: "+a],c,!1))},info:function(a){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];b>=nc.info&&"undefined"!==typeof console&&console.info.apply(console,ib(["Conviva: "+
a],c,!1))}}}(),pl;(function(b){b.response_body="rsb";b.request_body="rqb";b.response_headers="rsh";b.request_headers="rqh";b.request_query="rqq"})(pl||(pl={}));var ql={},rl={};(function(){var b={rotl:function(a,c){return a<<c|a>>>32-c},rotr:function(a,c){return a<<32-c|a>>>c},endian:function(a){if(a.constructor==Number)return b.rotl(a,8)&16711935|b.rotl(a,24)&4278255360;for(var c=0;c<a.length;c++)a[c]=b.endian(a[c]);return a},randomBytes:function(a){for(var c=[];0<a;a--)c.push(Math.floor(256*Math.random()));
return c},bytesToWords:function(a){for(var c=[],d=0,e=0;d<a.length;d++,e+=8)c[e>>>5]|=a[d]<<24-e%32;return c},wordsToBytes:function(a){for(var c=[],d=0;d<32*a.length;d+=8)c.push(a[d>>>5]>>>24-d%32&255);return c},bytesToHex:function(a){for(var c=[],d=0;d<a.length;d++)c.push((a[d]>>>4).toString(16)),c.push((a[d]&15).toString(16));return c.join("")},hexToBytes:function(a){for(var c=[],d=0;d<a.length;d+=2)c.push(parseInt(a.substr(d,2),16));return c},bytesToBase64:function(a){for(var c=[],d=0;d<a.length;d+=
3)for(var e=a[d]<<16|a[d+1]<<8|a[d+2],f=0;4>f;f++)8*d+6*f<=8*a.length?c.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>6*(3-f)&63)):c.push("=");return c.join("")},base64ToBytes:function(a){a=a.replace(/[^A-Z0-9+\/]/ig,"");for(var c=[],d=0,e=0;d<a.length;e=++d%4)0!=e&&c.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(d-1))&Math.pow(2,-2*e+8)-1)<<2*e|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(d))>>>
6-2*e);return c}};rl=b})();var hi={utf8:{stringToBytes:function(b){return hi.bin.stringToBytes(unescape(encodeURIComponent(b)))},bytesToString:function(b){return decodeURIComponent(escape(hi.bin.bytesToString(b)))}},bin:{stringToBytes:function(b){for(var a=[],c=0;c<b.length;c++)a.push(b.charCodeAt(c)&255);return a},bytesToString:function(b){for(var a=[],c=0;c<b.length;c++)a.push(String.fromCharCode(b[c]));return a.join("")}}},sl=hi;(function(){var b=rl,a=sl.utf8,c=sl.bin,d=function(e,f){var g=b.wordsToBytes,
h=e;h.constructor==String?h=a.stringToBytes(h):"undefined"!==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(h)?h=Array.prototype.slice.call(h,0):Array.isArray(h)||(h=h.toString());e=b.bytesToWords(h);var k=8*h.length;h=[];var l=1732584193,p=-271733879,m=-1732584194,n=271733878,q=-1009589776;e[k>>5]|=128<<24-k%32;e[(k+64>>>9<<4)+15]=k;for(k=0;k<e.length;k+=16){for(var t=l,r=p,v=m,w=n,x=q,C=0;80>C;C++){if(16>C)h[C]=e[k+C];else{var E=h[C-3]^h[C-8]^h[C-14]^h[C-16];h[C]=E<<1|E>>>31}E=
(l<<5|l>>>27)+q+(h[C]>>>0)+(20>C?(p&m|~p&n)+1518500249:40>C?(p^m^n)+1859775393:60>C?(p&m|p&n|m&n)-1894007588:(p^m^n)-899497514);q=n;n=m;m=p<<30|p>>>2;p=l;l=E}l+=t;p+=r;m+=v;n+=w;q+=x}g=g.call(b,[l,p,m,n,q]);return f&&f.asBytes?g:f&&f.asString?c.bytesToString(g):b.bytesToHex(g)};d._blocksize=16;d._digestsize=20;ql=d})();var iq=ql,ii=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),eg=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),zq=
new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),tl=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),oc=Array(576);Dd(oc);var Ve=Array(60);Dd(Ve);var qd=Array(512);Dd(qd);var We=Array(256);Dd(We);var ji=Array(29);Dd(ji);var fg=Array(30);Dd(fg);var ul,vl,wl,Xe=function(b,a){b.pending_buf[b.pending++]=a&255;b.pending_buf[b.pending++]=a>>>8&255},zb=function(b,a,c){b.bi_valid>16-c?(b.bi_buf|=a<<b.bi_valid&65535,Xe(b,b.bi_buf),b.bi_buf=a>>16-b.bi_valid,b.bi_valid+=c-16):(b.bi_buf|=
a<<b.bi_valid&65535,b.bi_valid+=c)},$b=function(b,a,c){zb(b,c[2*a],c[2*a+1])},xl=function(b,a){var c=0;do c|=b&1,b>>>=1,c<<=1;while(0<--a);return c>>>1},yl=function(b,a,c){var d=Array(16),e=0,f;for(f=1;15>=f;f++)e=e+c[f-1]<<1,d[f]=e;for(c=0;c<=a;c++)e=b[2*c+1],0!==e&&(b[2*c]=xl(d[e]++,e))},zl=function(b){var a;for(a=0;286>a;a++)b.dyn_ltree[2*a]=0;for(a=0;30>a;a++)b.dyn_dtree[2*a]=0;for(a=0;19>a;a++)b.bl_tree[2*a]=0;b.dyn_ltree[512]=1;b.opt_len=b.static_len=0;b.sym_next=b.matches=0},Al=function(b){8<
b.bi_valid?Xe(b,b.bi_buf):0<b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf);b.bi_buf=0;b.bi_valid=0},Bl=function(b,a,c,d){var e=2*a,f=2*c;return b[e]<b[f]||b[e]===b[f]&&d[a]<=d[c]},ki=function(b,a,c){for(var d=b.heap[c],e=c<<1;e<=b.heap_len;){e<b.heap_len&&Bl(a,b.heap[e+1],b.heap[e],b.depth)&&e++;if(Bl(a,d,b.heap[e],b.depth))break;b.heap[c]=b.heap[e];c=e;e<<=1}b.heap[c]=d},Cl=function(b,a,c){var d=0;if(0!==b.sym_next){do{var e=b.pending_buf[b.sym_buf+d++]&255;e+=(b.pending_buf[b.sym_buf+d++]&255)<<
8;var f=b.pending_buf[b.sym_buf+d++];if(0===e)$b(b,f,a);else{var g=We[f];$b(b,g+256+1,a);var h=ii[g];0!==h&&(f-=ji[g],zb(b,f,h));e--;g=256>e?qd[e]:qd[256+(e>>>7)];$b(b,g,c);h=eg[g];0!==h&&(e-=fg[g],zb(b,e,h))}}while(d<b.sym_next)}$b(b,256,a)},li=function(b,a){var c=a.dyn_tree,d=a.stat_desc.static_tree,e=a.stat_desc.has_stree,f=a.stat_desc.elems,g,h=-1;b.heap_len=0;b.heap_max=573;for(g=0;g<f;g++)0!==c[2*g]?(b.heap[++b.heap_len]=h=g,b.depth[g]=0):c[2*g+1]=0;for(;2>b.heap_len;){var k=b.heap[++b.heap_len]=
2>h?++h:0;c[2*k]=1;b.depth[k]=0;b.opt_len--;e&&(b.static_len-=d[2*k+1])}a.max_code=h;for(g=b.heap_len>>1;1<=g;g--)ki(b,c,g);k=f;do g=b.heap[1],b.heap[1]=b.heap[b.heap_len--],ki(b,c,1),d=b.heap[1],b.heap[--b.heap_max]=g,b.heap[--b.heap_max]=d,c[2*k]=c[2*g]+c[2*d],b.depth[k]=(b.depth[g]>=b.depth[d]?b.depth[g]:b.depth[d])+1,c[2*g+1]=c[2*d+1]=k,b.heap[1]=k++,ki(b,c,1);while(2<=b.heap_len);b.heap[--b.heap_max]=b.heap[1];g=a.dyn_tree;k=a.max_code;d=a.stat_desc.static_tree;e=a.stat_desc.has_stree;f=a.stat_desc.extra_bits;
var l=a.stat_desc.extra_base,p=a.stat_desc.max_length,m,n=0;for(m=0;15>=m;m++)b.bl_count[m]=0;g[2*b.heap[b.heap_max]+1]=0;for(a=b.heap_max+1;573>a;a++){var q=b.heap[a];m=g[2*g[2*q+1]+1]+1;m>p&&(m=p,n++);g[2*q+1]=m;if(!(q>k)){b.bl_count[m]++;var t=0;q>=l&&(t=f[q-l]);var r=g[2*q];b.opt_len+=r*(m+t);e&&(b.static_len+=r*(d[2*q+1]+t))}}if(0!==n){do{for(m=p-1;0===b.bl_count[m];)m--;b.bl_count[m]--;b.bl_count[m+1]+=2;b.bl_count[p]--;n-=2}while(0<n);for(m=p;0!==m;m--)for(q=b.bl_count[m];0!==q;)d=b.heap[--a],
d>k||(g[2*d+1]!==m&&(b.opt_len+=(m-g[2*d+1])*g[2*d],g[2*d+1]=m),q--)}yl(c,h,b.bl_count)},Dl=function(b,a,c){var d,e=-1,f=a[1],g=0,h=7,k=4;0===f&&(h=138,k=3);a[2*(c+1)+1]=65535;for(d=0;d<=c;d++){var l=f;f=a[2*(d+1)+1];++g<h&&l===f||(g<k?b.bl_tree[2*l]+=g:0!==l?(l!==e&&b.bl_tree[2*l]++,b.bl_tree[32]++):10>=g?b.bl_tree[34]++:b.bl_tree[36]++,g=0,e=l,0===f?(h=138,k=3):l===f?(h=6,k=3):(h=7,k=4))}},El=function(b,a,c){var d,e=-1,f=a[1],g=0,h=7,k=4;0===f&&(h=138,k=3);for(d=0;d<=c;d++){var l=f;f=a[2*(d+1)+
1];if(!(++g<h&&l===f)){if(g<k){do $b(b,l,b.bl_tree);while(0!==--g)}else 0!==l?(l!==e&&($b(b,l,b.bl_tree),g--),$b(b,16,b.bl_tree),zb(b,g-3,2)):10>=g?($b(b,17,b.bl_tree),zb(b,g-3,3)):($b(b,18,b.bl_tree),zb(b,g-11,7));g=0;e=l;0===f?(h=138,k=3):l===f?(h=6,k=3):(h=7,k=4)}}},Aq=function(b){var a=4093624447,c;for(c=0;31>=c;c++,a>>>=1)if(a&1&&0!==b.dyn_ltree[2*c])return 0;if(0!==b.dyn_ltree[18]||0!==b.dyn_ltree[20]||0!==b.dyn_ltree[26])return 1;for(c=32;256>c;c++)if(0!==b.dyn_ltree[2*c])return 1;return 0},
Fl=!1,gg=function(b,a,c,d){zb(b,d?1:0,3);Al(b);Xe(b,c);Xe(b,~c);c&&b.pending_buf.set(b.window.subarray(a,a+c),b.pending);b.pending+=c},Ye=function(b,a,c,d){var e=b&65535|0;b=b>>>16&65535|0;for(var f;0!==c;){f=2E3<c?2E3:c;c-=f;do e=e+a[d++]|0,b=b+e|0;while(--f);e%=65521;b%=65521}return e|b<<16|0},Bq=new Uint32Array(function(){for(var b,a=[],c=0;256>c;c++){b=c;for(var d=0;8>d;d++)b=b&1?3988292384^b>>>1:b>>>1;a[c]=b}return a}()),lb=function(b,a,c,d){c=d+c;for(b^=-1;d<c;d++)b=b>>>8^Bq[(b^a[d])&255];return b^
-1},Tc={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},qa={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,
Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Ac=function(b,a,c){b.pending_buf[b.sym_buf+b.sym_next++]=a;b.pending_buf[b.sym_buf+b.sym_next++]=a>>8;b.pending_buf[b.sym_buf+b.sym_next++]=c;0===a?b.dyn_ltree[2*c]++:(b.matches++,a--,b.dyn_ltree[2*(We[c]+256+1)]++,b.dyn_dtree[2*(256>a?qd[a]:qd[256+(a>>>7)])]++);return b.sym_next===b.sym_end},Bc=qa.Z_NO_FLUSH,Cq=qa.Z_PARTIAL_FLUSH,Dq=qa.Z_FULL_FLUSH,Hb=qa.Z_FINISH,Gl=qa.Z_BLOCK,qb=qa.Z_OK,Hl=qa.Z_STREAM_END,ac=qa.Z_STREAM_ERROR,
Eq=qa.Z_DATA_ERROR,mi=qa.Z_BUF_ERROR,Fq=qa.Z_DEFAULT_COMPRESSION,Gq=qa.Z_FILTERED,hg=qa.Z_HUFFMAN_ONLY,Hq=qa.Z_RLE,Iq=qa.Z_FIXED,Jq=qa.Z_DEFAULT_STRATEGY,Kq=qa.Z_UNKNOWN,mf=qa.Z_DEFLATED,rd=function(b,a){b.msg=Tc[a];return a},rc=function(b){for(var a=b.length;0<=--a;)b[a]=0},Cc=function(b,a,c){return(a<<b.hash_shift^c)&b.hash_mask},Cb=function(b){var a=b.state,c=a.pending;c>b.avail_out&&(c=b.avail_out);0!==c&&(b.output.set(a.pending_buf.subarray(a.pending_out,a.pending_out+c),b.next_out),b.next_out+=
c,a.pending_out+=c,b.total_out+=c,b.avail_out-=c,a.pending-=c,0===a.pending&&(a.pending_out=0))},Db=function(b,a){var c=0<=b.block_start?b.block_start:-1,d=b.strstart-b.block_start,e=0;if(0<b.level){2===b.strm.data_type&&(b.strm.data_type=Aq(b));li(b,b.l_desc);li(b,b.d_desc);Dl(b,b.dyn_ltree,b.l_desc.max_code);Dl(b,b.dyn_dtree,b.d_desc.max_code);li(b,b.bl_desc);for(e=18;3<=e&&0===b.bl_tree[2*tl[e]+1];e--);b.opt_len+=3*(e+1)+14;var f=b.opt_len+3+7>>>3;var g=b.static_len+3+7>>>3;g<=f&&(f=g)}else f=
g=d+5;if(d+4<=f&&-1!==c)gg(b,c,d,a);else if(4===b.strategy||g===f)zb(b,2+(a?1:0),3),Cl(b,oc,Ve);else{zb(b,4+(a?1:0),3);c=b.l_desc.max_code+1;d=b.d_desc.max_code+1;e+=1;zb(b,c-257,5);zb(b,d-1,5);zb(b,e-4,4);for(f=0;f<e;f++)zb(b,b.bl_tree[2*tl[f]+1],3);El(b,b.dyn_ltree,c-1);El(b,b.dyn_dtree,d-1);Cl(b,b.dyn_ltree,b.dyn_dtree)}zl(b);a&&Al(b);b.block_start=b.strstart;Cb(b.strm)},Ga=function(b,a){b.pending_buf[b.pending++]=a},Ze=function(b,a){b.pending_buf[b.pending++]=a>>>8&255;b.pending_buf[b.pending++]=
a&255},ni=function(b,a,c,d){var e=b.avail_in;e>d&&(e=d);if(0===e)return 0;b.avail_in-=e;a.set(b.input.subarray(b.next_in,b.next_in+e),c);1===b.state.wrap?b.adler=Ye(b.adler,a,e,c):2===b.state.wrap&&(b.adler=lb(b.adler,a,e,c));b.next_in+=e;b.total_in+=e;return e},Il=function(b,a){var c=b.max_chain_length,d=b.strstart,e=b.prev_length,f=b.nice_match,g=b.strstart>b.w_size-262?b.strstart-(b.w_size-262):0,h=b.window,k=b.w_mask,l=b.prev,p=b.strstart+258,m=h[d+e-1],n=h[d+e];b.prev_length>=b.good_match&&(c>>=
2);f>b.lookahead&&(f=b.lookahead);do{var q=a;if(h[q+e]===n&&h[q+e-1]===m&&h[q]===h[d]&&h[++q]===h[d+1]){d+=2;for(q++;h[++d]===h[++q]&&h[++d]===h[++q]&&h[++d]===h[++q]&&h[++d]===h[++q]&&h[++d]===h[++q]&&h[++d]===h[++q]&&h[++d]===h[++q]&&h[++d]===h[++q]&&d<p;);q=258-(p-d);d=p-258;if(q>e){b.match_start=a;e=q;if(q>=f)break;m=h[d+e-1];n=h[d+e]}}}while((a=l[a&k])>g&&0!==--c);return e<=b.lookahead?e:b.lookahead},Zd=function(b){var a=b.w_size;do{var c=b.window_size-b.lookahead-b.strstart;if(b.strstart>=a+
(a-262)){b.window.set(b.window.subarray(a,a+a-c),0);b.match_start-=a;b.strstart-=a;b.block_start-=a;b.insert>b.strstart&&(b.insert=b.strstart);var d,e=b,f=e.w_size;var g=d=e.hash_size;do{var h=e.head[--g];e.head[g]=h>=f?h-f:0}while(--d);g=d=f;do h=e.prev[--g],e.prev[g]=h>=f?h-f:0;while(--d);c+=a}if(0===b.strm.avail_in)break;c=ni(b.strm,b.window,b.strstart+b.lookahead,c);b.lookahead+=c;if(3<=b.lookahead+b.insert)for(c=b.strstart-b.insert,b.ins_h=b.window[c],b.ins_h=Cc(b,b.ins_h,b.window[c+1]);b.insert&&
!(b.ins_h=Cc(b,b.ins_h,b.window[c+3-1]),b.prev[c&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=c,c++,b.insert--,3>b.lookahead+b.insert););}while(262>b.lookahead&&0!==b.strm.avail_in)},Jl=function(b,a){var c=b.pending_buf_size-5>b.w_size?b.w_size:b.pending_buf_size-5,d=0,e=b.strm.avail_in;do{var f=65535;var g=b.bi_valid+42>>3;if(b.strm.avail_out<g)break;g=b.strm.avail_out-g;var h=b.strstart-b.block_start;f>h+b.strm.avail_in&&(f=h+b.strm.avail_in);f>g&&(f=g);if(f<c&&(0===f&&a!==Hb||a===Bc||f!==h+b.strm.avail_in))break;
d=a===Hb&&f===h+b.strm.avail_in?1:0;gg(b,0,0,d);b.pending_buf[b.pending-4]=f;b.pending_buf[b.pending-3]=f>>8;b.pending_buf[b.pending-2]=~f;b.pending_buf[b.pending-1]=~f>>8;Cb(b.strm);h&&(h>f&&(h=f),b.strm.output.set(b.window.subarray(b.block_start,b.block_start+h),b.strm.next_out),b.strm.next_out+=h,b.strm.avail_out-=h,b.strm.total_out+=h,b.block_start+=h,f-=h);f&&(ni(b.strm,b.strm.output,b.strm.next_out,f),b.strm.next_out+=f,b.strm.avail_out-=f,b.strm.total_out+=f)}while(0===d);if(e-=b.strm.avail_in)e>=
b.w_size?(b.matches=2,b.window.set(b.strm.input.subarray(b.strm.next_in-b.w_size,b.strm.next_in),0),b.strstart=b.w_size,b.insert=b.strstart):(b.window_size-b.strstart<=e&&(b.strstart-=b.w_size,b.window.set(b.window.subarray(b.w_size,b.w_size+b.strstart),0),2>b.matches&&b.matches++,b.insert>b.strstart&&(b.insert=b.strstart)),b.window.set(b.strm.input.subarray(b.strm.next_in-e,b.strm.next_in),b.strstart),b.strstart+=e,b.insert+=e>b.w_size-b.insert?b.w_size-b.insert:e),b.block_start=b.strstart;b.high_water<
b.strstart&&(b.high_water=b.strstart);if(d)return 4;if(a!==Bc&&a!==Hb&&0===b.strm.avail_in&&b.strstart===b.block_start)return 2;g=b.window_size-b.strstart;b.strm.avail_in>g&&b.block_start>=b.w_size&&(b.block_start-=b.w_size,b.strstart-=b.w_size,b.window.set(b.window.subarray(b.w_size,b.w_size+b.strstart),0),2>b.matches&&b.matches++,g+=b.w_size,b.insert>b.strstart&&(b.insert=b.strstart));g>b.strm.avail_in&&(g=b.strm.avail_in);g&&(ni(b.strm,b.window,b.strstart,g),b.strstart+=g,b.insert+=g>b.w_size-
b.insert?b.w_size-b.insert:g);b.high_water<b.strstart&&(b.high_water=b.strstart);g=b.bi_valid+42>>3;g=65535<b.pending_buf_size-g?65535:b.pending_buf_size-g;c=g>b.w_size?b.w_size:g;h=b.strstart-b.block_start;if(h>=c||(h||a===Hb)&&a!==Bc&&0===b.strm.avail_in&&h<=g)f=h>g?g:h,d=a===Hb&&0===b.strm.avail_in&&f===h?1:0,gg(b,b.block_start,f,d),b.block_start+=f,Cb(b.strm);return d?3:1},oi=function(b,a){for(var c;;){if(262>b.lookahead){Zd(b);if(262>b.lookahead&&a===Bc)return 1;if(0===b.lookahead)break}c=0;
3<=b.lookahead&&(b.ins_h=Cc(b,b.ins_h,b.window[b.strstart+3-1]),c=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);0!==c&&b.strstart-c<=b.w_size-262&&(b.match_length=Il(b,c));if(3<=b.match_length)if(c=Ac(b,b.strstart-b.match_start,b.match_length-3),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&3<=b.lookahead){b.match_length--;do b.strstart++,b.ins_h=Cc(b,b.ins_h,b.window[b.strstart+3-1]),b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart;
while(0!==--b.match_length);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=Cc(b,b.ins_h,b.window[b.strstart+1]);else c=Ac(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(c&&(Db(b,!1),0===b.strm.avail_out))return 1}b.insert=2>b.strstart?b.strstart:2;return a===Hb?(Db(b,!0),0===b.strm.avail_out?3:4):b.sym_next&&(Db(b,!1),0===b.strm.avail_out)?1:2},$d=function(b,a){for(var c,d;;){if(262>b.lookahead){Zd(b);if(262>b.lookahead&&a===Bc)return 1;
if(0===b.lookahead)break}c=0;3<=b.lookahead&&(b.ins_h=Cc(b,b.ins_h,b.window[b.strstart+3-1]),c=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);b.prev_length=b.match_length;b.prev_match=b.match_start;b.match_length=2;0!==c&&b.prev_length<b.max_lazy_match&&b.strstart-c<=b.w_size-262&&(b.match_length=Il(b,c),5>=b.match_length&&(b.strategy===Gq||3===b.match_length&&4096<b.strstart-b.match_start)&&(b.match_length=2));if(3<=b.prev_length&&b.match_length<=b.prev_length){d=b.strstart+
b.lookahead-3;c=Ac(b,b.strstart-1-b.prev_match,b.prev_length-3);b.lookahead-=b.prev_length-1;b.prev_length-=2;do++b.strstart<=d&&(b.ins_h=Cc(b,b.ins_h,b.window[b.strstart+3-1]),b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);while(0!==--b.prev_length);b.match_available=0;b.match_length=2;b.strstart++;if(c&&(Db(b,!1),0===b.strm.avail_out))return 1}else if(b.match_available){if((c=Ac(b,0,b.window[b.strstart-1]))&&Db(b,!1),b.strstart++,b.lookahead--,0===b.strm.avail_out)return 1}else b.match_available=
1,b.strstart++,b.lookahead--}b.match_available&&(Ac(b,0,b.window[b.strstart-1]),b.match_available=0);b.insert=2>b.strstart?b.strstart:2;return a===Hb?(Db(b,!0),0===b.strm.avail_out?3:4):b.sym_next&&(Db(b,!1),0===b.strm.avail_out)?1:2},Lq=function(b,a){for(var c,d,e,f=b.window;;){if(258>=b.lookahead){Zd(b);if(258>=b.lookahead&&a===Bc)return 1;if(0===b.lookahead)break}b.match_length=0;if(3<=b.lookahead&&0<b.strstart&&(d=b.strstart-1,c=f[d],c===f[++d]&&c===f[++d]&&c===f[++d])){for(e=b.strstart+258;c===
f[++d]&&c===f[++d]&&c===f[++d]&&c===f[++d]&&c===f[++d]&&c===f[++d]&&c===f[++d]&&c===f[++d]&&d<e;);b.match_length=258-(e-d);b.match_length>b.lookahead&&(b.match_length=b.lookahead)}3<=b.match_length?(c=Ac(b,1,b.match_length-3),b.lookahead-=b.match_length,b.strstart+=b.match_length,b.match_length=0):(c=Ac(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++);if(c&&(Db(b,!1),0===b.strm.avail_out))return 1}b.insert=0;return a===Hb?(Db(b,!0),0===b.strm.avail_out?3:4):b.sym_next&&(Db(b,!1),0===b.strm.avail_out)?
1:2},Mq=function(b,a){for(var c;;){if(0===b.lookahead&&(Zd(b),0===b.lookahead)){if(a===Bc)return 1;break}b.match_length=0;c=Ac(b,0,b.window[b.strstart]);b.lookahead--;b.strstart++;if(c&&(Db(b,!1),0===b.strm.avail_out))return 1}b.insert=0;return a===Hb?(Db(b,!0),0===b.strm.avail_out?3:4):b.sym_next&&(Db(b,!1),0===b.strm.avail_out)?1:2},$e=[new Sb(0,0,0,0,Jl),new Sb(4,4,8,4,oi),new Sb(4,5,16,8,oi),new Sb(4,6,32,32,oi),new Sb(4,4,16,16,$d),new Sb(8,16,32,32,$d),new Sb(8,16,128,128,$d),new Sb(8,32,128,
256,$d),new Sb(32,128,258,1024,$d),new Sb(32,258,258,4096,$d)],af=function(b){if(!b)return 1;var a=b.state;return!a||a.strm!==b||42!==a.status&&57!==a.status&&69!==a.status&&73!==a.status&&91!==a.status&&103!==a.status&&113!==a.status&&666!==a.status?1:0},Kl=function(b){if(af(b))return rd(b,ac);b.total_in=b.total_out=0;b.data_type=Kq;var a=b.state;a.pending=0;a.pending_out=0;0>a.wrap&&(a.wrap=-a.wrap);a.status=2===a.wrap?57:a.wrap?42:113;b.adler=2===a.wrap?0:1;a.last_flush=-2;if(!Fl){var c,d,e;b=
Array(16);for(e=d=0;28>e;e++)for(ji[e]=d,c=0;c<1<<ii[e];c++)We[d++]=e;We[d-1]=e;for(e=d=0;16>e;e++)for(fg[e]=d,c=0;c<1<<eg[e];c++)qd[d++]=e;for(d>>=7;30>e;e++)for(fg[e]=d<<7,c=0;c<1<<eg[e]-7;c++)qd[256+d++]=e;for(c=0;15>=c;c++)b[c]=0;for(c=0;143>=c;)oc[2*c+1]=8,c++,b[8]++;for(;255>=c;)oc[2*c+1]=9,c++,b[9]++;for(;279>=c;)oc[2*c+1]=7,c++,b[7]++;for(;287>=c;)oc[2*c+1]=8,c++,b[8]++;yl(oc,287,b);for(c=0;30>c;c++)Ve[2*c+1]=5,Ve[2*c]=xl(c,5);ul=new Og(oc,ii,257,286,15);vl=new Og(Ve,eg,0,30,15);wl=new Og([],
zq,0,19,7);Fl=!0}a.l_desc=new Pg(a.dyn_ltree,ul);a.d_desc=new Pg(a.dyn_dtree,vl);a.bl_desc=new Pg(a.bl_tree,wl);a.bi_buf=0;a.bi_valid=0;zl(a);return qb},Ll=function(b){var a=Kl(b);a===qb&&(b=b.state,b.window_size=2*b.w_size,rc(b.head),b.max_lazy_match=$e[b.level].max_lazy,b.good_match=$e[b.level].good_length,b.nice_match=$e[b.level].nice_length,b.max_chain_length=$e[b.level].max_chain,b.strstart=0,b.block_start=0,b.lookahead=0,b.insert=0,b.match_length=b.prev_length=2,b.match_available=0,b.ins_h=
0);return a},Ml=function(b,a,c,d,e,f){if(!b)return ac;var g=1;a===Fq&&(a=6);0>d?(g=0,d=-d):15<d&&(g=2,d-=16);if(1>e||9<e||c!==mf||8>d||15<d||0>a||9<a||0>f||f>Iq||8===d&&1!==g)return rd(b,ac);8===d&&(d=9);var h=new Ln;b.state=h;h.strm=b;h.status=42;h.wrap=g;h.gzhead=null;h.w_bits=d;h.w_size=1<<h.w_bits;h.w_mask=h.w_size-1;h.hash_bits=e+7;h.hash_size=1<<h.hash_bits;h.hash_mask=h.hash_size-1;h.hash_shift=~~((h.hash_bits+3-1)/3);h.window=new Uint8Array(2*h.w_size);h.head=new Uint16Array(h.hash_size);
h.prev=new Uint16Array(h.w_size);h.lit_bufsize=1<<e+6;h.pending_buf_size=4*h.lit_bufsize;h.pending_buf=new Uint8Array(h.pending_buf_size);h.sym_buf=h.lit_bufsize;h.sym_end=3*(h.lit_bufsize-1);h.level=a;h.strategy=f;h.method=c;return Ll(b)},re={deflateInit:function(b,a){return Ml(b,a,mf,15,8,Jq)},deflateInit2:Ml,deflateReset:Ll,deflateResetKeep:Kl,deflateSetHeader:function(b,a){if(af(b)||2!==b.state.wrap)return ac;b.state.gzhead=a;return qb},deflate:function(b,a){if(af(b)||a>Gl||0>a)return b?rd(b,
ac):ac;var c=b.state;if(!b.output||0!==b.avail_in&&!b.input||666===c.status&&a!==Hb)return rd(b,0===b.avail_out?mi:ac);var d=c.last_flush;c.last_flush=a;if(0!==c.pending){if(Cb(b),0===b.avail_out)return c.last_flush=-1,qb}else if(0===b.avail_in&&2*a-(4<a?9:0)<=2*d-(4<d?9:0)&&a!==Hb)return rd(b,mi);if(666===c.status&&0!==b.avail_in)return rd(b,mi);42===c.status&&0===c.wrap&&(c.status=113);if(42===c.status&&(d=mf+(c.w_bits-8<<4)<<8,d|=(c.strategy>=hg||2>c.level?0:6>c.level?1:6===c.level?2:3)<<6,0!==
c.strstart&&(d|=32),Ze(c,d+(31-d%31)),0!==c.strstart&&(Ze(c,b.adler>>>16),Ze(c,b.adler&65535)),b.adler=1,c.status=113,Cb(b),0!==c.pending))return c.last_flush=-1,qb;if(57===c.status)if(b.adler=0,Ga(c,31),Ga(c,139),Ga(c,8),c.gzhead)Ga(c,(c.gzhead.text?1:0)+(c.gzhead.hcrc?2:0)+(c.gzhead.extra?4:0)+(c.gzhead.name?8:0)+(c.gzhead.comment?16:0)),Ga(c,c.gzhead.time&255),Ga(c,c.gzhead.time>>8&255),Ga(c,c.gzhead.time>>16&255),Ga(c,c.gzhead.time>>24&255),Ga(c,9===c.level?2:c.strategy>=hg||2>c.level?4:0),Ga(c,
c.gzhead.os&255),c.gzhead.extra&&c.gzhead.extra.length&&(Ga(c,c.gzhead.extra.length&255),Ga(c,c.gzhead.extra.length>>8&255)),c.gzhead.hcrc&&(b.adler=lb(b.adler,c.pending_buf,c.pending,0)),c.gzindex=0,c.status=69;else if(Ga(c,0),Ga(c,0),Ga(c,0),Ga(c,0),Ga(c,0),Ga(c,9===c.level?2:c.strategy>=hg||2>c.level?4:0),Ga(c,3),c.status=113,Cb(b),0!==c.pending)return c.last_flush=-1,qb;if(69===c.status){if(c.gzhead.extra){d=c.pending;for(var e=(c.gzhead.extra.length&65535)-c.gzindex;c.pending+e>c.pending_buf_size;){var f=
c.pending_buf_size-c.pending;c.pending_buf.set(c.gzhead.extra.subarray(c.gzindex,c.gzindex+f),c.pending);c.pending=c.pending_buf_size;c.gzhead.hcrc&&c.pending>d&&(b.adler=lb(b.adler,c.pending_buf,c.pending-d,d));c.gzindex+=f;Cb(b);if(0!==c.pending)return c.last_flush=-1,qb;d=0;e-=f}f=new Uint8Array(c.gzhead.extra);c.pending_buf.set(f.subarray(c.gzindex,c.gzindex+e),c.pending);c.pending+=e;c.gzhead.hcrc&&c.pending>d&&(b.adler=lb(b.adler,c.pending_buf,c.pending-d,d));c.gzindex=0}c.status=73}if(73===
c.status){if(c.gzhead.name){d=c.pending;do{if(c.pending===c.pending_buf_size){c.gzhead.hcrc&&c.pending>d&&(b.adler=lb(b.adler,c.pending_buf,c.pending-d,d));Cb(b);if(0!==c.pending)return c.last_flush=-1,qb;d=0}e=c.gzindex<c.gzhead.name.length?c.gzhead.name.charCodeAt(c.gzindex++)&255:0;Ga(c,e)}while(0!==e);c.gzhead.hcrc&&c.pending>d&&(b.adler=lb(b.adler,c.pending_buf,c.pending-d,d));c.gzindex=0}c.status=91}if(91===c.status){if(c.gzhead.comment){d=c.pending;do{if(c.pending===c.pending_buf_size){c.gzhead.hcrc&&
c.pending>d&&(b.adler=lb(b.adler,c.pending_buf,c.pending-d,d));Cb(b);if(0!==c.pending)return c.last_flush=-1,qb;d=0}e=c.gzindex<c.gzhead.comment.length?c.gzhead.comment.charCodeAt(c.gzindex++)&255:0;Ga(c,e)}while(0!==e);c.gzhead.hcrc&&c.pending>d&&(b.adler=lb(b.adler,c.pending_buf,c.pending-d,d))}c.status=103}if(103===c.status){if(c.gzhead.hcrc){if(c.pending+2>c.pending_buf_size&&(Cb(b),0!==c.pending))return c.last_flush=-1,qb;Ga(c,b.adler&255);Ga(c,b.adler>>8&255);b.adler=0}c.status=113;Cb(b);if(0!==
c.pending)return c.last_flush=-1,qb}if(0!==b.avail_in||0!==c.lookahead||a!==Bc&&666!==c.status){d=0===c.level?Jl(c,a):c.strategy===hg?Mq(c,a):c.strategy===Hq?Lq(c,a):$e[c.level].func(c,a);if(3===d||4===d)c.status=666;if(1===d||3===d)return 0===b.avail_out&&(c.last_flush=-1),qb;if(2===d&&(a===Cq?(zb(c,2,3),$b(c,256,oc),16===c.bi_valid?(Xe(c,c.bi_buf),c.bi_buf=0,c.bi_valid=0):8<=c.bi_valid&&(c.pending_buf[c.pending++]=c.bi_buf&255,c.bi_buf>>=8,c.bi_valid-=8)):a!==Gl&&(gg(c,0,0,!1),a===Dq&&(rc(c.head),
0===c.lookahead&&(c.strstart=0,c.block_start=0,c.insert=0))),Cb(b),0===b.avail_out))return c.last_flush=-1,qb}if(a!==Hb)return qb;if(0>=c.wrap)return Hl;2===c.wrap?(Ga(c,b.adler&255),Ga(c,b.adler>>8&255),Ga(c,b.adler>>16&255),Ga(c,b.adler>>24&255),Ga(c,b.total_in&255),Ga(c,b.total_in>>8&255),Ga(c,b.total_in>>16&255),Ga(c,b.total_in>>24&255)):(Ze(c,b.adler>>>16),Ze(c,b.adler&65535));Cb(b);0<c.wrap&&(c.wrap=-c.wrap);return 0!==c.pending?qb:Hl},deflateEnd:function(b){if(af(b))return ac;var a=b.state.status;
b.state=null;return 113===a?rd(b,Eq):qb},deflateSetDictionary:function(b,a){var c=a.length;if(af(b))return ac;var d=b.state,e=d.wrap;if(2===e||1===e&&42!==d.status||d.lookahead)return ac;1===e&&(b.adler=Ye(b.adler,a,c,0));d.wrap=0;if(c>=d.w_size){0===e&&(rc(d.head),d.strstart=0,d.block_start=0,d.insert=0);var f=new Uint8Array(d.w_size);f.set(a.subarray(c-d.w_size,c),0);a=f;c=d.w_size}f=b.avail_in;var g=b.next_in,h=b.input;b.avail_in=c;b.next_in=0;b.input=a;for(Zd(d);3<=d.lookahead;){a=d.strstart;
c=d.lookahead-2;do d.ins_h=Cc(d,d.ins_h,d.window[a+3-1]),d.prev[a&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=a,a++;while(--c);d.strstart=a;d.lookahead=2;Zd(d)}d.strstart+=d.lookahead;d.block_start=d.strstart;d.insert=d.lookahead;d.lookahead=0;d.match_length=d.prev_length=2;d.match_available=0;b.next_in=g;b.input=h;b.avail_in=f;d.wrap=e;return qb},deflateInfo:"pako deflate (from Nodeca project)"},nf={assign:function(b){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var c=a.shift();if(c){if("object"!==
T(c))throw new TypeError(c+"must be non-object");for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(b[d]=c[d])}}return b},flattenChunks:function(b){for(var a=0,c=0,d=b.length;c<d;c++)a+=b[c].length;a=new Uint8Array(a);d=c=0;for(var e=b.length;c<e;c++){var f=b[c];a.set(f,d);d+=f.length}return a}},Nl=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(b){Nl=!1}for(var bf=new Uint8Array(256),Dc=0;256>Dc;Dc++)bf[Dc]=252<=Dc?6:248<=Dc?5:240<=Dc?4:224<=Dc?3:192<=Dc?2:1;bf[254]=bf[254]=
1;var se={string2buf:function(b){if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(b);var a,c,d=b.length,e=0;for(a=0;a<d;a++){var f=b.charCodeAt(a);if(55296===(f&64512)&&a+1<d){var g=b.charCodeAt(a+1);56320===(g&64512)&&(f=65536+(f-55296<<10)+(g-56320),a++)}e+=128>f?1:2048>f?2:65536>f?3:4}var h=new Uint8Array(e);for(a=c=0;c<e;a++)f=b.charCodeAt(a),55296===(f&64512)&&a+1<d&&(g=b.charCodeAt(a+1),56320===(g&64512)&&(f=65536+(f-55296<<10)+(g-56320),a++)),
128>f?h[c++]=f:(2048>f?h[c++]=192|f>>>6:(65536>f?h[c++]=224|f>>>12:(h[c++]=240|f>>>18,h[c++]=128|f>>>12&63),h[c++]=128|f>>>6&63),h[c++]=128|f&63);return h},buf2string:function(b,a){var c=a||b.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(b.subarray(0,a));var d,e;a=Array(2*c);for(d=e=0;d<c;){var f=b[d++];if(128>f)a[e++]=f;else{var g=bf[f];if(4<g)a[e++]=65533,d+=g-1;else{for(f&=2===g?31:3===g?15:7;1<g&&d<c;)f=f<<6|b[d++]&63,g--;1<g?a[e++]=65533:
65536>f?a[e++]=f:(f-=65536,a[e++]=55296|f>>10&1023,a[e++]=56320|f&1023)}}}b=e;if(65534>b&&a.subarray&&Nl)a=String.fromCharCode.apply(null,a.length===b?a:a.subarray(0,b));else{c="";for(d=0;d<b;d++)c+=String.fromCharCode(a[d]);a=c}return a},utf8border:function(b,a){a=a||b.length;a>b.length&&(a=b.length);for(var c=a-1;0<=c&&128===(b[c]&192);)c--;return 0>c||0===c?a:c+bf[b[c]]>a?c:a}},oj=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=
this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0},pj=Object.prototype.toString,Nq=qa.Z_NO_FLUSH,Oq=qa.Z_SYNC_FLUSH,Pq=qa.Z_FULL_FLUSH,Qq=qa.Z_FINISH,of=qa.Z_OK,Rq=qa.Z_STREAM_END,Mn=qa.Z_DEFAULT_COMPRESSION,On=qa.Z_DEFAULT_STRATEGY,Nn=qa.Z_DEFLATED;qe.prototype.push=function(b,a){var c=this.strm,d=this.options.chunkSize;if(this.ended)return!1;a=a===~~a?a:!0===a?Qq:Nq;"string"===typeof b?c.input=se.string2buf(b):"[object ArrayBuffer]"===pj.call(b)?c.input=new Uint8Array(b):
c.input=b;c.next_in=0;for(c.avail_in=c.input.length;;)if(0===c.avail_out&&(c.output=new Uint8Array(d),c.next_out=0,c.avail_out=d),(a===Oq||a===Pq)&&6>=c.avail_out)this.onData(c.output.subarray(0,c.next_out)),c.avail_out=0;else{b=re.deflate(c,a);if(b===Rq){if(0<c.next_out)this.onData(c.output.subarray(0,c.next_out));b=re.deflateEnd(this.strm);this.onEnd(b);this.ended=!0;return b===of}if(0===c.avail_out)this.onData(c.output);else if(0<a&&0<c.next_out)this.onData(c.output.subarray(0,c.next_out)),c.avail_out=
0;else if(0===c.avail_in)break}return!0};qe.prototype.onData=function(b){this.chunks.push(b)};qe.prototype.onEnd=function(b){b===of&&(this.result=nf.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};var Sq=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Tq=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Uq=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,
49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Vq=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),cf=function(b,a,c,d,e,f,g,h){var k=h.bits,l,p,m,n,q,t,r=new Uint16Array(16);var v=new Uint16Array(16);var w;for(l=0;15>=l;l++)r[l]=0;for(p=0;p<d;p++)r[a[c+p]]++;var x=k;for(m=15;1<=m&&0===r[m];m--);x>m&&(x=m);if(0===m)return e[f++]=20971520,e[f++]=20971520,h.bits=1,0;for(k=1;k<m&&0===r[k];k++);
x<k&&(x=k);for(l=n=1;15>=l;l++)if(n<<=1,n-=r[l],0>n)return-1;if(0<n&&(0===b||1!==m))return-1;v[1]=0;for(l=1;15>l;l++)v[l+1]=v[l]+r[l];for(p=0;p<d;p++)0!==a[c+p]&&(g[v[a[c+p]]++]=p);if(0===b){var C=w=g;var E=20}else 1===b?(C=Sq,w=Tq,E=257):(C=Uq,w=Vq,E=0);p=q=0;l=k;var H=f;d=x;v=0;var D=-1;var B=1<<x;var I=B-1;if(1===b&&852<B||2===b&&592<B)return 1;for(;;){var L=l-v;if(g[p]+1<E){var V=0;var R=g[p]}else g[p]>=E?(V=w[g[p]-E],R=C[g[p]-E]):(V=96,R=0);n=1<<l-v;k=t=1<<d;do t-=n,e[H+(q>>v)+t]=L<<24|V<<16|
R|0;while(0!==t);for(n=1<<l-1;q&n;)n>>=1;0!==n?(q&=n-1,q+=n):q=0;p++;if(0===--r[l]){if(l===m)break;l=a[c+g[p]]}if(l>x&&(q&I)!==D){0===v&&(v=x);H+=k;d=l-v;for(n=1<<d;d+v<m;){n-=r[d+v];if(0>=n)break;d++;n<<=1}B+=1<<d;if(1===b&&852<B||2===b&&592<B)return 1;D=q&I;e[D]=x<<24|d<<16|H-f|0}}0!==q&&(e[H+q]=l-v<<24|4194304);h.bits=x;return 0},Ol=qa.Z_FINISH,Wq=qa.Z_BLOCK,ig=qa.Z_TREES,sd=qa.Z_OK,Xq=qa.Z_STREAM_END,Yq=qa.Z_NEED_DICT,Ib=qa.Z_STREAM_ERROR,Pl=qa.Z_DATA_ERROR,Ql=qa.Z_MEM_ERROR,Zq=qa.Z_BUF_ERROR,
Rl=qa.Z_DEFLATED,Sl=function(b){return(b>>>24&255)+(b>>>8&65280)+((b&65280)<<8)+((b&255)<<24)},td=function(b){if(!b)return 1;var a=b.state;return!a||a.strm!==b||16180>a.mode||16211<a.mode?1:0},Tl=function(b){if(td(b))return Ib;var a=b.state;b.total_in=b.total_out=a.total=0;b.msg="";a.wrap&&(b.adler=a.wrap&1);a.mode=16180;a.last=0;a.havedict=0;a.flags=-1;a.dmax=32768;a.head=null;a.hold=0;a.bits=0;a.lencode=a.lendyn=new Int32Array(852);a.distcode=a.distdyn=new Int32Array(592);a.sane=1;a.back=-1;return sd},
Ul=function(b){if(td(b))return Ib;var a=b.state;a.wsize=0;a.whave=0;a.wnext=0;return Tl(b)},Vl=function(b,a){if(td(b))return Ib;var c=b.state;if(0>a){var d=0;a=-a}else d=(a>>4)+5,48>a&&(a&=15);if(a&&(8>a||15<a))return Ib;null!==c.window&&c.wbits!==a&&(c.window=null);c.wrap=d;c.wbits=a;return Ul(b)},Wl=function(b,a){if(!b)return Ib;var c=new Pn;b.state=c;c.strm=b;c.window=null;c.mode=16180;a=Vl(b,a);a!==sd&&(b.state=null);return a},Xl=!0,pi,qi,Yl=function(b,a,c,d){var e=b.state;null===e.window&&(e.wsize=
1<<e.wbits,e.wnext=0,e.whave=0,e.window=new Uint8Array(e.wsize));d>=e.wsize?(e.window.set(a.subarray(c-e.wsize,c),0),e.wnext=0,e.whave=e.wsize):(b=e.wsize-e.wnext,b>d&&(b=d),e.window.set(a.subarray(c-d,c-d+b),e.wnext),(d-=b)?(e.window.set(a.subarray(c-d,c),0),e.wnext=d,e.whave=e.wsize):(e.wnext+=b,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=b)));return 0},cc={inflateReset:Ul,inflateReset2:Vl,inflateResetKeep:Tl,inflateInit:function(b){return Wl(b,15)},inflateInit2:Wl,inflate:function(b,
a){var c=new Uint8Array(4),d=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(td(b)||!b.output||!b.input&&0!==b.avail_in)return Ib;var e=b.state;16191===e.mode&&(e.mode=16192);var f=b.next_out;var g=b.output;var h=b.avail_out;var k=b.next_in;var l=b.input;var p=b.avail_in;var m=e.hold;var n=e.bits;var q=p;var t=h;var r=sd;a:for(;;)switch(e.mode){case 16180:if(0===e.wrap){e.mode=16192;break}for(;16>n;){if(0===p)break a;p--;m+=l[k++]<<n;n+=8}if(e.wrap&2&&35615===m){0===e.wbits&&(e.wbits=
15);e.check=0;c[0]=m&255;c[1]=m>>>8&255;e.check=lb(e.check,c,2,0);n=m=0;e.mode=16181;break}e.head&&(e.head.done=!1);if(!(e.wrap&1)||(((m&255)<<8)+(m>>8))%31){b.msg="incorrect header check";e.mode=16209;break}if((m&15)!==Rl){b.msg="unknown compression method";e.mode=16209;break}m>>>=4;n-=4;var v=(m&15)+8;0===e.wbits&&(e.wbits=v);if(15<v||v>e.wbits){b.msg="invalid window size";e.mode=16209;break}e.dmax=1<<e.wbits;e.flags=0;b.adler=e.check=1;e.mode=m&512?16189:16191;n=m=0;break;case 16181:for(;16>n;){if(0===
p)break a;p--;m+=l[k++]<<n;n+=8}e.flags=m;if((e.flags&255)!==Rl){b.msg="unknown compression method";e.mode=16209;break}if(e.flags&57344){b.msg="unknown header flags set";e.mode=16209;break}e.head&&(e.head.text=m>>8&1);e.flags&512&&e.wrap&4&&(c[0]=m&255,c[1]=m>>>8&255,e.check=lb(e.check,c,2,0));n=m=0;e.mode=16182;case 16182:for(;32>n;){if(0===p)break a;p--;m+=l[k++]<<n;n+=8}e.head&&(e.head.time=m);e.flags&512&&e.wrap&4&&(c[0]=m&255,c[1]=m>>>8&255,c[2]=m>>>16&255,c[3]=m>>>24&255,e.check=lb(e.check,
c,4,0));n=m=0;e.mode=16183;case 16183:for(;16>n;){if(0===p)break a;p--;m+=l[k++]<<n;n+=8}e.head&&(e.head.xflags=m&255,e.head.os=m>>8);e.flags&512&&e.wrap&4&&(c[0]=m&255,c[1]=m>>>8&255,e.check=lb(e.check,c,2,0));n=m=0;e.mode=16184;case 16184:if(e.flags&1024){for(;16>n;){if(0===p)break a;p--;m+=l[k++]<<n;n+=8}e.length=m;e.head&&(e.head.extra_len=m);e.flags&512&&e.wrap&4&&(c[0]=m&255,c[1]=m>>>8&255,e.check=lb(e.check,c,2,0));n=m=0}else e.head&&(e.head.extra=null);e.mode=16185;case 16185:if(e.flags&1024){var w=
e.length;w>p&&(w=p);w&&(e.head&&(v=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(l.subarray(k,k+w),v)),e.flags&512&&e.wrap&4&&(e.check=lb(e.check,l,w,k)),p-=w,k+=w,e.length-=w);if(e.length)break a}e.length=0;e.mode=16186;case 16186:if(e.flags&2048){if(0===p)break a;w=0;do v=l[k+w++],e.head&&v&&65536>e.length&&(e.head.name+=String.fromCharCode(v));while(v&&w<p);e.flags&512&&e.wrap&4&&(e.check=lb(e.check,l,w,k));p-=w;k+=w;if(v)break a}else e.head&&
(e.head.name=null);e.length=0;e.mode=16187;case 16187:if(e.flags&4096){if(0===p)break a;w=0;do v=l[k+w++],e.head&&v&&65536>e.length&&(e.head.comment+=String.fromCharCode(v));while(v&&w<p);e.flags&512&&e.wrap&4&&(e.check=lb(e.check,l,w,k));p-=w;k+=w;if(v)break a}else e.head&&(e.head.comment=null);e.mode=16188;case 16188:if(e.flags&512){for(;16>n;){if(0===p)break a;p--;m+=l[k++]<<n;n+=8}if(e.wrap&4&&m!==(e.check&65535)){b.msg="header crc mismatch";e.mode=16209;break}n=m=0}e.head&&(e.head.hcrc=e.flags>>
9&1,e.head.done=!0);b.adler=e.check=0;e.mode=16191;break;case 16189:for(;32>n;){if(0===p)break a;p--;m+=l[k++]<<n;n+=8}b.adler=e.check=Sl(m);n=m=0;e.mode=16190;case 16190:if(0===e.havedict)return b.next_out=f,b.avail_out=h,b.next_in=k,b.avail_in=p,e.hold=m,e.bits=n,Yq;b.adler=e.check=1;e.mode=16191;case 16191:if(a===Wq||a===ig)break a;case 16192:if(e.last){m>>>=n&7;n-=n&7;e.mode=16206;break}for(;3>n;){if(0===p)break a;p--;m+=l[k++]<<n;n+=8}e.last=m&1;m>>>=1;--n;switch(m&3){case 0:e.mode=16193;break;
case 1:w=e;if(Xl){pi=new Int32Array(512);qi=new Int32Array(32);for(v=0;144>v;)w.lens[v++]=8;for(;256>v;)w.lens[v++]=9;for(;280>v;)w.lens[v++]=7;for(;288>v;)w.lens[v++]=8;cf(1,w.lens,0,288,pi,0,w.work,{bits:9});for(v=0;32>v;)w.lens[v++]=5;cf(2,w.lens,0,32,qi,0,w.work,{bits:5});Xl=!1}w.lencode=pi;w.lenbits=9;w.distcode=qi;w.distbits=5;e.mode=16199;if(a===ig){m>>>=2;n-=2;break a}break;case 2:e.mode=16196;break;case 3:b.msg="invalid block type",e.mode=16209}m>>>=2;n-=2;break;case 16193:m>>>=n&7;for(n-=
n&7;32>n;){if(0===p)break a;p--;m+=l[k++]<<n;n+=8}if((m&65535)!==(m>>>16^65535)){b.msg="invalid stored block lengths";e.mode=16209;break}e.length=m&65535;n=m=0;e.mode=16194;if(a===ig)break a;case 16194:e.mode=16195;case 16195:if(w=e.length){w>p&&(w=p);w>h&&(w=h);if(0===w)break a;g.set(l.subarray(k,k+w),f);p-=w;k+=w;h-=w;f+=w;e.length-=w;break}e.mode=16191;break;case 16196:for(;14>n;){if(0===p)break a;p--;m+=l[k++]<<n;n+=8}e.nlen=(m&31)+257;m>>>=5;n-=5;e.ndist=(m&31)+1;m>>>=5;n-=5;e.ncode=(m&15)+4;
m>>>=4;n-=4;if(286<e.nlen||30<e.ndist){b.msg="too many length or distance symbols";e.mode=16209;break}e.have=0;e.mode=16197;case 16197:for(;e.have<e.ncode;){for(;3>n;){if(0===p)break a;p--;m+=l[k++]<<n;n+=8}e.lens[d[e.have++]]=m&7;m>>>=3;n-=3}for(;19>e.have;)e.lens[d[e.have++]]=0;e.lencode=e.lendyn;e.lenbits=7;w={bits:e.lenbits};r=cf(0,e.lens,0,19,e.lencode,0,e.work,w);e.lenbits=w.bits;if(r){b.msg="invalid code lengths set";e.mode=16209;break}e.have=0;e.mode=16198;case 16198:for(;e.have<e.nlen+e.ndist;){for(;;){var x=
e.lencode[m&(1<<e.lenbits)-1];w=x>>>24;x&=65535;if(w<=n)break;if(0===p)break a;p--;m+=l[k++]<<n;n+=8}if(16>x)m>>>=w,n-=w,e.lens[e.have++]=x;else{if(16===x){for(v=w+2;n<v;){if(0===p)break a;p--;m+=l[k++]<<n;n+=8}m>>>=w;n-=w;if(0===e.have){b.msg="invalid bit length repeat";e.mode=16209;break}v=e.lens[e.have-1];w=3+(m&3);m>>>=2;n-=2}else if(17===x){for(v=w+3;n<v;){if(0===p)break a;p--;m+=l[k++]<<n;n+=8}m>>>=w;n-=w;v=0;w=3+(m&7);m>>>=3;n-=3}else{for(v=w+7;n<v;){if(0===p)break a;p--;m+=l[k++]<<n;n+=8}m>>>=
w;n-=w;v=0;w=11+(m&127);m>>>=7;n-=7}if(e.have+w>e.nlen+e.ndist){b.msg="invalid bit length repeat";e.mode=16209;break}for(;w--;)e.lens[e.have++]=v}}if(16209===e.mode)break;if(0===e.lens[256]){b.msg="invalid code -- missing end-of-block";e.mode=16209;break}e.lenbits=9;w={bits:e.lenbits};r=cf(1,e.lens,0,e.nlen,e.lencode,0,e.work,w);e.lenbits=w.bits;if(r){b.msg="invalid literal/lengths set";e.mode=16209;break}e.distbits=6;e.distcode=e.distdyn;w={bits:e.distbits};r=cf(2,e.lens,e.nlen,e.ndist,e.distcode,
0,e.work,w);e.distbits=w.bits;if(r){b.msg="invalid distances set";e.mode=16209;break}e.mode=16199;if(a===ig)break a;case 16199:e.mode=16200;case 16200:if(6<=p&&258<=h){b.next_out=f;b.avail_out=h;b.next_in=k;b.avail_in=p;e.hold=m;e.bits=n;var C=b,E=C.state;var H=C.next_in;g=C.input;var D=H+(C.avail_in-5);var B=C.next_out;l=C.output;var I=B-(t-C.avail_out);var L=B+(C.avail_out-257);var V=E.dmax;x=E.wsize;var R=E.whave;var U=E.wnext;var N=E.window;v=E.hold;w=E.bits;n=E.lencode;m=E.distcode;h=(1<<E.lenbits)-
1;p=(1<<E.distbits)-1;b:do{15>w&&(v+=g[H++]<<w,w+=8,v+=g[H++]<<w,w+=8);var y=n[v&h];c:for(;;){f=y>>>24;v>>>=f;w-=f;f=y>>>16&255;if(0===f)l[B++]=y&65535;else if(f&16){k=y&65535;if(f&=15)w<f&&(v+=g[H++]<<w,w+=8),k+=v&(1<<f)-1,v>>>=f,w-=f;15>w&&(v+=g[H++]<<w,w+=8,v+=g[H++]<<w,w+=8);y=m[v&p];d:for(;;){f=y>>>24;v>>>=f;w-=f;f=y>>>16&255;if(f&16){var F=y&65535;f&=15;w<f&&(v+=g[H++]<<w,w+=8,w<f&&(v+=g[H++]<<w,w+=8));F+=v&(1<<f)-1;if(F>V){C.msg="invalid distance too far back";E.mode=16209;break b}v>>>=f;w-=
f;f=B-I;if(F>f){f=F-f;if(f>R&&E.sane){C.msg="invalid distance too far back";E.mode=16209;break b}var A=0;y=N;if(0===U){if(A+=x-f,f<k){k-=f;do l[B++]=N[A++];while(--f);A=B-F;y=l}}else if(U<f){if(A+=x+U-f,f-=U,f<k){k-=f;do l[B++]=N[A++];while(--f);A=0;if(U<k){f=U;k-=f;do l[B++]=N[A++];while(--f);A=B-F;y=l}}}else if(A+=U-f,f<k){k-=f;do l[B++]=N[A++];while(--f);A=B-F;y=l}for(;2<k;)l[B++]=y[A++],l[B++]=y[A++],l[B++]=y[A++],k-=3;k&&(l[B++]=y[A++],1<k&&(l[B++]=y[A++]))}else{A=B-F;do l[B++]=l[A++],l[B++]=
l[A++],l[B++]=l[A++],k-=3;while(2<k);k&&(l[B++]=l[A++],1<k&&(l[B++]=l[A++]))}}else if(0===(f&64)){y=m[(y&65535)+(v&(1<<f)-1)];continue d}else{C.msg="invalid distance code";E.mode=16209;break b}break}}else if(0===(f&64)){y=n[(y&65535)+(v&(1<<f)-1)];continue c}else{f&32?E.mode=16191:(C.msg="invalid literal/length code",E.mode=16209);break b}break}}while(H<D&&B<L);k=w>>3;H-=k;w-=k<<3;C.next_in=H;C.next_out=B;C.avail_in=H<D?5+(D-H):5-(H-D);C.avail_out=B<L?257+(L-B):257-(B-L);E.hold=v&(1<<w)-1;E.bits=
w;f=b.next_out;g=b.output;h=b.avail_out;k=b.next_in;l=b.input;p=b.avail_in;m=e.hold;n=e.bits;16191===e.mode&&(e.back=-1);break}for(e.back=0;;){x=e.lencode[m&(1<<e.lenbits)-1];w=x>>>24;v=x>>>16&255;x&=65535;if(w<=n)break;if(0===p)break a;p--;m+=l[k++]<<n;n+=8}if(v&&0===(v&240)){N=w;U=v;for(R=x;;){x=e.lencode[R+((m&(1<<N+U)-1)>>N)];w=x>>>24;v=x>>>16&255;x&=65535;if(N+w<=n)break;if(0===p)break a;p--;m+=l[k++]<<n;n+=8}m>>>=N;n-=N;e.back+=N}m>>>=w;n-=w;e.back+=w;e.length=x;if(0===v){e.mode=16205;break}if(v&
32){e.back=-1;e.mode=16191;break}if(v&64){b.msg="invalid literal/length code";e.mode=16209;break}e.extra=v&15;e.mode=16201;case 16201:if(e.extra){for(v=e.extra;n<v;){if(0===p)break a;p--;m+=l[k++]<<n;n+=8}e.length+=m&(1<<e.extra)-1;m>>>=e.extra;n-=e.extra;e.back+=e.extra}e.was=e.length;e.mode=16202;case 16202:for(;;){x=e.distcode[m&(1<<e.distbits)-1];w=x>>>24;v=x>>>16&255;x&=65535;if(w<=n)break;if(0===p)break a;p--;m+=l[k++]<<n;n+=8}if(0===(v&240)){N=w;U=v;for(R=x;;){x=e.distcode[R+((m&(1<<N+U)-1)>>
N)];w=x>>>24;v=x>>>16&255;x&=65535;if(N+w<=n)break;if(0===p)break a;p--;m+=l[k++]<<n;n+=8}m>>>=N;n-=N;e.back+=N}m>>>=w;n-=w;e.back+=w;if(v&64){b.msg="invalid distance code";e.mode=16209;break}e.offset=x;e.extra=v&15;e.mode=16203;case 16203:if(e.extra){for(v=e.extra;n<v;){if(0===p)break a;p--;m+=l[k++]<<n;n+=8}e.offset+=m&(1<<e.extra)-1;m>>>=e.extra;n-=e.extra;e.back+=e.extra}if(e.offset>e.dmax){b.msg="invalid distance too far back";e.mode=16209;break}e.mode=16204;case 16204:if(0===h)break a;w=t-h;
if(e.offset>w){w=e.offset-w;if(w>e.whave&&e.sane){b.msg="invalid distance too far back";e.mode=16209;break}w>e.wnext?(w-=e.wnext,v=e.wsize-w):v=e.wnext-w;w>e.length&&(w=e.length);N=e.window}else N=g,v=f-e.offset,w=e.length;w>h&&(w=h);h-=w;e.length-=w;do g[f++]=N[v++];while(--w);0===e.length&&(e.mode=16200);break;case 16205:if(0===h)break a;g[f++]=e.length;h--;e.mode=16200;break;case 16206:if(e.wrap){for(;32>n;){if(0===p)break a;p--;m|=l[k++]<<n;n+=8}t-=h;b.total_out+=t;e.total+=t;e.wrap&4&&t&&(b.adler=
e.check=e.flags?lb(e.check,g,t,f-t):Ye(e.check,g,t,f-t));t=h;if(e.wrap&4&&(e.flags?m:Sl(m))!==e.check){b.msg="incorrect data check";e.mode=16209;break}n=m=0}e.mode=16207;case 16207:if(e.wrap&&e.flags){for(;32>n;){if(0===p)break a;p--;m+=l[k++]<<n;n+=8}if(e.wrap&4&&m!==(e.total&4294967295)){b.msg="incorrect length check";e.mode=16209;break}n=m=0}e.mode=16208;case 16208:r=Xq;break a;case 16209:r=Pl;break a;case 16210:return Ql;default:return Ib}b.next_out=f;b.avail_out=h;b.next_in=k;b.avail_in=p;e.hold=
m;e.bits=n;(e.wsize||t!==b.avail_out&&16209>e.mode&&(16206>e.mode||a!==Ol))&&Yl(b,b.output,b.next_out,t-b.avail_out);q-=b.avail_in;t-=b.avail_out;b.total_in+=q;b.total_out+=t;e.total+=t;e.wrap&4&&t&&(b.adler=e.check=e.flags?lb(e.check,g,t,b.next_out-t):Ye(e.check,g,t,b.next_out-t));b.data_type=e.bits+(e.last?64:0)+(16191===e.mode?128:0)+(16199===e.mode||16194===e.mode?256:0);(0===q&&0===t||a===Ol)&&r===sd&&(r=Zq);return r},inflateEnd:function(b){if(td(b))return Ib;var a=b.state;a.window&&(a.window=
null);b.state=null;return sd},inflateGetHeader:function(b,a){if(td(b))return Ib;b=b.state;if(0===(b.wrap&2))return Ib;b.head=a;a.done=!1;return sd},inflateSetDictionary:function(b,a){var c=a.length;if(td(b))return Ib;var d=b.state;if(0!==d.wrap&&16190!==d.mode)return Ib;if(16190===d.mode){var e=Ye(1,a,c,0);if(e!==d.check)return Pl}if(Yl(b,a,c,c))return d.mode=16210,Ql;d.havedict=1;return sd},inflateInfo:"pako inflate (from Nodeca project)"},Qn=function(){this.os=this.xflags=this.time=this.text=0;
this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1},qj=Object.prototype.toString,$q=qa.Z_NO_FLUSH,ar=qa.Z_FINISH,ue=qa.Z_OK,ri=qa.Z_STREAM_END,si=qa.Z_NEED_DICT,br=qa.Z_STREAM_ERROR,Zl=qa.Z_DATA_ERROR,cr=qa.Z_MEM_ERROR;te.prototype.push=function(b,a){var c=this.strm,d=this.options.chunkSize,e=this.options.dictionary;if(this.ended)return!1;var f=a===~~a?a:!0===a?ar:$q;"[object ArrayBuffer]"===qj.call(b)?c.input=new Uint8Array(b):c.input=b;c.next_in=0;for(c.avail_in=
c.input.length;;){0===c.avail_out&&(c.output=new Uint8Array(d),c.next_out=0,c.avail_out=d);a=cc.inflate(c,f);a===si&&e&&(a=cc.inflateSetDictionary(c,e),a===ue?a=cc.inflate(c,f):a===Zl&&(a=si));for(;0<c.avail_in&&a===ri&&0<c.state.wrap&&0!==b[c.next_in];)cc.inflateReset(c),a=cc.inflate(c,f);switch(a){case br:case Zl:case si:case cr:return this.onEnd(a),this.ended=!0,!1}var g=c.avail_out;if(c.next_out&&(0===c.avail_out||a===ri))if("string"===this.options.to){var h=se.utf8border(c.output,c.next_out),
k=c.next_out-h,l=se.buf2string(c.output,h);c.next_out=k;c.avail_out=d-k;k&&c.output.set(c.output.subarray(h,h+k),0);this.onData(l)}else this.onData(c.output.length===c.next_out?c.output:c.output.subarray(0,c.next_out));if(a!==ue||0!==g){if(a===ri){a=cc.inflateEnd(this.strm);this.onEnd(a);this.ended=!0;break}if(0===c.avail_in)break}}return!0};te.prototype.onData=function(b){this.chunks.push(b)};te.prototype.onEnd=function(b){b===ue&&(this.result="string"===this.options.to?this.chunks.join(""):nf.flattenChunks(this.chunks));
this.chunks=[];this.err=b;this.msg=this.strm.msg};var Dk={Deflate:qe,deflate:Qg,deflateRaw:function(b,a){a=a||{};a.raw=!0;return Qg(b,a)},gzip:function(b,a){a=a||{};a.gzip=!0;return Qg(b,a)},Inflate:te,inflate:Rg,inflateRaw:function(b,a){a=a||{};a.raw=!0;return Rg(b,a)},ungzip:Rg,constants:qa},ro=["inputs"],uo=["inputId"],Go=["inputs"],Jo=["inputId"],dr=["type"],er=Object.defineProperty,S=function(b,a,c){a="symbol"!==T(a)?a+"":a;return a in b?er(b,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):
b[a]=c},$l,fr=Object.defineProperty,am=function(b,a,c){a="symbol"!==T(a)?a+"":a;return a in b?fr(b,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):b[a]=c},jb=function(b){b[b.Document=0]="Document";b[b.DocumentType=1]="DocumentType";b[b.Element=2]="Element";b[b.Text=3]="Text";b[b.CDATA=4]="CDATA";b[b.Comment=5]="Comment";return b}(jb||{}),rj={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],
MutationObserver:[]},sj={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},pf={},Tg={},Ug={},tb={childNodes:function(b){return sc("Node",b,"childNodes")},parentNode:function(b){return sc("Node",b,"parentNode")},parentElement:function(b){return sc("Node",b,"parentElement")},textContent:function(b){return sc("Node",b,"textContent")},contains:function(b,a){return tj("Node",b,"contains")(a)},getRootNode:function(b){return tj("Node",b,"getRootNode")()},
host:function(b){return b&&"host"in b?sc("ShadowRoot",b,"host"):null},styleSheets:function(b){return b.styleSheets},shadowRoot:function(b){return b&&"shadowRoot"in b?sc("Element",b,"shadowRoot"):null},querySelector:function(b,a){return sc("Element",b,"querySelector")(a)},querySelectorAll:function(b,a){return sc("Element",b,"querySelectorAll")(a)},mutationObserver:function(){return Sg("MutationObserver").constructor}},Cj=function(){function b(){na(this,b);am(this,"idNodeMap",new Map);am(this,"nodeMetaMap",
new WeakMap)}return oa(b,[{key:"getId",value:function(a){var c;if(!a)return-1;a=null==(c=this.getMeta(a))?void 0:c.id;return null!==a&&void 0!==a?a:-1}},{key:"getNode",value:function(a){return this.idNodeMap.get(a)||null}},{key:"getIds",value:function(){return Array.from(this.idNodeMap.keys())}},{key:"getMeta",value:function(a){return this.nodeMetaMap.get(a)||null}},{key:"removeNodeFromMap",value:function(a){var c=this,d=this.getId(a);this.idNodeMap.delete(d);a.childNodes&&a.childNodes.forEach(function(e){return c.removeNodeFromMap(e)})}},
{key:"has",value:function(a){return this.idNodeMap.has(a)}},{key:"hasNode",value:function(a){return this.nodeMetaMap.has(a)}},{key:"add",value:function(a,c){this.idNodeMap.set(c.id,a);this.nodeMetaMap.set(a,c)}},{key:"replace",value:function(a,c){var d=this.getNode(a);d&&(d=this.nodeMetaMap.get(d))&&this.nodeMetaMap.set(c,d);this.idNodeMap.set(a,c)}},{key:"reset",value:function(){this.idNodeMap=new Map;this.nodeMetaMap=new WeakMap}}])}(),Tn=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Un=/^(?:[a-z+]+:)?\/\//i,
Vn=/^www\..*/i,Wn=/^(data:)([^,]*),(.*)/i,wj=1,$n=/[^a-z0-9-_:]/,Ed,Bj,co=/^[^ \t\n\r\u000c]+/,bo=/^[, \t\n\r\u000c]+/,xj=new WeakMap,ti={},Qa=String,bm=function(){return{isColorSupported:!1,reset:Qa,bold:Qa,dim:Qa,italic:Qa,underline:Qa,inverse:Qa,hidden:Qa,strikethrough:Qa,black:Qa,red:Qa,green:Qa,yellow:Qa,blue:Qa,magenta:Qa,cyan:Qa,white:Qa,gray:Qa,bgBlack:Qa,bgRed:Qa,bgGreen:Qa,bgYellow:Qa,bgBlue:Qa,bgMagenta:Qa,bgCyan:Qa,bgWhite:Qa}};ti=bm();ti.createColors=bm;var cm=ti,Ua=function(b){if(b.__esModule)return b;
var a=b.default;if("function"==typeof a){var c=function e(){return this instanceof e?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};c.prototype=a.prototype}else c={};Object.defineProperty(c,"__esModule",{value:!0});Object.keys(b).forEach(function(d){var e=Object.getOwnPropertyDescriptor(b,d);Object.defineProperty(c,d,e.get?e:{enumerable:!0,get:function(){return b[d]}})});return c}(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),
ae=function(b){function a(c,d,e,f,g,h){na(this,a);var k=rb(this,a,[c]);k.name="CssSyntaxError";k.reason=c;g&&(k.file=g);f&&(k.source=f);h&&(k.plugin=h);"undefined"!==typeof d&&"undefined"!==typeof e&&("number"===typeof d?(k.line=d,k.column=e):(k.line=d.line,k.column=d.column,k.endLine=e.line,k.endColumn=e.column));k.setMessage();Error.captureStackTrace&&Error.captureStackTrace(k,a);return k}sb(a,b);return oa(a,[{key:"setMessage",value:function(){this.message=this.plugin?this.plugin+": ":"";this.message+=
this.file?this.file:"<css input>";"undefined"!==typeof this.line&&(this.message+=":"+this.line+":"+this.column);this.message+=": "+this.reason}},{key:"showSourceCode",value:function(c){var d=this;if(!this.source)return"";var e=this.source;null==c&&(c=cm.isColorSupported);Ua&&c&&(e=Ua(e));e=e.split(/\r?\n/);var f=Math.max(this.line-3,0),g=Math.min(this.line+2,e.length),h=String(g).length;if(c){c=cm.createColors(!0);var k=c.bold,l=c.gray,p=c.red;var m=function(q){return k(p(q))};var n=function(q){return l(q)}}else m=
n=function(q){return q};return e.slice(f,g).map(function(q,t){var r=f+1+t;t=" "+(" "+r).slice(-h)+" | ";return r===d.line?(r=n(t.replace(/\d/g," "))+q.slice(0,d.column-1).replace(/[^\t]/g," "),m(">")+n(t)+q+"\n "+r+m("^")):" "+n(t)+q}).join("\n")}},{key:"toString",value:function(){var c=this.showSourceCode();c&&(c="\n\n"+c+"\n");return this.name+": "+this.message+c}}])}(jf(Error));ae.default=ae;var be=Symbol("isClean");var jg=Symbol("my");var dm={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",
beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1},ui=function(){function b(a){na(this,b);this.builder=a}return oa(b,[{key:"atrule",value:function(a,c){var d="@"+a.name,e=a.params?this.rawValue(a,"params"):"";"undefined"!==typeof a.raws.afterName?d+=a.raws.afterName:e&&(d+=" ");a.nodes?this.block(a,d+e):this.builder(d+e+((a.raws.between||"")+(c?";":"")),a)}},{key:"beforeAfter",value:function(a,c){c="decl"===a.type?this.raw(a,null,"beforeDecl"):
"comment"===a.type?this.raw(a,null,"beforeComment"):"before"===c?this.raw(a,null,"beforeRule"):this.raw(a,null,"beforeClose");for(var d=a.parent,e=0;d&&"root"!==d.type;)e+=1,d=d.parent;if(c.includes("\n")&&(a=this.raw(a,null,"indent"),a.length))for(d=0;d<e;d++)c+=a;return c}},{key:"block",value:function(a,c){var d=this.raw(a,"between","beforeOpen");this.builder(c+d+"{",a,"start");a.nodes&&a.nodes.length?(this.body(a),c=this.raw(a,"after")):c=this.raw(a,"after","emptyBody");c&&this.builder(c);this.builder("}",
a,"end")}},{key:"body",value:function(a){for(var c=a.nodes.length-1;0<c&&"comment"===a.nodes[c].type;)--c;for(var d=this.raw(a,"semicolon"),e=0;e<a.nodes.length;e++){var f=a.nodes[e],g=this.raw(f,"before");g&&this.builder(g);this.stringify(f,c!==e||d)}}},{key:"comment",value:function(a){var c=this.raw(a,"left","commentLeft"),d=this.raw(a,"right","commentRight");this.builder("/*"+c+a.text+d+"*/",a)}},{key:"decl",value:function(a,c){var d=this.raw(a,"between","colon");d=a.prop+d+this.rawValue(a,"value");
a.important&&(d+=a.raws.important||" !important");c&&(d+=";");this.builder(d,a)}},{key:"document",value:function(a){this.body(a)}},{key:"raw",value:function(a,c,d){d||(d=c);if(c){var e=a.raws[c];if("undefined"!==typeof e)return e}var f=a.parent;if("before"===d&&(!f||"root"===f.type&&f.first===a||f&&"document"===f.type))return"";if(!f)return dm[d];f=a.root();f.rawCache||(f.rawCache={});if("undefined"!==typeof f.rawCache[d])return f.rawCache[d];if("before"===d||"after"===d)return this.beforeAfter(a,
d);var g="raw"+lo(d);this[g]?e=this[g](f,a):f.walk(function(h){e=h.raws[c];if("undefined"!==typeof e)return!1});"undefined"===typeof e&&(e=dm[d]);return f.rawCache[d]=e}},{key:"rawBeforeClose",value:function(a){var c;a.walk(function(d){if(d.nodes&&0<d.nodes.length&&"undefined"!==typeof d.raws.after)return c=d.raws.after,c.includes("\n")&&(c=c.replace(/[^\n]+$/,"")),!1});c&&(c=c.replace(/\S/g,""));return c}},{key:"rawBeforeComment",value:function(a,c){var d;a.walkComments(function(e){if("undefined"!==
typeof e.raws.before)return d=e.raws.before,d.includes("\n")&&(d=d.replace(/[^\n]+$/,"")),!1});"undefined"===typeof d?d=this.raw(c,null,"beforeDecl"):d&&(d=d.replace(/\S/g,""));return d}},{key:"rawBeforeDecl",value:function(a,c){var d;a.walkDecls(function(e){if("undefined"!==typeof e.raws.before)return d=e.raws.before,d.includes("\n")&&(d=d.replace(/[^\n]+$/,"")),!1});"undefined"===typeof d?d=this.raw(c,null,"beforeRule"):d&&(d=d.replace(/\S/g,""));return d}},{key:"rawBeforeOpen",value:function(a){var c;
a.walk(function(d){if("decl"!==d.type&&(c=d.raws.between,"undefined"!==typeof c))return!1});return c}},{key:"rawBeforeRule",value:function(a){var c;a.walk(function(d){if(d.nodes&&(d.parent!==a||a.first!==d)&&"undefined"!==typeof d.raws.before)return c=d.raws.before,c.includes("\n")&&(c=c.replace(/[^\n]+$/,"")),!1});c&&(c=c.replace(/\S/g,""));return c}},{key:"rawColon",value:function(a){var c;a.walkDecls(function(d){if("undefined"!==typeof d.raws.between)return c=d.raws.between.replace(/[^\s:]/g,""),
!1});return c}},{key:"rawEmptyBody",value:function(a){var c;a.walk(function(d){if(d.nodes&&0===d.nodes.length&&(c=d.raws.after,"undefined"!==typeof c))return!1});return c}},{key:"rawIndent",value:function(a){if(a.raws.indent)return a.raws.indent;var c;a.walk(function(d){var e=d.parent;if(e&&e!==a&&e.parent&&e.parent===a&&"undefined"!==typeof d.raws.before)return d=d.raws.before.split("\n"),c=d[d.length-1],c=c.replace(/\S/g,""),!1});return c}},{key:"rawSemicolon",value:function(a){var c;a.walk(function(d){if(d.nodes&&
d.nodes.length&&"decl"===d.last.type&&(c=d.raws.semicolon,"undefined"!==typeof c))return!1});return c}},{key:"rawValue",value:function(a,c){var d=a[c];return(a=a.raws[c])&&a.value===d?a.raw:d}},{key:"root",value:function(a){this.body(a);a.raws.after&&this.builder(a.raws.after)}},{key:"rule",value:function(a){this.block(a,this.rawValue(a,"selector"));a.raws.ownSemicolon&&this.builder(a.raws.ownSemicolon,a,"end")}},{key:"stringify",value:function(a,c){if(!this[a.type])throw Error("Unknown AST node type "+
a.type+". Maybe you need to change PostCSS stringifier.");this[a.type](a,c)}}])}(),mo=ui.default=ui;Gd.default=Gd;var ce=function(){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};na(this,b);this.raws={};this[be]=!1;this[jg]=!0;for(var c in a)if("nodes"===c){this.nodes=[];var d=X(a[c]),e;try{for(d.s();!(e=d.n()).done;){var f=e.value;"function"===typeof f.clone?this.append(f.clone()):this.append(f)}}catch(g){d.e(g)}finally{d.f()}}else this[c]=a[c]}return oa(b,[{key:"addToError",
value:function(a){a.postcssNode=this;if(a.stack&&this.source&&/\n\s{4}at /.test(a.stack)){var c=this.source;a.stack=a.stack.replace(/\n\s{4}at /,"$&".concat(c.input.from,":").concat(c.start.line,":").concat(c.start.column,"$&"))}return a}},{key:"after",value:function(a){this.parent.insertAfter(this,a);return this}},{key:"assign",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c;for(c in a)this[c]=a[c];return this}},{key:"before",value:function(a){this.parent.insertBefore(this,
a);return this}},{key:"cleanRaws",value:function(a){delete this.raws.before;delete this.raws.after;a||delete this.raws.between}},{key:"clone",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=Zg(this),d;for(d in a)c[d]=a[d];return c}},{key:"cloneAfter",value:function(){var a=this.clone(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});this.parent.insertAfter(this,a);return a}},{key:"cloneBefore",value:function(){var a=this.clone(0<arguments.length&&void 0!==
arguments[0]?arguments[0]:{});this.parent.insertBefore(this,a);return a}},{key:"error",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(this.source){var d=this.rangeBy(c),e=d.end;d=d.start;return this.source.input.error(a,{column:d.column,line:d.line},{column:e.column,line:e.line},c)}return new ae(a)}},{key:"getProxyProcessor",value:function(){return{get:function(a,c){return"proxyOf"===c?a:"root"===c?function(){return a.root().toProxy()}:a[c]},set:function(a,c,
d){if(a[c]===d)return!0;a[c]=d;"prop"!==c&&"value"!==c&&"name"!==c&&"params"!==c&&"important"!==c&&"text"!==c||a.markDirty();return!0}}}},{key:"markDirty",value:function(){if(this[be]){this[be]=!1;for(var a=this;a=a.parent;)a[be]=!1}}},{key:"next",value:function(){if(this.parent){var a=this.parent.index(this);return this.parent.nodes[a+1]}}},{key:"positionBy",value:function(a,c){var d=this.source.start;a.index?d=this.positionInside(a.index,c):a.word&&(c=this.toString(),a=c.indexOf(a.word),-1!==a&&
(d=this.positionInside(a,c)));return d}},{key:"positionInside",value:function(a,c){c=c||this.toString();for(var d=this.source.start.column,e=this.source.start.line,f=0;f<a;f++)"\n"===c[f]?(d=1,e+=1):d+=1;return{column:d,line:e}}},{key:"prev",value:function(){if(this.parent){var a=this.parent.index(this);return this.parent.nodes[a-1]}}},{key:"rangeBy",value:function(a){var c={column:this.source.start.column,line:this.source.start.line},d=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:
{column:c.column+1,line:c.line};if(a.word){var e=this.toString(),f=e.indexOf(a.word);-1!==f&&(c=this.positionInside(f,e),d=this.positionInside(f+a.word.length,e))}else a.start?c={column:a.start.column,line:a.start.line}:a.index&&(c=this.positionInside(a.index)),a.end?d={column:a.end.column,line:a.end.line}:"number"===typeof a.endIndex?d=this.positionInside(a.endIndex):a.index&&(d=this.positionInside(a.index+1));if(d.line<c.line||d.line===c.line&&d.column<=c.column)d={column:c.column+1,line:c.line};
return{end:d,start:c}}},{key:"raw",value:function(a,c){return(new ui).raw(this,a,c)}},{key:"remove",value:function(){this.parent&&this.parent.removeChild(this);this.parent=void 0;return this}},{key:"replaceWith",value:function(){if(this.parent){for(var a=this,c=!1,d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];for(d=0;d<e.length;d++)f=e[d],f===this?c=!0:c?(this.parent.insertAfter(a,f),a=f):this.parent.insertBefore(a,f);c||this.remove()}return this}},{key:"root",value:function(){for(var a=
this;a.parent&&"document"!==a.parent.type;)a=a.parent;return a}},{key:"toJSON",value:function(a,c){a={};var d=null==c;c=c||new Map;var e=0,f;for(f in this)if(Object.prototype.hasOwnProperty.call(this,f)&&"parent"!==f&&"proxyCache"!==f){var g=this[f];if(Array.isArray(g))a[f]=g.map(function(k){return"object"===T(k)&&k.toJSON?k.toJSON(null,c):k});else if("object"===T(g)&&g.toJSON)a[f]=g.toJSON(null,c);else if("source"===f){var h=c.get(g.input);null==h&&(h=e,c.set(g.input,e),e++);a[f]={end:g.end,inputId:h,
start:g.start}}else a[f]=g}d&&(a.inputs=Rb(c.keys()).map(function(k){return k.toJSON()}));return a}},{key:"toProxy",value:function(){this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor()));return this.proxyCache}},{key:"toString",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Gd;a.stringify&&(a=a.stringify);var c="";a(this,function(d){c+=d});return c}},{key:"warn",value:function(a,c,d){var e={node:this},f;for(f in d)e[f]=d[f];return a.warn(c,e)}},
{key:"proxyOf",get:function(){return this}}])}();ce.default=ce;var Ec=function(b){function a(c){na(this,a);c&&"undefined"!==typeof c.value&&"string"!==typeof c.value&&(c=ra(ra({},c),{},{value:String(c.value)}));c=rb(this,a,[c]);c.type="decl";return c}sb(a,b);return oa(a,[{key:"variable",get:function(){return this.prop.startsWith("--")||"$"===this.prop[0]}}])}(ce);Ec.default=Ec;var em=Ua.SourceMapConsumer,fm=Ua.SourceMapGenerator,gr=Ua.existsSync,hr=Ua.readFileSync,vi=Ua.dirname,ir=Ua.join,kg=function(){function b(a,
c){na(this,b);!1!==c.map&&(this.loadAnnotation(a),this.inline=this.startWith(this.annotation,"data:"),a=this.loadMap(c.from,c.map?c.map.prev:void 0),!this.mapFile&&c.from&&(this.mapFile=c.from),this.mapFile&&(this.root=vi(this.mapFile)),a&&(this.text=a))}return oa(b,[{key:"consumer",value:function(){this.consumerCache||(this.consumerCache=new em(this.text));return this.consumerCache}},{key:"decodeInline",value:function(a){var c=/^data:application\/json;base64,/,d=/^data:application\/json,/;if(/^data:application\/json;charset=utf-?8,/.test(a)||
d.test(a))return decodeURIComponent(a.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(a)||c.test(a))return a=a.substr(RegExp.lastMatch.length),a=Buffer?Buffer.from(a,"base64").toString():window.atob(a),a;a=a.match(/data:application\/json;([^,]+),/)[1];throw Error("Unsupported source map encoding "+a);}},{key:"getAnnotationURL",value:function(a){return a.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}},{key:"isMap",value:function(a){return"object"!==T(a)?
!1:"string"===typeof a.mappings||"string"===typeof a._mappings||Array.isArray(a.sections)}},{key:"loadAnnotation",value:function(a){var c=a.match(/\/\*\s*# sourceMappingURL=/gm);if(c){c=a.lastIndexOf(c.pop());var d=a.indexOf("*/",c);-1<c&&-1<d&&(this.annotation=this.getAnnotationURL(a.substring(c,d)))}}},{key:"loadFile",value:function(a){this.root=vi(a);if(gr(a))return this.mapFile=a,hr(a,"utf-8").toString().trim()}},{key:"loadMap",value:function(a,c){if(!1===c)return!1;if(c){if("string"===typeof c)return c;
if("function"===typeof c){if(a=c(a)){c=this.loadFile(a);if(!c)throw Error("Unable to load previous source map: "+a.toString());return c}}else{if(c instanceof em)return fm.fromSourceMap(c).toString();if(c instanceof fm)return c.toString();if(this.isMap(c))return JSON.stringify(c);throw Error("Unsupported previous source map format: "+c.toString());}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation)return c=this.annotation,a&&(c=ir(vi(a),c)),this.loadFile(c)}}},{key:"startWith",
value:function(a,c){return a?a.substr(0,c.length)===c:!1}},{key:"withContent",value:function(){return!!(this.consumer().sourcesContent&&0<this.consumer().sourcesContent.length)}}])}();kg.default=kg;var jr=Ua.SourceMapConsumer,kr=Ua.SourceMapGenerator,gm=Ua.fileURLToPath,lg=Ua.pathToFileURL,wi=Ua.isAbsolute,xi=Ua.resolve,lr=function(){for(var b="",a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:21;a--;)b+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|
0];return b},yi=Symbol("fromOffsetCache"),mr=!(!jr||!kr),hm=!(!xi||!wi),ud=function(){function b(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};na(this,b);if(null===a||"undefined"===typeof a||"object"===T(a)&&!a.toString)throw Error("PostCSS received ".concat(a," instead of CSS string"));this.css=a.toString();"\ufeff"===this.css[0]||"\ufffe"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1;c.from&&(!hm||/^\w+:\/\//.test(c.from)||wi(c.from)?this.file=c.from:
this.file=xi(c.from));hm&&mr&&(c=new kg(this.css,c),c.text&&(this.map=c,c=c.consumer().file,!this.file&&c&&(this.file=this.mapResolve(c))));this.file||(this.id="<input css "+lr(6)+">");this.map&&(this.map.file=this.from)}return oa(b,[{key:"error",value:function(a,c,d){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(c&&"object"===T(c)){var f=c;var g=d;"number"===typeof f.offset?(f=this.fromOffset(f.offset),c=f.line,d=f.col):(c=f.line,d=f.column);"number"===typeof g.offset?(g=this.fromOffset(g.offset),
f=g.line,g=g.col):(f=g.line,g=g.column)}else if(!d){var h=this.fromOffset(c);c=h.line;d=h.col}e=(h=this.origin(c,d,f,g))?new ae(a,void 0===h.endLine?h.line:{column:h.column,line:h.line},void 0===h.endLine?h.column:{column:h.endColumn,line:h.endLine},h.source,h.file,e.plugin):new ae(a,void 0===f?c:{column:d,line:c},void 0===f?d:{column:g,line:f},this.css,this.file,e.plugin);e.input={column:d,endColumn:g,endLine:f,line:c,source:this.css};this.file&&(lg&&(e.input.url=lg(this.file).toString()),e.input.file=
this.file);return e}},{key:"fromOffset",value:function(a){if(this[yi])var c=this[yi];else{var d=this.css.split("\n");c=Array(d.length);for(var e=0,f=0,g=d.length;f<g;f++)c[f]=e,e+=d[f].length+1;this[yi]=c}d=0;if(a>=c[c.length-1])d=c.length-1;else for(e=c.length-2;d<e;)if(f=d+(e-d>>1),a<c[f])e=f-1;else if(a>=c[f+1])d=f+1;else{d=f;break}return{col:a-c[d]+1,line:d+1}}},{key:"mapResolve",value:function(a){return/^\w+:\/\//.test(a)?a:xi(this.map.consumer().sourceRoot||this.map.root||".",a)}},{key:"origin",
value:function(a,c,d,e){if(!this.map)return!1;var f=this.map.consumer();a=f.originalPositionFor({column:c,line:a});if(!a.source)return!1;var g;"number"===typeof d&&(g=f.originalPositionFor({column:e,line:d}));d=wi(a.source)?lg(a.source):new URL(a.source,this.map.consumer().sourceRoot||lg(this.map.mapFile));g={column:a.column,endColumn:g&&g.column,endLine:g&&g.line,line:a.line,url:d.toString()};if("file:"===d.protocol)if(gm)g.file=gm(d);else throw Error("file: protocol is not available in this PostCSS build");
if(f=f.sourceContentFor(a.source))g.source=f;return g}},{key:"toJSON",value:function(){for(var a={},c=0,d=["hasBOM","css","file","id"];c<d.length;c++){var e=d[c];null!=this[e]&&(a[e]=this[e])}this.map&&(a.map=ra({},this.map),a.map.consumerCache&&(a.map.consumerCache=void 0));return a}},{key:"from",get:function(){return this.file||this.id}}])}();ud.default=ud;Ua&&Ua.registerInput&&Ua.registerInput(ud);var im=Ua.SourceMapConsumer,mg=Ua.SourceMapGenerator,ng=Ua.dirname,jm=Ua.relative,km=Ua.resolve,lm=
Ua.sep,mm=Ua.pathToFileURL,nr=!(!im||!mg),or=!!(ng&&km&&jm&&lm),nm=function(){function b(a,c,d,e){na(this,b);this.stringify=a;this.mapOpts=d.map||{};this.root=c;this.opts=d;this.originalCSS=this.css=e;this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute;this.memoizedFileURLs=new Map;this.memoizedPaths=new Map;this.memoizedURLs=new Map}return oa(b,[{key:"addAnnotation",value:function(){var a=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"===typeof this.mapOpts.annotation?
this.mapOpts.annotation:"function"===typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";var c="\n";this.css.includes("\r\n")&&(c="\r\n");this.css+=c+"/*# sourceMappingURL="+a+" */"}},{key:"applyPrevMaps",value:function(){var a=X(this.previous()),c;try{for(a.s();!(c=a.n()).done;){var d=c.value,e=this.toUrl(this.path(d.file)),f=d.root||ng(d.file),g=void 0;!1===this.mapOpts.sourcesContent?(g=new im(d.text),g.sourcesContent&&(g.sourcesContent=null)):
g=d.consumer();this.map.applySourceMap(g,e,this.toUrl(this.path(f)))}}catch(h){a.e(h)}finally{a.f()}}},{key:"clearAnnotation",value:function(){if(!1!==this.mapOpts.annotation)if(this.root)for(var a,c=this.root.nodes.length-1;0<=c;c--)a=this.root.nodes[c],"comment"===a.type&&0===a.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(c);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}},{key:"generate",value:function(){this.clearAnnotation();if(or&&nr&&this.isMap())return this.generateMap();
var a="";this.stringify(this.root,function(c){a+=c});return[a]}},{key:"generateMap",value:function(){if(this.root)this.generateString();else if(1===this.previous().length){var a=this.previous()[0].consumer();a.file=this.outputFile();this.map=mg.fromSourceMap(a,{ignoreInvalidMapping:!0})}else this.map=new mg({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});
this.isSourcesContent()&&this.setSourcesContent();this.root&&0<this.previous().length&&this.applyPrevMaps();this.isAnnotation()&&this.addAnnotation();return this.isInline()?[this.css]:[this.css,this.map]}},{key:"generateString",value:function(){var a=this;this.css="";this.map=new mg({file:this.outputFile(),ignoreInvalidMapping:!0});var c=1,d=1,e={generated:{column:0,line:0},original:{column:0,line:0},source:""},f,g;this.stringify(this.root,function(h,k,l){a.css+=h;k&&"end"!==l&&(e.generated.line=
c,e.generated.column=d-1,k.source&&k.source.start?(e.source=a.sourcePath(k),e.original.line=k.source.start.line,e.original.column=k.source.start.column-1):(e.source="<no source>",e.original.line=1,e.original.column=0),a.map.addMapping(e));(f=h.match(/\n/g))?(c+=f.length,g=h.lastIndexOf("\n"),d=h.length-g):d+=h.length;k&&"start"!==l&&(h=k.parent||{raws:{}},"decl"!==k.type&&("atrule"!==k.type||k.nodes)||k!==h.last||h.raws.semicolon)&&(k.source&&k.source.end?(e.source=a.sourcePath(k),e.original.line=
k.source.end.line,e.original.column=k.source.end.column-1,e.generated.line=c,e.generated.column=d-2):(e.source="<no source>",e.original.line=1,e.original.column=0,e.generated.line=c,e.generated.column=d-1),a.map.addMapping(e))})}},{key:"isAnnotation",value:function(){return this.isInline()?!0:"undefined"!==typeof this.mapOpts.annotation?this.mapOpts.annotation:this.previous().length?this.previous().some(function(a){return a.annotation}):!0}},{key:"isInline",value:function(){if("undefined"!==typeof this.mapOpts.inline)return this.mapOpts.inline;
var a=this.mapOpts.annotation;return"undefined"!==typeof a&&!0!==a?!1:this.previous().length?this.previous().some(function(c){return c.inline}):!0}},{key:"isMap",value:function(){return"undefined"!==typeof this.opts.map?!!this.opts.map:0<this.previous().length}},{key:"isSourcesContent",value:function(){return"undefined"!==typeof this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(function(a){return a.withContent()}):!0}},{key:"outputFile",value:function(){return this.opts.to?
this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}},{key:"path",value:function(a){if(this.mapOpts.absolute||60===a.charCodeAt(0)||/^\w+:\/\//.test(a))return a;var c=this.memoizedPaths.get(a);if(c)return c;c=this.opts.to?ng(this.opts.to):".";"string"===typeof this.mapOpts.annotation&&(c=ng(km(c,this.mapOpts.annotation)));c=jm(c,a);this.memoizedPaths.set(a,c);return c}},{key:"previous",value:function(){var a=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(d){d.source&&
d.source.input.map&&(d=d.source.input.map,a.previousMaps.includes(d)||a.previousMaps.push(d))});else{var c=new ud(this.originalCSS,this.opts);c.map&&this.previousMaps.push(c.map)}return this.previousMaps}},{key:"setSourcesContent",value:function(){var a=this,c={};if(this.root)this.root.walk(function(e){if(e.source){var f=e.source.input.from;f&&!c[f]&&(c[f]=!0,f=a.usesFileUrls?a.toFileUrl(f):a.toUrl(a.path(f)),a.map.setSourceContent(f,e.source.input.css))}});else if(this.css){var d=this.opts.from?
this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(d,this.css)}}},{key:"sourcePath",value:function(a){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(a.source.input.from):this.toUrl(this.path(a.source.input.from))}},{key:"toBase64",value:function(a){return Buffer?Buffer.from(a).toString("base64"):window.btoa(unescape(encodeURIComponent(a)))}},{key:"toFileUrl",value:function(a){var c=this.memoizedFileURLs.get(a);if(c)return c;if(mm)return c=
mm(a).toString(),this.memoizedFileURLs.set(a,c),c;throw Error("`map.absolute` option is not available in this PostCSS build");}},{key:"toUrl",value:function(a){var c=this.memoizedURLs.get(a);if(c)return c;"\\"===lm&&(a=a.replace(/\\/g,"/"));c=encodeURI(a).replace(/[#?]/g,encodeURIComponent);this.memoizedURLs.set(a,c);return c}}])}(),Fc=function(b){function a(c){na(this,a);c=rb(this,a,[c]);c.type="comment";return c}sb(a,b);return oa(a)}(ce);Fc.default=Fc;var Fj=be,om,zi,Ai,pm,mb=function(b){function a(){na(this,
a);return rb(this,a,arguments)}sb(a,b);return oa(a,[{key:"append",value:function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];for(c=0;c<d.length;c++){e=this.normalize(d[c],this.last);e=X(e);var f;try{for(e.s();!(f=e.n()).done;)this.proxyOf.nodes.push(f.value)}catch(g){e.e(g)}finally{e.f()}}this.markDirty();return this}},{key:"cleanRaws",value:function(c){Qb(a,"cleanRaws",this,3)([c]);if(this.nodes){var d=X(this.nodes),e;try{for(d.s();!(e=d.n()).done;)e.value.cleanRaws(c)}catch(f){d.e(f)}finally{d.f()}}}},
{key:"each",value:function(c){if(this.proxyOf.nodes){for(var d=this.getIterator(),e;this.indexes[d]<this.proxyOf.nodes.length;){e=this.indexes[d];e=c(this.proxyOf.nodes[e],e);if(!1===e)break;this.indexes[d]+=1}delete this.indexes[d];return e}}},{key:"every",value:function(c){return this.nodes.every(c)}},{key:"getIterator",value:function(){this.lastEach||(this.lastEach=0);this.indexes||(this.indexes={});var c=this.lastEach+=1;this.indexes[c]=0;return c}},{key:"getProxyProcessor",value:function(){return{get:function(c,
d){return"proxyOf"===d?c:c[d]?"each"===d||"string"===typeof d&&d.startsWith("walk")?function(){for(var e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];return c[d].apply(c,Rb(f.map(function(h){return"function"===typeof h?function(k,l){return h(k.toProxy(),l)}:h})))}:"every"===d||"some"===d?function(e){return c[d](function(f){for(var g=arguments.length,h=Array(1<g?g-1:0),k=1;k<g;k++)h[k-1]=arguments[k];return e.apply(void 0,[f.toProxy()].concat(h))})}:"root"===d?function(){return c.root().toProxy()}:
"nodes"===d?c.nodes.map(function(e){return e.toProxy()}):"first"===d||"last"===d?c[d].toProxy():c[d]:c[d]},set:function(c,d,e){if(c[d]===e)return!0;c[d]=e;"name"!==d&&"params"!==d&&"selector"!==d||c.markDirty();return!0}}}},{key:"index",value:function(c){if("number"===typeof c)return c;c.proxyOf&&(c=c.proxyOf);return this.proxyOf.nodes.indexOf(c)}},{key:"insertAfter",value:function(c,d){var e=this.index(c);d=this.normalize(d,this.proxyOf.nodes[e]).reverse();e=this.index(c);c=X(d);var f;try{for(c.s();!(f=
c.n()).done;)this.proxyOf.nodes.splice(e+1,0,f.value)}catch(h){c.e(h)}finally{c.f()}for(var g in this.indexes)f=this.indexes[g],e<f&&(this.indexes[g]=f+d.length);this.markDirty();return this}},{key:"insertBefore",value:function(c,d){var e=this.index(c);d=this.normalize(d,this.proxyOf.nodes[e],0===e?"prepend":!1).reverse();e=this.index(c);c=X(d);var f;try{for(c.s();!(f=c.n()).done;)this.proxyOf.nodes.splice(e,0,f.value)}catch(h){c.e(h)}finally{c.f()}for(var g in this.indexes)f=this.indexes[g],e<=f&&
(this.indexes[g]=f+d.length);this.markDirty();return this}},{key:"normalize",value:function(c,d){var e=this;if("string"===typeof c)c=Dj(om(c).nodes);else if("undefined"===typeof c)c=[];else if(Array.isArray(c)){c=c.slice(0);var f=X(c),g;try{for(f.s();!(g=f.n()).done;){var h=g.value;h.parent&&h.parent.removeChild(h,"ignore")}}catch(l){f.e(l)}finally{f.f()}}else if("root"===c.type&&"document"!==this.type){c=c.nodes.slice(0);g=X(c);try{for(g.s();!(f=g.n()).done;){var k=f.value;k.parent&&k.parent.removeChild(k,
"ignore")}}catch(l){g.e(l)}finally{g.f()}}else if(c.type)c=[c];else if(c.prop){if("undefined"===typeof c.value)throw Error("Value field is missed in node creation");"string"!==typeof c.value&&(c.value=String(c.value));c=[new Ec(c)]}else if(c.selector)c=[new zi(c)];else if(c.name)c=[new Ai(c)];else if(c.text)c=[new Fc(c)];else throw Error("Unknown node type in node creation");return c.map(function(l){l[jg]||a.rebuild(l);l=l.proxyOf;l.parent&&l.parent.removeChild(l);l[Fj]&&Ej(l);"undefined"===typeof l.raws.before&&
d&&"undefined"!==typeof d.raws.before&&(l.raws.before=d.raws.before.replace(/\S/g,""));l.parent=e.proxyOf;return l})}},{key:"prepend",value:function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];d=d.reverse();c=X(d);var f;try{for(c.s();!(f=c.n()).done;){var g=this.normalize(f.value,this.first,"prepend").reverse(),h=X(g),k;try{for(h.s();!(k=h.n()).done;)this.proxyOf.nodes.unshift(k.value)}catch(p){h.e(p)}finally{h.f()}for(var l in this.indexes)this.indexes[l]+=g.length}}catch(p){c.e(p)}finally{c.f()}this.markDirty();
return this}},{key:"push",value:function(c){c.parent=this;this.proxyOf.nodes.push(c);return this}},{key:"removeAll",value:function(){var c=X(this.proxyOf.nodes),d;try{for(c.s();!(d=c.n()).done;)d.value.parent=void 0}catch(e){c.e(e)}finally{c.f()}this.proxyOf.nodes=[];this.markDirty();return this}},{key:"removeChild",value:function(c){c=this.index(c);this.proxyOf.nodes[c].parent=void 0;this.proxyOf.nodes.splice(c,1);var d;for(d in this.indexes){var e=this.indexes[d];e>=c&&(this.indexes[d]=e-1)}this.markDirty();
return this}},{key:"replaceValues",value:function(c,d,e){e||(e=d,d={});this.walkDecls(function(f){if(!d.props||d.props.includes(f.prop))if(!d.fast||f.value.includes(d.fast))f.value=f.value.replace(c,e)});this.markDirty();return this}},{key:"some",value:function(c){return this.nodes.some(c)}},{key:"walk",value:function(c){return this.each(function(d,e){try{var f=c(d,e)}catch(g){throw d.addToError(g);}!1!==f&&d.walk&&(f=d.walk(c));return f})}},{key:"walkAtRules",value:function(c,d){return d?c instanceof
RegExp?this.walk(function(e,f){if("atrule"===e.type&&c.test(e.name))return d(e,f)}):this.walk(function(e,f){if("atrule"===e.type&&e.name===c)return d(e,f)}):(d=c,this.walk(function(e,f){if("atrule"===e.type)return d(e,f)}))}},{key:"walkComments",value:function(c){return this.walk(function(d,e){if("comment"===d.type)return c(d,e)})}},{key:"walkDecls",value:function(c,d){return d?c instanceof RegExp?this.walk(function(e,f){if("decl"===e.type&&c.test(e.prop))return d(e,f)}):this.walk(function(e,f){if("decl"===
e.type&&e.prop===c)return d(e,f)}):(d=c,this.walk(function(e,f){if("decl"===e.type)return d(e,f)}))}},{key:"walkRules",value:function(c,d){return d?c instanceof RegExp?this.walk(function(e,f){if("rule"===e.type&&c.test(e.selector))return d(e,f)}):this.walk(function(e,f){if("rule"===e.type&&e.selector===c)return d(e,f)}):(d=c,this.walk(function(e,f){if("rule"===e.type)return d(e,f)}))}},{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-
1]}}])}(ce);mb.registerParse=function(b){om=b};mb.registerRule=function(b){zi=b};mb.registerAtRule=function(b){Ai=b};mb.registerRoot=function(b){pm=b};mb.default=mb;mb.rebuild=function(b){"atrule"===b.type?Object.setPrototypeOf(b,Ai.prototype):"rule"===b.type?Object.setPrototypeOf(b,zi.prototype):"decl"===b.type?Object.setPrototypeOf(b,Ec.prototype):"comment"===b.type?Object.setPrototypeOf(b,Fc.prototype):"root"===b.type&&Object.setPrototypeOf(b,pm.prototype);b[jg]=!0;b.nodes&&b.nodes.forEach(function(a){mb.rebuild(a)})};
var qm,rm,Gc=function(b){function a(c){na(this,a);c=rb(this,a,[ra({type:"document"},c)]);c.nodes||(c.nodes=[]);return c}sb(a,b);return oa(a,[{key:"toResult",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(new qm(new rm,this,c)).stringify()}}])}(mb);Gc.registerLazyResult=function(b){qm=b};Gc.registerProcessor=function(b){rm=b};Gc.default=Gc;var sm={},tm=function(b){sm[b]||(sm[b]=!0,"undefined"!==typeof console&&console.warn&&console.warn(b))},og=function(){function b(a){var c=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};na(this,b);this.type="warning";this.text=a;if(c.node&&c.node.source){var d=c.node.rangeBy(c);this.line=d.start.line;this.column=d.start.column;this.endLine=d.end.line;this.endColumn=d.end.column}for(var e in c)this[e]=c[e]}return oa(b,[{key:"toString",value:function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}])}();og.default=og;
var de=function(){function b(a,c,d){na(this,b);this.processor=a;this.messages=[];this.root=c;this.opts=d;this.map=this.css=void 0}return oa(b,[{key:"toString",value:function(){return this.css}},{key:"warn",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!c.plugin&&this.lastPlugin&&this.lastPlugin.postcssPlugin&&(c.plugin=this.lastPlugin.postcssPlugin);c=new og(a,c);this.messages.push(c);return c}},{key:"warnings",value:function(){return this.messages.filter(function(a){return"warning"===
a.type})}},{key:"content",get:function(){return this.css}}])}();de.default=de;var pg=/[\t\n\f\r "#'()/;[\\\]{}]/g,qg=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,pr=/.[\r\n"'(/\\]/,um=/[\da-f]/i,vd=function(b){function a(c){na(this,a);c=rb(this,a,[c]);c.type="atrule";return c}sb(a,b);return oa(a,[{key:"append",value:function(){this.proxyOf.nodes||(this.nodes=[]);for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return Qb(a,"append",this,3)(d)}},{key:"prepend",value:function(){this.proxyOf.nodes||
(this.nodes=[]);for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return Qb(a,"prepend",this,3)(d)}}])}(mb);vd.default=vd;mb.registerAtRule(vd);var vm,wm,Ob=function(b){function a(c){na(this,a);c=rb(this,a,[c]);c.type="root";c.nodes||(c.nodes=[]);return c}sb(a,b);return oa(a,[{key:"normalize",value:function(c,d,e){c=Qb(a,"normalize",this,3)([c]);if(d)if("prepend"===e)1<this.nodes.length?d.raws.before=this.nodes[1].raws.before:delete d.raws.before;else if(this.first!==d){e=X(c);var f;
try{for(e.s();!(f=e.n()).done;)f.value.raws.before=d.raws.before}catch(g){e.e(g)}finally{e.f()}}return c}},{key:"removeChild",value:function(c,d){var e=this.index(c);!d&&0===e&&1<this.nodes.length&&(this.nodes[1].raws.before=this.nodes[e].raws.before);return Qb(a,"removeChild",this,3)([c])}},{key:"toResult",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(new vm(new wm,this,c)).stringify()}}])}(mb);Ob.registerLazyResult=function(b){vm=b};Ob.registerProcessor=
function(b){wm=b};Ob.default=Ob;mb.registerRoot(Ob);var df={comma:function(b){return df.split(b,[","],!0)},space:function(b){return df.split(b,[" ","\n","\t"])},split:function(b,a,c){var d=[],e="",f=!1,g=0,h=!1,k="",l=!1;b=X(b);var p;try{for(b.s();!(p=b.n()).done;){var m=p.value;l?l=!1:"\\"===m?l=!0:h?m===k&&(h=!1):'"'===m||"'"===m?(h=!0,k=m):"("===m?g+=1:")"===m?0<g&&--g:0===g&&a.includes(m)&&(f=!0);f?(""!==e&&d.push(e.trim()),e="",f=!1):e+=m}}catch(n){b.e(n)}finally{b.f()}(c||""!==e)&&d.push(e.trim());
return d}},xm=df;df.default=df;var Hc=function(b){function a(c){na(this,a);c=rb(this,a,[c]);c.type="rule";c.nodes||(c.nodes=[]);return c}sb(a,b);return oa(a,[{key:"selectors",get:function(){return xm.comma(this.selector)},set:function(c){var d=this.selector?this.selector.match(/,\s*/):null;d=d?d[0]:","+this.raw("between","beforeOpen");this.selector=c.join(d)}}])}(mb);Hc.default=Hc;mb.registerRule(Hc);var qr=function(b){function a(x){throw b.error("Unclosed "+x,r);}var c=b.css.valueOf(),d=(1<arguments.length&&
void 0!==arguments[1]?arguments[1]:{}).ignoreErrors,e,f,g,h,k,l,p,m,n,q,t=c.length,r=0,v=[],w=[];return{back:function(x){w.push(x)},endOfFile:function(){return 0===w.length&&r>=t},nextToken:function(x){if(w.length)return w.pop();if(!(r>=t)){x=x?x.ignoreUnclosed:!1;e=c.charCodeAt(r);switch(e){case 10:case 32:case 9:case 13:case 12:f=r;do f+=1,e=c.charCodeAt(f);while(32===e||10===e||9===e||13===e||12===e);q=["space",c.slice(r,f)];r=f-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:x=
String.fromCharCode(e);q=[x,x,r];break;case 40:m=v.length?v.pop()[1]:"";n=c.charCodeAt(r+1);if("url"===m&&39!==n&&34!==n&&32!==n&&10!==n&&9!==n&&12!==n&&13!==n){f=r;do{l=!1;f=c.indexOf(")",f+1);if(-1===f)if(d||x){f=r;break}else a("bracket");for(p=f;92===c.charCodeAt(p-1);)--p,l=!l}while(l);q=["brackets",c.slice(r,f+1),r,f];r=f}else f=c.indexOf(")",r+1),h=c.slice(r,f+1),-1===f||pr.test(h)?q=["(","(",r]:(q=["brackets",h,r,f],r=f);break;case 39:case 34:g=39===e?"'":'"';f=r;do{l=!1;f=c.indexOf(g,f+1);
if(-1===f)if(d||x){f=r+1;break}else a("string");for(p=f;92===c.charCodeAt(p-1);)--p,l=!l}while(l);q=["string",c.slice(r,f+1),r,f];r=f;break;case 64:pg.lastIndex=r+1;pg.test(c);f=0===pg.lastIndex?c.length-1:pg.lastIndex-2;q=["at-word",c.slice(r,f+1),r,f];r=f;break;case 92:f=r;for(k=!0;92===c.charCodeAt(f+1);)f+=1,k=!k;e=c.charCodeAt(f+1);if(k&&47!==e&&32!==e&&10!==e&&9!==e&&13!==e&&12!==e&&(f+=1,um.test(c.charAt(f)))){for(;um.test(c.charAt(f+1));)f+=1;32===c.charCodeAt(f+1)&&(f+=1)}q=["word",c.slice(r,
f+1),r,f];r=f;break;default:47===e&&42===c.charCodeAt(r+1)?(f=c.indexOf("*/",r+2)+1,0===f&&(d||x?f=c.length:a("comment")),q=["comment",c.slice(r,f+1),r,f]):(qg.lastIndex=r+1,qg.test(c),f=0===qg.lastIndex?c.length-1:qg.lastIndex-2,q=["word",c.slice(r,f+1),r,f],v.push(q)),r=f}r++;return q}},position:function(){return r}}},ym={empty:!0,space:!0},po=function(){function b(a){na(this,b);this.input=a;this.current=this.root=new Ob;this.spaces="";this.semicolon=!1;this.createTokenizer();this.root.source={input:a,
start:{column:1,line:1,offset:0}}}return oa(b,[{key:"atrule",value:function(a){var c=new vd;c.name=a[1].slice(1);""===c.name&&this.unnamedAtrule(c,a);this.init(c,a[2]);var d,e=!1,f=!1,g=[];for(d=[];!this.tokenizer.endOfFile();){a=this.tokenizer.nextToken();var h=a[0];"("===h||"["===h?d.push("("===h?")":"]"):"{"===h&&0<d.length?d.push("}"):h===d[d.length-1]&&d.pop();if(0===d.length)if(";"===h){c.source.end=this.getPosition(a[2]);c.source.end.offset++;this.semicolon=!0;break}else if("{"===h){f=!0;break}else if("}"===
h){if(0<g.length){d=g.length-1;for(h=g[d];h&&"space"===h[0];)h=g[--d];h&&(c.source.end=this.getPosition(h[3]||h[2]),c.source.end.offset++)}this.end(a);break}else g.push(a);else g.push(a);if(this.tokenizer.endOfFile()){e=!0;break}}c.raws.between=this.spacesAndCommentsFromEnd(g);g.length?(c.raws.afterName=this.spacesAndCommentsFromStart(g),this.raw(c,"params",g),e&&(a=g[g.length-1],c.source.end=this.getPosition(a[3]||a[2]),c.source.end.offset++,this.spaces=c.raws.between,c.raws.between="")):(c.raws.afterName=
"",c.params="");f&&(c.nodes=[],this.current=c)}},{key:"checkMissedSemicolon",value:function(a){var c=this.colon(a);if(!1!==c){var d=0;for(--c;0<=c;c--){var e=a[c];if("space"!==e[0]&&(d+=1,2===d))break}throw this.input.error("Missed semicolon","word"===e[0]?e[3]+1:e[2]);}}},{key:"colon",value:function(a){var c=0;a=X(a.entries());var d;try{for(a.s();!(d=a.n()).done;){var e=eb(d.value,2),f=e[0];var g=e[1];var h=g[0];"("===h&&(c+=1);")"===h&&--c;if(0===c&&":"===h)if(k)if("word"===k[0]&&"progid"===k[1])continue;
else return f;else this.doubleColon(g);var k=g}}catch(l){a.e(l)}finally{a.f()}return!1}},{key:"comment",value:function(a){var c=new Fc;this.init(c,a[2]);c.source.end=this.getPosition(a[3]||a[2]);c.source.end.offset++;a=a[1].slice(2,-2);/^\s*$/.test(a)?(c.text="",c.raws.left=a,c.raws.right=""):(a=a.match(/^(\s*)([^]*\S)(\s*)$/),c.text=a[2],c.raws.left=a[1],c.raws.right=a[3])}},{key:"createTokenizer",value:function(){this.tokenizer=qr(this.input)}},{key:"decl",value:function(a,c){var d=new Ec;this.init(d,
a[0][2]);var e=a[a.length-1];";"===e[0]&&(this.semicolon=!0,a.pop());d.source.end=this.getPosition(e[3]||e[2]||no(a));for(d.source.end.offset++;"word"!==a[0][0];)1===a.length&&this.unknownWord(a),d.raws.before+=a.shift()[1];d.source.start=this.getPosition(a[0][2]);for(d.prop="";a.length;){e=a[0][0];if(":"===e||"space"===e||"comment"===e)break;d.prop+=a.shift()[1]}d.raws.between="";for(var f;a.length;)if(f=a.shift(),":"===f[0]){d.raws.between+=f[1];break}else"word"===f[0]&&/\w/.test(f[1])&&this.unknownWord([f]),
d.raws.between+=f[1];if("_"===d.prop[0]||"*"===d.prop[0])d.raws.before+=d.prop[0],d.prop=d.prop.slice(1);for(e=[];a.length;){f=a[0][0];if("space"!==f&&"comment"!==f)break;e.push(a.shift())}this.precheckMissedSemicolon(a);for(var g=a.length-1;0<=g;g--){f=a[g];if("!important"===f[1].toLowerCase()){d.important=!0;f=this.stringFrom(a,g);f=this.spacesFromEnd(a)+f;" !important"!==f&&(d.raws.important=f);break}else if("important"===f[1].toLowerCase()){for(var h=a.slice(0),k="",l=g;0<l;l--){var p=h[l][0];
if(0===k.trim().indexOf("!")&&"space"!==p)break;k=h.pop()[1]+k}0===k.trim().indexOf("!")&&(d.important=!0,d.raws.important=k,a=h)}if("space"!==f[0]&&"comment"!==f[0])break}a.some(function(m){return"space"!==m[0]&&"comment"!==m[0]})&&(d.raws.between+=e.map(function(m){return m[1]}).join(""),e=[]);this.raw(d,"value",e.concat(a),c);d.value.includes(":")&&!c&&this.checkMissedSemicolon(a)}},{key:"doubleColon",value:function(a){throw this.input.error("Double colon",{offset:a[2]},{offset:a[2]+a[1].length});
}},{key:"emptyRule",value:function(a){var c=new Hc;this.init(c,a[2]);c.selector="";c.raws.between="";this.current=c}},{key:"end",value:function(a){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon);this.semicolon=!1;this.current.raws.after=(this.current.raws.after||"")+this.spaces;this.spaces="";this.current.parent?(this.current.source.end=this.getPosition(a[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(a)}},{key:"endFile",
value:function(){this.current.parent&&this.unclosedBlock();this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon);this.current.raws.after=(this.current.raws.after||"")+this.spaces;this.root.source.end=this.getPosition(this.tokenizer.position())}},{key:"freeSemicolon",value:function(a){this.spaces+=a[1];this.current.nodes&&(a=this.current.nodes[this.current.nodes.length-1])&&"rule"===a.type&&!a.raws.ownSemicolon&&(a.raws.ownSemicolon=this.spaces,this.spaces="")}},
{key:"getPosition",value:function(a){var c=this.input.fromOffset(a);return{column:c.col,line:c.line,offset:a}}},{key:"init",value:function(a,c){this.current.push(a);a.source={input:this.input,start:this.getPosition(c)};a.raws.before=this.spaces;this.spaces="";"comment"!==a.type&&(this.semicolon=!1)}},{key:"other",value:function(a){for(var c=!1,d=!1,e=null,f=[],g=a[1].startsWith("--"),h=[],k=a;k;){a=k[0];h.push(k);if("("===a||"["===a)e||(e=k),f.push("("===a?")":"]");else if(g&&d&&"{"===a)e||(e=k),
f.push("}");else if(0===f.length)if(";"===a){if(d){this.decl(h,g);return}break}else{if("{"===a){this.rule(h);return}if("}"===a){this.tokenizer.back(h.pop());c=!0;break}else":"===a&&(d=!0)}else a===f[f.length-1]&&(f.pop(),0===f.length&&(e=null));k=this.tokenizer.nextToken()}this.tokenizer.endOfFile()&&(c=!0);0<f.length&&this.unclosedBracket(e);if(c&&d){if(!g)for(;h.length;){k=h[h.length-1][0];if("space"!==k&&"comment"!==k)break;this.tokenizer.back(h.pop())}this.decl(h,g)}else this.unknownWord(h)}},
{key:"parse",value:function(){for(var a;!this.tokenizer.endOfFile();)switch(a=this.tokenizer.nextToken(),a[0]){case "space":this.spaces+=a[1];break;case ";":this.freeSemicolon(a);break;case "}":this.end(a);break;case "comment":this.comment(a);break;case "at-word":this.atrule(a);break;case "{":this.emptyRule(a);break;default:this.other(a)}this.endFile()}},{key:"precheckMissedSemicolon",value:function(){}},{key:"raw",value:function(a,c,d,e){for(var f,g,h=d.length,k="",l=!0,p,m=0;m<h;m+=1)f=d[m],g=f[0],
"space"!==g||m!==h-1||e?"comment"===g?(p=d[m-1]?d[m-1][0]:"empty",g=d[m+1]?d[m+1][0]:"empty",ym[p]||ym[g]?l=!1:","===k.slice(-1)?l=!1:k+=f[1]):k+=f[1]:l=!1;l||(d=d.reduce(function(n,q){return n+q[1]},""),a.raws[c]={raw:d,value:k});a[c]=k}},{key:"rule",value:function(a){a.pop();var c=new Hc;this.init(c,a[0][2]);c.raws.between=this.spacesAndCommentsFromEnd(a);this.raw(c,"selector",a);this.current=c}},{key:"spacesAndCommentsFromEnd",value:function(a){for(var c,d="";a.length;){c=a[a.length-1][0];if("space"!==
c&&"comment"!==c)break;d=a.pop()[1]+d}return d}},{key:"spacesAndCommentsFromStart",value:function(a){for(var c,d="";a.length;){c=a[0][0];if("space"!==c&&"comment"!==c)break;d+=a.shift()[1]}return d}},{key:"spacesFromEnd",value:function(a){for(var c,d="";a.length;){c=a[a.length-1][0];if("space"!==c)break;d=a.pop()[1]+d}return d}},{key:"stringFrom",value:function(a,c){for(var d="",e=c;e<a.length;e++)d+=a[e][1];a.splice(c,a.length-c);return d}},{key:"unclosedBlock",value:function(){var a=this.current.source.start;
throw this.input.error("Unclosed block",a.line,a.column);}},{key:"unclosedBracket",value:function(a){throw this.input.error("Unclosed bracket",{offset:a[2]},{offset:a[2]+1});}},{key:"unexpectedClose",value:function(a){throw this.input.error("Unexpected }",{offset:a[2]},{offset:a[2]+1});}},{key:"unknownWord",value:function(a){throw this.input.error("Unknown word",{offset:a[0][2]},{offset:a[0][2]+a[0][1].length});}},{key:"unnamedAtrule",value:function(a,c){throw this.input.error("At-rule without name",
{offset:c[2]},{offset:c[2]+c[1].length});}}])}(),oo=ud;Hd.default=Hd;mb.registerParse(Hd);var Tb=be,qo={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},rr={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},sr={Once:!0,postcssPlugin:!0,prepare:!0},Bi={},wd=function(){function b(a,c,d){var e=this;na(this,
b);this.processed=this.stringified=!1;if("object"!==T(c)||null===c||"root"!==c.type&&"document"!==c.type)if(c instanceof b||c instanceof de){var f=$g(c.root);c.map&&("undefined"===typeof d.map&&(d.map={}),d.map.inline||(d.map.inline=!1),d.map.prev=c.map)}else{var g=Hd;d.syntax&&(g=d.syntax.parse);d.parser&&(g=d.parser);g.parse&&(g=g.parse);try{f=g(c,d)}catch(h){this.processed=!0,this.error=h}f&&!f[jg]&&mb.rebuild(f)}else f=$g(c);this.result=new de(a,f,d);this.helpers=ra(ra({},Bi),{},{postcss:Bi,result:this.result});
this.plugins=this.processor.plugins.map(function(h){return"object"===T(h)&&h.prepare?ra(ra({},h),h.prepare(e.result)):h})}return oa(b,[{key:"async",value:function(){if(this.error)return Promise.reject(this.error);if(this.processed)return Promise.resolve(this.result);this.processing||(this.processing=this.runAsync());return this.processing}},{key:"catch",value:function(a){return this.async().catch(a)}},{key:"finally",value:function(a){return this.async().then(a,a)}},{key:"getAsyncError",value:function(){throw Error("Use process(css).then(cb) to work with async plugins");
}},{key:"handleError",value:function(a,c){var d=this.result.lastPlugin;try{if(c&&c.addToError(a),this.error=a,"CssSyntaxError"===a.name&&!a.plugin)a.plugin=d.postcssPlugin,a.setMessage();else if(d.postcssVersion){var e=d.postcssPlugin,f=d.postcssVersion,g=this.result.processor.version,h=f.split("."),k=g.split(".");(h[0]!==k[0]||parseInt(h[1])>parseInt(k[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+g+", but "+e+" uses "+f+". Perhaps this is the source of the error below.")}}catch(l){console&&
console.error&&console.error(l)}return a}},{key:"prepareVisitors",value:function(){var a=this;this.listeners={};var c=function(k,l,p){a.listeners[l]||(a.listeners[l]=[]);a.listeners[l].push([k,p])},d=X(this.plugins),e;try{for(d.s();!(e=d.n()).done;){var f=e.value;if("object"===T(f))for(var g in f){if(!rr[g]&&/^[A-Z]/.test(g))throw Error("Unknown event ".concat(g," in ").concat(f.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!sr[g])if("object"===T(f[g]))for(var h in f[g])"*"===
h?c(f,g,f[g][h]):c(f,g+"-"+h.toLowerCase(),f[g][h]);else"function"===typeof f[g]&&c(f,g,f[g])}}}catch(k){d.e(k)}finally{d.f()}this.hasListener=0<Object.keys(this.listeners).length}},{key:"runAsync",value:function(){var a=Gg(Lb().mark(function d(){var e=this,f,g,h,k,l,p,m,n,q,t;return Lb().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:f=this.plugin=0;case 2:if(!(f<this.plugins.length)){r.next=17;break}g=this.plugins[f];h=this.runOnRoot(g);if(!xe(h)){r.next=14;break}r.prev=6;r.next=9;return h;
case 9:r.next=14;break;case 11:throw r.prev=11,r.t0=r["catch"](6),this.handleError(r.t0);case 14:f++;r.next=2;break;case 17:this.prepareVisitors();if(!this.hasListener){r.next=56;break}k=this.result.root;case 20:if(k[Tb]){r.next=39;break}k[Tb]=!0;l=[Hj(k)];case 23:if(!(0<l.length)){r.next=37;break}p=this.visitTick(l);if(!xe(p)){r.next=35;break}r.prev=26;r.next=29;return p;case 29:r.next=35;break;case 31:throw r.prev=31,r.t1=r["catch"](26),m=l[l.length-1].node,this.handleError(r.t1,m);case 35:r.next=
23;break;case 37:r.next=20;break;case 39:if(!this.listeners.OnceExit){r.next=56;break}n=X(this.listeners.OnceExit);r.prev=41;t=Lb().mark(function w(){var x,C,E,H;return Lb().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:x=eb(q.value,2);C=x[0];E=x[1];e.result.lastPlugin=C;D.prev=2;if("document"!==k.type){D.next=9;break}H=k.nodes.map(function(B){return E(B,e.helpers)});D.next=7;return Promise.all(H);case 7:D.next=11;break;case 9:return D.next=11,E(k,e.helpers);case 11:D.next=16;break;case 13:throw D.prev=
13,D.t0=D["catch"](2),e.handleError(D.t0);case 16:case "end":return D.stop()}},w,null,[[2,13]])});n.s();case 44:if((q=n.n()).done){r.next=48;break}return r.delegateYield(t(),"t2",46);case 46:r.next=44;break;case 48:r.next=53;break;case 50:r.prev=50,r.t3=r["catch"](41),n.e(r.t3);case 53:return r.prev=53,n.f(),r.finish(53);case 56:return this.processed=!0,r.abrupt("return",this.stringify());case 58:case "end":return r.stop()}},d,this,[[6,11],[26,31],[41,50,53,56]])}));return function(){return a.apply(this,
arguments)}}()},{key:"runOnRoot",value:function(a){var c=this;this.result.lastPlugin=a;try{if("object"===T(a)&&a.Once){if("document"===this.result.root.type){var d=this.result.root.nodes.map(function(e){return a.Once(e,c.helpers)});return xe(d[0])?Promise.all(d):d}return a.Once(this.result.root,this.helpers)}if("function"===typeof a)return a(this.result.root,this.result)}catch(e){throw this.handleError(e);}}},{key:"stringify",value:function(){if(this.error)throw this.error;if(this.stringified)return this.result;
this.stringified=!0;this.sync();var a=this.result.opts,c=Gd;a.syntax&&(c=a.syntax.stringify);a.stringifier&&(c=a.stringifier);c.stringify&&(c=c.stringify);a=(new nm(c,this.result.root,this.result.opts)).generate();this.result.css=a[0];this.result.map=a[1];return this.result}},{key:"sync",value:function(){if(this.error)throw this.error;if(this.processed)return this.result;this.processed=!0;if(this.processing)throw this.getAsyncError();var a=X(this.plugins),c;try{for(a.s();!(c=a.n()).done;){var d=this.runOnRoot(c.value);
if(xe(d))throw this.getAsyncError();}}catch(f){a.e(f)}finally{a.f()}this.prepareVisitors();if(this.hasListener){for(a=this.result.root;!a[Tb];)a[Tb]=!0,this.walkSync(a);if(this.listeners.OnceExit)if("document"===a.type){a=X(a.nodes);var e;try{for(a.s();!(e=a.n()).done;)this.visitSync(this.listeners.OnceExit,e.value)}catch(f){a.e(f)}finally{a.f()}}else this.visitSync(this.listeners.OnceExit,a)}return this.result}},{key:"then",value:function(a,c){"from"in this.opts||tm("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.");
return this.async().then(a,c)}},{key:"toString",value:function(){return this.css}},{key:"visitSync",value:function(a,c){a=X(a);var d;try{for(a.s();!(d=a.n()).done;){var e=eb(d.value,2),f=e[1];this.result.lastPlugin=e[0];var g=void 0;try{g=f(c,this.helpers)}catch(h){throw this.handleError(h,c.proxyOf);}if("root"!==c.type&&"document"!==c.type&&!c.parent)return!0;if(xe(g))throw this.getAsyncError();}}catch(h){a.e(h)}finally{a.f()}}},{key:"visitTick",value:function(a){var c=a[a.length-1],d=c.node,e=c.visitors;
if("root"===d.type||"document"===d.type||d.parent){if(0<e.length&&c.visitorIndex<e.length){var f=eb(e[c.visitorIndex],2);a=f[0];f=f[1];c.visitorIndex+=1;c.visitorIndex===e.length&&(c.visitors=[],c.visitorIndex=0);this.result.lastPlugin=a;try{return f(d.toProxy(),this.helpers)}catch(g){throw this.handleError(g,d);}}if(0!==c.iterator){for(e=c.iterator;f=d.nodes[d.indexes[e]];)if(d.indexes[e]+=1,!f[Tb]){f[Tb]=!0;a.push(Hj(f));return}c.iterator=0;delete d.indexes[e]}for(e=c.events;c.eventIndex<e.length;){f=
e[c.eventIndex];c.eventIndex+=1;if(0===f){d.nodes&&d.nodes.length&&(d[Tb]=!0,c.iterator=d.getIterator());return}if(this.listeners[f]){c.visitors=this.listeners[f];return}}}a.pop()}},{key:"walkSync",value:function(a){var c=this;a[Tb]=!0;var d=Gj(a);d=X(d);var e;try{for(d.s();!(e=d.n()).done;){var f=e.value;if(0===f)a.nodes&&a.each(function(h){h[Tb]||c.walkSync(h)});else{var g=this.listeners[f];if(g&&this.visitSync(g,a.toProxy()))break}}}catch(h){d.e(h)}finally{d.f()}}},{key:"warnings",value:function(){return this.sync().warnings()}},
{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}])}();wd.registerPostcss=function(b){Bi=
b};wd.default=wd;Ob.registerLazyResult(wd);Gc.registerLazyResult(wd);var Ci=function(){function b(a,c,d){na(this,b);c=c.toString();this.stringified=!1;this._processor=a;this._css=c;this._opts=d;this._map=void 0;this.result=new de(this._processor,void 0,this._opts);this.result.css=c;var e=this;Object.defineProperty(this.result,"root",{get:function(){return e.root}});a=new nm(Gd,void 0,this._opts,c);a.isMap()?(a=a.generate(),c=eb(a,2),a=c[0],c=c[1],a&&(this.result.css=a),c&&(this.result.map=c)):(a.clearAnnotation(),
this.result.css=a.css)}return oa(b,[{key:"async",value:function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}},{key:"catch",value:function(a){return this.async().catch(a)}},{key:"finally",value:function(a){return this.async().then(a,a)}},{key:"sync",value:function(){if(this.error)throw this.error;return this.result}},{key:"then",value:function(a,c){"from"in this._opts||tm("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.");
return this.async().then(a,c)}},{key:"toString",value:function(){return this._css}},{key:"warnings",value:function(){return[]}},{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;
try{var a=Hd(this._css,this._opts)}catch(c){this.error=c}if(this.error)throw this.error;return this._root=a}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}])}();Ci.default=Ci;var ef=function(){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];na(this,b);this.version="8.4.38";this.plugins=this.normalize(a)}return oa(b,[{key:"normalize",value:function(a){var c=[];a=X(a);var d;try{for(a.s();!(d=a.n()).done;){var e=d.value;!0===e.postcss?e=e():e.postcss&&(e=
e.postcss);if("object"===T(e)&&Array.isArray(e.plugins))c=c.concat(e.plugins);else if("object"===T(e)&&e.postcssPlugin)c.push(e);else if("function"===typeof e)c.push(e);else{if("object"===T(e)&&(e.parse||e.stringify))throw Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.");throw Error(e+" is not a PostCSS plugin");}}}catch(f){a.e(f)}finally{a.f()}return c}},{key:"process",value:function(a){var c=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.plugins.length||c.parser||c.stringifier||c.syntax?new wd(this,a,c):new Ci(this,a,c)}},{key:"use",value:function(a){this.plugins=this.plugins.concat(this.normalize([a]));return this}}])}();ef.default=ef;Ob.registerProcessor(ef);Gc.registerProcessor(ef);var wo=Ec,to=kg,yo=Fc,zo=vd,so=ud,vo=Ob,xo=Hc;ye.default=ye;var ah=ef;Ja.plugin=function(b,a){function c(){console&&console.warn&&!d&&(d=!0,console.warn(b+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),
process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(b+": \u91cc\u9762 postcss.plugin \u88ab\u5f03\u7528. \u8fc1\u79fb\u6307\u5357:\nhttps://www.w3ctech.com/topic/2226"));var f=a.apply(void 0,arguments);f.postcssPlugin=b;f.postcssVersion=(new ah).version;return f}var d=!1,e;Object.defineProperty(c,"postcss",{get:function(){e||(e=c());return e}});c.process=function(f,g,h){return Ja([c(h)]).process(f,g)};return c};Ja.stringify=Gd;Ja.parse=Hd;Ja.fromJSON=ye;Ja.list=xm;Ja.comment=function(b){return new Fc(b)};
Ja.atRule=function(b){return new vd(b)};Ja.decl=function(b){return new Ec(b)};Ja.rule=function(b){return new Hc(b)};Ja.root=function(b){return new Ob(b)};Ja.document=function(b){return new Gc(b)};Ja.CssSyntaxError=ae;Ja.Declaration=Ec;Ja.Container=mb;Ja.Processor=ah;Ja.Document=Gc;Ja.Comment=Fc;Ja.Warning=og;Ja.AtRule=vd;Ja.Result=de;Ja.Input=ud;Ja.Rule=Hc;Ja.Root=Ob;Ja.Node=ce;wd.registerPostcss(Ja);Ja.default=Ja;var Va=function(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?
b["default"]:b}(Ja);Va.stringify;Va.fromJSON;Va.plugin;Va.parse;Va.list;Va.document;Va.comment;Va.atRule;Va.rule;Va.decl;Va.root;Va.CssSyntaxError;Va.Declaration;Va.Container;Va.Processor;Va.Document;Va.Comment;Va.Warning;Va.AtRule;Va.Result;Va.Input;Va.Rule;Va.Root;Va.Node;var tr=Object.defineProperty,Jb=function(b,a,c){a="symbol"!==T(a)?a+"":a;return a in b?tr(b,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):b[a]=c},Di={},Ra=String,zm=function(){return{isColorSupported:!1,reset:Ra,bold:Ra,
dim:Ra,italic:Ra,underline:Ra,inverse:Ra,hidden:Ra,strikethrough:Ra,black:Ra,red:Ra,green:Ra,yellow:Ra,blue:Ra,magenta:Ra,cyan:Ra,white:Ra,gray:Ra,bgBlack:Ra,bgRed:Ra,bgGreen:Ra,bgYellow:Ra,bgBlue:Ra,bgMagenta:Ra,bgCyan:Ra,bgWhite:Ra}};Di=zm();Di.createColors=zm;var Am=Di,Wa=function(b){if(b.__esModule)return b;var a=b.default;if("function"==typeof a){var c=function e(){return this instanceof e?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};c.prototype=a.prototype}else c=
{};Object.defineProperty(c,"__esModule",{value:!0});Object.keys(b).forEach(function(d){var e=Object.getOwnPropertyDescriptor(b,d);Object.defineProperty(c,d,e.get?e:{enumerable:!0,get:function(){return b[d]}})});return c}(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),ee=function(b){function a(c,d,e,f,g,h){na(this,a);var k=rb(this,a,[c]);k.name="CssSyntaxError";k.reason=c;g&&(k.file=g);f&&(k.source=f);h&&(k.plugin=h);"undefined"!==typeof d&&"undefined"!==
typeof e&&("number"===typeof d?(k.line=d,k.column=e):(k.line=d.line,k.column=d.column,k.endLine=e.line,k.endColumn=e.column));k.setMessage();Error.captureStackTrace&&Error.captureStackTrace(k,a);return k}sb(a,b);return oa(a,[{key:"setMessage",value:function(){this.message=this.plugin?this.plugin+": ":"";this.message+=this.file?this.file:"<css input>";"undefined"!==typeof this.line&&(this.message+=":"+this.line+":"+this.column);this.message+=": "+this.reason}},{key:"showSourceCode",value:function(c){var d=
this;if(!this.source)return"";var e=this.source;null==c&&(c=Am.isColorSupported);Wa&&c&&(e=Wa(e));e=e.split(/\r?\n/);var f=Math.max(this.line-3,0),g=Math.min(this.line+2,e.length),h=String(g).length;if(c){c=Am.createColors(!0);var k=c.bold,l=c.gray,p=c.red;var m=function(q){return k(p(q))};var n=function(q){return l(q)}}else m=n=function(q){return q};return e.slice(f,g).map(function(q,t){var r=f+1+t;t=" "+(" "+r).slice(-h)+" | ";return r===d.line?(r=n(t.replace(/\d/g," "))+q.slice(0,d.column-1).replace(/[^\t]/g,
" "),m(">")+n(t)+q+"\n "+r+m("^")):" "+n(t)+q}).join("\n")}},{key:"toString",value:function(){var c=this.showSourceCode();c&&(c="\n\n"+c+"\n");return this.name+": "+this.message+c}}])}(jf(Error));ee.default=ee;var fe=Symbol("isClean");var rg=Symbol("my");var Bm={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1},Ei=function(){function b(a){na(this,b);this.builder=a}return oa(b,
[{key:"atrule",value:function(a,c){var d="@"+a.name,e=a.params?this.rawValue(a,"params"):"";"undefined"!==typeof a.raws.afterName?d+=a.raws.afterName:e&&(d+=" ");a.nodes?this.block(a,d+e):this.builder(d+e+((a.raws.between||"")+(c?";":"")),a)}},{key:"beforeAfter",value:function(a,c){c="decl"===a.type?this.raw(a,null,"beforeDecl"):"comment"===a.type?this.raw(a,null,"beforeComment"):"before"===c?this.raw(a,null,"beforeRule"):this.raw(a,null,"beforeClose");for(var d=a.parent,e=0;d&&"root"!==d.type;)e+=
1,d=d.parent;if(c.includes("\n")&&(a=this.raw(a,null,"indent"),a.length))for(d=0;d<e;d++)c+=a;return c}},{key:"block",value:function(a,c){var d=this.raw(a,"between","beforeOpen");this.builder(c+d+"{",a,"start");a.nodes&&a.nodes.length?(this.body(a),c=this.raw(a,"after")):c=this.raw(a,"after","emptyBody");c&&this.builder(c);this.builder("}",a,"end")}},{key:"body",value:function(a){for(var c=a.nodes.length-1;0<c&&"comment"===a.nodes[c].type;)--c;for(var d=this.raw(a,"semicolon"),e=0;e<a.nodes.length;e++){var f=
a.nodes[e],g=this.raw(f,"before");g&&this.builder(g);this.stringify(f,c!==e||d)}}},{key:"comment",value:function(a){var c=this.raw(a,"left","commentLeft"),d=this.raw(a,"right","commentRight");this.builder("/*"+c+a.text+d+"*/",a)}},{key:"decl",value:function(a,c){var d=this.raw(a,"between","colon");d=a.prop+d+this.rawValue(a,"value");a.important&&(d+=a.raws.important||" !important");c&&(d+=";");this.builder(d,a)}},{key:"document",value:function(a){this.body(a)}},{key:"raw",value:function(a,c,d){d||
(d=c);if(c){var e=a.raws[c];if("undefined"!==typeof e)return e}var f=a.parent;if("before"===d&&(!f||"root"===f.type&&f.first===a||f&&"document"===f.type))return"";if(!f)return Bm[d];f=a.root();f.rawCache||(f.rawCache={});if("undefined"!==typeof f.rawCache[d])return f.rawCache[d];if("before"===d||"after"===d)return this.beforeAfter(a,d);var g="raw"+Ao(d);this[g]?e=this[g](f,a):f.walk(function(h){e=h.raws[c];if("undefined"!==typeof e)return!1});"undefined"===typeof e&&(e=Bm[d]);return f.rawCache[d]=
e}},{key:"rawBeforeClose",value:function(a){var c;a.walk(function(d){if(d.nodes&&0<d.nodes.length&&"undefined"!==typeof d.raws.after)return c=d.raws.after,c.includes("\n")&&(c=c.replace(/[^\n]+$/,"")),!1});c&&(c=c.replace(/\S/g,""));return c}},{key:"rawBeforeComment",value:function(a,c){var d;a.walkComments(function(e){if("undefined"!==typeof e.raws.before)return d=e.raws.before,d.includes("\n")&&(d=d.replace(/[^\n]+$/,"")),!1});"undefined"===typeof d?d=this.raw(c,null,"beforeDecl"):d&&(d=d.replace(/\S/g,
""));return d}},{key:"rawBeforeDecl",value:function(a,c){var d;a.walkDecls(function(e){if("undefined"!==typeof e.raws.before)return d=e.raws.before,d.includes("\n")&&(d=d.replace(/[^\n]+$/,"")),!1});"undefined"===typeof d?d=this.raw(c,null,"beforeRule"):d&&(d=d.replace(/\S/g,""));return d}},{key:"rawBeforeOpen",value:function(a){var c;a.walk(function(d){if("decl"!==d.type&&(c=d.raws.between,"undefined"!==typeof c))return!1});return c}},{key:"rawBeforeRule",value:function(a){var c;a.walk(function(d){if(d.nodes&&
(d.parent!==a||a.first!==d)&&"undefined"!==typeof d.raws.before)return c=d.raws.before,c.includes("\n")&&(c=c.replace(/[^\n]+$/,"")),!1});c&&(c=c.replace(/\S/g,""));return c}},{key:"rawColon",value:function(a){var c;a.walkDecls(function(d){if("undefined"!==typeof d.raws.between)return c=d.raws.between.replace(/[^\s:]/g,""),!1});return c}},{key:"rawEmptyBody",value:function(a){var c;a.walk(function(d){if(d.nodes&&0===d.nodes.length&&(c=d.raws.after,"undefined"!==typeof c))return!1});return c}},{key:"rawIndent",
value:function(a){if(a.raws.indent)return a.raws.indent;var c;a.walk(function(d){var e=d.parent;if(e&&e!==a&&e.parent&&e.parent===a&&"undefined"!==typeof d.raws.before)return d=d.raws.before.split("\n"),c=d[d.length-1],c=c.replace(/\S/g,""),!1});return c}},{key:"rawSemicolon",value:function(a){var c;a.walk(function(d){if(d.nodes&&d.nodes.length&&"decl"===d.last.type&&(c=d.raws.semicolon,"undefined"!==typeof c))return!1});return c}},{key:"rawValue",value:function(a,c){var d=a[c];return(a=a.raws[c])&&
a.value===d?a.raw:d}},{key:"root",value:function(a){this.body(a);a.raws.after&&this.builder(a.raws.after)}},{key:"rule",value:function(a){this.block(a,this.rawValue(a,"selector"));a.raws.ownSemicolon&&this.builder(a.raws.ownSemicolon,a,"end")}},{key:"stringify",value:function(a,c){if(!this[a.type])throw Error("Unknown AST node type "+a.type+". Maybe you need to change PostCSS stringifier.");this[a.type](a,c)}}])}(),Bo=Ei.default=Ei;Id.default=Id;var ge=function(){function b(){var a=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{};na(this,b);this.raws={};this[fe]=!1;this[rg]=!0;for(var c in a)if("nodes"===c){this.nodes=[];var d=X(a[c]),e;try{for(d.s();!(e=d.n()).done;){var f=e.value;"function"===typeof f.clone?this.append(f.clone()):this.append(f)}}catch(g){d.e(g)}finally{d.f()}}else this[c]=a[c]}return oa(b,[{key:"addToError",value:function(a){a.postcssNode=this;if(a.stack&&this.source&&/\n\s{4}at /.test(a.stack)){var c=this.source;a.stack=a.stack.replace(/\n\s{4}at /,"$&".concat(c.input.from,
":").concat(c.start.line,":").concat(c.start.column,"$&"))}return a}},{key:"after",value:function(a){this.parent.insertAfter(this,a);return this}},{key:"assign",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c;for(c in a)this[c]=a[c];return this}},{key:"before",value:function(a){this.parent.insertBefore(this,a);return this}},{key:"cleanRaws",value:function(a){delete this.raws.before;delete this.raws.after;a||delete this.raws.between}},{key:"clone",value:function(){var a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=bh(this),d;for(d in a)c[d]=a[d];return c}},{key:"cloneAfter",value:function(){var a=this.clone(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});this.parent.insertAfter(this,a);return a}},{key:"cloneBefore",value:function(){var a=this.clone(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});this.parent.insertBefore(this,a);return a}},{key:"error",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
{};if(this.source){var d=this.rangeBy(c),e=d.end;d=d.start;return this.source.input.error(a,{column:d.column,line:d.line},{column:e.column,line:e.line},c)}return new ee(a)}},{key:"getProxyProcessor",value:function(){return{get:function(a,c){return"proxyOf"===c?a:"root"===c?function(){return a.root().toProxy()}:a[c]},set:function(a,c,d){if(a[c]===d)return!0;a[c]=d;"prop"!==c&&"value"!==c&&"name"!==c&&"params"!==c&&"important"!==c&&"text"!==c||a.markDirty();return!0}}}},{key:"markDirty",value:function(){if(this[fe]){this[fe]=
!1;for(var a=this;a=a.parent;)a[fe]=!1}}},{key:"next",value:function(){if(this.parent){var a=this.parent.index(this);return this.parent.nodes[a+1]}}},{key:"positionBy",value:function(a,c){var d=this.source.start;a.index?d=this.positionInside(a.index,c):a.word&&(c=this.toString(),a=c.indexOf(a.word),-1!==a&&(d=this.positionInside(a,c)));return d}},{key:"positionInside",value:function(a,c){c=c||this.toString();for(var d=this.source.start.column,e=this.source.start.line,f=0;f<a;f++)"\n"===c[f]?(d=1,
e+=1):d+=1;return{column:d,line:e}}},{key:"prev",value:function(){if(this.parent){var a=this.parent.index(this);return this.parent.nodes[a-1]}}},{key:"rangeBy",value:function(a){var c={column:this.source.start.column,line:this.source.start.line},d=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:c.column+1,line:c.line};if(a.word){var e=this.toString(),f=e.indexOf(a.word);-1!==f&&(c=this.positionInside(f,e),d=this.positionInside(f+a.word.length,e))}else a.start?c=
{column:a.start.column,line:a.start.line}:a.index&&(c=this.positionInside(a.index)),a.end?d={column:a.end.column,line:a.end.line}:"number"===typeof a.endIndex?d=this.positionInside(a.endIndex):a.index&&(d=this.positionInside(a.index+1));if(d.line<c.line||d.line===c.line&&d.column<=c.column)d={column:c.column+1,line:c.line};return{end:d,start:c}}},{key:"raw",value:function(a,c){return(new Ei).raw(this,a,c)}},{key:"remove",value:function(){this.parent&&this.parent.removeChild(this);this.parent=void 0;
return this}},{key:"replaceWith",value:function(){if(this.parent){for(var a=this,c=!1,d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];for(d=0;d<e.length;d++)f=e[d],f===this?c=!0:c?(this.parent.insertAfter(a,f),a=f):this.parent.insertBefore(a,f);c||this.remove()}return this}},{key:"root",value:function(){for(var a=this;a.parent&&"document"!==a.parent.type;)a=a.parent;return a}},{key:"toJSON",value:function(a,c){a={};var d=null==c;c=c||new Map;var e=0,f;for(f in this)if(Object.prototype.hasOwnProperty.call(this,
f)&&"parent"!==f&&"proxyCache"!==f){var g=this[f];if(Array.isArray(g))a[f]=g.map(function(k){return"object"===T(k)&&k.toJSON?k.toJSON(null,c):k});else if("object"===T(g)&&g.toJSON)a[f]=g.toJSON(null,c);else if("source"===f){var h=c.get(g.input);null==h&&(h=e,c.set(g.input,e),e++);a[f]={end:g.end,inputId:h,start:g.start}}else a[f]=g}d&&(a.inputs=Rb(c.keys()).map(function(k){return k.toJSON()}));return a}},{key:"toProxy",value:function(){this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor()));
return this.proxyCache}},{key:"toString",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Id;a.stringify&&(a=a.stringify);var c="";a(this,function(d){c+=d});return c}},{key:"warn",value:function(a,c,d){var e={node:this},f;for(f in d)e[f]=d[f];return a.warn(c,e)}},{key:"proxyOf",get:function(){return this}}])}();ge.default=ge;var Ic=function(b){function a(c){na(this,a);c&&"undefined"!==typeof c.value&&"string"!==typeof c.value&&(c=ra(ra({},c),{},{value:String(c.value)}));
c=rb(this,a,[c]);c.type="decl";return c}sb(a,b);return oa(a,[{key:"variable",get:function(){return this.prop.startsWith("--")||"$"===this.prop[0]}}])}(ge);Ic.default=Ic;var Cm=Wa.SourceMapConsumer,Dm=Wa.SourceMapGenerator,ur=Wa.existsSync,vr=Wa.readFileSync,Fi=Wa.dirname,wr=Wa.join,sg=function(){function b(a,c){na(this,b);!1!==c.map&&(this.loadAnnotation(a),this.inline=this.startWith(this.annotation,"data:"),a=this.loadMap(c.from,c.map?c.map.prev:void 0),!this.mapFile&&c.from&&(this.mapFile=c.from),
this.mapFile&&(this.root=Fi(this.mapFile)),a&&(this.text=a))}return oa(b,[{key:"consumer",value:function(){this.consumerCache||(this.consumerCache=new Cm(this.text));return this.consumerCache}},{key:"decodeInline",value:function(a){var c=/^data:application\/json;base64,/,d=/^data:application\/json,/;if(/^data:application\/json;charset=utf-?8,/.test(a)||d.test(a))return decodeURIComponent(a.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(a)||c.test(a))return a=
a.substr(RegExp.lastMatch.length),a=Buffer?Buffer.from(a,"base64").toString():window.atob(a),a;a=a.match(/data:application\/json;([^,]+),/)[1];throw Error("Unsupported source map encoding "+a);}},{key:"getAnnotationURL",value:function(a){return a.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}},{key:"isMap",value:function(a){return"object"!==T(a)?!1:"string"===typeof a.mappings||"string"===typeof a._mappings||Array.isArray(a.sections)}},{key:"loadAnnotation",value:function(a){var c=a.match(/\/\*\s*# sourceMappingURL=/gm);
if(c){c=a.lastIndexOf(c.pop());var d=a.indexOf("*/",c);-1<c&&-1<d&&(this.annotation=this.getAnnotationURL(a.substring(c,d)))}}},{key:"loadFile",value:function(a){this.root=Fi(a);if(ur(a))return this.mapFile=a,vr(a,"utf-8").toString().trim()}},{key:"loadMap",value:function(a,c){if(!1===c)return!1;if(c){if("string"===typeof c)return c;if("function"===typeof c){if(a=c(a)){c=this.loadFile(a);if(!c)throw Error("Unable to load previous source map: "+a.toString());return c}}else{if(c instanceof Cm)return Dm.fromSourceMap(c).toString();
if(c instanceof Dm)return c.toString();if(this.isMap(c))return JSON.stringify(c);throw Error("Unsupported previous source map format: "+c.toString());}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation)return c=this.annotation,a&&(c=wr(Fi(a),c)),this.loadFile(c)}}},{key:"startWith",value:function(a,c){return a?a.substr(0,c.length)===c:!1}},{key:"withContent",value:function(){return!!(this.consumer().sourcesContent&&0<this.consumer().sourcesContent.length)}}])}();sg.default=
sg;var xr=Wa.SourceMapConsumer,yr=Wa.SourceMapGenerator,Em=Wa.fileURLToPath,tg=Wa.pathToFileURL,Gi=Wa.isAbsolute,Hi=Wa.resolve,zr=function(){for(var b="",a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:21;a--;)b+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return b},Ii=Symbol("fromOffsetCache"),Ar=!(!xr||!yr),Fm=!(!Hi||!Gi),xd=function(){function b(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};na(this,b);if(null===a||"undefined"===
typeof a||"object"===T(a)&&!a.toString)throw Error("PostCSS received ".concat(a," instead of CSS string"));this.css=a.toString();"\ufeff"===this.css[0]||"\ufffe"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1;c.from&&(!Fm||/^\w+:\/\//.test(c.from)||Gi(c.from)?this.file=c.from:this.file=Hi(c.from));Fm&&Ar&&(c=new sg(this.css,c),c.text&&(this.map=c,c=c.consumer().file,!this.file&&c&&(this.file=this.mapResolve(c))));this.file||(this.id="<input css "+zr(6)+">");this.map&&(this.map.file=
this.from)}return oa(b,[{key:"error",value:function(a,c,d){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(c&&"object"===T(c)){var f=c;var g=d;"number"===typeof f.offset?(f=this.fromOffset(f.offset),c=f.line,d=f.col):(c=f.line,d=f.column);"number"===typeof g.offset?(g=this.fromOffset(g.offset),f=g.line,g=g.col):(f=g.line,g=g.column)}else if(!d){var h=this.fromOffset(c);c=h.line;d=h.col}e=(h=this.origin(c,d,f,g))?new ee(a,void 0===h.endLine?h.line:{column:h.column,line:h.line},void 0===
h.endLine?h.column:{column:h.endColumn,line:h.endLine},h.source,h.file,e.plugin):new ee(a,void 0===f?c:{column:d,line:c},void 0===f?d:{column:g,line:f},this.css,this.file,e.plugin);e.input={column:d,endColumn:g,endLine:f,line:c,source:this.css};this.file&&(tg&&(e.input.url=tg(this.file).toString()),e.input.file=this.file);return e}},{key:"fromOffset",value:function(a){if(this[Ii])var c=this[Ii];else{var d=this.css.split("\n");c=Array(d.length);for(var e=0,f=0,g=d.length;f<g;f++)c[f]=e,e+=d[f].length+
1;this[Ii]=c}d=0;if(a>=c[c.length-1])d=c.length-1;else for(e=c.length-2;d<e;)if(f=d+(e-d>>1),a<c[f])e=f-1;else if(a>=c[f+1])d=f+1;else{d=f;break}return{col:a-c[d]+1,line:d+1}}},{key:"mapResolve",value:function(a){return/^\w+:\/\//.test(a)?a:Hi(this.map.consumer().sourceRoot||this.map.root||".",a)}},{key:"origin",value:function(a,c,d,e){if(!this.map)return!1;var f=this.map.consumer();a=f.originalPositionFor({column:c,line:a});if(!a.source)return!1;var g;"number"===typeof d&&(g=f.originalPositionFor({column:e,
line:d}));d=Gi(a.source)?tg(a.source):new URL(a.source,this.map.consumer().sourceRoot||tg(this.map.mapFile));g={column:a.column,endColumn:g&&g.column,endLine:g&&g.line,line:a.line,url:d.toString()};if("file:"===d.protocol)if(Em)g.file=Em(d);else throw Error("file: protocol is not available in this PostCSS build");if(f=f.sourceContentFor(a.source))g.source=f;return g}},{key:"toJSON",value:function(){for(var a={},c=0,d=["hasBOM","css","file","id"];c<d.length;c++){var e=d[c];null!=this[e]&&(a[e]=this[e])}this.map&&
(a.map=ra({},this.map),a.map.consumerCache&&(a.map.consumerCache=void 0));return a}},{key:"from",get:function(){return this.file||this.id}}])}();xd.default=xd;Wa&&Wa.registerInput&&Wa.registerInput(xd);var Gm=Wa.SourceMapConsumer,ug=Wa.SourceMapGenerator,vg=Wa.dirname,Hm=Wa.relative,Im=Wa.resolve,Jm=Wa.sep,Km=Wa.pathToFileURL,Br=!(!Gm||!ug),Cr=!!(vg&&Im&&Hm&&Jm),Lm=function(){function b(a,c,d,e){na(this,b);this.stringify=a;this.mapOpts=d.map||{};this.root=c;this.opts=d;this.originalCSS=this.css=e;
this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute;this.memoizedFileURLs=new Map;this.memoizedPaths=new Map;this.memoizedURLs=new Map}return oa(b,[{key:"addAnnotation",value:function(){var a=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"===typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"===typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";var c="\n";this.css.includes("\r\n")&&
(c="\r\n");this.css+=c+"/*# sourceMappingURL="+a+" */"}},{key:"applyPrevMaps",value:function(){var a=X(this.previous()),c;try{for(a.s();!(c=a.n()).done;){var d=c.value,e=this.toUrl(this.path(d.file)),f=d.root||vg(d.file),g=void 0;!1===this.mapOpts.sourcesContent?(g=new Gm(d.text),g.sourcesContent&&(g.sourcesContent=null)):g=d.consumer();this.map.applySourceMap(g,e,this.toUrl(this.path(f)))}}catch(h){a.e(h)}finally{a.f()}}},{key:"clearAnnotation",value:function(){if(!1!==this.mapOpts.annotation)if(this.root)for(var a,
c=this.root.nodes.length-1;0<=c;c--)a=this.root.nodes[c],"comment"===a.type&&0===a.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(c);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}},{key:"generate",value:function(){this.clearAnnotation();if(Cr&&Br&&this.isMap())return this.generateMap();var a="";this.stringify(this.root,function(c){a+=c});return[a]}},{key:"generateMap",value:function(){if(this.root)this.generateString();else if(1===this.previous().length){var a=
this.previous()[0].consumer();a.file=this.outputFile();this.map=ug.fromSourceMap(a,{ignoreInvalidMapping:!0})}else this.map=new ug({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});this.isSourcesContent()&&this.setSourcesContent();this.root&&0<this.previous().length&&this.applyPrevMaps();this.isAnnotation()&&this.addAnnotation();return this.isInline()?
[this.css]:[this.css,this.map]}},{key:"generateString",value:function(){var a=this;this.css="";this.map=new ug({file:this.outputFile(),ignoreInvalidMapping:!0});var c=1,d=1,e={generated:{column:0,line:0},original:{column:0,line:0},source:""},f,g;this.stringify(this.root,function(h,k,l){a.css+=h;k&&"end"!==l&&(e.generated.line=c,e.generated.column=d-1,k.source&&k.source.start?(e.source=a.sourcePath(k),e.original.line=k.source.start.line,e.original.column=k.source.start.column-1):(e.source="<no source>",
e.original.line=1,e.original.column=0),a.map.addMapping(e));(f=h.match(/\n/g))?(c+=f.length,g=h.lastIndexOf("\n"),d=h.length-g):d+=h.length;k&&"start"!==l&&(h=k.parent||{raws:{}},"decl"!==k.type&&("atrule"!==k.type||k.nodes)||k!==h.last||h.raws.semicolon)&&(k.source&&k.source.end?(e.source=a.sourcePath(k),e.original.line=k.source.end.line,e.original.column=k.source.end.column-1,e.generated.line=c,e.generated.column=d-2):(e.source="<no source>",e.original.line=1,e.original.column=0,e.generated.line=
c,e.generated.column=d-1),a.map.addMapping(e))})}},{key:"isAnnotation",value:function(){return this.isInline()?!0:"undefined"!==typeof this.mapOpts.annotation?this.mapOpts.annotation:this.previous().length?this.previous().some(function(a){return a.annotation}):!0}},{key:"isInline",value:function(){if("undefined"!==typeof this.mapOpts.inline)return this.mapOpts.inline;var a=this.mapOpts.annotation;return"undefined"!==typeof a&&!0!==a?!1:this.previous().length?this.previous().some(function(c){return c.inline}):
!0}},{key:"isMap",value:function(){return"undefined"!==typeof this.opts.map?!!this.opts.map:0<this.previous().length}},{key:"isSourcesContent",value:function(){return"undefined"!==typeof this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(function(a){return a.withContent()}):!0}},{key:"outputFile",value:function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}},{key:"path",value:function(a){if(this.mapOpts.absolute||
60===a.charCodeAt(0)||/^\w+:\/\//.test(a))return a;var c=this.memoizedPaths.get(a);if(c)return c;c=this.opts.to?vg(this.opts.to):".";"string"===typeof this.mapOpts.annotation&&(c=vg(Im(c,this.mapOpts.annotation)));c=Hm(c,a);this.memoizedPaths.set(a,c);return c}},{key:"previous",value:function(){var a=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(d){d.source&&d.source.input.map&&(d=d.source.input.map,a.previousMaps.includes(d)||a.previousMaps.push(d))});else{var c=
new xd(this.originalCSS,this.opts);c.map&&this.previousMaps.push(c.map)}return this.previousMaps}},{key:"setSourcesContent",value:function(){var a=this,c={};if(this.root)this.root.walk(function(e){if(e.source){var f=e.source.input.from;f&&!c[f]&&(c[f]=!0,f=a.usesFileUrls?a.toFileUrl(f):a.toUrl(a.path(f)),a.map.setSourceContent(f,e.source.input.css))}});else if(this.css){var d=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(d,this.css)}}},{key:"sourcePath",
value:function(a){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(a.source.input.from):this.toUrl(this.path(a.source.input.from))}},{key:"toBase64",value:function(a){return Buffer?Buffer.from(a).toString("base64"):window.btoa(unescape(encodeURIComponent(a)))}},{key:"toFileUrl",value:function(a){var c=this.memoizedFileURLs.get(a);if(c)return c;if(Km)return c=Km(a).toString(),this.memoizedFileURLs.set(a,c),c;throw Error("`map.absolute` option is not available in this PostCSS build");
}},{key:"toUrl",value:function(a){var c=this.memoizedURLs.get(a);if(c)return c;"\\"===Jm&&(a=a.replace(/\\/g,"/"));c=encodeURI(a).replace(/[#?]/g,encodeURIComponent);this.memoizedURLs.set(a,c);return c}}])}(),Jc=function(b){function a(c){na(this,a);c=rb(this,a,[c]);c.type="comment";return c}sb(a,b);return oa(a)}(ge);Jc.default=Jc;var Kj=fe,Mm,Ji,Ki,Nm,nb=function(b){function a(){na(this,a);return rb(this,a,arguments)}sb(a,b);return oa(a,[{key:"append",value:function(){for(var c=arguments.length,d=
Array(c),e=0;e<c;e++)d[e]=arguments[e];for(c=0;c<d.length;c++){e=this.normalize(d[c],this.last);e=X(e);var f;try{for(e.s();!(f=e.n()).done;)this.proxyOf.nodes.push(f.value)}catch(g){e.e(g)}finally{e.f()}}this.markDirty();return this}},{key:"cleanRaws",value:function(c){Qb(a,"cleanRaws",this,3)([c]);if(this.nodes){var d=X(this.nodes),e;try{for(d.s();!(e=d.n()).done;)e.value.cleanRaws(c)}catch(f){d.e(f)}finally{d.f()}}}},{key:"each",value:function(c){if(this.proxyOf.nodes){for(var d=this.getIterator(),
e;this.indexes[d]<this.proxyOf.nodes.length;){e=this.indexes[d];e=c(this.proxyOf.nodes[e],e);if(!1===e)break;this.indexes[d]+=1}delete this.indexes[d];return e}}},{key:"every",value:function(c){return this.nodes.every(c)}},{key:"getIterator",value:function(){this.lastEach||(this.lastEach=0);this.indexes||(this.indexes={});var c=this.lastEach+=1;this.indexes[c]=0;return c}},{key:"getProxyProcessor",value:function(){return{get:function(c,d){return"proxyOf"===d?c:c[d]?"each"===d||"string"===typeof d&&
d.startsWith("walk")?function(){for(var e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];return c[d].apply(c,Rb(f.map(function(h){return"function"===typeof h?function(k,l){return h(k.toProxy(),l)}:h})))}:"every"===d||"some"===d?function(e){return c[d](function(f){for(var g=arguments.length,h=Array(1<g?g-1:0),k=1;k<g;k++)h[k-1]=arguments[k];return e.apply(void 0,[f.toProxy()].concat(h))})}:"root"===d?function(){return c.root().toProxy()}:"nodes"===d?c.nodes.map(function(e){return e.toProxy()}):
"first"===d||"last"===d?c[d].toProxy():c[d]:c[d]},set:function(c,d,e){if(c[d]===e)return!0;c[d]=e;"name"!==d&&"params"!==d&&"selector"!==d||c.markDirty();return!0}}}},{key:"index",value:function(c){if("number"===typeof c)return c;c.proxyOf&&(c=c.proxyOf);return this.proxyOf.nodes.indexOf(c)}},{key:"insertAfter",value:function(c,d){var e=this.index(c);d=this.normalize(d,this.proxyOf.nodes[e]).reverse();e=this.index(c);c=X(d);var f;try{for(c.s();!(f=c.n()).done;)this.proxyOf.nodes.splice(e+1,0,f.value)}catch(h){c.e(h)}finally{c.f()}for(var g in this.indexes)f=
this.indexes[g],e<f&&(this.indexes[g]=f+d.length);this.markDirty();return this}},{key:"insertBefore",value:function(c,d){var e=this.index(c);d=this.normalize(d,this.proxyOf.nodes[e],0===e?"prepend":!1).reverse();e=this.index(c);c=X(d);var f;try{for(c.s();!(f=c.n()).done;)this.proxyOf.nodes.splice(e,0,f.value)}catch(h){c.e(h)}finally{c.f()}for(var g in this.indexes)f=this.indexes[g],e<=f&&(this.indexes[g]=f+d.length);this.markDirty();return this}},{key:"normalize",value:function(c,d){var e=this;if("string"===
typeof c)c=Ij(Mm(c).nodes);else if("undefined"===typeof c)c=[];else if(Array.isArray(c)){c=c.slice(0);var f=X(c),g;try{for(f.s();!(g=f.n()).done;){var h=g.value;h.parent&&h.parent.removeChild(h,"ignore")}}catch(l){f.e(l)}finally{f.f()}}else if("root"===c.type&&"document"!==this.type){c=c.nodes.slice(0);g=X(c);try{for(g.s();!(f=g.n()).done;){var k=f.value;k.parent&&k.parent.removeChild(k,"ignore")}}catch(l){g.e(l)}finally{g.f()}}else if(c.type)c=[c];else if(c.prop){if("undefined"===typeof c.value)throw Error("Value field is missed in node creation");
"string"!==typeof c.value&&(c.value=String(c.value));c=[new Ic(c)]}else if(c.selector)c=[new Ji(c)];else if(c.name)c=[new Ki(c)];else if(c.text)c=[new Jc(c)];else throw Error("Unknown node type in node creation");return c.map(function(l){l[rg]||a.rebuild(l);l=l.proxyOf;l.parent&&l.parent.removeChild(l);l[Kj]&&Jj(l);"undefined"===typeof l.raws.before&&d&&"undefined"!==typeof d.raws.before&&(l.raws.before=d.raws.before.replace(/\S/g,""));l.parent=e.proxyOf;return l})}},{key:"prepend",value:function(){for(var c=
arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];d=d.reverse();c=X(d);var f;try{for(c.s();!(f=c.n()).done;){var g=this.normalize(f.value,this.first,"prepend").reverse(),h=X(g),k;try{for(h.s();!(k=h.n()).done;)this.proxyOf.nodes.unshift(k.value)}catch(p){h.e(p)}finally{h.f()}for(var l in this.indexes)this.indexes[l]+=g.length}}catch(p){c.e(p)}finally{c.f()}this.markDirty();return this}},{key:"push",value:function(c){c.parent=this;this.proxyOf.nodes.push(c);return this}},{key:"removeAll",value:function(){var c=
X(this.proxyOf.nodes),d;try{for(c.s();!(d=c.n()).done;)d.value.parent=void 0}catch(e){c.e(e)}finally{c.f()}this.proxyOf.nodes=[];this.markDirty();return this}},{key:"removeChild",value:function(c){c=this.index(c);this.proxyOf.nodes[c].parent=void 0;this.proxyOf.nodes.splice(c,1);var d;for(d in this.indexes){var e=this.indexes[d];e>=c&&(this.indexes[d]=e-1)}this.markDirty();return this}},{key:"replaceValues",value:function(c,d,e){e||(e=d,d={});this.walkDecls(function(f){if(!d.props||d.props.includes(f.prop))if(!d.fast||
f.value.includes(d.fast))f.value=f.value.replace(c,e)});this.markDirty();return this}},{key:"some",value:function(c){return this.nodes.some(c)}},{key:"walk",value:function(c){return this.each(function(d,e){try{var f=c(d,e)}catch(g){throw d.addToError(g);}!1!==f&&d.walk&&(f=d.walk(c));return f})}},{key:"walkAtRules",value:function(c,d){return d?c instanceof RegExp?this.walk(function(e,f){if("atrule"===e.type&&c.test(e.name))return d(e,f)}):this.walk(function(e,f){if("atrule"===e.type&&e.name===c)return d(e,
f)}):(d=c,this.walk(function(e,f){if("atrule"===e.type)return d(e,f)}))}},{key:"walkComments",value:function(c){return this.walk(function(d,e){if("comment"===d.type)return c(d,e)})}},{key:"walkDecls",value:function(c,d){return d?c instanceof RegExp?this.walk(function(e,f){if("decl"===e.type&&c.test(e.prop))return d(e,f)}):this.walk(function(e,f){if("decl"===e.type&&e.prop===c)return d(e,f)}):(d=c,this.walk(function(e,f){if("decl"===e.type)return d(e,f)}))}},{key:"walkRules",value:function(c,d){return d?
c instanceof RegExp?this.walk(function(e,f){if("rule"===e.type&&c.test(e.selector))return d(e,f)}):this.walk(function(e,f){if("rule"===e.type&&e.selector===c)return d(e,f)}):(d=c,this.walk(function(e,f){if("rule"===e.type)return d(e,f)}))}},{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}])}(ge);nb.registerParse=function(b){Mm=b};nb.registerRule=function(b){Ji=
b};nb.registerAtRule=function(b){Ki=b};nb.registerRoot=function(b){Nm=b};nb.default=nb;nb.rebuild=function(b){"atrule"===b.type?Object.setPrototypeOf(b,Ki.prototype):"rule"===b.type?Object.setPrototypeOf(b,Ji.prototype):"decl"===b.type?Object.setPrototypeOf(b,Ic.prototype):"comment"===b.type?Object.setPrototypeOf(b,Jc.prototype):"root"===b.type&&Object.setPrototypeOf(b,Nm.prototype);b[rg]=!0;b.nodes&&b.nodes.forEach(function(a){nb.rebuild(a)})};var Om,Pm,Kc=function(b){function a(c){na(this,a);c=
rb(this,a,[ra({type:"document"},c)]);c.nodes||(c.nodes=[]);return c}sb(a,b);return oa(a,[{key:"toResult",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(new Om(new Pm,this,c)).stringify()}}])}(nb);Kc.registerLazyResult=function(b){Om=b};Kc.registerProcessor=function(b){Pm=b};Kc.default=Kc;var Qm={},Rm=function(b){Qm[b]||(Qm[b]=!0,"undefined"!==typeof console&&console.warn&&console.warn(b))},wg=function(){function b(a){var c=1<arguments.length&&void 0!==arguments[1]?
arguments[1]:{};na(this,b);this.type="warning";this.text=a;if(c.node&&c.node.source){var d=c.node.rangeBy(c);this.line=d.start.line;this.column=d.start.column;this.endLine=d.end.line;this.endColumn=d.end.column}for(var e in c)this[e]=c[e]}return oa(b,[{key:"toString",value:function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}])}();wg.default=wg;var he=function(){function b(a,c,d){na(this,
b);this.processor=a;this.messages=[];this.root=c;this.opts=d;this.map=this.css=void 0}return oa(b,[{key:"toString",value:function(){return this.css}},{key:"warn",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!c.plugin&&this.lastPlugin&&this.lastPlugin.postcssPlugin&&(c.plugin=this.lastPlugin.postcssPlugin);c=new wg(a,c);this.messages.push(c);return c}},{key:"warnings",value:function(){return this.messages.filter(function(a){return"warning"===a.type})}},{key:"content",
get:function(){return this.css}}])}();he.default=he;var xg=/[\t\n\f\r "#'()/;[\\\]{}]/g,yg=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Dr=/.[\r\n"'(/\\]/,Sm=/[\da-f]/i,yd=function(b){function a(c){na(this,a);c=rb(this,a,[c]);c.type="atrule";return c}sb(a,b);return oa(a,[{key:"append",value:function(){this.proxyOf.nodes||(this.nodes=[]);for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return Qb(a,"append",this,3)(d)}},{key:"prepend",value:function(){this.proxyOf.nodes||(this.nodes=[]);
for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return Qb(a,"prepend",this,3)(d)}}])}(nb);yd.default=yd;nb.registerAtRule(yd);var Tm,Um,Pb=function(b){function a(c){na(this,a);c=rb(this,a,[c]);c.type="root";c.nodes||(c.nodes=[]);return c}sb(a,b);return oa(a,[{key:"normalize",value:function(c,d,e){c=Qb(a,"normalize",this,3)([c]);if(d)if("prepend"===e)1<this.nodes.length?d.raws.before=this.nodes[1].raws.before:delete d.raws.before;else if(this.first!==d){e=X(c);var f;try{for(e.s();!(f=
e.n()).done;)f.value.raws.before=d.raws.before}catch(g){e.e(g)}finally{e.f()}}return c}},{key:"removeChild",value:function(c,d){var e=this.index(c);!d&&0===e&&1<this.nodes.length&&(this.nodes[1].raws.before=this.nodes[e].raws.before);return Qb(a,"removeChild",this,3)([c])}},{key:"toResult",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(new Tm(new Um,this,c)).stringify()}}])}(nb);Pb.registerLazyResult=function(b){Tm=b};Pb.registerProcessor=function(b){Um=b};
Pb.default=Pb;nb.registerRoot(Pb);var ff={comma:function(b){return ff.split(b,[","],!0)},space:function(b){return ff.split(b,[" ","\n","\t"])},split:function(b,a,c){var d=[],e="",f=!1,g=0,h=!1,k="",l=!1;b=X(b);var p;try{for(b.s();!(p=b.n()).done;){var m=p.value;l?l=!1:"\\"===m?l=!0:h?m===k&&(h=!1):'"'===m||"'"===m?(h=!0,k=m):"("===m?g+=1:")"===m?0<g&&--g:0===g&&a.includes(m)&&(f=!0);f?(""!==e&&d.push(e.trim()),e="",f=!1):e+=m}}catch(n){b.e(n)}finally{b.f()}(c||""!==e)&&d.push(e.trim());return d}},
Vm=ff;ff.default=ff;var Lc=function(b){function a(c){na(this,a);c=rb(this,a,[c]);c.type="rule";c.nodes||(c.nodes=[]);return c}sb(a,b);return oa(a,[{key:"selectors",get:function(){return Vm.comma(this.selector)},set:function(c){var d=this.selector?this.selector.match(/,\s*/):null;d=d?d[0]:","+this.raw("between","beforeOpen");this.selector=c.join(d)}}])}(nb);Lc.default=Lc;nb.registerRule(Lc);var Er=function(b){function a(x){throw b.error("Unclosed "+x,r);}var c=b.css.valueOf(),d=(1<arguments.length&&
void 0!==arguments[1]?arguments[1]:{}).ignoreErrors,e,f,g,h,k,l,p,m,n,q,t=c.length,r=0,v=[],w=[];return{back:function(x){w.push(x)},endOfFile:function(){return 0===w.length&&r>=t},nextToken:function(x){if(w.length)return w.pop();if(!(r>=t)){x=x?x.ignoreUnclosed:!1;e=c.charCodeAt(r);switch(e){case 10:case 32:case 9:case 13:case 12:f=r;do f+=1,e=c.charCodeAt(f);while(32===e||10===e||9===e||13===e||12===e);q=["space",c.slice(r,f)];r=f-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:x=
String.fromCharCode(e);q=[x,x,r];break;case 40:m=v.length?v.pop()[1]:"";n=c.charCodeAt(r+1);if("url"===m&&39!==n&&34!==n&&32!==n&&10!==n&&9!==n&&12!==n&&13!==n){f=r;do{l=!1;f=c.indexOf(")",f+1);if(-1===f)if(d||x){f=r;break}else a("bracket");for(p=f;92===c.charCodeAt(p-1);)--p,l=!l}while(l);q=["brackets",c.slice(r,f+1),r,f];r=f}else f=c.indexOf(")",r+1),h=c.slice(r,f+1),-1===f||Dr.test(h)?q=["(","(",r]:(q=["brackets",h,r,f],r=f);break;case 39:case 34:g=39===e?"'":'"';f=r;do{l=!1;f=c.indexOf(g,f+1);
if(-1===f)if(d||x){f=r+1;break}else a("string");for(p=f;92===c.charCodeAt(p-1);)--p,l=!l}while(l);q=["string",c.slice(r,f+1),r,f];r=f;break;case 64:xg.lastIndex=r+1;xg.test(c);f=0===xg.lastIndex?c.length-1:xg.lastIndex-2;q=["at-word",c.slice(r,f+1),r,f];r=f;break;case 92:f=r;for(k=!0;92===c.charCodeAt(f+1);)f+=1,k=!k;e=c.charCodeAt(f+1);if(k&&47!==e&&32!==e&&10!==e&&9!==e&&13!==e&&12!==e&&(f+=1,Sm.test(c.charAt(f)))){for(;Sm.test(c.charAt(f+1));)f+=1;32===c.charCodeAt(f+1)&&(f+=1)}q=["word",c.slice(r,
f+1),r,f];r=f;break;default:47===e&&42===c.charCodeAt(r+1)?(f=c.indexOf("*/",r+2)+1,0===f&&(d||x?f=c.length:a("comment")),q=["comment",c.slice(r,f+1),r,f]):(yg.lastIndex=r+1,yg.test(c),f=0===yg.lastIndex?c.length-1:yg.lastIndex-2,q=["word",c.slice(r,f+1),r,f],v.push(q)),r=f}r++;return q}},position:function(){return r}}},Wm={empty:!0,space:!0},Eo=function(){function b(a){na(this,b);this.input=a;this.current=this.root=new Pb;this.spaces="";this.semicolon=!1;this.createTokenizer();this.root.source={input:a,
start:{column:1,line:1,offset:0}}}return oa(b,[{key:"atrule",value:function(a){var c=new yd;c.name=a[1].slice(1);""===c.name&&this.unnamedAtrule(c,a);this.init(c,a[2]);var d,e=!1,f=!1,g=[];for(d=[];!this.tokenizer.endOfFile();){a=this.tokenizer.nextToken();var h=a[0];"("===h||"["===h?d.push("("===h?")":"]"):"{"===h&&0<d.length?d.push("}"):h===d[d.length-1]&&d.pop();if(0===d.length)if(";"===h){c.source.end=this.getPosition(a[2]);c.source.end.offset++;this.semicolon=!0;break}else if("{"===h){f=!0;break}else if("}"===
h){if(0<g.length){d=g.length-1;for(h=g[d];h&&"space"===h[0];)h=g[--d];h&&(c.source.end=this.getPosition(h[3]||h[2]),c.source.end.offset++)}this.end(a);break}else g.push(a);else g.push(a);if(this.tokenizer.endOfFile()){e=!0;break}}c.raws.between=this.spacesAndCommentsFromEnd(g);g.length?(c.raws.afterName=this.spacesAndCommentsFromStart(g),this.raw(c,"params",g),e&&(a=g[g.length-1],c.source.end=this.getPosition(a[3]||a[2]),c.source.end.offset++,this.spaces=c.raws.between,c.raws.between="")):(c.raws.afterName=
"",c.params="");f&&(c.nodes=[],this.current=c)}},{key:"checkMissedSemicolon",value:function(a){var c=this.colon(a);if(!1!==c){var d=0;for(--c;0<=c;c--){var e=a[c];if("space"!==e[0]&&(d+=1,2===d))break}throw this.input.error("Missed semicolon","word"===e[0]?e[3]+1:e[2]);}}},{key:"colon",value:function(a){var c=0;a=X(a.entries());var d;try{for(a.s();!(d=a.n()).done;){var e=eb(d.value,2),f=e[0];var g=e[1];var h=g[0];"("===h&&(c+=1);")"===h&&--c;if(0===c&&":"===h)if(k)if("word"===k[0]&&"progid"===k[1])continue;
else return f;else this.doubleColon(g);var k=g}}catch(l){a.e(l)}finally{a.f()}return!1}},{key:"comment",value:function(a){var c=new Jc;this.init(c,a[2]);c.source.end=this.getPosition(a[3]||a[2]);c.source.end.offset++;a=a[1].slice(2,-2);/^\s*$/.test(a)?(c.text="",c.raws.left=a,c.raws.right=""):(a=a.match(/^(\s*)([^]*\S)(\s*)$/),c.text=a[2],c.raws.left=a[1],c.raws.right=a[3])}},{key:"createTokenizer",value:function(){this.tokenizer=Er(this.input)}},{key:"decl",value:function(a,c){var d=new Ic;this.init(d,
a[0][2]);var e=a[a.length-1];";"===e[0]&&(this.semicolon=!0,a.pop());d.source.end=this.getPosition(e[3]||e[2]||Co(a));for(d.source.end.offset++;"word"!==a[0][0];)1===a.length&&this.unknownWord(a),d.raws.before+=a.shift()[1];d.source.start=this.getPosition(a[0][2]);for(d.prop="";a.length;){e=a[0][0];if(":"===e||"space"===e||"comment"===e)break;d.prop+=a.shift()[1]}d.raws.between="";for(var f;a.length;)if(f=a.shift(),":"===f[0]){d.raws.between+=f[1];break}else"word"===f[0]&&/\w/.test(f[1])&&this.unknownWord([f]),
d.raws.between+=f[1];if("_"===d.prop[0]||"*"===d.prop[0])d.raws.before+=d.prop[0],d.prop=d.prop.slice(1);for(e=[];a.length;){f=a[0][0];if("space"!==f&&"comment"!==f)break;e.push(a.shift())}this.precheckMissedSemicolon(a);for(var g=a.length-1;0<=g;g--){f=a[g];if("!important"===f[1].toLowerCase()){d.important=!0;f=this.stringFrom(a,g);f=this.spacesFromEnd(a)+f;" !important"!==f&&(d.raws.important=f);break}else if("important"===f[1].toLowerCase()){for(var h=a.slice(0),k="",l=g;0<l;l--){var p=h[l][0];
if(0===k.trim().indexOf("!")&&"space"!==p)break;k=h.pop()[1]+k}0===k.trim().indexOf("!")&&(d.important=!0,d.raws.important=k,a=h)}if("space"!==f[0]&&"comment"!==f[0])break}a.some(function(m){return"space"!==m[0]&&"comment"!==m[0]})&&(d.raws.between+=e.map(function(m){return m[1]}).join(""),e=[]);this.raw(d,"value",e.concat(a),c);d.value.includes(":")&&!c&&this.checkMissedSemicolon(a)}},{key:"doubleColon",value:function(a){throw this.input.error("Double colon",{offset:a[2]},{offset:a[2]+a[1].length});
}},{key:"emptyRule",value:function(a){var c=new Lc;this.init(c,a[2]);c.selector="";c.raws.between="";this.current=c}},{key:"end",value:function(a){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon);this.semicolon=!1;this.current.raws.after=(this.current.raws.after||"")+this.spaces;this.spaces="";this.current.parent?(this.current.source.end=this.getPosition(a[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(a)}},{key:"endFile",
value:function(){this.current.parent&&this.unclosedBlock();this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon);this.current.raws.after=(this.current.raws.after||"")+this.spaces;this.root.source.end=this.getPosition(this.tokenizer.position())}},{key:"freeSemicolon",value:function(a){this.spaces+=a[1];this.current.nodes&&(a=this.current.nodes[this.current.nodes.length-1])&&"rule"===a.type&&!a.raws.ownSemicolon&&(a.raws.ownSemicolon=this.spaces,this.spaces="")}},
{key:"getPosition",value:function(a){var c=this.input.fromOffset(a);return{column:c.col,line:c.line,offset:a}}},{key:"init",value:function(a,c){this.current.push(a);a.source={input:this.input,start:this.getPosition(c)};a.raws.before=this.spaces;this.spaces="";"comment"!==a.type&&(this.semicolon=!1)}},{key:"other",value:function(a){for(var c=!1,d=!1,e=null,f=[],g=a[1].startsWith("--"),h=[],k=a;k;){a=k[0];h.push(k);if("("===a||"["===a)e||(e=k),f.push("("===a?")":"]");else if(g&&d&&"{"===a)e||(e=k),
f.push("}");else if(0===f.length)if(";"===a){if(d){this.decl(h,g);return}break}else{if("{"===a){this.rule(h);return}if("}"===a){this.tokenizer.back(h.pop());c=!0;break}else":"===a&&(d=!0)}else a===f[f.length-1]&&(f.pop(),0===f.length&&(e=null));k=this.tokenizer.nextToken()}this.tokenizer.endOfFile()&&(c=!0);0<f.length&&this.unclosedBracket(e);if(c&&d){if(!g)for(;h.length;){k=h[h.length-1][0];if("space"!==k&&"comment"!==k)break;this.tokenizer.back(h.pop())}this.decl(h,g)}else this.unknownWord(h)}},
{key:"parse",value:function(){for(var a;!this.tokenizer.endOfFile();)switch(a=this.tokenizer.nextToken(),a[0]){case "space":this.spaces+=a[1];break;case ";":this.freeSemicolon(a);break;case "}":this.end(a);break;case "comment":this.comment(a);break;case "at-word":this.atrule(a);break;case "{":this.emptyRule(a);break;default:this.other(a)}this.endFile()}},{key:"precheckMissedSemicolon",value:function(){}},{key:"raw",value:function(a,c,d,e){for(var f,g,h=d.length,k="",l=!0,p,m=0;m<h;m+=1)f=d[m],g=f[0],
"space"!==g||m!==h-1||e?"comment"===g?(p=d[m-1]?d[m-1][0]:"empty",g=d[m+1]?d[m+1][0]:"empty",Wm[p]||Wm[g]?l=!1:","===k.slice(-1)?l=!1:k+=f[1]):k+=f[1]:l=!1;l||(d=d.reduce(function(n,q){return n+q[1]},""),a.raws[c]={raw:d,value:k});a[c]=k}},{key:"rule",value:function(a){a.pop();var c=new Lc;this.init(c,a[0][2]);c.raws.between=this.spacesAndCommentsFromEnd(a);this.raw(c,"selector",a);this.current=c}},{key:"spacesAndCommentsFromEnd",value:function(a){for(var c,d="";a.length;){c=a[a.length-1][0];if("space"!==
c&&"comment"!==c)break;d=a.pop()[1]+d}return d}},{key:"spacesAndCommentsFromStart",value:function(a){for(var c,d="";a.length;){c=a[0][0];if("space"!==c&&"comment"!==c)break;d+=a.shift()[1]}return d}},{key:"spacesFromEnd",value:function(a){for(var c,d="";a.length;){c=a[a.length-1][0];if("space"!==c)break;d=a.pop()[1]+d}return d}},{key:"stringFrom",value:function(a,c){for(var d="",e=c;e<a.length;e++)d+=a[e][1];a.splice(c,a.length-c);return d}},{key:"unclosedBlock",value:function(){var a=this.current.source.start;
throw this.input.error("Unclosed block",a.line,a.column);}},{key:"unclosedBracket",value:function(a){throw this.input.error("Unclosed bracket",{offset:a[2]},{offset:a[2]+1});}},{key:"unexpectedClose",value:function(a){throw this.input.error("Unexpected }",{offset:a[2]},{offset:a[2]+1});}},{key:"unknownWord",value:function(a){throw this.input.error("Unknown word",{offset:a[0][2]},{offset:a[0][2]+a[0][1].length});}},{key:"unnamedAtrule",value:function(a,c){throw this.input.error("At-rule without name",
{offset:c[2]},{offset:c[2]+c[1].length});}}])}(),Do=xd;Jd.default=Jd;nb.registerParse(Jd);var Ub=fe,Fo={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},Fr={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Gr={Once:!0,postcssPlugin:!0,prepare:!0},Li={},zd=function(){function b(a,c,d){var e=this;na(this,
b);this.processed=this.stringified=!1;if("object"!==T(c)||null===c||"root"!==c.type&&"document"!==c.type)if(c instanceof b||c instanceof he){var f=ch(c.root);c.map&&("undefined"===typeof d.map&&(d.map={}),d.map.inline||(d.map.inline=!1),d.map.prev=c.map)}else{var g=Jd;d.syntax&&(g=d.syntax.parse);d.parser&&(g=d.parser);g.parse&&(g=g.parse);try{f=g(c,d)}catch(h){this.processed=!0,this.error=h}f&&!f[rg]&&nb.rebuild(f)}else f=ch(c);this.result=new he(a,f,d);this.helpers=ra(ra({},Li),{},{postcss:Li,result:this.result});
this.plugins=this.processor.plugins.map(function(h){return"object"===T(h)&&h.prepare?ra(ra({},h),h.prepare(e.result)):h})}return oa(b,[{key:"async",value:function(){if(this.error)return Promise.reject(this.error);if(this.processed)return Promise.resolve(this.result);this.processing||(this.processing=this.runAsync());return this.processing}},{key:"catch",value:function(a){return this.async().catch(a)}},{key:"finally",value:function(a){return this.async().then(a,a)}},{key:"getAsyncError",value:function(){throw Error("Use process(css).then(cb) to work with async plugins");
}},{key:"handleError",value:function(a,c){var d=this.result.lastPlugin;try{if(c&&c.addToError(a),this.error=a,"CssSyntaxError"===a.name&&!a.plugin)a.plugin=d.postcssPlugin,a.setMessage();else if(d.postcssVersion){var e=d.postcssPlugin,f=d.postcssVersion,g=this.result.processor.version,h=f.split("."),k=g.split(".");(h[0]!==k[0]||parseInt(h[1])>parseInt(k[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+g+", but "+e+" uses "+f+". Perhaps this is the source of the error below.")}}catch(l){console&&
console.error&&console.error(l)}return a}},{key:"prepareVisitors",value:function(){var a=this;this.listeners={};var c=function(k,l,p){a.listeners[l]||(a.listeners[l]=[]);a.listeners[l].push([k,p])},d=X(this.plugins),e;try{for(d.s();!(e=d.n()).done;){var f=e.value;if("object"===T(f))for(var g in f){if(!Fr[g]&&/^[A-Z]/.test(g))throw Error("Unknown event ".concat(g," in ").concat(f.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!Gr[g])if("object"===T(f[g]))for(var h in f[g])"*"===
h?c(f,g,f[g][h]):c(f,g+"-"+h.toLowerCase(),f[g][h]);else"function"===typeof f[g]&&c(f,g,f[g])}}}catch(k){d.e(k)}finally{d.f()}this.hasListener=0<Object.keys(this.listeners).length}},{key:"runAsync",value:function(){var a=Gg(Lb().mark(function d(){var e=this,f,g,h,k,l,p,m,n,q,t;return Lb().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:f=this.plugin=0;case 2:if(!(f<this.plugins.length)){r.next=17;break}g=this.plugins[f];h=this.runOnRoot(g);if(!ze(h)){r.next=14;break}r.prev=6;r.next=9;return h;
case 9:r.next=14;break;case 11:throw r.prev=11,r.t0=r["catch"](6),this.handleError(r.t0);case 14:f++;r.next=2;break;case 17:this.prepareVisitors();if(!this.hasListener){r.next=56;break}k=this.result.root;case 20:if(k[Ub]){r.next=39;break}k[Ub]=!0;l=[Mj(k)];case 23:if(!(0<l.length)){r.next=37;break}p=this.visitTick(l);if(!ze(p)){r.next=35;break}r.prev=26;r.next=29;return p;case 29:r.next=35;break;case 31:throw r.prev=31,r.t1=r["catch"](26),m=l[l.length-1].node,this.handleError(r.t1,m);case 35:r.next=
23;break;case 37:r.next=20;break;case 39:if(!this.listeners.OnceExit){r.next=56;break}n=X(this.listeners.OnceExit);r.prev=41;t=Lb().mark(function w(){var x,C,E,H;return Lb().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:x=eb(q.value,2);C=x[0];E=x[1];e.result.lastPlugin=C;D.prev=2;if("document"!==k.type){D.next=9;break}H=k.nodes.map(function(B){return E(B,e.helpers)});D.next=7;return Promise.all(H);case 7:D.next=11;break;case 9:return D.next=11,E(k,e.helpers);case 11:D.next=16;break;case 13:throw D.prev=
13,D.t0=D["catch"](2),e.handleError(D.t0);case 16:case "end":return D.stop()}},w,null,[[2,13]])});n.s();case 44:if((q=n.n()).done){r.next=48;break}return r.delegateYield(t(),"t2",46);case 46:r.next=44;break;case 48:r.next=53;break;case 50:r.prev=50,r.t3=r["catch"](41),n.e(r.t3);case 53:return r.prev=53,n.f(),r.finish(53);case 56:return this.processed=!0,r.abrupt("return",this.stringify());case 58:case "end":return r.stop()}},d,this,[[6,11],[26,31],[41,50,53,56]])}));return function(){return a.apply(this,
arguments)}}()},{key:"runOnRoot",value:function(a){var c=this;this.result.lastPlugin=a;try{if("object"===T(a)&&a.Once){if("document"===this.result.root.type){var d=this.result.root.nodes.map(function(e){return a.Once(e,c.helpers)});return ze(d[0])?Promise.all(d):d}return a.Once(this.result.root,this.helpers)}if("function"===typeof a)return a(this.result.root,this.result)}catch(e){throw this.handleError(e);}}},{key:"stringify",value:function(){if(this.error)throw this.error;if(this.stringified)return this.result;
this.stringified=!0;this.sync();var a=this.result.opts,c=Id;a.syntax&&(c=a.syntax.stringify);a.stringifier&&(c=a.stringifier);c.stringify&&(c=c.stringify);a=(new Lm(c,this.result.root,this.result.opts)).generate();this.result.css=a[0];this.result.map=a[1];return this.result}},{key:"sync",value:function(){if(this.error)throw this.error;if(this.processed)return this.result;this.processed=!0;if(this.processing)throw this.getAsyncError();var a=X(this.plugins),c;try{for(a.s();!(c=a.n()).done;){var d=this.runOnRoot(c.value);
if(ze(d))throw this.getAsyncError();}}catch(f){a.e(f)}finally{a.f()}this.prepareVisitors();if(this.hasListener){for(a=this.result.root;!a[Ub];)a[Ub]=!0,this.walkSync(a);if(this.listeners.OnceExit)if("document"===a.type){a=X(a.nodes);var e;try{for(a.s();!(e=a.n()).done;)this.visitSync(this.listeners.OnceExit,e.value)}catch(f){a.e(f)}finally{a.f()}}else this.visitSync(this.listeners.OnceExit,a)}return this.result}},{key:"then",value:function(a,c){"from"in this.opts||Rm("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.");
return this.async().then(a,c)}},{key:"toString",value:function(){return this.css}},{key:"visitSync",value:function(a,c){a=X(a);var d;try{for(a.s();!(d=a.n()).done;){var e=eb(d.value,2),f=e[1];this.result.lastPlugin=e[0];var g=void 0;try{g=f(c,this.helpers)}catch(h){throw this.handleError(h,c.proxyOf);}if("root"!==c.type&&"document"!==c.type&&!c.parent)return!0;if(ze(g))throw this.getAsyncError();}}catch(h){a.e(h)}finally{a.f()}}},{key:"visitTick",value:function(a){var c=a[a.length-1],d=c.node,e=c.visitors;
if("root"===d.type||"document"===d.type||d.parent){if(0<e.length&&c.visitorIndex<e.length){var f=eb(e[c.visitorIndex],2);a=f[0];f=f[1];c.visitorIndex+=1;c.visitorIndex===e.length&&(c.visitors=[],c.visitorIndex=0);this.result.lastPlugin=a;try{return f(d.toProxy(),this.helpers)}catch(g){throw this.handleError(g,d);}}if(0!==c.iterator){for(e=c.iterator;f=d.nodes[d.indexes[e]];)if(d.indexes[e]+=1,!f[Ub]){f[Ub]=!0;a.push(Mj(f));return}c.iterator=0;delete d.indexes[e]}for(e=c.events;c.eventIndex<e.length;){f=
e[c.eventIndex];c.eventIndex+=1;if(0===f){d.nodes&&d.nodes.length&&(d[Ub]=!0,c.iterator=d.getIterator());return}if(this.listeners[f]){c.visitors=this.listeners[f];return}}}a.pop()}},{key:"walkSync",value:function(a){var c=this;a[Ub]=!0;var d=Lj(a);d=X(d);var e;try{for(d.s();!(e=d.n()).done;){var f=e.value;if(0===f)a.nodes&&a.each(function(h){h[Ub]||c.walkSync(h)});else{var g=this.listeners[f];if(g&&this.visitSync(g,a.toProxy()))break}}}catch(h){d.e(h)}finally{d.f()}}},{key:"warnings",value:function(){return this.sync().warnings()}},
{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}])}();zd.registerPostcss=function(b){Li=
b};zd.default=zd;Pb.registerLazyResult(zd);Kc.registerLazyResult(zd);var Mi=function(){function b(a,c,d){na(this,b);c=c.toString();this.stringified=!1;this._processor=a;this._css=c;this._opts=d;this._map=void 0;this.result=new he(this._processor,void 0,this._opts);this.result.css=c;var e=this;Object.defineProperty(this.result,"root",{get:function(){return e.root}});a=new Lm(Id,void 0,this._opts,c);a.isMap()?(a=a.generate(),c=eb(a,2),a=c[0],c=c[1],a&&(this.result.css=a),c&&(this.result.map=c)):(a.clearAnnotation(),
this.result.css=a.css)}return oa(b,[{key:"async",value:function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}},{key:"catch",value:function(a){return this.async().catch(a)}},{key:"finally",value:function(a){return this.async().then(a,a)}},{key:"sync",value:function(){if(this.error)throw this.error;return this.result}},{key:"then",value:function(a,c){"from"in this._opts||Rm("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.");
return this.async().then(a,c)}},{key:"toString",value:function(){return this._css}},{key:"warnings",value:function(){return[]}},{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;
try{var a=Jd(this._css,this._opts)}catch(c){this.error=c}if(this.error)throw this.error;return this._root=a}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}])}();Mi.default=Mi;var gf=function(){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];na(this,b);this.version="8.4.38";this.plugins=this.normalize(a)}return oa(b,[{key:"normalize",value:function(a){var c=[];a=X(a);var d;try{for(a.s();!(d=a.n()).done;){var e=d.value;!0===e.postcss?e=e():e.postcss&&(e=
e.postcss);if("object"===T(e)&&Array.isArray(e.plugins))c=c.concat(e.plugins);else if("object"===T(e)&&e.postcssPlugin)c.push(e);else if("function"===typeof e)c.push(e);else{if("object"===T(e)&&(e.parse||e.stringify))throw Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.");throw Error(e+" is not a PostCSS plugin");}}}catch(f){a.e(f)}finally{a.f()}return c}},{key:"process",value:function(a){var c=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.plugins.length||c.parser||c.stringifier||c.syntax?new zd(this,a,c):new Mi(this,a,c)}},{key:"use",value:function(a){this.plugins=this.plugins.concat(this.normalize([a]));return this}}])}();gf.default=gf;Pb.registerProcessor(gf);Kc.registerProcessor(gf);var Lo=Ic,Io=sg,No=Jc,Oo=yd,Ho=xd,Ko=Pb,Mo=Lc;Ae.default=Ae;var dh=gf;Ka.plugin=function(b,a){function c(){console&&console.warn&&!d&&(d=!0,console.warn(b+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),
process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(b+": \u91cc\u9762 postcss.plugin \u88ab\u5f03\u7528. \u8fc1\u79fb\u6307\u5357:\nhttps://www.w3ctech.com/topic/2226"));var f=a.apply(void 0,arguments);f.postcssPlugin=b;f.postcssVersion=(new dh).version;return f}var d=!1,e;Object.defineProperty(c,"postcss",{get:function(){e||(e=c());return e}});c.process=function(f,g,h){return Ka([c(h)]).process(f,g)};return c};Ka.stringify=Id;Ka.parse=Jd;Ka.fromJSON=Ae;Ka.list=Vm;Ka.comment=function(b){return new Jc(b)};
Ka.atRule=function(b){return new yd(b)};Ka.decl=function(b){return new Ic(b)};Ka.rule=function(b){return new Lc(b)};Ka.root=function(b){return new Pb(b)};Ka.document=function(b){return new Kc(b)};Ka.CssSyntaxError=ee;Ka.Declaration=Ic;Ka.Container=nb;Ka.Processor=dh;Ka.Document=Kc;Ka.Comment=Jc;Ka.Warning=wg;Ka.AtRule=yd;Ka.Result=he;Ka.Input=xd;Ka.Rule=Lc;Ka.Root=Pb;Ka.Node=ge;zd.registerPostcss(Ka);Ka.default=Ka;var Xa=function(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?
b["default"]:b}(Ka);Xa.stringify;Xa.fromJSON;Xa.plugin;Xa.parse;Xa.list;Xa.document;Xa.comment;Xa.atRule;Xa.rule;Xa.decl;Xa.root;Xa.CssSyntaxError;Xa.Declaration;Xa.Container;Xa.Processor;Xa.Document;Xa.Comment;Xa.Warning;Xa.AtRule;Xa.Result;Xa.Input;Xa.Rule;Xa.Root;Xa.Node;var Qo=function(){function b(){na(this,b);Jb(this,"parentElement",null);Jb(this,"parentNode",null);Jb(this,"ownerDocument");Jb(this,"firstChild",null);Jb(this,"lastChild",null);Jb(this,"previousSibling",null);Jb(this,"nextSibling",
null);Jb(this,"ELEMENT_NODE",1);Jb(this,"TEXT_NODE",3);Jb(this,"nodeType");Jb(this,"nodeName");Jb(this,"RRNodeType")}return oa(b,[{key:"childNodes",get:function(){for(var a=[],c=this.firstChild;c;)a.push(c),c=c.nextSibling;return a}},{key:"contains",value:function(a){if(a instanceof b){if(a.ownerDocument!==this.ownerDocument)return!1;if(a===this)return!0}else return!1;for(;a.parentNode;){if(a.parentNode===this)return!0;a=a.parentNode}return!1}},{key:"appendChild",value:function(a){throw Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.");
}},{key:"insertBefore",value:function(a,c){throw Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.");}},{key:"removeChild",value:function(a){throw Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.");}},{key:"toString",value:function(){return"RRNode"}}])}(),Nj={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot",
"querySelector","querySelectorAll"],MutationObserver:[]},Oj={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},uf={},fh={},gh={},ya={childNodes:function(b){return tc("Node",b,"childNodes")},parentNode:function(b){return tc("Node",b,"parentNode")},parentElement:function(b){return tc("Node",b,"parentElement")},textContent:function(b){return tc("Node",b,"textContent")},contains:function(b,a){return Pj("Node",b,"contains")(a)},getRootNode:function(b){return Pj("Node",
b,"getRootNode")()},host:function(b){return b&&"host"in b?tc("ShadowRoot",b,"host"):null},styleSheets:function(b){return b.styleSheets},shadowRoot:function(b){return b&&"shadowRoot"in b?tc("Element",b,"shadowRoot"):null},querySelector:function(b,a){return tc("Element",b,"querySelector")(a)},querySelectorAll:function(b,a){return tc("Element",b,"querySelectorAll")(a)},mutationObserver:Qj},Xm={map:{},getId:function(){console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.");
return-1},getNode:function(){console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.");return null},removeNodeFromMap:function(){console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.")},
has:function(){console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.");return!1},reset:function(){console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.")}};
"undefined"!==typeof window&&window.Proxy&&window.Reflect&&(Xm=new Proxy(Xm,{get:function(b,a,c){"map"===a&&console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.");return Reflect.get(b,a,c)}}));var wf=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(wf=function(){return(new Date).getTime()});var Hr=function(){function b(){na(this,
b);S(this,"id",1);S(this,"styleIDMap",new WeakMap);S(this,"idStyleMap",new Map)}return oa(b,[{key:"getId",value:function(a){var c;return null!==(c=this.styleIDMap.get(a))&&void 0!==c?c:-1}},{key:"has",value:function(a){return this.styleIDMap.has(a)}},{key:"add",value:function(a,c){if(this.has(a))return this.getId(a);c=void 0===c?this.id++:c;this.styleIDMap.set(a,c);this.idStyleMap.set(c,a);return c}},{key:"getStyle",value:function(a){return this.idStyleMap.get(a)||null}},{key:"reset",value:function(){this.styleIDMap=
new WeakMap;this.idStyleMap=new Map;this.id=1}},{key:"generateId",value:function(){return this.id++}}])}(),Ha=function(b){b[b.DomContentLoaded=0]="DomContentLoaded";b[b.Load=1]="Load";b[b.FullSnapshot=2]="FullSnapshot";b[b.IncrementalSnapshot=3]="IncrementalSnapshot";b[b.Meta=4]="Meta";b[b.Custom=5]="Custom";b[b.Plugin=6]="Plugin";return b}(Ha||{}),Ba=function(b){b[b.Mutation=0]="Mutation";b[b.MouseMove=1]="MouseMove";b[b.MouseInteraction=2]="MouseInteraction";b[b.Scroll=3]="Scroll";b[b.ViewportResize=
4]="ViewportResize";b[b.Input=5]="Input";b[b.TouchMove=6]="TouchMove";b[b.MediaInteraction=7]="MediaInteraction";b[b.StyleSheetRule=8]="StyleSheetRule";b[b.CanvasMutation=9]="CanvasMutation";b[b.Font=10]="Font";b[b.Log=11]="Log";b[b.Drag=12]="Drag";b[b.StyleDeclaration=13]="StyleDeclaration";b[b.Selection=14]="Selection";b[b.AdoptedStyleSheet=15]="AdoptedStyleSheet";b[b.CustomElement=16]="CustomElement";return b}(Ba||{}),xb=function(b){b[b.MouseUp=0]="MouseUp";b[b.MouseDown=1]="MouseDown";b[b.Click=
2]="Click";b[b.ContextMenu=3]="ContextMenu";b[b.DblClick=4]="DblClick";b[b.Focus=5]="Focus";b[b.Blur=6]="Blur";b[b.TouchStart=7]="TouchStart";b[b.TouchMove_Departed=8]="TouchMove_Departed";b[b.TouchEnd=9]="TouchEnd";b[b.TouchCancel=10]="TouchCancel";return b}(xb||{}),uc=function(b){b[b.Mouse=0]="Mouse";b[b.Pen=1]="Pen";b[b.Touch=2]="Touch";return b}(uc||{}),Md=function(b){b[b["2D"]=0]="2D";b[b.WebGL=1]="WebGL";b[b.WebGL2=2]="WebGL2";return b}(Md||{}),Ld=function(b){b[b.Play=0]="Play";b[b.Pause=1]=
"Pause";b[b.Seeked=2]="Seeked";b[b.VolumeChange=3]="VolumeChange";b[b.RateChange=4]="RateChange";return b}(Ld||{}),Ym=function(b){b[b.Document=0]="Document";b[b.DocumentType=1]="DocumentType";b[b.Element=2]="Element";b[b.Text=3]="Text";b[b.CDATA=4]="CDATA";b[b.Comment=5]="Comment";return b}(Ym||{}),Ir=function(){function b(){na(this,b);S(this,"length",0);S(this,"head",null);S(this,"tail",null)}return oa(b,[{key:"get",value:function(a){if(a>=this.length)throw Error("Position outside of list range");
for(var c=this.head,d=0;d<a;d++)c=(null==c?void 0:c.next)||null;return c}},{key:"addNode",value:function(a){var c={value:a,previous:null,next:null};a.__ln=c;if(a.previousSibling&&"__ln"in a.previousSibling){var d=a.previousSibling.__ln.next;c.next=d;c.previous=a.previousSibling.__ln;a.previousSibling.__ln.next=c;d&&(d.previous=c)}else a.nextSibling&&"__ln"in a.nextSibling&&a.nextSibling.__ln.previous?(d=a.nextSibling.__ln.previous,c.previous=d,c.next=a.nextSibling.__ln,a.nextSibling.__ln.previous=
c,d&&(d.next=c)):(this.head&&(this.head.previous=c),c.next=this.head,this.head=c);null===c.next&&(this.tail=c);this.length++}},{key:"removeNode",value:function(a){var c=a.__ln;this.head&&(c.previous?(c.previous.next=c.next)?c.next.previous=c.previous:this.tail=c.previous:(this.head=c.next)?this.head.previous=null:this.tail=null,a.__ln&&delete a.__ln,this.length--)}}])}(),Zm=function(b,a){return"".concat(b,"@").concat(a)},So=function(){function b(){var a=this;na(this,b);S(this,"frozen",!1);S(this,
"locked",!1);S(this,"texts",[]);S(this,"attributes",[]);S(this,"attributeMap",new WeakMap);S(this,"removes",[]);S(this,"mapRemoves",[]);S(this,"movedMap",{});S(this,"addedSet",new Set);S(this,"movedSet",new Set);S(this,"droppedSet",new Set);S(this,"removesSubTreeCache",new Set);S(this,"mutationCb");S(this,"blockClass");S(this,"blockSelector");S(this,"maskTextClass");S(this,"maskTextSelector");S(this,"inlineStylesheet");S(this,"maskInputOptions");S(this,"maskTextFn");S(this,"maskInputFn");S(this,"keepIframeSrcFn");
S(this,"recordCanvas");S(this,"inlineImages");S(this,"slimDOMOptions");S(this,"dataURLOptions");S(this,"doc");S(this,"mirror");S(this,"iframeManager");S(this,"stylesheetManager");S(this,"shadowDomManager");S(this,"canvasManager");S(this,"processedNodeManager");S(this,"unattachedDoc");S(this,"processMutations",function(c){c.forEach(a.processMutation);a.emit()});S(this,"emit",function(){if(!a.frozen&&!a.locked){for(var c=[],d=new Set,e=new Ir,f=function(n){for(var q=-2;-2===q;)q=(n=n&&n.nextSibling)&&
a.mirror.getId(n);return q},g=function(n){var q=ya.parentNode(n);if(q&&Yj(n)){var t=!1;if(n.nodeType===Node.TEXT_NODE){var r=q.tagName;if("TEXTAREA"===r)return;"STYLE"===r&&a.addedSet.has(q)&&(t=!0)}q=ve(q)?a.mirror.getId(Xj(n)):a.mirror.getId(q);r=f(n);if(-1===q||-1===r)return e.addNode(n);if(t=Fd(n,{doc:a.doc,mirror:a.mirror,blockClass:a.blockClass,blockSelector:a.blockSelector,maskTextClass:a.maskTextClass,maskTextSelector:a.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:a.inlineStylesheet,
maskInputOptions:a.maskInputOptions,maskTextFn:a.maskTextFn,maskInputFn:a.maskInputFn,slimDOMOptions:a.slimDOMOptions,dataURLOptions:a.dataURLOptions,recordCanvas:a.recordCanvas,inlineImages:a.inlineImages,onSerialize:function(v){"IFRAME"===v.nodeName&&a.mirror.getMeta(v)&&a.iframeManager.addIframe(v);Wj(v,a.mirror)&&a.stylesheetManager.trackLinkElement(v);ih(n)&&a.shadowDomManager.addShadowRoot(ya.shadowRoot(n),a.doc)},onIframeLoad:function(v,w){a.iframeManager.attachIframe(v,w);a.shadowDomManager.observeAttachShadow(v)},
onStylesheetLoad:function(v,w){a.stylesheetManager.attachLinkElement(v,w)},cssCaptured:t}))c.push({parentId:q,nextId:r,node:t}),d.add(t.id)}};a.mapRemoves.length;)a.mirror.removeNodeFromMap(a.mapRemoves.shift());var h=X(a.movedSet),k;try{for(h.s();!(k=h.n()).done;){var l=k.value;Zj(a.removesSubTreeCache,l,a.mirror)&&!a.movedSet.has(ya.parentNode(l))||g(l)}}catch(n){h.e(n)}finally{h.f()}h=X(a.addedSet);var p;try{for(h.s();!(p=h.n()).done;){var m=p.value;ak(a.droppedSet,m)||Zj(a.removesSubTreeCache,
m,a.mirror)?ak(a.movedSet,m)?g(m):a.droppedSet.add(m):g(m)}}catch(n){h.e(n)}finally{h.f()}for(m=null;e.length;){p=null;m&&(h=a.mirror.getId(ya.parentNode(m.value)),k=f(m.value),-1!==h&&-1!==k&&(p=m));if(!p)for(m=e.tail;m;)if(h=m,m=m.previous,h&&(k=a.mirror.getId(ya.parentNode(h.value)),-1!==f(h.value)))if(-1!==k){p=h;break}else if((k=ya.parentNode(h.value))&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(k=ya.host(k),-1!==a.mirror.getId(k))){p=h;break}if(!p){for(;e.head;)e.removeNode(e.head.value);break}m=
p.previous;e.removeNode(p.value);g(p.value)}g={texts:a.texts.map(function(n){var q=n.node,t=ya.parentNode(q);t&&"TEXTAREA"===t.tagName&&a.genTextAreaValueMutation(t);return{id:a.mirror.getId(q),value:n.value}}).filter(function(n){return!d.has(n.id)}).filter(function(n){return a.mirror.has(n.id)}),attributes:a.attributes.map(function(n){var q=n.attributes;if("string"===typeof q.style){var t=JSON.stringify(n.styleDiff),r=JSON.stringify(n._unchangedStyles);t.length<q.style.length&&(t+r).split("var(").length===
q.style.split("var(").length&&(q.style=n.styleDiff)}return{id:a.mirror.getId(n.node),attributes:q}}).filter(function(n){return!d.has(n.id)}).filter(function(n){return a.mirror.has(n.id)}),removes:a.removes,adds:c};if(g.texts.length||g.attributes.length||g.removes.length||g.adds.length)a.texts=[],a.attributes=[],a.attributeMap=new WeakMap,a.removes=[],a.addedSet=new Set,a.movedSet=new Set,a.droppedSet=new Set,a.removesSubTreeCache=new Set,a.movedMap={},a.mutationCb(g)}});S(this,"genTextAreaValueMutation",
function(c){var d=a.attributeMap.get(c);d||(d={node:c,attributes:{},styleDiff:{},_unchangedStyles:{}},a.attributes.push(d),a.attributeMap.set(c,d));d.attributes.value=Array.from(ya.childNodes(c),function(e){return ya.textContent(e)||""}).join("")});S(this,"processMutation",function(c){if(!hh(c.target,a.mirror,a.slimDOMOptions))switch(c.type){case "characterData":var d=ya.textContent(c.target);vb(c.target,a.blockClass,a.blockSelector,!1)||d===c.oldValue||a.texts.push({value:Aj(c.target,a.maskTextClass,
a.maskTextSelector,!0)&&d?a.maskTextFn?a.maskTextFn(d,Uj(c.target)):d.replace(/[\S]/g,"*"):d,node:c.target});break;case "attributes":d=c.target;var e=c.attributeName,f=c.target.getAttribute(e);if("value"===e){var g=Xg(d);f=Wg({element:d,maskInputOptions:a.maskInputOptions,tagName:d.tagName,type:g,value:f,maskInputFn:a.maskInputFn})}if(vb(c.target,a.blockClass,a.blockSelector,!1)||f===c.oldValue)break;g=a.attributeMap.get(c.target);if("IFRAME"===d.tagName&&"src"===e&&!a.keepIframeSrcFn(f))if(d.contentDocument)break;
else e="rr_src";g||(g={node:c.target,attributes:{},styleDiff:{},_unchangedStyles:{}},a.attributes.push(g),a.attributeMap.set(c.target,g));"type"===e&&"INPUT"===d.tagName&&"password"===(c.oldValue||"").toLowerCase()&&d.setAttribute("data-rr-is-password","true");if(!zj(d.tagName,e))if(g.attributes[e]=yj(a.doc,d.tagName.toLowerCase(),e.toLowerCase(),f),"style"===e){if(!a.unattachedDoc)try{a.unattachedDoc=document.implementation.createHTMLDocument()}catch(m){a.unattachedDoc=a.doc}e=a.unattachedDoc.createElement("span");
c.oldValue&&e.setAttribute("style",c.oldValue);f=0;for(var h=Array.from(d.style);f<h.length;f++){var k=h[f],l=d.style.getPropertyValue(k),p=d.style.getPropertyPriority(k);l!==e.style.getPropertyValue(k)||p!==e.style.getPropertyPriority(k)?g.styleDiff[k]=""===p?l:[l,p]:g._unchangedStyles[k]=[l,p]}f=0;for(e=Array.from(e.style);f<e.length;f++)h=e[f],""===d.style.getPropertyValue(h)&&(g.styleDiff[h]=!1)}else"open"===e&&"DIALOG"===d.tagName&&(d.matches("dialog:modal")?g.attributes.rr_open_mode="modal":
g.attributes.rr_open_mode="non-modal");break;case "childList":vb(c.target,a.blockClass,a.blockSelector,!0)||("TEXTAREA"===c.target.tagName?a.genTextAreaValueMutation(c.target):(c.addedNodes.forEach(function(m){return a.genAdds(m,c.target)}),c.removedNodes.forEach(function(m){var n=a.mirror.getId(m),q=ve(c.target)?a.mirror.getId(ya.host(c.target)):a.mirror.getId(c.target);vb(c.target,a.blockClass,a.blockSelector,!1)||hh(m,a.mirror,a.slimDOMOptions)||-1===a.mirror.getId(m)||(a.addedSet.has(m)?(jh(a.addedSet,
m),a.droppedSet.add(m)):a.addedSet.has(c.target)&&-1===n||Vj(c.target,a.mirror)||(a.movedSet.has(m)&&a.movedMap[Zm(n,q)]?jh(a.movedSet,m):(a.removes.push({parentId:q,id:n,isShadow:ve(c.target)&&we(c.target)?!0:void 0}),Ro(m,a.removesSubTreeCache))),a.mapRemoves.push(m))})))}});S(this,"genAdds",function(c,d){if(!a.processedNodeManager.inOtherBuffer(c,a)&&!a.addedSet.has(c)&&!a.movedSet.has(c)){if(a.mirror.hasNode(c)){if(hh(c,a.mirror,a.slimDOMOptions))return;a.movedSet.add(c);var e=null;d&&a.mirror.hasNode(d)&&
(e=a.mirror.getId(d));e&&-1!==e&&(a.movedMap[Zm(a.mirror.getId(c),e)]=!0)}else a.addedSet.add(c),a.droppedSet.delete(c);vb(c,a.blockClass,a.blockSelector,!1)||(ya.childNodes(c).forEach(function(f){return a.genAdds(f)}),ih(c)&&ya.childNodes(ya.shadowRoot(c)).forEach(function(f){a.processedNodeManager.add(f,a);a.genAdds(f,c)}))}})}return oa(b,[{key:"init",value:function(a){var c=this;"mutationCb blockClass blockSelector maskTextClass maskTextSelector inlineStylesheet maskInputOptions maskTextFn maskInputFn keepIframeSrcFn recordCanvas inlineImages slimDOMOptions dataURLOptions doc mirror iframeManager stylesheetManager shadowDomManager canvasManager processedNodeManager".split(" ").forEach(function(d){c[d]=
a[d]})}},{key:"freeze",value:function(){this.frozen=!0;this.canvasManager.freeze()}},{key:"unfreeze",value:function(){this.frozen=!1;this.canvasManager.unfreeze();this.emit()}},{key:"isFrozen",value:function(){return this.frozen}},{key:"lock",value:function(){this.locked=!0;this.canvasManager.lock()}},{key:"unlock",value:function(){this.locked=!1;this.canvasManager.unlock();this.emit()}},{key:"reset",value:function(){this.shadowDomManager.reset();this.canvasManager.reset()}}])}(),De,Aa=function(b){return De?
function(){try{return b.apply(void 0,arguments)}catch(a){if(!De||!0!==De(a))throw a;}}:b},Uc=[],Xo=["INPUT","TEXTAREA","SELECT"],ek=new WeakMap,$m=function(){function b(a){na(this,b);S(this,"iframeIdToRemoteIdMap",new WeakMap);S(this,"iframeRemoteIdToIdMap",new WeakMap);this.generateIdFn=a}return oa(b,[{key:"getId",value:function(a,c,d,e){d=d||this.getIdToRemoteIdMap(a);a=e||this.getRemoteIdToIdMap(a);e=d.get(c);e||(e=this.generateIdFn(),d.set(c,e),a.set(e,c));return e}},{key:"getIds",value:function(a,
c){var d=this,e=this.getIdToRemoteIdMap(a),f=this.getRemoteIdToIdMap(a);return c.map(function(g){return d.getId(a,g,e,f)})}},{key:"getRemoteId",value:function(a,c,d){a=d||this.getRemoteIdToIdMap(a);return"number"!==typeof c?c:(c=a.get(c))?c:-1}},{key:"getRemoteIds",value:function(a,c){var d=this,e=this.getRemoteIdToIdMap(a);return c.map(function(f){return d.getRemoteId(a,f,e)})}},{key:"reset",value:function(a){a?(this.iframeIdToRemoteIdMap.delete(a),this.iframeRemoteIdToIdMap.delete(a)):(this.iframeIdToRemoteIdMap=
new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap)}},{key:"getIdToRemoteIdMap",value:function(a){var c=this.iframeIdToRemoteIdMap.get(a);c||(c=new Map,this.iframeIdToRemoteIdMap.set(a,c));return c}},{key:"getRemoteIdToIdMap",value:function(a){var c=this.iframeRemoteIdToIdMap.get(a);c||(c=new Map,this.iframeRemoteIdToIdMap.set(a,c));return c}}])}(),kp=function(){function b(a){na(this,b);S(this,"iframes",new WeakMap);S(this,"crossOriginIframeMap",new WeakMap);S(this,"crossOriginIframeMirror",new $m(Yn));
S(this,"crossOriginIframeStyleMirror");S(this,"crossOriginIframeRootIdMap",new WeakMap);S(this,"mirror");S(this,"mutationCb");S(this,"wrappedEmit");S(this,"loadListener");S(this,"stylesheetManager");S(this,"recordCrossOriginIframes");this.mutationCb=a.mutationCb;this.wrappedEmit=a.wrappedEmit;this.stylesheetManager=a.stylesheetManager;this.recordCrossOriginIframes=a.recordCrossOriginIframes;this.crossOriginIframeStyleMirror=new $m(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror));
this.mirror=a.mirror;this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}return oa(b,[{key:"addIframe",value:function(a){this.iframes.set(a,!0);a.contentWindow&&this.crossOriginIframeMap.set(a.contentWindow,a)}},{key:"addLoadListener",value:function(a){this.loadListener=a}},{key:"attachIframe",value:function(a,c){var d,e;this.mutationCb({adds:[{parentId:this.mirror.getId(a),nextId:null,node:c}],removes:[],texts:[],attributes:[],isAttachIframe:!0});this.recordCrossOriginIframes&&
(null==(d=a.contentWindow)?void 0:d.addEventListener("message",this.handleMessage.bind(this)));null==(e=this.loadListener)?void 0:e.call(this,a);a.contentDocument&&a.contentDocument.adoptedStyleSheets&&0<a.contentDocument.adoptedStyleSheets.length&&this.stylesheetManager.adoptStyleSheets(a.contentDocument.adoptedStyleSheets,this.mirror.getId(a.contentDocument))}},{key:"handleMessage",value:function(a){if("rrweb"===a.data.type&&a.origin===a.data.origin&&a.source){var c=this.crossOriginIframeMap.get(a.source);
c&&(c=this.transformCrossOriginEvent(c,a.data.event))&&this.wrappedEmit(c,a.data.isCheckout)}}},{key:"transformCrossOriginEvent",value:function(a,c){var d=this;switch(c.type){case Ha.FullSnapshot:this.crossOriginIframeMirror.reset(a);this.crossOriginIframeStyleMirror.reset(a);this.replaceIdOnNode(c.data.node,a);var e=c.data.node.id;this.crossOriginIframeRootIdMap.set(a,e);this.patchRootIdOnNode(c.data.node,e);return{timestamp:c.timestamp,type:Ha.IncrementalSnapshot,data:{source:Ba.Mutation,adds:[{parentId:this.mirror.getId(a),
nextId:null,node:c.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}};case Ha.Plugin:return c;case Ha.Custom:return this.replaceIds(c.data.payload,a,["id","parentId","previousId","nextId"]),c;case Ha.IncrementalSnapshot:switch(c.data.source){case Ba.Mutation:return c.data.adds.forEach(function(f){d.replaceIds(f,a,["parentId","nextId","previousId"]);d.replaceIdOnNode(f.node,a);var g=d.crossOriginIframeRootIdMap.get(a);g&&d.patchRootIdOnNode(f.node,g)}),c.data.removes.forEach(function(f){d.replaceIds(f,
a,["parentId","id"])}),c.data.attributes.forEach(function(f){d.replaceIds(f,a,["id"])}),c.data.texts.forEach(function(f){d.replaceIds(f,a,["id"])}),c;case Ba.Drag:case Ba.TouchMove:case Ba.MouseMove:return c.data.positions.forEach(function(f){d.replaceIds(f,a,["id"])}),c;case Ba.MediaInteraction:case Ba.MouseInteraction:case Ba.Scroll:case Ba.CanvasMutation:case Ba.Input:return this.replaceIds(c.data,a,["id"]),c;case Ba.StyleSheetRule:case Ba.StyleDeclaration:return this.replaceIds(c.data,a,["id"]),
this.replaceStyleIds(c.data,a,["styleId"]),c;case Ba.Font:return c;case Ba.Selection:return c.data.ranges.forEach(function(f){d.replaceIds(f,a,["start","end"])}),c;case Ba.AdoptedStyleSheet:return this.replaceIds(c.data,a,["id"]),this.replaceStyleIds(c.data,a,["styleIds"]),null==(e=c.data.styles)?void 0:e.forEach(function(f){d.replaceStyleIds(f,a,["styleId"])}),c}}return!1}},{key:"replace",value:function(a,c,d,e){e=X(e);var f;try{for(e.s();!(f=e.n()).done;){var g=f.value;if(Array.isArray(c[g])||"number"===
typeof c[g])Array.isArray(c[g])?c[g]=a.getIds(d,c[g]):c[g]=a.getId(d,c[g])}}catch(h){e.e(h)}finally{e.f()}return c}},{key:"replaceIds",value:function(a,c,d){return this.replace(this.crossOriginIframeMirror,a,c,d)}},{key:"replaceStyleIds",value:function(a,c,d){return this.replace(this.crossOriginIframeStyleMirror,a,c,d)}},{key:"replaceIdOnNode",value:function(a,c){var d=this;this.replaceIds(a,c,["id","rootId"]);"childNodes"in a&&a.childNodes.forEach(function(e){d.replaceIdOnNode(e,c)})}},{key:"patchRootIdOnNode",
value:function(a,c){var d=this;a.type===Ym.Document||a.rootId||(a.rootId=c);"childNodes"in a&&a.childNodes.forEach(function(e){d.patchRootIdOnNode(e,c)})}}])}(),np=function(){function b(a){na(this,b);S(this,"shadowDoms",new WeakSet);S(this,"mutationCb");S(this,"scrollCb");S(this,"bypassOptions");S(this,"mirror");S(this,"restoreHandlers",[]);this.mutationCb=a.mutationCb;this.scrollCb=a.scrollCb;this.bypassOptions=a.bypassOptions;this.mirror=a.mirror;this.init()}return oa(b,[{key:"init",value:function(){this.reset();
this.patchAttachShadow(Element,document)}},{key:"addShadowRoot",value:function(a,c){var d=this;if(we(a)&&!this.shadowDoms.has(a)){this.shadowDoms.add(a);var e=ck(ra(ra({},this.bypassOptions),{},{doc:c,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),a);this.restoreHandlers.push(function(){return e.disconnect()});this.restoreHandlers.push(dk(ra(ra({},this.bypassOptions),{},{scrollCb:this.scrollCb,doc:a,mirror:this.mirror})));setTimeout(function(){a.adoptedStyleSheets&&0<a.adoptedStyleSheets.length&&
d.bypassOptions.stylesheetManager.adoptStyleSheets(a.adoptedStyleSheets,d.mirror.getId(ya.host(a)));d.restoreHandlers.push(fk({mirror:d.mirror,stylesheetManager:d.bypassOptions.stylesheetManager},a))},0)}}},{key:"observeAttachShadow",value:function(a){a.contentWindow&&a.contentDocument&&this.patchAttachShadow(a.contentWindow.Element,a.contentDocument)}},{key:"patchAttachShadow",value:function(a,c){var d=this;this.restoreHandlers.push(Kd(a.prototype,"attachShadow",function(e){return function(f){f=
e.call(this,f);var g=ya.shadowRoot(this);g&&Yj(this)&&d.addShadowRoot(g,c);return f}}))}},{key:"reset",value:function(){this.restoreHandlers.forEach(function(a){try{a()}catch(c){}});this.restoreHandlers=[];this.shadowDoms=new WeakSet}}])}(),Jr="undefined"===typeof Uint8Array?[]:new Uint8Array(256),zg=0;for(;64>zg;zg++)Jr["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(zg)]=zg;var fp=function(b){b=new Uint8Array(b);var a,c=b.length,d="";for(a=0;a<c;a+=3)d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b[a]>>
2],d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(b[a]&3)<<4|b[a+1]>>4],d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(b[a+1]&15)<<2|b[a+2]>>6],d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b[a+2]&63];2===c%3?d=d.substring(0,d.length-1)+"=":1===c%3&&(d=d.substring(0,d.length-2)+"==");return d},an=new Map,hk=function(b,a,c){if(b&&(gk(b,a)||"object"===T(b))){a=b.constructor.name;var d=an.get(c);d||(d=new Map,an.set(c,d));d.has(a)||
d.set(a,[]);c=d.get(a);a=c.indexOf(b);-1===a&&(a=c.length,c.push(b));return a}},ik=function(b,a,c){return b.map(function(d){return Af(d,a,c)})},gk=function(b,a){return!!"WebGLActiveInfo WebGLBuffer WebGLFramebuffer WebGLProgram WebGLRenderbuffer WebGLShader WebGLShaderPrecisionFormat WebGLTexture WebGLUniformLocation WebGLVertexArrayObject WebGLVertexArrayObjectOES".split(" ").filter(function(c){return"function"===typeof a[c]}).find(function(c){return b instanceof a[c]})},Kr=function(b){return Uint8Array.from(atob(b),
function(a){return a.charCodeAt(0)})},lk="undefined"!==typeof window&&window.Blob&&new Blob([Kr("KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=")],
{type:"text/javascript;charset=utf-8"}),mp=function(){function b(a){var c=this;na(this,b);S(this,"pendingCanvasMutations",new Map);S(this,"rafStamps",{latestId:0,invokeId:null});S(this,"mirror");S(this,"mutationCb");S(this,"resetObservers");S(this,"frozen",!1);S(this,"locked",!1);S(this,"processMutation",function(l,p){if(c.rafStamps.invokeId&&c.rafStamps.latestId!==c.rafStamps.invokeId||!c.rafStamps.invokeId)c.rafStamps.invokeId=c.rafStamps.latestId;c.pendingCanvasMutations.has(l)||c.pendingCanvasMutations.set(l,
[]);c.pendingCanvasMutations.get(l).push(p)});var d=a.sampling;d=void 0===d?"all":d;var e=a.win,f=a.blockClass,g=a.blockSelector,h=a.recordCanvas,k=a.dataURLOptions;this.mutationCb=a.mutationCb;this.mirror=a.mirror;h&&"all"===d&&this.initCanvasMutationObserver(e,f,g);h&&"number"===typeof d&&this.initCanvasFPSObserver(d,e,f,g,{dataURLOptions:k})}return oa(b,[{key:"reset",value:function(){this.pendingCanvasMutations.clear();this.resetObservers&&this.resetObservers()}},{key:"freeze",value:function(){this.frozen=
!0}},{key:"unfreeze",value:function(){this.frozen=!1}},{key:"lock",value:function(){this.locked=!0}},{key:"unlock",value:function(){this.locked=!1}},{key:"initCanvasFPSObserver",value:function(a,c,d,e,f){var g=this,h=jk(c,d,e,!0),k=new Map,l=new ip;l.onmessage=function(r){var v=r.data.id;k.set(v,!1);"base64"in r.data&&(r=r.data,g.mutationCb({id:v,type:Md["2D"],commands:[{property:"clearRect",args:[0,0,r.width,r.height]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",
base64:r.base64}],type:r.type}]},0,0]}]}))};var p=1E3/a,m=0,n=function(){var r=[];c.document.querySelectorAll("canvas").forEach(function(v){vb(v,d,e,!0)||r.push(v)});return r},q=function(r){m&&r-m<p||(m=r,n().forEach(function(){var v=Gg(Lb().mark(function C(x){var E,H,D,B;return Lb().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:H=g.mirror.getId(x);if(!k.get(H)){I.next=3;break}return I.abrupt("return");case 3:if(0!==x.width&&0!==x.height){I.next=5;break}return I.abrupt("return");case 5:return k.set(H,
!0),["webgl","webgl2"].includes(x.__context)&&(D=x.getContext(x.__context),!1===(null==(E=null==D?void 0:D.getContextAttributes())?void 0:E.preserveDrawingBuffer)&&D.clear(D.COLOR_BUFFER_BIT)),I.next=9,createImageBitmap(x);case 9:B=I.sent,l.postMessage({id:H,bitmap:B,width:x.width,height:x.height,dataURLOptions:f.dataURLOptions},[B]);case 11:case "end":return I.stop()}},C)}));return function(x){return v.apply(this,arguments)}}()));t=requestAnimationFrame(q)};var t=requestAnimationFrame(q);this.resetObservers=
function(){h();cancelAnimationFrame(t)}}},{key:"initCanvasMutationObserver",value:function(a,c,d){this.startRAFTimestamping();this.startPendingCanvasMutationFlusher();var e=jk(a,c,d,!1),f=gp(this.processMutation.bind(this),a,c,d),g=hp(this.processMutation.bind(this),a,c,d);this.resetObservers=function(){e();f();g()}}},{key:"startPendingCanvasMutationFlusher",value:function(){var a=this;requestAnimationFrame(function(){return a.flushPendingCanvasMutations()})}},{key:"startRAFTimestamping",value:function(){var a=
this,c=function(d){a.rafStamps.latestId=d;requestAnimationFrame(c)};requestAnimationFrame(c)}},{key:"flushPendingCanvasMutations",value:function(){var a=this;this.pendingCanvasMutations.forEach(function(c,d){c=a.mirror.getId(d);a.flushPendingCanvasMutationFor(d,c)});requestAnimationFrame(function(){return a.flushPendingCanvasMutations()})}},{key:"flushPendingCanvasMutationFor",value:function(a,c){if(!this.frozen&&!this.locked){var d=this.pendingCanvasMutations.get(a);if(d&&-1!==c){var e=d.map(function(f){f.type;
return oe(f,dr)});this.mutationCb({id:c,type:d[0].type,commands:e});this.pendingCanvasMutations.delete(a)}}}}])}(),jp=function(){function b(a){na(this,b);S(this,"trackedLinkElements",new WeakSet);S(this,"mutationCb");S(this,"adoptedStyleSheetCb");S(this,"styleMirror",new Hr);this.mutationCb=a.mutationCb;this.adoptedStyleSheetCb=a.adoptedStyleSheetCb}return oa(b,[{key:"attachLinkElement",value:function(a,c){"_cssText"in c.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:c.id,
attributes:c.attributes}]});this.trackLinkElement(a)}},{key:"trackLinkElement",value:function(a){this.trackedLinkElements.has(a)||(this.trackedLinkElements.add(a),this.trackStylesheetInLinkElement(a))}},{key:"adoptStyleSheets",value:function(a,c){var d=this;if(0!==a.length){var e={id:c,styleIds:[]},f=[];a=X(a);var g;try{for(c=function(){var h=g.value;if(d.styleMirror.has(h))var k=d.styleMirror.getId(h);else k=d.styleMirror.add(h),f.push({styleId:k,rules:Array.from(h.rules||CSSRule,function(l,p){return{rule:uj(l,
h.href),index:p}})});e.styleIds.push(k)},a.s();!(g=a.n()).done;)c()}catch(h){a.e(h)}finally{a.f()}0<f.length&&(e.styles=f);this.adoptedStyleSheetCb(e)}}},{key:"reset",value:function(){this.styleMirror.reset();this.trackedLinkElements=new WeakSet}},{key:"trackStylesheetInLinkElement",value:function(a){}}])}(),lp=function(){function b(){na(this,b);S(this,"nodeMap",new WeakMap);S(this,"active",!1)}return oa(b,[{key:"inOtherBuffer",value:function(a,c){return(a=this.nodeMap.get(a))&&Array.from(a).some(function(d){return d!==
c})}},{key:"add",value:function(a,c){var d=this;this.active||(this.active=!0,requestAnimationFrame(function(){d.nodeMap=new WeakMap;d.active=!1}));this.nodeMap.set(a,(this.nodeMap.get(a)||new Set).add(c))}},{key:"destroy",value:function(){}}])}(),ab,Bf,kh,Cf=!1;try{if(2!==Array.from([1],function(b){return 2*b})[0]){var Ni=document.createElement("iframe");document.body.appendChild(Ni);Array.from=(null==($l=Ni.contentWindow)?void 0:$l.Array.from)||Array.from;document.body.removeChild(Ni)}}catch(b){console.debug("Unable to override Array.from",
b)}var Mb=new Cj;wc.addCustomEvent=function(b,a){if(!Cf)throw Error("please add custom event after start recording");ab({type:Ha.Custom,data:{tag:b,payload:a}})};wc.freezePage=function(){Uc.forEach(function(b){return b.freeze()})};wc.takeFullSnapshot=function(b){if(!Cf)throw Error("please take full snapshot after start recording");Bf(b)};wc.mirror=Mb;var bn;!function(b){b[b.NotStarted=0]="NotStarted";b[b.Running=1]="Running";b[b.Stopped=2]="Stopped"}(bn||(bn={}));var cn;(function(b){b.BRAND="DeviceBrand";
b.MANUFACTURER="DeviceManufacturer";b.MODEL="DeviceModel";b.TYPE="DeviceType";b.VERSION="DeviceVersion";b.OS_NAME="OperatingSystemName";b.OS_VERSION="OperatingSystemVersion";b.CATEGORY="DeviceCategory";b.FRAMEWORK_NAME="FrameworkName";b.FRAMEWORK_VERSION="FrameworkVersion"})(cn||(cn={}));var $h={DeviceType:{CONSOLE:"Console",DESKTOP:"DESKTOP",MOBILE:"Mobile",SETTOP:"Settop",SMARTTV:"SmartTV",TABLET:"Tablet",VEHICLE:"Vehicle",OTHER:"Other"},DeviceCategory:{ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",
DESKTOP_APP:"DSKAPP",DEVICE_SIMULATOR:"SIMULATOR",KAIOS_DEVICE:"KAIOS",LG_TV:"LGTV",LINUX:"LNX",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",VIDAA_DEVICE:"VIDAA",VIZIO_TV:"VIZIOTV",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB"}},J;(function(b){var a;b.TRACEPARENT_HEADER_KEY="traceparent";b.BAGGAGE_HEADER_KEY="baggage";var c;(function(e){e.NONE="NONE";e.RCFG="RCFG"})(c=b.SAMPLING_MODES||(b.SAMPLING_MODES={}));(function(e){e.DERIVED="DERIVED";e.DEFAULT="DEFAULT"})(b.SAMPLING_STATUS||
(b.SAMPLING_STATUS={}));var d;(function(e){e.SAMPLED="sl";e.NON_SAMPLED="nsl"})(d=b.SAMPLING_ACTION||(b.SAMPLING_ACTION={}));b.DEFAULT_SAMPLING_ACTION=(a={},a[d.SAMPLED]=c.RCFG,a[d.NON_SAMPLED]=c.NONE,a);(function(e){e.DEFAULT="def";e.CACHED="cac";e.REMOTE="rem"})(b.CONFIG_SOURCE||(b.CONFIG_SOURCE={}));(function(e){e[e.APP=0]="APP";e[e.REMOTE=1]="REMOTE";e[e.MERGE=2]="MERGE"})(b.CONFIG_PREFERENCES||(b.CONFIG_PREFERENCES={}));(function(e){e[e.DISABLED=0]="DISABLED";e[e.PERFORMANCE_TIMING=1]="PERFORMANCE_TIMING";
e[e.PERFORMANCE_NAVIGATION_TIMING=2]="PERFORMANCE_NAVIGATION_TIMING"})(b.PERFORMANCE_CONTEXT||(b.PERFORMANCE_CONTEXT={}));(function(e){e.DO_NOT_FETCH_UPDATE_TIMER="updateTimer";e.IMMEDIATE_FETCH="urgentFetch";e.UPDATE_TIMER_WITH_DIFF="checkDiff"})(b.RC_FETCH_MODE||(b.RC_FETCH_MODE={}));(function(e){e.AUTO="auto";e.MANUAL="manual";e.BOTH="both"})(b.NETWORK_REQUEST_EVENT_COLLECTION_MODE||(b.NETWORK_REQUEST_EVENT_COLLECTION_MODE={}));b.REMOTE_CONFIG_STORAGE_KEY="ConvivaRemoteConfig";b.END_POINT_STORAGE_KEY=
"ConvivaEndpoint";b.DEFAULT_END_POINT="https://appgw.conviva.com";b.REMOTE_CONFIG_URL_PREFIX="https://rc.conviva.com/js/";b.REMOTE_CONFIG_FILE_NAME="/remote_config.json";b.SAMPLING_STORAGE_RANDOM_NUMBER_KEY="ConvivaSamplingRandomNumber";b.VISUAL_LABELLING_CONFIG="ConvivaVisualLabellingConfig";b.SESSION_RECORDING_STARTED="ConvivaSessionRecordingStarted";b.DIAGNOSTIC_INFO_MAX_LENGTH={MAX_MESSAGE_LENGTH:1024,MAX_STACK_LENGTH:2048,MAX_CLASSNAME_LENGTH:1024,MAX_EXCEPTION_NAME_LENGTH:1024};b.CLICK_KEY_MAX_LENGTH=
1024;b.CLICK_DEBOUNCING_DELAY=300;b.CLICK_MAX_DEPTH=16;b.MAX_NATIVE_SCAN=16;b.MAX_NATIVE_SCAN_LEGACY=8;b.PAGE_URL_QUERY_PARAMS="pgq";b.V2A_CUSTOM_EVENTS=["c3.video.custom_event","c3.sdk.custom_event","c3.ad.custom_event"]})(J||(J={}));var Zb;"function"===typeof AbortController&&(Zb=new AbortController);var cb=null===Zb||void 0===Zb?void 0:Zb.signal,Ca;(function(b){b.response_body="rsb";b.request_body="rqb";b.response_headers="rsh";b.request_headers="rqh";b.request_query="rqq"})(Ca||(Ca={}));var Od=
10240,Hf=function(b){try{var a=void 0;"undefined"!=typeof b&&null!==b&&(a=b["content-type"]||b["Content-Type"]||b["Content-type"]);return a}catch(c){}},La={},Ad;(function(b){b.APPLICATION_BACKGROUND="abg";b.APPLICATION_ERROR="ae";b.WEBVITALS_LCP="conviva_webvitals_lcp";b.WEBVITALS_CLS="conviva_webvitals_cls";b.WEBVITALS_INP="conviva_webvitals_inp"})(Ad||(Ad={}));var xa={cacheRefreshInterval:30,base64:!1,lifecycleAutotracking:!0,exceptionAutotracking:!0,enablePeriodicHeartbeat:!0,periodicHeartbeatInterval:40,
customEventTrackingConfiguration:{enabled:!0},softNavigationTrackingConfiguration:{enabled:!1,idleWindowMs:600,maxMeasurementMs:1E4,includeHashChanges:!1,domainAllowlist:[],domainBlocklist:["sdk.fra-01.braze.eu","tr.snapchat.com","analytics.google.com","ams.creativecdn.com","analytics.tiktok.com"]},networkRequestTrackingConfiguration:{eventCollectionMode:J.NETWORK_REQUEST_EVENT_COLLECTION_MODE.BOTH,blocklist:["*"]},traceparentconfig:{enabled:!1,pref:J.CONFIG_PREFERENCES.MERGE,targetUrl:[]},baggageConfiguration:{enabled:!1,
targetUrl:[],attributeExtraction:[]},performanceContextConfig:1,configurationVersion:-1,catRcLastUpdatedTs:0,endpoint:J.DEFAULT_END_POINT,applicationContext:!0,maxLocalStorageQueueSize:10,emitterConfiguration:{batching:{enabled:!0,byteLimitPostInKB:250,batchingIntervalInSec:5,urgentEvents:[Ad.APPLICATION_BACKGROUND,Ad.APPLICATION_ERROR,Ad.WEBVITALS_LCP,Ad.WEBVITALS_CLS,Ad.WEBVITALS_INP]}},enc:"gzip",mend:!0,di:{en:!1,lim:30},clickcc:{en:!0,cssSelectorList:'\n  [role="button"],\n  [data-role="button"],\n  li,\n  [class^="btn"],\n  [class*="click"],\n  [data-click],\n  [data-action],\n  [tabindex]:not([tabindex="-1"]),\n  [onclick],\n  [role="datepicker"],\n  [class*="datepicker"],\n  [class*="date-picker"],\n  [class*="mat-datepicker"],\n  [class*="ant-picker"],\n  [class*="v-date-picker"],\n  [class*="react-datepicker"],\n  [class*="ngx-datepicker"],\n  [data-ng-click],\n  [ng-click],\n  [v-on\\:click],\n  [\\@click],\n  [data-test-id*="click"],\n  [data-testid*="button"],\n  [class*="-btn"],\n  [class*="-button"],\n  [class*="mat-button"],\n  [class*="v-btn"],\n  [class*="v-icon-button"],\n  [data-listener-count-click],\n  [class*="Button"]\n',
uiMode:"closest"},collectionRateLimit:{exceptionAutotracking:{maxEvents:20,timeWindow:1E3,disconnectDuration:2E3}},evtStreamTrackingConfiguration:{enabled:!1,collect:[],block:[],conditionalCollectAttr:[],richContentInference:{cond:[]}},valueProbes:{enabled:!1,probes:[]},webVitals:{enabled:!1,collectattr:[]}},Lr="cws.conviva.com rcg.conviva.com /wsg /ctp remote_config pings.conviva.com .m3u8 .mpd .ism .m4 .mp4 .ts .png .jpg .jpeg .bmp google-analytics.com googlesyndication.com googleapis stats.g.doubleclick chartbeat.com omtrdc.net app-measurement.com firebase nr-data.net newrelic bitmovin.com/impression bitmovin.com/analytics api.segment.io youbora hotjar mixpanel.com clevertap auryc .aac .vtt .googlevideo webp appsflyer facebook dynatrace mparticle npaw .pdf bookkeeper kochava mp3 marketingcloudapis demdex scorecardresearch lura.live perimeterx.net permutive.app segment.com vaicore.site boomtrain ketchcdn qualtrics .svg amplitude datadoghq branch.io hotjar splunkcloud".split(" "),
fc;(function(b){b.NONE="none";b.GZIP="gzip"})(fc||(fc={}));var Ta,Mr=function(b){var a={};b.trim().split(/[\r\n]+/).forEach(function(c){c=c.split(":");var d=c[1];a[c[0].trim()]=null===d||void 0===d?void 0:d.trim()});return a},Oi=function(b){var a={};b.forEach(function(c,d){a[d]=c});return a},yp="/ctp /wsg remote_config rc.conviva.com pings.conviva.com rcg.conviva.com".split(" "),Vb;(function(b){b[b.NETWORK_REQUEST=0]="NETWORK_REQUEST";b[b.CUSTOM_EVENT=1]="CUSTOM_EVENT";b[b.SSE_EVENT=2]="SSE_EVENT"})(Vb||
(Vb={}));var rh=0,vk=0,bb=J.CONFIG_SOURCE.DEFAULT,db=0,Pi,Qi,Ri,Ie=!1,Xc=null,Ma,sh=null,Kf=0,xk='\n  button,\n  a,\n  select,\n  textarea,\n  input:not([type="hidden"]),\n  summary,\n  video,\n  audio\n'.replace(/\s+/g,"")||"",Ep='\n[class*="card"]\n'.replace(/\s+/g,"")||"",dn="undefined"!==typeof window&&(null===window||void 0===window?0:window.localStorage)?localStorage.getItem(J.REMOTE_CONFIG_STORAGE_KEY):null,Wc=dn?null===(Qi=null===(Pi=JSON.parse(dn).clickcc)||void 0===Pi?void 0:Pi.cssSelectorList)||
void 0===Qi?void 0:Qi.replace(/\s+/g,""):null===(Ri=xa.clickcc)||void 0===Ri?void 0:Ri.cssSelectorList,He;(function(b){b.BOTH="both";b.CLOSEST="closest";b.RAW="raw"})(He||(He={}));"undefined"!=typeof Element&&Element.prototype&&!Element.prototype.closest&&(Element.prototype.closest=function(b){try{for(var a=this;a;){if(a.matches(b))return a;a=a.parentElement}}catch(c){va.warn("Conviva App Tracker caused Exception in closest polyfill method of user click tracking module",c)}return null});var Nr=function(){return function(b){this.cacheRefreshInterval=
b.cacheRefreshInterval;this.base64=b.base64;this.corePlugins=b.corePlugins;this.callback=b.callback;this.lifecycleAutotracking=b.lifecycleAutotracking;this.exceptionAutotracking=b.exceptionAutotracking;this.enablePeriodicHeartbeat=b.enablePeriodicHeartbeat;this.periodicHeartbeatInterval=b.periodicHeartbeatInterval;this.enc=b.enc;this.maxLocalStorageQueueSize=b.maxLocalStorageQueueSize;this.maxPostBytes=b.maxPostBytes;this.maxGetBytes=b.maxGetBytes;this.bufferSize=b.bufferSize;this.customEventTrackingConfiguration=
b.customEventTrackingConfiguration;this.softNavigationTrackingConfiguration=b.softNavigationTrackingConfiguration;this.networkRequestTrackingConfiguration=b.networkRequestTrackingConfiguration;this.traceparentconfig=b.traceparentconfig;this.baggageConfiguration=b.baggageConfiguration;this.metaTagsTrackingConfiguration=b.metaTagsTrackingConfiguration;this.performanceContextConfig=b.performanceContextConfig;this.mend=b.mend;this.configurationVersion=b.configurationVersion;this.catRcLastUpdatedTs=b.catRcLastUpdatedTs;
this.endpoint=b.endpoint;this.emitterConfiguration=b.emitterConfiguration;this.controlIngestConfig=b.controlIngestConfig;this.applicationContext=b.applicationContext;this.di=b.di;this.clickcc=b.clickcc;this.collectionRateLimit=b.collectionRateLimit;this.pageUrlTrackingConfig=b.pageUrlTrackingConfig;this.sessionReplayConfiguration=b.sessionReplayConfiguration;this.evtStreamTrackingConfiguration=b.evtStreamTrackingConfiguration;this.valueProbes=b.valueProbes;this.webVitals=b.webVitals}}(),en=function(){function b(){this.cacheRefreshInterval=
xa.cacheRefreshInterval;this.base64=xa.base64;this.lifecycleAutotracking=xa.lifecycleAutotracking;this.exceptionAutotracking=xa.exceptionAutotracking;this.enablePeriodicHeartbeat=xa.enablePeriodicHeartbeat;this.periodicHeartbeatInterval=xa.periodicHeartbeatInterval;this.customEventTrackingConfiguration=W({},xa.customEventTrackingConfiguration);this.softNavigationTrackingConfiguration=W({},xa.softNavigationTrackingConfiguration);this.networkRequestTrackingConfiguration=W({},xa.networkRequestTrackingConfiguration);
this.traceparentconfig=W({},xa.traceparentconfig);this.baggageConfiguration=W({},xa.baggageConfiguration);this.performanceContextConfig=xa.performanceContextConfig;this.configurationVersion=xa.configurationVersion;this.catRcLastUpdatedTs=xa.catRcLastUpdatedTs;this.endpoint=xa.endpoint;this.emitterConfiguration=xa.emitterConfiguration;this.applicationContext=xa.applicationContext;this.enc=xa.enc;this.mend=xa.mend;this.di=W({},xa.di);this.clickcc=W({},xa.clickcc);this.collectionRateLimit=W({},xa.collectionRateLimit);
this.evtStreamTrackingConfiguration=W({},xa.evtStreamTrackingConfiguration);this.valueProbes=W({},xa.valueProbes);this.webVitals=W({},xa.webVitals)}b.prototype.setCacheRefreshInterval=function(a){this.cacheRefreshInterval="number"===typeof a&&1<=a?Ee(a)?a:xa.cacheRefreshInterval:xa.cacheRefreshInterval;return this};b.prototype.setBase64=function(a){"boolean"===typeof a&&(this.base64=a);return this};b.prototype.setCorePlugins=function(a){a&&(this.corePlugins=a);return this};b.prototype.setCallback=
function(a){a&&(this.callback=a);return this};b.prototype.setLifecycleAutotracking=function(a){"boolean"===typeof a&&(this.lifecycleAutotracking=a);return this};b.prototype.setExceptionAutotracking=function(a){"boolean"===typeof a&&(this.exceptionAutotracking=a);return this};b.prototype.setEnablePeriodicHeartbeat=function(a){"boolean"===typeof a&&(this.enablePeriodicHeartbeat=a);return this};b.prototype.setPeriodicHeartbeatInterval=function(a){"number"===typeof a&&1<=a&&(this.periodicHeartbeatInterval=
~~a);return this};b.prototype.setEnc=function(a,c){"string"===typeof a&&Object.values(fc).includes(a)?this.enc=a:c&&"string"===typeof c&&Object.values(fc).includes(c)?this.enc=c:this.enc=xa.enc;return this};b.prototype.setMaxLocalStorageQueueSize=function(a){"number"===typeof a&&(this.maxLocalStorageQueueSize=a);return this};b.prototype.setMaxGetBytes=function(a){"number"===typeof a&&(this.maxGetBytes=a);return this};b.prototype.setBufferSize=function(a){"number"===typeof a&&(this.bufferSize=a);return this};
b.prototype.setCustomEventTrackingConfiguration=function(a){a&&(this.customEventTrackingConfiguration=a);return this};b.prototype.setSoftNavigationTrackingConfiguration=function(a){a&&(this.softNavigationTrackingConfiguration=a);return this};b.prototype.setEmitterConfiguration=function(a){"undefined"!=typeof a&&("undefined"!=typeof a.batching.enabled&&(this.emitterConfiguration.batching.enabled=a.batching.enabled),"undefined"!=typeof a.batching.batchingIntervalInSec&&0<a.batching.batchingIntervalInSec&&
(this.emitterConfiguration.batching.batchingIntervalInSec=a.batching.batchingIntervalInSec),"undefined"!=a.batching.byteLimitPostInKB&&0<a.batching.byteLimitPostInKB&&(this.emitterConfiguration.batching.byteLimitPostInKB=a.batching.byteLimitPostInKB),"undefined"!=typeof a.batching.urgentEvents&&(this.emitterConfiguration.batching.urgentEvents=a.batching.urgentEvents));return this};b.prototype.setNetworkRequestTrackingConfiguration=function(a,c,d){a&&(this.networkRequestTrackingConfiguration=a,this.networkRequestTrackingConfiguration.eventCollectionMode||
(this.networkRequestTrackingConfiguration.eventCollectionMode=xa.networkRequestTrackingConfiguration.eventCollectionMode),c&&(this.networkRequestTrackingConfiguration.blocklist||(this.networkRequestTrackingConfiguration.blocklist=[]),d&&this.networkRequestTrackingConfiguration.blocklist.push(d),this.networkRequestTrackingConfiguration.blocklist=this.networkRequestTrackingConfiguration.blocklist.concat(Lr)));return this};b.prototype.setTraceparentconfig=function(a){a&&(this.traceparentconfig=a);return this};
b.prototype.setBaggageConfiguration=function(a){"undefined"!==typeof a&&null!==a&&("boolean"===typeof a.enabled&&(this.baggageConfiguration.enabled=a.enabled),"undefined"!==typeof a.targetUrl&&(this.baggageConfiguration.targetUrl=a.targetUrl),"undefined"!==typeof a.attributeExtraction&&(this.baggageConfiguration.attributeExtraction=a.attributeExtraction));return this};b.prototype.setMetaTagsTrackingConfiguration=function(a){a&&(this.metaTagsTrackingConfiguration=a);return this};b.prototype.setPerformanceContextConfig=
function(a){"number"===typeof a&&(this.performanceContextConfig=a);return this};b.prototype.setMend=function(a,c){"boolean"===typeof a?this.mend=a:"boolean"===typeof c&&(this.mend=c);return this};b.prototype.setConfigurationVersion=function(a){"number"===typeof a&&(this.configurationVersion=a);return this};b.prototype.setCatRcLastUpdatedTs=function(a){"number"===typeof a&&(this.catRcLastUpdatedTs=a);return this};b.prototype.setEndPoint=function(a,c,d){"string"===typeof d&&0<d.trim().length?this.endpoint=
d:"string"===typeof a&&0<a.trim().length?this.endpoint=a:c&&"string"===typeof c&&0<c.trim().length?this.endpoint=c:this.endpoint=xa.endpoint;return this};b.prototype.setcontrolIngestConfig=function(a){"undefined"!==typeof a?this.controlIngestConfig=a:Ff();return this};b.prototype.setApplicationContext=function(a){"undefined"!=typeof a&&(this.applicationContext=a);return this};b.prototype.setDi=function(a){"undefined"!=typeof a&&(this.di=W(W({},this.di),a));return this};b.prototype.setClickcc=function(a){var c,
d;"undefined"!=typeof a&&("boolean"===typeof a.en&&(this.clickcc.en=a.en),a.cssSelectorList&&0<a.cssSelectorList.trim().length&&(this.clickcc.cssSelectorList=a.cssSelectorList),"string"===typeof a.uiMode&&Object.values(He).includes(a.uiMode)&&(this.clickcc.uiMode=a.uiMode),"undefined"!==typeof a.block&&(this.clickcc.block=a.block),"undefined"!==typeof a.collect&&(this.clickcc.collect=a.collect),"undefined"!==typeof a.collectattr&&(this.clickcc.collectattr=a.collectattr));"boolean"===typeof(null===
(c=null===this||void 0===this?void 0:this.clickcc)||void 0===c?void 0:c.en)&&!0===(null===(d=null===this||void 0===this?void 0:this.clickcc)||void 0===d?void 0:d.en)?Ip():Ak();return this};b.prototype.setCollectionRateLimit=function(a){"undefined"!=typeof a&&null!==a&&(this.collectionRateLimit=W(W({},this.collectionRateLimit),a));return this};b.prototype.setPageUrlTrackingConfig=function(a){this.pageUrlTrackingConfig="undefined"!==typeof a?a:null;return this};b.prototype.setSessionReplayConfiguration=
function(a){this.sessionReplayConfiguration="undefined"!==typeof a?a:null;return this};b.prototype.setValueProbes=function(a){var c,d;this.valueProbes="undefined"!==typeof a?W(W({},a),{enabled:null!==(c=null===a||void 0===a?void 0:a.enabled)&&void 0!==c?c:!1,probes:null!==(d=null===a||void 0===a?void 0:a.probes)&&void 0!==d?d:[]}):W({},xa.valueProbes);return this};b.prototype.setWebVitals=function(a){var c,d;this.webVitals="undefined"!==typeof a?W(W({},a),{enabled:null!==(c=null===a||void 0===a?void 0:
a.enabled)&&void 0!==c?c:!1,collectattr:null!==(d=null===a||void 0===a?void 0:a.collectattr)&&void 0!==d?d:[]}):W({},xa.webVitals);return this};b.prototype.setEvtStreamTrackingConfiguration=function(a){"undefined"!==typeof a&&("boolean"===typeof a.enabled&&(this.evtStreamTrackingConfiguration.enabled=a.enabled),"undefined"!==typeof a.block&&(this.evtStreamTrackingConfiguration.block=a.block),"undefined"!==typeof a.collect&&(this.evtStreamTrackingConfiguration.collect=a.collect),"undefined"!==typeof a.conditionalCollectAttr&&
(this.evtStreamTrackingConfiguration.conditionalCollectAttr=a.conditionalCollectAttr),"undefined"!==typeof a.richContentInference&&(this.evtStreamTrackingConfiguration.richContentInference=a.richContentInference),"undefined"!==typeof a.bufferMaxBytes&&(this.evtStreamTrackingConfiguration.bufferMaxBytes=a.bufferMaxBytes));return this};b.prototype.build=function(){return new Nr(this)};return b}(),ie=!1,Ue=null,je=0,Kb,Ag=!1,da,lq=function(b,a,c){var d,e,f,g,h={},k={},l;if("undefined"!=typeof window&&
(null===window||void 0===window?0:window.localStorage))try{localStorage.removeItem(J.END_POINT_STORAGE_KEY),(l=localStorage.getItem(J.REMOTE_CONFIG_STORAGE_KEY))?bb=J.CONFIG_SOURCE.CACHED:l=JSON.stringify(k)}catch(t){l=JSON.stringify(k);Ag=!0;var p={className:"fetchRemoteConfig - localstorage",error:t,configAppliedSrc:bb,configAppliedTime:db};setTimeout(function(){gb(Ta,null===da||void 0===da?void 0:da.getSamplingMode,p)},0);va.warn("Issue while fetching data from local storage")}else l=JSON.stringify(k);
try{h=JSON.parse(l)}catch(t){Ag=!0;var m={className:"fetchRemoteConfig - parsing cached data",error:t,configAppliedSrc:bb,configAppliedTime:db};setTimeout(function(){gb(Ta,null===da||void 0===da?void 0:da.getSamplingMode,m)},0);va.warn("Issue while parsing storedConvivaRemoteConfig")}k=(new en).setBase64(null===h||void 0===h?void 0:h.base64).setCacheRefreshInterval(null===h||void 0===h?void 0:h.cacheRefreshInterval).setLifecycleAutotracking(null===h||void 0===h?void 0:h.lifecycleAutotracking).setExceptionAutotracking(null===
h||void 0===h?void 0:h.exceptionAutotracking).setEnablePeriodicHeartbeat(null===h||void 0===h?void 0:h.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null===h||void 0===h?void 0:h.periodicHeartbeatInterval).setEnc(null===h||void 0===h?void 0:h.enc,null===(e=null===(d=null===c||void 0===c?void 0:c.configs)||void 0===d?void 0:d.network)||void 0===e?void 0:e.encoding).setMaxLocalStorageQueueSize(null===h||void 0===h?void 0:h.maxLocalStorageQueueSize).setMaxGetBytes(null===h||void 0===h?void 0:
h.maxGetBytes).setBufferSize(null===h||void 0===h?void 0:h.bufferSize).setCustomEventTrackingConfiguration(null===h||void 0===h?void 0:h.customEventTrackingConfiguration).setSoftNavigationTrackingConfiguration(null===h||void 0===h?void 0:h.softNavigationTrackingConfiguration).setEndPoint(null===h||void 0===h?void 0:h.endpoint,c.gatewayUrl,c.proxyGatewayUrl).setNetworkRequestTrackingConfiguration(null===h||void 0===h?void 0:h.networkRequestTrackingConfiguration,!1).setMetaTagsTrackingConfiguration(null===
h||void 0===h?void 0:h.metaTagsTrackingConfiguration).setTraceparentconfig(null===h||void 0===h?void 0:h.traceparentconfig).setBaggageConfiguration(null===h||void 0===h?void 0:h.baggageConfiguration).setMend(null===h||void 0===h?void 0:h.mend,null===(g=null===(f=null===c||void 0===c?void 0:c.configs)||void 0===f?void 0:f.network)||void 0===g?void 0:g.mergeEndpoint).setPerformanceContextConfig(null===h||void 0===h?void 0:h.performanceContextConfig).setConfigurationVersion(null===h||void 0===h?void 0:
h.configurationVersion).setCatRcLastUpdatedTs(null===h||void 0===h?void 0:h.catRcLastUpdatedTs).setEmitterConfiguration(null===h||void 0===h?void 0:h.emitterConfiguration).setcontrolIngestConfig(null===h||void 0===h?void 0:h.controlIngestConfig).setApplicationContext(null===h||void 0===h?void 0:h.applicationContext).setDi(null===h||void 0===h?void 0:h.di).setClickcc(null===h||void 0===h?void 0:h.clickcc).setCollectionRateLimit(null===h||void 0===h?void 0:h.collectionRateLimit).setPageUrlTrackingConfig(null===
h||void 0===h?void 0:h.pageUrlTrackingConfig).setSessionReplayConfiguration(null===h||void 0===h?void 0:h.sessionReplayConfiguration).setEvtStreamTrackingConfiguration(null===h||void 0===h?void 0:h.evtStreamTrackingConfiguration).setValueProbes(null===h||void 0===h?void 0:h.valueProbes).setWebVitals(null===h||void 0===h?void 0:h.webVitals).build();d="Cached Config Applied";bb===J.CONFIG_SOURCE.DEFAULT&&(d="Default Config Applied");db=(new Date).getTime();var n={message:d,className:"browserTrackerCore",
configAppliedSrc:bb,configAppliedTime:db};setTimeout(function(){gb(Ta,null===da||void 0===da?void 0:da.getSamplingMode,n)},0);b=b.split("js-")[1].split(" ")[0];var q=(c.proxyGatewayUrl?c.proxyGatewayUrl+"/js/":J.REMOTE_CONFIG_URL_PREFIX)+c.convivaCustomerKey+"/"+b+J.REMOTE_CONFIG_FILE_NAME;window.XMLHttpRequest&&(Kb=new XMLHttpRequest,Kb.onreadystatechange=function(){var t;try{if(4==Kb.readyState)if(ie=!1,200==Kb.status){var r={message:"Remote config request is successful - ".concat("number"==typeof Kb.status?
Kb.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:bb,configAppliedTime:db};gb(Ta,null===da||void 0===da?void 0:da.getSamplingMode,r);je=0;var v=JSON.parse(Kb.response);r=Ta;if((null===v||void 0===v?void 0:v.configurationBundle[0].namespace)!==a)gb(Ta,null===da||void 0===da?void 0:da.getSamplingMode,{message:"Remote Config not Applied due to a missing namespace",className:"updateRemoteConfig",configAppliedSrc:bb,configAppliedTime:db});else{if(!v.hasOwnProperty("configurationVersion")||
(null===(t=r.getConfig())||void 0===t?void 0:t.configurationVersion)===(null===v||void 0===v?void 0:v.configurationVersion)){var w=localStorage.getItem(J.REMOTE_CONFIG_STORAGE_KEY);if(w){w=JSON.parse(w);w.catRcLastUpdatedTs=(new Date).getTime();window.localStorage&&(localStorage.removeItem(J.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(J.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(w)));gb(Ta,null===da||void 0===da?void 0:da.getSamplingMode,{message:"Remote Config not Applied as same version is fetched",
className:"updateRemoteConfig",configAppliedSrc:bb,configAppliedTime:db});return}}k.catRcLastUpdatedTs=(new Date).getTime();var x=v.cri||v.cacheRefreshInterval||xa.cacheRefreshInterval;x=1>x?xa.cacheRefreshInterval:Ee(x)?x:xa.cacheRefreshInterval;k.cacheRefreshInterval!=x&&(k.cacheRefreshInterval=x,fn(k.cacheRefreshInterval,k.catRcLastUpdatedTs,c,q,J.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER));if(Or(v,k.catRcLastUpdatedTs,c)){var C=new Event("RemoteConfigUpdateApplied");(null===window||void 0===window?
0:window.dispatchEvent)&&window.dispatchEvent(C)}}}else try{2>je&&window.setTimeout(function(){(null===c||void 0===c?0:c.trackerConfigUrl)?ke(null===c||void 0===c?void 0:c.trackerConfigUrl,!0):ke(q,!0)},5E3*(je+1));var E={message:"Remote config request is not successful - ".concat("number"==typeof Kb.status?Kb.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:bb,configAppliedTime:db};gb(Ta,null===da||void 0===da?void 0:da.getSamplingMode,E);2<=je&&gb(Ta,null===da||void 0===
da?void 0:da.getSamplingMode,{message:"Remote config is not applied since failed to download remote config after 3 tries",className:"configtimerCallback - onreadystatechange",configAppliedSrc:bb,configAppliedTime:db})}catch(H){}}catch(H){ie=!1,console.warn("Conviva App Tracker:: Error in fetching remote-config ".concat(H)),gb(Ta,null===da||void 0===da?void 0:da.getSamplingMode,{className:"configtimerCallback - onreadystatechange",error:H,configAppliedSrc:bb,configAppliedTime:db})}},fn(k.cacheRefreshInterval,
k.catRcLastUpdatedTs,c,q,"undefined"!=typeof Ag&&!0===Ag?J.RC_FETCH_MODE.IMMEDIATE_FETCH:J.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF));return{convivaRemoteTrackerConfig:k}},fn=function(b,a,c,d,e){var f=c.trackerConfigUrl?c.trackerConfigUrl:d;if("number"===typeof Ue){window.clearInterval(Ue);var g={message:"Cancelling remote config timer",className:"updateRemoteConfig",extraData:{mode:e},configAppliedSrc:bb,configAppliedTime:db};setTimeout(function(){gb(Ta,null===da||void 0===da?void 0:da.getSamplingMode,
g)},0)}var h=function(){var m={message:"Starting remote config timer with delay of ".concat(60*b," seconds"),className:"updateRemoteConfig",configAppliedSrc:bb,configAppliedTime:db};setTimeout(function(){gb(Ta,null===da||void 0===da?void 0:da.getSamplingMode,m)},0);Ue=window.setInterval(ke,6E4*b,f)};try{var k=a?((new Date).getTime()-a)/6E4:b;c=b-k;d=3*b/100;if("string"==typeof e&&e===J.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)h();else if("string"==typeof e&&e===J.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF&&
0<a&&c>d){window.setTimeout(function(){ke(f);h()},6E4*c);var l={message:"Starting remote config timer with delay of ".concat(60*c," seconds"),className:"updateRemoteConfig",extraData:{mode:e},configAppliedSrc:bb,configAppliedTime:db};setTimeout(function(){gb(Ta,null===da||void 0===da?void 0:da.getSamplingMode,l)},0)}else ke(f),h()}catch(m){console.warn("Conviva App Tracker:: Error in setting cacheRefreshIntervalTimer",m);ke(f);h();var p={className:"cacheRefreshIntervalTimer",error:m,configAppliedSrc:bb,
configAppliedTime:db};setTimeout(function(){gb(Ta,null===da||void 0===da?void 0:da.getSamplingMode,p)},0)}},ke=function(b,a){try{if("boolean"===typeof ie&&!1===ie){a?je++:je=0;Kb.timeout=3E4;Kb.open("GET",b,!0);ie=!0;var c={message:"Remote config fetch attempt",className:"updateRemoteConfig",configAppliedSrc:bb,configAppliedTime:db};setTimeout(function(){gb(Ta,null===da||void 0===da?void 0:da.getSamplingMode,c)},0);Kb.send()}}catch(e){ie=!1;va.warn("Conviva App Tracker:: Error in configtimerCallback ".concat(e));
var d={className:"configtimerCallback",error:e,configAppliedSrc:bb,configAppliedTime:db};setTimeout(function(){gb(Ta,null===da||void 0===da?void 0:da.getSamplingMode,d)},0)}},Or=function(b,a,c){var d,e,f,g,h,k,l,p,m,n,q,t,r,v,w,x,C,E,H,D,B,I,L,V,R,U,N,y,F,A,O,K,ca,ea,ba,ta=Ta;try{var P=(new en).setBase64(b.configurationBundle[0].trackerConfiguration.base64Encoding).setCacheRefreshInterval(b.cri||b.cacheRefreshInterval).setLifecycleAutotracking(null===(e=null===(d=b.configurationBundle[0])||void 0===
d?void 0:d.trackerConfiguration)||void 0===e?void 0:e.lifecycleAutotracking).setExceptionAutotracking(null===(g=null===(f=b.configurationBundle[0])||void 0===f?void 0:f.trackerConfiguration)||void 0===g?void 0:g.exceptionAutotracking).setEnablePeriodicHeartbeat(null===(k=null===(h=b.configurationBundle[0])||void 0===h?void 0:h.trackerConfiguration)||void 0===k?void 0:k.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null===(p=null===(l=b.configurationBundle[0])||void 0===l?void 0:l.trackerConfiguration)||
void 0===p?void 0:p.periodicHeartbeatInterval).setEnc(null===(n=null===(m=b.configurationBundle[0])||void 0===m?void 0:m.networkConfiguration)||void 0===n?void 0:n.enc,null===(t=null===(q=null===c||void 0===c?void 0:c.configs)||void 0===q?void 0:q.network)||void 0===t?void 0:t.encoding).setMaxLocalStorageQueueSize(null===(v=null===(r=b.configurationBundle[0])||void 0===r?void 0:r.networkConfiguration)||void 0===v?void 0:v.maxLocalStorageQueueSize).setMaxGetBytes(null===(x=null===(w=b.configurationBundle[0])||
void 0===w?void 0:w.networkConfiguration)||void 0===x?void 0:x.maxGetBytes).setBufferSize(null===(E=null===(C=b.configurationBundle[0])||void 0===C?void 0:C.networkConfiguration)||void 0===E?void 0:E.bufferSize).setCustomEventTrackingConfiguration(null===(H=b.configurationBundle[0])||void 0===H?void 0:H.customEventTrackingConfiguration).setSoftNavigationTrackingConfiguration(null===(D=b.configurationBundle[0])||void 0===D?void 0:D.softNavigationTrackingConfiguration).setEndPoint(null===(I=null===
(B=b.configurationBundle[0])||void 0===B?void 0:B.networkConfiguration)||void 0===I?void 0:I.endpoint,c.gatewayUrl,c.proxyGatewayUrl).setNetworkRequestTrackingConfiguration(null===(L=b.configurationBundle[0])||void 0===L?void 0:L.networkRequestTrackingConfiguration,!0,null===(R=null===(V=b.configurationBundle[0])||void 0===V?void 0:V.networkConfiguration)||void 0===R?void 0:R.endpoint).setMetaTagsTrackingConfiguration(null===(U=b.configurationBundle[0])||void 0===U?void 0:U.metaTagsTrackingConfiguration).setTraceparentconfig(null===
(N=b.configurationBundle[0])||void 0===N?void 0:N.traceparentconfig).setBaggageConfiguration(null===(y=b.configurationBundle[0])||void 0===y?void 0:y.baggageConfiguration).setMend(null===(A=null===(F=b.configurationBundle[0])||void 0===F?void 0:F.networkConfiguration)||void 0===A?void 0:A.mend,null===(K=null===(O=null===c||void 0===c?void 0:c.configs)||void 0===O?void 0:O.network)||void 0===K?void 0:K.mergeEndpoint).setPerformanceContextConfig(null===(ea=null===(ca=b.configurationBundle[0])||void 0===
ca?void 0:ca.trackerConfiguration)||void 0===ea?void 0:ea.perfCx).setConfigurationVersion(b.configurationVersion).setCatRcLastUpdatedTs(a).setEmitterConfiguration(b.configurationBundle[0].emitterConfiguration).setcontrolIngestConfig(b["ctrl-ingst"]).setApplicationContext(b.configurationBundle[0].trackerConfiguration.applicationContext).setDi(b.configurationBundle[0].di).setClickcc(b.configurationBundle[0].clickcc).setCollectionRateLimit(b.configurationBundle[0].collectionRateLimit).setPageUrlTrackingConfig(b.configurationBundle[0].pageUrlTrackingConfig).setSessionReplayConfiguration(b.configurationBundle[0].sessionReplayConfiguration).setEvtStreamTrackingConfiguration(b.configurationBundle[0].evtStreamTrackingConfiguration).setValueProbes(b.configurationBundle[0].valueProbes).setWebVitals(b.configurationBundle[0].webVitals).build();
bb=J.CONFIG_SOURCE.REMOTE;db=(new Date).getTime();null===ta||void 0===ta?void 0:ta.setConfig(P);b={message:"Remote Config Applied",className:"updateRemoteConfig - tracker",configAppliedSrc:bb,configAppliedTime:db};gb(Ta,null===da||void 0===da?void 0:da.getSamplingMode,b);null===da||void 0===da?void 0:da.setCollectorUrl(null===(ba=null===ta||void 0===ta?void 0:ta.getConfig())||void 0===ba?void 0:ba.endpoint,c.convivaCustomerKey);try{window.localStorage&&(localStorage.removeItem(J.REMOTE_CONFIG_STORAGE_KEY),
localStorage.setItem(J.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(P)))}catch(wa){gb(Ta,null===da||void 0===da?void 0:da.getSamplingMode,{className:"updateRemoteConfig - localstorage",error:wa,configAppliedSrc:bb,configAppliedTime:db}),console.warn("Conviva: Error while saving remote-config to localstorage",wa)}}catch(wa){return b={className:"updateRemoteConfig - tracker",error:wa,configAppliedSrc:bb,configAppliedTime:db},gb(Ta,null===da||void 0===da?void 0:da.getSamplingMode,b),console.warn("Conviva: Error while updating remote-config",
wa),!1}return!0},Si={idleMs:3E4,maxEvents:1E4,bufferMaxBytes:1E6},Jk=function(){function b(a,c,d){var e;this.originalFetch=null===(e=null===window||void 0===window?void 0:window.fetch)||void 0===e?void 0:e.bind(window);this.sseCountStates=new Map;this.inflightRequests=0;this.core=Ta;this.trackerMethods=a;this.trackerConfiguration=c;this.getSamplingMode=d;this.handleResponse=this.handleResponse.bind(this);this.addTraceparentHeader=this.addTraceparentHeader.bind(this);this.addBaggageHeader=this.addBaggageHeader.bind(this)}
b.prototype.cleanupNetworkRequestHandler=function(){b.instance=null};b.getInstance=function(a,c,d){b.instance||(b.instance=new b(a,c,d));return b.instance};b.prototype.initiateNetworkRequestTracking=function(){try{this.decorateXMLHttpRequest(),this.decorateFetch(),this.decorateWebSocket(),this.decorateEventSource()}catch(a){console.warn("Conviva App Tracker:: Unable to track network request ".concat(a))}};b.prototype.decorateXMLHttpRequest=function(){var a=this,c=XMLHttpRequest.prototype.open,d=XMLHttpRequest.prototype.send,
e=XMLHttpRequest.prototype.setRequestHeader;XMLHttpRequest.prototype.open=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];try{this._conviva={method:f[0],url:a.normalizeUrl(f[1]),headers:{}}}catch(h){console.warn("Conviva App Tracker:: Unable to normalizeUrl while open ".concat(h))}return c.apply(this,f)};XMLHttpRequest.prototype.setRequestHeader=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];try{this._conviva&&(this._conviva.headers[f[0]]=f[1])}catch(h){console.warn("Conviva App Tracker:: while setRequestHeader ".concat(h))}return e.apply(this,
f)};XMLHttpRequest.prototype.send=function(){for(var f=this,g=[],h=0;h<arguments.length;h++)g[h]=arguments[h];try{var k=this._conviva;if(!k)return;var l=a.addTraceparentHeader(this,k.url,k.headers),p=a.addBaggageHeader(this,k.url,k.headers,k.method,g[0]),m=a.createRequestDetails(k.method,k.url,k.headers,g[0],l,p);h=cb;a.shouldTrackForSoftNavigation(m.url||"")&&a.incrementInflightRequests();this.addEventListener("load",function(){a.shouldTrackForSoftNavigation(m.url||"")&&a.decrementInflightRequests();
a.handleResponse(f,m,"load")},{signal:h});this.addEventListener("error",function(){a.shouldTrackForSoftNavigation(m.url||"")&&a.decrementInflightRequests();a.handleResponse(f,m,"error")},{signal:h});this.addEventListener("abort",function(){a.shouldTrackForSoftNavigation(m.url||"")&&a.decrementInflightRequests();a.handleResponse(f,m,"abort")},{signal:h});this.addEventListener("timeout",function(){a.shouldTrackForSoftNavigation(m.url||"")&&a.decrementInflightRequests();a.handleResponse(f,m,"timeout")},
{signal:h})}catch(n){console.warn("Conviva App Tracker:: Unable to track network request while send ".concat(n))}return d.apply(this,g)}};b.prototype.decorateFetch=function(){window.fetch=this.interceptFetch.bind(this)};b.prototype.interceptFetch=function(a,c){var d,e,f,g,h,k,l,p,m;return Qc(this,void 0,void 0,function(){var n,q,t,r,v,w,x,C,E,H,D,B,I,L,V,R,U,N,y,F,A,O,K,ca,ea,ba=this;return Rc(this,function(ta){switch(ta.label){case 0:r=t=null;w=this;if(!(a instanceof Request))return[3,5];q=null===
a||void 0===a?void 0:a.clone();try{x=!1,null===(d=null===q||void 0===q?void 0:q.headers)||void 0===d?void 0:d.forEach(function(P,wa){J.TRACEPARENT_HEADER_KEY===wa&&(x=!0)}),x||(t=this.generateTraceparentHeader(q.url),null!==t&&""!==t&&a.headers.set(J.TRACEPARENT_HEADER_KEY,t)),C=!1,null===(e=null===q||void 0===q?void 0:q.headers)||void 0===e?void 0:e.forEach(function(P,wa){J.BAGGAGE_HEADER_KEY===wa&&(C=!0)}),C||(E={},q.headers.forEach(function(P,wa){E[wa]=P}),H={method:q.method,url:q.url,headers:E,
body:void 0},r=this.generateBaggageHeader(q.url,H),null!==r&&""!==r&&a.headers.set(J.BAGGAGE_HEADER_KEY,r))}catch(P){console.warn("ConvivaAppTracker: Issue while adding traceparent header",P)}n=this.originalFetch(a);ta.label=1;case 1:return ta.trys.push([1,3,,4]),[4,q.text()];case 2:return v=ta.sent(),[3,4];case 3:return ta.sent(),[3,4];case 4:return[3,6];case 5:try{if(c&&c.headers){if(D=w.core.getConfig(),(null===(f=null===D||void 0===D?void 0:D.traceparentconfig)||void 0===f?0:f.enabled)||(null===
(g=null===D||void 0===D?void 0:D.baggageConfiguration)||void 0===g?0:g.enabled))I=(B=c.headers instanceof Headers)?new Headers(c.headers):c.headers,L=!1,B?I.forEach(function(P,wa){J.TRACEPARENT_HEADER_KEY===wa&&(L=!0)}):Object.keys(I).forEach(function(P){J.TRACEPARENT_HEADER_KEY===P&&(L=!0)}),L||(t=this.generateTraceparentHeader(a),null!==t&&""!==t&&(B?I.set(J.TRACEPARENT_HEADER_KEY,t):I[J.TRACEPARENT_HEADER_KEY]=t)),V=!1,B?I.forEach(function(P,wa){J.BAGGAGE_HEADER_KEY===wa&&(V=!0)}):Object.keys(I).forEach(function(P){J.BAGGAGE_HEADER_KEY===
P&&(V=!0)}),V||(R={},B?I.forEach(function(P,wa){R[wa]=P}):R=I,H={method:(null===c||void 0===c?void 0:c.method)||"GET",url:a,headers:R,body:null===c||void 0===c?void 0:c.body},r=this.generateBaggageHeader(a,H),null!==r&&""!==r&&(B?I.set(J.BAGGAGE_HEADER_KEY,r):I[J.BAGGAGE_HEADER_KEY]=r)),c.headers=I}else if(D=w.core.getConfig(),(null===(h=null===D||void 0===D?void 0:D.traceparentconfig)||void 0===h?0:h.enabled)||(null===(k=null===D||void 0===D?void 0:D.baggageConfiguration)||void 0===k?0:k.enabled))I=
new Headers,t=this.generateTraceparentHeader(a),null!==t&&""!==t&&I.set(J.TRACEPARENT_HEADER_KEY,t),H={method:(null===c||void 0===c?void 0:c.method)||"GET",url:a,headers:{},body:null===c||void 0===c?void 0:c.body},r=this.generateBaggageHeader(a,H),null!==r&&""!==r&&I.set(J.BAGGAGE_HEADER_KEY,r),c||(c={}),c.headers=I}catch(P){console.warn("ConvivaAppTracker: Issue while adding traceparent header",P)}n=this.originalFetch(a,c);q=(new Request(a,c)).clone();v=null===c||void 0===c?void 0:c.body;ta.label=
6;case 6:try{U=void 0;try{U=Oi(q.headers)}catch(P){}N={method:q.method,url:decodeURIComponent(q.url),headers:U,body:v,requestTimestamp:null===Date||void 0===Date?void 0:Date.now(),requestTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};this.shouldTrackForSoftNavigation(q.url)&&this.incrementInflightRequests();this.getSamplingMode()!==J.SAMPLING_MODES.NONE&&(y=this.core.getConfig().networkRequestTrackingConfiguration,F=this.core.getConfig().evtStreamTrackingConfiguration,
A=y.blocklist,O=null===(m=null===(p=null===(l=this.trackerConfiguration)||void 0===l?void 0:l.configs)||void 0===p?void 0:p.networkRequestTracking)||void 0===m?void 0:m.safelist,K=y.collect,ca=y.block,ea=y.eventCollectionMode===J.NETWORK_REQUEST_EVENT_COLLECTION_MODE.AUTO||y.eventCollectionMode===J.NETWORK_REQUEST_EVENT_COLLECTION_MODE.BOTH,null!==t&&""!==t&&(N[J.TRACEPARENT_HEADER_KEY]=t),null!==r&&""!==r&&(N[J.BAGGAGE_HEADER_KEY]=r),n.then(function(P){var wa,Q,Y;ba.shouldTrackForSoftNavigation(q.url)&&
ba.decrementInflightRequests();try{var ka=P.headers.get("content-type");if(F&&F.enabled&&ka&&ka.includes("text/event-stream")){var la=P.clone().body;if(la)Bk(la,q.url,/\r?\n\r?\n/,Jp,function(ua){ba.processStreamEvent(ua,q.url,"conviva_sse_message")},{idleMs:F.idleMs,maxEvents:F.maxEvents,bufferMaxBytes:F.bufferMaxBytes},function(){ba.cleanupSSECountState(q.url)})["catch"](function(){});else console.warn("Conviva App Tracker:: Response body is null, cannot read as stream")}else if(Lp(q.url,ba.trackerConfiguration)){if(Pd(K,
ca,A,O,P,N)){var pa=void 0;try{pa=Oi(P.headers)}catch(ua){}var Ea={status:null===P||void 0===P?void 0:P.status,statusText:""!==(null===P||void 0===P?void 0:P.statusText)?null===P||void 0===P?void 0:P.statusText:void 0,headers:pa,size:0,responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};ba.trackerMethods.trackNetworkRequest({requestDetails:N,responseDetails:Ea})}(la=
P.clone().body)?(ba.resetStreamCountState(q.url),Bk(la,q.url,null!==(Y=null===(Q=null===(wa=ba.trackerConfiguration.configs)||void 0===wa?void 0:wa.plainTextChunkTracking)||void 0===Q?void 0:Q.delimiter)&&void 0!==Y?Y:/\r?\n/,Kp,function(ua){ba.processStreamEvent(ua,q.url,"conviva_chunk_message")},{idleMs:F.idleMs,maxEvents:F.maxEvents,bufferMaxBytes:F.bufferMaxBytes},function(){ba.cleanupSSECountState(q.url)})["catch"](function(){})):console.warn("Conviva App Tracker:: Response body is null, cannot read as stream")}else if(y&&
y.enabled&&ea){var Sa=Pd(K,ca,A,O,P,N);if(Sa){pa=void 0;try{pa=Oi(P.headers)}catch(ua){}var Fa={status:null===P||void 0===P?void 0:P.status,statusText:""!==(null===P||void 0===P?void 0:P.statusText)?null===P||void 0===P?void 0:P.statusText:void 0,headers:pa,size:0,responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};P.clone().json().then(function(ua){Fa.body=
ua;ua=ba.core.getConfig().baggageConfiguration;(null===ua||void 0===ua?0:ua.enabled)&&Lf(N,Fa,ua,ba.core);ba.trackerMethods.trackNetworkRequest({requestDetails:N,responseDetails:Fa})})["catch"](function(){var ua=ba.core.getConfig().baggageConfiguration;(null===ua||void 0===ua?0:ua.enabled)&&Lf(N,Fa,ua,ba.core);ba.trackerMethods.trackNetworkRequest({requestDetails:N,responseDetails:Fa})})}}}catch(ua){Sa=Pd(K,ca,A,O,P,N),y&&y.enabled&&Sa&&ea&&(Ea={statusText:ua.toString(),responseTimestamp:null===Date||
void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},ba.trackerMethods.trackNetworkRequest({requestDetails:N,responseDetails:Ea}))}})["catch"](function(P){ba.shouldTrackForSoftNavigation(q.url)&&ba.decrementInflightRequests();var wa=Pd(K,ca,A,O,null,N);y&&y.enabled&&wa&&ea&&(P={statusText:P.toString(),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||
void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},ba.trackerMethods.trackNetworkRequest({requestDetails:N,responseDetails:P}))}))}catch(P){console.warn("Conviva App Tracker:: Unable to track network request while fetch interceptRequest ".concat(P))}return[2,n]}})})};b.prototype.handleResponse=function(a,c,d){var e,f,g,h;try{if(this.getSamplingMode()!==J.SAMPLING_MODES.NONE){var k=null===(e=this.core)||void 0===e?void 0:e.getConfig().networkRequestTrackingConfiguration,
l=k.blocklist,p=null===(h=null===(g=null===(f=this.trackerConfiguration)||void 0===f?void 0:f.configs)||void 0===g?void 0:g.networkRequestTracking)||void 0===h?void 0:h.safelist,m=Pd(k.collect,k.block,l,p,a,c),n=k.eventCollectionMode===J.NETWORK_REQUEST_EVENT_COLLECTION_MODE.AUTO||k.eventCollectionMode===J.NETWORK_REQUEST_EVENT_COLLECTION_MODE.BOTH;if(k&&k.enabled&&n&&m){var q={status:a.status,statusText:a.statusText||("load"!==d?d:void 0),responseTimestamp:Date.now(),responseTime:performance.now()||
Date.now(),headers:Mr(a.getAllResponseHeaders()),body:a.response},t=this.core.getConfig().baggageConfiguration;(null===t||void 0===t?0:t.enabled)&&Lf(c,q,t,this.core);this.trackerMethods.trackNetworkRequest({requestDetails:c,responseDetails:q})}}}catch(r){va.warn("Conviva App Tracker:: Unable to track network request error while handleResponse ".concat(r))}};b.prototype.decorateWebSocket=function(){function a(g){d?d.has(g)||(d.add(g),c.addWebSocketEventListeners(g)):g.__convivaWsTag__||(g.__convivaWsTag__=
!0,c.addWebSocketEventListeners(g))}var c=this,d="undefined"!==typeof WeakSet?new WeakSet:null,e=WebSocket.prototype.send;WebSocket.prototype.send=function(g){try{c.handleWebSocketSend(g,this),a(this)}catch(h){va.warn("Conviva WS tracking error:",h)}return e.apply(this,arguments)};var f=WebSocket;window.WebSocket=function(g,h){g=new f(g,h);a(g);return g};window.WebSocket.prototype=f.prototype;Object.assign(window.WebSocket,f)};b.prototype.decorateEventSource=function(){var a=this,c="undefined"!==
typeof WeakSet?new WeakSet:null,d=EventSource,e=d.prototype.close;window.EventSource=function(f,g){f=new d(f,g);c?c.has(f)||(c.add(f),a.addEventSourceEventListeners(f)):f.__convivaEventSourceTag__||(f.__convivaEventSourceTag__=!0,a.addEventSourceEventListeners(f));return f};d.prototype.close=function(){var f,g=null!==(f=null===this||void 0===this?void 0:this.url)&&void 0!==f?f:"unknown";a.handleEventSourceClose(g);return e.call(this)};window.EventSource.prototype=d.prototype;Object.setPrototypeOf(window.EventSource,
d)};b.prototype.addWebSocketEventListeners=function(a){var c=this,d=cb;a.addEventListener("message",function(e){return c.handleWebSocketMessage(e)},{signal:d});a.addEventListener("open",function(e){return c.handleWebSocketOpen(e)},{signal:d});a.addEventListener("close",function(e){return c.handleWebSocketClose(e)},{signal:d});a.addEventListener("error",function(e){return c.handleWebSocketError(e)},{signal:d})};b.prototype.addEventSourceEventListeners=function(a){var c=this,d=cb;a.addEventListener("message",
function(e){return c.handleEventSourceMessage(e)},{signal:d});a.addEventListener("open",function(e){return c.handleEventSourceOpen(e)},{signal:d});a.addEventListener("error",function(e){return c.handleEventSourceError(e)},{signal:d})};b.prototype.handleWebSocketOpen=function(a){try{var c={url:this.getWebSocketUrl(a.target),type:a.type,timestamp:Date.now()}}catch(d){c={data:a.data,url:a.target?this.getWebSocketUrl(a.target):void 0}}this.sendWebSocketEvent("open",c,{},!1)};b.prototype.handleWebSocketClose=
function(a){try{var c={url:this.getWebSocketUrl(a.target),type:a.type,code:a.code,reason:a.reason,wasClean:a.wasClean,timestamp:Date.now()}}catch(d){c={data:a.data,url:a.target?this.getWebSocketUrl(a.target):void 0}}this.sendWebSocketEvent("close",c,{},!1)};b.prototype.handleWebSocketMessage=function(a){var c,d,e=null===(c=this.core)||void 0===c?void 0:c.getConfig().evtStreamTrackingConfiguration;c=null!==(d=null===e||void 0===e?void 0:e.bufferMaxBytes)&&void 0!==d?d:1048576;try{if(a.data instanceof
ArrayBuffer){if(!(a.data.byteLength>c)){var f=(new TextDecoder("utf-8",{fatal:!1})).decode(a.data),g=[];Ck(f).forEach(function(k){try{var l=JSON.parse(k.trim());g.push(l)}catch(p){g.push(k)}});var h={data:g,url:this.getWebSocketUrl(a.target)};this.sendWebSocketEvent("server",h,{},!0)}}else{d=void 0;try{d="string"===typeof a.data?JSON.parse(a.data):a.data,d.url=this.getWebSocketUrl(a.target)}catch(k){d={data:a.data,url:a.target?this.getWebSocketUrl(a.target):void 0}}this.sendWebSocketEvent("server",
d)}}catch(k){a={data:a.data,url:a.target?this.getWebSocketUrl(a.target):void 0},this.sendWebSocketEvent("server",a)}};b.prototype.handleWebSocketSend=function(a,c){var d,e,f,g,h=null===(d=this.core)||void 0===d?void 0:d.getConfig().evtStreamTrackingConfiguration;d=null!==(e=null===h||void 0===h?void 0:h.bufferMaxBytes)&&void 0!==e?e:1048576;try{if(a instanceof ArrayBuffer){if(!(a.byteLength>d)){var k=(new TextDecoder("utf-8",{fatal:!1})).decode(a),l=[];Ck(k).forEach(function(q){try{if("string"===
typeof q){var t=JSON.parse(q);l.push(t)}else l.push(q)}catch(r){l.push(q)}});var p={url:this.getWebSocketUrl(c)};var m={data:l};this.sendWebSocketEvent("send",p,m,!0)}}else{var n="string"===typeof a?JSON.parse(a):a;p={url:this.getWebSocketUrl(c),type:null!==(g=null!==(f=n.type)&&void 0!==f?f:n.method)&&void 0!==g?g:void 0};this.sendWebSocketEvent("send",p,n)}}catch(q){p={url:this.getWebSocketUrl(c)},n={data:a},this.sendWebSocketEvent("send",p,n)}};b.prototype.handleWebSocketError=function(a){var c,
d,e,f,g,h,k;try{var l={url:this.getWebSocketUrl(a.target),type:a.type,timestamp:Date.now(),readyState:this.getWebSocketReadyState(a.target),errorMessage:a.message||"WebSocket error occurred",errorType:(null===(c=a.error)||void 0===c?void 0:c.name)||"WebSocketError",errorCode:null===(d=a.error)||void 0===d?void 0:d.code,errorDetails:null===(e=a.error)||void 0===e?void 0:e.message,networkType:(null===(f=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===f?void 0:f.type)||"unknown",
networkEffectiveType:(null===(g=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===g?void 0:g.effectiveType)||"unknown",networkDownlink:null===(h=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===h?void 0:h.downlink,networkRtt:null===(k=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===k?void 0:k.rtt,userAgent:null===navigator||void 0===navigator?void 0:navigator.userAgent}}catch(p){l={url:this.getWebSocketUrl(a.target),
type:"error",timestamp:Date.now(),error:"Failed to process WebSocket error event: ".concat(p instanceof Error?p.message:String(p)),originalEvent:a}}this.sendWebSocketEvent("error",l)};b.prototype.handleEventSourceOpen=function(a){try{var c={url:this.getEventSourceUrl(a.target),type:a.type}}catch(d){c={data:a.data,url:a.target?this.getEventSourceUrl(a.target):void 0,type:a.type}}this.sendEventSourceEvent(c)};b.prototype.handleEventSourceMessage=function(a){var c={};try{if("string"===typeof a.data)try{c.data=
JSON.parse(a.data)}catch(d){c.data=a.data}else c.data=a.data;c.url=this.getEventSourceUrl(a.target);c.type=a.type;c.id=a.lastEventId}catch(d){c={data:a.data,url:a.target?this.getEventSourceUrl(a.target):void 0,type:a.type,id:a.lastEventId}}this.sendEventSourceEvent(c)};b.prototype.handleEventSourceError=function(a){var c,d,e,f;try{var g={url:this.getEventSourceUrl(a.target),type:a.type,readyState:this.getEventSourceReadyState(a.target),errorMessage:a.message||"EventSource error occurred",errorType:"EventSourceError",
networkType:(null===(c=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===c?void 0:c.type)||"unknown",networkEffectiveType:(null===(d=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===d?void 0:d.effectiveType)||"unknown",networkDownlink:null===(e=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===e?void 0:e.downlink,networkRtt:null===(f=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===f?void 0:f.rtt,
userAgent:null===navigator||void 0===navigator?void 0:navigator.userAgent}}catch(h){g={url:this.getEventSourceUrl(a.target),type:"error",error:"Failed to process EventSource error event: ".concat(h instanceof Error?h.message:String(h)),originalEvent:a}}this.sendEventSourceEvent(g)};b.prototype.handleEventSourceClose=function(a){this.sendEventSourceEvent({url:a,type:"close"})};b.prototype.sendWebSocketEvent=function(a,c,d,e){var f;void 0===d&&(d={});void 0===e&&(e=!1);try{var g=null===(f=this.core.getConfig())||
void 0===f?void 0:f.evtStreamTrackingConfiguration;if(null!==g&&void 0!==g&&g.enabled){var h=this.getStreamCountState(c.url),k="send"===a?W(W(W({},c),d),{event:a}):W(W({},c),{event:a}),l=Qd(g.collect,g.block,k,c.url);if(null!==l&&void 0!==l&&l.result){var p=null===l||void 0===l?void 0:l.matchedConfig;if(!0===(null===p||void 0===p?void 0:p.count)&&(h.tokenCount++,null===l||void 0===l||!l.shouldSend))return;var m={url:c.url,id:c.id,type:c.type,event:a};!0===(null===p||void 0===p?void 0:p.countReset)&&
(0<h.tokenCount&&(m.tokenCount=h.tokenCount),this.resetStreamCountState(c.url));a="send"===a?d:c;d={};if(g.richContentInference&&g.richContentInference.cond)try{d=th(a,g.richContentInference,null===c||void 0===c?void 0:c.url)}catch(q){console.warn("Conviva App Tracker:: Error in rich content inference:",q)}if(g.conditionalCollectAttr&&0<g.conditionalCollectAttr.length){var n=ph(a,g.conditionalCollectAttr,c.url,Qd,null===g||void 0===g?void 0:g.maxQueryLength,e);0<Object.keys(n).length&&(m=W(W({},m),
n))}0<Object.keys(d).length&&(m.richContentInference=d);this.trackerMethods.trackSSEEvent({name:"conviva_ws_message",data:JSON.stringify(m)})}}}catch(q){}};b.prototype.sendEventSourceEvent=function(a){var c,d;try{var e=null===(c=this.core.getConfig())||void 0===c?void 0:c.evtStreamTrackingConfiguration;if(null!==e&&void 0!==e&&e.enabled){var f=this.getStreamCountState((null===a||void 0===a?void 0:a.url)||""),g=W({},a),h=Qd(e.collect,e.block,g,(null===a||void 0===a?void 0:a.url)||"");if(null!==h&&
void 0!==h&&h.result){var k=null===h||void 0===h?void 0:h.matchedConfig;if(!0===(null===k||void 0===k?void 0:k.count)&&(f.tokenCount++,null===h||void 0===h||!h.shouldSend))return;var l={url:(null===(d=null===a||void 0===a?void 0:a.url)||void 0===d?void 0:d.split("?")[0])||"",id:null===a||void 0===a?void 0:a.id,type:null===a||void 0===a?void 0:a.type};!0===(null===k||void 0===k?void 0:k.countReset)&&(0<f.tokenCount&&(l.tokenCount=f.tokenCount),this.resetStreamCountState((null===a||void 0===a?void 0:
a.url)||""));if(e.conditionalCollectAttr&&0<e.conditionalCollectAttr.length){var p=ph(a,e.conditionalCollectAttr,(null===a||void 0===a?void 0:a.url)||"",Qd,null===e||void 0===e?void 0:e.maxQueryLength,!1);0<Object.keys(p).length&&(l=W(W({},l),p))}if(e.richContentInference&&e.richContentInference.cond)try{var m=th(a,e.richContentInference,null===a||void 0===a?void 0:a.url);0<Object.keys(m).length&&(l.richContentInference=m)}catch(n){console.warn("Conviva App Tracker:: Error in rich content inference:",
n)}this.trackerMethods.trackSSEEvent({name:"conviva_sse_message",data:JSON.stringify(l)})}}}catch(n){}};b.prototype.getWebSocketUrl=function(a){try{if(a&&"object"===T(a)&&"url"in a)return a.url}catch(c){}};b.prototype.getWebSocketReadyState=function(a){try{if(a&&"object"===T(a)&&"readyState"in a)return a.readyState}catch(c){}};b.prototype.getEventSourceUrl=function(a){try{if(a&&"object"===T(a)&&"url"in a)return a.url}catch(c){}};b.prototype.getEventSourceReadyState=function(a){try{if(a&&"object"===
T(a)&&"readyState"in a)return a.readyState}catch(c){}};b.prototype.addTraceparentHeader=function(a,c,d){var e=null;J.TRACEPARENT_HEADER_KEY in d||(e=this.generateTraceparentHeader(c))&&a.setRequestHeader(J.TRACEPARENT_HEADER_KEY,e);return e};b.prototype.addBaggageHeader=function(a,c,d,e,f){(c=this.generateBaggageHeader(c,{method:e||"GET",url:c,headers:d,body:f}))&&a.setRequestHeader(J.BAGGAGE_HEADER_KEY,c);return c};b.prototype.createRequestDetails=function(a,c,d,e,f,g){a={method:a,url:c,headers:d,
body:e,requestTimestamp:Date.now(),requestTime:performance.now()||Date.now()};f&&(a[J.TRACEPARENT_HEADER_KEY]=f);g&&(a[J.BAGGAGE_HEADER_KEY]=g);return a};b.prototype.normalizeUrl=function(a){if(a instanceof URL)return a.href;try{if("undefined"!==typeof document){var c=URL;if(document.baseURI)var d=document.baseURI;else{var e=document.querySelector("base");d=e&&e.href?e.href:document.location.href}return(new c(a,d)).href}}catch(f){}return a};b.prototype.generateTraceparentHeader=function(a){var c,
d,e,f,g,h,k,l,p,m,n,q,t,r,v,w,x,C,E,H,D,B,I;try{if(this.core&&a){var L=this.core.getConfig(),V=J.CONFIG_PREFERENCES.MERGE,R=[];if(null===(e=null===(d=null===(c=this.trackerConfiguration)||void 0===c?void 0:c.configs)||void 0===d?void 0:d.traceparentGeneration)||void 0===e?0:e.force)V=J.CONFIG_PREFERENCES.APP;else if(null===(f=null===L||void 0===L?void 0:L.traceparentconfig)||void 0===f?0:f.pref)V=L.traceparentconfig.pref;switch(V){case J.CONFIG_PREFERENCES.APP:if(!1===(null===(k=null===(h=null===
(g=this.trackerConfiguration)||void 0===g?void 0:g.configs)||void 0===h?void 0:h.traceparentGeneration)||void 0===k?void 0:k.enabled))return"";R=(null===(m=null===(p=null===(l=this.trackerConfiguration)||void 0===l?void 0:l.configs)||void 0===p?void 0:p.traceparentGeneration)||void 0===m?void 0:m.targetUrl)||[];break;case J.CONFIG_PREFERENCES.REMOTE:if(!1===(null===(n=null===L||void 0===L?void 0:L.traceparentconfig)||void 0===n?void 0:n.enabled))return"";R=(null===(q=null===L||void 0===L?void 0:L.traceparentconfig)||
void 0===q?void 0:q.targetUrl)||[];break;default:if((null===L||void 0===L||!L.traceparentconfig)&&!1===(null===(v=null===(r=null===(t=this.trackerConfiguration)||void 0===t?void 0:t.configs)||void 0===r?void 0:r.traceparentGeneration)||void 0===v?void 0:v.enabled)||(null===(x=null===(w=this.trackerConfiguration)||void 0===w?void 0:w.configs)||void 0===x||!x.traceparentGeneration)&&!1===(null===(C=null===L||void 0===L?void 0:L.traceparentconfig)||void 0===C?void 0:C.enabled))return"";var U=(null===
(D=null===(H=null===(E=this.trackerConfiguration)||void 0===E?void 0:E.configs)||void 0===H?void 0:H.traceparentGeneration)||void 0===D?void 0:D.targetUrl)||[],N=(null===(B=null===L||void 0===L?void 0:L.traceparentconfig)||void 0===B?void 0:B.targetUrl)||[],y=new Set(ib(ib([],N,!0),U,!0));R=Array.from(y)}if(0<R.length&&(R.includes("*")||R.some(function(O){return 0<(null===O||void 0===O?void 0:O.length)&&a.toLowerCase().includes(null===O||void 0===O?void 0:O.toLowerCase())}))&&(null===(I=null===L||
void 0===L?void 0:L.networkRequestTrackingConfiguration)||void 0===I?0:I.enabled)){var F=Array.from({length:32},function(){return Math.floor(16*Math.random()).toString(16)}).join(""),A=Array.from({length:16},function(){return Math.floor(16*Math.random()).toString(16)}).join("");return"00-".concat(F,"-").concat(A,"-00")}}}catch(O){console.warn("Conviva App Tracker:: Unable to generate traceparent header ".concat(O))}return""};b.prototype.generateBaggageHeader=function(a,c){var d,e;try{if(this.core&&
a){var f=this.core.getConfig();if(!1===(null===(d=null===f||void 0===f?void 0:f.baggageConfiguration)||void 0===d?void 0:d.enabled))return"";c&&(null===f||void 0===f?0:f.baggageConfiguration)&&Lf(c,{},f.baggageConfiguration,this.core);var g=(null===(e=null===f||void 0===f?void 0:f.baggageConfiguration)||void 0===e?void 0:e.targetUrl)||[];if(0<g.length&&g.some(function(l){return 0<(null===l||void 0===l?void 0:l.length)&&a.toLowerCase().includes(null===l||void 0===l?void 0:l.toLowerCase())})){c=[];
var h=this.getConvivaClientId();h&&c.push("c3.client_id=".concat(h));var k=this.core.getConversationId();k&&c.push("c3.convid=".concat(k));if(0<c.length)return c.join(", ")}}}catch(l){console.warn("Conviva App Tracker:: Unable to generate baggage header ".concat(l))}return""};b.prototype.getConvivaClientId=function(){try{if("undefined"!==typeof window&&(null===window||void 0===window?0:window.localStorage)){var a=window.localStorage.getItem("Conviva.sdkConfig"),c=JSON.parse(a||"{}");if(c&&"object"===
T(c)&&c.clId)return c.clId}}catch(d){console.warn("Conviva App Tracker:: Unable to get client ID ".concat(d))}return""};b.prototype.updateSSETrackingConfig=function(a){Si=W(W({},Si),a)};b.prototype.getSSETrackingConfig=function(){return W({},Si)};b.prototype.processStreamEvent=function(a,c,d){var e,f;try{if("ping"!==a.event){var g=a.data;try{g=JSON.parse(a.data)}catch(t){}var h={url:c,id:a.id,event:null!==(e=a.event)&&void 0!==e?e:"message",data:g},k=null===(f=this.core)||void 0===f?void 0:f.getConfig().evtStreamTrackingConfiguration;
if(null!==k&&void 0!==k&&k.enabled){var l=this.getStreamCountState(c),p=Qd(k.collect,k.block,h,c);if(null!==p&&void 0!==p&&p.result){var m=null===p||void 0===p?void 0:p.matchedConfig;if(!0===(null===m||void 0===m?void 0:m.count)&&(l.tokenCount++,null===p||void 0===p||!p.shouldSend))return;a={};if(k.richContentInference&&k.richContentInference.cond)try{a=th(h,k.richContentInference,null===h||void 0===h?void 0:h.url)}catch(t){console.warn("Conviva App Tracker:: Error in rich content inference:",t)}var n=
{url:h.url,id:h.id,event:h.event};!0===(null===m||void 0===m?void 0:m.countReset)&&(0<l.tokenCount&&(n.tokenCount=l.tokenCount),this.resetStreamCountState(c));if(k.conditionalCollectAttr&&0<k.conditionalCollectAttr.length){var q=ph(h,k.conditionalCollectAttr,c,Qd,null===k||void 0===k?void 0:k.maxQueryLength,!1);0<Object.keys(q).length&&(n=W(W({},n),q))}0<Object.keys(a).length&&(n.richContentInference=a);this.trackerMethods.trackSSEEvent({name:d,data:JSON.stringify(n)})}}}}catch(t){}};b.prototype.getStreamCountState=
function(a){this.sseCountStates.has(a)||this.sseCountStates.set(a,{tokenCount:0});return this.sseCountStates.get(a)};b.prototype.resetStreamCountState=function(a){this.sseCountStates.set(a,{tokenCount:0})};b.prototype.cleanupSSECountState=function(a){this.sseCountStates["delete"](a)};b.prototype.getInflightRequests=function(){return this.inflightRequests};b.prototype.incrementInflightRequests=function(){this.inflightRequests++};b.prototype.decrementInflightRequests=function(){this.inflightRequests=
Math.max(0,this.inflightRequests-1)};b.prototype.shouldTrackForSoftNavigation=function(a){try{var c=(new URL(a)).hostname,d=this.core.getConfig(),e=null===d||void 0===d?void 0:d.softNavigationTrackingConfiguration;return null!==e&&void 0!==e&&e.domainBlocklist&&0!==e.domainBlocklist.length?!e.domainBlocklist.some(function(f){return c.endsWith(f)}):!0}catch(f){return!1}};return b}(),qq=function(b,a,c,d,e,f,g,h){var k,l,p,m,n=Ta,q=function(){var t=n.getConfig();return t.emitterConfiguration&&t.emitterConfiguration.batching?
t.emitterConfiguration.batching.enabled:!0};return Np(b,a,"localStorage"==c||"cookieAndLocalStorage"==c,d.eventMethod,e,function(){var t,r=n.getConfig();return null!==(t=r.bufferSize?r.bufferSize:d.bufferSize)&&void 0!==t?t:20}(),function(){var t,r=n.getConfig();return null!==(t=r.maxGetBytes?r.maxGetBytes:d.maxGetBytes)&&void 0!==t?t:0},null!==(k=d.useStm)&&void 0!==k?k:!0,function(){var t,r=n.getConfig();return null!==(t=r.maxLocalStorageQueueSize?r.maxLocalStorageQueueSize:d.maxLocalStorageQueueSize)&&
void 0!==t?t:10},null!==(l=d.connectionTimeout)&&void 0!==l?l:3E4,f,null!==(p=d.customHeaders)&&void 0!==p?p:{},null!==(m=d.withCredentials)&&void 0!==m?m:!1,g,function(){var t,r,v,w=n.getConfig();return null!==(v=(null===w||void 0===w?0:w.enc)?w.enc:null===(r=null===(t=null===d||void 0===d?void 0:d.configs)||void 0===t?void 0:t.network)||void 0===r?void 0:r.encoding)&&void 0!==v?v:fc.GZIP},q,function(){var t,r,v=n.getConfig();return q()?"number"===typeof(null===(r=null===(t=v.emitterConfiguration)||
void 0===t?void 0:t.batching)||void 0===r?void 0:r.byteLimitPostInKB)?1E3*v.emitterConfiguration.batching.byteLimitPostInKB:25E4:4E4},function(){var t,r,v=null===(r=null===(t=n.getConfig().emitterConfiguration)||void 0===t?void 0:t.batching)||void 0===r?void 0:r.batchingIntervalInSec;return 1E3*("number"===typeof v?v:5)},h)},Qp=function(){function b(a,c,d,e,f){void 0===a&&(a=20);void 0===c&&(c=2E3);void 0===d&&(d=1E3);this.eventMaxLimit=a;this.cooldown=c;this.windowStart=Date.now();this.circuitBreakerUntil=
this.eventCount=0;this.breakerPreviouslyOpen=!1;this.droppedCount=0;this.trackerCore=e;this.timeWindow=d;this.getSamplingMode=f}b.prototype.isAllowedToSendEvent=function(){var a=Date.now();if(a<this.circuitBreakerUntil)return this.droppedCount++,!1;this.breakerPreviouslyOpen&&(this.breakerPreviouslyOpen=!1,gb(this.trackerCore,this.getSamplingMode,{message:"Application Error",className:"errorRateLimiter - isAllowedToSendEvent",extraData:{droppedCount:this.droppedCount},configAppliedSrc:bb,configAppliedTime:db}),
this.droppedCount=0);a-this.windowStart<this.timeWindow?this.eventCount++:(this.windowStart=a,this.eventCount=1);return this.eventCount>this.eventMaxLimit?(this.circuitBreakerUntil=a+this.cooldown,this.breakerPreviouslyOpen=!0,this.droppedCount++,!1):!0};b.prototype.updateErrortRateLimitConfig=function(a,c,d){this.eventMaxLimit=a;this.cooldown=c;this.timeWindow=d};return b}(),hb,Wb,Gk=function(b,a){return b.length>a?"".concat(b.slice(0,a-3),"..."):b},gc={idleWindowMs:600,requireLcp:!1,lcpTimeoutMs:3E3,
maxMeasurementMs:1E4,includeHashChanges:!1,domainAllowlist:[],domainBlocklist:["sdk.fra-01.braze.eu","tr.snapchat.com","analytics.google.com","ams.creativecdn.com","analytics.tiktok.com"]},Yc=W({},gc),Za=null,xh=null,Mf=null,Zp=function(){function b(f){f=f.split(".").map(Number);if(4!==f.length||f.some(function(g){return isNaN(g)}))throw Error("clientId must be in format 'a.b.c.d' with each part being a number");return f}function a(f,g){void 0===g&&(g=0);g=1+(g|0)|0;for(var h=0;4>h;h++)g=Math.imul(-1640531535,
g)+(f[h]|0)|0;return g|0}function c(f){if(e)try{var g=b(f);f=void 0;void 0===f&&(f=BigInt(0));var h=BigInt(79),k=BigInt(1)+f;for(f=0;4>f;f++)k=h*k+BigInt(g[f]);var l=Number(BigInt.asIntN(32,k));return(l+Math.pow(2,31))/(Math.pow(2,32)-1)}catch(m){return 0}else try{var p=b(f);l=a(p);return(l>>>0)/4294967295}catch(m){return 0}}function d(f){return 1-c(f)}var e="function"===typeof BigInt;return{clientIdHash:a,sampleRate:c,minimumSampleRateForInclusion:d,shouldInclude:function(f,g){return f/100>=d(g)}}}(),
zh,Nk,Rd=!1,Zc=null,Je=null,$p=function(){function b(a,c,d){var e,f;this.detectionInterval=null;this._messageHandlers={};this._broadcastChannel=null;this._lastFlushSignalTimestamp=0;this.tracker=a;this.trackerConfiguration=c;this.sessionReplayConfig=d;a=new Blob(["/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */\n!(function (t, e) {\n  'object' == typeof exports && 'undefined' != typeof module\n    ? e(exports)\n    : 'function' == typeof define && define.amd\n    ? define(['exports'], e)\n    : e(((t = 'undefined' != typeof globalThis ? globalThis : t || self).pako = {}));\n})(this, function (t) {\n  'use strict';\n  function e(t) {\n    let e = t.length;\n    for (; --e >= 0; ) t[e] = 0;\n  }\n  const a = 256,\n    i = 286,\n    n = 30,\n    s = 15,\n    r = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0]),\n    o = new Uint8Array([\n      0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13,\n    ]),\n    l = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7]),\n    h = new Uint8Array([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]),\n    d = new Array(576);\n  e(d);\n  const _ = new Array(60);\n  e(_);\n  const f = new Array(512);\n  e(f);\n  const c = new Array(256);\n  e(c);\n  const u = new Array(29);\n  e(u);\n  const w = new Array(n);\n  function m(t, e, a, i, n) {\n    (this.static_tree = t),\n      (this.extra_bits = e),\n      (this.extra_base = a),\n      (this.elems = i),\n      (this.max_length = n),\n      (this.has_stree = t && t.length);\n  }\n  let b, g, p;\n  function k(t, e) {\n    (this.dyn_tree = t), (this.max_code = 0), (this.stat_desc = e);\n  }\n  e(w);\n  const v = (t) => (t < 256 ? f[t] : f[256 + (t >>> 7)]),\n    y = (t, e) => {\n      (t.pending_buf[t.pending++] = 255 & e), (t.pending_buf[t.pending++] = (e >>> 8) & 255);\n    },\n    x = (t, e, a) => {\n      t.bi_valid > 16 - a\n        ? ((t.bi_buf |= (e << t.bi_valid) & 65535),\n          y(t, t.bi_buf),\n          (t.bi_buf = e >> (16 - t.bi_valid)),\n          (t.bi_valid += a - 16))\n        : ((t.bi_buf |= (e << t.bi_valid) & 65535), (t.bi_valid += a));\n    },\n    z = (t, e, a) => {\n      x(t, a[2 * e], a[2 * e + 1]);\n    },\n    A = (t, e) => {\n      let a = 0;\n      do {\n        (a |= 1 & t), (t >>>= 1), (a <<= 1);\n      } while (--e > 0);\n      return a >>> 1;\n    },\n    E = (t, e, a) => {\n      const i = new Array(16);\n      let n,\n        r,\n        o = 0;\n      for (n = 1; n <= s; n++) (o = (o + a[n - 1]) << 1), (i[n] = o);\n      for (r = 0; r <= e; r++) {\n        let e = t[2 * r + 1];\n        0 !== e && (t[2 * r] = A(i[e]++, e));\n      }\n    },\n    R = (t) => {\n      let e;\n      for (e = 0; e < i; e++) t.dyn_ltree[2 * e] = 0;\n      for (e = 0; e < n; e++) t.dyn_dtree[2 * e] = 0;\n      for (e = 0; e < 19; e++) t.bl_tree[2 * e] = 0;\n      (t.dyn_ltree[512] = 1), (t.opt_len = t.static_len = 0), (t.sym_next = t.matches = 0);\n    },\n    Z = (t) => {\n      t.bi_valid > 8 ? y(t, t.bi_buf) : t.bi_valid > 0 && (t.pending_buf[t.pending++] = t.bi_buf),\n        (t.bi_buf = 0),\n        (t.bi_valid = 0);\n    },\n    U = (t, e, a, i) => {\n      const n = 2 * e,\n        s = 2 * a;\n      return t[n] < t[s] || (t[n] === t[s] && i[e] <= i[a]);\n    },\n    S = (t, e, a) => {\n      const i = t.heap[a];\n      let n = a << 1;\n      for (\n        ;\n        n <= t.heap_len &&\n        (n < t.heap_len && U(e, t.heap[n + 1], t.heap[n], t.depth) && n++, !U(e, i, t.heap[n], t.depth));\n\n      )\n        (t.heap[a] = t.heap[n]), (a = n), (n <<= 1);\n      t.heap[a] = i;\n    },\n    D = (t, e, i) => {\n      let n,\n        s,\n        l,\n        h,\n        d = 0;\n      if (0 !== t.sym_next)\n        do {\n          (n = 255 & t.pending_buf[t.sym_buf + d++]),\n            (n += (255 & t.pending_buf[t.sym_buf + d++]) << 8),\n            (s = t.pending_buf[t.sym_buf + d++]),\n            0 === n\n              ? z(t, s, e)\n              : ((l = c[s]),\n                z(t, l + a + 1, e),\n                (h = r[l]),\n                0 !== h && ((s -= u[l]), x(t, s, h)),\n                n--,\n                (l = v(n)),\n                z(t, l, i),\n                (h = o[l]),\n                0 !== h && ((n -= w[l]), x(t, n, h)));\n        } while (d < t.sym_next);\n      z(t, 256, e);\n    },\n    T = (t, e) => {\n      const a = e.dyn_tree,\n        i = e.stat_desc.static_tree,\n        n = e.stat_desc.has_stree,\n        r = e.stat_desc.elems;\n      let o,\n        l,\n        h,\n        d = -1;\n      for (t.heap_len = 0, t.heap_max = 573, o = 0; o < r; o++)\n        0 !== a[2 * o] ? ((t.heap[++t.heap_len] = d = o), (t.depth[o] = 0)) : (a[2 * o + 1] = 0);\n      for (; t.heap_len < 2; )\n        (h = t.heap[++t.heap_len] = d < 2 ? ++d : 0),\n          (a[2 * h] = 1),\n          (t.depth[h] = 0),\n          t.opt_len--,\n          n && (t.static_len -= i[2 * h + 1]);\n      for (e.max_code = d, o = t.heap_len >> 1; o >= 1; o--) S(t, a, o);\n      h = r;\n      do {\n        (o = t.heap[1]),\n          (t.heap[1] = t.heap[t.heap_len--]),\n          S(t, a, 1),\n          (l = t.heap[1]),\n          (t.heap[--t.heap_max] = o),\n          (t.heap[--t.heap_max] = l),\n          (a[2 * h] = a[2 * o] + a[2 * l]),\n          (t.depth[h] = (t.depth[o] >= t.depth[l] ? t.depth[o] : t.depth[l]) + 1),\n          (a[2 * o + 1] = a[2 * l + 1] = h),\n          (t.heap[1] = h++),\n          S(t, a, 1);\n      } while (t.heap_len >= 2);\n      (t.heap[--t.heap_max] = t.heap[1]),\n        ((t, e) => {\n          const a = e.dyn_tree,\n            i = e.max_code,\n            n = e.stat_desc.static_tree,\n            r = e.stat_desc.has_stree,\n            o = e.stat_desc.extra_bits,\n            l = e.stat_desc.extra_base,\n            h = e.stat_desc.max_length;\n          let d,\n            _,\n            f,\n            c,\n            u,\n            w,\n            m = 0;\n          for (c = 0; c <= s; c++) t.bl_count[c] = 0;\n          for (a[2 * t.heap[t.heap_max] + 1] = 0, d = t.heap_max + 1; d < 573; d++)\n            (_ = t.heap[d]),\n              (c = a[2 * a[2 * _ + 1] + 1] + 1),\n              c > h && ((c = h), m++),\n              (a[2 * _ + 1] = c),\n              _ > i ||\n                (t.bl_count[c]++,\n                (u = 0),\n                _ >= l && (u = o[_ - l]),\n                (w = a[2 * _]),\n                (t.opt_len += w * (c + u)),\n                r && (t.static_len += w * (n[2 * _ + 1] + u)));\n          if (0 !== m) {\n            do {\n              for (c = h - 1; 0 === t.bl_count[c]; ) c--;\n              t.bl_count[c]--, (t.bl_count[c + 1] += 2), t.bl_count[h]--, (m -= 2);\n            } while (m > 0);\n            for (c = h; 0 !== c; c--)\n              for (_ = t.bl_count[c]; 0 !== _; )\n                (f = t.heap[--d]),\n                  f > i ||\n                    (a[2 * f + 1] !== c && ((t.opt_len += (c - a[2 * f + 1]) * a[2 * f]), (a[2 * f + 1] = c)), _--);\n          }\n        })(t, e),\n        E(a, d, t.bl_count);\n    },\n    O = (t, e, a) => {\n      let i,\n        n,\n        s = -1,\n        r = e[1],\n        o = 0,\n        l = 7,\n        h = 4;\n      for (0 === r && ((l = 138), (h = 3)), e[2 * (a + 1) + 1] = 65535, i = 0; i <= a; i++)\n        (n = r),\n          (r = e[2 * (i + 1) + 1]),\n          (++o < l && n === r) ||\n            (o < h\n              ? (t.bl_tree[2 * n] += o)\n              : 0 !== n\n              ? (n !== s && t.bl_tree[2 * n]++, t.bl_tree[32]++)\n              : o <= 10\n              ? t.bl_tree[34]++\n              : t.bl_tree[36]++,\n            (o = 0),\n            (s = n),\n            0 === r ? ((l = 138), (h = 3)) : n === r ? ((l = 6), (h = 3)) : ((l = 7), (h = 4)));\n    },\n    I = (t, e, a) => {\n      let i,\n        n,\n        s = -1,\n        r = e[1],\n        o = 0,\n        l = 7,\n        h = 4;\n      for (0 === r && ((l = 138), (h = 3)), i = 0; i <= a; i++)\n        if (((n = r), (r = e[2 * (i + 1) + 1]), !(++o < l && n === r))) {\n          if (o < h)\n            do {\n              z(t, n, t.bl_tree);\n            } while (0 != --o);\n          else\n            0 !== n\n              ? (n !== s && (z(t, n, t.bl_tree), o--), z(t, 16, t.bl_tree), x(t, o - 3, 2))\n              : o <= 10\n              ? (z(t, 17, t.bl_tree), x(t, o - 3, 3))\n              : (z(t, 18, t.bl_tree), x(t, o - 11, 7));\n          (o = 0), (s = n), 0 === r ? ((l = 138), (h = 3)) : n === r ? ((l = 6), (h = 3)) : ((l = 7), (h = 4));\n        }\n    };\n  let F = !1;\n  const L = (t, e, a, i) => {\n    x(t, 0 + (i ? 1 : 0), 3),\n      Z(t),\n      y(t, a),\n      y(t, ~a),\n      a && t.pending_buf.set(t.window.subarray(e, e + a), t.pending),\n      (t.pending += a);\n  };\n  var N = (t, e, i, n) => {\n      let s,\n        r,\n        o = 0;\n      t.level > 0\n        ? (2 === t.strm.data_type &&\n            (t.strm.data_type = ((t) => {\n              let e,\n                i = 4093624447;\n              for (e = 0; e <= 31; e++, i >>>= 1) if (1 & i && 0 !== t.dyn_ltree[2 * e]) return 0;\n              if (0 !== t.dyn_ltree[18] || 0 !== t.dyn_ltree[20] || 0 !== t.dyn_ltree[26]) return 1;\n              for (e = 32; e < a; e++) if (0 !== t.dyn_ltree[2 * e]) return 1;\n              return 0;\n            })(t)),\n          T(t, t.l_desc),\n          T(t, t.d_desc),\n          (o = ((t) => {\n            let e;\n            for (\n              O(t, t.dyn_ltree, t.l_desc.max_code), O(t, t.dyn_dtree, t.d_desc.max_code), T(t, t.bl_desc), e = 18;\n              e >= 3 && 0 === t.bl_tree[2 * h[e] + 1];\n              e--\n            );\n            return (t.opt_len += 3 * (e + 1) + 5 + 5 + 4), e;\n          })(t)),\n          (s = (t.opt_len + 3 + 7) >>> 3),\n          (r = (t.static_len + 3 + 7) >>> 3),\n          r <= s && (s = r))\n        : (s = r = i + 5),\n        i + 4 <= s && -1 !== e\n          ? L(t, e, i, n)\n          : 4 === t.strategy || r === s\n          ? (x(t, 2 + (n ? 1 : 0), 3), D(t, d, _))\n          : (x(t, 4 + (n ? 1 : 0), 3),\n            ((t, e, a, i) => {\n              let n;\n              for (x(t, e - 257, 5), x(t, a - 1, 5), x(t, i - 4, 4), n = 0; n < i; n++)\n                x(t, t.bl_tree[2 * h[n] + 1], 3);\n              I(t, t.dyn_ltree, e - 1), I(t, t.dyn_dtree, a - 1);\n            })(t, t.l_desc.max_code + 1, t.d_desc.max_code + 1, o + 1),\n            D(t, t.dyn_ltree, t.dyn_dtree)),\n        R(t),\n        n && Z(t);\n    },\n    B = {\n      _tr_init: (t) => {\n        F ||\n          ((() => {\n            let t, e, a, h, k;\n            const v = new Array(16);\n            for (a = 0, h = 0; h < 28; h++) for (u[h] = a, t = 0; t < 1 << r[h]; t++) c[a++] = h;\n            for (c[a - 1] = h, k = 0, h = 0; h < 16; h++) for (w[h] = k, t = 0; t < 1 << o[h]; t++) f[k++] = h;\n            for (k >>= 7; h < n; h++) for (w[h] = k << 7, t = 0; t < 1 << (o[h] - 7); t++) f[256 + k++] = h;\n            for (e = 0; e <= s; e++) v[e] = 0;\n            for (t = 0; t <= 143; ) (d[2 * t + 1] = 8), t++, v[8]++;\n            for (; t <= 255; ) (d[2 * t + 1] = 9), t++, v[9]++;\n            for (; t <= 279; ) (d[2 * t + 1] = 7), t++, v[7]++;\n            for (; t <= 287; ) (d[2 * t + 1] = 8), t++, v[8]++;\n            for (E(d, 287, v), t = 0; t < n; t++) (_[2 * t + 1] = 5), (_[2 * t] = A(t, 5));\n            (b = new m(d, r, 257, i, s)), (g = new m(_, o, 0, n, s)), (p = new m(new Array(0), l, 0, 19, 7));\n          })(),\n          (F = !0)),\n          (t.l_desc = new k(t.dyn_ltree, b)),\n          (t.d_desc = new k(t.dyn_dtree, g)),\n          (t.bl_desc = new k(t.bl_tree, p)),\n          (t.bi_buf = 0),\n          (t.bi_valid = 0),\n          R(t);\n      },\n      _tr_stored_block: L,\n      _tr_flush_block: N,\n      _tr_tally: (t, e, i) => (\n        (t.pending_buf[t.sym_buf + t.sym_next++] = e),\n        (t.pending_buf[t.sym_buf + t.sym_next++] = e >> 8),\n        (t.pending_buf[t.sym_buf + t.sym_next++] = i),\n        0 === e ? t.dyn_ltree[2 * i]++ : (t.matches++, e--, t.dyn_ltree[2 * (c[i] + a + 1)]++, t.dyn_dtree[2 * v(e)]++),\n        t.sym_next === t.sym_end\n      ),\n      _tr_align: (t) => {\n        x(t, 2, 3),\n          z(t, 256, d),\n          ((t) => {\n            16 === t.bi_valid\n              ? (y(t, t.bi_buf), (t.bi_buf = 0), (t.bi_valid = 0))\n              : t.bi_valid >= 8 && ((t.pending_buf[t.pending++] = 255 & t.bi_buf), (t.bi_buf >>= 8), (t.bi_valid -= 8));\n          })(t);\n      },\n    };\n  var C = (t, e, a, i) => {\n    let n = (65535 & t) | 0,\n      s = ((t >>> 16) & 65535) | 0,\n      r = 0;\n    for (; 0 !== a; ) {\n      (r = a > 2e3 ? 2e3 : a), (a -= r);\n      do {\n        (n = (n + e[i++]) | 0), (s = (s + n) | 0);\n      } while (--r);\n      (n %= 65521), (s %= 65521);\n    }\n    return n | (s << 16) | 0;\n  };\n  const M = new Uint32Array(\n    (() => {\n      let t,\n        e = [];\n      for (var a = 0; a < 256; a++) {\n        t = a;\n        for (var i = 0; i < 8; i++) t = 1 & t ? 3988292384 ^ (t >>> 1) : t >>> 1;\n        e[a] = t;\n      }\n      return e;\n    })()\n  );\n  var H = (t, e, a, i) => {\n      const n = M,\n        s = i + a;\n      t ^= -1;\n      for (let a = i; a < s; a++) t = (t >>> 8) ^ n[255 & (t ^ e[a])];\n      return -1 ^ t;\n    },\n    j = {\n      2: 'need dictionary',\n      1: 'stream end',\n      0: '',\n      '-1': 'file error',\n      '-2': 'stream error',\n      '-3': 'data error',\n      '-4': 'insufficient memory',\n      '-5': 'buffer error',\n      '-6': 'incompatible version',\n    },\n    K = {\n      Z_NO_FLUSH: 0,\n      Z_PARTIAL_FLUSH: 1,\n      Z_SYNC_FLUSH: 2,\n      Z_FULL_FLUSH: 3,\n      Z_FINISH: 4,\n      Z_BLOCK: 5,\n      Z_TREES: 6,\n      Z_OK: 0,\n      Z_STREAM_END: 1,\n      Z_NEED_DICT: 2,\n      Z_ERRNO: -1,\n      Z_STREAM_ERROR: -2,\n      Z_DATA_ERROR: -3,\n      Z_MEM_ERROR: -4,\n      Z_BUF_ERROR: -5,\n      Z_NO_COMPRESSION: 0,\n      Z_BEST_SPEED: 1,\n      Z_BEST_COMPRESSION: 9,\n      Z_DEFAULT_COMPRESSION: -1,\n      Z_FILTERED: 1,\n      Z_HUFFMAN_ONLY: 2,\n      Z_RLE: 3,\n      Z_FIXED: 4,\n      Z_DEFAULT_STRATEGY: 0,\n      Z_BINARY: 0,\n      Z_TEXT: 1,\n      Z_UNKNOWN: 2,\n      Z_DEFLATED: 8,\n    };\n  const { _tr_init: P, _tr_stored_block: Y, _tr_flush_block: G, _tr_tally: X, _tr_align: W } = B,\n    {\n      Z_NO_FLUSH: q,\n      Z_PARTIAL_FLUSH: J,\n      Z_FULL_FLUSH: Q,\n      Z_FINISH: V,\n      Z_BLOCK: $,\n      Z_OK: tt,\n      Z_STREAM_END: et,\n      Z_STREAM_ERROR: at,\n      Z_DATA_ERROR: it,\n      Z_BUF_ERROR: nt,\n      Z_DEFAULT_COMPRESSION: st,\n      Z_FILTERED: rt,\n      Z_HUFFMAN_ONLY: ot,\n      Z_RLE: lt,\n      Z_FIXED: ht,\n      Z_DEFAULT_STRATEGY: dt,\n      Z_UNKNOWN: _t,\n      Z_DEFLATED: ft,\n    } = K,\n    ct = 258,\n    ut = 262,\n    wt = 42,\n    mt = 113,\n    bt = 666,\n    gt = (t, e) => ((t.msg = j[e]), e),\n    pt = (t) => 2 * t - (t > 4 ? 9 : 0),\n    kt = (t) => {\n      let e = t.length;\n      for (; --e >= 0; ) t[e] = 0;\n    },\n    vt = (t) => {\n      let e,\n        a,\n        i,\n        n = t.w_size;\n      (e = t.hash_size), (i = e);\n      do {\n        (a = t.head[--i]), (t.head[i] = a >= n ? a - n : 0);\n      } while (--e);\n      (e = n), (i = e);\n      do {\n        (a = t.prev[--i]), (t.prev[i] = a >= n ? a - n : 0);\n      } while (--e);\n    };\n  let yt = (t, e, a) => ((e << t.hash_shift) ^ a) & t.hash_mask;\n  const xt = (t) => {\n      const e = t.state;\n      let a = e.pending;\n      a > t.avail_out && (a = t.avail_out),\n        0 !== a &&\n          (t.output.set(e.pending_buf.subarray(e.pending_out, e.pending_out + a), t.next_out),\n          (t.next_out += a),\n          (e.pending_out += a),\n          (t.total_out += a),\n          (t.avail_out -= a),\n          (e.pending -= a),\n          0 === e.pending && (e.pending_out = 0));\n    },\n    zt = (t, e) => {\n      G(t, t.block_start >= 0 ? t.block_start : -1, t.strstart - t.block_start, e),\n        (t.block_start = t.strstart),\n        xt(t.strm);\n    },\n    At = (t, e) => {\n      t.pending_buf[t.pending++] = e;\n    },\n    Et = (t, e) => {\n      (t.pending_buf[t.pending++] = (e >>> 8) & 255), (t.pending_buf[t.pending++] = 255 & e);\n    },\n    Rt = (t, e, a, i) => {\n      let n = t.avail_in;\n      return (\n        n > i && (n = i),\n        0 === n\n          ? 0\n          : ((t.avail_in -= n),\n            e.set(t.input.subarray(t.next_in, t.next_in + n), a),\n            1 === t.state.wrap\n              ? (t.adler = C(t.adler, e, n, a))\n              : 2 === t.state.wrap && (t.adler = H(t.adler, e, n, a)),\n            (t.next_in += n),\n            (t.total_in += n),\n            n)\n      );\n    },\n    Zt = (t, e) => {\n      let a,\n        i,\n        n = t.max_chain_length,\n        s = t.strstart,\n        r = t.prev_length,\n        o = t.nice_match;\n      const l = t.strstart > t.w_size - ut ? t.strstart - (t.w_size - ut) : 0,\n        h = t.window,\n        d = t.w_mask,\n        _ = t.prev,\n        f = t.strstart + ct;\n      let c = h[s + r - 1],\n        u = h[s + r];\n      t.prev_length >= t.good_match && (n >>= 2), o > t.lookahead && (o = t.lookahead);\n      do {\n        if (((a = e), h[a + r] === u && h[a + r - 1] === c && h[a] === h[s] && h[++a] === h[s + 1])) {\n          (s += 2), a++;\n          do {} while (\n            h[++s] === h[++a] &&\n            h[++s] === h[++a] &&\n            h[++s] === h[++a] &&\n            h[++s] === h[++a] &&\n            h[++s] === h[++a] &&\n            h[++s] === h[++a] &&\n            h[++s] === h[++a] &&\n            h[++s] === h[++a] &&\n            s < f\n          );\n          if (((i = ct - (f - s)), (s = f - ct), i > r)) {\n            if (((t.match_start = e), (r = i), i >= o)) break;\n            (c = h[s + r - 1]), (u = h[s + r]);\n          }\n        }\n      } while ((e = _[e & d]) > l && 0 != --n);\n      return r <= t.lookahead ? r : t.lookahead;\n    },\n    Ut = (t) => {\n      const e = t.w_size;\n      let a, i, n;\n      do {\n        if (\n          ((i = t.window_size - t.lookahead - t.strstart),\n          t.strstart >= e + (e - ut) &&\n            (t.window.set(t.window.subarray(e, e + e - i), 0),\n            (t.match_start -= e),\n            (t.strstart -= e),\n            (t.block_start -= e),\n            t.insert > t.strstart && (t.insert = t.strstart),\n            vt(t),\n            (i += e)),\n          0 === t.strm.avail_in)\n        )\n          break;\n        if (((a = Rt(t.strm, t.window, t.strstart + t.lookahead, i)), (t.lookahead += a), t.lookahead + t.insert >= 3))\n          for (\n            n = t.strstart - t.insert, t.ins_h = t.window[n], t.ins_h = yt(t, t.ins_h, t.window[n + 1]);\n            t.insert &&\n            ((t.ins_h = yt(t, t.ins_h, t.window[n + 3 - 1])),\n            (t.prev[n & t.w_mask] = t.head[t.ins_h]),\n            (t.head[t.ins_h] = n),\n            n++,\n            t.insert--,\n            !(t.lookahead + t.insert < 3));\n\n          );\n      } while (t.lookahead < ut && 0 !== t.strm.avail_in);\n    },\n    St = (t, e) => {\n      let a,\n        i,\n        n,\n        s = t.pending_buf_size - 5 > t.w_size ? t.w_size : t.pending_buf_size - 5,\n        r = 0,\n        o = t.strm.avail_in;\n      do {\n        if (((a = 65535), (n = (t.bi_valid + 42) >> 3), t.strm.avail_out < n)) break;\n        if (\n          ((n = t.strm.avail_out - n),\n          (i = t.strstart - t.block_start),\n          a > i + t.strm.avail_in && (a = i + t.strm.avail_in),\n          a > n && (a = n),\n          a < s && ((0 === a && e !== V) || e === q || a !== i + t.strm.avail_in))\n        )\n          break;\n        (r = e === V && a === i + t.strm.avail_in ? 1 : 0),\n          Y(t, 0, 0, r),\n          (t.pending_buf[t.pending - 4] = a),\n          (t.pending_buf[t.pending - 3] = a >> 8),\n          (t.pending_buf[t.pending - 2] = ~a),\n          (t.pending_buf[t.pending - 1] = ~a >> 8),\n          xt(t.strm),\n          i &&\n            (i > a && (i = a),\n            t.strm.output.set(t.window.subarray(t.block_start, t.block_start + i), t.strm.next_out),\n            (t.strm.next_out += i),\n            (t.strm.avail_out -= i),\n            (t.strm.total_out += i),\n            (t.block_start += i),\n            (a -= i)),\n          a &&\n            (Rt(t.strm, t.strm.output, t.strm.next_out, a),\n            (t.strm.next_out += a),\n            (t.strm.avail_out -= a),\n            (t.strm.total_out += a));\n      } while (0 === r);\n      return (\n        (o -= t.strm.avail_in),\n        o &&\n          (o >= t.w_size\n            ? ((t.matches = 2),\n              t.window.set(t.strm.input.subarray(t.strm.next_in - t.w_size, t.strm.next_in), 0),\n              (t.strstart = t.w_size),\n              (t.insert = t.strstart))\n            : (t.window_size - t.strstart <= o &&\n                ((t.strstart -= t.w_size),\n                t.window.set(t.window.subarray(t.w_size, t.w_size + t.strstart), 0),\n                t.matches < 2 && t.matches++,\n                t.insert > t.strstart && (t.insert = t.strstart)),\n              t.window.set(t.strm.input.subarray(t.strm.next_in - o, t.strm.next_in), t.strstart),\n              (t.strstart += o),\n              (t.insert += o > t.w_size - t.insert ? t.w_size - t.insert : o)),\n          (t.block_start = t.strstart)),\n        t.high_water < t.strstart && (t.high_water = t.strstart),\n        r\n          ? 4\n          : e !== q && e !== V && 0 === t.strm.avail_in && t.strstart === t.block_start\n          ? 2\n          : ((n = t.window_size - t.strstart),\n            t.strm.avail_in > n &&\n              t.block_start >= t.w_size &&\n              ((t.block_start -= t.w_size),\n              (t.strstart -= t.w_size),\n              t.window.set(t.window.subarray(t.w_size, t.w_size + t.strstart), 0),\n              t.matches < 2 && t.matches++,\n              (n += t.w_size),\n              t.insert > t.strstart && (t.insert = t.strstart)),\n            n > t.strm.avail_in && (n = t.strm.avail_in),\n            n &&\n              (Rt(t.strm, t.window, t.strstart, n),\n              (t.strstart += n),\n              (t.insert += n > t.w_size - t.insert ? t.w_size - t.insert : n)),\n            t.high_water < t.strstart && (t.high_water = t.strstart),\n            (n = (t.bi_valid + 42) >> 3),\n            (n = t.pending_buf_size - n > 65535 ? 65535 : t.pending_buf_size - n),\n            (s = n > t.w_size ? t.w_size : n),\n            (i = t.strstart - t.block_start),\n            (i >= s || ((i || e === V) && e !== q && 0 === t.strm.avail_in && i <= n)) &&\n              ((a = i > n ? n : i),\n              (r = e === V && 0 === t.strm.avail_in && a === i ? 1 : 0),\n              Y(t, t.block_start, a, r),\n              (t.block_start += a),\n              xt(t.strm)),\n            r ? 3 : 1)\n      );\n    },\n    Dt = (t, e) => {\n      let a, i;\n      for (;;) {\n        if (t.lookahead < ut) {\n          if ((Ut(t), t.lookahead < ut && e === q)) return 1;\n          if (0 === t.lookahead) break;\n        }\n        if (\n          ((a = 0),\n          t.lookahead >= 3 &&\n            ((t.ins_h = yt(t, t.ins_h, t.window[t.strstart + 3 - 1])),\n            (a = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h]),\n            (t.head[t.ins_h] = t.strstart)),\n          0 !== a && t.strstart - a <= t.w_size - ut && (t.match_length = Zt(t, a)),\n          t.match_length >= 3)\n        )\n          if (\n            ((i = X(t, t.strstart - t.match_start, t.match_length - 3)),\n            (t.lookahead -= t.match_length),\n            t.match_length <= t.max_lazy_match && t.lookahead >= 3)\n          ) {\n            t.match_length--;\n            do {\n              t.strstart++,\n                (t.ins_h = yt(t, t.ins_h, t.window[t.strstart + 3 - 1])),\n                (a = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h]),\n                (t.head[t.ins_h] = t.strstart);\n            } while (0 != --t.match_length);\n            t.strstart++;\n          } else\n            (t.strstart += t.match_length),\n              (t.match_length = 0),\n              (t.ins_h = t.window[t.strstart]),\n              (t.ins_h = yt(t, t.ins_h, t.window[t.strstart + 1]));\n        else (i = X(t, 0, t.window[t.strstart])), t.lookahead--, t.strstart++;\n        if (i && (zt(t, !1), 0 === t.strm.avail_out)) return 1;\n      }\n      return (\n        (t.insert = t.strstart < 2 ? t.strstart : 2),\n        e === V\n          ? (zt(t, !0), 0 === t.strm.avail_out ? 3 : 4)\n          : t.sym_next && (zt(t, !1), 0 === t.strm.avail_out)\n          ? 1\n          : 2\n      );\n    },\n    Tt = (t, e) => {\n      let a, i, n;\n      for (;;) {\n        if (t.lookahead < ut) {\n          if ((Ut(t), t.lookahead < ut && e === q)) return 1;\n          if (0 === t.lookahead) break;\n        }\n        if (\n          ((a = 0),\n          t.lookahead >= 3 &&\n            ((t.ins_h = yt(t, t.ins_h, t.window[t.strstart + 3 - 1])),\n            (a = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h]),\n            (t.head[t.ins_h] = t.strstart)),\n          (t.prev_length = t.match_length),\n          (t.prev_match = t.match_start),\n          (t.match_length = 2),\n          0 !== a &&\n            t.prev_length < t.max_lazy_match &&\n            t.strstart - a <= t.w_size - ut &&\n            ((t.match_length = Zt(t, a)),\n            t.match_length <= 5 &&\n              (t.strategy === rt || (3 === t.match_length && t.strstart - t.match_start > 4096)) &&\n              (t.match_length = 2)),\n          t.prev_length >= 3 && t.match_length <= t.prev_length)\n        ) {\n          (n = t.strstart + t.lookahead - 3),\n            (i = X(t, t.strstart - 1 - t.prev_match, t.prev_length - 3)),\n            (t.lookahead -= t.prev_length - 1),\n            (t.prev_length -= 2);\n          do {\n            ++t.strstart <= n &&\n              ((t.ins_h = yt(t, t.ins_h, t.window[t.strstart + 3 - 1])),\n              (a = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h]),\n              (t.head[t.ins_h] = t.strstart));\n          } while (0 != --t.prev_length);\n          if (((t.match_available = 0), (t.match_length = 2), t.strstart++, i && (zt(t, !1), 0 === t.strm.avail_out)))\n            return 1;\n        } else if (t.match_available) {\n          if (\n            ((i = X(t, 0, t.window[t.strstart - 1])),\n            i && zt(t, !1),\n            t.strstart++,\n            t.lookahead--,\n            0 === t.strm.avail_out)\n          )\n            return 1;\n        } else (t.match_available = 1), t.strstart++, t.lookahead--;\n      }\n      return (\n        t.match_available && ((i = X(t, 0, t.window[t.strstart - 1])), (t.match_available = 0)),\n        (t.insert = t.strstart < 2 ? t.strstart : 2),\n        e === V\n          ? (zt(t, !0), 0 === t.strm.avail_out ? 3 : 4)\n          : t.sym_next && (zt(t, !1), 0 === t.strm.avail_out)\n          ? 1\n          : 2\n      );\n    };\n  function Ot(t, e, a, i, n) {\n    (this.good_length = t), (this.max_lazy = e), (this.nice_length = a), (this.max_chain = i), (this.func = n);\n  }\n  const It = [\n    new Ot(0, 0, 0, 0, St),\n    new Ot(4, 4, 8, 4, Dt),\n    new Ot(4, 5, 16, 8, Dt),\n    new Ot(4, 6, 32, 32, Dt),\n    new Ot(4, 4, 16, 16, Tt),\n    new Ot(8, 16, 32, 32, Tt),\n    new Ot(8, 16, 128, 128, Tt),\n    new Ot(8, 32, 128, 256, Tt),\n    new Ot(32, 128, 258, 1024, Tt),\n    new Ot(32, 258, 258, 4096, Tt),\n  ];\n  function Ft() {\n    (this.strm = null),\n      (this.status = 0),\n      (this.pending_buf = null),\n      (this.pending_buf_size = 0),\n      (this.pending_out = 0),\n      (this.pending = 0),\n      (this.wrap = 0),\n      (this.gzhead = null),\n      (this.gzindex = 0),\n      (this.method = ft),\n      (this.last_flush = -1),\n      (this.w_size = 0),\n      (this.w_bits = 0),\n      (this.w_mask = 0),\n      (this.window = null),\n      (this.window_size = 0),\n      (this.prev = null),\n      (this.head = null),\n      (this.ins_h = 0),\n      (this.hash_size = 0),\n      (this.hash_bits = 0),\n      (this.hash_mask = 0),\n      (this.hash_shift = 0),\n      (this.block_start = 0),\n      (this.match_length = 0),\n      (this.prev_match = 0),\n      (this.match_available = 0),\n      (this.strstart = 0),\n      (this.match_start = 0),\n      (this.lookahead = 0),\n      (this.prev_length = 0),\n      (this.max_chain_length = 0),\n      (this.max_lazy_match = 0),\n      (this.level = 0),\n      (this.strategy = 0),\n      (this.good_match = 0),\n      (this.nice_match = 0),\n      (this.dyn_ltree = new Uint16Array(1146)),\n      (this.dyn_dtree = new Uint16Array(122)),\n      (this.bl_tree = new Uint16Array(78)),\n      kt(this.dyn_ltree),\n      kt(this.dyn_dtree),\n      kt(this.bl_tree),\n      (this.l_desc = null),\n      (this.d_desc = null),\n      (this.bl_desc = null),\n      (this.bl_count = new Uint16Array(16)),\n      (this.heap = new Uint16Array(573)),\n      kt(this.heap),\n      (this.heap_len = 0),\n      (this.heap_max = 0),\n      (this.depth = new Uint16Array(573)),\n      kt(this.depth),\n      (this.sym_buf = 0),\n      (this.lit_bufsize = 0),\n      (this.sym_next = 0),\n      (this.sym_end = 0),\n      (this.opt_len = 0),\n      (this.static_len = 0),\n      (this.matches = 0),\n      (this.insert = 0),\n      (this.bi_buf = 0),\n      (this.bi_valid = 0);\n  }\n  const Lt = (t) => {\n      if (!t) return 1;\n      const e = t.state;\n      return !e ||\n        e.strm !== t ||\n        (e.status !== wt &&\n          57 !== e.status &&\n          69 !== e.status &&\n          73 !== e.status &&\n          91 !== e.status &&\n          103 !== e.status &&\n          e.status !== mt &&\n          e.status !== bt)\n        ? 1\n        : 0;\n    },\n    Nt = (t) => {\n      if (Lt(t)) return gt(t, at);\n      (t.total_in = t.total_out = 0), (t.data_type = _t);\n      const e = t.state;\n      return (\n        (e.pending = 0),\n        (e.pending_out = 0),\n        e.wrap < 0 && (e.wrap = -e.wrap),\n        (e.status = 2 === e.wrap ? 57 : e.wrap ? wt : mt),\n        (t.adler = 2 === e.wrap ? 0 : 1),\n        (e.last_flush = -2),\n        P(e),\n        tt\n      );\n    },\n    Bt = (t) => {\n      const e = Nt(t);\n      var a;\n      return (\n        e === tt &&\n          (((a = t.state).window_size = 2 * a.w_size),\n          kt(a.head),\n          (a.max_lazy_match = It[a.level].max_lazy),\n          (a.good_match = It[a.level].good_length),\n          (a.nice_match = It[a.level].nice_length),\n          (a.max_chain_length = It[a.level].max_chain),\n          (a.strstart = 0),\n          (a.block_start = 0),\n          (a.lookahead = 0),\n          (a.insert = 0),\n          (a.match_length = a.prev_length = 2),\n          (a.match_available = 0),\n          (a.ins_h = 0)),\n        e\n      );\n    },\n    Ct = (t, e, a, i, n, s) => {\n      if (!t) return at;\n      let r = 1;\n      if (\n        (e === st && (e = 6),\n        i < 0 ? ((r = 0), (i = -i)) : i > 15 && ((r = 2), (i -= 16)),\n        n < 1 || n > 9 || a !== ft || i < 8 || i > 15 || e < 0 || e > 9 || s < 0 || s > ht || (8 === i && 1 !== r))\n      )\n        return gt(t, at);\n      8 === i && (i = 9);\n      const o = new Ft();\n      return (\n        (t.state = o),\n        (o.strm = t),\n        (o.status = wt),\n        (o.wrap = r),\n        (o.gzhead = null),\n        (o.w_bits = i),\n        (o.w_size = 1 << o.w_bits),\n        (o.w_mask = o.w_size - 1),\n        (o.hash_bits = n + 7),\n        (o.hash_size = 1 << o.hash_bits),\n        (o.hash_mask = o.hash_size - 1),\n        (o.hash_shift = ~~((o.hash_bits + 3 - 1) / 3)),\n        (o.window = new Uint8Array(2 * o.w_size)),\n        (o.head = new Uint16Array(o.hash_size)),\n        (o.prev = new Uint16Array(o.w_size)),\n        (o.lit_bufsize = 1 << (n + 6)),\n        (o.pending_buf_size = 4 * o.lit_bufsize),\n        (o.pending_buf = new Uint8Array(o.pending_buf_size)),\n        (o.sym_buf = o.lit_bufsize),\n        (o.sym_end = 3 * (o.lit_bufsize - 1)),\n        (o.level = e),\n        (o.strategy = s),\n        (o.method = a),\n        Bt(t)\n      );\n    };\n  var Mt = {\n    deflateInit: (t, e) => Ct(t, e, ft, 15, 8, dt),\n    deflateInit2: Ct,\n    deflateReset: Bt,\n    deflateResetKeep: Nt,\n    deflateSetHeader: (t, e) => (Lt(t) || 2 !== t.state.wrap ? at : ((t.state.gzhead = e), tt)),\n    deflate: (t, e) => {\n      if (Lt(t) || e > $ || e < 0) return t ? gt(t, at) : at;\n      const a = t.state;\n      if (!t.output || (0 !== t.avail_in && !t.input) || (a.status === bt && e !== V))\n        return gt(t, 0 === t.avail_out ? nt : at);\n      const i = a.last_flush;\n      if (((a.last_flush = e), 0 !== a.pending)) {\n        if ((xt(t), 0 === t.avail_out)) return (a.last_flush = -1), tt;\n      } else if (0 === t.avail_in && pt(e) <= pt(i) && e !== V) return gt(t, nt);\n      if (a.status === bt && 0 !== t.avail_in) return gt(t, nt);\n      if ((a.status === wt && 0 === a.wrap && (a.status = mt), a.status === wt)) {\n        let e = (ft + ((a.w_bits - 8) << 4)) << 8,\n          i = -1;\n        if (\n          ((i = a.strategy >= ot || a.level < 2 ? 0 : a.level < 6 ? 1 : 6 === a.level ? 2 : 3),\n          (e |= i << 6),\n          0 !== a.strstart && (e |= 32),\n          (e += 31 - (e % 31)),\n          Et(a, e),\n          0 !== a.strstart && (Et(a, t.adler >>> 16), Et(a, 65535 & t.adler)),\n          (t.adler = 1),\n          (a.status = mt),\n          xt(t),\n          0 !== a.pending)\n        )\n          return (a.last_flush = -1), tt;\n      }\n      if (57 === a.status)\n        if (((t.adler = 0), At(a, 31), At(a, 139), At(a, 8), a.gzhead))\n          At(\n            a,\n            (a.gzhead.text ? 1 : 0) +\n              (a.gzhead.hcrc ? 2 : 0) +\n              (a.gzhead.extra ? 4 : 0) +\n              (a.gzhead.name ? 8 : 0) +\n              (a.gzhead.comment ? 16 : 0)\n          ),\n            At(a, 255 & a.gzhead.time),\n            At(a, (a.gzhead.time >> 8) & 255),\n            At(a, (a.gzhead.time >> 16) & 255),\n            At(a, (a.gzhead.time >> 24) & 255),\n            At(a, 9 === a.level ? 2 : a.strategy >= ot || a.level < 2 ? 4 : 0),\n            At(a, 255 & a.gzhead.os),\n            a.gzhead.extra &&\n              a.gzhead.extra.length &&\n              (At(a, 255 & a.gzhead.extra.length), At(a, (a.gzhead.extra.length >> 8) & 255)),\n            a.gzhead.hcrc && (t.adler = H(t.adler, a.pending_buf, a.pending, 0)),\n            (a.gzindex = 0),\n            (a.status = 69);\n        else if (\n          (At(a, 0),\n          At(a, 0),\n          At(a, 0),\n          At(a, 0),\n          At(a, 0),\n          At(a, 9 === a.level ? 2 : a.strategy >= ot || a.level < 2 ? 4 : 0),\n          At(a, 3),\n          (a.status = mt),\n          xt(t),\n          0 !== a.pending)\n        )\n          return (a.last_flush = -1), tt;\n      if (69 === a.status) {\n        if (a.gzhead.extra) {\n          let e = a.pending,\n            i = (65535 & a.gzhead.extra.length) - a.gzindex;\n          for (; a.pending + i > a.pending_buf_size; ) {\n            let n = a.pending_buf_size - a.pending;\n            if (\n              (a.pending_buf.set(a.gzhead.extra.subarray(a.gzindex, a.gzindex + n), a.pending),\n              (a.pending = a.pending_buf_size),\n              a.gzhead.hcrc && a.pending > e && (t.adler = H(t.adler, a.pending_buf, a.pending - e, e)),\n              (a.gzindex += n),\n              xt(t),\n              0 !== a.pending)\n            )\n              return (a.last_flush = -1), tt;\n            (e = 0), (i -= n);\n          }\n          let n = new Uint8Array(a.gzhead.extra);\n          a.pending_buf.set(n.subarray(a.gzindex, a.gzindex + i), a.pending),\n            (a.pending += i),\n            a.gzhead.hcrc && a.pending > e && (t.adler = H(t.adler, a.pending_buf, a.pending - e, e)),\n            (a.gzindex = 0);\n        }\n        a.status = 73;\n      }\n      if (73 === a.status) {\n        if (a.gzhead.name) {\n          let e,\n            i = a.pending;\n          do {\n            if (a.pending === a.pending_buf_size) {\n              if (\n                (a.gzhead.hcrc && a.pending > i && (t.adler = H(t.adler, a.pending_buf, a.pending - i, i)),\n                xt(t),\n                0 !== a.pending)\n              )\n                return (a.last_flush = -1), tt;\n              i = 0;\n            }\n            (e = a.gzindex < a.gzhead.name.length ? 255 & a.gzhead.name.charCodeAt(a.gzindex++) : 0), At(a, e);\n          } while (0 !== e);\n          a.gzhead.hcrc && a.pending > i && (t.adler = H(t.adler, a.pending_buf, a.pending - i, i)), (a.gzindex = 0);\n        }\n        a.status = 91;\n      }\n      if (91 === a.status) {\n        if (a.gzhead.comment) {\n          let e,\n            i = a.pending;\n          do {\n            if (a.pending === a.pending_buf_size) {\n              if (\n                (a.gzhead.hcrc && a.pending > i && (t.adler = H(t.adler, a.pending_buf, a.pending - i, i)),\n                xt(t),\n                0 !== a.pending)\n              )\n                return (a.last_flush = -1), tt;\n              i = 0;\n            }\n            (e = a.gzindex < a.gzhead.comment.length ? 255 & a.gzhead.comment.charCodeAt(a.gzindex++) : 0), At(a, e);\n          } while (0 !== e);\n          a.gzhead.hcrc && a.pending > i && (t.adler = H(t.adler, a.pending_buf, a.pending - i, i));\n        }\n        a.status = 103;\n      }\n      if (103 === a.status) {\n        if (a.gzhead.hcrc) {\n          if (a.pending + 2 > a.pending_buf_size && (xt(t), 0 !== a.pending)) return (a.last_flush = -1), tt;\n          At(a, 255 & t.adler), At(a, (t.adler >> 8) & 255), (t.adler = 0);\n        }\n        if (((a.status = mt), xt(t), 0 !== a.pending)) return (a.last_flush = -1), tt;\n      }\n      if (0 !== t.avail_in || 0 !== a.lookahead || (e !== q && a.status !== bt)) {\n        let i =\n          0 === a.level\n            ? St(a, e)\n            : a.strategy === ot\n            ? ((t, e) => {\n                let a;\n                for (;;) {\n                  if (0 === t.lookahead && (Ut(t), 0 === t.lookahead)) {\n                    if (e === q) return 1;\n                    break;\n                  }\n                  if (\n                    ((t.match_length = 0),\n                    (a = X(t, 0, t.window[t.strstart])),\n                    t.lookahead--,\n                    t.strstart++,\n                    a && (zt(t, !1), 0 === t.strm.avail_out))\n                  )\n                    return 1;\n                }\n                return (\n                  (t.insert = 0),\n                  e === V\n                    ? (zt(t, !0), 0 === t.strm.avail_out ? 3 : 4)\n                    : t.sym_next && (zt(t, !1), 0 === t.strm.avail_out)\n                    ? 1\n                    : 2\n                );\n              })(a, e)\n            : a.strategy === lt\n            ? ((t, e) => {\n                let a, i, n, s;\n                const r = t.window;\n                for (;;) {\n                  if (t.lookahead <= ct) {\n                    if ((Ut(t), t.lookahead <= ct && e === q)) return 1;\n                    if (0 === t.lookahead) break;\n                  }\n                  if (\n                    ((t.match_length = 0),\n                    t.lookahead >= 3 &&\n                      t.strstart > 0 &&\n                      ((n = t.strstart - 1), (i = r[n]), i === r[++n] && i === r[++n] && i === r[++n]))\n                  ) {\n                    s = t.strstart + ct;\n                    do {} while (\n                      i === r[++n] &&\n                      i === r[++n] &&\n                      i === r[++n] &&\n                      i === r[++n] &&\n                      i === r[++n] &&\n                      i === r[++n] &&\n                      i === r[++n] &&\n                      i === r[++n] &&\n                      n < s\n                    );\n                    (t.match_length = ct - (s - n)), t.match_length > t.lookahead && (t.match_length = t.lookahead);\n                  }\n                  if (\n                    (t.match_length >= 3\n                      ? ((a = X(t, 1, t.match_length - 3)),\n                        (t.lookahead -= t.match_length),\n                        (t.strstart += t.match_length),\n                        (t.match_length = 0))\n                      : ((a = X(t, 0, t.window[t.strstart])), t.lookahead--, t.strstart++),\n                    a && (zt(t, !1), 0 === t.strm.avail_out))\n                  )\n                    return 1;\n                }\n                return (\n                  (t.insert = 0),\n                  e === V\n                    ? (zt(t, !0), 0 === t.strm.avail_out ? 3 : 4)\n                    : t.sym_next && (zt(t, !1), 0 === t.strm.avail_out)\n                    ? 1\n                    : 2\n                );\n              })(a, e)\n            : It[a.level].func(a, e);\n        if (((3 !== i && 4 !== i) || (a.status = bt), 1 === i || 3 === i))\n          return 0 === t.avail_out && (a.last_flush = -1), tt;\n        if (\n          2 === i &&\n          (e === J\n            ? W(a)\n            : e !== $ &&\n              (Y(a, 0, 0, !1),\n              e === Q && (kt(a.head), 0 === a.lookahead && ((a.strstart = 0), (a.block_start = 0), (a.insert = 0)))),\n          xt(t),\n          0 === t.avail_out)\n        )\n          return (a.last_flush = -1), tt;\n      }\n      return e !== V\n        ? tt\n        : a.wrap <= 0\n        ? et\n        : (2 === a.wrap\n            ? (At(a, 255 & t.adler),\n              At(a, (t.adler >> 8) & 255),\n              At(a, (t.adler >> 16) & 255),\n              At(a, (t.adler >> 24) & 255),\n              At(a, 255 & t.total_in),\n              At(a, (t.total_in >> 8) & 255),\n              At(a, (t.total_in >> 16) & 255),\n              At(a, (t.total_in >> 24) & 255))\n            : (Et(a, t.adler >>> 16), Et(a, 65535 & t.adler)),\n          xt(t),\n          a.wrap > 0 && (a.wrap = -a.wrap),\n          0 !== a.pending ? tt : et);\n    },\n    deflateEnd: (t) => {\n      if (Lt(t)) return at;\n      const e = t.state.status;\n      return (t.state = null), e === mt ? gt(t, it) : tt;\n    },\n    deflateSetDictionary: (t, e) => {\n      let a = e.length;\n      if (Lt(t)) return at;\n      const i = t.state,\n        n = i.wrap;\n      if (2 === n || (1 === n && i.status !== wt) || i.lookahead) return at;\n      if ((1 === n && (t.adler = C(t.adler, e, a, 0)), (i.wrap = 0), a >= i.w_size)) {\n        0 === n && (kt(i.head), (i.strstart = 0), (i.block_start = 0), (i.insert = 0));\n        let t = new Uint8Array(i.w_size);\n        t.set(e.subarray(a - i.w_size, a), 0), (e = t), (a = i.w_size);\n      }\n      const s = t.avail_in,\n        r = t.next_in,\n        o = t.input;\n      for (t.avail_in = a, t.next_in = 0, t.input = e, Ut(i); i.lookahead >= 3; ) {\n        let t = i.strstart,\n          e = i.lookahead - 2;\n        do {\n          (i.ins_h = yt(i, i.ins_h, i.window[t + 3 - 1])),\n            (i.prev[t & i.w_mask] = i.head[i.ins_h]),\n            (i.head[i.ins_h] = t),\n            t++;\n        } while (--e);\n        (i.strstart = t), (i.lookahead = 2), Ut(i);\n      }\n      return (\n        (i.strstart += i.lookahead),\n        (i.block_start = i.strstart),\n        (i.insert = i.lookahead),\n        (i.lookahead = 0),\n        (i.match_length = i.prev_length = 2),\n        (i.match_available = 0),\n        (t.next_in = r),\n        (t.input = o),\n        (t.avail_in = s),\n        (i.wrap = n),\n        tt\n      );\n    },\n    deflateInfo: 'pako deflate (from Nodeca project)',\n  };\n  const Ht = (t, e) => Object.prototype.hasOwnProperty.call(t, e);\n  var jt = function (t) {\n      const e = Array.prototype.slice.call(arguments, 1);\n      for (; e.length; ) {\n        const a = e.shift();\n        if (a) {\n          if ('object' != typeof a) throw new TypeError(a + 'must be non-object');\n          for (const e in a) Ht(a, e) && (t[e] = a[e]);\n        }\n      }\n      return t;\n    },\n    Kt = (t) => {\n      let e = 0;\n      for (let a = 0, i = t.length; a < i; a++) e += t[a].length;\n      const a = new Uint8Array(e);\n      for (let e = 0, i = 0, n = t.length; e < n; e++) {\n        let n = t[e];\n        a.set(n, i), (i += n.length);\n      }\n      return a;\n    };\n  let Pt = !0;\n  try {\n    String.fromCharCode.apply(null, new Uint8Array(1));\n  } catch (t) {\n    Pt = !1;\n  }\n  const Yt = new Uint8Array(256);\n  for (let t = 0; t < 256; t++) Yt[t] = t >= 252 ? 6 : t >= 248 ? 5 : t >= 240 ? 4 : t >= 224 ? 3 : t >= 192 ? 2 : 1;\n  Yt[254] = Yt[254] = 1;\n  var Gt = (t) => {\n      if ('function' == typeof TextEncoder && TextEncoder.prototype.encode) return new TextEncoder().encode(t);\n      let e,\n        a,\n        i,\n        n,\n        s,\n        r = t.length,\n        o = 0;\n      for (n = 0; n < r; n++)\n        (a = t.charCodeAt(n)),\n          55296 == (64512 & a) &&\n            n + 1 < r &&\n            ((i = t.charCodeAt(n + 1)), 56320 == (64512 & i) && ((a = 65536 + ((a - 55296) << 10) + (i - 56320)), n++)),\n          (o += a < 128 ? 1 : a < 2048 ? 2 : a < 65536 ? 3 : 4);\n      for (e = new Uint8Array(o), s = 0, n = 0; s < o; n++)\n        (a = t.charCodeAt(n)),\n          55296 == (64512 & a) &&\n            n + 1 < r &&\n            ((i = t.charCodeAt(n + 1)), 56320 == (64512 & i) && ((a = 65536 + ((a - 55296) << 10) + (i - 56320)), n++)),\n          a < 128\n            ? (e[s++] = a)\n            : a < 2048\n            ? ((e[s++] = 192 | (a >>> 6)), (e[s++] = 128 | (63 & a)))\n            : a < 65536\n            ? ((e[s++] = 224 | (a >>> 12)), (e[s++] = 128 | ((a >>> 6) & 63)), (e[s++] = 128 | (63 & a)))\n            : ((e[s++] = 240 | (a >>> 18)),\n              (e[s++] = 128 | ((a >>> 12) & 63)),\n              (e[s++] = 128 | ((a >>> 6) & 63)),\n              (e[s++] = 128 | (63 & a)));\n      return e;\n    },\n    Xt = (t, e) => {\n      const a = e || t.length;\n      if ('function' == typeof TextDecoder && TextDecoder.prototype.decode)\n        return new TextDecoder().decode(t.subarray(0, e));\n      let i, n;\n      const s = new Array(2 * a);\n      for (n = 0, i = 0; i < a; ) {\n        let e = t[i++];\n        if (e < 128) {\n          s[n++] = e;\n          continue;\n        }\n        let r = Yt[e];\n        if (r > 4) (s[n++] = 65533), (i += r - 1);\n        else {\n          for (e &= 2 === r ? 31 : 3 === r ? 15 : 7; r > 1 && i < a; ) (e = (e << 6) | (63 & t[i++])), r--;\n          r > 1\n            ? (s[n++] = 65533)\n            : e < 65536\n            ? (s[n++] = e)\n            : ((e -= 65536), (s[n++] = 55296 | ((e >> 10) & 1023)), (s[n++] = 56320 | (1023 & e)));\n        }\n      }\n      return ((t, e) => {\n        if (e < 65534 && t.subarray && Pt)\n          return String.fromCharCode.apply(null, t.length === e ? t : t.subarray(0, e));\n        let a = '';\n        for (let i = 0; i < e; i++) a += String.fromCharCode(t[i]);\n        return a;\n      })(s, n);\n    },\n    Wt = (t, e) => {\n      (e = e || t.length) > t.length && (e = t.length);\n      let a = e - 1;\n      for (; a >= 0 && 128 == (192 & t[a]); ) a--;\n      return a < 0 || 0 === a ? e : a + Yt[t[a]] > e ? a : e;\n    };\n  var qt = function () {\n    (this.input = null),\n      (this.next_in = 0),\n      (this.avail_in = 0),\n      (this.total_in = 0),\n      (this.output = null),\n      (this.next_out = 0),\n      (this.avail_out = 0),\n      (this.total_out = 0),\n      (this.msg = ''),\n      (this.state = null),\n      (this.data_type = 2),\n      (this.adler = 0);\n  };\n  const Jt = Object.prototype.toString,\n    {\n      Z_NO_FLUSH: Qt,\n      Z_SYNC_FLUSH: Vt,\n      Z_FULL_FLUSH: $t,\n      Z_FINISH: te,\n      Z_OK: ee,\n      Z_STREAM_END: ae,\n      Z_DEFAULT_COMPRESSION: ie,\n      Z_DEFAULT_STRATEGY: ne,\n      Z_DEFLATED: se,\n    } = K;\n  function re(t) {\n    this.options = jt({ level: ie, method: se, chunkSize: 16384, windowBits: 15, memLevel: 8, strategy: ne }, t || {});\n    let e = this.options;\n    e.raw && e.windowBits > 0\n      ? (e.windowBits = -e.windowBits)\n      : e.gzip && e.windowBits > 0 && e.windowBits < 16 && (e.windowBits += 16),\n      (this.err = 0),\n      (this.msg = ''),\n      (this.ended = !1),\n      (this.chunks = []),\n      (this.strm = new qt()),\n      (this.strm.avail_out = 0);\n    let a = Mt.deflateInit2(this.strm, e.level, e.method, e.windowBits, e.memLevel, e.strategy);\n    if (a !== ee) throw new Error(j[a]);\n    if ((e.header && Mt.deflateSetHeader(this.strm, e.header), e.dictionary)) {\n      let t;\n      if (\n        ((t =\n          'string' == typeof e.dictionary\n            ? Gt(e.dictionary)\n            : '[object ArrayBuffer]' === Jt.call(e.dictionary)\n            ? new Uint8Array(e.dictionary)\n            : e.dictionary),\n        (a = Mt.deflateSetDictionary(this.strm, t)),\n        a !== ee)\n      )\n        throw new Error(j[a]);\n      this._dict_set = !0;\n    }\n  }\n  function oe(t, e) {\n    const a = new re(e);\n    if ((a.push(t, !0), a.err)) throw a.msg || j[a.err];\n    return a.result;\n  }\n  (re.prototype.push = function (t, e) {\n    const a = this.strm,\n      i = this.options.chunkSize;\n    let n, s;\n    if (this.ended) return !1;\n    for (\n      s = e === ~~e ? e : !0 === e ? te : Qt,\n        'string' == typeof t\n          ? (a.input = Gt(t))\n          : '[object ArrayBuffer]' === Jt.call(t)\n          ? (a.input = new Uint8Array(t))\n          : (a.input = t),\n        a.next_in = 0,\n        a.avail_in = a.input.length;\n      ;\n\n    )\n      if (\n        (0 === a.avail_out && ((a.output = new Uint8Array(i)), (a.next_out = 0), (a.avail_out = i)),\n        (s === Vt || s === $t) && a.avail_out <= 6)\n      )\n        this.onData(a.output.subarray(0, a.next_out)), (a.avail_out = 0);\n      else {\n        if (((n = Mt.deflate(a, s)), n === ae))\n          return (\n            a.next_out > 0 && this.onData(a.output.subarray(0, a.next_out)),\n            (n = Mt.deflateEnd(this.strm)),\n            this.onEnd(n),\n            (this.ended = !0),\n            n === ee\n          );\n        if (0 !== a.avail_out) {\n          if (s > 0 && a.next_out > 0) this.onData(a.output.subarray(0, a.next_out)), (a.avail_out = 0);\n          else if (0 === a.avail_in) break;\n        } else this.onData(a.output);\n      }\n    return !0;\n  }),\n    (re.prototype.onData = function (t) {\n      this.chunks.push(t);\n    }),\n    (re.prototype.onEnd = function (t) {\n      t === ee && (this.result = Kt(this.chunks)), (this.chunks = []), (this.err = t), (this.msg = this.strm.msg);\n    });\n  var le = {\n    Deflate: re,\n    deflate: oe,\n    deflateRaw: function (t, e) {\n      return ((e = e || {}).raw = !0), oe(t, e);\n    },\n    gzip: function (t, e) {\n      return ((e = e || {}).gzip = !0), oe(t, e);\n    },\n    constants: K,\n  };\n  const he = 16209;\n  var de = function (t, e) {\n    let a, i, n, s, r, o, l, h, d, _, f, c, u, w, m, b, g, p, k, v, y, x, z, A;\n    const E = t.state;\n    (a = t.next_in),\n      (z = t.input),\n      (i = a + (t.avail_in - 5)),\n      (n = t.next_out),\n      (A = t.output),\n      (s = n - (e - t.avail_out)),\n      (r = n + (t.avail_out - 257)),\n      (o = E.dmax),\n      (l = E.wsize),\n      (h = E.whave),\n      (d = E.wnext),\n      (_ = E.window),\n      (f = E.hold),\n      (c = E.bits),\n      (u = E.lencode),\n      (w = E.distcode),\n      (m = (1 << E.lenbits) - 1),\n      (b = (1 << E.distbits) - 1);\n    t: do {\n      c < 15 && ((f += z[a++] << c), (c += 8), (f += z[a++] << c), (c += 8)), (g = u[f & m]);\n      e: for (;;) {\n        if (((p = g >>> 24), (f >>>= p), (c -= p), (p = (g >>> 16) & 255), 0 === p)) A[n++] = 65535 & g;\n        else {\n          if (!(16 & p)) {\n            if (0 == (64 & p)) {\n              g = u[(65535 & g) + (f & ((1 << p) - 1))];\n              continue e;\n            }\n            if (32 & p) {\n              E.mode = 16191;\n              break t;\n            }\n            (t.msg = 'invalid literal/length code'), (E.mode = he);\n            break t;\n          }\n          (k = 65535 & g),\n            (p &= 15),\n            p && (c < p && ((f += z[a++] << c), (c += 8)), (k += f & ((1 << p) - 1)), (f >>>= p), (c -= p)),\n            c < 15 && ((f += z[a++] << c), (c += 8), (f += z[a++] << c), (c += 8)),\n            (g = w[f & b]);\n          a: for (;;) {\n            if (((p = g >>> 24), (f >>>= p), (c -= p), (p = (g >>> 16) & 255), !(16 & p))) {\n              if (0 == (64 & p)) {\n                g = w[(65535 & g) + (f & ((1 << p) - 1))];\n                continue a;\n              }\n              (t.msg = 'invalid distance code'), (E.mode = he);\n              break t;\n            }\n            if (\n              ((v = 65535 & g),\n              (p &= 15),\n              c < p && ((f += z[a++] << c), (c += 8), c < p && ((f += z[a++] << c), (c += 8))),\n              (v += f & ((1 << p) - 1)),\n              v > o)\n            ) {\n              (t.msg = 'invalid distance too far back'), (E.mode = he);\n              break t;\n            }\n            if (((f >>>= p), (c -= p), (p = n - s), v > p)) {\n              if (((p = v - p), p > h && E.sane)) {\n                (t.msg = 'invalid distance too far back'), (E.mode = he);\n                break t;\n              }\n              if (((y = 0), (x = _), 0 === d)) {\n                if (((y += l - p), p < k)) {\n                  k -= p;\n                  do {\n                    A[n++] = _[y++];\n                  } while (--p);\n                  (y = n - v), (x = A);\n                }\n              } else if (d < p) {\n                if (((y += l + d - p), (p -= d), p < k)) {\n                  k -= p;\n                  do {\n                    A[n++] = _[y++];\n                  } while (--p);\n                  if (((y = 0), d < k)) {\n                    (p = d), (k -= p);\n                    do {\n                      A[n++] = _[y++];\n                    } while (--p);\n                    (y = n - v), (x = A);\n                  }\n                }\n              } else if (((y += d - p), p < k)) {\n                k -= p;\n                do {\n                  A[n++] = _[y++];\n                } while (--p);\n                (y = n - v), (x = A);\n              }\n              for (; k > 2; ) (A[n++] = x[y++]), (A[n++] = x[y++]), (A[n++] = x[y++]), (k -= 3);\n              k && ((A[n++] = x[y++]), k > 1 && (A[n++] = x[y++]));\n            } else {\n              y = n - v;\n              do {\n                (A[n++] = A[y++]), (A[n++] = A[y++]), (A[n++] = A[y++]), (k -= 3);\n              } while (k > 2);\n              k && ((A[n++] = A[y++]), k > 1 && (A[n++] = A[y++]));\n            }\n            break;\n          }\n        }\n        break;\n      }\n    } while (a < i && n < r);\n    (k = c >> 3),\n      (a -= k),\n      (c -= k << 3),\n      (f &= (1 << c) - 1),\n      (t.next_in = a),\n      (t.next_out = n),\n      (t.avail_in = a < i ? i - a + 5 : 5 - (a - i)),\n      (t.avail_out = n < r ? r - n + 257 : 257 - (n - r)),\n      (E.hold = f),\n      (E.bits = c);\n  };\n  const _e = 15,\n    fe = new Uint16Array([\n      3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258,\n      0, 0,\n    ]),\n    ce = new Uint8Array([\n      16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21,\n      16, 72, 78,\n    ]),\n    ue = new Uint16Array([\n      1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145,\n      8193, 12289, 16385, 24577, 0, 0,\n    ]),\n    we = new Uint8Array([\n      16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28,\n      29, 29, 64, 64,\n    ]);\n  var me = (t, e, a, i, n, s, r, o) => {\n    const l = o.bits;\n    let h,\n      d,\n      _,\n      f,\n      c,\n      u,\n      w = 0,\n      m = 0,\n      b = 0,\n      g = 0,\n      p = 0,\n      k = 0,\n      v = 0,\n      y = 0,\n      x = 0,\n      z = 0,\n      A = null;\n    const E = new Uint16Array(16),\n      R = new Uint16Array(16);\n    let Z,\n      U,\n      S,\n      D = null;\n    for (w = 0; w <= _e; w++) E[w] = 0;\n    for (m = 0; m < i; m++) E[e[a + m]]++;\n    for (p = l, g = _e; g >= 1 && 0 === E[g]; g--);\n    if ((p > g && (p = g), 0 === g)) return (n[s++] = 20971520), (n[s++] = 20971520), (o.bits = 1), 0;\n    for (b = 1; b < g && 0 === E[b]; b++);\n    for (p < b && (p = b), y = 1, w = 1; w <= _e; w++) if (((y <<= 1), (y -= E[w]), y < 0)) return -1;\n    if (y > 0 && (0 === t || 1 !== g)) return -1;\n    for (R[1] = 0, w = 1; w < _e; w++) R[w + 1] = R[w] + E[w];\n    for (m = 0; m < i; m++) 0 !== e[a + m] && (r[R[e[a + m]]++] = m);\n    if (\n      (0 === t ? ((A = D = r), (u = 20)) : 1 === t ? ((A = fe), (D = ce), (u = 257)) : ((A = ue), (D = we), (u = 0)),\n      (z = 0),\n      (m = 0),\n      (w = b),\n      (c = s),\n      (k = p),\n      (v = 0),\n      (_ = -1),\n      (x = 1 << p),\n      (f = x - 1),\n      (1 === t && x > 852) || (2 === t && x > 592))\n    )\n      return 1;\n    for (;;) {\n      (Z = w - v),\n        r[m] + 1 < u ? ((U = 0), (S = r[m])) : r[m] >= u ? ((U = D[r[m] - u]), (S = A[r[m] - u])) : ((U = 96), (S = 0)),\n        (h = 1 << (w - v)),\n        (d = 1 << k),\n        (b = d);\n      do {\n        (d -= h), (n[c + (z >> v) + d] = (Z << 24) | (U << 16) | S | 0);\n      } while (0 !== d);\n      for (h = 1 << (w - 1); z & h; ) h >>= 1;\n      if ((0 !== h ? ((z &= h - 1), (z += h)) : (z = 0), m++, 0 == --E[w])) {\n        if (w === g) break;\n        w = e[a + r[m]];\n      }\n      if (w > p && (z & f) !== _) {\n        for (0 === v && (v = p), c += b, k = w - v, y = 1 << k; k + v < g && ((y -= E[k + v]), !(y <= 0)); )\n          k++, (y <<= 1);\n        if (((x += 1 << k), (1 === t && x > 852) || (2 === t && x > 592))) return 1;\n        (_ = z & f), (n[_] = (p << 24) | (k << 16) | (c - s) | 0);\n      }\n    }\n    return 0 !== z && (n[c + z] = ((w - v) << 24) | (64 << 16) | 0), (o.bits = p), 0;\n  };\n  const {\n      Z_FINISH: be,\n      Z_BLOCK: ge,\n      Z_TREES: pe,\n      Z_OK: ke,\n      Z_STREAM_END: ve,\n      Z_NEED_DICT: ye,\n      Z_STREAM_ERROR: xe,\n      Z_DATA_ERROR: ze,\n      Z_MEM_ERROR: Ae,\n      Z_BUF_ERROR: Ee,\n      Z_DEFLATED: Re,\n    } = K,\n    Ze = 16180,\n    Ue = 16190,\n    Se = 16191,\n    De = 16192,\n    Te = 16194,\n    Oe = 16199,\n    Ie = 16200,\n    Fe = 16206,\n    Le = 16209,\n    Ne = (t) => ((t >>> 24) & 255) + ((t >>> 8) & 65280) + ((65280 & t) << 8) + ((255 & t) << 24);\n  function Be() {\n    (this.strm = null),\n      (this.mode = 0),\n      (this.last = !1),\n      (this.wrap = 0),\n      (this.havedict = !1),\n      (this.flags = 0),\n      (this.dmax = 0),\n      (this.check = 0),\n      (this.total = 0),\n      (this.head = null),\n      (this.wbits = 0),\n      (this.wsize = 0),\n      (this.whave = 0),\n      (this.wnext = 0),\n      (this.window = null),\n      (this.hold = 0),\n      (this.bits = 0),\n      (this.length = 0),\n      (this.offset = 0),\n      (this.extra = 0),\n      (this.lencode = null),\n      (this.distcode = null),\n      (this.lenbits = 0),\n      (this.distbits = 0),\n      (this.ncode = 0),\n      (this.nlen = 0),\n      (this.ndist = 0),\n      (this.have = 0),\n      (this.next = null),\n      (this.lens = new Uint16Array(320)),\n      (this.work = new Uint16Array(288)),\n      (this.lendyn = null),\n      (this.distdyn = null),\n      (this.sane = 0),\n      (this.back = 0),\n      (this.was = 0);\n  }\n  const Ce = (t) => {\n      if (!t) return 1;\n      const e = t.state;\n      return !e || e.strm !== t || e.mode < Ze || e.mode > 16211 ? 1 : 0;\n    },\n    Me = (t) => {\n      if (Ce(t)) return xe;\n      const e = t.state;\n      return (\n        (t.total_in = t.total_out = e.total = 0),\n        (t.msg = ''),\n        e.wrap && (t.adler = 1 & e.wrap),\n        (e.mode = Ze),\n        (e.last = 0),\n        (e.havedict = 0),\n        (e.flags = -1),\n        (e.dmax = 32768),\n        (e.head = null),\n        (e.hold = 0),\n        (e.bits = 0),\n        (e.lencode = e.lendyn = new Int32Array(852)),\n        (e.distcode = e.distdyn = new Int32Array(592)),\n        (e.sane = 1),\n        (e.back = -1),\n        ke\n      );\n    },\n    He = (t) => {\n      if (Ce(t)) return xe;\n      const e = t.state;\n      return (e.wsize = 0), (e.whave = 0), (e.wnext = 0), Me(t);\n    },\n    je = (t, e) => {\n      let a;\n      if (Ce(t)) return xe;\n      const i = t.state;\n      return (\n        e < 0 ? ((a = 0), (e = -e)) : ((a = 5 + (e >> 4)), e < 48 && (e &= 15)),\n        e && (e < 8 || e > 15)\n          ? xe\n          : (null !== i.window && i.wbits !== e && (i.window = null), (i.wrap = a), (i.wbits = e), He(t))\n      );\n    },\n    Ke = (t, e) => {\n      if (!t) return xe;\n      const a = new Be();\n      (t.state = a), (a.strm = t), (a.window = null), (a.mode = Ze);\n      const i = je(t, e);\n      return i !== ke && (t.state = null), i;\n    };\n  let Pe,\n    Ye,\n    Ge = !0;\n  const Xe = (t) => {\n      if (Ge) {\n        (Pe = new Int32Array(512)), (Ye = new Int32Array(32));\n        let e = 0;\n        for (; e < 144; ) t.lens[e++] = 8;\n        for (; e < 256; ) t.lens[e++] = 9;\n        for (; e < 280; ) t.lens[e++] = 7;\n        for (; e < 288; ) t.lens[e++] = 8;\n        for (me(1, t.lens, 0, 288, Pe, 0, t.work, { bits: 9 }), e = 0; e < 32; ) t.lens[e++] = 5;\n        me(2, t.lens, 0, 32, Ye, 0, t.work, { bits: 5 }), (Ge = !1);\n      }\n      (t.lencode = Pe), (t.lenbits = 9), (t.distcode = Ye), (t.distbits = 5);\n    },\n    We = (t, e, a, i) => {\n      let n;\n      const s = t.state;\n      return (\n        null === s.window &&\n          ((s.wsize = 1 << s.wbits), (s.wnext = 0), (s.whave = 0), (s.window = new Uint8Array(s.wsize))),\n        i >= s.wsize\n          ? (s.window.set(e.subarray(a - s.wsize, a), 0), (s.wnext = 0), (s.whave = s.wsize))\n          : ((n = s.wsize - s.wnext),\n            n > i && (n = i),\n            s.window.set(e.subarray(a - i, a - i + n), s.wnext),\n            (i -= n)\n              ? (s.window.set(e.subarray(a - i, a), 0), (s.wnext = i), (s.whave = s.wsize))\n              : ((s.wnext += n), s.wnext === s.wsize && (s.wnext = 0), s.whave < s.wsize && (s.whave += n))),\n        0\n      );\n    };\n  var qe = {\n    inflateReset: He,\n    inflateReset2: je,\n    inflateResetKeep: Me,\n    inflateInit: (t) => Ke(t, 15),\n    inflateInit2: Ke,\n    inflate: (t, e) => {\n      let a,\n        i,\n        n,\n        s,\n        r,\n        o,\n        l,\n        h,\n        d,\n        _,\n        f,\n        c,\n        u,\n        w,\n        m,\n        b,\n        g,\n        p,\n        k,\n        v,\n        y,\n        x,\n        z = 0;\n      const A = new Uint8Array(4);\n      let E, R;\n      const Z = new Uint8Array([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n      if (Ce(t) || !t.output || (!t.input && 0 !== t.avail_in)) return xe;\n      (a = t.state),\n        a.mode === Se && (a.mode = De),\n        (r = t.next_out),\n        (n = t.output),\n        (l = t.avail_out),\n        (s = t.next_in),\n        (i = t.input),\n        (o = t.avail_in),\n        (h = a.hold),\n        (d = a.bits),\n        (_ = o),\n        (f = l),\n        (x = ke);\n      t: for (;;)\n        switch (a.mode) {\n          case Ze:\n            if (0 === a.wrap) {\n              a.mode = De;\n              break;\n            }\n            for (; d < 16; ) {\n              if (0 === o) break t;\n              o--, (h += i[s++] << d), (d += 8);\n            }\n            if (2 & a.wrap && 35615 === h) {\n              0 === a.wbits && (a.wbits = 15),\n                (a.check = 0),\n                (A[0] = 255 & h),\n                (A[1] = (h >>> 8) & 255),\n                (a.check = H(a.check, A, 2, 0)),\n                (h = 0),\n                (d = 0),\n                (a.mode = 16181);\n              break;\n            }\n            if ((a.head && (a.head.done = !1), !(1 & a.wrap) || (((255 & h) << 8) + (h >> 8)) % 31)) {\n              (t.msg = 'incorrect header check'), (a.mode = Le);\n              break;\n            }\n            if ((15 & h) !== Re) {\n              (t.msg = 'unknown compression method'), (a.mode = Le);\n              break;\n            }\n            if (((h >>>= 4), (d -= 4), (y = 8 + (15 & h)), 0 === a.wbits && (a.wbits = y), y > 15 || y > a.wbits)) {\n              (t.msg = 'invalid window size'), (a.mode = Le);\n              break;\n            }\n            (a.dmax = 1 << a.wbits),\n              (a.flags = 0),\n              (t.adler = a.check = 1),\n              (a.mode = 512 & h ? 16189 : Se),\n              (h = 0),\n              (d = 0);\n            break;\n          case 16181:\n            for (; d < 16; ) {\n              if (0 === o) break t;\n              o--, (h += i[s++] << d), (d += 8);\n            }\n            if (((a.flags = h), (255 & a.flags) !== Re)) {\n              (t.msg = 'unknown compression method'), (a.mode = Le);\n              break;\n            }\n            if (57344 & a.flags) {\n              (t.msg = 'unknown header flags set'), (a.mode = Le);\n              break;\n            }\n            a.head && (a.head.text = (h >> 8) & 1),\n              512 & a.flags &&\n                4 & a.wrap &&\n                ((A[0] = 255 & h), (A[1] = (h >>> 8) & 255), (a.check = H(a.check, A, 2, 0))),\n              (h = 0),\n              (d = 0),\n              (a.mode = 16182);\n          case 16182:\n            for (; d < 32; ) {\n              if (0 === o) break t;\n              o--, (h += i[s++] << d), (d += 8);\n            }\n            a.head && (a.head.time = h),\n              512 & a.flags &&\n                4 & a.wrap &&\n                ((A[0] = 255 & h),\n                (A[1] = (h >>> 8) & 255),\n                (A[2] = (h >>> 16) & 255),\n                (A[3] = (h >>> 24) & 255),\n                (a.check = H(a.check, A, 4, 0))),\n              (h = 0),\n              (d = 0),\n              (a.mode = 16183);\n          case 16183:\n            for (; d < 16; ) {\n              if (0 === o) break t;\n              o--, (h += i[s++] << d), (d += 8);\n            }\n            a.head && ((a.head.xflags = 255 & h), (a.head.os = h >> 8)),\n              512 & a.flags &&\n                4 & a.wrap &&\n                ((A[0] = 255 & h), (A[1] = (h >>> 8) & 255), (a.check = H(a.check, A, 2, 0))),\n              (h = 0),\n              (d = 0),\n              (a.mode = 16184);\n          case 16184:\n            if (1024 & a.flags) {\n              for (; d < 16; ) {\n                if (0 === o) break t;\n                o--, (h += i[s++] << d), (d += 8);\n              }\n              (a.length = h),\n                a.head && (a.head.extra_len = h),\n                512 & a.flags &&\n                  4 & a.wrap &&\n                  ((A[0] = 255 & h), (A[1] = (h >>> 8) & 255), (a.check = H(a.check, A, 2, 0))),\n                (h = 0),\n                (d = 0);\n            } else a.head && (a.head.extra = null);\n            a.mode = 16185;\n          case 16185:\n            if (\n              1024 & a.flags &&\n              ((c = a.length),\n              c > o && (c = o),\n              c &&\n                (a.head &&\n                  ((y = a.head.extra_len - a.length),\n                  a.head.extra || (a.head.extra = new Uint8Array(a.head.extra_len)),\n                  a.head.extra.set(i.subarray(s, s + c), y)),\n                512 & a.flags && 4 & a.wrap && (a.check = H(a.check, i, c, s)),\n                (o -= c),\n                (s += c),\n                (a.length -= c)),\n              a.length)\n            )\n              break t;\n            (a.length = 0), (a.mode = 16186);\n          case 16186:\n            if (2048 & a.flags) {\n              if (0 === o) break t;\n              c = 0;\n              do {\n                (y = i[s + c++]), a.head && y && a.length < 65536 && (a.head.name += String.fromCharCode(y));\n              } while (y && c < o);\n              if ((512 & a.flags && 4 & a.wrap && (a.check = H(a.check, i, c, s)), (o -= c), (s += c), y)) break t;\n            } else a.head && (a.head.name = null);\n            (a.length = 0), (a.mode = 16187);\n          case 16187:\n            if (4096 & a.flags) {\n              if (0 === o) break t;\n              c = 0;\n              do {\n                (y = i[s + c++]), a.head && y && a.length < 65536 && (a.head.comment += String.fromCharCode(y));\n              } while (y && c < o);\n              if ((512 & a.flags && 4 & a.wrap && (a.check = H(a.check, i, c, s)), (o -= c), (s += c), y)) break t;\n            } else a.head && (a.head.comment = null);\n            a.mode = 16188;\n          case 16188:\n            if (512 & a.flags) {\n              for (; d < 16; ) {\n                if (0 === o) break t;\n                o--, (h += i[s++] << d), (d += 8);\n              }\n              if (4 & a.wrap && h !== (65535 & a.check)) {\n                (t.msg = 'header crc mismatch'), (a.mode = Le);\n                break;\n              }\n              (h = 0), (d = 0);\n            }\n            a.head && ((a.head.hcrc = (a.flags >> 9) & 1), (a.head.done = !0)), (t.adler = a.check = 0), (a.mode = Se);\n            break;\n          case 16189:\n            for (; d < 32; ) {\n              if (0 === o) break t;\n              o--, (h += i[s++] << d), (d += 8);\n            }\n            (t.adler = a.check = Ne(h)), (h = 0), (d = 0), (a.mode = Ue);\n          case Ue:\n            if (0 === a.havedict)\n              return (\n                (t.next_out = r), (t.avail_out = l), (t.next_in = s), (t.avail_in = o), (a.hold = h), (a.bits = d), ye\n              );\n            (t.adler = a.check = 1), (a.mode = Se);\n          case Se:\n            if (e === ge || e === pe) break t;\n          case De:\n            if (a.last) {\n              (h >>>= 7 & d), (d -= 7 & d), (a.mode = Fe);\n              break;\n            }\n            for (; d < 3; ) {\n              if (0 === o) break t;\n              o--, (h += i[s++] << d), (d += 8);\n            }\n            switch (((a.last = 1 & h), (h >>>= 1), (d -= 1), 3 & h)) {\n              case 0:\n                a.mode = 16193;\n                break;\n              case 1:\n                if ((Xe(a), (a.mode = Oe), e === pe)) {\n                  (h >>>= 2), (d -= 2);\n                  break t;\n                }\n                break;\n              case 2:\n                a.mode = 16196;\n                break;\n              case 3:\n                (t.msg = 'invalid block type'), (a.mode = Le);\n            }\n            (h >>>= 2), (d -= 2);\n            break;\n          case 16193:\n            for (h >>>= 7 & d, d -= 7 & d; d < 32; ) {\n              if (0 === o) break t;\n              o--, (h += i[s++] << d), (d += 8);\n            }\n            if ((65535 & h) != ((h >>> 16) ^ 65535)) {\n              (t.msg = 'invalid stored block lengths'), (a.mode = Le);\n              break;\n            }\n            if (((a.length = 65535 & h), (h = 0), (d = 0), (a.mode = Te), e === pe)) break t;\n          case Te:\n            a.mode = 16195;\n          case 16195:\n            if (((c = a.length), c)) {\n              if ((c > o && (c = o), c > l && (c = l), 0 === c)) break t;\n              n.set(i.subarray(s, s + c), r), (o -= c), (s += c), (l -= c), (r += c), (a.length -= c);\n              break;\n            }\n            a.mode = Se;\n            break;\n          case 16196:\n            for (; d < 14; ) {\n              if (0 === o) break t;\n              o--, (h += i[s++] << d), (d += 8);\n            }\n            if (\n              ((a.nlen = 257 + (31 & h)),\n              (h >>>= 5),\n              (d -= 5),\n              (a.ndist = 1 + (31 & h)),\n              (h >>>= 5),\n              (d -= 5),\n              (a.ncode = 4 + (15 & h)),\n              (h >>>= 4),\n              (d -= 4),\n              a.nlen > 286 || a.ndist > 30)\n            ) {\n              (t.msg = 'too many length or distance symbols'), (a.mode = Le);\n              break;\n            }\n            (a.have = 0), (a.mode = 16197);\n          case 16197:\n            for (; a.have < a.ncode; ) {\n              for (; d < 3; ) {\n                if (0 === o) break t;\n                o--, (h += i[s++] << d), (d += 8);\n              }\n              (a.lens[Z[a.have++]] = 7 & h), (h >>>= 3), (d -= 3);\n            }\n            for (; a.have < 19; ) a.lens[Z[a.have++]] = 0;\n            if (\n              ((a.lencode = a.lendyn),\n              (a.lenbits = 7),\n              (E = { bits: a.lenbits }),\n              (x = me(0, a.lens, 0, 19, a.lencode, 0, a.work, E)),\n              (a.lenbits = E.bits),\n              x)\n            ) {\n              (t.msg = 'invalid code lengths set'), (a.mode = Le);\n              break;\n            }\n            (a.have = 0), (a.mode = 16198);\n          case 16198:\n            for (; a.have < a.nlen + a.ndist; ) {\n              for (\n                ;\n                (z = a.lencode[h & ((1 << a.lenbits) - 1)]),\n                  (m = z >>> 24),\n                  (b = (z >>> 16) & 255),\n                  (g = 65535 & z),\n                  !(m <= d);\n\n              ) {\n                if (0 === o) break t;\n                o--, (h += i[s++] << d), (d += 8);\n              }\n              if (g < 16) (h >>>= m), (d -= m), (a.lens[a.have++] = g);\n              else {\n                if (16 === g) {\n                  for (R = m + 2; d < R; ) {\n                    if (0 === o) break t;\n                    o--, (h += i[s++] << d), (d += 8);\n                  }\n                  if (((h >>>= m), (d -= m), 0 === a.have)) {\n                    (t.msg = 'invalid bit length repeat'), (a.mode = Le);\n                    break;\n                  }\n                  (y = a.lens[a.have - 1]), (c = 3 + (3 & h)), (h >>>= 2), (d -= 2);\n                } else if (17 === g) {\n                  for (R = m + 3; d < R; ) {\n                    if (0 === o) break t;\n                    o--, (h += i[s++] << d), (d += 8);\n                  }\n                  (h >>>= m), (d -= m), (y = 0), (c = 3 + (7 & h)), (h >>>= 3), (d -= 3);\n                } else {\n                  for (R = m + 7; d < R; ) {\n                    if (0 === o) break t;\n                    o--, (h += i[s++] << d), (d += 8);\n                  }\n                  (h >>>= m), (d -= m), (y = 0), (c = 11 + (127 & h)), (h >>>= 7), (d -= 7);\n                }\n                if (a.have + c > a.nlen + a.ndist) {\n                  (t.msg = 'invalid bit length repeat'), (a.mode = Le);\n                  break;\n                }\n                for (; c--; ) a.lens[a.have++] = y;\n              }\n            }\n            if (a.mode === Le) break;\n            if (0 === a.lens[256]) {\n              (t.msg = 'invalid code -- missing end-of-block'), (a.mode = Le);\n              break;\n            }\n            if (\n              ((a.lenbits = 9),\n              (E = { bits: a.lenbits }),\n              (x = me(1, a.lens, 0, a.nlen, a.lencode, 0, a.work, E)),\n              (a.lenbits = E.bits),\n              x)\n            ) {\n              (t.msg = 'invalid literal/lengths set'), (a.mode = Le);\n              break;\n            }\n            if (\n              ((a.distbits = 6),\n              (a.distcode = a.distdyn),\n              (E = { bits: a.distbits }),\n              (x = me(2, a.lens, a.nlen, a.ndist, a.distcode, 0, a.work, E)),\n              (a.distbits = E.bits),\n              x)\n            ) {\n              (t.msg = 'invalid distances set'), (a.mode = Le);\n              break;\n            }\n            if (((a.mode = Oe), e === pe)) break t;\n          case Oe:\n            a.mode = Ie;\n          case Ie:\n            if (o >= 6 && l >= 258) {\n              (t.next_out = r),\n                (t.avail_out = l),\n                (t.next_in = s),\n                (t.avail_in = o),\n                (a.hold = h),\n                (a.bits = d),\n                de(t, f),\n                (r = t.next_out),\n                (n = t.output),\n                (l = t.avail_out),\n                (s = t.next_in),\n                (i = t.input),\n                (o = t.avail_in),\n                (h = a.hold),\n                (d = a.bits),\n                a.mode === Se && (a.back = -1);\n              break;\n            }\n            for (\n              a.back = 0;\n              (z = a.lencode[h & ((1 << a.lenbits) - 1)]),\n                (m = z >>> 24),\n                (b = (z >>> 16) & 255),\n                (g = 65535 & z),\n                !(m <= d);\n\n            ) {\n              if (0 === o) break t;\n              o--, (h += i[s++] << d), (d += 8);\n            }\n            if (b && 0 == (240 & b)) {\n              for (\n                p = m, k = b, v = g;\n                (z = a.lencode[v + ((h & ((1 << (p + k)) - 1)) >> p)]),\n                  (m = z >>> 24),\n                  (b = (z >>> 16) & 255),\n                  (g = 65535 & z),\n                  !(p + m <= d);\n\n              ) {\n                if (0 === o) break t;\n                o--, (h += i[s++] << d), (d += 8);\n              }\n              (h >>>= p), (d -= p), (a.back += p);\n            }\n            if (((h >>>= m), (d -= m), (a.back += m), (a.length = g), 0 === b)) {\n              a.mode = 16205;\n              break;\n            }\n            if (32 & b) {\n              (a.back = -1), (a.mode = Se);\n              break;\n            }\n            if (64 & b) {\n              (t.msg = 'invalid literal/length code'), (a.mode = Le);\n              break;\n            }\n            (a.extra = 15 & b), (a.mode = 16201);\n          case 16201:\n            if (a.extra) {\n              for (R = a.extra; d < R; ) {\n                if (0 === o) break t;\n                o--, (h += i[s++] << d), (d += 8);\n              }\n              (a.length += h & ((1 << a.extra) - 1)), (h >>>= a.extra), (d -= a.extra), (a.back += a.extra);\n            }\n            (a.was = a.length), (a.mode = 16202);\n          case 16202:\n            for (\n              ;\n              (z = a.distcode[h & ((1 << a.distbits) - 1)]),\n                (m = z >>> 24),\n                (b = (z >>> 16) & 255),\n                (g = 65535 & z),\n                !(m <= d);\n\n            ) {\n              if (0 === o) break t;\n              o--, (h += i[s++] << d), (d += 8);\n            }\n            if (0 == (240 & b)) {\n              for (\n                p = m, k = b, v = g;\n                (z = a.distcode[v + ((h & ((1 << (p + k)) - 1)) >> p)]),\n                  (m = z >>> 24),\n                  (b = (z >>> 16) & 255),\n                  (g = 65535 & z),\n                  !(p + m <= d);\n\n              ) {\n                if (0 === o) break t;\n                o--, (h += i[s++] << d), (d += 8);\n              }\n              (h >>>= p), (d -= p), (a.back += p);\n            }\n            if (((h >>>= m), (d -= m), (a.back += m), 64 & b)) {\n              (t.msg = 'invalid distance code'), (a.mode = Le);\n              break;\n            }\n            (a.offset = g), (a.extra = 15 & b), (a.mode = 16203);\n          case 16203:\n            if (a.extra) {\n              for (R = a.extra; d < R; ) {\n                if (0 === o) break t;\n                o--, (h += i[s++] << d), (d += 8);\n              }\n              (a.offset += h & ((1 << a.extra) - 1)), (h >>>= a.extra), (d -= a.extra), (a.back += a.extra);\n            }\n            if (a.offset > a.dmax) {\n              (t.msg = 'invalid distance too far back'), (a.mode = Le);\n              break;\n            }\n            a.mode = 16204;\n          case 16204:\n            if (0 === l) break t;\n            if (((c = f - l), a.offset > c)) {\n              if (((c = a.offset - c), c > a.whave && a.sane)) {\n                (t.msg = 'invalid distance too far back'), (a.mode = Le);\n                break;\n              }\n              c > a.wnext ? ((c -= a.wnext), (u = a.wsize - c)) : (u = a.wnext - c),\n                c > a.length && (c = a.length),\n                (w = a.window);\n            } else (w = n), (u = r - a.offset), (c = a.length);\n            c > l && (c = l), (l -= c), (a.length -= c);\n            do {\n              n[r++] = w[u++];\n            } while (--c);\n            0 === a.length && (a.mode = Ie);\n            break;\n          case 16205:\n            if (0 === l) break t;\n            (n[r++] = a.length), l--, (a.mode = Ie);\n            break;\n          case Fe:\n            if (a.wrap) {\n              for (; d < 32; ) {\n                if (0 === o) break t;\n                o--, (h |= i[s++] << d), (d += 8);\n              }\n              if (\n                ((f -= l),\n                (t.total_out += f),\n                (a.total += f),\n                4 & a.wrap && f && (t.adler = a.check = a.flags ? H(a.check, n, f, r - f) : C(a.check, n, f, r - f)),\n                (f = l),\n                4 & a.wrap && (a.flags ? h : Ne(h)) !== a.check)\n              ) {\n                (t.msg = 'incorrect data check'), (a.mode = Le);\n                break;\n              }\n              (h = 0), (d = 0);\n            }\n            a.mode = 16207;\n          case 16207:\n            if (a.wrap && a.flags) {\n              for (; d < 32; ) {\n                if (0 === o) break t;\n                o--, (h += i[s++] << d), (d += 8);\n              }\n              if (4 & a.wrap && h !== (4294967295 & a.total)) {\n                (t.msg = 'incorrect length check'), (a.mode = Le);\n                break;\n              }\n              (h = 0), (d = 0);\n            }\n            a.mode = 16208;\n          case 16208:\n            x = ve;\n            break t;\n          case Le:\n            x = ze;\n            break t;\n          case 16210:\n            return Ae;\n          default:\n            return xe;\n        }\n      return (\n        (t.next_out = r),\n        (t.avail_out = l),\n        (t.next_in = s),\n        (t.avail_in = o),\n        (a.hold = h),\n        (a.bits = d),\n        (a.wsize || (f !== t.avail_out && a.mode < Le && (a.mode < Fe || e !== be))) &&\n          We(t, t.output, t.next_out, f - t.avail_out),\n        (_ -= t.avail_in),\n        (f -= t.avail_out),\n        (t.total_in += _),\n        (t.total_out += f),\n        (a.total += f),\n        4 & a.wrap &&\n          f &&\n          (t.adler = a.check = a.flags ? H(a.check, n, f, t.next_out - f) : C(a.check, n, f, t.next_out - f)),\n        (t.data_type =\n          a.bits + (a.last ? 64 : 0) + (a.mode === Se ? 128 : 0) + (a.mode === Oe || a.mode === Te ? 256 : 0)),\n        ((0 === _ && 0 === f) || e === be) && x === ke && (x = Ee),\n        x\n      );\n    },\n    inflateEnd: (t) => {\n      if (Ce(t)) return xe;\n      let e = t.state;\n      return e.window && (e.window = null), (t.state = null), ke;\n    },\n    inflateGetHeader: (t, e) => {\n      if (Ce(t)) return xe;\n      const a = t.state;\n      return 0 == (2 & a.wrap) ? xe : ((a.head = e), (e.done = !1), ke);\n    },\n    inflateSetDictionary: (t, e) => {\n      const a = e.length;\n      let i, n, s;\n      return Ce(t)\n        ? xe\n        : ((i = t.state),\n          0 !== i.wrap && i.mode !== Ue\n            ? xe\n            : i.mode === Ue && ((n = 1), (n = C(n, e, a, 0)), n !== i.check)\n            ? ze\n            : ((s = We(t, e, a, a)), s ? ((i.mode = 16210), Ae) : ((i.havedict = 1), ke)));\n    },\n    inflateInfo: 'pako inflate (from Nodeca project)',\n  };\n  var Je = function () {\n    (this.text = 0),\n      (this.time = 0),\n      (this.xflags = 0),\n      (this.os = 0),\n      (this.extra = null),\n      (this.extra_len = 0),\n      (this.name = ''),\n      (this.comment = ''),\n      (this.hcrc = 0),\n      (this.done = !1);\n  };\n  const Qe = Object.prototype.toString,\n    {\n      Z_NO_FLUSH: Ve,\n      Z_FINISH: $e,\n      Z_OK: ta,\n      Z_STREAM_END: ea,\n      Z_NEED_DICT: aa,\n      Z_STREAM_ERROR: ia,\n      Z_DATA_ERROR: na,\n      Z_MEM_ERROR: sa,\n    } = K;\n  function ra(t) {\n    this.options = jt({ chunkSize: 65536, windowBits: 15, to: '' }, t || {});\n    const e = this.options;\n    e.raw &&\n      e.windowBits >= 0 &&\n      e.windowBits < 16 &&\n      ((e.windowBits = -e.windowBits), 0 === e.windowBits && (e.windowBits = -15)),\n      !(e.windowBits >= 0 && e.windowBits < 16) || (t && t.windowBits) || (e.windowBits += 32),\n      e.windowBits > 15 && e.windowBits < 48 && 0 == (15 & e.windowBits) && (e.windowBits |= 15),\n      (this.err = 0),\n      (this.msg = ''),\n      (this.ended = !1),\n      (this.chunks = []),\n      (this.strm = new qt()),\n      (this.strm.avail_out = 0);\n    let a = qe.inflateInit2(this.strm, e.windowBits);\n    if (a !== ta) throw new Error(j[a]);\n    if (\n      ((this.header = new Je()),\n      qe.inflateGetHeader(this.strm, this.header),\n      e.dictionary &&\n        ('string' == typeof e.dictionary\n          ? (e.dictionary = Gt(e.dictionary))\n          : '[object ArrayBuffer]' === Qe.call(e.dictionary) && (e.dictionary = new Uint8Array(e.dictionary)),\n        e.raw && ((a = qe.inflateSetDictionary(this.strm, e.dictionary)), a !== ta)))\n    )\n      throw new Error(j[a]);\n  }\n  function oa(t, e) {\n    const a = new ra(e);\n    if ((a.push(t), a.err)) throw a.msg || j[a.err];\n    return a.result;\n  }\n  (ra.prototype.push = function (t, e) {\n    const a = this.strm,\n      i = this.options.chunkSize,\n      n = this.options.dictionary;\n    let s, r, o;\n    if (this.ended) return !1;\n    for (\n      r = e === ~~e ? e : !0 === e ? $e : Ve,\n        '[object ArrayBuffer]' === Qe.call(t) ? (a.input = new Uint8Array(t)) : (a.input = t),\n        a.next_in = 0,\n        a.avail_in = a.input.length;\n      ;\n\n    ) {\n      for (\n        0 === a.avail_out && ((a.output = new Uint8Array(i)), (a.next_out = 0), (a.avail_out = i)),\n          s = qe.inflate(a, r),\n          s === aa &&\n            n &&\n            ((s = qe.inflateSetDictionary(a, n)), s === ta ? (s = qe.inflate(a, r)) : s === na && (s = aa));\n        a.avail_in > 0 && s === ea && a.state.wrap > 0 && 0 !== t[a.next_in];\n\n      )\n        qe.inflateReset(a), (s = qe.inflate(a, r));\n      switch (s) {\n        case ia:\n        case na:\n        case aa:\n        case sa:\n          return this.onEnd(s), (this.ended = !0), !1;\n      }\n      if (((o = a.avail_out), a.next_out && (0 === a.avail_out || s === ea)))\n        if ('string' === this.options.to) {\n          let t = Wt(a.output, a.next_out),\n            e = a.next_out - t,\n            n = Xt(a.output, t);\n          (a.next_out = e), (a.avail_out = i - e), e && a.output.set(a.output.subarray(t, t + e), 0), this.onData(n);\n        } else this.onData(a.output.length === a.next_out ? a.output : a.output.subarray(0, a.next_out));\n      if (s !== ta || 0 !== o) {\n        if (s === ea) return (s = qe.inflateEnd(this.strm)), this.onEnd(s), (this.ended = !0), !0;\n        if (0 === a.avail_in) break;\n      }\n    }\n    return !0;\n  }),\n    (ra.prototype.onData = function (t) {\n      this.chunks.push(t);\n    }),\n    (ra.prototype.onEnd = function (t) {\n      t === ta &&\n        ('string' === this.options.to ? (this.result = this.chunks.join('')) : (this.result = Kt(this.chunks))),\n        (this.chunks = []),\n        (this.err = t),\n        (this.msg = this.strm.msg);\n    });\n  var la = {\n    Inflate: ra,\n    inflate: oa,\n    inflateRaw: function (t, e) {\n      return ((e = e || {}).raw = !0), oa(t, e);\n    },\n    ungzip: oa,\n    constants: K,\n  };\n  const { Deflate: ha, deflate: da, deflateRaw: _a, gzip: fa } = le,\n    { Inflate: ca, inflate: ua, inflateRaw: wa, ungzip: ma } = la;\n  var ba = ha,\n    ga = da,\n    pa = _a,\n    ka = fa,\n    va = ca,\n    ya = ua,\n    xa = wa,\n    za = ma,\n    Aa = K,\n    Ea = {\n      Deflate: ba,\n      deflate: ga,\n      deflateRaw: pa,\n      gzip: ka,\n      Inflate: va,\n      inflate: ya,\n      inflateRaw: xa,\n      ungzip: za,\n      constants: Aa,\n    };\n  (t.Deflate = ba),\n    (t.Inflate = va),\n    (t.constants = Aa),\n    (t.default = Ea),\n    (t.deflate = ga),\n    (t.deflateRaw = pa),\n    (t.gzip = ka),\n    (t.inflate = ya),\n    (t.inflateRaw = xa),\n    (t.ungzip = za),\n    Object.defineProperty(t, '__esModule', { value: !0 });\n});\n",
"// Pako is now bundled directly into the worker blob, no need to import\n\nlet config = {};\nlet db;\nlet flushing = false;\nconst DB_NAME = 'conviva-session-record-db';\nconst STORE_NAME = 'events';\nconst POLICY_NAME = 'uploadPolicy';\nconst POLICY_KEY = 'policy';\nconst LOCK_STORE_NAME = 'flushLock';\nconst LOCK_KEY = 'lock';\nconst FLUSH_TIMESTAMP_STORE_NAME = 'flushTimestamp';\nconst FLUSH_TIMESTAMP_KEY = 'lastFlushTimestamp';\nconst MAX_EVENTS = 5000; //TODO: Check device storage\nconst FLUSH_TIME = 60 * 1000;\nconst FLUSH_COOLDOWN_TIME_BUFFER = 500; // 500 milliseconds buffer\nconst UPDATE_POLICY_EXPIRY_TIME = 3600; // 1 hour\nconst LOCK_TIMEOUT = 30000; // 30 seconds\nconst DEFAULT_GATEWAY_URL = 'https://rcg.conviva.com';\nlet flushTimer = null;\nlet initialEvents = [];\nlet uploadPolicyObject = null;\nlet initialFlushTimeout = null;\nconst workerScope = typeof self !== 'undefined' ? self : null;\n\nasync function openDB() {\n  return new Promise((resolve, reject) => {\n    const request = indexedDB.open(DB_NAME, 3);\n    request.onupgradeneeded = (event) => {\n      const db = request.result;\n      const oldVersion = event.oldVersion;\n\n      if (db) {\n        // Version 1: Initial schema\n        if (oldVersion < 1) {\n          const store = db.createObjectStore(STORE_NAME, { keyPath: 'id', autoIncrement: true });\n          store.createIndex('byTimestamp', 'timestamp');\n          const policy = db.createObjectStore(POLICY_NAME, { keyPath: 'id' });\n          policy.put({ id: POLICY_KEY, value: null });\n        }\n\n        // Version 2: Add separate object store for flush lock (multi-tab coordination)\n        if (oldVersion < 2) {\n          const lockStore = db.createObjectStore(LOCK_STORE_NAME, { keyPath: 'id' });\n          lockStore.put({ id: LOCK_KEY, value: null });\n        }\n\n        // Version 3: Add object store for flush timestamp\n        if (oldVersion < 3) {\n          const flushTimestampStore = db.createObjectStore(FLUSH_TIMESTAMP_STORE_NAME, { keyPath: 'id' });\n          flushTimestampStore.put({ id: FLUSH_TIMESTAMP_KEY, value: null });\n        }\n      }\n    };\n    request.onsuccess = () => resolve(request.result);\n    request.onerror = () => reject(request.error);\n  });\n}\n\nfunction deleteDB() {\n  if (db) {\n    db.close();\n    db = null;\n  }\n  return new Promise((resolve, reject) => {\n    const deleteRequest = indexedDB.deleteDatabase(DB_NAME);\n\n    deleteRequest.onsuccess = () => {\n      resolve();\n    };\n\n    deleteRequest.onerror = () => {\n      reject(deleteRequest.error);\n    };\n\n    deleteRequest.onblocked = () => {};\n  });\n}\n\nasync function storeEvent(eventPayload) {\n  if (!db) {\n    initialEvents.push(eventPayload.event);\n    return;\n  }\n\n  try {\n    const tx = db.transaction(STORE_NAME, 'readwrite');\n    const store = tx.objectStore(STORE_NAME);\n    if (initialEvents.length > 0) {\n      initialEvents.forEach((event) => store.add(event));\n      initialEvents = [];\n    }\n    store.add(eventPayload.event);\n\n    await tx.done;\n  } catch (error) {\n    //console.warn('Failed to store event:', error);\n  }\n}\n\nasync function getAllEvents() {\n  if (!db) {\n    return [];\n  }\n\n  const tx = db.transaction(STORE_NAME, 'readonly');\n  const store = tx.objectStore(STORE_NAME);\n  const index = store.index('byTimestamp');\n  const request = index.getAll();\n\n  return new Promise((resolve, reject) => {\n    tx.onerror = () => reject(tx.error);\n    request.onerror = () => reject(request.error);\n\n    request.onsuccess = () => resolve(request.result);\n  });\n}\n\nasync function pruneOldEvents() {\n  if (!db) {\n    return;\n  }\n\n  return new Promise((resolve) => {\n    let awaitingFlush = false;\n    let resolved = false;\n\n    const finish = () => {\n      if (!resolved) {\n        resolved = true;\n        resolve();\n      }\n    };\n\n    try {\n      const tx = db.transaction(STORE_NAME, 'readwrite');\n      const store = tx.objectStore(STORE_NAME);\n      let initialCount = 0;\n\n      tx.oncomplete = () => {\n        if (!awaitingFlush) {\n          finish();\n        }\n      };\n      tx.onerror = () => {\n        finish(); // Resolve silently if transaction fails (e.g., database closing)\n      };\n      const countReq = store.count();\n\n      countReq.onsuccess = async () => {\n        initialCount = countReq.result;\n\n        if (initialCount <= MAX_EVENTS) {\n          finish(); // Resolve the promise when no pruning needed\n          return;\n        }\n        awaitingFlush = true;\n        try {\n          await flushEvents(true);\n        } catch (error) {\n          // Swallow errors to keep pruning resilient\n        } finally {\n          awaitingFlush = false;\n          finish();\n        }\n      };\n\n      countReq.onerror = () => {\n        finish(); // Resolve silently if count fails\n      };\n    } catch (error) {\n      finish(); // Resolve silently if transaction creation fails (e.g., InvalidStateError)\n    }\n  });\n}\n\nasync function setPolicyValue(value) {\n  if (!db) {\n    return;\n  }\n  try {\n    const tx = db.transaction(POLICY_NAME, 'readwrite');\n    const policyStore = tx.objectStore(POLICY_NAME);\n    policyStore.put({ id: POLICY_KEY, value });\n    await tx.done;\n  } catch (error) {}\n}\n\nasync function getPolicyValue() {\n  if (!db) {\n    return null;\n  }\n\n  return new Promise((resolve, reject) => {\n    const tx = db.transaction(POLICY_NAME, 'readonly');\n    const req = tx.objectStore(POLICY_NAME).get(POLICY_KEY); // e.g. 'policy'\n\n    req.onsuccess = () => resolve(req.result ? req.result.value : null); // <-- result, not value\n    req.onerror = () => reject(req.error);\n  });\n}\n\n/**\n * Try to acquire an IndexedDB-based flush lock.\n * Returns true if lock was acquired, false otherwise.\n * The lock expires after 30 seconds to prevent deadlocks.\n */\nasync function tryAcquireFlushLock() {\n  if (!db) {\n    return false;\n  }\n\n  try {\n    return new Promise((resolve) => {\n      const tx = db.transaction(LOCK_STORE_NAME, 'readwrite');\n      const store = tx.objectStore(LOCK_STORE_NAME);\n      const getReq = store.get(LOCK_KEY);\n\n      getReq.onsuccess = () => {\n        const lockData = getReq.result ? getReq.result.value : null;\n        const now = Date.now();\n\n        // Check if lock is available (null or expired)\n        if (!lockData || now - lockData.timestamp > LOCK_TIMEOUT) {\n          // Acquire the lock by setting current timestamp\n          const putReq = store.put({ id: LOCK_KEY, value: { timestamp: now } });\n          putReq.onsuccess = () => resolve(true);\n          putReq.onerror = () => resolve(false);\n        } else {\n          // Lock is held by another worker\n          resolve(false);\n        }\n      };\n\n      getReq.onerror = () => resolve(false);\n      tx.onerror = () => resolve(false);\n    });\n  } catch (error) {\n    return false;\n  }\n}\n\n/**\n * Release the IndexedDB-based flush lock.\n */\nasync function releaseFlushLock() {\n  if (!db) {\n    return;\n  }\n\n  try {\n    const tx = db.transaction(LOCK_STORE_NAME, 'readwrite');\n    const store = tx.objectStore(LOCK_STORE_NAME);\n    store.put({ id: LOCK_KEY, value: null });\n    await tx.done;\n  } catch (error) {\n    // Silently fail - lock will expire anyway\n  }\n}\n\n/**\n * Get the last flush timestamp from IndexedDB.\n * Returns null if no timestamp is stored.\n */\nasync function getLastFlushTimestamp() {\n  if (!db) {\n    return null;\n  }\n\n  return new Promise((resolve, reject) => {\n    const tx = db.transaction(FLUSH_TIMESTAMP_STORE_NAME, 'readonly');\n    const req = tx.objectStore(FLUSH_TIMESTAMP_STORE_NAME).get(FLUSH_TIMESTAMP_KEY);\n\n    req.onsuccess = () => resolve(req.result ? req.result.value : null);\n    req.onerror = () => reject(req.error);\n  });\n}\n\n/**\n * Set the last flush timestamp in IndexedDB.\n */\nasync function setLastFlushTimestamp(timestamp) {\n  if (!db) {\n    return;\n  }\n  try {\n    const tx = db.transaction(FLUSH_TIMESTAMP_STORE_NAME, 'readwrite');\n    const store = tx.objectStore(FLUSH_TIMESTAMP_STORE_NAME);\n    store.put({ id: FLUSH_TIMESTAMP_KEY, value: timestamp });\n    await tx.done;\n  } catch (error) {\n    // Silently fail\n  }\n}\n\n/**\n * Check if enough time has passed since the last flush.\n * Returns true if flush should be allowed, false otherwise.\n */\nasync function shouldAllowFlush(currentTimeStamp) {\n  const lastFlushTimestamp = await getLastFlushTimestamp();\n\n  // If no timestamp exists, allow flush\n  if (!lastFlushTimestamp) {\n    return true;\n  }\n  const timeSinceLastFlush = currentTimeStamp - lastFlushTimestamp;\n\n  // Allow flush if more than 1 minute has passed\n  const flushIntervalDelay = config.uploadInterval ? config.uploadInterval * 1000 : FLUSH_TIME;\n  return timeSinceLastFlush + FLUSH_COOLDOWN_TIME_BUFFER >= flushIntervalDelay;\n}\n\nif (workerScope) {\n  workerScope.onmessage = async (e) => {\n    const { type, payload } = e.data;\n\n    if (type === 'config') {\n      config = payload;\n      if (!db) {\n        db = await openDB();\n        await flushEvents();\n      }\n      await scheduleFlush();\n    }\n    if (type === 'event') {\n      await storeEvent(payload);\n      await pruneOldEvents();\n    }\n    if (type === 'delete') {\n      await flushEvents();\n      await deleteDB();\n      if (workerScope && typeof workerScope.postMessage === 'function') {\n        workerScope.postMessage({ type: 'deletion-complete' });\n      }\n    }\n  };\n}\n\nasync function scheduleFlush() {\n  if (flushTimer) {\n    clearInterval(flushTimer);\n    flushTimer = null;\n  }\n  if (initialFlushTimeout) {\n    clearTimeout(initialFlushTimeout);\n    initialFlushTimeout = null;\n  }\n\n  const intervalDelay = config.uploadInterval ? config.uploadInterval * 1000 : FLUSH_TIME;\n  const startFlushInterval = () => {\n    flushTimer = setInterval(async () => {\n      if (flushing) return;\n      try {\n        await flushEvents(true);\n      } catch (err) {\n        //console.warn(err);\n      }\n    }, intervalDelay);\n  };\n\n  const runInitialFlushAndStartInterval = async () => {\n    try {\n      await flushEvents(true);\n    } catch (err) {\n      //console.warn(err);\n    } finally {\n      startFlushInterval();\n    }\n  };\n\n  try {\n    const lastFlushTimestamp = await getLastFlushTimestamp();\n    if (lastFlushTimestamp) {\n      const flushIntervalDelay = config.uploadInterval ? config.uploadInterval * 1000 : FLUSH_TIME;\n      const targetFlushTime = lastFlushTimestamp + flushIntervalDelay;\n      const delay = Math.max(0, targetFlushTime - Date.now());\n\n      if (delay > 0) {\n        initialFlushTimeout = setTimeout(() => {\n          runInitialFlushAndStartInterval()\n            .catch(() => {})\n            .finally(() => {\n              initialFlushTimeout = null;\n            });\n        }, delay);\n        return;\n      }\n    }\n  } catch (err) {\n    // Failed to read last flush timestamp, fall back to immediate scheduling\n  }\n\n  startFlushInterval();\n}\n\nasync function flushAllEvents(takeSnapShot) {\n  try {\n    // Always flush events for the current recordId\n    const allEvents = await getAllEvents();\n    if (allEvents.length === 0) return;\n\n    await uploadBatch(allEvents);\n\n    // Remove only these events from the store\n    const tx = db.transaction(STORE_NAME, 'readwrite');\n    const store = tx.objectStore(STORE_NAME);\n    for (const evt of allEvents) {\n      store.delete(evt.id);\n    }\n    await tx.done;\n    if (takeSnapShot && workerScope && typeof workerScope.postMessage === 'function') {\n      workerScope.postMessage({ type: 'takeSnapShot' });\n    }\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function flushEvents(takeSnapShot = false) {\n  if (flushing || !db) return;\n\n  // Check if enough time has passed since the last flush\n  let currentTimeStamp = Date.now();\n  const canFlush = await shouldAllowFlush(currentTimeStamp);\n  if (!canFlush) {\n    // Skip flush if less than 1 minute has passed\n    return;\n  }\n  // Update the last flush timestamp\n  await setLastFlushTimestamp(currentTimeStamp);\n\n  flushing = true;\n\n  try {\n    // Try Web Locks API first (modern browsers)\n    if (navigator && navigator.locks && navigator.locks.request) {\n      await navigator.locks.request('session-replay-flush', { mode: 'exclusive', ifAvailable: true }, async (lock) => {\n        if (lock) {\n          await flushAllEvents(takeSnapShot);\n        }\n      });\n    } else {\n      // Fallback: Use IndexedDB-based locking for older browsers\n      const lockAcquired = await tryAcquireFlushLock();\n      if (lockAcquired) {\n        try {\n          await flushAllEvents(takeSnapShot);\n        } finally {\n          await releaseFlushLock();\n        }\n      }\n      // If lock not acquired, skip flush (another worker is handling it)\n    }\n  } catch (err) {\n    //console.warn('flush failed', err);\n  } finally {\n    flushing = false;\n  }\n}\n\nasync function uploadBatch(events) {\n  try {\n    if (!events || events.length === 0) {\n      return;\n    }\n    let tabId = events[0]['_tabId'];\n    let timestamp = events[0]['timestamp'];\n    const json = JSON.stringify(events);\n    const compressed = pako.gzip(json);\n    const blob = new Blob([compressed], { type: 'application/octet-stream' });\n    const blobName = getBlobNameRoundedToMinute(timestamp, tabId);\n    await uploadFileToGcs(blob, blobName);\n  } catch (error) {\n    //console.warn('Error uploading batch:', error);\n    throw error; // Re-throw to handle in flushEvents\n  }\n}\n\nfunction sleep(ms) {\n  return new Promise((res) => setTimeout(res, ms));\n}\n\nfunction getBlobNameRoundedToMinute(timestamp, tabId) {\n  const date = new Date(timestamp); // Uses current time\n  date.setUTCSeconds(0, 0); // Rounds down to the start of the current minute\n\n  const day = String(date.getUTCDate()).padStart(2, '0');\n  const month = String(date.getUTCMonth() + 1).padStart(2, '0'); // Months are 0-indexed\n  const year = String(date.getUTCFullYear()).slice(-2);\n  const hour = String(date.getUTCHours()).padStart(2, '0');\n\n  const epoch = Math.floor(date.getTime() / 1000); // Epoch time in seconds (UTC-based)\n\n  const uuid = getUUID(); // Generate a UUID for uniqueness\n\n  return `${year}-${month}-${day}-${hour}-${epoch}_${tabId}_${uuid}.gz`;\n}\n\nasync function uploadFileToGcs(blob, blobName) {\n  try {\n    if (!uploadPolicyObject) {\n      uploadPolicyObject = await getPolicyValue();\n    }\n    const isPolicyInvalid = uploadPolicyObject ? Date.now() >= uploadPolicyObject.expiry : true;\n    if (isPolicyInvalid) {\n      const expiryTimeInSec = config.policyExpiryTime || UPDATE_POLICY_EXPIRY_TIME; // Default to 1 hour if not set\n      const gatewayUrl = getGatewayUrl();\n      const response = await fetch(`${gatewayUrl}`);\n      if (!response.ok) {\n        throw new Error('Failed to get upload policy from server.');\n      }\n      let uploadPolicy = await response.json();\n      let isoString = uploadPolicy.fields['x-goog-date'];\n      let urlExpiryTimestamp = convertToUnixTimestamp(isoString) + expiryTimeInSec * 1000; // Convert to milliseconds\n      uploadPolicyObject = { policy: uploadPolicy, expiry: urlExpiryTimestamp };\n      await setPolicyValue(uploadPolicyObject); // Store the new policy\n    }\n  } catch (error) {\n    throw error;\n  }\n\n  if (\n    !uploadPolicyObject ||\n    !uploadPolicyObject.policy ||\n    !uploadPolicyObject.policy.fields ||\n    !uploadPolicyObject.policy.url ||\n    !uploadPolicyObject.policy.customerID\n  ) {\n    throw new Error('Invalid upload policy object');\n  }\n  const form = new FormData();\n  Object.entries(uploadPolicyObject.policy.fields).forEach(([k, v]) => form.append(k, v));\n  let key = `${uploadPolicyObject.policy.customerID}/${config.clId}/${blobName}`;\n  form.set('key', key); // override the dummy one\n  form.append('file', blob, blobName);\n\n  try {\n    const uploadResponse = await fetch(uploadPolicyObject.policy.url, {\n      method: 'POST',\n      body: form,\n    });\n    if (!uploadResponse.ok) {\n      const errorText = await uploadResponse.text();\n      throw new Error(`GCS Upload Error: ${uploadResponse.status} ${errorText}`);\n    }\n  } catch (error) {\n    throw error;\n  }\n}\n\nfunction getGatewayUrl() {\n  const expiryTimeInSec = config.policyExpiryTime || UPDATE_POLICY_EXPIRY_TIME;\n  let endPointUrl = config.endpoint || DEFAULT_GATEWAY_URL;\n  return `${endPointUrl}/sr?clientId=${config.clId}&expiryTimeInSec=${expiryTimeInSec}&customerKey=${config.customerKey}`;\n}\n\nfunction convertToUnixTimestamp(isoString) {\n  const date = new Date(isoString.replace(/^(\\d{4})(\\d{2})(\\d{2})T(\\d{2})(\\d{2})(\\d{2})Z$/, '$1-$2-$3T$4:$5:$6Z'));\n  const unixTimestampInMilliSceonds = date.getTime();\n  return unixTimestampInMilliSceonds;\n}\n\nfunction getUUID() {\n  return Date.now().toString();\n}\n"],
{type:"application/javascript"});this._workerUrl=URL.createObjectURL(a);this.worker=new Worker(this._workerUrl);this.recordingReady=this.recording=!1;this.recordId=Date.now().toString();this._storageListener=this._handleStorageEvent.bind(this);this.worker.postMessage({type:"config",payload:W(W(W({},null===(e=this.sessionReplayConfig)||void 0===e?void 0:e.emitterConfiguration),null===(f=this.sessionReplayConfig)||void 0===f?void 0:f.networkConfiguration),{customerKey:this.trackerConfiguration.convivaCustomerKey,
clId:Kk().clId,recordId:this.recordId})});this._handleVisibilityChange=this._handleVisibilityChange.bind(this);this.snapshotHandler=this.snapshotHandler.bind(this);this.takeFullSnapshot=this.takeFullSnapshot.bind(this);this.snapshotHandler();this._initBroadcastChannel()}b.prototype.takeFullSnapshot=function(a){void 0===a&&(a=!1);if("function"===typeof wc.takeFullSnapshot){var c=function(){try{wc.takeFullSnapshot(a)}catch(d){}};"requestIdleCallback"in window?requestIdleCallback(c,{timeout:1E3}):setTimeout(c,
0)}};b.prototype.snapshotHandler=function(){var a=this;this._messageHandlers.snapShotHandler=function(c){"takeSnapShot"===c.data.type&&("visible"===document.visibilityState?a.takeFullSnapshot(!0):a._broadcastFlushSignal())};this.worker.addEventListener("message",this._messageHandlers.snapShotHandler)};b.prototype.initiateRecording=function(){var a=this;this.startRecording()["catch"](function(c){a.recording=!1;a.tracker.setCustomTags({isSR:!1})});document.addEventListener("visibilitychange",this._handleVisibilityChange,
{signal:cb});!this._broadcastChannel&&"undefined"!==typeof window&&this._storageListener&&window.addEventListener("storage",this._storageListener)};b.prototype.startRecording=function(){var a,c,d,e,f,g,h,k,l,p,m,n,q,t,r,v,w,x,C,E,H,D,B,I,L,V,R,U,N,y,F,A,O,K,ca,ea,ba,ta,P,wa,Q,Y,ka,la,pa,Ea,Sa,Fa,ua,kb,ma,Pa,ia,fb,dc,hd,id,jd,kd,ld,md,nd,Te;return Qc(this,void 0,void 0,function(){var mc,od,ag=this;return Rc(this,function(sa){switch(sa.label){case 0:if(this.recording)return[2];this.recording=!0;this.tracker.setCustomTags({isSR:!0});
sa.label=1;case 1:return sa.trys.push([1,3,,4]),[4,this.waitForPageStability()];case 2:return sa.sent(),mc="complete"===document.readyState?0:null!==(d=null===(c=null===(a=this.sessionReplayConfig)||void 0===a?void 0:a.webRecorderConfiguration)||void 0===c?void 0:c.recordAfter)&&void 0!==d?d:"load",this.stopFn=wc({blockSelector:null!==(g=null===(f=null===(e=this.sessionReplayConfig)||void 0===e?void 0:e.webRecorderConfiguration)||void 0===f?void 0:f.blockSelector)&&void 0!==g?g:void 0,ignoreSelector:null!==
(l=null===(k=null===(h=this.sessionReplayConfig)||void 0===h?void 0:h.webRecorderConfiguration)||void 0===k?void 0:k.ignoreSelector)&&void 0!==l?l:void 0,ignoreCSSAttributes:null!==(n=null===(m=null===(p=this.sessionReplayConfig)||void 0===p?void 0:p.webRecorderConfiguration)||void 0===m?void 0:m.ignoreCSSAttributes)&&void 0!==n?n:void 0,maskTextSelector:null!==(r=null===(t=null===(q=this.sessionReplayConfig)||void 0===q?void 0:q.webRecorderConfiguration)||void 0===t?void 0:t.maskTextSelector)&&void 0!==
r?r:void 0,maskAllInputs:null!==(x=null===(w=null===(v=this.sessionReplayConfig)||void 0===v?void 0:v.webRecorderConfiguration)||void 0===w?void 0:w.maskAllInputs)&&void 0!==x?x:!1,maskInputOptions:null!==(H=null===(E=null===(C=this.sessionReplayConfig)||void 0===C?void 0:C.webRecorderConfiguration)||void 0===E?void 0:E.maskInputOptions)&&void 0!==H?H:{password:!0,email:!0,textarea:!0,text:!0,tel:!0},slimDOMOptions:null!==(I=null===(B=null===(D=this.sessionReplayConfig)||void 0===D?void 0:D.webRecorderConfiguration)||
void 0===B?void 0:B.slimDOMOptions)&&void 0!==I?I:{comment:!1,headWhitespace:!1,headMetaDescKeywords:!1,headMetaSocial:!1,headMetaRobots:!1,headMetaHttpEquiv:!1,headMetaAuthorship:!1,headMetaVerification:!1},dataURLOptions:null!==(R=null===(V=null===(L=this.sessionReplayConfig)||void 0===L?void 0:L.webRecorderConfiguration)||void 0===V?void 0:V.dataURLOptions)&&void 0!==R?R:{},inlineStylesheet:null!==(y=null===(N=null===(U=this.sessionReplayConfig)||void 0===U?void 0:U.webRecorderConfiguration)||
void 0===N?void 0:N.inlineStylesheet)&&void 0!==y?y:!0,recordCanvas:null!==(O=null===(A=null===(F=this.sessionReplayConfig)||void 0===F?void 0:F.webRecorderConfiguration)||void 0===A?void 0:A.recordCanvas)&&void 0!==O?O:!1,recordCrossOriginIframes:null!==(ea=null===(ca=null===(K=this.sessionReplayConfig)||void 0===K?void 0:K.webRecorderConfiguration)||void 0===ca?void 0:ca.recordCrossOriginIframes)&&void 0!==ea?ea:!1,recordAfter:mc,inlineImages:null!==(P=null===(ta=null===(ba=this.sessionReplayConfig)||
void 0===ba?void 0:ba.webRecorderConfiguration)||void 0===ta?void 0:ta.inlineImages)&&void 0!==P?P:!1,collectFonts:null!==(Y=null===(Q=null===(wa=this.sessionReplayConfig)||void 0===wa?void 0:wa.webRecorderConfiguration)||void 0===Q?void 0:Q.collectFonts)&&void 0!==Y?Y:!1,userTriggeredOnInput:null!==(pa=null===(la=null===(ka=this.sessionReplayConfig)||void 0===ka?void 0:ka.webRecorderConfiguration)||void 0===la?void 0:la.userTriggeredOnInput)&&void 0!==pa?pa:!1,sampling:{mousemove:null!==(Fa=null===
(Sa=null===(Ea=this.sessionReplayConfig)||void 0===Ea?void 0:Ea.webRecorderConfiguration)||void 0===Sa?void 0:Sa.mousemove)&&void 0!==Fa?Fa:!1,mouseInteraction:null!==(ma=null===(kb=null===(ua=this.sessionReplayConfig)||void 0===ua?void 0:ua.webRecorderConfiguration)||void 0===kb?void 0:kb.mouseInteraction)&&void 0!==ma?ma:{MouseUp:!1,MouseDown:!1,Click:!0,ContextMenu:!0,DblClick:!0,Focus:!0,Blur:!0,TouchStart:!1,TouchEnd:!1},scroll:null!==(fb=null===(ia=null===(Pa=this.sessionReplayConfig)||void 0===
Pa?void 0:Pa.webRecorderConfiguration)||void 0===ia?void 0:ia.scroll)&&void 0!==fb?fb:300,media:null!==(id=null===(hd=null===(dc=this.sessionReplayConfig)||void 0===dc?void 0:dc.webRecorderConfiguration)||void 0===hd?void 0:hd.media)&&void 0!==id?id:1E3,input:null!==(ld=null===(kd=null===(jd=this.sessionReplayConfig)||void 0===jd?void 0:jd.webRecorderConfiguration)||void 0===kd?void 0:kd.input)&&void 0!==ld?ld:"last"},checkoutEveryNms:null!==(Te=null===(nd=null===(md=this.sessionReplayConfig)||void 0===
md?void 0:md.webRecorderConfiguration)||void 0===nd?void 0:nd.checkoutEveryNms)&&void 0!==Te?Te:0,emit:function(jc){var Ud;"visible"!==document.visibilityState||3===jc.type&&7===(null===(Ud=jc.data)||void 0===Ud?void 0:Ud.source)||!jc||"number"!==typeof jc.timestamp||(jc._tabId=ag.recordId,ag.worker.postMessage({type:"event",payload:{event:jc}}))}}),this.initializeRecordingReadiness(),this.startCommunicationElementWatcher(),[3,4];case 3:throw od=sa.sent(),od;case 4:return[2]}})})};b.prototype.initializeRecordingReadiness=
function(){var a=this,c=0,d=function(){c++;if(a.isPageTrulyReady()||20<=c)a.recordingReady=!0;else{var e=a.detectSlowNetwork()?1E3:500;setTimeout(d,e)}};d()};b.prototype.isPageTrulyReady=function(){return 2<=["interactive"===document.readyState||"complete"===document.readyState,document.body&&0<document.body.children.length,!this.hasCriticalPendingRequests()].filter(Boolean).length};b.prototype.hasCriticalPendingRequests=function(){if("performance"in window&&"getEntriesByType"in performance){var a=
performance.getEntriesByType("navigation")[0];if(a)return 0===a.domContentLoadedEventEnd}return!1};b.prototype.waitForPageStability=function(){return Qc(this,void 0,void 0,function(){var a=this;return Rc(this,function(c){return[2,new Promise(function(d){if("complete"!==document.readyState||a.hasCriticalPendingRequests()){var e=function(){"complete"!==document.readyState||a.hasCriticalPendingRequests()?setTimeout(e,100):d()};e();var f=a.detectSlowNetwork()?1E4:6E3;setTimeout(function(){d()},f)}else d()})]})})};
b.prototype.startCommunicationElementWatcher=function(){var a=this,c=!1,d=null,e=function(){d&&(clearTimeout(d),d=null);if(a.recording&&a.recordingReady&&"hidden"!==document.visibilityState){var g=a.detectSlowNetwork()?1500:500;d=setTimeout(function(){a.recording&&a.recordingReady&&"function"===typeof wc.takeFullSnapshot&&(a.takeFullSnapshot(!0),d=null)},g)}},f=this.detectSlowNetwork()?2E3:500;this.detectionInterval=setInterval(function(){if(a.recording){var g,h,k,l;if(a.recording&&a.recordingReady&&
!c){var p=null===(h=null===(g=a.sessionReplayConfig)||void 0===g?void 0:g.webRecorderConfiguration)||void 0===h?void 0:h.chatContainer;g=null===(l=null===(k=a.sessionReplayConfig)||void 0===k?void 0:k.webRecorderConfiguration)||void 0===l?void 0:l.chatRoot;if(p&&g&&(k=document.querySelector(p))&&k.shadowRoot){if(l=k=k.shadowRoot.querySelector(g))l=k.isConnected,p=!!k.shadowRoot,g=k.textContent&&0<k.textContent.trim().length,k=p&&0<k.shadowRoot.children.length,l=l&&(g||k||p);l&&(c=!0,e(),a.detectionInterval&&
(clearInterval(a.detectionInterval),a.detectionInterval=null))}}}else a.detectionInterval&&(clearInterval(a.detectionInterval),a.detectionInterval=null)},f)};b.prototype.stopRecording=function(a){var c=this;void 0===a&&(a=!1);if(this.recording){this.recordingReady=this.recording=!1;this.stopFn&&(this.stopFn(),this.stopFn=null);this.detectionInterval&&(clearInterval(this.detectionInterval),this.detectionInterval=null);this.userInteractionHandlers&&(this.userInteractionHandlers.forEach(function(d){document.removeEventListener(d.event,
d.handler)}),this.userInteractionHandlers=null);this.interactionTimeout&&(clearTimeout(this.interactionTimeout),this.interactionTimeout=null);document.removeEventListener("visibilitychange",this._handleVisibilityChange);!this._broadcastChannel&&"undefined"!==typeof window&&this._storageListener&&window.removeEventListener("storage",this._storageListener);if(this._broadcastChannel){try{this._broadcastChannel.onmessage=null,this._broadcastChannel.close()}catch(d){}this._broadcastChannel=null}this._messageHandlers.snapShotHandler&&
(this.worker.removeEventListener("message",this._messageHandlers.snapShotHandler),delete this._messageHandlers.snapShotHandler);a&&(this.worker.postMessage({type:"delete"}),this.tracker.setCustomTags({isSR:!1}));this._messageHandlers.deletionHandler=function(d){var e;if("deletion-complete"===(null===(e=d.data)||void 0===e?void 0:e.type))try{c._messageHandlers.deletionHandler&&(c.worker.removeEventListener("message",c._messageHandlers.deletionHandler),delete c._messageHandlers.deletionHandler),c.worker.terminate(),
URL.revokeObjectURL(c._workerUrl)}catch(f){}};this.worker.addEventListener("message",this._messageHandlers.deletionHandler)}};b.prototype._handleVisibilityChange=function(){var a,c,d,e;if("visible"===document.visibilityState&&this.recording&&this.recordingReady){var f=null===(c=null===(a=this.sessionReplayConfig)||void 0===a?void 0:a.webRecorderConfiguration)||void 0===c?void 0:c.chatContainer;a=null===(e=null===(d=this.sessionReplayConfig)||void 0===d?void 0:d.webRecorderConfiguration)||void 0===
e?void 0:e.chatRoot;if((d=f?document.querySelector(f):null)&&d.shadowRoot&&(d=a?d.shadowRoot.querySelector(a):null)&&d.isConnected)return;this.takeFullSnapshot(!0)}};b.prototype._initBroadcastChannel=function(){var a=this;try{"undefined"!==typeof BroadcastChannel&&(this._broadcastChannel=new BroadcastChannel("conviva-session-replay"),this._broadcastChannel.onmessage=function(c){a._handleBroadcastChannelMessage(c)})}catch(c){this._broadcastChannel=null}};b.prototype._handleBroadcastChannelMessage=
function(a){if(a&&a.data&&"flush-signal"===a.data.type&&this.recording&&this.recordingReady)try{var c=a.data.payload;(null===c||void 0===c?void 0:c.recordId)===this.recordId||(null===c||void 0===c?void 0:c.ts)<=this._lastFlushSignalTimestamp||(this._lastFlushSignalTimestamp=(null===c||void 0===c?void 0:c.ts)||0,"visible"===document.visibilityState&&this.takeFullSnapshot(!0))}catch(d){}};b.prototype._broadcastFlushSignal=function(){var a={recordId:this.recordId,ts:Date.now()};if(this._broadcastChannel)try{this._broadcastChannel.postMessage({type:"flush-signal",
payload:a});return}catch(c){}try{"undefined"!==typeof window&&window.localStorage&&window.localStorage.setItem("ConvivaSessionReplayFlush",JSON.stringify(a))}catch(c){}};b.prototype._handleStorageEvent=function(a){if(a&&"ConvivaSessionReplayFlush"===a.key&&a.newValue&&this.recording&&this.recordingReady){try{var c=JSON.parse(a.newValue);if((null===c||void 0===c?void 0:c.recordId)===this.recordId||(null===c||void 0===c?void 0:c.ts)<=this._lastFlushSignalTimestamp)return;this._lastFlushSignalTimestamp=
(null===c||void 0===c?void 0:c.ts)||0}catch(d){return}"visible"===document.visibilityState&&this.takeFullSnapshot(!0)}};b.prototype.detectSlowNetwork=function(){if("connection"in navigator){var a=navigator.connection.effectiveType;if("slow-2g"===a||"2g"===a||"3g"===a||"slow-4g"===a)return!0}return!1};return b}(),Gb=null,Tk=!1,Uk=!1,Nf=new Set,Ke=new Set,Bh=0,Ch=[],gn=function(){function b(){na(this,b);bc(this,"t",void 0);bc(this,"o",0);bc(this,"i",[])}return oa(b,[{key:"u",value:function(a){var c;
if(!a.hadRecentInput){var d=this.i[0],e=this.i.at(-1);this.o&&d&&e&&1E3>a.startTime-e.startTime&&5E3>a.startTime-d.startTime?(this.o+=a.value,this.i.push(a)):(this.o=a.value,this.i=[a]);null===(c=this.t)||void 0===c?void 0:c.call(this,a)}}}])}(),Bg=function(){var b=performance.getEntriesByType("navigation")[0];if(b&&0<b.responseStart&&b.responseStart<performance.now())return b},hn=function(b){if("loading"===document.readyState)return"loading";var a=Bg();if(a){if(b<a.domInteractive)return"loading";
if(0===a.domContentLoadedEventStart||b<a.domContentLoadedEventStart)return"dom-interactive";if(0===a.domComplete||b<a.domComplete)return"dom-content-loaded"}return"complete"},Ti=function(b){var a="";try{for(;9!==(null===(c=b)||void 0===c?void 0:c.nodeType);){var c,d=b;if(d.id)var e="#"+d.id;else{var f=d.nodeName;e=[1===d.nodeType?f.toLowerCase():f.toUpperCase().replace(/^#/,"")].concat(Rb(Array.from(d.classList).sort())).join(".")}var g=e;if(99<a.length+g.length)return a||g;if(a=a?g+">"+a:g,d.id)break;
b=d.parentNode}}catch(h){}return a},Fh=new WeakMap,jn=-1,hf=function(b){addEventListener("pageshow",function(a){a.persisted&&(jn=a.timeStamp,b(a))},!0)},Mc=function(b,a,c,d){var e,f;return function(g){var h;0<=a.value&&(g||d)&&((f=a.value-(null!==(h=e)&&void 0!==h?h:0))||void 0===e)&&(e=a.value,a.delta=f,g=a.value,a.rating=g>c[1]?"poor":g>c[0]?"needs-improvement":"good",b(a))}},Ui=function(b){requestAnimationFrame(function(){return requestAnimationFrame(function(){return b()})})},Cg=function(){var b,
a=Bg();return null!==(b=null===a||void 0===a?void 0:a.activationStart)&&void 0!==b?b:0},Nc=function(b){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,c=Bg(),d="navigate";0<=jn?d="back-forward-cache":c&&(document.prerendering||0<Cg()?d="prerender":document.wasDiscarded?d="restore":c.type&&(d=c.type.replace(/_/g,"-")));return{name:b,value:a,rating:"good",delta:0,entries:[],id:"v5-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1E12),navigationType:d}},le=function(b,
a){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};try{if(PerformanceObserver.supportedEntryTypes.includes(b)){var d=new PerformanceObserver(function(e){Promise.resolve().then(function(){a(e.getEntries())})});return d.observe(ra({type:b,buffered:!0},c)),d}}catch(e){}},Vi=function(b){var a=!1;return function(){a||(b(),a=!0)}},me=-1,kn=new Set,Wi=function(b){if("hidden"===document.visibilityState){if("visibilitychange"===b.type){var a=X(kn),c;try{for(a.s();!(c=a.n()).done;){var d=c.value;
d()}}catch(e){a.e(e)}finally{a.f()}}isFinite(me)||(me="visibilitychange"===b.type?b.timeStamp:0,removeEventListener("prerenderingchange",Wi,!0))}},Dg=function(){if(0>me){var b,a=Cg(),c=document.prerendering?void 0:null===(b=globalThis.performance.getEntriesByType("visibility-state").filter(function(d){return"hidden"===d.name&&d.startTime>a})[0])||void 0===b?void 0:b.startTime;me=null!==c&&void 0!==c?c:"hidden"!==document.visibilityState||document.prerendering?1/0:0;addEventListener("visibilitychange",
Wi,!0);addEventListener("prerenderingchange",Wi,!0);hf(function(){setTimeout(function(){me="hidden"!==document.visibilityState||document.prerendering?1/0:0})})}return{get firstHiddenTime(){return me},onHidden:function(d){kn.add(d)}}},Xi=function(b){document.prerendering?addEventListener("prerenderingchange",function(){return b()},!0):b()},ln=[1800,3E3],Pr=function(b){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Xi(function(){var c=Dg(),d,e=Nc("FCP"),f=le("paint",function(g){g=X(g);
var h;try{for(g.s();!(h=g.n()).done;){var k=h.value;"first-contentful-paint"===k.name&&(f.disconnect(),k.startTime<c.firstHiddenTime&&(e.value=Math.max(k.startTime-Cg(),0),e.entries.push(k),d(!0)))}}catch(l){g.e(l)}finally{g.f()}});f&&(d=Mc(b,e,ln,a.reportAllChanges),hf(function(g){e=Nc("FCP");d=Mc(b,e,ln,a.reportAllChanges);Ui(function(){e.value=performance.now()-g.timeStamp;d(!0)})}))})},mn=[.1,.25],nn=function(b){return b.find(function(a){var c;return 1===(null===(c=a.node)||void 0===c?void 0:
c.nodeType)})||b[0]},tq=function(b){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=Sd(a=Object.assign({},a),gn),d=new WeakMap;c.t=function(e){var f;if(null!==e&&void 0!==e&&null!==(f=e.sources)&&void 0!==f&&f.length&&(e=nn(e.sources),f=null===e||void 0===e?void 0:e.node)){var g,h,k;f=null!==(g=null===(h=(k=a).generateTarget)||void 0===h?void 0:h.call(k,f))&&void 0!==g?g:Ti(f);d.set(e,f)}};(function(e){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},g=Dg();Pr(Vi(function(){var h,
k=Nc("CLS",0),l=Sd(f,gn),p=function(n){n=X(n);var q;try{for(n.s();!(q=n.n()).done;)l.u(q.value)}catch(t){n.e(t)}finally{n.f()}l.o>k.value&&(k.value=l.o,k.entries=l.i,h())},m=le("layout-shift",p);m&&(h=Mc(e,k,mn,f.reportAllChanges),g.onHidden(function(){p(m.takeRecords());h(!0)}),hf(function(){l.o=0;k=Nc("CLS",0);h=Mc(e,k,mn,f.reportAllChanges);Ui(function(){return h()})}),setTimeout(h))}))})(function(e){e=function(f){var g={};if(f.entries.length){var h,k=f.entries.reduce(function(l,p){return l.value>
p.value?l:p});null!==k&&void 0!==k&&null!==(h=k.sources)&&void 0!==h&&h.length&&(h=nn(k.sources))&&(g={largestShiftTarget:d.get(h),largestShiftTime:k.startTime,largestShiftValue:k.value,largestShiftSource:h,largestShiftEntry:k,loadState:hn(k.startTime)})}return Object.assign(f,{attribution:g})}(e);b(e)},a)},on=0,Yi=1/0,Eg=0,Qr=function(b){b=X(b);var a;try{for(b.s();!(a=b.n()).done;){var c=a.value;c.interactionId&&(Yi=Math.min(Yi,c.interactionId),Eg=Math.max(Eg,c.interactionId),on=Eg?(Eg-Yi)/7+1:0)}}catch(d){b.e(d)}finally{b.f()}},
Zi,pn=function(){var b;return Zi?on:null!==(b=performance.interactionCount)&&void 0!==b?b:0},qn=0,rn=function(){function b(){na(this,b);bc(this,"l",[]);bc(this,"h",new Map);bc(this,"m",void 0);bc(this,"p",void 0)}return oa(b,[{key:"v",value:function(){qn=pn();this.l.length=0;this.h.clear()}},{key:"M",value:function(){var a=Math.min(this.l.length-1,Math.floor((pn()-qn)/50));return this.l[a]}},{key:"u",value:function(a){var c;if(null!==(c=this.m)&&void 0!==c&&c.call(this,a),a.interactionId||"first-input"===
a.entryType){var d=this.l.at(-1);if((c=this.h.get(a.interactionId))||10>this.l.length||a.duration>d.T){var e;if(c?a.duration>c.T?(c.entries=[a],c.T=a.duration):a.duration===c.T&&a.startTime===c.entries[0].startTime&&c.entries.push(a):(c={id:a.interactionId,entries:[a],T:a.duration},this.h.set(c.id,c),this.l.push(c)),this.l.sort(function(g,h){return h.T-g.T}),10<this.l.length){a=this.l.splice(10);a=X(a);var f;try{for(a.s();!(f=a.n()).done;)this.h.delete(f.value.id)}catch(g){a.e(g)}finally{a.f()}}null===
(e=this.p)||void 0===e||e.call(this,c)}}}}])}(),Fg=function(b){var a=globalThis.requestIdleCallback||setTimeout;"hidden"===document.visibilityState?b():(b=Vi(b),addEventListener("visibilitychange",b,{once:!0,capture:!0}),a(function(){b();removeEventListener("visibilitychange",b,{capture:!0})}))},sn=[200,500],sq=function(b){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=Sd(a=Object.assign({},a),rn),d=[],e=[],f=0,g=new WeakMap,h=new WeakMap,k=!1,l=function(){var n=c.l.map(function(D){return g.get(D.entries[0])}),
q=e.length-50;e=e.filter(function(D,B){return B>=q||n.includes(D)});var t=new Set,r=X(e),v;try{for(r.s();!(v=r.n()).done;){var w=v.value,x=p(w.startTime,w.processingEnd),C=X(x),E;try{for(C.s();!(E=C.n()).done;)t.add(E.value)}catch(D){C.e(D)}finally{C.f()}}}catch(D){r.e(D)}finally{r.f()}var H=d.length-1-50;d=d.filter(function(D,B){return D.startTime>f&&B>H||t.has(D)});k=!1};c.m=function(n){var q=n.startTime+n.duration;f=Math.max(f,n.processingEnd);for(var t=e.length-1;0<=t;t--){var r=e[t];if(8>=Math.abs(q-
r.renderTime)){var v=r;v.startTime=Math.min(n.startTime,v.startTime);v.processingStart=Math.min(n.processingStart,v.processingStart);v.processingEnd=Math.max(n.processingEnd,v.processingEnd);v.entries.push(n);break}}v||(v={startTime:n.startTime,processingStart:n.processingStart,processingEnd:n.processingEnd,renderTime:q,entries:[n]},e.push(v));(n.interactionId||"first-input"===n.entryType)&&g.set(n,v);k||(Fg(l),k=!0)};c.p=function(n){if(!h.get(n)){var q=n.entries[0].target;if(q){var t,r,v;q=null!==
(t=null===(r=(v=a).generateTarget)||void 0===r?void 0:r.call(v,q))&&void 0!==t?t:Ti(q);h.set(n,q)}}};var p=function(n,q){var t=[],r=X(d),v;try{for(r.s();!(v=r.n()).done;){var w=v.value;if(!(w.startTime+w.duration<n)){if(w.startTime>q)break;t.push(w)}}}catch(x){r.e(x)}finally{r.f()}return t},m=function(n){var q=n.entries[0],t=g.get(q),r=q.processingStart,v=Math.max(q.startTime+q.duration,r),w=Math.min(t.processingEnd,v);t=t.entries.sort(function(E,H){return E.processingStart-H.processingStart});var x=
p(q.startTime,w),C=c.h.get(q.interactionId);q={interactionTarget:h.get(C),interactionType:q.name.startsWith("key")?"keyboard":"pointer",interactionTime:q.startTime,nextPaintTime:v,processedEventEntries:t,longAnimationFrameEntries:x,inputDelay:r-q.startTime,processingDuration:w-r,presentationDelay:v-w,loadState:hn(q.startTime),longestScript:void 0,totalScriptDuration:void 0,totalStyleAndLayoutDuration:void 0,totalPaintDuration:void 0,totalUnattributedDuration:void 0};(function(E,H){if(null!==(H=E.longAnimationFrameEntries)&&
void 0!==H&&H.length){H=E.interactionTime;var D=E.inputDelay,B=E.processingDuration,I,L,V=0,R=0,U=0,N=0,y=X(E.longAnimationFrameEntries),F;try{for(y.s();!(F=y.n()).done;){var A=F.value;R=R+A.startTime+A.duration-A.styleAndLayoutStart;var O=X(A.scripts),K;try{for(O.s();!(K=O.n()).done;){var ca=K.value,ea=ca.startTime+ca.duration;if(!(ea<H)){var ba=ea-Math.max(H,ca.startTime),ta=ca.duration?ba/ca.duration*ca.forcedStyleAndLayoutDuration:0;V+=ba-ta;R+=ta;ba>N&&(L=ca.startTime<H+D?"input-delay":ca.startTime>=
H+D+B?"presentation-delay":"processing-duration",I=ca,N=ba)}}}catch(P){O.e(P)}finally{O.f()}}}catch(P){y.e(P)}finally{y.f()}F=(F=E.longAnimationFrameEntries.at(-1))?F.startTime+F.duration:0;F>=H+D+B&&(U=E.nextPaintTime-F);I&&L&&(E.longestScript={entry:I,subpart:L,intersectingDuration:N});E.totalScriptDuration=V;E.totalStyleAndLayoutDuration=R;E.totalPaintDuration=U;E.totalUnattributedDuration=E.nextPaintTime-H-V-R-U}})(q);return Object.assign(n,{attribution:q})};le("long-animation-frame",function(n){d=
d.concat(n);k||(Fg(l),k=!0)});(function(n){var q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype){var t=Dg();Xi(function(){var r;"interactionCount"in performance||Zi||(Zi=le("event",Qr,{type:"event",buffered:!0,durationThreshold:0}));var v=Nc("INP"),w=Sd(q,rn),x=function(H){Fg(function(){var D=X(H),B;try{for(D.s();!(B=D.n()).done;)w.u(B.value)}catch(I){D.e(I)}finally{D.f()}(D=w.M())&&D.T!==v.value&&
(v.value=D.T,v.entries=D.entries,E())})},C=le("event",x,{durationThreshold:null!==(r=q.durationThreshold)&&void 0!==r?r:40});var E=Mc(n,v,sn,q.reportAllChanges);C&&(C.observe({type:"first-input",buffered:!0}),t.onHidden(function(){x(C.takeRecords());E(!0)}),hf(function(){w.v();v=Nc("INP");E=Mc(n,v,sn,q.reportAllChanges)}))})}})(function(n){n=m(n);b(n)},a)},tn=function(){function b(){na(this,b);bc(this,"m",void 0)}return oa(b,[{key:"u",value:function(a){var c;null===(c=this.m)||void 0===c||c.call(this,
a)}}])}(),un=[2500,4E3],rq=function(b){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=Sd(a=Object.assign({},a),tn),d=new WeakMap;c.m=function(e){var f=e.element;if(f){var g,h,k;f=null!==(g=null===(h=(k=a).generateTarget)||void 0===h?void 0:h.call(k,f))&&void 0!==g?g:Ti(f);d.set(e,f)}};(function(e){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Xi(function(){var g=Dg(),h=Nc("LCP"),k=Sd(f,tn),l=function(v){f.reportAllChanges||(v=v.slice(-1));v=X(v);var w;try{for(v.s();!(w=
v.n()).done;){var x=w.value;k.u(x);x.startTime<g.firstHiddenTime&&(h.value=Math.max(x.startTime-Cg(),0),h.entries=[x],m())}}catch(C){v.e(C)}finally{v.f()}},p=le("largest-contentful-paint",l);if(p){var m=Mc(e,h,un,f.reportAllChanges);for(var n=Vi(function(){l(p.takeRecords());p.disconnect();m(!0)}),q=function(v){v.isTrusted&&(Fg(n),removeEventListener(v.type,q,{capture:!0}))},t=0,r=["keydown","click","visibilitychange"];t<r.length;t++)addEventListener(r[t],q,{capture:!0});hf(function(v){h=Nc("LCP");
m=Mc(e,h,un,f.reportAllChanges);Ui(function(){h.value=performance.now()-v.timeStamp;m(!0)})})}})})(function(e){e=function(f){var g={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:f.value};if(f.entries.length){var h=Bg();if(h){var k=h.activationStart||0,l=f.entries.at(-1),p=l.url&&performance.getEntriesByType("resource").filter(function(n){return n.name===l.url})[0];g=Math.max(0,h.responseStart-k);var m=Math.max(g,p?(p.requestStart||p.startTime)-k:0);k=Math.min(f.value,
Math.max(m,p?p.responseEnd-k:0));g={target:d.get(l),timeToFirstByte:g,resourceLoadDelay:m-g,resourceLoadDuration:k-m,elementRenderDelay:f.value-k,navigationEntry:h,lcpEntry:l};l.url&&(g.url=l.url);p&&(g.lcpResourceEntry=p)}}return Object.assign(f,{attribution:g})}(e);b(e)},a)},Hh,Wd;(function(b){b[b.APP=0]="APP";b[b.REMOTE=1]="REMOTE";b[b.MERGE=2]="MERGE"})(Wd||(Wd={}));var pd={},wq=function(){return function(){this.outQueues=[];this.bufferFlushers=[];this.hasLoaded=!1;this.registeredOnLoadHandlers=
[]}}();Ya.cleanup=function(b){yb(b,function(a){a.clearTimers()});uq(b)};Ya.convivaAppTracker=function(b){void 0===b&&(b={});try{var a="undefined"!==typeof window?vq():void 0;if(a){var c=b.trackerVersionSuffix?"js-".concat("1.5.1"," ").concat(b.trackerVersionSuffix):"js-".concat("1.5.1");if(pd.hasOwnProperty("CAT"))var d=null;else pd.CAT=hq("CAT","CAT",c,a,b),d=pd.CAT;return d}}catch(e){console.warn("Conviva App Tracker:: Initialisation failed! "+e)}};Ya.getClientId=function(){var b="";"undefined"!=
typeof window&&(null===window||void 0===window?0:window.localStorage)&&(b=window.localStorage.getItem("Conviva.sdkConfig"),b=JSON.parse(b||"{}"),b="{}"===b||"undefined"===typeof b?"":b.clId);return b};Ya.setClientId=function(b){if(b&&"string"===typeof b)try{var a=b.split(".");if(4!==a.length)console.warn('Conviva App Tracker:: Invalid clientId format! It should be in the format of "x.x.x.x"');else if(!1===a.every(function(g){return/^\d+$/.test(g)}))console.warn("Conviva App Tracker:: Invalid clientId format! Every part of clientId should be numeric");
else if("undefined"!=typeof window&&(null===window||void 0===window?0:window.localStorage)){var c=window.localStorage,d=c.getItem("Conviva.sdkConfig"),e=JSON.parse(d||"{}");"{}"===e||"undefined"===typeof e?e={clId:b}:e.clId=b;var f=JSON.stringify(e);c.setItem("Conviva.sdkConfig",f)}else console.warn("Conviva App Tracker:: window or local storage is not available")}catch(g){console.warn(g)}else console.warn("Conviva App Tracker:: Unable to set clinetId string!")};Ya.setConversationId=function(b,a){yb(a,
function(c){c.setConversationId(b)})};Ya.setCustomTags=function(b,a){yb(a,function(c){try{c.setCustomTags(b)}catch(d){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})};Ya.setCustomUrl=function(b,a){yb(a,function(c){c.setCustomUrl(b)})};Ya.setDocumentTitle=function(b,a){yb(a,function(c){c.setDocumentTitle(b)})};Ya.setReferrerUrl=function(b,a){yb(a,function(c){c.setReferrerUrl(b)})};Ya.setUserId=function(b,a){yb(a,function(c){c.setUserId(b)})};Ya.trackButtonClick=function(b,
a){yb(a,function(c){try{c.trackButtonClick(b)}catch(d){console.warn("Conviva App Tracker:: Unable to track button click event! "+d)}})};Ya.trackCustomEvent=function(b,a){yb(a,function(c){try{c.trackCustomEvent(b)}catch(d){console.warn("Conviva App Tracker:: Unable to track custom event! "+d)}})};Ya.trackError=function(b,a){yb(a,function(c){try{c.trackErrorEvent(b)}catch(d){console.warn("Conviva App Tracker:: Unable to track error!")}})};Ya.trackLinkClick=function(b,a){yb(a,function(c){try{c.trackLinkClick(b)}catch(d){console.warn("Conviva App Tracker:: Unable to track link click event! "+
d)}})};Ya.trackNetworkRequest=function(b,a){var c,d,e,f,g,h,k,l,p,m,n,q,t,r,v,w,x,C,E={method:null!==(c=b.requestDetails.method)&&void 0!==c?c:void 0,url:null!==(d=b.requestDetails.url)&&void 0!==d?d:void 0,headers:null!==(e=b.requestDetails.headers)&&void 0!==e?e:void 0,body:null!==(f=b.requestDetails.body)&&void 0!==f?f:void 0,requestTimestamp:null!==(g=b.requestDetails.requestTimestamp)&&void 0!==g?g:void 0,requestTime:null!==(h=b.requestDetails.requestTime)&&void 0!==h?h:void 0,size:null!==(k=
b.requestDetails.size)&&void 0!==k?k:void 0,traceparent:null!==(l=b.requestDetails.traceparent)&&void 0!==l?l:void 0,baggage:null!==(p=b.requestDetails.baggage)&&void 0!==p?p:void 0},H={status:null!==(m=b.responseDetails.status)&&void 0!==m?m:void 0,statusText:null!==(n=b.responseDetails.statusText)&&void 0!==n?n:void 0,url:null!==(q=b.responseDetails.url)&&void 0!==q?q:void 0,headers:null!==(t=b.responseDetails.headers)&&void 0!==t?t:void 0,body:null!==(r=b.responseDetails.body)&&void 0!==r?r:null,
event:null!==(v=b.responseDetails.event)&&void 0!==v?v:void 0,size:null!==(w=b.responseDetails.size)&&void 0!==w?w:void 0,responseTimestamp:null!==(x=b.responseDetails.responseTimestamp)&&void 0!==x?x:void 0,responseTime:null!==(C=b.responseDetails.responseTime)&&void 0!==C?C:void 0};E.url?yb(a,function(D){var B;try{var I=null===(B=D.core)||void 0===B?void 0:B.getConfig().networkRequestTrackingConfiguration;D.getSamplingMode()!==J.SAMPLING_MODES.NONE&&I.enabled&&D.determineShouldTrack(I.collect,I.block,
I.blocklist,I.safelist,H,E)&&(I.eventCollectionMode!==J.NETWORK_REQUEST_EVENT_COLLECTION_MODE.MANUAL&&I.eventCollectionMode!==J.NETWORK_REQUEST_EVENT_COLLECTION_MODE.BOTH||D.trackNetworkRequest({requestDetails:E,responseDetails:H}))}catch(L){console.warn("Conviva App Tracker:: Unable to track network request! "+L)}}):console.warn("Conviva App Tracker:: Unable to track network request! Missing required fields.")};Ya.trackPageView=function(b,a){yb(a,function(c){c.trackPageView(b)})};Ya.unsetCustomTags=
function(b,a){yb(a,function(c){try{c.unsetCustomTags(b)}catch(d){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})};Ya.version="1.5.1";Object.defineProperty(Ya,"__esModule",{value:!0})})
//# sourceMappingURL=conviva-eco-js-sensor.umd.min.js.map
