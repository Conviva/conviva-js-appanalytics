/*!
 * Browser tracker for Conviva v1.4.17 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */

'use strict';(function(Wa,Ic){"object"===typeof exports&&"undefined"!==typeof module?Ic(exports):"function"===typeof define&&define.amd?define(["exports"],Ic):(Wa="undefined"!==typeof globalThis?globalThis:Wa||self,Ic(Wa.convivaBrowserTracking={}))})(this,function(Wa){function Ic(b,a){(null==a||a>b.length)&&(a=b.length);for(var c=0,d=Array(a);c<a;c++)d[c]=b[c];return d}function ti(b,a,c,d,e,f,g){try{var h=b[f](g),k=h.value}catch(l){return void c(l)}h.done?a(k):Promise.resolve(k).then(d,e)}function og(b){return function(){var a=
  this,c=arguments;return new Promise(function(d,e){function f(k){ti(h,d,e,f,g,"next",k)}function g(k){ti(h,d,e,f,g,"throw",k)}var h=b.apply(a,c);f(void 0)})}}function qb(b,a,c){a=Jc(a);a=pg()?Reflect.construct(a,c||[],Jc(b).constructor):a.apply(b,c);if(!a||"object"!=typeof a&&"function"!=typeof a){if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}else b=a;
  return b}function ka(b,a){if(!(b instanceof a))throw new TypeError("Cannot call a class as a function");}function vm(b,a,c){if(pg())return Reflect.construct.apply(null,arguments);var d=[null];d.push.apply(d,a);d=new (b.bind.apply(b,d));return c&&ae(d,c.prototype),d}function ui(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,vi(d.key),d)}}function la(b,a,c){return a&&ui(b.prototype,a),c&&ui(b,c),Object.defineProperty(b,
  "prototype",{writable:!1}),b}function ca(b,a){var c="undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(!c){if(Array.isArray(b)||(c=qg(b))||a&&b&&"number"==typeof b.length){c&&(b=c);var d=0;a=function(){};return{s:a,n:function(){return d>=b.length?{done:!0}:{done:!1,value:b[d++]}},e:function(h){throw h;},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var e,f=!0,g=!1;return{s:function(){c=
  c.call(b)},n:function(){var h=c.next();return f=h.done,h},e:function(h){g=!0;e=h},f:function(){try{f||null==c.return||c.return()}finally{if(g)throw e;}}}}function rg(){return rg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(b,a,c){var d;for(d=b;!{}.hasOwnProperty.call(d,a)&&null!==(d=Jc(d)););if(d)return d=Object.getOwnPropertyDescriptor(d,a),d.get?d.get.call(3>arguments.length?b:c):d.value},rg.apply(null,arguments)}function Jc(b){return Jc=Object.setPrototypeOf?Object.getPrototypeOf.bind():
  function(a){return a.__proto__||Object.getPrototypeOf(a)},Jc(b)}function rb(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}});Object.defineProperty(b,"prototype",{writable:!1});a&&ae(b,a)}function wm(b){try{return-1!==Function.toString.call(b).indexOf("[native code]")}catch(a){return"function"==typeof b}}function pg(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,
  [],function(){}))}catch(a){}return(pg=function(){return!!b})()}function wi(b,a){var c=Object.keys(b);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(b);a&&(d=d.filter(function(e){return Object.getOwnPropertyDescriptor(b,e).enumerable}));c.push.apply(c,d)}return c}function pa(b){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{};a%2?wi(Object(c),!0).forEach(function(d){var e=d;d=c[d];(e=vi(e))in b?Object.defineProperty(b,e,{value:d,enumerable:!0,configurable:!0,
  writable:!0}):b[e]=d}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(c)):wi(Object(c)).forEach(function(d){Object.defineProperty(b,d,Object.getOwnPropertyDescriptor(c,d))})}return b}function be(b,a){if(null==b)return{};var c;if(null==b)var d={};else{var e={};for(c in b)({}).hasOwnProperty.call(b,c)&&!a.includes(c)&&(e[c]=b[c]);d=e}if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(b);for(c=0;c<f.length;c++)e=f[c],a.includes(e)||{}.propertyIsEnumerable.call(b,
  e)&&(d[e]=b[e])}return d}function Ib(){function b(y,D,A){return Object.defineProperty(y,D,{value:A,enumerable:!0,configurable:!0,writable:!0}),y[D]}function a(y,D,A,P){D=Object.create((D&&D.prototype instanceof d?D:d).prototype);P=new p(P||[]);return x(D,"_invoke",{value:k(y,A,P)}),D}function c(y,D,A){try{return{type:"normal",arg:y.call(D,A)}}catch(P){return{type:"throw",arg:P}}}function d(){}function e(){}function f(){}function g(y){["next","throw","return"].forEach(function(D){b(y,D,function(A){return this._invoke(D,
  A)})})}function h(y,D){function A(K,qa,Y,ta){K=c(y[K],y,qa);if("throw"!==K.type){var R=K.arg;return(K=R.value)&&"object"==typeof K&&v.call(K,"__await")?D.resolve(K.__await).then(function(ma){A("next",ma,Y,ta)},function(ma){A("throw",ma,Y,ta)}):D.resolve(K).then(function(ma){R.value=ma;Y(R)},function(ma){return A("throw",ma,Y,ta)})}ta(K.arg)}var P;x(this,"_invoke",{value:function(K,qa){function Y(){return new D(function(ta,R){A(K,qa,ta,R)})}return P=P?P.then(Y,Y):Y()}})}function k(y,D,A){var P=E;return function(K,
  qa){if(P===M)throw Error("Generator is already running");if(P===ha){if("throw"===K)throw qa;return{value:u,done:!0}}A.method=K;for(A.arg=qa;;){if(K=A.delegate)if(K=l(K,A)){if(K===W)continue;return K}if("next"===A.method)A.sent=A._sent=A.arg;else if("throw"===A.method){if(P===E)throw P=ha,A.arg;A.dispatchException(A.arg)}else"return"===A.method&&A.abrupt("return",A.arg);P=M;K=c(y,D,A);if("normal"===K.type){if(P=A.done?ha:I,K.arg===W)continue;return{value:K.arg,done:A.done}}"throw"===K.type&&(P=ha,
  A.method="throw",A.arg=K.arg)}}}function l(y,D){var A=D.method,P=y.iterator[A];if(P===u)return D.delegate=null,"throw"===A&&y.iterator.return&&(D.method="return",D.arg=u,l(y,D),"throw"===D.method)||"return"!==A&&(D.method="throw",D.arg=new TypeError("The iterator does not provide a '"+A+"' method")),W;A=c(P,y.iterator,D.arg);return"throw"===A.type?(D.method="throw",D.arg=A.arg,D.delegate=null,W):(A=A.arg)?A.done?(D[y.resultName]=A.value,D.next=y.nextLoc,"return"!==D.method&&(D.method="next",D.arg=
  u),D.delegate=null,W):A:(D.method="throw",D.arg=new TypeError("iterator result is not an object"),D.delegate=null,W)}function n(y){var D={tryLoc:y[0]};1 in y&&(D.catchLoc=y[1]);2 in y&&(D.finallyLoc=y[2],D.afterLoc=y[3]);this.tryEntries.push(D)}function m(y){var D=y.completion||{};D.type="normal";delete D.arg;y.completion=D}function p(y){this.tryEntries=[{tryLoc:"root"}];y.forEach(n,this);this.reset(!0)}function r(y){if(y||""===y){var D=y[F];if(D)return D.call(y);if("function"==typeof y.next)return y;
  if(!isNaN(y.length)){var A=-1;D=function K(){for(;++A<y.length;)if(v.call(y,A))return K.value=y[A],K.done=!1,K;return K.value=u,K.done=!0,K};return D.next=D}}throw new TypeError(typeof y+" is not iterable");}Ib=function(){return q};var u,q={},w=Object.prototype,v=w.hasOwnProperty,x=Object.defineProperty||function(y,D,A){y[D]=A.value},C="function"==typeof Symbol?Symbol:{},F=C.iterator||"@@iterator",H=C.asyncIterator||"@@asyncIterator",G=C.toStringTag||"@@toStringTag";try{b({},"")}catch(y){b=function(D,
  A,P){return D[A]=P}}q.wrap=a;var E="suspendedStart",I="suspendedYield",M="executing",ha="completed",W={};C={};b(C,F,function(){return this});var ia=Object.getPrototypeOf;(ia=ia&&ia(ia(r([]))))&&ia!==w&&v.call(ia,F)&&(C=ia);var N=f.prototype=d.prototype=Object.create(C);return e.prototype=f,x(N,"constructor",{value:f,configurable:!0}),x(f,"constructor",{value:e,configurable:!0}),e.displayName=b(f,G,"GeneratorFunction"),q.isGeneratorFunction=function(y){y="function"==typeof y&&y.constructor;return!!y&&
  (y===e||"GeneratorFunction"===(y.displayName||y.name))},q.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,f):(y.__proto__=f,b(y,G,"GeneratorFunction")),y.prototype=Object.create(N),y},q.awrap=function(y){return{__await:y}},g(h.prototype),b(h.prototype,H,function(){return this}),q.AsyncIterator=h,q.async=function(y,D,A,P,K){void 0===K&&(K=Promise);var qa=new h(a(y,D,A,P),K);return q.isGeneratorFunction(D)?qa:qa.next().then(function(Y){return Y.done?Y.value:qa.next()})},g(N),b(N,
  G,"Generator"),b(N,F,function(){return this}),b(N,"toString",function(){return"[object Generator]"}),q.keys=function(y){var D=Object(y),A=[],P;for(P in D)A.push(P);return A.reverse(),function qa(){for(;A.length;){var Y=A.pop();if(Y in D)return qa.value=Y,qa.done=!1,qa}return qa.done=!0,qa}},q.values=r,p.prototype={constructor:p,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(m),!y)for(var D in this)"t"===
  D.charAt(0)&&v.call(this,D)&&!isNaN(+D.slice(1))&&(this[D]=u)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if("throw"===y.type)throw y.arg;return this.rval},dispatchException:function(y){function D(R,ma){return qa.type="throw",qa.arg=y,A.next=R,ma&&(A.method="next",A.arg=u),!!ma}if(this.done)throw y;for(var A=this,P=this.tryEntries.length-1;0<=P;--P){var K=this.tryEntries[P],qa=K.completion;if("root"===K.tryLoc)return D("end");if(K.tryLoc<=this.prev){var Y=v.call(K,"catchLoc"),
  ta=v.call(K,"finallyLoc");if(Y&&ta){if(this.prev<K.catchLoc)return D(K.catchLoc,!0);if(this.prev<K.finallyLoc)return D(K.finallyLoc)}else if(Y){if(this.prev<K.catchLoc)return D(K.catchLoc,!0)}else{if(!ta)throw Error("try statement without catch or finally");if(this.prev<K.finallyLoc)return D(K.finallyLoc)}}}},abrupt:function(y,D){for(var A=this.tryEntries.length-1;0<=A;--A){var P=this.tryEntries[A];if(P.tryLoc<=this.prev&&v.call(P,"finallyLoc")&&this.prev<P.finallyLoc){var K=P;break}}K&&("break"===
  y||"continue"===y)&&K.tryLoc<=D&&D<=K.finallyLoc&&(K=null);A=K?K.completion:{};return A.type=y,A.arg=D,K?(this.method="next",this.next=K.finallyLoc,W):this.complete(A)},complete:function(y,D){if("throw"===y.type)throw y.arg;return"break"===y.type||"continue"===y.type?this.next=y.arg:"return"===y.type?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):"normal"===y.type&&D&&(this.next=D),W},finish:function(y){for(var D=this.tryEntries.length-1;0<=D;--D){var A=this.tryEntries[D];if(A.finallyLoc===
  y)return this.complete(A.completion,A.afterLoc),m(A),W}},catch:function(y){for(var D=this.tryEntries.length-1;0<=D;--D){var A=this.tryEntries[D];if(A.tryLoc===y){y=A.completion;if("throw"===y.type){var P=y.arg;m(A)}return P}}throw Error("illegal catch attempt");},delegateYield:function(y,D,A){return this.delegate={iterator:r(y),resultName:D,nextLoc:A},"next"===this.method&&(this.arg=u),W}},q}function ae(b,a){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,d){return c.__proto__=
  d,c},ae(b,a)}function $a(b,a){var c=Array.isArray(b)?b:void 0;if(!c)a:{var d=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=d){var e,f,g,h=[],k=!0,l=!1;try{if(f=(d=d.call(b)).next,0===a){if(Object(d)!==d){c=void 0;break a}k=!1}else for(;!(k=(e=f.call(d)).done)&&(h.push(e.value),h.length!==a);k=!0);}catch(m){l=!0;var n=m}finally{try{if(!k&&null!=d.return&&(g=d.return(),Object(g)!==g)){c=void 0;break a}}finally{if(l)throw n;}}c=h}else c=void 0}if(!(b=c||qg(b,a)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  return b}function Ob(b,a,c,d){var e=rg(Jc(1&d?b.prototype:b),a,c);return 2&d&&"function"==typeof e?function(f){return e.apply(c,f)}:e}function Zb(b){var a=Array.isArray(b)?Ic(b):void 0;a||(a="undefined"!=typeof Symbol&&null!=b[Symbol.iterator]||null!=b["@@iterator"]?Array.from(b):void 0);if(!(b=a||qg(b)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return b}function vi(b){a:if("object"==
  typeof b&&b){var a=b[Symbol.toPrimitive];if(void 0!==a){b=a.call(b,"string");if("object"!=typeof b)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}return"symbol"==typeof b?b:b+""}function S(b){"@babel/helpers - typeof";return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},S(b)}function qg(b,a){if(b){if("string"==
  typeof b)return Ic(b,a);var c={}.toString.call(b).slice(8,-1);return"Object"===c&&b.constructor&&(c=b.constructor.name),"Map"===c||"Set"===c?Array.from(b):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Ic(b,a):void 0}}function We(b){var a="function"==typeof Map?new Map:void 0;return We=function(c){function d(){return vm(c,arguments,Jc(this).constructor)}if(null===c||!wm(c))return c;if("function"!=typeof c)throw new TypeError("Super expression must either be null or a function");
  if(void 0!==a){if(a.has(c))return a.get(c);a.set(c,d)}return d.prototype=Object.create(c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),ae(d,c)},We(b)}function sg(b,a){var c={},d;for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&0>a.indexOf(d)&&(c[d]=b[d]);if(null!=b&&"function"===typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(b);e<d.length;e++)0>a.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(b,d[e])&&(c[d[e]]=b[d[e]])}return c}
  function ce(b,a,c,d){function e(f){return f instanceof c?f:new c(function(g){g(f)})}return new (c||(c=Promise))(function(f,g){function h(n){try{l(d.next(n))}catch(m){g(m)}}function k(n){try{l(d["throw"](n))}catch(m){g(m)}}function l(n){n.done?f(n.value):e(n.value).then(h,k)}l((d=d.apply(b,a||[])).next())})}function de(b,a){function c(l){return function(n){return d([l,n])}}function d(l){if(f)throw new TypeError("Generator is already executing.");for(;e;)try{if(f=1,g&&(h=l[0]&2?g["return"]:l[0]?g["throw"]||
  ((h=g["return"])&&h.call(g),0):g.next)&&!(h=h.call(g,l[1])).done)return h;if(g=0,h)l=[l[0]&2,h.value];switch(l[0]){case 0:case 1:h=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++;g=l[1];l=[0];continue;case 7:l=e.ops.pop();e.trys.pop();continue;default:if(!(h=e.trys,h=0<h.length&&h[h.length-1])&&(6===l[0]||2===l[0])){e=0;continue}if(3===l[0]&&(!h||l[1]>h[0]&&l[1]<h[3]))e.label=l[1];else if(6===l[0]&&e.label<h[1])e.label=h[1],h=l;else if(h&&e.label<h[2])e.label=h[2],e.ops.push(l);
  else{h[2]&&e.ops.pop();e.trys.pop();continue}}l=a.call(b,e)}catch(n){l=[6,n],g=0}finally{f=h=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}var e={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,g,h,k;return k={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k}function gb(b,a,c){if(c||2===arguments.length)for(var d=0,e=a.length,f;d<e;d++)!f&&d in a||(f||(f=Array.prototype.slice.call(a,0,d)),f[d]=
  a[d]);return b.concat(f||Array.prototype.slice.call(a))}function xm(b){var a=0,c=0;var d="";var e=[];if(!b)return b;b+="";do{var f=Db.indexOf(b.charAt(a++));var g=Db.indexOf(b.charAt(a++));d=Db.indexOf(b.charAt(a++));var h=Db.indexOf(b.charAt(a++));var k=f<<18|g<<12|d<<6|h;f=k>>16&255;g=k>>8&255;k&=255;64===d?e[c++]=String.fromCharCode(f):64===h?e[c++]=String.fromCharCode(f,g):e[c++]=String.fromCharCode(f,g,k)}while(a<b.length);d=e.join("");return function(l){return decodeURIComponent(l.split("").map(function(n){return"%"+
  ("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(d.replace(/\0+$/,""))}function ym(b){b=unescape(encodeURIComponent(b));for(var a="",c=0;c<b.length;){var d=b.charCodeAt(c++),e=b.charCodeAt(c++),f=b.charCodeAt(c++),g=d>>2;d=(d&3)<<4|e>>4;e=isNaN(e)?64:(e&15)<<2|f>>6;f=isNaN(f)?64:f&63;a+=Db.charAt(g)+Db.charAt(d)+Db.charAt(e)+Db.charAt(f)}return a}function tg(){var b={},a=[],c=[],d=[],e,f=function(g,h){null!=h&&""!==h&&(b[g]=h)};return{add:f,addDict:function(g){for(var h in g)Object.prototype.hasOwnProperty.call(g,
  h)&&f(h,g[h])},addJson:function(g,h,k){k&&xi(k)&&(g={keyIfEncoded:g,keyIfNotEncoded:h,json:k},c.push(g),a.push(g))},addContextEntity:function(g){d.push(g)},getPayload:function(){return b},getJson:function(){return a},withJsonProcessor:function(g){e=g},build:function(){null===e||void 0===e?void 0:e(this,c,d);return b}}}function zm(b){return function(a,c,d){for(var e=function(l,n,m){l=JSON.stringify(l);if(b){m=a.add;if(l){var p=0,r=0,u=[];if(l){l=unescape(encodeURIComponent(l));do{var q=l.charCodeAt(p++);
  var w=l.charCodeAt(p++);var v=l.charCodeAt(p++);var x=q<<16|w<<8|v;q=x>>18&63;w=x>>12&63;v=x>>6&63;x&=63;u[r++]=Db.charAt(q)+Db.charAt(w)+Db.charAt(v)+Db.charAt(x)}while(p<l.length);p=u.join("");l=l.length%3;l=(l?p.slice(0,l-3):p)+"===".slice(l||3)}l=l.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}m.call(a,n,l)}else a.add(m,l)},f=function(l,n){if(!l){var m=a.getPayload();if(b?m.cx:m.co){l=JSON;var p=l.parse;if(b){if(m=m.cx){switch(4-m.length%4){case 2:m+="==";break;case 3:m+="="}m=m.replace(/-/g,
  "+").replace(/_/g,"/");m=xm(m)}}else m=m.co;l=p.call(l,m)}else l=void 0}l?l.dt=l.dt.concat(n.dt):l=n;return l},g=void 0,h=0;h<c.length;h++){var k=c[h];"cx"===k.keyIfEncoded?g=f(g,k.json):e(k.json,k.keyIfEncoded,k.keyIfNotEncoded)}c.length=0;d.length&&(c={sc:"sp/ctx/1-0-0",dt:gb([],d,!0)},g=f(g,c),d.length=0);g&&e(g,"cx","co")}}function xi(b){if(!yi(b))return!1;for(var a in b)if(Object.prototype.hasOwnProperty.call(b,a))return!0;return!1}function yi(b){return"undefined"!==typeof b&&null!==b&&(b.constructor===
  {}.constructor||b.constructor===[].constructor)}function Am(){var b=[],a=[];return{getGlobalPrimitives:function(){return b},getConditionalProviders:function(){return a},addGlobalContexts:function(c){for(var d=[],e=[],f=0;f<c.length;f++){var g=c[f];zi(g)?d.push(g):sd(g)&&e.push(g)}b=b.concat(e);a=a.concat(d)},clearGlobalContexts:function(){a=[];b=[]},removeGlobalContexts:function(c){for(var d=function(f){zi(f)?a=a.filter(function(g){return JSON.stringify(g)!==JSON.stringify(f)}):sd(f)&&(b=b.filter(function(g){return JSON.stringify(g)!==
  JSON.stringify(f)}))},e=0;e<c.length;e++)d(c[e])},getApplicableContexts:function(c){a:{var d=0;for(var e=c.getJson();d<e.length;d++){var f=e[d];if("ue_px"===f.keyIfEncoded&&"object"===S(f.json.data)&&(f=f.json.data.schema,"string"==typeof f)){d=f;break a}}d=""}e=c.getPayload().e;f="string"===typeof e?e:"";e=[];var g=ug(b,c,f,d);e.push.apply(e,g);c=Bm(a,c,f,d);e.push.apply(e,c);return e}}}function Cm(b){return{addPluginContexts:function(a){var c=a?gb([],a,!0):[];b.forEach(function(d){try{d.contexts&&
  c.push.apply(c,d.contexts())}catch(e){ua.error("Error adding plugin contexts",e)}});return c}}}function Ai(b){for(var a,c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];return null!==(a=null===b||void 0===b?void 0:b.map(function(e){if("function"===typeof e)try{return e.apply(void 0,c)}catch(f){}else return e}).filter(Boolean))&&void 0!==a?a:[]}function Dm(b){if("*"===b[0]||"*"===b[1])return!1;if(0<b.slice(2).length){var a=!1,c=0;for(b=b.slice(2);c<b.length;c++)if("*"===b[c])a=!0;else if(a)return!1;
  return!0}return 2==b.length?!0:!1}function Bi(b){return(b=b.split("."))&&1<b.length?Dm(b):!1}function Ci(b){b=/^iglu:((?:(?:[a-zA-Z0-9-_]+|\*).)+(?:[a-zA-Z0-9-_]+|\*))\/([a-zA-Z0-9-_.]+|\*)\/jsonschema\/([1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)$/.exec(b);if(null!==b&&Bi(b[1]))return b.slice(1,6)}function vg(b){if(b=Ci(b)){var a=b[0];return 5===b.length&&Bi(a)}return!1}function Em(b){return Array.isArray(b)&&b.every(function(a){return"string"===typeof a})}function Di(b){return Em(b)?b.every(function(a){return vg(a)}):
  "string"===typeof b?vg(b):!1}function ee(b){return xi(b)&&"sc"in b&&"dt"in b?"string"===typeof b.sc&&"object"===S(b.dt):!1}function Fm(b){var a=0;if(null!=b&&"object"===S(b)&&!Array.isArray(b)){if(Object.prototype.hasOwnProperty.call(b,"accept"))if(Di(b.accept))a+=1;else return!1;if(Object.prototype.hasOwnProperty.call(b,"reject"))if(Di(b.reject))a+=1;else return!1;return 0<a&&2>=a}return!1}function Xe(b){return"function"===typeof b&&1>=b.length}function sd(b){return Xe(b)||ee(b)}function Ei(b){return Array.isArray(b)&&
  2===b.length?Array.isArray(b[1])?Xe(b[0])&&b[1].every(sd):Xe(b[0])&&sd(b[1]):!1}function Fi(b){return Array.isArray(b)&&2===b.length?Fm(b[0])?Array.isArray(b[1])?b[1].every(sd):sd(b[1]):!1:!1}function zi(b){return Ei(b)||Fi(b)}function Gm(b,a){var c=0,d=0,e=b.accept;Array.isArray(e)?b.accept.some(function(f){return Ye(f,a)})&&d++:"string"===typeof e&&Ye(e,a)&&d++;e=b.reject;Array.isArray(e)?b.reject.some(function(f){return Ye(f,a)})&&c++:"string"===typeof e&&Ye(e,a)&&c++;return 0<d&&0===c?!0:!1}function Ye(b,
  a){if(!vg(b))return!1;b=Ci(b);a=/^iglu:([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_]+)\/jsonschema\/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$/.exec(a);a=null!==a?a.slice(1,6):void 0;if(b&&a){if(!Hm(b[0],a[0]))return!1;for(var c=1;5>c;c++)if(!Gi(b[c],a[c]))return!1;return!0}return!1}function Hm(b,a){a=a.split(".");b=b.split(".");if(a&&b){if(a.length!==b.length)return!1;for(var c=0;c<b.length;c++)if(!Gi(a[c],b[c]))return!1;return!0}return!1}function Gi(b,a){return b&&a&&"*"===b||b===a}function Hi(b){return Array.isArray(b)?
  b:[b]}function ug(b,a,c,d){var e;b=Hi(b).map(function(f){a:if(ee(f))f=[f];else{if(Xe(f)){b:{var g=void 0;try{var h={event:a.getPayload(),eventType:c,eventSchema:d};g=f(h);if(Array.isArray(g)&&g.every(ee)||ee(g)){var k=g;break b}k=void 0;break b}catch(l){}k=void 0}if(ee(k)){f=[k];break a}else if(Array.isArray(k)){f=k;break a}}f=void 0}if(f&&0!==f.length)return f});return(e=[]).concat.apply(e,b.filter(function(f){return null!=f&&f.filter(Boolean)}))}function Bm(b,a,c,d){var e;b=Hi(b).map(function(f){a:{if(Ei(f)){var g=
  f[0],h=!1;try{var k={event:a.getPayload(),eventType:c,eventSchema:d};h=g(k)}catch(l){h=!1}if(!0===h){f=ug(f[1],a,c,d);break a}}else if(Fi(f)&&Gm(f[0],d)){f=ug(f[1],a,c,d);break a}f=[]}if(f&&0!==f.length)return f});return(e=[]).concat.apply(e,b.filter(function(f){return null!=f&&f.filter(Boolean)}))}function Im(b){return null==b?{type:"dtm",value:(new Date).getTime()}:"number"===typeof b?{type:"dtm",value:b}:"ttm"===b.type?{type:"ttm",value:b.value}:{type:"dtm",value:b.value||(new Date).getTime()}}
  function Jm(b){void 0===b&&(b={});var a=b.base64,c=b.corePlugins,d=null!==c&&void 0!==c?c:[];a=function(f,g,h){function k(u,q){u=n.getApplicableContexts(u);var w=[];q&&q.length&&w.push.apply(w,q);u&&u.length&&w.push.apply(w,u);return w}var l=Cm(g),n=Am(),m=f,p={},r=null;return{track:function(u,q,w){u.withJsonProcessor(zm(m));u.add("eid",nc.v4());u.addDict(p);w=Im(w);u.add(w.type,w.value.toString());q=k(u,l.addPluginContexts(q));q=q&&q.length?{sc:"sp/ctx/1-0-0",dt:q}:void 0;void 0!==q&&u.addJson("cx",
  "co",q);g.forEach(function(x){try{x.beforeTrack&&x.beforeTrack(u)}catch(C){ua.error("Plugin beforeTrack",C)}});"function"===typeof h&&h(u);var v=u.build();g.forEach(function(x){try{x.afterTrack&&x.afterTrack(v)}catch(C){ua.error("Plugin afterTrack",C)}});return v},addPayloadPair:function(u,q){p[u]=q},configuration:b,getConfig:function(){return b},setConfig:function(u){u&&("undefined"!==typeof u.base64&&(m=b.base64=u.base64),"undefined"!==typeof u.lifecycleAutotracking&&(b.lifecycleAutotracking=u.lifecycleAutotracking),
  "undefined"!==typeof u.cacheRefreshInterval&&(b.cacheRefreshInterval=u.cacheRefreshInterval),"undefined"!==typeof u.exceptionAutotracking&&(b.exceptionAutotracking=u.exceptionAutotracking),"undefined"!==typeof u.enablePeriodicHeartbeat&&(b.enablePeriodicHeartbeat=u.enablePeriodicHeartbeat),"undefined"!==typeof u.periodicHeartbeatInterval&&(b.periodicHeartbeatInterval=u.periodicHeartbeatInterval),"undefined"!==typeof u.enc&&(b.enc=u.enc),"undefined"!==typeof u.mend&&(b.mend=u.mend),"undefined"!==typeof u.maxLocalStorageQueueSize&&
  (b.maxLocalStorageQueueSize=u.maxLocalStorageQueueSize),"undefined"!==typeof u.maxGetBytes&&(b.maxGetBytes=u.maxGetBytes),"undefined"!==typeof u.bufferSize&&(b.bufferSize=u.bufferSize),"undefined"!==typeof u.customEventTrackingConfiguration&&(b.customEventTrackingConfiguration=u.customEventTrackingConfiguration),"undefined"!==typeof u.networkRequestTrackingConfiguration&&(b.networkRequestTrackingConfiguration=u.networkRequestTrackingConfiguration),"undefined"!==typeof u.traceparentconfig&&(b.traceparentconfig=
  u.traceparentconfig),"undefined"!==typeof u.baggageConfiguration&&(b.baggageConfiguration=u.baggageConfiguration),"undefined"!==typeof u.metaTagsTrackingConfiguration&&(b.metaTagsTrackingConfiguration=u.metaTagsTrackingConfiguration),"undefined"!==typeof u.evtStreamTrackingConfiguration&&(b.evtStreamTrackingConfiguration=u.evtStreamTrackingConfiguration),"undefined"!==typeof u.performanceContextConfig&&(b.performanceContextConfig=u.performanceContextConfig),"undefined"!==typeof u.configurationVersion&&
  (b.configurationVersion=u.configurationVersion),"undefined"!==typeof u.catRcLastUpdatedTs&&(b.catRcLastUpdatedTs=u.catRcLastUpdatedTs),"undefined"!==typeof u.endpoint&&(b.endpoint=u.endpoint),"undefined"!==typeof u.controlIngestConfig&&(b.controlIngestConfig=u.controlIngestConfig),"undefined"!==typeof u.applicationContext&&(b.applicationContext=u.applicationContext),"undefined"!==typeof u.emitterConfiguration&&(b.emitterConfiguration=u.emitterConfiguration),"undefined"!==typeof u.di&&(b.di=u.di),
  "undefined"!==typeof u.clickcc&&(b.clickcc=u.clickcc),"undefined"!==typeof u.collectionRateLimit&&(b.collectionRateLimit=u.collectionRateLimit),b.pageUrlTrackingConfig="undefined"!==typeof u.pageUrlTrackingConfig?u.pageUrlTrackingConfig:null,b.sessionReplayConfiguration="undefined"!==typeof u.sessionReplayConfiguration?u.sessionReplayConfiguration:null)},getBase64Encoding:function(){return m},setBase64Encoding:function(u){m=u},addPayloadDict:function(u){for(var q in u)Object.prototype.hasOwnProperty.call(u,
  q)&&(p[q]=u[q])},resetPayloadPairs:function(u){p=yi(u)?u:{}},setTrackerVersion:function(u){p.tv=u},setTrackerNamespace:function(u){p.tna=u},setAppId:function(u){p.aid=u},setPlatform:function(u){p.p=u},setUserId:function(u){p.uid=u},setConversationId:function(u){r=u},getConversationId:function(){return r},setScreenResolution:function(u,q){p.res=u+"x"+q},setViewport:function(u,q){p.vp=u+"x"+q},setColorDepth:function(u){p.cd=u},setTimezone:function(u){p.tz=u},setLang:function(u){p.lang=u},setIpAddress:function(u){p.ip=
  u},setUseragent:function(u){p.ua=u},addGlobalContexts:function(u){n.addGlobalContexts(u)},clearGlobalContexts:function(){n.clearGlobalContexts()},removeGlobalContexts:function(u){n.removeGlobalContexts(u)}}}(null!==a&&void 0!==a?a:!0,d,b.callback);var e=Z(Z({},a),{addPlugin:function(f){var g,h;f=f.plugin;d.push(f);null===(g=f.logger)||void 0===g?void 0:g.call(f,ua);null===(h=f.activateCorePlugin)||void 0===h?void 0:h.call(f,e)}});null===d||void 0===d?void 0:d.forEach(function(f){var g,h;null===(g=
  f.logger)||void 0===g?void 0:g.call(f,ua);null===(h=f.activateCorePlugin)||void 0===h?void 0:h.call(f,e)});return e}function Kc(b){var a=b.event;b=a.sc;var c=a.dt;a=tg();b={sc:"sp/ue/1-0-0",dt:{sc:b,dt:c}};a.add("e","ue");a.addJson("ue_px","ue_pr",b);return a}function td(b){return Kc({event:{sc:"cv/re/1-0-1",dt:ud({name:b.name,data:b.data})}})}function Km(b){return Kc({event:{sc:"cv/ve/1-0-6",dt:ud({name:b.name,sid:b.sid,iid:b.iid,clid:b.clid,st:b.st,sst:b.sst,an:b.an,cl:b.cl,lv:b.lv,pn:b.pn,vid:b.vid,
  fw:b.fw,fwv:b.fwv,mn:b.mn,mv:b.mv,url:b.url,tags:b.tags,cen:b.cen,ced:b.ced,oldsc:b.oldsc,newsc:b.newsc,err:b.err,br:b.br,ft:b.ft,avgbr:b.avgbr})}})}function ud(b,a){void 0===a&&(a={});var c={},d;for(d in b)if(a[d]||null!==b[d]&&"undefined"!==typeof b[d])c[d]=b[d];return c}function vd(b){for(var a=b.length;0<=--a;)b[a]=0}function wg(b,a,c,d,e){this.static_tree=b;this.extra_bits=a;this.extra_base=c;this.elems=d;this.max_length=e;this.has_stree=b&&b.length}function xg(b,a){this.dyn_tree=b;this.max_code=
  0;this.stat_desc=a}function Pb(b,a,c,d,e){this.good_length=b;this.max_lazy=a;this.nice_length=c;this.max_chain=d;this.func=e}function Lm(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=Ze;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=
  this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new Uint16Array(1146);this.dyn_dtree=new Uint16Array(122);this.bl_tree=new Uint16Array(78);oc(this.dyn_ltree);oc(this.dyn_dtree);oc(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new Uint16Array(16);this.heap=new Uint16Array(573);oc(this.heap);this.heap_max=
  this.heap_len=0;this.depth=new Uint16Array(573);oc(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.sym_end=this.sym_next=this.lit_bufsize=this.sym_buf=0}function fe(b){b=this.options=$e.assign({level:Mm,method:Nm,chunkSize:16384,windowBits:15,memLevel:8,strategy:Om},b||{});b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&16>b.windowBits&&(b.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new Ii;
  this.strm.avail_out=0;var a=ge.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(a!==af)throw Error(Lc[a]);b.header&&ge.deflateSetHeader(this.strm,b.header);if(b.dictionary){b="string"===typeof b.dictionary?he.string2buf(b.dictionary):"[object ArrayBuffer]"===Ji.call(b.dictionary)?new Uint8Array(b.dictionary):b.dictionary;a=ge.deflateSetDictionary(this.strm,b);if(a!==af)throw Error(Lc[a]);this._dict_set=!0}}function yg(b,a){a=new fe(a);a.push(b,!0);if(a.err)throw a.msg||
  Lc[a.err];return a.result}function Pm(){this.strm=null;this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new Uint16Array(320);this.work=new Uint16Array(288);this.distdyn=this.lendyn=null;this.was=
  this.back=this.sane=0}function ie(b){var a=this.options=$e.assign({chunkSize:65536,windowBits:15,to:""},b||{});a.raw&&0<=a.windowBits&&16>a.windowBits&&(a.windowBits=-a.windowBits,0===a.windowBits&&(a.windowBits=-15));!(0<=a.windowBits&&16>a.windowBits)||b&&b.windowBits||(a.windowBits+=32);15<a.windowBits&&48>a.windowBits&&0===(a.windowBits&15)&&(a.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new Ii;this.strm.avail_out=0;b=$b.inflateInit2(this.strm,a.windowBits);if(b!==
  je)throw Error(Lc[b]);this.header=new Qm;$b.inflateGetHeader(this.strm,this.header);if(a.dictionary&&("string"===typeof a.dictionary?a.dictionary=he.string2buf(a.dictionary):"[object ArrayBuffer]"===Ki.call(a.dictionary)&&(a.dictionary=new Uint8Array(a.dictionary)),a.raw&&(b=$b.inflateSetDictionary(this.strm,a.dictionary),b!==je)))throw Error(Lc[b]);}function zg(b,a){a=new ie(a);a.push(b);if(a.err)throw a.msg||Lc[a.err];return a.result}function Ag(b){if(bf[b])return bf[b];var a=globalThis[b],c=a.prototype,
  d=b in Li?Li[b]:void 0;d=!(!d||!d.every(function(k){var l,n;return!(null==(n=null==(l=Object.getOwnPropertyDescriptor(c,k))?void 0:l.get)||!n.toString().includes("[native code]"))}));var e=b in Mi?Mi[b]:void 0;e=!(!e||!e.every(function(k){var l;return"function"===typeof c[k]&&(null==(l=c[k])?void 0:l.toString().includes("[native code]"))}));if(d&&e&&!globalThis.Zone)return bf[b]=a.prototype;try{var f=document.createElement("iframe");document.body.appendChild(f);var g=f.contentWindow;if(!g)return a.prototype;
  var h=g[b].prototype;document.body.removeChild(f);return h?bf[b]=h:c}catch(k){return c}}function pc(b,a,c){var d,e="".concat(b,".").concat(String(c));if(Bg[e])return Bg[e].call(a);b=Ag(b);b=null==(d=Object.getOwnPropertyDescriptor(b,c))?void 0:d.get;if(!b)return a[c];Bg[e]=b;return b.call(a)}function Ni(b,a,c){var d="".concat(b,".").concat(String(c));if(Cg[d])return Cg[d].bind(a);b=Ag(b)[c];if("function"!==typeof b)return a[c];Cg[d]=b;return b.bind(a)}function ke(b){var a=b&&"host"in b&&"mode"in b&&
  sb.host(b)||null;return!!(a&&"shadowRoot"in a&&sb.shadowRoot(a)===b)}function le(b){return"[object ShadowRoot]"===Object.prototype.toString.call(b)}function Rm(b){b.includes(" background-clip: text;")&&!b.includes(" -webkit-background-clip: text;")&&(b=b.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;"));return b}function Dg(b){try{var a=b.rules||b.cssRules;if(!a)return null;var c=b.href;!c&&b.ownerNode&&b.ownerNode.ownerDocument&&(c=b.ownerNode.ownerDocument.location.href);
  var d=Array.from(a,function(e){return Oi(e,c)}).join("");return Rm(d)}catch(e){return null}}function Oi(b,a){if("styleSheet"in b){try{var c;if(!(c=Dg(b.styleSheet))){var d=b.cssText;if(3>d.split('"').length)c=d;else{var e=["@import","url(".concat(JSON.stringify(b.href),")")];""===b.layerName?e.push("layer"):b.layerName&&e.push("layer(".concat(b.layerName,")"));b.supportsText&&e.push("supports(".concat(b.supportsText,")"));b.media.length&&e.push(b.media.mediaText);c=e.join(" ")+";"}}var f=c}catch(g){f=
  b.cssText}return b.styleSheet.href?cf(f,b.styleSheet.href):f}f=b.cssText;"selectorText"in b&&b.selectorText.includes(":")&&(f=f.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2"));return a?cf(f,a):f}function Eg(b){var a=b.element,c=b.maskInputOptions,d=b.tagName,e=b.type,f=b.maskInputFn;b=b.value||"";e=e&&e.toLowerCase();if(c[d.toLowerCase()]||e&&c[e])b=f?f(b,a):"*".repeat(b.length);return b}function Sm(b){var a=b.getContext("2d");if(!a)return!0;for(var c=0;c<b.width;c+=50)for(var d=0;d<b.height;d+=
  50){var e=a.getImageData;if((new Uint32Array(("__rrweb_original__"in e?e.__rrweb_original__:e).call(a,c,d,Math.min(50,b.width-c),Math.min(50,b.height-d)).data.buffer)).some(function(f){return 0!==f}))return!1}return!0}function Fg(b){var a=b.type;return b.hasAttribute("data-rr-is-password")?"password":a?a.toLowerCase():null}function Pi(b,a){var c;try{var d=new URL(b,null!==a&&void 0!==a?a:window.location.href)}catch(e){return null}b=d.pathname.match(/\.([0-9a-z]+)(?:$)/i);return null!==(c=null==b?
  void 0:b[1])&&void 0!==c?c:null}function cf(b,a){return(b||"").replace(Tm,function(c,d,e,f,g,h){e=e||g||h;d=d||f||"";if(!e)return c;if(Um.test(e)||Vm.test(e)||Wm.test(e))return"url(".concat(d).concat(e).concat(d,")");if("/"===e[0]){var k="url(".concat(d),l=k.concat;c=-1<a.indexOf("//")?a.split("/").slice(0,3).join("/"):a.split("/")[0];c=c.split("?")[0];return l.call(k,c+e).concat(d,")")}c=a.split("/");e=e.split("/");c.pop();e=ca(e);try{for(e.s();!(k=e.n()).done;)l=k.value,"."!==l&&(".."===l?c.pop():
  c.push(l))}catch(n){e.e(n)}finally{e.f()}return"url(".concat(d).concat(c.join("/")).concat(d,")")})}function Gg(b){return b.replace(/(\/\*[^*]*\*\/)|[\s;]/g,"")}function Xm(b,a){a=Array.from(a.childNodes);var c=[];if(1<a.length&&b&&"string"===typeof b)for(var d=Gg(b),e=1;e<a.length;e++)if(a[e].textContent&&"string"===typeof a[e].textContent)for(var f=Gg(a[e].textContent),g=3;g<f.length;g++){var h=f.substring(0,g);if(2===d.split(h).length){for(g=f=d.indexOf(h);g<b.length;g++)if(Gg(b.substring(0,g)).length===
  f){c.push(b.substring(0,g));b=b.substring(g);break}break}}c.push(b);return c}function Ym(){return Qi++}function Zm(b){if(b instanceof HTMLFormElement)return"form";b=b.tagName.toLowerCase();return $m.test(b)?"div":b}function an(b,a){function c(l){return(l=l.exec(a.substring(d)))?(l=l[0],d+=l.length,l):""}if(""===a.trim())return a;for(var d=0,e=[];;){c(bn);if(d>=a.length)break;var f=c(cn);if(","===f.slice(-1))f=df(b,f.substring(0,f.length-1)),e.push(f);else{var g="";f=df(b,f);for(var h=!1;;){var k=
  a.charAt(d);if(""===k){e.push((f+g).trim());break}else if(h)")"===k&&(h=!1);else if(","===k){d+=1;e.push((f+g).trim());break}else"("===k&&(h=!0);g+=k;d+=1}}}return e.join(", ")}function df(b,a){return a&&""!==a.trim()?Hg(b,a):a}function Hg(b,a){var c=Ri.get(b);c||(c=b.createElement("a"),Ri.set(b,c));if(!a)a="";else if(a.startsWith("blob:")||a.startsWith("data:"))return a;c.setAttribute("href",a);return c.href}function Si(b,a,c,d){return d?"src"===c||"href"===c&&("use"!==a||"#"!==d[0])||"xlink:href"===
  c&&"#"!==d[0]||"background"===c&&("table"===a||"td"===a||"th"===a)?df(b,d):"srcset"===c?an(b,d):"style"===c?cf(d,Hg(b)):"object"===a&&"data"===c?df(b,d):d:d}function Ti(b,a,c){return("video"===b||"audio"===b)&&"autoplay"===a}function dn(b,a,c){try{if("string"===typeof a){if(b.classList.contains(a))return!0}else for(var d=b.classList.length;d--;)if(a.test(b.classList[d]))return!0;if(c)return b.matches(c)}catch(e){}return!1}function ef(b,a,c){if(!b)return!1;if(b.nodeType!==b.ELEMENT_NODE)return c?ef(sb.parentNode(b),
  a,c):!1;for(var d=b.classList.length;d--;)if(a.test(b.classList[d]))return!0;return c?ef(sb.parentNode(b),a,c):!1}function Ui(b,a,c,d){if(b.nodeType===b.ELEMENT_NODE){if(!sb.childNodes(b).length)return!1}else{if(null===sb.parentElement(b))return!1;b=sb.parentElement(b)}try{if("string"===typeof a)if(d){if(b.closest(".".concat(a)))return!0}else{if(b.classList.contains(a))return!0}else if(ef(b,a,d))return!0;if(c)if(d){if(b.closest(c))return!0}else if(b.matches(c))return!0}catch(e){}return!1}function en(b,
  a,c){var d=b.contentWindow;if(d){var e=!1;try{var f=d.document.readyState}catch(h){return}if("complete"!==f){var g=setTimeout(function(){e||(a(),e=!0)},c);b.addEventListener("load",function(){clearTimeout(g);e=!0;a()})}else{if("about:blank"!==d.location.href||"about:blank"===b.src||""===b.src)return setTimeout(a,0),b.addEventListener("load",a);b.addEventListener("load",a)}}}function fn(b,a,c){var d=!1;try{var e=b.sheet}catch(g){return}if(!e){var f=setTimeout(function(){d||(a(),d=!0)},c);b.addEventListener("load",
  function(){clearTimeout(f);d=!0;a()})}}function gn(b,a){var c=a.doc,d=a.blockClass,e=a.blockSelector,f=a.needsMask,g=a.inlineStylesheet,h=a.maskInputOptions,k=void 0===h?{}:h;h=a.maskTextFn;var l=a.maskInputFn,n=a.dataURLOptions,m=void 0===n?{}:n,p=a.inlineImages,r=a.recordCanvas,u=a.keepIframeSrcFn;n=a.newlyAddedElement;var q=void 0===n?!1:n;n=a.cssCaptured;n=void 0===n?!1:n;a=a.mirror;a.hasNode(c)?(a=a.getId(c),a=1===a?void 0:a):a=void 0;switch(b.nodeType){case b.DOCUMENT_NODE:return"CSS1Compat"!==
  b.compatMode?{type:hb.Document,childNodes:[],compatMode:b.compatMode}:{type:hb.Document,childNodes:[]};case b.DOCUMENT_TYPE_NODE:return{type:hb.DocumentType,name:b.name,publicId:b.publicId,systemId:b.systemId,rootId:a};case b.ELEMENT_NODE:return hn(b,{doc:c,blockClass:d,blockSelector:e,inlineStylesheet:g,maskInputOptions:k,maskInputFn:l,dataURLOptions:m,inlineImages:p,recordCanvas:r,keepIframeSrcFn:u,newlyAddedElement:q,rootId:a});case b.TEXT_NODE:return d=a,k=(e=sb.parentNode(b))&&e.tagName,e="",
  g="STYLE"===k?!0:void 0,(k="SCRIPT"===k?!0:void 0)?e="SCRIPT_PLACEHOLDER":n||(e=sb.textContent(b),g&&e&&(e=cf(e,Hg(c)))),!g&&!k&&e&&f&&(e=h?h(e,sb.parentElement(b)):e.replace(/[\S]/g,"*")),{type:hb.Text,textContent:e||"",rootId:d};case b.CDATA_SECTION_NODE:return{type:hb.CDATA,textContent:"",rootId:a};case b.COMMENT_NODE:return{type:hb.Comment,textContent:sb.textContent(b)||"",rootId:a};default:return!1}}function hn(b,a){var c=a.doc,d=a.inlineStylesheet,e=a.maskInputOptions,f=void 0===e?{}:e,g=a.maskInputFn;
  e=a.dataURLOptions;var h=void 0===e?{}:e,k=a.inlineImages,l=a.recordCanvas;e=a.keepIframeSrcFn;var n=a.newlyAddedElement,m=void 0===n?!1:n;n=a.rootId;a=dn(b,a.blockClass,a.blockSelector);for(var p=Zm(b),r={},u=b.attributes.length,q=0;q<u;q++){var w=b.attributes[q];Ti(p,w.name,w.value)||(r[w.name]=Si(c,p,w.name.toLowerCase(),w.value))}"link"===p&&d&&(d=Array.from(c.styleSheets).find(function(H){return H.href===b.href}),u=null,d&&(u=Dg(d)),u&&(delete r.rel,delete r.href,r._cssText=u));"style"===p&&
  b.sheet&&(d=Dg(b.sheet))&&(1<b.childNodes.length&&(d=Xm(d,b).join("/* rr_split */")),r._cssText=d);if("input"===p||"textarea"===p||"select"===p)d=b.value,u=b.checked,"radio"!==r.type&&"checkbox"!==r.type&&"submit"!==r.type&&"button"!==r.type&&d?r.value=Eg({element:b,type:Fg(b),tagName:p,value:d,maskInputOptions:f,maskInputFn:g}):u&&(r.checked=u);"option"===p&&(b.selected&&!f.select?r.selected=!0:delete r.selected);"dialog"===p&&b.open&&(r.rr_open_mode=b.matches("dialog:modal")?"modal":"non-modal");
  "canvas"===p&&l&&("2d"===b.__context?Sm(b)||(r.rr_dataURL=b.toDataURL(h.type,h.quality)):"__context"in b||(f=b.toDataURL(h.type,h.quality),g=c.createElement("canvas"),g.width=b.width,g.height=b.height,g=g.toDataURL(h.type,h.quality),f!==g&&(r.rr_dataURL=f)));if("img"===p&&k){wd||(wd=c.createElement("canvas"),Vi=wd.getContext("2d"));var v=b.currentSrc||b.getAttribute("src")||"<unknown-src>",x=b.crossOrigin,C=function(){b.removeEventListener("load",C);try{wd.width=b.naturalWidth,wd.height=b.naturalHeight,
  Vi.drawImage(b,0,0),r.rr_dataURL=wd.toDataURL(h.type,h.quality)}catch(H){if("anonymous"!==b.crossOrigin){b.crossOrigin="anonymous";b.complete&&0!==b.naturalWidth?C():b.addEventListener("load",C);return}console.warn("Cannot inline img src=".concat(v,"! Error: ").concat(H))}"anonymous"===b.crossOrigin&&(x?r.crossOrigin=x:b.removeAttribute("crossorigin"))};b.complete&&0!==b.naturalWidth?C():b.addEventListener("load",C)}if("audio"===p||"video"===p)c=r,c.rr_mediaState=b.paused?"paused":"played",c.rr_mediaCurrentTime=
  b.currentTime,c.rr_mediaPlaybackRate=b.playbackRate,c.rr_mediaMuted=b.muted,c.rr_mediaLoop=b.loop,c.rr_mediaVolume=b.volume;m||(b.scrollLeft&&(r.rr_scrollLeft=b.scrollLeft),b.scrollTop&&(r.rr_scrollTop=b.scrollTop));a&&(c=b.getBoundingClientRect(),k=c.height,r={class:r.class,rr_width:"".concat(c.width,"px"),rr_height:"".concat(k,"px")});"iframe"!==p||e(r.src)||(b.contentDocument||(r.rr_src=r.src),delete r.src);var F;try{customElements.get(p)&&(F=!0)}catch(H){}return{type:hb.Element,tagName:p,attributes:r,
  childNodes:[],isSVG:!("svg"!==b.tagName&&!b.ownerSVGElement)||void 0,needBlock:a,rootId:n,isCustom:F}}function Ka(b){return void 0===b||null===b?"":b.toLowerCase()}function jn(b,a){return a.comment&&b.type===hb.Comment||b.type===hb.Element&&(a.script&&("script"===b.tagName||"link"===b.tagName&&("preload"===b.attributes.rel||"modulepreload"===b.attributes.rel)&&"script"===b.attributes.as||"link"===b.tagName&&"prefetch"===b.attributes.rel&&"string"===typeof b.attributes.href&&"js"===Pi(b.attributes.href))||
  a.headFavicon&&("link"===b.tagName&&"shortcut icon"===b.attributes.rel||"meta"===b.tagName&&(Ka(b.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===Ka(b.attributes.name)||"icon"===Ka(b.attributes.rel)||"apple-touch-icon"===Ka(b.attributes.rel)||"shortcut icon"===Ka(b.attributes.rel)))||"meta"===b.tagName&&(a.headMetaDescKeywords&&Ka(b.attributes.name).match(/^description|keywords$/)||a.headMetaSocial&&(Ka(b.attributes.property).match(/^(og|twitter|fb):/)||Ka(b.attributes.name).match(/^(og|twitter):/)||
  "pinterest"===Ka(b.attributes.name))||a.headMetaRobots&&("robots"===Ka(b.attributes.name)||"googlebot"===Ka(b.attributes.name)||"bingbot"===Ka(b.attributes.name))||a.headMetaHttpEquiv&&void 0!==b.attributes["http-equiv"]||a.headMetaAuthorship&&("author"===Ka(b.attributes.name)||"generator"===Ka(b.attributes.name)||"framework"===Ka(b.attributes.name)||"publisher"===Ka(b.attributes.name)||"progid"===Ka(b.attributes.name)||Ka(b.attributes.property).match(/^article:/)||Ka(b.attributes.property).match(/^product:/))||
  a.headMetaVerification&&("google-site-verification"===Ka(b.attributes.name)||"yandex-verification"===Ka(b.attributes.name)||"csrf-token"===Ka(b.attributes.name)||"p:domain_verify"===Ka(b.attributes.name)||"verify-v1"===Ka(b.attributes.name)||"verification"===Ka(b.attributes.name)||"shopify-checkout-api-token"===Ka(b.attributes.name))))?!0:!1}function xd(b,a){var c=a.doc,d=a.mirror,e=a.blockClass,f=a.blockSelector,g=a.maskTextClass,h=a.maskTextSelector,k=a.skipChild;k=void 0===k?!1:k;var l=a.inlineStylesheet,
  n=void 0===l?!0:l;l=a.maskInputOptions;var m=void 0===l?{}:l,p=a.maskTextFn,r=a.maskInputFn,u=a.slimDOMOptions;l=a.dataURLOptions;var q=void 0===l?{}:l;l=a.inlineImages;var w=void 0===l?!1:l;l=a.recordCanvas;var v=void 0===l?!1:l,x=a.onSerialize,C=a.onIframeLoad;l=a.iframeLoadTimeout;var F=void 0===l?5E3:l,H=a.onStylesheetLoad;l=a.stylesheetLoadTimeout;var G=void 0===l?5E3:l;l=a.keepIframeSrcFn;var E=void 0===l?function(){return!1}:l;l=a.newlyAddedElement;l=void 0===l?!1:l;var I=a.cssCaptured;I=void 0===
  I?!1:I;var M=a.needsMask;a=a.preserveWhiteSpace;var ha=void 0===a?!0:a;M||(M=Ui(b,g,h,void 0===M));a=gn(b,{doc:c,mirror:d,blockClass:e,blockSelector:f,needsMask:M,inlineStylesheet:n,maskInputOptions:m,maskTextFn:p,maskInputFn:r,dataURLOptions:q,inlineImages:w,recordCanvas:v,keepIframeSrcFn:E,newlyAddedElement:l,cssCaptured:I});if(!a)return console.warn(b,"not serialized"),null;l=d.hasNode(b)?d.getId(b):jn(a,u)||!ha&&a.type===hb.Text&&!a.textContent.replace(/^\s+|\s+$/gm,"").length?-2:Qi++;a=Object.assign(a,
  {id:l});d.add(b,a);if(-2===l)return null;x&&x(b);l=!k;a.type===hb.Element&&(l=l&&!a.needBlock,delete a.needBlock,(I=sb.shadowRoot(b))&&le(I)&&(a.isShadowHost=!0));if((a.type===hb.Document||a.type===hb.Element)&&l){u.headWhitespace&&a.type===hb.Element&&"head"===a.tagName&&(ha=!1);k={doc:c,mirror:d,blockClass:e,blockSelector:f,needsMask:M,maskTextClass:g,maskTextSelector:h,skipChild:k,inlineStylesheet:n,maskInputOptions:m,maskTextFn:p,maskInputFn:r,slimDOMOptions:u,dataURLOptions:q,inlineImages:w,
  recordCanvas:v,preserveWhiteSpace:ha,onSerialize:x,onIframeLoad:C,iframeLoadTimeout:F,onStylesheetLoad:H,stylesheetLoadTimeout:G,keepIframeSrcFn:E,cssCaptured:!1};if(a.type!==hb.Element||"textarea"!==a.tagName||void 0===a.attributes.value)for(a.type===hb.Element&&void 0!==a.attributes._cssText&&"string"===typeof a.attributes._cssText&&(k.cssCaptured=!0),l=0,I=Array.from(sb.childNodes(b));l<I.length;l++){var W=xd(I[l],k);W&&a.childNodes.push(W)}l=null;if(b.nodeType===b.ELEMENT_NODE&&(l=sb.shadowRoot(b)))for(I=
  0,W=Array.from(sb.childNodes(l));I<W.length;I++){var ia=xd(W[I],k);ia&&(le(l)&&(ia.isShadow=!0),a.childNodes.push(ia))}}(k=sb.parentNode(b))&&ke(k)&&le(k)&&(a.isShadow=!0);a.type===hb.Element&&"iframe"===a.tagName&&en(b,function(){var N=b.contentDocument;N&&C&&(N=xd(N,{doc:N,mirror:d,blockClass:e,blockSelector:f,needsMask:M,maskTextClass:g,maskTextSelector:h,skipChild:!1,inlineStylesheet:n,maskInputOptions:m,maskTextFn:p,maskInputFn:r,slimDOMOptions:u,dataURLOptions:q,inlineImages:w,recordCanvas:v,
  preserveWhiteSpace:ha,onSerialize:x,onIframeLoad:C,iframeLoadTimeout:F,onStylesheetLoad:H,stylesheetLoadTimeout:G,keepIframeSrcFn:E}))&&C(b,N)},F);a.type===hb.Element&&"link"===a.tagName&&"string"===typeof a.attributes.rel&&("stylesheet"===a.attributes.rel||"preload"===a.attributes.rel&&"string"===typeof a.attributes.href&&"css"===Pi(a.attributes.href))&&fn(b,function(){if(H){var N=xd(b,{doc:c,mirror:d,blockClass:e,blockSelector:f,needsMask:M,maskTextClass:g,maskTextSelector:h,skipChild:!1,inlineStylesheet:n,
  maskInputOptions:m,maskTextFn:p,maskInputFn:r,slimDOMOptions:u,dataURLOptions:q,inlineImages:w,recordCanvas:v,preserveWhiteSpace:ha,onSerialize:x,onIframeLoad:C,iframeLoadTimeout:F,onStylesheetLoad:H,stylesheetLoadTimeout:G,keepIframeSrcFn:E});N&&H(b,N)}},G);return a}function kn(b,a){a=a||{};var c=a.mirror;c=void 0===c?new Wi:c;var d=a.blockClass,e=a.blockSelector,f=a.maskTextClass,g=a.maskTextSelector,h=a.inlineStylesheet,k=a.inlineImages,l=a.recordCanvas,n=a.maskAllInputs;n=void 0===n?!1:n;var m=
  a.slimDOM;m=void 0===m?!1:m;var p=a.keepIframeSrcFn;return xd(b,{doc:b,mirror:c,blockClass:void 0===d?"rr-block":d,blockSelector:void 0===e?null:e,maskTextClass:void 0===f?"rr-mask":f,maskTextSelector:void 0===g?null:g,skipChild:!1,inlineStylesheet:void 0===h?!0:h,maskInputOptions:!0===n?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===n?{password:!0}:n,maskTextFn:a.maskTextFn,maskInputFn:a.maskInputFn,
  slimDOMOptions:!0===m||"all"===m?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===m,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===m?{}:m,dataURLOptions:a.dataURLOptions,inlineImages:void 0===k?!1:k,recordCanvas:void 0===l?!1:l,preserveWhiteSpace:a.preserveWhiteSpace,onSerialize:a.onSerialize,onIframeLoad:a.onIframeLoad,iframeLoadTimeout:a.iframeLoadTimeout,onStylesheetLoad:a.onStylesheetLoad,stylesheetLoadTimeout:a.stylesheetLoadTimeout,
  keepIframeSrcFn:void 0===p?function(){return!1}:p,newlyAddedElement:!1})}function ln(b){return b[0].toUpperCase()+b.slice(1)}function yd(b,a){(new mn(a)).stringify(b)}function Ig(b,a){var c=new b.constructor,d;for(d in b)if(Object.prototype.hasOwnProperty.call(b,d)&&"proxyCache"!==d){var e=b[d],f=S(e);"parent"===d&&"object"===f?a&&(c[d]=a):"source"===d?c[d]=e:Array.isArray(e)?c[d]=e.map(function(g){return Ig(g,c)}):("object"===f&&null!==e&&(e=Ig(e)),c[d]=e)}return c}function Xi(b){return b.map(function(a){a.nodes&&
  (a.nodes=Xi(a.nodes));delete a.source;return a})}function Yi(b){b[Zi]=!1;if(b.proxyOf.nodes){b=ca(b.proxyOf.nodes);var a;try{for(b.s();!(a=b.n()).done;)Yi(a.value)}catch(c){b.e(c)}finally{b.f()}}}function nn(b){for(var a=b.length-1;0<=a;a--){var c=b[a];if(c=c[3]||c[2])return c}}function zd(b,a){b=new on(b,a);b=new pn(b);try{b.parse()}catch(c){throw"CssSyntaxError"===c.name&&a&&a.from&&(/\.scss$/i.test(a.from)?c.message+="\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser":
  /\.sass/i.test(a.from)?c.message+="\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser":/\.less$/i.test(a.from)&&(c.message+="\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser")),c;}return b.root}function me(b){return"object"===S(b)&&"function"===typeof b.then}function $i(b){var a=!1,c=qn[b.type];"decl"===b.type?a=b.prop.toLowerCase():"atrule"===b.type&&(a=b.name.toLowerCase());return a&&b.append?[c,c+"-"+a,0,
  c+"Exit",c+"Exit-"+a]:a?[c,c+"-"+a,c+"Exit",c+"Exit-"+a]:b.append?[c,0,c+"Exit"]:[c,c+"Exit"]}function aj(b){return{eventIndex:0,events:"document"===b.type?["Document",0,"DocumentExit"]:"root"===b.type?["Root",0,"RootExit"]:$i(b),iterator:0,node:b,visitorIndex:0,visitors:[]}}function Jg(b){b[Qb]=!1;b.nodes&&b.nodes.forEach(function(a){return Jg(a)});return b}function ne(b,a){if(Array.isArray(b))return b.map(function(g){return ne(g)});var c=b.inputs,d=be(b,rn);if(c){a=[];c=ca(c);var e;try{for(c.s();!(e=
  c.n()).done;){var f=pa(pa({},e.value),{},{__proto__:sn.prototype});f.map&&(f.map=pa(pa({},f.map),{},{__proto__:tn.prototype}));a.push(f)}}catch(g){c.e(g)}finally{c.f()}}d.nodes&&(d.nodes=b.nodes.map(function(g){return ne(g,a)}));d.source&&(f=d.source,e=f.inputId,f=be(f,un),d.source=f,null!=e&&(d.source.input=a[e]));if("root"===d.type)return new vn(d);if("decl"===d.type)return new wn(d);if("rule"===d.type)return new xn(d);if("comment"===d.type)return new yn(d);if("atrule"===d.type)return new zn(d);
  throw Error("Unknown node type: "+b.type);}function Fa(){for(var b=arguments.length,a=Array(b),c=0;c<b;c++)a[c]=arguments[c];1===a.length&&Array.isArray(a[0])&&(a=a[0]);return new Kg(a)}function An(b){return b[0].toUpperCase()+b.slice(1)}function Ad(b,a){(new Bn(a)).stringify(b)}function Lg(b,a){var c=new b.constructor,d;for(d in b)if(Object.prototype.hasOwnProperty.call(b,d)&&"proxyCache"!==d){var e=b[d],f=S(e);"parent"===d&&"object"===f?a&&(c[d]=a):"source"===d?c[d]=e:Array.isArray(e)?c[d]=e.map(function(g){return Lg(g,
  c)}):("object"===f&&null!==e&&(e=Lg(e)),c[d]=e)}return c}function bj(b){return b.map(function(a){a.nodes&&(a.nodes=bj(a.nodes));delete a.source;return a})}function cj(b){b[dj]=!1;if(b.proxyOf.nodes){b=ca(b.proxyOf.nodes);var a;try{for(b.s();!(a=b.n()).done;)cj(a.value)}catch(c){b.e(c)}finally{b.f()}}}function Cn(b){for(var a=b.length-1;0<=a;a--){var c=b[a];if(c=c[3]||c[2])return c}}function Bd(b,a){b=new Dn(b,a);b=new En(b);try{b.parse()}catch(c){throw"CssSyntaxError"===c.name&&a&&a.from&&(/\.scss$/i.test(a.from)?
  c.message+="\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser":/\.sass/i.test(a.from)?c.message+="\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser":/\.less$/i.test(a.from)&&(c.message+="\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser")),c;}return b.root}function oe(b){return"object"===S(b)&&"function"===typeof b.then}function ej(b){var a=!1,c=Fn[b.type];"decl"===
  b.type?a=b.prop.toLowerCase():"atrule"===b.type&&(a=b.name.toLowerCase());return a&&b.append?[c,c+"-"+a,0,c+"Exit",c+"Exit-"+a]:a?[c,c+"-"+a,c+"Exit",c+"Exit-"+a]:b.append?[c,0,c+"Exit"]:[c,c+"Exit"]}function fj(b){return{eventIndex:0,events:"document"===b.type?["Document",0,"DocumentExit"]:"root"===b.type?["Root",0,"RootExit"]:ej(b),iterator:0,node:b,visitorIndex:0,visitors:[]}}function Mg(b){b[Rb]=!1;b.nodes&&b.nodes.forEach(function(a){return Mg(a)});return b}function pe(b,a){if(Array.isArray(b))return b.map(function(g){return pe(g)});
  var c=b.inputs,d=be(b,Gn);if(c){a=[];c=ca(c);var e;try{for(c.s();!(e=c.n()).done;){var f=pa(pa({},e.value),{},{__proto__:Hn.prototype});f.map&&(f.map=pa(pa({},f.map),{},{__proto__:In.prototype}));a.push(f)}}catch(g){c.e(g)}finally{c.f()}}d.nodes&&(d.nodes=b.nodes.map(function(g){return pe(g,a)}));d.source&&(f=d.source,e=f.inputId,f=be(f,Jn),d.source=f,null!=e&&(d.source.input=a[e]));if("root"===d.type)return new Kn(d);if("decl"===d.type)return new Ln(d);if("rule"===d.type)return new Mn(d);if("comment"===
  d.type)return new Nn(d);if("atrule"===d.type)return new On(d);throw Error("Unknown node type: "+b.type);}function Ga(){for(var b=arguments.length,a=Array(b),c=0;c<b;c++)a[c]=arguments[c];1===a.length&&Array.isArray(a[0])&&(a=a[0]);return new Ng(a)}function Og(b){if(ff[b])return ff[b];var a=globalThis[b],c=a.prototype,d=b in gj?gj[b]:void 0;d=!(!d||!d.every(function(k){var l,n;return!(null==(n=null==(l=Object.getOwnPropertyDescriptor(c,k))?void 0:l.get)||!n.toString().includes("[native code]"))}));
  var e=b in hj?hj[b]:void 0;e=!(!e||!e.every(function(k){var l;return"function"===typeof c[k]&&(null==(l=c[k])?void 0:l.toString().includes("[native code]"))}));if(d&&e&&!globalThis.Zone)return ff[b]=a.prototype;try{var f=document.createElement("iframe");document.body.appendChild(f);var g=f.contentWindow;if(!g)return a.prototype;var h=g[b].prototype;document.body.removeChild(f);return h?ff[b]=h:c}catch(k){return c}}function qc(b,a,c){var d,e="".concat(b,".").concat(String(c));if(Pg[e])return Pg[e].call(a);
  b=Og(b);b=null==(d=Object.getOwnPropertyDescriptor(b,c))?void 0:d.get;if(!b)return a[c];Pg[e]=b;return b.call(a)}function ij(b,a,c){var d="".concat(b,".").concat(String(c));if(Qg[d])return Qg[d].bind(a);b=Og(b)[c];if("function"!==typeof b)return a[c];Qg[d]=b;return b.bind(a)}function jj(){return Og("MutationObserver").constructor}function ub(b,a){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:document,d={capture:!0,passive:!0};c.addEventListener(b,a,d);return function(){return c.removeEventListener(b,
  a,d)}}function qe(b,a){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},d=null,e=0;return function(){for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];f=Date.now();e||!1!==c.leading||(e=f);h=a-(f-e);var k=this;0>=h||h>a?(d&&(clearTimeout(d),d=null),e=f,b.apply(k,g)):d||!1===c.trailing||(d=setTimeout(function(){e=!1===c.leading?0:Date.now();d=null;b.apply(k,g)},h))}}function gf(b,a,c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:window,f=e.Object.getOwnPropertyDescriptor(b,
  a);e.Object.defineProperty(b,a,d?c:{set:function(g){var h=this;setTimeout(function(){c.set.call(h,g)},0);f&&f.set&&f.set.call(this,g)}});return function(){return gf(b,a,f||{},!0)}}function Cd(b,a,c){try{if(!(a in b))return function(){};var d=b[a],e=c(d);"function"===typeof e&&(e.prototype=e.prototype||{},Object.defineProperties(e,{__rrweb_original__:{enumerable:!1,value:d}}));b[a]=e;return function(){b[a]=d}}catch(f){return function(){}}}function kj(b){var a,c,d,e,f=b.document;return{left:f.scrollingElement?
  f.scrollingElement.scrollLeft:void 0!==b.pageXOffset?b.pageXOffset:f.documentElement.scrollLeft||(null==f?void 0:f.body)&&(null==(a=va.parentElement(f.body))?void 0:a.scrollLeft)||(null==(c=null==f?void 0:f.body)?void 0:c.scrollLeft)||0,top:f.scrollingElement?f.scrollingElement.scrollTop:void 0!==b.pageYOffset?b.pageYOffset:(null==f?void 0:f.documentElement.scrollTop)||(null==f?void 0:f.body)&&(null==(d=va.parentElement(f.body))?void 0:d.scrollTop)||(null==(e=null==f?void 0:f.body)?void 0:e.scrollTop)||
  0}}function lj(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function mj(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function nj(b){return b?b.nodeType===b.ELEMENT_NODE?b:va.parentElement(b):null}function vb(b,a,c,d){if(!b)return!1;b=nj(b);if(!b)return!1;try{if("string"===typeof a){if(b.classList.contains(a)||d&&null!==b.closest("."+
  a))return!0}else if(ef(b,a,d))return!0}catch(e){}return c&&(b.matches(c)||d&&null!==b.closest(c))?!0:!1}function Rg(b,a,c){return"TITLE"===b.tagName&&c.headTitleMutations?!0:-2===a.getId(b)}function oj(b,a){if(ke(b))return!1;var c=a.getId(b);return a.has(c)?(c=va.parentNode(b))&&c.nodeType===b.DOCUMENT_NODE?!1:c?oj(c,a):!0:!0}function Pn(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window;"NodeList"in b&&!b.NodeList.prototype.forEach&&(b.NodeList.prototype.forEach=Array.prototype.forEach);
  "DOMTokenList"in b&&!b.DOMTokenList.prototype.forEach&&(b.DOMTokenList.prototype.forEach=Array.prototype.forEach)}function pj(b,a){return!("LINK"!==b.nodeName||b.nodeType!==b.ELEMENT_NODE||!b.getAttribute||"stylesheet"!==b.getAttribute("rel")||!a.getMeta(b))}function Sg(b){return b?b instanceof Qn&&"shadowRoot"in b?!!b.shadowRoot:!!va.shadowRoot(b):!1}function qj(b){var a,c=null;"getRootNode"in b&&(null==(a=va.getRootNode(b))?void 0:a.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&va.host(va.getRootNode(b))&&
  (c=va.host(va.getRootNode(b)));return c}function rj(b){var a=b.ownerDocument;if(!a)return!1;if(!(a=va.contains(a,b)))if(a=b.ownerDocument){for(var c;c=qj(b);)b=c;a=va.contains(a,b)}else a=!1;return a}function Tg(b,a){b.delete(a);va.childNodes(a).forEach(function(c){return Tg(b,c)})}function Rn(b,a){for(var c=[b];c.length;)b=c.pop(),a.has(b)||(a.add(b),va.childNodes(b).forEach(function(d){return c.push(d)}))}function sj(b,a,c){if(0===b.size)return!1;b=(a=va.parentNode(a))?b.has(a):!1;return b}function tj(b,
  a){return 0===b.size?!1:uj(b,a)}function uj(b,a){return(a=va.parentNode(a))?b.has(a)?!0:uj(b,a):!1}function re(b){try{if("composedPath"in b){var a=b.composedPath();if(a.length)return a[0]}else if("path"in b&&b.path.length)return b.path[0]}catch(c){}return b&&b.target}function vj(b,a){var c=new Sn;Mc.push(c);c.init(b);b=new (jj())(xa(c.processMutations.bind(c)));b.observe(a,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0});return b}function Tn(b){var a=
  b.mousemoveCb,c=b.sampling,d=b.doc,e=b.mirror;if(!1===c.mousemove)return function(){};b="number"===typeof c.mousemove?c.mousemove:50;c="number"===typeof c.mousemoveCallback?c.mousemoveCallback:500;var f=[],g,h=qe(xa(function(l){var n=Date.now()-g;a(f.map(function(m){m.timeOffset-=n;return m}),l);f=[];g=null}),c);c=xa(qe(xa(function(l){var n=re(l),m=l.changedTouches?l.changedTouches[0]:l,p=m.clientX;m=m.clientY;g||(g=hf());f.push({x:p,y:m,id:e.getId(n),timeOffset:hf()-g});h("undefined"!==typeof DragEvent&&
  l instanceof DragEvent?ya.Drag:l instanceof MouseEvent?ya.MouseMove:ya.TouchMove)}),b,{trailing:!1}));var k=[ub("mousemove",c,d),ub("touchmove",c,d),ub("drag",c,d)];return xa(function(){k.forEach(function(l){return l()})})}function Un(b){var a=b.mouseInteractionCb,c=b.doc,d=b.mirror,e=b.blockClass,f=b.blockSelector;b=b.sampling;if(!1===b.mouseInteraction)return function(){};var g=!0===b.mouseInteraction||void 0===b.mouseInteraction?{}:b.mouseInteraction,h=[],k=null,l=function(n){return function(m){var p=
  re(m);if(!vb(p,e,f,!0)){var r=null,u=n;if("pointerType"in m){switch(m.pointerType){case "mouse":r=rc.Mouse;break;case "touch":r=rc.Touch;break;case "pen":r=rc.Pen}r===rc.Touch&&(xb[n]===xb.MouseDown?u="TouchStart":xb[n]===xb.MouseUp&&(u="TouchEnd"))}else m.changedTouches&&(r=rc.Touch);if(null!==r){if(k=r,u.startsWith("Touch")&&r===rc.Touch||u.startsWith("Mouse")&&r===rc.Mouse)r=null}else xb[n]===xb.Click&&(r=k,k=null);if(m=m.changedTouches?m.changedTouches[0]:m){p=d.getId(p);var q=m.clientX;m=m.clientY;
  xa(a)(pa({type:xb[u],id:p,x:q,y:m},null!==r&&{pointerType:r}))}}}};Object.keys(xb).filter(function(n){return Number.isNaN(Number(n))&&!n.endsWith("_Departed")&&!1!==g[n]}).forEach(function(n){var m=n.toLowerCase(),p=l(n);if(window.PointerEvent)switch(xb[n]){case xb.MouseDown:case xb.MouseUp:m=m.replace("mouse","pointer");break;case xb.TouchStart:case xb.TouchEnd:return}h.push(ub(m,p,c))});return xa(function(){h.forEach(function(n){return n()})})}function wj(b){var a=b.scrollCb,c=b.doc,d=b.mirror,
  e=b.blockClass,f=b.blockSelector;b=b.sampling;b=xa(qe(xa(function(g){var h=re(g);h&&!vb(h,e,f,!0)&&(g=d.getId(h),h===c&&c.defaultView?(h=kj(c.defaultView),a({id:g,x:h.left,y:h.top})):a({id:g,x:h.scrollLeft,y:h.scrollTop}))}),b.scroll||100));return ub("scroll",b,c)}function Vn(b,a){var c=b.viewportResizeCb;b=a.win;var d=-1,e=-1;a=xa(qe(xa(function(){var f=lj(),g=mj();if(d!==f||e!==g)c({width:Number(g),height:Number(f)}),d=f,e=g}),200));return ub("resize",a,b)}function Wn(b){function a(w){var v=re(w),
  x=w.isTrusted,C=v&&v.tagName;v&&"OPTION"===C&&(v=va.parentElement(v));if(!(!v||!C||0>Xn.indexOf(C)||vb(v,g,h,!0)||v.classList.contains(k)||l&&v.matches(l))){var F=v.value,H=!1;w=Fg(v)||"";if("radio"===w||"checkbox"===w)H=v.checked;else if(n[C.toLowerCase()]||n[w])F=Eg({element:v,maskInputOptions:n,tagName:C,type:w,value:F,maskInputFn:m});c(v,p?{text:F,isChecked:H,userTriggered:x}:{text:F,isChecked:H});x=v.name;"radio"===w&&x&&H&&e.querySelectorAll('input[type="radio"][name="'.concat(x,'"]')).forEach(function(G){if(G!==
  v){var E=G.value;c(G,p?{text:E,isChecked:!H,userTriggered:!1}:{text:E,isChecked:!H})}})}}function c(w,v){var x=xj.get(w);x&&x.text===v.text&&x.isChecked===v.isChecked||(xj.set(w,v),w=f.getId(w),xa(d)(pa(pa({},v),{},{id:w})))}var d=b.inputCb,e=b.doc,f=b.mirror,g=b.blockClass,h=b.blockSelector,k=b.ignoreClass,l=b.ignoreSelector,n=b.maskInputOptions,m=b.maskInputFn,p=b.userTriggeredOnInput,r=("last"===b.sampling.input?["change"]:["input","change"]).map(function(w){return ub(w,xa(a),e)}),u=e.defaultView;
  if(!u)return function(){r.forEach(function(w){return w()})};b=u.Object.getOwnPropertyDescriptor(u.HTMLInputElement.prototype,"value");var q=[[u.HTMLInputElement.prototype,"value"],[u.HTMLInputElement.prototype,"checked"],[u.HTMLSelectElement.prototype,"value"],[u.HTMLTextAreaElement.prototype,"value"],[u.HTMLSelectElement.prototype,"selectedIndex"],[u.HTMLOptionElement.prototype,"selected"]];b&&b.set&&r.push.apply(r,Zb(q.map(function(w){return gf(w[0],w[1],{set:function(){xa(a)({target:this,isTrusted:!1})}},
  !1,u)})));return xa(function(){r.forEach(function(w){return w()})})}function jf(b){var a=[];kf("CSSGroupingRule")&&b.parentRule instanceof CSSGroupingRule||kf("CSSMediaRule")&&b.parentRule instanceof CSSMediaRule||kf("CSSSupportsRule")&&b.parentRule instanceof CSSSupportsRule||kf("CSSConditionRule")&&b.parentRule instanceof CSSConditionRule?(b=Array.from(b.parentRule.cssRules).indexOf(b),a.unshift(b)):b.parentStyleSheet&&(b=Array.from(b.parentStyleSheet.cssRules).indexOf(b),a.unshift(b));return a}
  function sc(b,a,c){var d,e;if(!b)return{};b.ownerNode?d=a.getId(b.ownerNode):e=c.getId(b);return{styleId:e,id:d}}function Yn(b,a){var c=b.styleSheetRuleCb,d=b.mirror,e=b.stylesheetManager,f=a.win;if(!f.CSSStyleSheet||!f.CSSStyleSheet.prototype)return function(){};var g=f.CSSStyleSheet.prototype.insertRule;f.CSSStyleSheet.prototype.insertRule=new Proxy(g,{apply:xa(function(p,r,u){var q=$a(u,2),w=q[0];q=q[1];var v=sc(r,d,e.styleMirror),x=v.id;v=v.styleId;(x&&-1!==x||v&&-1!==v)&&c({id:x,styleId:v,adds:[{rule:w,
  index:q}]});return p.apply(r,u)})});f.CSSStyleSheet.prototype.addRule=function(p,r){var u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.cssRules.length,q="".concat(p," { ").concat(r," }");return f.CSSStyleSheet.prototype.insertRule.apply(this,[q,u])};var h=f.CSSStyleSheet.prototype.deleteRule;f.CSSStyleSheet.prototype.deleteRule=new Proxy(h,{apply:xa(function(p,r,u){var q=$a(u,1)[0],w=sc(r,d,e.styleMirror),v=w.id;w=w.styleId;(v&&-1!==v||w&&-1!==w)&&c({id:v,styleId:w,removes:[{index:q}]});
  return p.apply(r,u)})});f.CSSStyleSheet.prototype.removeRule=function(p){return f.CSSStyleSheet.prototype.deleteRule.apply(this,[p])};if(f.CSSStyleSheet.prototype.replace){var k=f.CSSStyleSheet.prototype.replace;f.CSSStyleSheet.prototype.replace=new Proxy(k,{apply:xa(function(p,r,u){var q=$a(u,1)[0],w=sc(r,d,e.styleMirror),v=w.id;w=w.styleId;(v&&-1!==v||w&&-1!==w)&&c({id:v,styleId:w,replace:q});return p.apply(r,u)})})}if(f.CSSStyleSheet.prototype.replaceSync){var l=f.CSSStyleSheet.prototype.replaceSync;
  f.CSSStyleSheet.prototype.replaceSync=new Proxy(l,{apply:xa(function(p,r,u){var q=$a(u,1)[0],w=sc(r,d,e.styleMirror),v=w.id;w=w.styleId;(v&&-1!==v||w&&-1!==w)&&c({id:v,styleId:w,replaceSync:q});return p.apply(r,u)})})}var n={};lf("CSSGroupingRule")?n.CSSGroupingRule=f.CSSGroupingRule:(lf("CSSMediaRule")&&(n.CSSMediaRule=f.CSSMediaRule),lf("CSSConditionRule")&&(n.CSSConditionRule=f.CSSConditionRule),lf("CSSSupportsRule")&&(n.CSSSupportsRule=f.CSSSupportsRule));var m={};Object.entries(n).forEach(function(p){var r=
  $a(p,2);p=r[0];r=r[1];m[p]={insertRule:r.prototype.insertRule,deleteRule:r.prototype.deleteRule};r.prototype.insertRule=new Proxy(m[p].insertRule,{apply:xa(function(u,q,w){var v=$a(w,2),x=v[0];v=v[1];var C=sc(q.parentStyleSheet,d,e.styleMirror),F=C.id;C=C.styleId;(F&&-1!==F||C&&-1!==C)&&c({id:F,styleId:C,adds:[{rule:x,index:[].concat(Zb(jf(q)),[v||0])}]});return u.apply(q,w)})});r.prototype.deleteRule=new Proxy(m[p].deleteRule,{apply:xa(function(u,q,w){var v=$a(w,1)[0],x=sc(q.parentStyleSheet,d,e.styleMirror),
  C=x.id;x=x.styleId;(C&&-1!==C||x&&-1!==x)&&c({id:C,styleId:x,removes:[{index:[].concat(Zb(jf(q)),[v])}]});return u.apply(q,w)})})});return xa(function(){f.CSSStyleSheet.prototype.insertRule=g;f.CSSStyleSheet.prototype.deleteRule=h;k&&(f.CSSStyleSheet.prototype.replace=k);l&&(f.CSSStyleSheet.prototype.replaceSync=l);Object.entries(n).forEach(function(p){var r=$a(p,2);p=r[0];r=r[1];r.prototype.insertRule=m[p].insertRule;r.prototype.deleteRule=m[p].deleteRule})})}function yj(b,a){var c=b.mirror,d=b.stylesheetManager,
  e,f,g,h=null;h="#document"===a.nodeName?c.getId(a):c.getId(va.host(a));b="#document"===a.nodeName?null==(e=a.defaultView)?void 0:e.Document:null==(g=null==(f=a.ownerDocument)?void 0:f.defaultView)?void 0:g.ShadowRoot;var k=(null==b?0:b.prototype)?Object.getOwnPropertyDescriptor(null==b?void 0:b.prototype,"adoptedStyleSheets"):void 0;if(null===h||-1===h||!b||!k)return function(){};Object.defineProperty(a,"adoptedStyleSheets",{configurable:k.configurable,enumerable:k.enumerable,get:function(){var l;
  return null==(l=k.get)?void 0:l.call(this)},set:function(l){var n,m=null==(n=k.set)?void 0:n.call(this,l);if(null!==h&&-1!==h)try{d.adoptStyleSheets(l,h)}catch(p){}return m}});return xa(function(){Object.defineProperty(a,"adoptedStyleSheets",{configurable:k.configurable,enumerable:k.enumerable,get:k.get,set:k.set})})}function Zn(b,a){var c=b.styleDeclarationCb,d=b.mirror,e=b.ignoreCSSAttributes,f=b.stylesheetManager,g=a.win,h=g.CSSStyleDeclaration.prototype.setProperty;g.CSSStyleDeclaration.prototype.setProperty=
  new Proxy(h,{apply:xa(function(l,n,m){var p,r=$a(m,3),u=r[0],q=r[1];r=r[2];if(e.has(u))return h.apply(n,[u,q,r]);var w=sc(null==(p=n.parentRule)?void 0:p.parentStyleSheet,d,f.styleMirror);p=w.id;w=w.styleId;(p&&-1!==p||w&&-1!==w)&&c({id:p,styleId:w,set:{property:u,value:q,priority:r},index:jf(n.parentRule)});return l.apply(n,m)})});var k=g.CSSStyleDeclaration.prototype.removeProperty;g.CSSStyleDeclaration.prototype.removeProperty=new Proxy(k,{apply:xa(function(l,n,m){var p,r=$a(m,1)[0];if(e.has(r))return k.apply(n,
  [r]);var u=sc(null==(p=n.parentRule)?void 0:p.parentStyleSheet,d,f.styleMirror);p=u.id;u=u.styleId;(p&&-1!==p||u&&-1!==u)&&c({id:p,styleId:u,remove:{property:r},index:jf(n.parentRule)});return l.apply(n,m)})});return xa(function(){g.CSSStyleDeclaration.prototype.setProperty=h;g.CSSStyleDeclaration.prototype.removeProperty=k})}function $n(b){var a=b.mediaInteractionCb,c=b.blockClass,d=b.blockSelector,e=b.mirror,f=b.sampling;b=b.doc;var g=xa(function(k){return qe(xa(function(l){if((l=re(l))&&!vb(l,
  c,d,!0)){var n=l.currentTime,m=l.volume,p=l.muted,r=l.playbackRate,u=l.loop;a({type:k,id:e.getId(l),currentTime:n,volume:m,muted:p,playbackRate:r,loop:u})}}),f.media||500)}),h=[ub("play",g(Dd.Play),b),ub("pause",g(Dd.Pause),b),ub("seeked",g(Dd.Seeked),b),ub("volumechange",g(Dd.VolumeChange),b),ub("ratechange",g(Dd.RateChange),b)];return xa(function(){h.forEach(function(k){return k()})})}function ao(b){var a=b.fontCb;b=b.doc;var c=b.defaultView;if(!c)return function(){};var d=[],e=new WeakMap,f=c.FontFace;
  c.FontFace=function(g,h,k){var l=new f(g,h,k);e.set(l,{family:g,buffer:"string"!==typeof h,descriptors:k,fontSource:"string"===typeof h?h:JSON.stringify(Array.from(new Uint8Array(h)))});return l};b=Cd(b.fonts,"add",function(g){return function(h){setTimeout(xa(function(){var k=e.get(h);k&&(a(k),e.delete(h))}),0);return g.apply(this,[h])}});d.push(function(){c.FontFace=f});d.push(b);return xa(function(){d.forEach(function(g){return g()})})}function bo(b){var a=b.doc,c=b.mirror,d=b.blockClass,e=b.blockSelector,
  f=b.selectionCb,g=!0;b=xa(function(){var h=a.getSelection();if(h&&!(g&&(null==h?0:h.isCollapsed))){g=h.isCollapsed||!1;for(var k=[],l=h.rangeCount||0,n=0;n<l;n++){var m=h.getRangeAt(n),p=m.startContainer,r=m.startOffset,u=m.endContainer;m=m.endOffset;vb(p,d,e,!0)||vb(u,d,e,!0)||k.push({start:c.getId(p),startOffset:r,end:c.getId(u),endOffset:m})}f({ranges:k})}});b();return ub("selectionchange",b)}function co(b){var a=b.customElementCb;return(b=b.doc.defaultView)&&b.customElements?Cd(b.customElements,
  "define",function(c){return function(d,e,f){try{a({define:{name:d}})}catch(g){console.warn("Custom element callback failed for ".concat(d))}return c.apply(this,[d,e,f])}}):function(){}}function eo(b,a){var c=b.mutationCb,d=b.mousemoveCb,e=b.mouseInteractionCb,f=b.scrollCb,g=b.viewportResizeCb,h=b.inputCb,k=b.mediaInteractionCb,l=b.styleSheetRuleCb,n=b.styleDeclarationCb,m=b.canvasMutationCb,p=b.fontCb,r=b.selectionCb,u=b.customElementCb;b.mutationCb=function(){a.mutation&&a.mutation.apply(a,arguments);
  c.apply(void 0,arguments)};b.mousemoveCb=function(){a.mousemove&&a.mousemove.apply(a,arguments);d.apply(void 0,arguments)};b.mouseInteractionCb=function(){a.mouseInteraction&&a.mouseInteraction.apply(a,arguments);e.apply(void 0,arguments)};b.scrollCb=function(){a.scroll&&a.scroll.apply(a,arguments);f.apply(void 0,arguments)};b.viewportResizeCb=function(){a.viewportResize&&a.viewportResize.apply(a,arguments);g.apply(void 0,arguments)};b.inputCb=function(){a.input&&a.input.apply(a,arguments);h.apply(void 0,
  arguments)};b.mediaInteractionCb=function(){a.mediaInteaction&&a.mediaInteaction.apply(a,arguments);k.apply(void 0,arguments)};b.styleSheetRuleCb=function(){a.styleSheetRule&&a.styleSheetRule.apply(a,arguments);l.apply(void 0,arguments)};b.styleDeclarationCb=function(){a.styleDeclaration&&a.styleDeclaration.apply(a,arguments);n.apply(void 0,arguments)};b.canvasMutationCb=function(){a.canvasMutation&&a.canvasMutation.apply(a,arguments);m.apply(void 0,arguments)};b.fontCb=function(){a.font&&a.font.apply(a,
  arguments);p.apply(void 0,arguments)};b.selectionCb=function(){a.selection&&a.selection.apply(a,arguments);r.apply(void 0,arguments)};b.customElementCb=function(){a.customElement&&a.customElement.apply(a,arguments);u.apply(void 0,arguments)}}function fo(b){var a=b.doc.defaultView;if(!a)return function(){};eo(b,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});var c;b.recordDOM&&(c=vj(b,b.doc));var d=Tn(b),e=Un(b),f=wj(b),g=Vn(b,{win:a}),h=Wn(b),k=$n(b),l=function(){},n=function(){},m=function(){},
  p=function(){};b.recordDOM&&(l=Yn(b,{win:a}),n=yj(b,b.doc),m=Zn(b,{win:a}),b.collectFonts&&(p=ao(b)));var r=bo(b),u=co(b),q=[],w=ca(b.plugins),v;try{for(w.s();!(v=w.n()).done;){var x=v.value;q.push(x.observer(x.callback,a,x.options))}}catch(C){w.e(C)}finally{w.f()}return xa(function(){Mc.forEach(function(C){return C.reset()});null==c?void 0:c.disconnect();d();e();f();g();h();k();l();n();m();p();r();u();q.forEach(function(C){return C()})})}function kf(b){return"undefined"!==typeof window[b]}function lf(b){return!!("undefined"!==
  typeof window[b]&&window[b].prototype&&"insertRule"in window[b].prototype&&"deleteRule"in window[b].prototype)}function mf(b,a,c){if(b instanceof Array)return b.map(function(e){return mf(e,a,c)});if(null!==b){if(b instanceof Float32Array||b instanceof Float64Array||b instanceof Int32Array||b instanceof Uint32Array||b instanceof Uint8Array||b instanceof Uint16Array||b instanceof Int16Array||b instanceof Int8Array||b instanceof Uint8ClampedArray)return{rr_type:b.constructor.name,args:[Object.values(b)]};
  if(b instanceof ArrayBuffer){var d=b.constructor.name;b=go(b);return{rr_type:d,base64:b}}if(b instanceof DataView)return{rr_type:b.constructor.name,args:[mf(b.buffer,a,c),b.byteOffset,b.byteLength]};if(b instanceof HTMLImageElement)return{rr_type:b.constructor.name,src:b.src};if(b instanceof HTMLCanvasElement)return{rr_type:"HTMLImageElement",src:b.toDataURL()};if(b instanceof ImageData)return{rr_type:b.constructor.name,args:[mf(b.data,a,c),b.width,b.height]};if(zj(b,a)||"object"===S(b))return d=
  b.constructor.name,b=Aj(b,a,c),{rr_type:d,index:b}}return b}function ho(b,a,c,d){var e=[],f=Object.getOwnPropertyNames(a.CanvasRenderingContext2D.prototype);f=ca(f);var g;try{var h=function(){var k=g.value;try{if("function"!==typeof a.CanvasRenderingContext2D.prototype[k])return 1;var l=Cd(a.CanvasRenderingContext2D.prototype,k,function(n){return function(){for(var m=this,p=arguments.length,r=Array(p),u=0;u<p;u++)r[u]=arguments[u];vb(this.canvas,c,d,!0)||setTimeout(function(){var q=Bj(r,a,m);b(m.canvas,
  {type:Ed["2D"],property:k,args:q})},0);return n.apply(this,r)}});e.push(l)}catch(n){l=gf(a.CanvasRenderingContext2D.prototype,k,{set:function(m){b(this.canvas,{type:Ed["2D"],property:k,args:[m],setter:!0})}}),e.push(l)}};for(f.s();!(g=f.n()).done;)h()}catch(k){f.e(k)}finally{f.f()}return function(){e.forEach(function(k){return k()})}}function Cj(b,a,c,d){var e=[];try{var f=Cd(b.HTMLCanvasElement.prototype,"getContext",function(g){return function(h){for(var k=arguments.length,l=Array(1<k?k-1:0),n=
  1;n<k;n++)l[n-1]=arguments[n];vb(this,a,c,!0)||(k="experimental-webgl"===h?"webgl":h,"__context"in this||(this.__context=k),d&&["webgl","webgl2"].includes(k)&&(l[0]&&"object"===S(l[0])?(k=l[0],k.preserveDrawingBuffer||(k.preserveDrawingBuffer=!0)):l.splice(0,1,{preserveDrawingBuffer:!0})));return g.apply(this,[h].concat(l))}});e.push(f)}catch(g){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return function(){e.forEach(function(g){return g()})}}function Dj(b,a,c,d,e,f){var g=
  [],h=Object.getOwnPropertyNames(b);h=ca(h);var k;try{var l=function(){var n=k.value;if(["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(n))return 0;try{if("function"!==typeof b[n])return 0;var m=Cd(b,n,function(p){return function(){for(var r=arguments.length,u=Array(r),q=0;q<r;q++)u[q]=arguments[q];r=p.apply(this,u);Aj(r,f,this);"tagName"in this.canvas&&!vb(this.canvas,d,e,!0)&&(u=Bj(u,f,this),c(this.canvas,{type:a,property:n,args:u}));return r}});g.push(m)}catch(p){m=
  gf(b,n,{set:function(r){c(this.canvas,{type:a,property:n,args:[r],setter:!0})}}),g.push(m)}};for(h.s();!(k=h.n()).done;)l()}catch(n){h.e(n)}finally{h.f()}return g}function io(b,a,c,d){var e=[];e.push.apply(e,Zb(Dj(a.WebGLRenderingContext.prototype,Ed.WebGL,b,c,d,a)));"undefined"!==typeof a.WebGL2RenderingContext&&e.push.apply(e,Zb(Dj(a.WebGL2RenderingContext.prototype,Ed.WebGL2,b,c,d,a)));return function(){e.forEach(function(f){return f()})}}function jo(b){try{var a=Ej&&(window.URL||window.webkitURL).createObjectURL(Ej);
  if(!a)throw"";var c=new Worker(a,{name:null==b?void 0:b.name});c.addEventListener("error",function(){(window.URL||window.webkitURL).revokeObjectURL(a)});return c}catch(d){return new Worker("data:text/javascript;base64,KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",
  {name:null==b?void 0:b.name})}finally{a&&(window.URL||window.webkitURL).revokeObjectURL(a)}}function ac(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=b.emit,c=b.checkoutEveryNms,d=b.checkoutEveryNth,e=b.blockClass,f=void 0===e?"rr-block":e;e=b.blockSelector;var g=void 0===e?null:e;e=b.ignoreClass;var h=void 0===e?"rr-ignore":e;e=b.ignoreSelector;var k=void 0===e?null:e;e=b.maskTextClass;var l=void 0===e?"rr-mask":e;e=b.maskTextSelector;var n=void 0===e?null:e;e=b.inlineStylesheet;
  var m=void 0===e?!0:e;e=b.maskAllInputs;var p=b.maskInputOptions,r=b.slimDOMOptions,u=b.maskInputFn,q=b.maskTextFn,w=b.hooks,v=b.packFn,x=b.sampling,C=void 0===x?{}:x;x=b.dataURLOptions;var F=void 0===x?{}:x;x=b.mousemoveWait;var H=b.recordDOM,G=void 0===H?!0:H;H=b.recordCanvas;var E=void 0===H?!1:H;H=b.recordCrossOriginIframes;H=void 0===H?!1:H;var I=b.recordAfter,M=void 0===I?"DOMContentLoaded"===b.recordAfter?b.recordAfter:"load":I;I=b.userTriggeredOnInput;var ha=void 0===I?!1:I;I=b.collectFonts;
  var W=void 0===I?!1:I;I=b.inlineImages;var ia=void 0===I?!1:I,N=b.plugins;I=b.keepIframeSrcFn;var y=void 0===I?function(){return!1}:I;I=b.ignoreCSSAttributes;var D=void 0===I?new Set([]):I;se=b.errorHandler;var A=H?window.parent===window:!0,P=!1;if(!A)try{window.parent.document&&(P=!1)}catch(ja){P=!0}if(A&&!a)throw Error("emit function is required");if(!A&&!P)return function(){};void 0!==x&&void 0===C.mousemove&&(C.mousemove=x);Jb.reset();var K=!0===e?{color:!0,date:!0,"datetime-local":!0,email:!0,
  month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==p?p:{password:!0},qa=!0===r||"all"===r?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===r,headMetaDescKeywords:"all"===r,headTitleMutations:"all"===r}:r?r:{};Pn();var Y,ta=0,R=function(ja){var La=ca(N||[]),da;try{for(La.s();!(da=La.n()).done;){var ab=da.value;ab.eventProcessor&&
  (ja=ab.eventProcessor(ja))}}catch(bc){La.e(bc)}finally{La.f()}v&&!P&&(ja=v(ja));return ja};Xa=function(ja,La){var da;ja.timestamp=hf();(null==(da=Mc[0])?0:da.isFrozen())&&ja.type!==Da.FullSnapshot&&(ja.type!==Da.IncrementalSnapshot||ja.data.source!==ya.Mutation)&&Mc.forEach(function(ab){return ab.unfreeze()});A?null==a?void 0:a(R(ja),La):P&&(La={type:"rrweb",event:R(ja),origin:window.location.origin,isCheckout:La},window.parent.postMessage(La,"*"));ja.type===Da.FullSnapshot?(Y=ja,ta=0):ja.type!==
  Da.IncrementalSnapshot||ja.data.source===ya.Mutation&&ja.data.isAttachIframe||(ta++,ja=c&&ja.timestamp-Y.timestamp>c,(d&&ta>=d||ja)&&nf(!0))};var ma=function(ja){Xa({type:Da.IncrementalSnapshot,data:pa({source:ya.Mutation},ja)})},bb=function(ja){return Xa({type:Da.IncrementalSnapshot,data:pa({source:ya.Scroll},ja)})},O=function(ja){return Xa({type:Da.IncrementalSnapshot,data:pa({source:ya.CanvasMutation},ja)})},U=new ko({mutationCb:ma,adoptedStyleSheetCb:function(ja){return Xa({type:Da.IncrementalSnapshot,
  data:pa({source:ya.AdoptedStyleSheet},ja)})}}),T=new lo({mirror:Jb,mutationCb:ma,stylesheetManager:U,recordCrossOriginIframes:H,wrappedEmit:Xa});b=ca(N||[]);var na;try{for(b.s();!(na=b.n()).done;){var ra=na.value;ra.getMirror&&ra.getMirror({nodeMirror:Jb,crossOriginIframeMirror:T.crossOriginIframeMirror,crossOriginIframeStyleMirror:T.crossOriginIframeStyleMirror})}}catch(ja){b.e(ja)}finally{b.f()}var Ia=new mo;Ug=new no({recordCanvas:E,mutationCb:O,win:window,blockClass:f,blockSelector:g,mirror:Jb,
  sampling:C.canvas,dataURLOptions:F});var cb=new oo({mutationCb:ma,scrollCb:bb,bypassOptions:{blockClass:f,blockSelector:g,maskTextClass:l,maskTextSelector:n,inlineStylesheet:m,maskInputOptions:K,dataURLOptions:F,maskTextFn:q,maskInputFn:u,recordCanvas:E,inlineImages:ia,sampling:C,slimDOMOptions:qa,iframeManager:T,stylesheetManager:U,canvasManager:Ug,keepIframeSrcFn:y,processedNodeManager:Ia},mirror:Jb});nf=function(){var ja=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(G){Xa({type:Da.Meta,
  data:{href:window.location.href,width:mj(),height:lj()}},ja);U.reset();cb.init();Mc.forEach(function(da){return da.lock()});var La=kn(document,{mirror:Jb,blockClass:f,blockSelector:g,maskTextClass:l,maskTextSelector:n,inlineStylesheet:m,maskAllInputs:K,maskTextFn:q,maskInputFn:u,slimDOM:qa,dataURLOptions:F,recordCanvas:E,inlineImages:ia,onSerialize:function(da){"IFRAME"===da.nodeName&&Jb.getMeta(da)&&T.addIframe(da);pj(da,Jb)&&U.trackLinkElement(da);Sg(da)&&cb.addShadowRoot(va.shadowRoot(da),document)},
  onIframeLoad:function(da,ab){T.attachIframe(da,ab);cb.observeAttachShadow(da)},onStylesheetLoad:function(da,ab){U.attachLinkElement(da,ab)},keepIframeSrcFn:y});if(!La)return console.warn("Failed to snapshot the document");Xa({type:Da.FullSnapshot,data:{node:La,initialOffset:kj(window)}},ja);Mc.forEach(function(da){return da.unlock()});document.adoptedStyleSheets&&0<document.adoptedStyleSheets.length&&U.adoptStyleSheets(document.adoptedStyleSheets,Jb.getId(document))}};try{var Ma=[],db=function(ja){var La;
  return xa(fo)({mutationCb:ma,mousemoveCb:function(da,ab){return Xa({type:Da.IncrementalSnapshot,data:{source:ab,positions:da}})},mouseInteractionCb:function(da){return Xa({type:Da.IncrementalSnapshot,data:pa({source:ya.MouseInteraction},da)})},scrollCb:bb,viewportResizeCb:function(da){return Xa({type:Da.IncrementalSnapshot,data:pa({source:ya.ViewportResize},da)})},inputCb:function(da){return Xa({type:Da.IncrementalSnapshot,data:pa({source:ya.Input},da)})},mediaInteractionCb:function(da){return Xa({type:Da.IncrementalSnapshot,
  data:pa({source:ya.MediaInteraction},da)})},styleSheetRuleCb:function(da){return Xa({type:Da.IncrementalSnapshot,data:pa({source:ya.StyleSheetRule},da)})},styleDeclarationCb:function(da){return Xa({type:Da.IncrementalSnapshot,data:pa({source:ya.StyleDeclaration},da)})},canvasMutationCb:O,fontCb:function(da){return Xa({type:Da.IncrementalSnapshot,data:pa({source:ya.Font},da)})},selectionCb:function(da){Xa({type:Da.IncrementalSnapshot,data:pa({source:ya.Selection},da)})},customElementCb:function(da){Xa({type:Da.IncrementalSnapshot,
  data:pa({source:ya.CustomElement},da)})},blockClass:f,ignoreClass:h,ignoreSelector:k,maskTextClass:l,maskTextSelector:n,maskInputOptions:K,inlineStylesheet:m,sampling:C,recordDOM:G,recordCanvas:E,inlineImages:ia,userTriggeredOnInput:ha,collectFonts:W,doc:ja,maskInputFn:u,maskTextFn:q,keepIframeSrcFn:y,blockSelector:g,slimDOMOptions:qa,dataURLOptions:F,mirror:Jb,iframeManager:T,stylesheetManager:U,shadowDomManager:cb,processedNodeManager:Ia,canvasManager:Ug,ignoreCSSAttributes:D,plugins:(null==(La=
  null==N?void 0:N.filter(function(da){return da.observer}))?void 0:La.map(function(da){return{observer:da.observer,options:da.options,callback:function(ab){return Xa({type:Da.Plugin,data:{plugin:da.name,payload:ab}})}}}))||[]},w)};T.addLoadListener(function(ja){try{Ma.push(db(ja.contentDocument))}catch(La){console.warn(La)}});var ib=function(){nf();Ma.push(db(document));of=!0};"interactive"===document.readyState||"complete"===document.readyState?ib():(Ma.push(ub("DOMContentLoaded",function(){Xa({type:Da.DomContentLoaded,
  data:{}});"DOMContentLoaded"===M&&ib()})),Ma.push(ub("load",function(){Xa({type:Da.Load,data:{}});"load"===M&&ib()},window)));return function(){Ma.forEach(function(ja){return ja()});Ia.destroy();of=!1;se=void 0}}catch(ja){console.warn(ja)}}function Vg(b){return b&&"string"===typeof b.valueOf()?!0:!1}function te(b){return Number.isInteger&&Number.isInteger(b)||"number"===typeof b&&isFinite(b)&&Math.floor(b)===b}function Wg(b){if(!Vg(b)){b=b.text||"";var a=document.getElementsByTagName("title");a&&
  null!=a[0]&&(b=a[0].text)}return b}function pf(b){var a=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(b);return a?a[1]:b}function Fj(b){var a=b.length;"."===b.charAt(--a)&&(b=b.slice(0,a));"*."===b.slice(0,2)&&(b=b.slice(1));return b}function Xg(b){var a=window,c=ue("referrer",a.location.href)||ue("referer",a.location.href);if(c)return c;if(b)return b;try{if(a.top)return a.top.document.referrer;if(a.parent)return a.parent.document.referrer}catch(d){}return document.referrer}function Kb(b,a,c,
  d){if("undefined"===typeof b)return!1;if(b.addEventListener)return b.addEventListener(a,c,d),!0;if(b.attachEvent)return b.attachEvent("on"+a,c);b["on"+a]=c}function ue(b,a){return(b=(new RegExp("^[^#]*[?&]"+b+"=([^&#]*)")).exec(a))?decodeURIComponent(b[1].replace(/\+/g," ")):null}function qf(b,a,c){void 0===c&&(c=63072E3);try{var d=window.localStorage,e=Date.now()+1E3*c;d.setItem("".concat(b,".expires"),e.toString());d.setItem(b,a);return!0}catch(f){return!1}}function Gj(b){try{var a=window.localStorage;
  a.removeItem(b);a.removeItem(b+".expires");return!0}catch(c){return!1}}function po(b,a){for(var c=window.location.hostname,d="_cnv_root_domain_test_"+(new Date).getTime(),e="_test_value_"+(new Date).getTime(),f=c.split("."),g=f.length-1;0<=g;){var h=f.slice(g,f.length).join(".");cc(d,e,0,"/",h,b,a);if(cc(d)===e){Fd(d,h,b,a);c=document.cookie.split("; ");d=[];for(e=0;e<c.length;e++)"_cnv_root_domain_test_"===c[e].substring(0,22)&&d.push(c[e]);c=d;for(d=0;d<c.length;d++)Fd(c[d],h,b,a);return h}--g}return c}
  function Fd(b,a,c,d){return cc(b,"",-1,"/",a,c,d)}function cc(b,a,c,d,e,f,g){return 1<arguments.length?document.cookie=b+"="+encodeURIComponent(null!==a&&void 0!==a?a:"")+(c?"; Expires="+(new Date(+new Date+1E3*c)).toUTCString():"")+(d?"; Path="+d:"")+(e?"; Domain="+e:"")+(f?"; SameSite="+f:"")+(g?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+b+"=")[1]||"").split(";")[0])}function Hj(b){try{var a=null===window||void 0===window?void 0:window.localStorage;return a?(a.removeItem(b),
  !0):!1}catch(c){return!1}}function qo(b,a){return gb(gb([],b,!0),a,!0).reduce(function(c,d){var e=c.find(function(f){return f.key===d.key});e?d.condition&&(e.condition=gb(gb([],e.condition||[],!0),d.condition,!0)):c.push(Z({},d));return c},[])}function ro(b){try{if("undefined"===typeof b.sel)return rf(),J.SAMPLING_MODES.RCFG;var a=b.sel.pct;if("number"==typeof a&&100>a&&0<a&&0==a%1){if("undefined"!==typeof window&&"undefined"!==typeof window.localStorage){var c=localStorage.getItem(J.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);
  if("undefined"!==typeof c&&null!==c)return parseFloat(c)<=a?sf(b,J.SAMPLING_ACTION.SAMPLED):sf(b,J.SAMPLING_ACTION.NON_SAMPLED);var d=100*Math.random();localStorage.setItem(J.SAMPLING_STORAGE_RANDOM_NUMBER_KEY,d.toString());return d<a?sf(b,J.SAMPLING_ACTION.SAMPLED):sf(b,J.SAMPLING_ACTION.NON_SAMPLED)}return J.SAMPLING_MODES.NONE}if("number"==typeof a&&0===a)return rf(),J.SAMPLING_MODES.NONE;rf();return J.SAMPLING_MODES.RCFG}catch(e){}return J.SAMPLING_MODES.RCFG}function rf(){"undefined"!==typeof window&&
  "undefined"!==typeof window.localStorage&&localStorage.removeItem(J.SAMPLING_STORAGE_RANDOM_NUMBER_KEY)}function sf(b,a){return"undefined"!==typeof b.act&&"undefined"!==typeof b.act[a]&&(b=b.act[a],"undefined"!==typeof b)?b:J.DEFAULT_SAMPLING_ACTION[a]}function tb(b,a){return b.length<=a?b:b.slice(0,a-3)+"..."}function Ij(b,a,c,d,e){var f=[za.request_body,za.response_body,za.request_headers,za.response_headers,za.request_query],g={};"number"===typeof e&&(Gd=1024*e);if(a&&0<a.length)for(e=0;e<a.length;e++){var h=
  a[e],k=h.conditions;h=sg(h,["conditions"]);try{if(Jj(b,k)){k=0;for(var l=Object.entries(b);k<l.length;k++){var n=l[k],m=n[0],p=n[1];f.includes(m)||(g[m]=p)}k=0;for(var r=Object.entries(h);k<r.length;k++){var u=r[k];m=u[0];p=u[1];try{if(p&&0<h[m].length){var q=!1;if(m===za.response_headers||m===za.request_headers)q=!0;if(m===za.request_body){var w=void 0,v=void 0,x=void 0,C=void 0,F=void 0,H=void 0,G=void 0,E=c,I=b;void 0===E&&(E={});var M=tf(null===(G=null===E||void 0===E?void 0:E.requestDetails)||
  void 0===G?void 0:G.headers);if("undefined"!==typeof M&&(M.toLowerCase().includes("text/plain")||M.toLowerCase().includes("json")||M.toLowerCase().includes("text/javascript")||M.toLowerCase().includes("application/javascript")||M.toLowerCase().includes("text/html"))||"undefined"===typeof M)try{if("string"===typeof(null===(H=null===E||void 0===E?void 0:E.requestDetails)||void 0===H?void 0:H.body)&&(null===(F=null===E||void 0===E?void 0:E.requestDetails)||void 0===F?void 0:F.body.length)<=Gd)try{I[za.request_body]=
  JSON.parse(null===(C=null===E||void 0===E?void 0:E.requestDetails)||void 0===C?void 0:C.body)}catch(Y){}else"object"===S(null===(x=null===E||void 0===E?void 0:E.requestDetails)||void 0===x?void 0:x.body)&&JSON.stringify(null===(v=null===E||void 0===E?void 0:E.requestDetails)||void 0===v?void 0:v.body).length<=Gd&&(I[za.request_body]=null===(w=null===E||void 0===E?void 0:E.requestDetails)||void 0===w?void 0:w.body)}catch(Y){}}if(m===za.response_body){var ha=I=E=G=H=F=C=x=v=w=void 0,W=void 0,ia=void 0,
  N=void 0,y=c,D=b;void 0===y&&(y={});a:{var A=null===(N=null===y||void 0===y?void 0:y.responseDetails)||void 0===N?void 0:N.headers;try{N=void 0;"undefined"!=typeof A&&null!==A&&(N=A["content-length"]||A["Content-Length"]||A["Content-length"]);var P="undefined"==typeof N||null===N||isNaN(N)?N:Number(N);break a}catch(Y){}P=void 0}var K=tf(null===(ia=null===y||void 0===y?void 0:y.responseDetails)||void 0===ia?void 0:ia.headers);if("undefined"!==typeof K&&(K.toLowerCase().includes("text/plain")||K.toLowerCase().includes("json")||
  K.toLowerCase().includes("text/javascript")||K.toLowerCase().includes("application/javascript")||K.toLowerCase().includes("text/html")))if("undefined"!==typeof P&&P<=Gd)if("string"===typeof(null===(W=null===y||void 0===y?void 0:y.responseDetails)||void 0===W?void 0:W.body))try{D[za.response_body]=JSON.parse(null===(ha=null===y||void 0===y?void 0:y.responseDetails)||void 0===ha?void 0:ha.body)}catch(Y){}else"object"===S(null===(I=null===y||void 0===y?void 0:y.responseDetails)||void 0===I?void 0:I.body)&&
  (D[za.response_body]=null===(E=null===y||void 0===y?void 0:y.responseDetails)||void 0===E?void 0:E.body);else if("undefined"===typeof P)try{if("string"===typeof(null===(G=null===y||void 0===y?void 0:y.responseDetails)||void 0===G?void 0:G.body)&&(null===(F=null===(H=null===y||void 0===y?void 0:y.responseDetails)||void 0===H?void 0:H.body)||void 0===F?void 0:F.length)<=Gd)try{D[za.response_body]=JSON.parse(null===(C=null===y||void 0===y?void 0:y.responseDetails)||void 0===C?void 0:C.body)}catch(Y){}else"object"===
  S(null===(x=null===y||void 0===y?void 0:y.responseDetails)||void 0===x?void 0:x.body)&&JSON.stringify(null===(v=null===y||void 0===y?void 0:y.responseDetails)||void 0===v?void 0:v.body).length<=Gd&&(D[za.response_body]=null===(w=null===y||void 0===y?void 0:y.responseDetails)||void 0===w?void 0:w.body)}catch(Y){}}m===za.request_query&&Yg(b,d);var qa=so(b[m],h[m],q);0!==Object.keys(qa).length&&(g[m]=qa)}}catch(Y){g[m]=void 0}}return g}}catch(Y){console.warn("Conviva App Tracker: Error in collecting attributes nwreqConfig ".concat(Y))}}g=
  Z({},b);for(b=0;b<f.length;b++)a=f[b],"undefined"!==typeof g&&null!==g&&g.hasOwnProperty(a)&&delete g[a];return g}function to(b,a,c){var d,e,f,g,h,k,l;if(b&&0<b.length){var n={targetUrl:null===(d=null===a||void 0===a?void 0:a.requestDetails)||void 0===d?void 0:d.url};for(d=0;d<b.length;d++){var m=b[d],p=m.conditions;m=sg(m,["conditions"]);try{if(Jj(n,p)){p=0;for(var r=Object.entries(m);p<r.length;p++){var u=r[p],q=u[0],w=u[1];try{if(w&&0<m[q].length){if(q===za.response_headers&&(n[q]=null===(e=null===
  a||void 0===a?void 0:a.responseDetails)||void 0===e?void 0:e.headers,Array.isArray(w)))for(var v=0,x=w;v<x.length;v++){var C=x[v],F=Nc(n[q],C);if(null!==F&&void 0!==F)return F}if(q===za.request_headers&&(n[q]=null===(f=null===a||void 0===a?void 0:a.requestDetails)||void 0===f?void 0:f.headers,Array.isArray(w)))for(v=0,x=w;v<x.length;v++)if(C=x[v],F=Nc(n[q],C),null!==F&&void 0!==F)return F;if(q===za.request_body){var H=tf(null===(g=null===a||void 0===a?void 0:a.requestDetails)||void 0===g?void 0:g.headers);
  if("undefined"!==typeof H&&(H.toLowerCase().includes("text/plain")||H.toLowerCase().includes("json")||H.toLowerCase().includes("text/javascript")||H.toLowerCase().includes("application/javascript")||H.toLowerCase().includes("text/html"))||"undefined"===typeof H)if(n[q]=null===(h=null===a||void 0===a?void 0:a.requestDetails)||void 0===h?void 0:h.body,Array.isArray(w))for(v=0,x=w;v<x.length;v++)if(C=x[v],F=Nc(n[q],C),null!==F&&void 0!==F)return F}if(q===za.response_body){var G=tf(null===(k=null===a||
  void 0===a?void 0:a.responseDetails)||void 0===k?void 0:k.headers);if("undefined"!==typeof G&&(G.toLowerCase().includes("text/plain")||G.toLowerCase().includes("json")||G.toLowerCase().includes("text/javascript")||G.toLowerCase().includes("application/javascript")||G.toLowerCase().includes("text/html"))&&(n[q]=null===(l=null===a||void 0===a?void 0:a.responseDetails)||void 0===l?void 0:l.body,Array.isArray(w)))for(v=0,x=w;v<x.length;v++)if(C=x[v],F=Nc(n[q],C),null!==F&&void 0!==F)return F}if(q===za.request_query&&
  (Yg(n,c),Array.isArray(w)))for(v=0,x=w;v<x.length;v++)if(C=x[v],F=Nc(n[q],C),null!==F&&void 0!==F)return F}}catch(E){console.warn("Conviva App Tracker: Error in extracting attributes nwreqConfig ".concat(E))}}}}catch(E){console.warn("Conviva App Tracker: Error in collecting attributes nwreqConfig ".concat(E))}}}}function uo(b,a,c){try{if("string"===typeof c&&"string"===typeof b&&"*"===c.trim())return!0;switch(a){case "==":case "equal":return b===c;case "!=":return b!==c;case ">":return b>c;case "<":return b<
  c;case ">=":return b>=c;case "<=":return b<=c;case "contains":return""!==c&&"string"===typeof b&&"string"===typeof c&&-1!==b.toLowerCase().indexOf(c.toLowerCase());default:return!1}}catch(d){return console.warn("Conviva App Tracker: Error in Compare values nwreq ".concat(d)),!1}}function Jj(b,a){try{for(var c=0;c<a.length;c++){var d=a[c],e=!1;if(0<Object.keys(d).length)for(var f=0,g=Object.entries(d);f<g.length;f++){var h=g[f],k=h[1],l=b[h[0]];if(0<k.length){for(var n=0,m=0,p=k;m<p.length;m++){var r=
  p[m],u="contains",q=r;if("object"===S(r)&&r.length)u=r[1],q=r[0];else if("boolean"===typeof r||null===r)u="equal",q=r;if(uo(l,u,q)){e=!0;break}else if(e=!1,n+1===k.length)break;n++}if(!1===e)break}}if(e)return!0}}catch(w){console.warn("Conviva App Tracker: Error in Applying nwreqConfig ".concat(w))}return!1}function so(b,a,c){var d={};try{for(var e=0;e<a.length;e++){var f=a[e],g=b,h=d;c&&(f=f.toLowerCase(),g=g&&Object.entries(g).reduce(function(m,p){var r=p[1];m[p[0].toLowerCase()]=r;return m},{}));
  for(var k=f.split("."),l=0;l<k.length;l++){var n=k[l];if("undefined"!==typeof g&&null!==g&&g.hasOwnProperty(n))l===k.length-1?h[n]=g[n]:(h[n]=h[n]||{},g=g[n],h=h[n]);else break}}}catch(m){console.warn("Conviva App Tracker: Error in filtering schema object nwreq ".concat(m))}return d}function Yg(b,a){try{var c=(null===b||void 0===b?void 0:b.targetUrl)||(null===b||void 0===b?void 0:b.url);if(c&&"string"===typeof c&&c.includes("?")){var d=void 0;try{var e=c.indexOf("?");if(-1===e)return;var f=c.indexOf("#",
  e),g=-1!==f?c.substring(e+1,f):c.substring(e+1);if(!g||g.length>(a||10240))return;d="undefined"!==typeof URLSearchParams?new URLSearchParams(g):null}catch(r){console.warn("Conviva App Tracker: Error creating URLSearchParams: ".concat(r));return}var h={};if(d instanceof URLSearchParams)d.forEach(function(r,u){h[u]=r});else{a=0;for(var k=c.substring(c.indexOf("?")+1).split("&");a<k.length;a++){var l=k[a];if(l){var n=l.indexOf("="),m=0<n?decodeURIComponent(l.substring(0,n)):decodeURIComponent(l);if(m){var p=
  0<n&&n<l.length-1?decodeURIComponent(l.substring(n+1)):"";h[m]=p}}}}0<Object.keys(h).length&&(b[za.request_query]=h)}}catch(r){console.warn("Conviva App Tracker: Error parsing request query parameters: ".concat(r))}}function Zg(b,a,c,d,e,f){for(var g={},h=0;h<a.length;h++){var k=a[h],l=k.req,n=k.opt,m=k.smb;k=k.rqq;try{var p=d([{req:l,opt:n}],[],b,c);if(null===p||void 0===p?0:p.result){if(m&&Array.isArray(m)){var r=Kj(b,m,!1,f);0<Object.keys(r).length&&Object.assign(g,r)}if(k&&Array.isArray(k)&&(Yg(b,
  e),r=Kj(b[za.request_query],k,!1,f),0<Object.keys(r).length)){if(void 0===g[za.request_query]||null===g[za.request_query])g[za.request_query]={};Object.assign(g[za.request_query],r)}return g}}catch(u){console.warn("Conviva App Tracker: Error in collecting conditional SSE attributes ".concat(u))}}return g}function Kj(b,a,c,d){void 0===d&&(d=!1);if(d)return vo(b,a,c);d={};try{for(var e=0;e<a.length;e++){var f=a[e],g=b,h=d;c&&(f=f.toLowerCase(),g=g&&Object.entries(g).reduce(function(m,p){var r=p[1];
  m[p[0].toLowerCase()]=r;return m},{}));for(var k=f.split("."),l=0;l<k.length;l++){var n=k[l];if("undefined"!==typeof g&&null!==g&&g.hasOwnProperty(n))if(l===k.length-1)h[n]=g[n];else{h[n]=h[n]||{};g=g[n];if("string"===typeof g&&l<k.length-1)try{g=JSON.parse(g)}catch(m){}h=h[n]}else break}}}catch(m){console.warn("Conviva App Tracker: Error in filtering SSE object ".concat(m))}return d}function vo(b,a,c){var d={};try{for(var e=new Map,f=new Set,g=0;g<a.length;g++){var h=a[g];c&&(h=h.toLowerCase());
  var k=h.split(".");if(1===k.length)f.add(k[0]);else if(2===k.length&&!isNaN(Number(k[1]))){var l=k[0],n=Number(k[1]),m="".concat(l,".").concat(n);e.has(m)||e.set(m,[]);e.get(m).push("")}else if(1<k.length&&!isNaN(Number(k[1]))){l=k[0];n=Number(k[1]);var p=k.slice(2);m="".concat(l,".").concat(n);e.has(m)||e.set(m,[]);e.get(m).push(p.join("."))}}a=0;for(var r=Array.from(f);a<r.length;a++){var u=r[a],q=b;c&&(q=q&&Object.entries(q).reduce(function(I,M){var ha=M[1];I[M[0].toLowerCase()]=ha;return I},{}));
  "undefined"!==typeof q&&null!==q&&q.hasOwnProperty(u)&&(d[u]=q[u])}f=0;for(var w=Array.from(e.entries());f<w.length;f++){var v=w[f];m=v[0];var x=v[1],C=m.split(".");l=C[0];n=Number(C[1]);q=b;e=d;c&&(q=q&&Object.entries(q).reduce(function(I,M){var ha=M[1];I[M[0].toLowerCase()]=ha;return I},{}));if("undefined"!==typeof q&&null!==q&&q.hasOwnProperty(l)&&(q=q[l],Array.isArray(e[l])||(e[l]=[]),e=e[l],Array.isArray(q)&&void 0!==q[n])){for(q=q[n];e.length<=n;)e.push(null);var F=e[n]||{};r=0;for(u=x;r<u.length;r++){var H=
  u[r];if(""===H)F=q;else for(p=H.split("."),a=q,g=F,h=0;h<p.length;h++){var G=p[h];if("undefined"!==typeof a&&null!==a&&a.hasOwnProperty(G))if(h===p.length-1){var E=a[G];if("string"===typeof E)try{E=JSON.parse(E)}catch(I){}g[G]=E}else{if(isNaN(Number(p[h+1]))){if(g[G]&&"object"===S(g[G])||(g[G]={}),a=a[G],"string"===typeof a&&h<p.length-1)try{a=JSON.parse(a)}catch(I){}}else if(g[G]&&"object"===S(g[G])||(g[G]={}),a=a[G],"string"===typeof a&&h<p.length-1)try{a=JSON.parse(a)}catch(I){}g=g[G]}else break}}e[n]=
  F}}}catch(I){console.warn("Conviva App Tracker: Error in filtering SSE ArrayBuffer object ".concat(I))}return d}function Nc(b,a){return a?a.split(".").reduce(function(c,d){if(null!=c){if("string"===typeof c)try{c=JSON.parse(c)}catch(e){}d=/^\d+$/.test(d)?Number(d):d;return null===c||void 0===c?void 0:c[d]}},b):b}function Lj(b,a,c){if("translate.googleusercontent.com"===b)""===c&&(c=a),b=(b=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(a))&&1<(null===b||void 0===b?void 0:b.length)?ue("u",b[1]):
  null,a=null!==b&&void 0!==b?b:"",b=pf(a);else if("cc.bingj.com"===b||"webcache.googleusercontent.com"===b)a=document.links[0].href,b=pf(a);return[b,a,c]}function wo(b,a,c,d){var e=Math.round((new Date).getTime()/1E3);b?(b=b.split("."),b.unshift("0")):b=["1",a,e,d,e,"",c];b[6]&&"undefined"!==b[6]||(b[6]=nc.v4());b[7]&&"undefined"!==b[7]||(b[7]="");b[8]&&"undefined"!==b[8]||(b[8]="");b[9]&&"undefined"!==b[9]||(b[9]="");b[10]&&"undefined"!==b[10]||(b[10]=-1);var f=function(g,h){g=parseInt(g);return isNaN(g)?
  h:g};a=function(g){return g?f(g,void 0):void 0};return[b[0],b[1],f(b[2],e),f(b[3],d),f(b[4],e),a(b[5]),b[6],b[7],b[8],a(b[9])]}function ve(b,a){void 0===a&&(a=1);"0"===b[0]?(b[7]=b[6],b[5]=b[4],b[3]++):b[3]=a;a=nc.v4();b[6]=a;b[8]="";b[9]=void 0;return a}function $g(b){b[4]=Math.round((new Date).getTime()/1E3)}function uf(b){return{activateLCPObserver:function(){try{PerformanceObserver&&(new PerformanceObserver(function(a){try{a.getEntries().forEach(function(c){var d;if("largest-contentful-paint"===
  c.entryType){var e=null===performance||void 0===performance?void 0:performance.getEntriesByType("navigation"),f=void 0;e&&0<(null===e||void 0===e?void 0:e.length)&&(f=null===(d=e[0])||void 0===d?void 0:d.activationStart);Ha=Z(Z({},c.toJSON()),{performanceNavigationActivationStart:null!==f&&void 0!==f?f:0})}})}catch(c){console.warn("convivaAppTracker error in conviva lcp observer "+c)}})).observe({type:"largest-contentful-paint",buffered:!0})}catch(a){console.warn("convivaAppTracker conviva_lcp failed "+
  a)}},contexts:function(){try{switch(b){case J.PERFORMANCE_CONTEXT.DISABLED:return[];case J.PERFORMANCE_CONTEXT.PERFORMANCE_NAVIGATION_TIMING:return xo();default:var a=window,c=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance,d=c.timing;var e=c?[{sc:"w3/pt/1-0-0",dt:{navigationStart:d.navigationStart,domainLookupStart:d.domainLookupStart,domainLookupEnd:d.domainLookupEnd,responseStart:d.responseStart,responseEnd:d.responseEnd,loadEventEnd:d.loadEventEnd}}]:[];return gb(gb([],e,
  !0),yo().contexts(),!0)}}catch(f){return console.warn("convivaAppTracker problem in perfromance context "+f),[]}}}}function xo(){var b,a,c;try{var d=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};if(d.getEntriesByType){var e=d.getEntriesByType("navigation")[0],f=null!==(b=null===d||void 0===d?void 0:d.timeOrigin)&&void 0!==b?b:0;if(!e)return[];var g={st:Math.floor(f+e.startTime),dls:Math.floor(f+e.domainLookupStart),dle:Math.floor(f+e.domainLookupEnd),
  rss:Math.floor(f+e.responseStart),rse:Math.floor(f+e.responseEnd),le:Math.floor(f+e.loadEventEnd),dur:Math.floor(e.loadEventEnd-e.activationStart),as:Math.floor(f+e.activationStart)};if(null===Ha||void 0===Ha?0:Ha.startTime)g.lcp={rt:Math.floor(f+Ha.startTime),url:128<(null===(a=null===Ha||void 0===Ha?void 0:Ha.url)||void 0===a?void 0:a.length)?null===(c=null===Ha||void 0===Ha?void 0:Ha.url)||void 0===c?void 0:c.substring(0,128):Ha.url,sz:Ha.size};return[{sc:"cv/pc/1-0-1",dt:g}]}return[]}catch(h){return console.warn("ConvivaAppTracker: issue will getting performance Navigation timing context"),
  []}}function yo(){return{contexts:function(){var b,a,c;try{if("undefined"!=typeof(null===Ha||void 0===Ha?void 0:Ha.startTime)&&"number"===typeof(null===Ha||void 0===Ha?void 0:Ha.startTime))return[{sc:"cv/lcp/1-0-0",dt:{lcp:Math.round(Ha.startTime)-(null!==(b=Ha.performanceNavigationActivationStart)&&void 0!==b?b:0),url:128<(null===(a=null===Ha||void 0===Ha?void 0:Ha.url)||void 0===a?void 0:a.length)?null===(c=null===Ha||void 0===Ha?void 0:Ha.url)||void 0===c?void 0:c.substring(0,128):Ha.url}}]}catch(d){}return[]}}}
  function vf(b,a,c,d,e,f){var g;try{var h=null,k=null!==(g=f.url)&&void 0!==g?g:"";if(!k)return!0;if(zo.some(function(r){return k.includes(r)}))return!1;var l=new URL(k);var n=l.protocol.replace(":","");g=function(r,u){var q;r=Mj(r,{scheme:n,host:l.hostname,path:decodeURIComponent(l.pathname)},Sb.NETWORK_REQUEST);return r.matched?r.opt?tc(r.opt,{responseStatusCode:null!==(q=null===e||void 0===e?void 0:e.status)&&void 0!==q?q:0,duration:Date.now()-f.requestTimestamp},Sb.NETWORK_REQUEST)===u:u:null};
  b&&null===h&&(h=g(b,!0));a&&null===h&&(h=g(a,!1));if(null===h){var m=(null===c||void 0===c?void 0:c.includes("*"))||(null===c||void 0===c?void 0:c.some(function(r){return r&&""!==r?k.includes(r):!1})),p=null===d||void 0===d?void 0:d.some(function(r){return r&&""!==r?k.includes(r):!1});h=!m||p}return!0===h?!0:!1}catch(r){return!0}}function Hd(b,a,c,d){try{var e=null;d=null!==d&&void 0!==d?d:"";if(!d)return{result:!0};var f=new URL(d);var g=f.protocol.replace(":","");d=function(h,k){var l;h=Mj(h,Z({scheme:g,
  host:f.hostname,path:decodeURIComponent(f.pathname)},c),Sb.SSE_EVENT);if(h.matched){if(h.opt){var n=tc(h.opt,c,Sb.SSE_EVENT);return!0!==(null===(l=null===h||void 0===h?void 0:h.item)||void 0===l?void 0:l.count)||n?{result:n===k,matchedConfig:h.item,shouldSend:!0}:{result:h.matched===k,matchedConfig:h.item,shouldSend:!1}}return{result:k,matchedConfig:h.item,shouldSend:!1}}return null};b&&null===e&&(e=d(b,!0));a&&null===e&&(e=d(a,!1));(!b||Array.isArray(b)&&0===b.length)&&null===e&&(e={result:!0});
  return e}catch(h){return{result:!0}}}function Mj(b,a,c){try{for(var d=0;d<b.length;d++){var e=b[d],f=e.opt;if(tc(e.req,a,c))return{matched:!0,opt:f||null,item:e}}return{matched:!1,opt:null}}catch(g){return{matched:!1,opt:null}}}function tc(b,a,c){try{if(!b)return!1;if("and"===b.type){for(var d=0,e=b.cond;d<e.length;d++){var f=e[d];if(!tc(f,a,c))return!1}return!0}if("or"===b.type){e=0;for(d=b.cond;e<d.length;e++)if(f=d[e],tc(f,a,c))return!0;return!1}return c===Sb.NETWORK_REQUEST?Ao(b,a):c===Sb.CUSTOM_EVENT?
  Bo(b,a):c===Sb.SSE_EVENT?Co(b,a):!1}catch(g){return!1}}function Bo(b,a){var c=b.key,d=b.op;b=b.val;if(!c||!d)return!1;if("undefined"!==typeof a[c]){if(Vg(a[c]))return uc(a[c],d,b);if("boolean"===typeof a[c])switch(a=a[c],d){case "!=":return a!==b;case "==":return a===b;default:return!1}if(Number.isInteger(a[c]))return wf(a[c],d,b)}return!1}function Co(b,a){var c=b.key,d=b.op;b=b.val;if(!c||!d)return!1;switch(c){case "sch":return a.scheme?uc(a.scheme,d,b):!1;case "host":return a.host?uc(a.host,d,b):
  !1;case "path":return a.path?uc(a.path,d,b):!1;default:a=Nc(a,c);if(null!==a&&void 0!==a){if("string"===typeof a)return uc(a,d,b);if("boolean"===typeof a)switch(d){case "!=":return a!==b;case "==":return a===b;default:return!1}if("number"===typeof a&&Number.isInteger(a))return wf(a,d,b)}return!1}}function Ao(b,a){var c=b.key,d=b.op;b=b.val;if(!c||!d)return!1;switch(c){case "sch":return a.scheme?uc(a.scheme,d,b):!1;case "host":return a.host?uc(a.host,d,b):!1;case "path":return a.path?uc(a.path,d,b):
  !1;case "dur":return a.duration?wf(a.duration,d,b):!1;case "rsc":return void 0!==a.responseStatusCode&&0<=a.responseStatusCode?wf(a.responseStatusCode,d,b):!1;default:return!1}}function uc(b,a,c){return"=="===a&&Array.isArray(c)?(a=c,a.includes("*")?!0:a.some(function(d){return d&&""!==d?b===d:!1})):"contains"===a&&Array.isArray(c)?(a=c,a.includes("*")?!0:a.some(function(d){return d&&""!==d?b.includes(d):!1})):"sw"===a&&Array.isArray(c)?(a=c,a.includes("*")?!0:a.some(function(d){return d&&""!==d?
  b.startsWith(d):!1})):"ew"===a&&Array.isArray(c)?(a=c,a.includes("*")?!0:a.some(function(d){return d&&""!==d?b.endsWith(d):!1})):!1}function wf(b,a,c){if("in"===a.toLowerCase()&&Array.isArray(c))return c.includes(b);if("range"===a.toLowerCase()&&"object"===S(c)){a=c.min;var d=c.max,e=c.minExclusive;c=c.maxExclusive;return void 0!==a&&void 0!==d?b>=a&&b<=d:void 0!==e&&void 0!==c?b>e&&b<c:!1}if(te(c))switch(a){case "!=":return b!==c;case ">":return b>c;case ">=":return b>=c;case "<":return b<c;case "<=":return b<=
  c;case "==":return b===c}return!1}function Nj(b,a,c){var d=null;a:{for(var e=0;e<b.length;e++){var f=b[e];var g=f.opt;if(tc(f.req,a,c))if(g){if(tc(g,a,c)){b=!0;break a}}else{b=!0;g=null;break a}}b=!1;g=null}b&&(d=g?tc(g,a,c)?!0:!1:!0);return d}function eb(b,a,c){var d,e;try{if(b&&a){var f=null===b||void 0===b?void 0:b.getConfig();a:{var g,h,k,l={message:""};try{var n=c.message,m=c.error,p=c.className,r=c.extraData;if(n)l.message=n;else if("string"===typeof m)if(0<m.trim().length)l.message=m;else{ua.warn("Conviva Eco Sensor:: Mandatory field message is missing");
  var u=null;break a}else"object"===S(m)&&("string"===typeof m.message&&0<m.message.trim().length&&(l.message=tb(m.message,J.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_MESSAGE_LENGTH)),"string"===typeof m.name&&0<m.name.trim().length&&(l.exceptionName=tb(m.name,J.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_EXCEPTION_NAME_LENGTH)),"string"===typeof m.stack&&0<m.stack.trim().length&&(l.stackTrace=tb(m.stack,J.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_STACK_LENGTH)));if(0===l.message.trim().length){ua.warn("Conviva Eco Sensor:: Mandatory field message is missing");
  u=null;break a}"string"===typeof p&&0<p.trim().length&&(l.className=tb(p,J.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_CLASSNAME_LENGTH));"undefined"!==typeof r&&null!==r&&(l.extraData=r);var q=null===b||void 0===b?void 0:b.getConfig();if(null===q||void 0===q?0:q.configurationVersion)l.remoteConfigVersion=q.configurationVersion;if(null===c||void 0===c?0:c.configAppliedTime)l.configAppliedTime=null===c||void 0===c?void 0:c.configAppliedTime;if(null===q||void 0===q?0:q.cacheRefreshInterval)l.cacheRefreshInterval=
  q.cacheRefreshInterval;if(null===c||void 0===c?0:c.configAppliedSrc)l.configAppliedSrc=null===c||void 0===c?void 0:c.configAppliedSrc;if(localStorage){var w=localStorage.getItem(J.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);"undefined"!==typeof w&&null!==w&&(l.samplingRandomNumber=parseFloat(w))}"number"===typeof(null===(h=null===(g=null===q||void 0===q?void 0:q.controlIngestConfig)||void 0===g?void 0:g.sel)||void 0===h?void 0:h.pct)?(l.samplingPercentage=q.controlIngestConfig.sel.pct,l.samplingDecision=
  J.SAMPLING_STATUS.DERIVED,void 0!=S(null===(k=null===q||void 0===q?void 0:q.controlIngestConfig)||void 0===k?void 0:k.act)&&(l.extraData=Z(Z({},l.extraData),{samplingActionConfig:q.controlIngestConfig.act}))):l.samplingDecision=J.SAMPLING_STATUS.DEFAULT;"function"==typeof a&&"string"==typeof a()&&(l.samplingStatus=a()==J.SAMPLING_MODES.RCFG?!0:!1)}catch(M){ua.warn("Error occurred while generating diagnostic object",M);u=null;break a}u=l}var v;if(!(v=!u)){var x;try{var C=null===b||void 0===b?void 0:
  b.getConfig(),F=(null===(x=null===C||void 0===C?void 0:C.di)||void 0===x?void 0:x.lim)||10,H=Date.now();6E4<=H-Oj&&(ah=0,Oj=H);ah++;var G=ah>F?!1:!0}catch(M){ua.warn("Conviva Eco Sensor:: Error occured while checking diagnostic event is allowed",M),G=!1}v=!G}if(!v&&"boolean"==typeof(null===(d=null===f||void 0===f?void 0:f.di)||void 0===d?void 0:d.en)&&!0===(null===(e=null===f||void 0===f?void 0:f.di)||void 0===e?void 0:e.en))if(null===b||void 0===b)void 0;else{var E=b.track;var I=Kc({event:{sc:"iglu:com.conviva/di/jsonschema/1-0-4",
  dt:ud({msg:u.message,cn:u.className,st:u.stackTrace,en:u.exceptionName,ed:u.extraData,rcv:u.remoteConfigVersion,cat:u.configAppliedTime,cri:u.cacheRefreshInterval,csrc:u.configAppliedSrc,srn:u.samplingRandomNumber,spr:u.samplingPercentage,ss:u.samplingStatus,sd:u.samplingDecision})}});E.call(b,I)}}}catch(M){ua.warn("Conviva Eco Sensor:: Error occurred while sending reportDiagnosticError",M)}}function Do(){(null===window||void 0===window?0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",
  function(){Pj()},{signal:jb})}function Pj(){var b,a,c=null===(b=null===Ja||void 0===Ja?void 0:Ja.core)||void 0===b?void 0:b.getConfig();Oc=(null===(a=null===c||void 0===c?void 0:c.clickcc)||void 0===a?void 0:a.cssSelectorList)||Oc;Oc=(null===Oc||void 0===Oc?void 0:Oc.replace(/\s+/g,""))||""}function Eo(b,a){var c;b=b.querySelectorAll(Qj);if(0===b.length)return null;if(1===b.length&&0<b[0].offsetWidth&&0<b[0].offsetHeight)return b[0];var d=a.clientX;a=a.clientY;if(b.length<=("IntersectionObserver"in
  window&&"fetch"in window&&"Promise"in window?J.MAX_NATIVE_SCAN:J.MAX_NATIVE_SCAN_LEGACY))for(var e=0;e<b.length;e++){var f=null===(c=b[e])||void 0===c?void 0:c.getBoundingClientRect();if(f&&d>=f.left&&d<=f.right&&a>=f.top&&a<f.bottom)return b[e]}return null}function Rj(b,a){if(!(b instanceof HTMLElement||b instanceof SVGElement))return null;var c=null===b||void 0===b?void 0:b.closest(Qj);if(c)return c;if(c=null===b||void 0===b?void 0:b.closest(Oc))return Eo(c,a)||c;a=b;c=0;var d=J.CLICK_MAX_DEPTH;
  a:{if(a.style){if(a.style.visibility&&""!==a.style.visibility&&"hidden"==a.style.visibility||a.style.pointerEvents&&""!==a.style.pointerEvents&&"none"==a.style.pointerEvents){var e=!1;break a}if(a.style.cursor&&""!==a.style.cursor&&"pointer"==a.style.cursor){e=!0;break a}}e=getComputedStyle(a);e="hidden"===e.visibility||"none"===e.pointerEvents?!1:"pointer"===e.cursor?!0:!1}if(e){for(;a&&a!==document.documentElement&&(a instanceof HTMLElement||a instanceof SVGElement)&&c<d;){if("function"===typeof a.onclick)return a;
  a=a.parentElement;c++}return b.closest(Fo)||b}return null}function Go(b,a){var c,d;try{if(!Ja||!Ja.core||!b)return null;var e=Ja.core.getConfig();if(!0!==(null===(c=null===e||void 0===e?void 0:e.clickcc)||void 0===c?void 0:c.en))return null;var f=null===(d=null===e||void 0===e?void 0:e.clickcc)||void 0===d?void 0:d.uiMode;return f===we.RAW?b:f===we.BOTH?Rj(b,a)||b:Rj(b,a)}catch(g){return ua.warn("Conviva App Tracker caused Exception in getTrackedElement method of user click tracking module",g),null}}
  function Sj(b){try{var a=Date.now(),c=J.CLICK_DEBOUNCING_DELAY;if(null===bh||a-bh>=c){var d,e,f,g,h,k,l;try{var n,m;if(null===(n=b.target)||void 0===n?0:n.shadowRoot)var p=null===(m=b.composedPath)||void 0===m?void 0:m.call(b);var r=Go(p&&p[0]||b.target,b);if(r&&(r instanceof HTMLElement||r instanceof HTMLInputElement)){b={};var u=J.CLICK_KEY_MAX_LENGTH;if(null===r||void 0===r?0:r.id)b.id=tb(r.id,u);if(null===r||void 0===r?0:r.className)b["class"]=tb(r.className,u);if(null===r||void 0===r?0:r.tagName)b.elementName=
  tb(r.tagName.toLowerCase(),u);if(null===(d=null===r||void 0===r?void 0:r.innerText)||void 0===d?0:d.trim())b.text=tb(r.innerText.trim(),u);if(null===r||void 0===r?0:r.getAttribute("name"))b.name=tb(r.getAttribute("name")||"",u);if(null===r||void 0===r?0:r.getAttribute("type"))b.elementType=tb((null===(e=r.getAttribute("type"))||void 0===e?void 0:e.toLowerCase())||"",u);if(null===r||void 0===r?0:r.placeholder)b.placeholder=tb(r.placeholder,u);(null===r||void 0===r?0:r.getAttribute("type"))&&"password"!==
  (null===r||void 0===r?void 0:r.getAttribute("type"))&&r.value&&(b.value=tb(r.value,u));var q=null===(f=null===Ja||void 0===Ja?void 0:Ja.core)||void 0===f?void 0:f.getConfig(),w=null===(g=null===q||void 0===q?void 0:q.clickcc)||void 0===g?void 0:g.collectattr;if(w)for(d=0;d<w.length;d++){var v=w[d],x=null===r||void 0===r?void 0:r.getAttribute(v);x&&(b[v]=tb(x,u))}try{if("A"===r.tagName.toUpperCase()||"AREA"===r.tagName.toUpperCase()){if(null!=r.href){var C=r.hostname||pf(r.href),F=C.toLowerCase(),
  H=r.href.replace(C,F);/^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):/i.test(H)||(b.targetUrl=tb(decodeURIComponent(H),u))}r.target&&(b.target=tb(r.target,u))}}catch(N){ua.warn("Conviva App Tracker caused Exception in handleClick href setting",N)}var G=null===(h=r.querySelector("use"))||void 0===h?void 0:h.getAttribute("xlink:href");G&&(b["xlink:href"]=tb(G,u));var E=null!==(k=null===q||void 0===q?void 0:q.clickcc)&&void 0!==k?k:{},I=Sb.CUSTOM_EVENT,M=E.collect,ha=E.block;h=null;
  M&&(h=Nj(M,b,I));if(ha&&null===h){var W=Nj(ha,b,I);"boolean"===typeof W&&(h=!W)}var ia=null===h?!0:h;if("boolean"!==typeof ia||!1!==ia)null===(l=null===Ja||void 0===Ja?void 0:Ja.core)||void 0===l?void 0:l.track(td({name:"conviva_click",data:JSON.stringify(b)}))}}catch(N){ua.warn("Conviva App Tracker caused Exception in handleClick method of user click tracking module",N)}0<xf&&eb(Ja.core,Ja.getSamplingMode,{className:"clickTracking - droppedEvent",message:"total click events dropped to Avoid tracking spam from rapid clicks",
  extraData:{clickEventDropped:xf}});xf=0}else xf++;bh=a}catch(N){console.warn("Conviva App Tracker caused Exception in immediateClickHandler method of user click tracking module",N)}}function Ho(){try{xe||"undefined"===typeof document||(document.body?(Pc=Sj,Kb(document.body,"click",Pc,{signal:jb,capture:!0,passive:!0}),xe=!0):document.addEventListener("DOMContentLoaded",function(){if(null===document||void 0===document?0:document.body)Pc=Sj,Kb(document.body,"click",Pc,{signal:jb,capture:!0,passive:!0}),
  xe=!0}),Pj(),Do())}catch(b){ua.warn("Conviva App Tracker caused Exception in enableUserClickTracking method of user click tracking module",b)}}function Tj(){try{xe&&"undefined"!==typeof document&&document.body&&(Pc&&(document.body.removeEventListener("click",Pc),Pc=null),xe=!1)}catch(b){ua.warn("Conviva App Tracker caused Exception in disableUserClickTracking method of user click tracking module",b)}}function yf(b,a,c,d){return(null===c||void 0===c?0:c.enabled)&&(null===c||void 0===c?0:c.attributeExtraction)?
  (b=to(c.attributeExtraction,{requestDetails:b,responseDetails:a}))?(d.setConversationId("string"===typeof b?b:JSON.stringify(b)),!0):!1:!1}function Io(b,a,c,d,e){var f,g,h;void 0===d&&(d={});return ce(this,void 0,void 0,function(){var k,l,n,m,p,r,u,q,w,v,x,C,F,H,G,E;return de(this,function(I){switch(I.label){case 0:k=null!==(f=d.idleMs)&&void 0!==f?f:3E4,l=null!==(g=d.maxEvents)&&void 0!==g?g:1E4,n=null!==(h=d.bufferMaxBytes)&&void 0!==h?h:1E6,m=b.getReader(),p=new TextDecoder("utf-8"),r="",u=0,q=
  void 0,w=function(){void 0!==q&&(clearTimeout(q),q=void 0);q=setTimeout(function(){console.warn("Conviva App Tracker:: stream idle >",k,"ms \u2192 cancelling",a);m.cancel()},k)},w(),I.label=1;case 1:I.trys.push([1,5,6,7]),I.label=2;case 2:return[4,m.read()];case 3:v=I.sent();x=v.value;if(C=v.done)return[3,4];w();r+=p.decode(x,{stream:!0});if((new TextEncoder).encode(r).length>n)return console.warn("Conviva App Tracker:: SSE buffer exceeded",n,"bytes, cancelling stream",a),m.cancel(),[3,4];for(F=void 0;-1!==
  (F=r.search(/\r?\n\r?\n/));)if(H=r.slice(0,F).replace(/\s+$/,""),r=r.slice(F+2),G=Jo(H))if(c(G),++u>=l){console.warn("Conviva App Tracker:: event budget reached \u2192 cancelling",a);m.cancel();break}return[3,2];case 4:return[3,7];case 5:E=I.sent();if(!(E instanceof DOMException&&"AbortError"===E.name))throw E;return[3,7];case 6:return clearTimeout(q),m.releaseLock(),e&&e(),[7];case 7:return[2]}})})}function Jo(b){var a={data:""},c=0;for(b=b.split(/\n+/);c<b.length;c++){var d=b[c];if(d&&!d.startsWith(":")){var e=
  d.indexOf(":"),f=(-1===e?d:d.slice(0,e)).trim();d=-1===e?"":d.slice(e+1).replace(/^\s+/,"");switch(f){case "data":a.data+=(a.data?"\n":"")+d;break;case "event":a.event=d;break;case "id":a.id=d}}}return a.data?a:null}function ch(b,a,c){var d={};c&&(c=(new URL(c)).searchParams,b||(b={}),c.forEach(function(n,m){b[m]=n}));c=0;for(a=a.cond;c<a.length;c++){var e=a[c],f=Nc(b,e.key);if("string"===typeof f)for(var g=0,h=e.val;g<h.length;g++){var k=h[g],l=!1;switch(e.op){case "contains":l=f.toLowerCase().includes(k.toLowerCase());
  break;case "==":case "equals":l=f===k;break;case "startsWith":l=f.startsWith(k);break;case "endsWith":l=f.endsWith(k);break;default:l=f.toLowerCase().includes(k.toLowerCase())}l&&(d[e.type]||(d[e.type]={}),d[e.type][k]=l)}}return d}function Uj(b){for(var a=[b],c=0,d=["\r\n","\n","\x00"];c<d.length;c++){var e=d[c];if(b.includes(e)){a=b.split(e).filter(function(f){return 0<f.trim().length});break}}return a}function Ko(){try{var b=!!window.localStorage}catch(c){b=!0}if(!b)return!1;try{var a=window.localStorage;
  a.setItem("modernizr","modernizr");a.removeItem("modernizr");return!0}catch(c){return!1}}function Lo(b,a,c,d,e,f,g,h,k,l,n,m,p,r,u,q,w,v,x){function C(O){var U=Object.keys(O).map(function(T){return[T,O[T]]}).reduce(function(T,na){T[na[0]]=na[1].toString();return T},{});return{evt:U,bytes:F(JSON.stringify(U))}}function F(O){for(var U=0,T=0;T<O.length;T++){var na=O.charCodeAt(T);127>=na?U+=1:2047>=na?U+=2:55296<=na&&57343>=na?(U+=4,T++):U=65535>na?U+3:U+4}return U}function H(O,U){U=I(U,!0,!1);O=M(ha([O.evt]));
  try{u().toLowerCase()!==dc.NONE&&(O=Vj.gzip(O,{level:6}),U.setRequestHeader("Content-Encoding",dc.GZIP))}catch(T){}x()!==J.SAMPLING_MODES.NONE&&U.send(O)}function G(O){try{if("undefined"!==typeof window&&"undefined"!==typeof window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__&&"function"===typeof window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__.postMessage){var U=M(ha(O));U&&0<U.length&&window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__.postMessage(U)}}catch(T){ua.warn("Error occured while sending message to Visual Labelling Extension",
  T)}}function E(O){for(void 0===O&&(O=!1);A.length&&"string"!==typeof A[0]&&"object"!==S(A[0]);)A.shift();if(1>A.length)y=!1;else{if(!Vg(D))throw"No collector configured";y=!0;window.clearTimeout(P);P=-1;if(Y){var U=function(db){for(var ib=0,ja=0;ib<db.length&&!(ja+=db[ib].bytes,ja>=w());)ib+=1;return ib},T=void 0,na=void 0;if("object"===S(A[0])){T=D;var ra=I(T,!0,O);na=U(A)}else T=W(A[0]),ra=I(T,!1,O),na=1;var Ia=setTimeout(function(){ra.abort();y=!1},l);ra.onreadystatechange=function(){4===ra.readyState&&
  (clearTimeout(Ia),200<=ra.status&&300>ra.status?E():(ua.error("Status ".concat(ra.status,", will not retry.")),y=!1))};if("object"!==S(A[0]))ra.send();else if(U=A.slice(0,na),0<U.length){O=!1;U=U.map(function(db){return db.evt});if(qa){var cb=new Blob([M(ha(U))],{type:"application/json"});try{O=navigator.sendBeacon(T,cb)}catch(db){O=!1}}if(!0===O)E();else{T=M(ha(U));try{u().toLowerCase()!==dc.NONE&&(T=Vj.gzip(T,{level:6}),ra.setRequestHeader("Content-Encoding",dc.GZIP))}catch(db){}try{x()!==J.SAMPLING_MODES.NONE&&
  ra.send(T)}catch(db){}}}(function(db){for(var ib=0;ib<db;ib++)A.shift();c&&qf(ma,JSON.stringify(A.slice(-1*k())))})(na)}else if(n||"object"===S(A[0]))y=!1;else{na=new Image(1,1);var Ma=!0;na.onload=function(){Ma&&(Ma=!1,A.shift(),c&&qf(ma,JSON.stringify(A.slice(-1*k()))),E())};na.onerror=function(){Ma&&(y=Ma=!1)};na.src=W(A[0]);setTimeout(function(){Ma&&y&&(Ma=!1,E())},l)}}}function I(O,U,T){var na=new XMLHttpRequest;U?(na.open("POST",O,!T),na.setRequestHeader("Content-Type","application/json; charset=UTF-8")):
  na.open("GET",O,!T);na.withCredentials=p;n&&na.setRequestHeader("SP-Anonymous","*");for(var ra in m)Object.prototype.hasOwnProperty.call(m,ra)&&na.setRequestHeader(ra,m[ra]);return na}function M(O){return JSON.stringify({sc:"sp/pd/1-0-4",dt:O})}function ha(O){for(var U=(new Date).getTime().toString(),T=0;T<O.length;T++)O[T].stm=U;return O}function W(O){return h?D+O.replace("?","?stm="+(new Date).getTime()+"&"):D+O}function ia(){var O=0;return O=ta?A.reduce(function(U,T){return U+T.bytes},0):A.reduce(function(U,
  T){return U+T.length},0)}function N(O){function U(na,ra,Ia){return(Ia=Ia.match("(Macintosh;.*Mac OS X (\\d+)_(\\d+)[_\\d]*.*) AppleWebKit/"))&&Ia.length?parseInt(Ia[2])<=na||parseInt(Ia[2])===na&&parseInt(Ia[3])<=ra:!1}function T(na){var ra;if(ra=/^(?!.*Chrome)(?!.*Chromium)(?!.*Edg)(?!.*OPR)(?=.*Safari)/.test(na))ra=!/(Chrome|Chromium|Edg|OPR)/.test(na);return ra}return function(na,ra){return(ra=ra.match(/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//))&&ra.length?parseInt(ra[0])<=na:!1}(13,O)||
  U(10,15,O)&&T(O)}(null===window||void 0===window?0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",function(){E()},{signal:jb});var y=!1,D,A=[],P=-1;d="string"===typeof d?d.toLowerCase():d;var K=!0===d||"beacon"===d||"true"===d,qa=!(!(K&&window.navigator&&window.navigator.sendBeacon)||N(window.navigator.userAgent))&&K,Y=!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),ta="get"!==d&&Y&&("post"===d||K),R=ta?e:"/i";d="convivaOutQueue_".concat(b,"_").concat(ta?
  "post2":"get");var ma="convivaOutQueue_".concat(b,"_").concat(ta?"post2":"get");Hj(d);Hj("".concat(d,".expires"));K&&(m={});f=c&&Ko()&&ta&&f||1;if(c)try{var bb=window.localStorage.getItem(ma);A=bb?JSON.parse(bb):[]}catch(O){}Array.isArray(A)||(A=[]);a.outQueues.push(A);Y&&1<f&&a.bufferFlushers.push(function(O){y||E(O)});return{enqueueRequest:function(O,U,T){if(x()!=J.SAMPLING_MODES.NONE){D=U+R;if(ta){O=C(O);G([O.evt]);U=w();if(O.bytes>=U){y||E();ua.warn("Event ("+O.bytes+"B) too big, max is "+U);
  H(O,D);return}A.push(O)}else{var na="?";var ra={co:!0,cx:!0},Ia=!0,cb;for(cb in O)O.hasOwnProperty(cb)&&!ra.hasOwnProperty(cb)&&(Ia?Ia=!1:na+="&",na+=encodeURIComponent(cb)+"="+encodeURIComponent(O[cb]));for(var Ma in ra)O.hasOwnProperty(Ma)&&ra.hasOwnProperty(Ma)&&(na+="&"+Ma+"="+encodeURIComponent(O[Ma]));ra=g();if(0<ra&&(Ia=W(na),Ia=F(Ia),Ia>=ra)){ua.warn("Event ("+Ia+"B) too big, max is "+ra);Y&&(O=C(O),G([O.evt]),H(O,U+e));return}A.push(na)}U=!1;c&&(U=qf(ma,JSON.stringify(A.slice(-1*k()))));
  !y&&-1===P&&U&&(P=window.setTimeout(E,v()+Math.floor(Math.random()*r)));(y?0:!U||!q()||ta&&ia()>w()||A.length>f||T)&&E()}},executeQueue:function(){y||E()},setUseLocalStorage:function(O){c=O},setAnonymousTracking:function(O){n=O},setCollectorUrl:function(O){D=O+R},setBufferSize:function(O){f=O},setCustomHeaders:function(O){m=O}}}function Mo(){(null===window||void 0===window?0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",function(){var b,a,c,d,e,f,g,h=null===(b=null===
  fb||void 0===fb?void 0:fb.core)||void 0===b?void 0:b.getConfig();b=null===(c=null===(a=null===h||void 0===h?void 0:h.collectionRateLimit)||void 0===a?void 0:a.exceptionAutotracking)||void 0===c?void 0:c.maxEvents;a=null===(e=null===(d=null===h||void 0===h?void 0:h.collectionRateLimit)||void 0===d?void 0:d.exceptionAutotracking)||void 0===e?void 0:e.disconnectDuration;d=null===(g=null===(f=null===h||void 0===h?void 0:h.collectionRateLimit)||void 0===f?void 0:f.exceptionAutotracking)||void 0===g?void 0:
  g.timeWindow;null===Tb||void 0===Tb?void 0:Tb.updateErrortRateLimitConfig(b,a,d)},{signal:jb})}function No(){var b,a,c,d,e,f,g;try{var h=null===(b=null===fb||void 0===fb?void 0:fb.core)||void 0===b?void 0:b.getConfig(),k=null===(c=null===(a=null===h||void 0===h?void 0:h.collectionRateLimit)||void 0===a?void 0:a.exceptionAutotracking)||void 0===c?void 0:c.maxEvents,l=null===(e=null===(d=null===h||void 0===h?void 0:h.collectionRateLimit)||void 0===d?void 0:d.exceptionAutotracking)||void 0===e?void 0:
  e.disconnectDuration,n=null===(g=null===(f=null===h||void 0===h?void 0:h.collectionRateLimit)||void 0===f?void 0:f.exceptionAutotracking)||void 0===g?void 0:g.timeWindow;Tb=new Oo(k,l,n,null===fb||void 0===fb?void 0:fb.core,null===fb||void 0===fb?void 0:fb.getSamplingMode)}catch(m){console.warn("Conviva App Tracker caused Exception in initialiseRateLimiter method of error tracking module",m)}}function Wj(b){try{(null===Tb||void 0===Tb?0:Tb.isAllowedToSendEvent())&&dh({message:b.message,filename:b.filename,
  lineno:b.lineno,colno:b.colno,error:b.error})}catch(a){console.warn("Conviva App Tracker caused Exception in captureError method of error tracking module",a)}}function Xj(b){try{(null===Tb||void 0===Tb?0:Tb.isAllowedToSendEvent())&&dh({message:b.reason})}catch(a){console.warn("Conviva App Tracker caused Exception in captureRejection method of error tracking module",a)}}function dh(b){var a,c,d=b.message,e=b.filename,f=b.lineno,g=b.colno,h=b.error,k=b.context;b=b.timestamp;h=h&&h.stack?h.stack:void 0;
  if(!("undefined"===typeof d||null===d&&"undefined"===typeof h||null===h&&"undefined"===typeof f||null===f&&"undefined"===typeof g||null===g&&"undefined"===typeof e||null===e)){var l=null===(a=null===fb||void 0===fb?void 0:fb.core)||void 0===a?void 0:a.getConfig();if(null===l||void 0===l?0:l.exceptionAutotracking)null===(c=null===fb||void 0===fb?void 0:fb.core)||void 0===c?void 0:c.track(Kc({event:{sc:"sp/ae/1-0-1",dt:{programmingLanguage:"JAVASCRIPT",message:d?Yj(d,2048):"JS Exception.",stackTrace:h?
  Yj(h,8192):"",lineNumber:f,lineColumn:g,fileName:e}}}),k,b)}}function Po(b,a){var c;void 0===a&&(a=!0);if(!1!==a){var d=null===(c=null===b||void 0===b?void 0:b.core)||void 0===c?void 0:c.getConfig();null===b||void 0===b?void 0:b.trackPagePing({context:uf(null===d||void 0===d?void 0:d.performanceContextConfig).contexts()});try{var e=function(){null===b||void 0===b?void 0:b.trackCustomEvent({name:"conviva_window_loaded",data:"{}",context:uf(null===d||void 0===d?void 0:d.performanceContextConfig).contexts()});
  null===b||void 0===b?void 0:b.setPageMetaTagsAsCustomTags()},f=0,g=0;"complete"===document.readyState?setTimeout(function(){try{e()}catch(h){console.warn("ConvivaAppTracker : issue while detecting readyState complete",h)}},0):null===window||void 0===window?void 0:window.addEventListener("load",function(){setTimeout(function(){try{e()}catch(h){console.warn("ConvivaAppTracker : issue while registering window loaded event",h)}},0)},{signal:jb});null===document||void 0===document?void 0:document.addEventListener("visibilitychange",
  function(){var h,k;try{if((null===b||void 0===b?void 0:b.getSamplingMode())!==J.SAMPLING_MODES.NONE)if("hidden"===document.visibilityState)setTimeout(function(){var n,m;try{var p=null===(n=null===b||void 0===b?void 0:b.core)||void 0===n?void 0:n.getConfig();g++;if(null===p||void 0===p?0:p.lifecycleAutotracking)if(null===(m=null===b||void 0===b?void 0:b.core)||void 0===m)void 0;else{var r=m.track;var u=Kc({event:{sc:"sp/abg/1-0-0",dt:ud({backgroundIndex:g})}});r.call(m,u)}"hidden"!==document.visibilityState||
  (null===b||void 0===b?0:b.getPageViewSent())||(null===b||void 0===b?void 0:b.trackCustomEvent({name:"conviva_app_backgrnd_before_page_view",data:"{}"}))}catch(q){console.warn("ConvivaAppTracker : issue while tracking visibility change",q)}},0);else{var l=null===(h=null===b||void 0===b?void 0:b.core)||void 0===h?void 0:h.getConfig();f++;if(null===l||void 0===l?0:l.lifecycleAutotracking)null===(k=null===b||void 0===b?void 0:b.core)||void 0===k?void 0:k.track(Kc({event:{sc:"sp/afg/1-0-0",dt:ud({foregroundIndex:f})}}))}}catch(n){console.warn("convivaAppTracker visibilitychange failed "+
  n)}},{signal:jb});"undefined"!=typeof document&&document&&document.addEventListener&&document.addEventListener("convivaVideoEvent",function(h){h&&b&&(null===b||void 0===b?void 0:b.getSamplingMode())!==J.SAMPLING_MODES.NONE&&(null===b||void 0===b?void 0:b.trackVideoEvent(h))},{signal:jb})}catch(h){console.warn("convivaAppTracker error in page load metrics"+h)}}}function Qo(b){var a,c,d,e,f;if(null===b||void 0===b?0:b.softNavigationTrackingConfiguration)b=b.softNavigationTrackingConfiguration,Qc=Z(Z({},
  ec),{idleWindowMs:null!==(a=b.idleWindowMs)&&void 0!==a?a:ec.idleWindowMs,maxMeasurementMs:null!==(c=b.maxMeasurementMs)&&void 0!==c?c:ec.maxMeasurementMs,includeHashChanges:null!==(d=b.includeHashChanges)&&void 0!==d?d:ec.includeHashChanges,domainAllowlist:null!==(e=b.domainAllowlist)&&void 0!==e?e:ec.domainAllowlist,domainBlocklist:null!==(f=b.domainBlocklist)&&void 0!==f?f:ec.domainBlocklist,requireLcp:ec.requireLcp,lcpTimeoutMs:ec.lcpTimeoutMs})}function eh(b){b=new URL(b,location.href);return"".concat(b.origin).concat(b.pathname).concat(b.search).concat(b.hash)}
  function Zj(b){b=b.split("#");var a=b[1];return{originPathSearch:b[0],hash:null!==a&&void 0!==a?a:""}}function Ro(b,a){return new Promise(function(c){var d=function(){var e=performance.now();if(e-b>=Qc.maxMeasurementMs)c(e);else{var f=performance.now()-((null===Ua||void 0===Ua?void 0:Ua.lastLongTaskTs)||0)>=a,g=0===((null===zf||void 0===zf?void 0:zf.getInflightRequests())||0);f&&g?c(e):requestAnimationFrame(d)}};setTimeout(function(){return requestAnimationFrame(d)},50)})}function So(){if(Ua&&!Ua.patched){Ua.patched=
  !0;try{(new PerformanceObserver(function(a){var c=0;for(a=a.getEntries();c<a.length;c++)Ua.lastLongTaskTs=performance.now()})).observe({entryTypes:["longtask"]})}catch(a){}try{var b=new PerformanceObserver(function(a){var c=0;for(a=a.getEntries();c<a.length;c++)Ua.lastLcpTs=a[c].startTime});b.observe({type:"largest-contentful-paint",buffered:!0});null===window||void 0===window?void 0:window.addEventListener("pagehide",function(){try{b.disconnect()}catch(a){}})}catch(a){}}}function ak(b){var a=history[b];
  history[b]=function(c,d,e){c=a.call(this,c,d,e);fh(b,null!==e&&void 0!==e?e:location.href);return c}}function fh(b,a){if(Ua){a=eh(a);if(!Qc.includeHashChanges){var c=Zj(Ua.lastUrlKey),d=Zj(a);if(c.originPathSearch===d.originPathSearch&&c.hash!==d.hash)return}if(a!==Ua.lastUrlKey||"replaceState"===b)Ua.lastUrlKey=a,Ua.currentMeasurement&&(Ua.currentMeasurement=null),To(b,a)}}function To(b,a){return ce(this,void 0,void 0,function(){var c,d,e,f,g;return de(this,function(h){switch(h.label){case 0:if(!Ua||
  !gh)return[2];c=++Ua.navSeq;d=performance.now();Ua.currentMeasurement={id:c,startTime:d,urlKey:a,trigger:b};return[4,Ro(d,Qc.idleWindowMs)];case 1:e=h.sent();if(!Ua.currentMeasurement||Ua.currentMeasurement.id!==c)return[2];f=Math.round((e-d)/1E3*100)/100;g={load_time:f,page_url:a,trigger:b,navigation_id:c,start_time:Math.round(d/1E3*100)/100,end_time:Math.round(e/1E3*100)/100};try{gh.trackCustomEvent({name:"conviva_soft_navigation",data:g})}catch(k){}Ua.currentMeasurement=null;return[2]}})})}function Uo(b){var a,
  c,d;try{var e=null===(a=null===b||void 0===b?void 0:b.core)||void 0===a?void 0:a.getConfig();Qo(e);if((null!==(d=null===(c=null===e||void 0===e?void 0:e.softNavigationTrackingConfiguration)||void 0===c?void 0:c.enabled)&&void 0!==d?d:Aa.softNavigationTrackingConfiguration.enabled)&&(null===b||void 0===b?void 0:b.getSamplingMode())!==J.SAMPLING_MODES.NONE){var f=location.hostname;Qc.domainAllowlist.length&&!Qc.domainAllowlist.some(function(g){return f.endsWith(g)})||Qc.domainBlocklist.some(function(g){return f.endsWith(g)})||
  (Ua={lastLongTaskTs:0,lastLcpTs:0,currentMeasurement:null,navSeq:0,patched:!1,lastUrlKey:eh(location.href)},gh=b,zf=bk.getInstance(b.trackNetworkRequest,b.trackerConfiguration,b.getSamplingMode),So(),ak("pushState"),ak("replaceState"),addEventListener("popstate",function(){return fh("popstate",location.href)},{signal:jb}),addEventListener("hashchange",function(){return fh("hashchange",location.href)},{signal:jb}),document.addEventListener("DOMContentLoaded",function(){Ua&&(Ua.lastUrlKey=eh(location.href))},
  {signal:jb}))}}catch(g){}}function ck(){var b=localStorage.getItem("Conviva.sdkConfig"),a={};if(b)try{a=JSON.parse(b)}catch(c){}return a}function dk(){var b=null;try{if(window.localStorage){var a=localStorage.getItem(J.REMOTE_CONFIG_STORAGE_KEY);a&&(b=JSON.parse(a).sessionReplayConfiguration)}}catch(c){}return b}function ek(b,a){if(b===a||Number.isNaN(b)&&Number.isNaN(a))return!0;if("object"!==S(b)||null===b||"object"!==S(a)||null===a)return!1;if(b instanceof Date&&a instanceof Date)return b.getTime()===
  a.getTime();var c=Object.keys(b),d=Object.keys(a);return c.length!==d.length?!1:c.every(function(e){return d.includes(e)&&ek(b[e],a[e])})}function Vo(b,a){Af=b;hh=a;if(ye="true"===(null===localStorage||void 0===localStorage?void 0:localStorage.getItem(J.SESSION_RECORDING_STARTED)))b=dk(),fc=new fk(Af,hh,b),fc.initiateRecording();Wo()}function Wo(){(null===window||void 0===window?0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",function(){try{if(Af.getSamplingMode()===
  J.SAMPLING_MODES.RCFG){var b=dk();if(null===ih||!ek(ih,b)){ih=b;if(b){var a=!1,c=!1;try{if(a=b.enabled)try{var d=ck(),e=b.sampling.pct;c=0===e?!1:100===e?!0:Xo.shouldInclude(e,d.clId)}catch(g){}}catch(g){}var f=a&&c}else f=!1;b&&f?(fc&&gk(!1),ye||(ye=!0,null===localStorage||void 0===localStorage?void 0:localStorage.setItem(J.SESSION_RECORDING_STARTED,"true"),fc=new fk(Af,hh,b),fc.initiateRecording())):ye&&(null===localStorage||void 0===localStorage?void 0:localStorage.setItem(J.SESSION_RECORDING_STARTED,
  "false"),gk(!0))}}}catch(g){}},{signal:jb})}function gk(b){null===fc||void 0===fc?void 0:fc.stopRecording(b);ye=!1;fc=null}function Yo(b,a,c,d,e){void 0===e&&(e={});var f=[];b=function(h,k,l,n,m){function p(){Rc=Lj(window.location.hostname,window.location.href,Xg());Rc[1]!==gc&&(ze=Xg(gc));hk=Fj(Rc[0]);gc=Rc[1]}function r(t){try{var z=(new Date).getTime(),B=t.currentTarget;if(null===B||void 0===B?0:B.href){t="_cnv="+(Bf+"."+z);var L=B.href.split("#"),V=L[0].split("?"),fa=V.shift(),ea=V.join("?");
  if(ea){V=!0;var X=ea.split("&");for(z=0;z<X.length;z++)if("_cnv="===X[z].substr(0,5)){V=!1;X[z]=t;ea=X.join("&");break}V&&(ea=t+"&"+ea)}else ea=t;L[0]=fa+"?"+ea;var ba=L.join("#");B.href=ba}}catch(wa){console.warn("Conviva App Tracker:: Error in linkDecorationHandler of decorateLinks ".concat(wa))}}function u(t){if("undefined"!=typeof document&&document.links&&0<document.links.length)for(var z=0;z<document.links.length;z++){var B=document.links[z];!B.spDecorationEnabled&&t(B)&&(Kb(B,"click",r,!0),
  Kb(B,"mousedown",r,!0),B.spDecorationEnabled=!0)}}function q(t){if(ik){var z=/#.*/;t=t.replace(z,"")}jk&&(z=/[{}]/g,t=t.replace(z,""));return t}function w(t){return(t=/^([a-z]+):/.exec(t))?t[1]:null}function v(t){var z,B,L,V=null!==(L=null===(B=null===(z=hc.getConfig().emitterConfiguration)||void 0===z?void 0:z.batching)||void 0===B?void 0:B.urgentEvents)&&void 0!==L?L:[],fa=z="",ea="",X="";B=t.getPayload();"string"===typeof B.e&&(X=B.e);if("ue"!==X&&"pv"!==X&&"pp"!==X)return!1;t=t.getJson().find(function(ba){return"ue_pr"===
  ba.keyIfNotEncoded||"ue_px"===ba.keyIfEncoded});"undefined"!==typeof t&&(t=t.json,"object"===S(t.dt)&&null!==t.dt&&(t=t.dt,"string"===typeof t.sc&&(z=t.sc),"object"===S(t.dt)&&"string"===typeof t.dt.name&&(fa=t.dt.name)),ea=z.split("/")[1]||"");return V.some(function(ba){ba=ba.toLowerCase();return""===ba?!1:ba===X.toLowerCase()||ba===ea.toLowerCase()||ba===fa.toLowerCase()})}function x(t){t=Id+t+"."+Sc;if("localStorage"==nb){try{var z=window.localStorage,B=z.getItem(t+".expires");if(null===B||+B>
  Date.now())var L=z.getItem(t);else z.removeItem(t),z.removeItem(t+".expires"),L=void 0}catch(V){L=void 0}return L}if("cookie"==nb||"cookieAndLocalStorage"==nb)return cc(t)}function C(){p();Sc=Zo((Ae||hk)+(jh||"/")).slice(0,4)}function F(){kh=(new Date).getTime()}function H(){var t=G(),z=t[0];z<Cf?Cf=z:z>Df&&(Df=z);t=t[1];t<Ef?Ef=t:t>Ff&&(Ff=t);F()}function G(){var t="undefined"!=typeof document?null===document||void 0===document?void 0:document.documentElement:void 0;return t?[t.scrollLeft||window.pageXOffset,
  t.scrollTop||window.pageYOffset]:[0,0]}function E(){var t=G(),z=t[0];Df=Cf=z;Ff=Ef=t=t[1]}function I(){ha(Id+"ses."+Sc,"*",kk)}function M(t){var z=Id+"id."+Sc;t.shift();t=t.join(".");ha(z,t,lk)}function ha(t,z,B){if(!Be||Gf)"localStorage"==nb?qf(t,z,B):("cookie"==nb||"cookieAndLocalStorage"==nb)&&cc(t,z,B,jh,Ae,Hf,If)}function W(t){var z=Id+"id."+Sc,B=Id+"ses."+Sc;Gj(z);Gj(B);Fd(z,Ae,Hf,If);Fd(B,Ae,Hf,If);null!==t&&void 0!==t&&t.preserveSession||(Tc=nc.v4(),Ub=1);null!==t&&void 0!==t&&t.preserveUser||
  (Bf=nc.v4(),Uc=null)}function ia(t){t&&t.stateStorageStrategy&&(m.stateStorageStrategy=t.stateStorageStrategy,nb=Jd(m));Be=!!m.anonymousTracking;Gf=mk(m);lh=nk(m);ic.setUseLocalStorage("localStorage"==nb||"cookieAndLocalStorage"==nb);ic.setAnonymousTracking(lh)}function N(){var t;try{var z=null;if(null===(t=null===m||void 0===m?void 0:m.configs)||void 0===t?0:t.enableClIdInCookies){b:{t="Conviva_sdkConfig";try{var B=cc(t);if(B&&0<B.length){try{if("string"===typeof B&&0!==B.length&&/%[0-9A-Fa-f]{2}/.test(B)){var L=
  decodeURIComponent(B);var V=!/%[0-9A-Fa-f]{2}/.test(L)}else V=!1}catch(Ba){V=!1}if(V)Fd(t,K(),"None",!0);else{var fa=B;break b}}fa=window.localStorage.getItem(t)}catch(Ba){ua.warn("getConvivaCookie",Ba),fa=null}}fa&&(z=fa)}else try{Fd("Conviva_sdkConfig",K(),"None",!0)}catch(Ba){}z||(z=window.localStorage.getItem("Conviva.sdkConfig"));var ea=JSON.parse(z||"{}");"{}"===ea||"undefined"===typeof ea?Ce=qa():(Ce=ea.clId||qa(),2147483648<=Jf?Jf=-1:Jf++);try{Kf=Math.floor(2147483647*Math.random())}catch(Ba){console.warn(Ba),
  Kf=-1}var X=Z(Z({},ea),{clId:Ce,iid:Kf});b:{var ba;try{z=null;try{z=JSON.stringify(X)}catch(Ba){break b}window.localStorage.setItem("Conviva.sdkConfig",z);if(null===(ba=null===m||void 0===m?void 0:m.configs)||void 0===ba?0:ba.enableClIdInCookies){X=z;try{var wa=K();cc("Conviva_sdkConfig",X,void 0,"/",wa,"None",!0)}catch(Ba){ua.warn("setConvivaCookie",Ba)}}}catch(Ba){}}}catch(Ba){ua.warn("getEventIndexByClid",Ba)}if(!Be||Gf)wa="none"!=nb&&!!x("ses"),X=y(),X[1]?ba=X[1]:(ba=Be?"":nc.v4(),X[1]=ba),Bf=
  ba,Tc=wa?X[6]:ve(X),Ub=X[3],"none"!=nb&&(I(),$g(X),M(X))}function y(){if("none"==nb)return["1","",0,0,0,void 0,"","","",void 0];var t=x("id")||void 0;return wo(t,Bf,Tc,Ub)}function D(t,z){var B,L,V,fa,ea=!0,X=hc.getConfig();"undefined"!==typeof X.mend?ea=X.mend:"undefined"!==typeof(null===(L=null===(B=null===m||void 0===m?void 0:m.configs)||void 0===B?void 0:B.network)||void 0===L?void 0:L.mergeEndpoint)&&(ea=null===(fa=null===(V=null===m||void 0===m?void 0:m.configs)||void 0===V?void 0:V.network)||
  void 0===fa?void 0:fa.mergeEndpoint);return 0===t.indexOf("http")?(z&&ea&&(t=t.replace(/^(https?:\/\/)(.*)$/,"$1"+z+".$2")),t):z&&ea?("https:"===document.location.protocol?"https":"http")+"://"+z+"."+t:("https:"===document.location.protocol?"https":"http")+"://"+t}function A(){ok&&null!=n.pageViewId||(n.pageViewId=nc.v4())}function P(){null==n.pageViewId&&(n.pageViewId=nc.v4());return n.pageViewId}function K(){var t=window.location.hostname,z=t.split(".");return 2<=z.length?"."+z.slice(-2).join("."):
  t}function qa(){try{return ta({"First Launch":"Yes"}),Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()}catch(t){console.warn(t)}}function Y(t){try{var z=JSON.parse(t);return"object"===S(z)}catch(B){return!1}}function ta(t){try{var z=Object.keys(t);Y(JSON.stringify(t))?z.forEach(function(B){if(""!==B.trim()){var L=t[B];L&&""!==L&&(L="object"===S(L)?
  JSON.stringify(L):""+L,Object.defineProperty(De,B,{value:L,writable:!0,enumerable:!0,configurable:!0}))}}):console.warn("Conviva AppTracker:: Invalid JSON Format")}catch(B){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",B)}}function R(t){try{t.forEach(function(z){delete De[z]})}catch(z){console.warn("Conviva AppTracker:: Failed to unset Custom tag(s). Check format of keys set.")}}function ma(t){try{var z=Object.keys(t);Y(JSON.stringify(t))?z.forEach(function(B){""!==B&&Object.defineProperty(mh,
  B,{value:""+t[B],writable:!0,enumerable:!0,configurable:!0})}):console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=")}catch(B){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",B)}}function bb(t){try{var z=Object.keys(t);Y(JSON.stringify(t))?z.forEach(function(B){if(""!==B.trim()){var L=t[B];L&&""!==L&&("object"!==S(L)&&(L=""+L),Object.defineProperty(De,B,{value:L,writable:!0,enumerable:!0,configurable:!0}))}}):console.warn("Conviva AppTracker:: Invalid JSON Format")}catch(B){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",
  B)}}function O(t){var z=t.context;t=t.contextCallback;var B=new Date,L=!1;if(wb.enabled&&!wb.installed){L=wb.installed=!0;var V={update:function(){if("undefined"!==typeof window&&"function"===typeof window.addEventListener){var ea=!1,X=Object.defineProperty({},"passive",{get:function(){ea=!0},set:function(){}}),ba=function(){};window.addEventListener("testPassiveEventSupport",ba,X);window.removeEventListener("testPassiveEventSupport",ba,X);V.hasSupport=ea}}};V.update();var fa="onwheel"in document.createElement("div")?
  "wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(V,"hasSupport")?Kb(document,fa,F,{passive:!0}):Kb(document,fa,F);E();fa=function(ea,X){void 0===X&&(X=F);return function(ba){return Kb(document,ba,X)}};"click mouseup mousedown mousemove keypress keydown keyup".split(" ").forEach(fa(document));["resize","focus","blur"].forEach(fa(window));fa(window,H)("scroll")}if(wb.enabled&&($o||L))for(B in kh=B.getTime(),B=void 0,wb.configurations)if(L=wb.configurations[B])window.clearInterval(L.activityInterval),
  T(L,z,t)}function U(){var t,z,B,L,V,fa,ea,X,ba,wa,Ba,Lb,Vb,zb,Vc,Ee,Va,Kd,Fe,Ge,jc,nh,oh,ph,qh,rh,sh,th,uh,vh,wh,xh;try{var Ea=null===(t=null===g||void 0===g?void 0:g.core)||void 0===t?void 0:t.getConfig();t=void 0;mh={};var Lf=Ld.MERGE;"undefined"!==typeof(null===(B=null===(z=null===m||void 0===m?void 0:m.configs)||void 0===z?void 0:z.metaTagsTracking)||void 0===B?void 0:B.preference)?Lf=null===(V=null===(L=null===m||void 0===m?void 0:m.configs)||void 0===L?void 0:L.metaTagsTracking)||void 0===V?
  void 0:V.preference:!0===(null===(ea=null===(fa=null===m||void 0===m?void 0:m.configs)||void 0===fa?void 0:fa.metaTagsTracking)||void 0===ea?void 0:ea.force)?Lf=Ld.APP:"undefined"!==typeof(null===(X=null===Ea||void 0===Ea?void 0:Ea.metaTagsTrackingConfiguration)||void 0===X?void 0:X.pref)&&(Lf=null===(ba=null===Ea||void 0===Ea?void 0:Ea.metaTagsTrackingConfiguration)||void 0===ba?void 0:ba.pref);switch(Lf){case Ld.APP:if(!1===(null===(Ba=null===(wa=null===m||void 0===m?void 0:m.configs)||void 0===
  wa?void 0:wa.metaTagsTracking)||void 0===Ba?void 0:Ba.enabled))return;0<(null===(zb=null===(Vb=null===(Lb=null===m||void 0===m?void 0:m.configs)||void 0===Lb?void 0:Lb.metaTagsTracking)||void 0===Vb?void 0:Vb.tags)||void 0===zb?void 0:zb.length)&&(t=gb([],null===(Ee=null===(Vc=null===m||void 0===m?void 0:m.configs)||void 0===Vc?void 0:Vc.metaTagsTracking)||void 0===Ee?void 0:Ee.tags,!0));break;case Ld.REMOTE:if(!1===(null===(Va=null===Ea||void 0===Ea?void 0:Ea.metaTagsTrackingConfiguration)||void 0===
  Va?void 0:Va.enabled))return;"undefined"!=typeof(null===Ea||void 0===Ea?void 0:Ea.metaTagsTrackingConfiguration)&&0<(null===(Fe=null===(Kd=null===Ea||void 0===Ea?void 0:Ea.metaTagsTrackingConfiguration)||void 0===Kd?void 0:Kd.tags)||void 0===Fe?void 0:Fe.length)&&(t=gb([],null===(Ge=null===Ea||void 0===Ea?void 0:Ea.metaTagsTrackingConfiguration)||void 0===Ge?void 0:Ge.tags,!0));break;default:if("undefined"==typeof(null===Ea||void 0===Ea?void 0:Ea.metaTagsTrackingConfiguration)&&!1===(null===(nh=null===
  (jc=null===m||void 0===m?void 0:m.configs)||void 0===jc?void 0:jc.metaTagsTracking)||void 0===nh?void 0:nh.enabled)||"undefined"==typeof(null===(oh=null===m||void 0===m?void 0:m.configs)||void 0===oh?void 0:oh.metaTagsTracking)&&!1===(null===(ph=null===Ea||void 0===Ea?void 0:Ea.metaTagsTrackingConfiguration)||void 0===ph?void 0:ph.enabled))return;var pk=null===(rh=null===(qh=null===m||void 0===m?void 0:m.configs)||void 0===qh?void 0:qh.metaTagsTracking)||void 0===rh?void 0:rh.tags,qk=null===(sh=null===
  Ea||void 0===Ea?void 0:Ea.metaTagsTrackingConfiguration)||void 0===sh?void 0:sh.tags;!1===(null===(uh=null===(th=null===m||void 0===m?void 0:m.configs)||void 0===th?void 0:th.metaTagsTracking)||void 0===uh?void 0:uh.enabled)&&(pk=[]);!1===(null===(vh=null===Ea||void 0===Ea?void 0:Ea.metaTagsTrackingConfiguration)||void 0===vh?void 0:vh.enabled)&&(qk=[]);t=gb([],qo(pk||[],qk||[]),!0)}if("undefined"!=typeof t&&0<(null===t||void 0===t?void 0:t.length)){z={};var Wc=null===document||void 0===document?
  void 0:document.head,Md=null===Wc||void 0===Wc?void 0:Wc.getElementsByTagName("meta");if("undefined"!=typeof Md&&0<(null===Md||void 0===Md?void 0:Md.length))for(Wc=0;Wc<Md.length;Wc++){var rk=Md[Wc];for(B=0;B<t.length;B++){var Mf=rk.getAttribute(t[B].key),sk=rk.getAttribute(t[B].value);L=void 0;if(null===(wh=t[B])||void 0===wh?0:wh.condition)L=null===(xh=t[B])||void 0===xh?void 0:xh.condition;Mf&&(L&&L.includes(Mf)?z[Mf]=sk:L&&0!==L.length||(z[Mf]=sk))}}g.setMetaCustomTags(z)}}catch(ap){console.warn("Conviva App Tracker:: setPageMetaTagsAsCustomTags",
  ap)}}function T(t,z,B){var L=function(fa,ea){var X;p();var ba=null===(X=null===g||void 0===g?void 0:g.core)||void 0===X?void 0:X.getConfig();ba.enablePeriodicHeartbeat?(void 0!=ba.periodicHeartbeatInterval&&(X=1E3*ba.periodicHeartbeatInterval,X!=t.configHeartBeatTimer&&(t.configHeartBeatTimer=X,window.clearInterval(t.activityInterval),t.activityInterval=window.setInterval(V,X))),fa({context:ea,pageViewId:P(),minXOffset:Cf,minYOffset:Ef,maxXOffset:Df,maxYOffset:Ff})):window.clearInterval(t.activityInterval);
  E()};window.setTimeout(function(){L(t.callback,(z||[]).concat(B?B():[]))},2E3);var V=function(){var fa=new Date;(!1===(null===document||void 0===document?void 0:document.hidden)||"visible"==(null===document||void 0===document?void 0:document.visibilityState)||(null===document||void 0===document?0:document.pictureInPictureElement)||kh+t.configHeartBeatTimer>fa.getTime()||!0===tk)&&L(t.callback,(z||[]).concat(B?B():[]))};t.activityInterval=window.setInterval(V,t.configHeartBeatTimer)}function na(t){var z=
  t.minimumVisitLength,B=t.heartbeatDelay;t=t.callback;if(te(z)&&te(B))return{configMinimumVisitLength:1E3*z,configHeartBeatTimer:1E3*B,callback:t};ua.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function ra(t){var z=t.context,B=t.minXOffset,L=t.minYOffset,V=t.maxXOffset,fa=t.maxYOffset;t=document.title;t!==vc&&(vc=t,Nd=void 0);if(Xc()!==J.SAMPLING_MODES.NONE){Ia();t=hc;var ea=t.track,X=q(Yc||gc),ba=Wg(Nd||vc),wa=q(Nf||ze);B=Math.round(B);V=Math.round(V);L=Math.round(L);
  fa=Math.round(fa);var Ba=tg();Ba.add("e","pp");Ba.add("url",X);Ba.add("page",ba);Ba.add("refr",wa);B&&!isNaN(Number(B))&&Ba.add("pp_mix",B.toString());V&&!isNaN(Number(V))&&Ba.add("pp_max",V.toString());L&&!isNaN(Number(L))&&Ba.add("pp_miy",L.toString());fa&&!isNaN(Number(fa))&&Ba.add("pp_may",fa.toString());ea.call(t,Ba,z)}}function Ia(){var t,z,B=null===(z=null===g||void 0===g?void 0:g.core)||void 0===z?void 0:z.getConfig().pageUrlTrackingConfig;z=De[J.PAGE_URL_QUERY_PARAMS];if(B){var L={targetUrl:q(Yc||
  gc),rqq:{}};L=Ij(L,null===B||void 0===B?void 0:B.collectattr,null,null===B||void 0===B?void 0:B.maxQueryLength);if(!z&&L.rqq||z!==JSON.stringify(L.rqq))R([J.PAGE_URL_QUERY_PARAMS]),bb((t={},t[J.PAGE_URL_QUERY_PARAMS]=L.rqq,t))}else z&&R([J.PAGE_URL_QUERY_PARAMS])}var cb,Ma,db,ib,ja,La,da,ab,bc,Zc,$c,ad,bd,cd,dd,ed;if(window&&window.localStorage){var He=window.localStorage,kc={sensorVersion:l,ck:null!==(cb=m.convivaCustomerKey)&&void 0!==cb?cb:""};kc=JSON.stringify(kc);kc="function"===typeof btoa?
  btoa(kc):ym(kc);He.setItem(J.VISUAL_LABELLING_CONFIG,kc)}var fd=Wb,gd=jb;fd&&gd||("function"===typeof AbortController&&(Wb=new AbortController),jb=null===Wb||void 0===Wb?void 0:Wb.signal);k||(k="CAT");var sa=bp(l,k,m).convivaRemoteTrackerConfig;null===(Ma=uf(sa.performanceContextConfig))||void 0===Ma?void 0:Ma.activateLCPObserver();m.eventMethod=null!==(db=m.eventMethod)&&void 0!==db?db:"post";var Jd=function(t){var z;return null!==(z=t.stateStorageStrategy)&&void 0!==z?z:"cookieAndLocalStorage"},
  mk=function(t){var z,B;return"boolean"===typeof t.anonymousTracking?!1:null!==(B=!0===(null===(z=t.anonymousTracking)||void 0===z?void 0:z.withSessionTracking))&&void 0!==B?B:!1},nk=function(t){var z,B;return"boolean"===typeof t.anonymousTracking?!1:null!==(B=!0===(null===(z=t.anonymousTracking)||void 0===z?void 0:z.withServerAnonymisation))&&void 0!==B?B:!1};f.push(function(){return{beforeTrack:function(t){var z=x("ses"),B=y();yh=zh?!!cc(zh):!1;uk||yh?W():("0"===B[0]?(Tc=z||"none"==nb?B[6]:ve(B),
  Ub=B[3]):(new Date).getTime()-Ah>1E3*kk&&(Ub++,Tc=ve(B,Ub)),$g(B),t.add("uid",Be?null:Uc),p(),t.add("refr",q(Nf||ze)),document&&(vc=document.title,z=Wg(Nd||vc),t.add("page",z)),t.add("url",q(Yc||gc)),"none"!=nb&&(M(B),I()),Ah=(new Date).getTime())}}}());f.push(function(){return{contexts:function(){return[{sc:"cv/clid/1-0-2",dt:{clid:Ce,iid:Kf.toString(),ck:cp,eventIndex:Jf++}}]}}}());f.push(function(){return{contexts:function(){return[{sc:"cv/ct/1-0-0",dt:{data:Z(Z({},De),mh)}}]}}}());f.push(function(){return{contexts:function(){var t,
  z=null===(t=null===g||void 0===g?void 0:g.core)||void 0===t?void 0:t.getConfig();return!0===(null===z||void 0===z?void 0:z.applicationContext)?[{sc:"spm/app/1-0-0",dt:{build:vk,version:vk}}]:[]}}}());f.push(function(){return{contexts:function(){var t={sch:"sdk.js.eco.1"};t.cat=Bh.DeviceCategory.WEB;try{var z=null===m||void 0===m?void 0:m.deviceMetadata;if(z){var B=z.DeviceBrand,L=z.DeviceCategory,V=z.DeviceManufacturer,fa=z.DeviceModel,ea=z.DeviceType,X=z.DeviceVersion,ba=z.OperatingSystemName,wa=
  z.OperatingSystemVersion,Ba=z.FrameworkName,Lb=z.FrameworkVersion;"string"===typeof L&&Object.values(Bh.DeviceCategory).includes(L)?t.cat=L:t.cat="INVALID"+(L?": ".concat(L):"");"string"===typeof B&&""!=B&&(t.dvb=B);"string"===typeof V&&""!=V&&(t.dvma=V);"string"===typeof fa&&""!=fa&&(t.dvm=fa);ea&&Object.values(Bh.DeviceType).includes(ea)&&(t.dvt=ea);"string"===typeof X&&""!=X&&(t.dvv=X);"string"===typeof ba&&""!=ba&&(t.os=ba);"string"===typeof wa&&""!=wa&&(t.osv=wa);"string"===typeof Ba&&""!=Ba&&
  (t.fw=Ba);"string"===typeof Lb&&""!=Lb&&(t.fwv=Lb)}}catch(Vb){ua.warn("error in setting platform metadata context",Vb)}return null!=t&&0<Object.keys(t).length?[{sc:"iglu:com.conviva/pm/jsonschema/1-0-2",dt:t}]:[]}}}());try{(null!==(ib=null===m||void 0===m?void 0:m.plugins)&&void 0!==ib?ib:[]).forEach(function(t){t.contexts||f.push(t)})}catch(t){console.warn("ConvivaAppTracker : issue while processing customer passed pligins",t)}var Xc=function(){var t;try{var z=null===(t=null===g||void 0===g?void 0:
  g.core)||void 0===t?void 0:t.getConfig();return z?void 0===z.catRcLastUpdatedTs||0===z.catRcLastUpdatedTs?J.SAMPLING_MODES.RCFG:z.controlIngestConfig?ro(null===z||void 0===z?void 0:z.controlIngestConfig):J.SAMPLING_MODES.RCFG:J.SAMPLING_MODES.RCFG}catch(B){return ua.error("Error while getting sampling mode"),J.SAMPLING_MODES.RCFG}},Of=function(t){if("object"===S(t)&&null!==t)return t;if("string"===typeof t)try{var z=JSON.parse(t);return z&&"object"===S(z)&&0===Object.keys(z).length?void 0:z}catch(B){}};
  var hc=Pa=Jm({base64:null===sa||void 0===sa?void 0:sa.base64,corePlugins:f,callback:function(t){uk||yh||ic.enqueueRequest(t.build(),Ch,v(t))},exceptionAutotracking:sa.exceptionAutotracking,enablePeriodicHeartbeat:sa.enablePeriodicHeartbeat,periodicHeartbeatInterval:sa.periodicHeartbeatInterval,enc:sa.enc,mend:sa.mend,maxLocalStorageQueueSize:sa.maxLocalStorageQueueSize,maxGetBytes:sa.maxGetBytes,bufferSize:sa.bufferSize,customEventTrackingConfiguration:sa.customEventTrackingConfiguration,softNavigationTrackingConfiguration:sa.softNavigationTrackingConfiguration,
  networkRequestTrackingConfiguration:sa.networkRequestTrackingConfiguration,metaTagsTrackingConfiguration:sa.metaTagsTrackingConfiguration,traceparentconfig:sa.traceparentconfig,baggageConfiguration:sa.baggageConfiguration,performanceContextConfig:sa.performanceContextConfig,lifecycleAutotracking:sa.lifecycleAutotracking,configurationVersion:sa.configurationVersion,catRcLastUpdatedTs:sa.catRcLastUpdatedTs,cacheRefreshInterval:sa.cacheRefreshInterval,endpoint:sa.endpoint,controlIngestConfig:sa.controlIngestConfig,
  applicationContext:sa.applicationContext,emitterConfiguration:sa.emitterConfiguration,di:sa.di,clickcc:sa.clickcc,collectionRateLimit:sa.collectionRateLimit,pageUrlTrackingConfig:sa.pageUrlTrackingConfig,sessionReplayConfiguration:sa.sessionReplayConfiguration,evtStreamTrackingConfiguration:sa.evtStreamTrackingConfiguration});var Rc=Lj(window.location.hostname,window.location.href,Xg()),hk=Fj(Rc[0]),gc=Rc[1],ze=Rc[2],Nf,dp=null!==(ja=m.platform)&&void 0!==ja?ja:"web",Ch=D(sa.endpoint,m.convivaCustomerKey),
  ep=null!==(La=m.postPath)&&void 0!==La?La:"/ctp",fp=null!==(da=m.appId)&&void 0!==da?da:"",cp=null!==(ab=m.convivaCustomerKey)&&void 0!==ab?ab:"",vk=null!==(bc=m.appVersion)&&void 0!==bc?bc:"",Yc,De={},mh={},vc="undefined"!==typeof document?document.title:void 0,Nd,$o=null!==(Zc=m.resetActivityTrackingOnPageView)&&void 0!==Zc?Zc:!0,ik,jk,Id=null!==($c=m.cookieName)&&void 0!==$c?$c:"_cnv_",Ae=null!==(ad=m.cookieDomain)&&void 0!==ad?ad:void 0,jh="/",Hf=null!==(bd=m.cookieSameSite)&&void 0!==bd?bd:"None",
  If=null!==(cd=m.cookieSecure)&&void 0!==cd?cd:!0,wk=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,uk="undefined"!==typeof m.respectDoNotTrack?m.respectDoNotTrack&&("yes"===wk||"1"===wk):!1,zh,lk=null!==(dd=m.cookieLifetime)&&void 0!==dd?dd:63072E3,kk=null!==(ed=m.sessionCookieTimeout)&&void 0!==ed?ed:1800,Gf=mk(m),lh=nk(m),Be=!!m.anonymousTracking,nb=Jd(m),Ce,Kf,Jf=-1,kh,Ah=(new Date).getTime(),Cf,Df,Ef,Ff,Sc,Bf,Tc,Ub=1,Uc,ic=gp(h,n,nb,m,ep,lh,5E3,Xc),ok=!1,Dh=!1,wb={enabled:!0,
  installed:!1,configurations:{pagePing:{configMinimumVisitLength:5E3,configHeartBeatTimer:1E3*sa.periodicHeartbeatInterval,callback:ra}}},tk=!1,yh;m.hasOwnProperty("discoverRootDomain")&&m.discoverRootDomain&&(Ae=po(Hf,If));hc.setTrackerVersion(l);hc.setAppId(fp);hc.setPlatform(dp);C();N();ic.setCustomHeaders({"x-client-id":""+Ce});m.crossDomainLinker&&u(m.crossDomainLinker);var Eh={getDomainSessionIndex:function(){return Ub},getPageViewId:function(){return P()},newSession:function(){var t=y();"0"===
  t[0]?(Tc="none"!=nb?ve(t):t[6],Ub=t[3],I()):(Ub++,Tc=ve(t,Ub));$g(t);"none"!=nb&&(M(t),I());Ah=(new Date).getTime()},getCookieName:function(t){return Id+t+"."+Sc},getUserId:function(){return Uc},getDomainUserId:function(){var t=y();return t&&1<t.length?t[1]:null},getDomainUserInfo:function(){return y()},setReferrerUrl:function(t){Nf=t},setCustomUrl:function(t){p();var z=gc,B;w(t)?Yc=t:"/"===t.slice(0,1)?Yc=w(z)+"://"+pf(z)+t:(z=q(z),0<=(B=z.indexOf("?"))&&(z=z.slice(0,B)),(B=z.lastIndexOf("/"))!==
  z.length-1&&(z=z.slice(0,B+1)),Yc=z+t)},setDocumentTitle:function(t){vc=document.title;Nd=t},discardHashTag:function(t){ik=t},discardBrace:function(t){jk=t},setCookiePath:function(t){jh=t;C()},setVisitorCookieTimeout:function(t){lk=t},crossDomainLinker:function(t){u(t)},enableActivityTracking:function(t){wb.configurations.pagePing||(wb.enabled=!0,wb.configurations.pagePing=na(Z(Z({},t),{callback:ra})))},enableActivityTrackingCallback:function(t){wb.configurations.callback||(wb.enabled=!0,wb.configurations.callback=
  na(t))},updatePageActivity:function(){F()},setOptOutCookie:function(t){zh=t},setUserId:function(t){Uc=t},setConversationId:function(t){hc.setConversationId(t)},setUserIdFromLocation:function(t){p();Uc=ue(t,gc)},setUserIdFromReferrer:function(t){p();Uc=ue(t,ze)},setUserIdFromCookie:function(t){Uc=cc(t)},setCollectorUrl:function(t,z){Ch=D(t,z);ic.setCollectorUrl(Ch)},setBufferSize:function(t){ic.setBufferSize(t)},flushBuffer:function(t){void 0===t&&(t={});ic.executeQueue();t.newBufferSize&&ic.setBufferSize(t.newBufferSize)},
  trackPageView:function(t){var z;void 0===t&&(t={});U();var B=null===(z=null===g||void 0===g?void 0:g.core)||void 0===z?void 0:z.getConfig();try{t=Z(Z({},t),{context:uf(null===B||void 0===B?void 0:B.performanceContextConfig).contexts()})}catch(wa){console.warn("Conviva App Tracker:: error adding performacetiming context to page view",wa)}var L=t.title;z=t.context;B=t.timestamp;t=t.contextCallback;p();Dh&&A();Dh=!0;vc=document.title;Nd=L;L=Wg(Nd||vc);if(Xc()!==J.SAMPLING_MODES.NONE){Ia();var V=hc,fa=
  V.track,ea=q(Yc||gc),X=q(Nf||ze),ba=tg();ba.add("e","pv");ba.add("url",ea);ba.add("page",L);ba.add("refr",X);fa.call(V,ba,(z||[]).concat(t?t():[]),B)}},trackPagePing:function(t){void 0===t&&(t={});O(t)},trackVideoEvent:function(t){var z,B,L;void 0===t&&(t={});try{var V=this.core.getConfig(),fa=!1;if(null!==(B=null===(z=null===V||void 0===V?void 0:V.customEventTrackingConfiguration)||void 0===z?void 0:z.enabled)&&void 0!==B?B:Aa.customEventTrackingConfiguration.enabled)if(""==t.name||void 0==t.name)console.warn("Conviva App Tracker:: Video event could not be tracked due to missing name property!!");
  else{t.ced=Of(t.ced);t.old=Of(t.old);t["new"]=Of(t["new"]);t.tags=Of(t.tags);t.cen&&J.V2A_CUSTOM_EVENTS.includes(t.name)&&(t.name=t.cen,fa=!0);var ea=null===(L=null===V||void 0===V?void 0:V.customEventTrackingConfiguration)||void 0===L?void 0:L.blocklist;if(!((null===ea||void 0===ea?0:ea.includes("*"))||(null===ea||void 0===ea?0:ea.some(function(wa){return 0<(null===wa||void 0===wa?void 0:wa.length)&&t.name.toLowerCase().includes(wa.toLowerCase())}))))if(!0===fa){var X=t.name,ba=sg(t,["isTrusted",
  "name","cen","new","old"]);this.core.track(td({name:X,data:JSON.stringify(ba)}),t.context,t.timestamp)}else this.core.track(Km({name:t.name,sid:t.sid,iid:t.iid,clid:t.clid,st:t.st,sst:t.sst,an:t.an,cl:t.cl,lv:t.lv,pn:t.pn,vid:t.vid,fw:t.fw,fwv:t.fwv,mn:t.mn,mv:t.mv,url:t.url,tags:t.tags,cen:t.cen,ced:t.ced,oldsc:t.old,newsc:t["new"],err:t.err,br:t.br,ft:t.ft,avgbr:t.avgbr}),t.context,t.timestamp)}}catch(wa){console.warn("Conviva App Tracker:: Video event could not be tracked due to an exception!!",
  wa)}},trackCustomEvent:function(t){var z,B,L,V,fa;void 0===t&&(t={});try{if(Xc()!==J.SAMPLING_MODES.NONE){var ea=null===(z=null===g||void 0===g?void 0:g.core)||void 0===z?void 0:z.getConfig();if(null!==(L=null===(B=null===ea||void 0===ea?void 0:ea.customEventTrackingConfiguration)||void 0===B?void 0:B.enabled)&&void 0!==L?L:Aa.customEventTrackingConfiguration.enabled)if(!t.name||"string"==typeof t.name&&""==t.name.trim())console.warn("Conviva App Tracker:: custom event name is mandatory for trackCustomEvent API!!");
  else{var X=t.data;try{"string"!==typeof t.data&&(X=JSON.stringify(t.data))}catch(wa){}var ba=null===(V=null===ea||void 0===ea?void 0:ea.customEventTrackingConfiguration)||void 0===V?void 0:V.blocklist;(null===ba||void 0===ba?0:ba.includes("*"))||(null===ba||void 0===ba?0:ba.some(function(wa){return 0<(null===wa||void 0===wa?void 0:wa.length)&&t.name.toLowerCase().includes(wa.toLowerCase())}))||(null===(fa=null===g||void 0===g?void 0:g.core)||void 0===fa?void 0:fa.track(td({name:t.name,data:X}),t.context,
  t.timestamp))}}}catch(wa){console.warn("Conviva App Tracker:: Unable to track custom event! "+wa)}},trackSSEEvent:function(t){var z;void 0===t&&(t={});try{Xc()!==J.SAMPLING_MODES.NONE&&(null===(z=null===g||void 0===g?void 0:g.core)||void 0===z?void 0:z.track(td(t),t.context,t.timestamp))}catch(B){}},trackNetworkRequest:function(t){var z,B,L,V,fa,ea,X,ba,wa,Ba,Lb,Vb;void 0===t&&(t={});try{var zb=null===(L=null===g||void 0===g?void 0:g.core)||void 0===L?void 0:L.getConfig().networkRequestTrackingConfiguration,
  Vc=t.responseDetails.responseTime-t.requestDetails.requestTime;try{Vc=parseFloat(Vc.toFixed(3))}catch(jc){console.warn("Conviva App Tracker:: exception while converting duration to 3 decimal",jc)}try{var Ee=(z={targetUrl:null===(V=null===t||void 0===t?void 0:t.requestDetails)||void 0===V?void 0:V.url,method:null===(fa=null===t||void 0===t?void 0:t.requestDetails)||void 0===fa?void 0:fa.method,responseStatusCode:(null===(ea=null===t||void 0===t?void 0:t.responseDetails)||void 0===ea?0:ea.status)?t.responseDetails.status:
  0,responseStatusText:(null===(X=null===t||void 0===t?void 0:t.responseDetails)||void 0===X?0:X.statusText)?t.responseDetails.statusText:"ok"},z[za.request_headers]=null===(ba=null===t||void 0===t?void 0:t.requestDetails)||void 0===ba?void 0:ba.headers,z[za.response_headers]=null===(wa=null===t||void 0===t?void 0:t.responseDetails)||void 0===wa?void 0:wa.headers,z.duration=Vc,z),Va=Ij(Ee,null===zb||void 0===zb?void 0:zb.collectattr,t,null===zb||void 0===zb?void 0:zb.maxQueryLength,null===zb||void 0===
  zb?void 0:zb.rbl);if(null===(Ba=null===t||void 0===t?void 0:t.requestDetails)||void 0===Ba?0:Ba[J.TRACEPARENT_HEADER_KEY]){var Kd=(B={},B[J.TRACEPARENT_HEADER_KEY]=null===(Lb=null===t||void 0===t?void 0:t.requestDetails)||void 0===Lb?void 0:Lb[J.TRACEPARENT_HEADER_KEY],B);Va[za.request_headers]=Va[za.request_headers]?Z(Z({},Va[za.request_headers]),Kd):Kd}if(null===(Vb=null===g||void 0===g?void 0:g.core)||void 0===Vb)void 0;else{var Fe=Vb.track;var Ge=Kc({event:{sc:"cv/nr/1-0-5",dt:ud({targetUrl:Va.targetUrl,
  method:Va.method,queryParameters:Va.queryParameters,responseStatusCode:Va.responseStatusCode,responseStatusText:Va.responseStatusText,rqh:Va.rqh,rsh:Va.rsh,rqb:Va.rqb,rsb:Va.rsb,rqq:Va.rqq,requestSize:Va.requestSize,responseSize:Va.responseSize,duration:Va.duration,contentType:Va.contentType,requestTimestamp:Va.requestTimestamp,responseTimestamp:Va.responseTimestamp})}});Fe.call(Vb,Ge,t.context,t.timestamp)}}catch(jc){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",
  jc)}}catch(jc){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",jc)}},trackButtonClick:function(t){var z,B,L;try{var V=null===(z=null===Ja||void 0===Ja?void 0:Ja.core)||void 0===z?void 0:z.getConfig();!0===(null===(B=null===V||void 0===V?void 0:V.clickcc)||void 0===B?void 0:B.en)&&(t.elementType="button",null===(L=null===Ja||void 0===Ja?void 0:Ja.core)||void 0===L?void 0:L.track(td({name:"conviva_click",data:JSON.stringify(t)}),Ai(void 0,void 0)))}catch(fa){ua.warn("Conviva App Tracker caused Exception in sendButtonClick method of user click tracking module",
  fa)}},trackLinkClick:function(t){var z,B,L;try{var V=null===(z=null===Ja||void 0===Ja?void 0:Ja.core)||void 0===z?void 0:z.getConfig();!0===(null===(B=null===V||void 0===V?void 0:V.clickcc)||void 0===B?void 0:B.en)&&(t.elementType="link",null===(L=null===Ja||void 0===Ja?void 0:Ja.core)||void 0===L?void 0:L.track(td({name:"conviva_click",data:JSON.stringify(t)}),Ai(void 0,void 0)))}catch(fa){ua.warn("Conviva App Tracker caused Exception in sendLinkClick method of user click tracking module",fa)}},
  trackErrorEvent:function(t){dh(t)},setCustomTags:function(t){void 0===t&&(t={});ta(t)},setMetaCustomTags:function(t){void 0===t&&(t={});ma(t)},unsetCustomTags:function(t){void 0===t&&(t=[]);R(t)},preservePageViewId:function(){ok=!0},disableAnonymousTracking:function(t){m.anonymousTracking=!1;ia(t);N();ic.executeQueue()},enableAnonymousTracking:function(t){var z;m.anonymousTracking=null!==(z=t&&(null===t||void 0===t?void 0:t.options))&&void 0!==z?z:!0;ia(t);Gf||A()},clearUserData:W,setKeepAliveInBG:function(t){void 0===
  t&&(t=!1);tk=t},clearTimers:function(){Pa=null;xk.cleanupNetworkRequestHandler();try{fb=g,removeEventListener("error",Wj,!0),removeEventListener("unhandledrejection",Xj,!0)}catch(B){console.warn("Conviva App Tracker caused Exception in disableErrorTracking method of error tracking module",B)}Tj();null===fd||void 0===fd?void 0:fd.abort();jb=Wb=void 0;Ie&&window.clearInterval(Ie);if(wb.enabled){var t=void 0;for(t in wb.configurations){var z=wb.configurations[t];z&&window.clearInterval(z.activityInterval)}}g&&
  (g.core=null);this.tracker=null},getSamplingMode:Xc,getPageViewSent:function(){return Dh},setPageMetaTagsAsCustomTags:function(){U()}};aa=Eh;var xk=bk.getInstance(Eh,m,Xc);xk.initiateNetworkRequestTracking();return Z(Z({},Eh),{id:h,namespace:k,core:hc,sharedState:n})}(b,a,c,d,e);var g=Z(Z({},b),{addPlugin:function(h){var k,l,n;null===(k=null===g||void 0===g?void 0:g.core)||void 0===k?void 0:k.addPlugin(h);null===(n=(l=h.plugin).activateBrowserPlugin)||void 0===n?void 0:n.call(l,g)}});f.forEach(function(h){var k;
  null===(k=h.activateBrowserPlugin)||void 0===k?void 0:k.call(h,g)});Po(g,null===e||void 0===e?void 0:e.enableCommonEvents);Uo(g);try{fb=g,No(),Mo(),Kb(window,"error",Wj,!0),Kb(window,"unhandledrejection",Xj,!0)}catch(h){console.warn("Conviva App Tracker caused Exception in enableErrorTracking method of error tracking module",h)}Ja=g;Vo(g,e);return g}function Ab(b,a){try{var c=null!==b&&void 0!==b?b:Object.keys(hd);b=hd;for(var d=[],e=0;e<c.length;e++){var f=c[e];b.hasOwnProperty(f)?d.push(b[f]):ua.warn(f+
  " not configured")}d.forEach(a)}catch(g){ua.error("Function failed",g)}}function hp(b){if(b)for(var a=0;a<b.length;a++){var c=b[a];hd.hasOwnProperty(c)?delete hd[c]:ua.warn(c+" not configured")}}function ip(){function b(){var f;if(!c.hasLoaded)for(c.hasLoaded=!0,f=0;f<c.registeredOnLoadHandlers.length;f++)c.registeredOnLoadHandlers[f]();return!0}function a(){d.addEventListener?d.addEventListener("DOMContentLoaded",function g(){d.removeEventListener("DOMContentLoaded",g,!1);b()}):d.attachEvent&&d.attachEvent("onreadystatechange",
  function h(){"complete"===d.readyState&&(d.detachEvent("onreadystatechange",h),b())});Kb(e,"load",b,!1)}var c=new jp,d=document,e=window;Kb(e,"beforeunload",function(){try{c.bufferFlushers.forEach(function(f){f(!1)})}catch(f){console.warn("Conviva App Tracker:: Error in flushBuffers of constructor ".concat(f))}},!1);"loading"===document.readyState?a():b();return c}var Z=function(){Z=Object.assign||function(b){for(var a,c=1,d=arguments.length;c<d;c++){a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,
  e)&&(b[e]=a[e])}return b};return Z.apply(this,arguments)},Pf={},yk="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(yk){var zk=new Uint8Array(16);Pf=function(){yk(zk);return zk}}else{var Ak=Array(16);Pf=function(){for(var b=0,a;16>b;b++)0===(b&3)&&(a=4294967296*Math.random()),Ak[b]=a>>>((b&3)<<3)&255;return Ak}}for(var ob=[],Qf=0;256>
  Qf;++Qf)ob[Qf]=(Qf+256).toString(16).substr(1);var Bk=function(b,a){a=a||0;return[ob[b[a++]],ob[b[a++]],ob[b[a++]],ob[b[a++]],"-",ob[b[a++]],ob[b[a++]],"-",ob[b[a++]],ob[b[a++]],"-",ob[b[a++]],ob[b[a++]],"-",ob[b[a++]],ob[b[a++]],ob[b[a++]],ob[b[a++]],ob[b[a++]],ob[b[a++]]].join("")},kp=Pf,Ck,Fh,Gh=0,Hh=0,lp=Pf,Ih=function(b,a,c){c=a&&c||0;"string"==typeof b&&(a="binary"===b?Array(16):null,b=null);b=b||{};b=b.random||(b.rng||lp)();b[6]=b[6]&15|64;b[8]=b[8]&63|128;if(a)for(var d=0;16>d;++d)a[c+d]=
  b[d];return a||Bk(b)};Ih.v1=function(b,a,c){c=a&&c||0;var d=a||[];b=b||{};var e=b.node||Ck,f=void 0!==b.clockseq?b.clockseq:Fh;if(null==e||null==f){var g=kp();null==e&&(e=Ck=[g[0]|1,g[1],g[2],g[3],g[4],g[5]]);null==f&&(f=Fh=(g[6]<<8|g[7])&16383)}g=void 0!==b.msecs?b.msecs:(new Date).getTime();var h=void 0!==b.nsecs?b.nsecs:Hh+1,k=g-Gh+(h-Hh)/1E4;0>k&&void 0===b.clockseq&&(f=f+1&16383);(0>k||g>Gh)&&void 0===b.nsecs&&(h=0);if(1E4<=h)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");Gh=
  g;Hh=h;Fh=f;g+=122192928E5;b=(1E4*(g&268435455)+h)%4294967296;d[c++]=b>>>24&255;d[c++]=b>>>16&255;d[c++]=b>>>8&255;d[c++]=b&255;b=g/4294967296*1E4&268435455;d[c++]=b>>>8&255;d[c++]=b&255;d[c++]=b>>>24&15|16;d[c++]=b>>>16&255;d[c++]=f>>>8|128;d[c++]=f&255;for(f=0;6>f;++f)d[c+f]=e[f];return a?a:Bk(d)};var nc=Ih.v4=Ih,Db="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",lc;(function(b){b[b.none=0]="none";b[b.error=1]="error";b[b.warn=2]="warn";b[b.debug=3]="debug";b[b.info=4]="info"})(lc||
  (lc={}));var ua=function(b){void 0===b&&(b=lc.warn);return{setLogLevel:function(a){b=lc[a]?a:lc.warn},warn:function(a,c){for(var d=[],e=2;e<arguments.length;e++)d[e-2]=arguments[e];b>=lc.warn&&"undefined"!==typeof console&&(e="Conviva: "+a,c?console.warn.apply(console,gb([e+"\n",c],d,!1)):console.warn.apply(console,gb([e],d,!1)))},error:function(a,c){for(var d=[],e=2;e<arguments.length;e++)d[e-2]=arguments[e];b>=lc.error&&"undefined"!==typeof console&&(e="Conviva: "+a+"\n",c?console.error.apply(console,
  gb([e+"\n",c],d,!1)):console.error.apply(console,gb([e],d,!1)))},debug:function(a){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];b>=lc.debug&&"undefined"!==typeof console&&console.debug.apply(console,gb(["Conviva: "+a],c,!1))},info:function(a){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];b>=lc.info&&"undefined"!==typeof console&&console.info.apply(console,gb(["Conviva: "+a],c,!1))}}}(),Dk;(function(b){b.response_body="rsb";b.request_body="rqb";b.response_headers="rsh";
  b.request_headers="rqh";b.request_query="rqq"})(Dk||(Dk={}));var Ek={},Fk={};(function(){var b={rotl:function(a,c){return a<<c|a>>>32-c},rotr:function(a,c){return a<<32-c|a>>>c},endian:function(a){if(a.constructor==Number)return b.rotl(a,8)&16711935|b.rotl(a,24)&4278255360;for(var c=0;c<a.length;c++)a[c]=b.endian(a[c]);return a},randomBytes:function(a){for(var c=[];0<a;a--)c.push(Math.floor(256*Math.random()));return c},bytesToWords:function(a){for(var c=[],d=0,e=0;d<a.length;d++,e+=8)c[e>>>5]|=a[d]<<
  24-e%32;return c},wordsToBytes:function(a){for(var c=[],d=0;d<32*a.length;d+=8)c.push(a[d>>>5]>>>24-d%32&255);return c},bytesToHex:function(a){for(var c=[],d=0;d<a.length;d++)c.push((a[d]>>>4).toString(16)),c.push((a[d]&15).toString(16));return c.join("")},hexToBytes:function(a){for(var c=[],d=0;d<a.length;d+=2)c.push(parseInt(a.substr(d,2),16));return c},bytesToBase64:function(a){for(var c=[],d=0;d<a.length;d+=3)for(var e=a[d]<<16|a[d+1]<<8|a[d+2],f=0;4>f;f++)8*d+6*f<=8*a.length?c.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>
  6*(3-f)&63)):c.push("=");return c.join("")},base64ToBytes:function(a){a=a.replace(/[^A-Z0-9+\/]/ig,"");for(var c=[],d=0,e=0;d<a.length;e=++d%4)0!=e&&c.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(d-1))&Math.pow(2,-2*e+8)-1)<<2*e|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(d))>>>6-2*e);return c}};Fk=b})();var Jh={utf8:{stringToBytes:function(b){return Jh.bin.stringToBytes(unescape(encodeURIComponent(b)))},bytesToString:function(b){return decodeURIComponent(escape(Jh.bin.bytesToString(b)))}},
  bin:{stringToBytes:function(b){for(var a=[],c=0;c<b.length;c++)a.push(b.charCodeAt(c)&255);return a},bytesToString:function(b){for(var a=[],c=0;c<b.length;c++)a.push(String.fromCharCode(b[c]));return a.join("")}}},Gk=Jh;(function(){var b=Fk,a=Gk.utf8,c=Gk.bin,d=function(e,f){var g=b.wordsToBytes,h=e;h.constructor==String?h=a.stringToBytes(h):"undefined"!==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(h)?h=Array.prototype.slice.call(h,0):Array.isArray(h)||(h=h.toString());e=b.bytesToWords(h);
  var k=8*h.length;h=[];var l=1732584193,n=-271733879,m=-1732584194,p=271733878,r=-1009589776;e[k>>5]|=128<<24-k%32;e[(k+64>>>9<<4)+15]=k;for(k=0;k<e.length;k+=16){for(var u=l,q=n,w=m,v=p,x=r,C=0;80>C;C++){if(16>C)h[C]=e[k+C];else{var F=h[C-3]^h[C-8]^h[C-14]^h[C-16];h[C]=F<<1|F>>>31}F=(l<<5|l>>>27)+r+(h[C]>>>0)+(20>C?(n&m|~n&p)+1518500249:40>C?(n^m^p)+1859775393:60>C?(n&m|n&p|m&p)-1894007588:(n^m^p)-899497514);r=p;p=m;m=n<<30|n>>>2;n=l;l=F}l+=u;n+=q;m+=w;p+=v;r+=x}g=g.call(b,[l,n,m,p,r]);return f&&
  f.asBytes?g:f&&f.asString?c.bytesToString(g):b.bytesToHex(g)};d._blocksize=16;d._digestsize=20;Ek=d})();var Zo=Ek,Kh=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Rf=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),mp=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Hk=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mc=Array(576);vd(mc);var Je=Array(60);vd(Je);var id=Array(512);vd(id);var Ke=Array(256);vd(Ke);
  var Lh=Array(29);vd(Lh);var Sf=Array(30);vd(Sf);var Ik,Jk,Kk,Le=function(b,a){b.pending_buf[b.pending++]=a&255;b.pending_buf[b.pending++]=a>>>8&255},yb=function(b,a,c){b.bi_valid>16-c?(b.bi_buf|=a<<b.bi_valid&65535,Le(b,b.bi_buf),b.bi_buf=a>>16-b.bi_valid,b.bi_valid+=c-16):(b.bi_buf|=a<<b.bi_valid&65535,b.bi_valid+=c)},Xb=function(b,a,c){yb(b,c[2*a],c[2*a+1])},Lk=function(b,a){var c=0;do c|=b&1,b>>>=1,c<<=1;while(0<--a);return c>>>1},Mk=function(b,a,c){var d=Array(16),e=0,f;for(f=1;15>=f;f++)e=e+
  c[f-1]<<1,d[f]=e;for(c=0;c<=a;c++)e=b[2*c+1],0!==e&&(b[2*c]=Lk(d[e]++,e))},Nk=function(b){var a;for(a=0;286>a;a++)b.dyn_ltree[2*a]=0;for(a=0;30>a;a++)b.dyn_dtree[2*a]=0;for(a=0;19>a;a++)b.bl_tree[2*a]=0;b.dyn_ltree[512]=1;b.opt_len=b.static_len=0;b.sym_next=b.matches=0},Ok=function(b){8<b.bi_valid?Le(b,b.bi_buf):0<b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf);b.bi_buf=0;b.bi_valid=0},Pk=function(b,a,c,d){var e=2*a,f=2*c;return b[e]<b[f]||b[e]===b[f]&&d[a]<=d[c]},Mh=function(b,a,c){for(var d=b.heap[c],
  e=c<<1;e<=b.heap_len;){e<b.heap_len&&Pk(a,b.heap[e+1],b.heap[e],b.depth)&&e++;if(Pk(a,d,b.heap[e],b.depth))break;b.heap[c]=b.heap[e];c=e;e<<=1}b.heap[c]=d},Qk=function(b,a,c){var d=0;if(0!==b.sym_next){do{var e=b.pending_buf[b.sym_buf+d++]&255;e+=(b.pending_buf[b.sym_buf+d++]&255)<<8;var f=b.pending_buf[b.sym_buf+d++];if(0===e)Xb(b,f,a);else{var g=Ke[f];Xb(b,g+256+1,a);var h=Kh[g];0!==h&&(f-=Lh[g],yb(b,f,h));e--;g=256>e?id[e]:id[256+(e>>>7)];Xb(b,g,c);h=Rf[g];0!==h&&(e-=Sf[g],yb(b,e,h))}}while(d<
  b.sym_next)}Xb(b,256,a)},Nh=function(b,a){var c=a.dyn_tree,d=a.stat_desc.static_tree,e=a.stat_desc.has_stree,f=a.stat_desc.elems,g,h=-1;b.heap_len=0;b.heap_max=573;for(g=0;g<f;g++)0!==c[2*g]?(b.heap[++b.heap_len]=h=g,b.depth[g]=0):c[2*g+1]=0;for(;2>b.heap_len;){var k=b.heap[++b.heap_len]=2>h?++h:0;c[2*k]=1;b.depth[k]=0;b.opt_len--;e&&(b.static_len-=d[2*k+1])}a.max_code=h;for(g=b.heap_len>>1;1<=g;g--)Mh(b,c,g);k=f;do g=b.heap[1],b.heap[1]=b.heap[b.heap_len--],Mh(b,c,1),d=b.heap[1],b.heap[--b.heap_max]=
  g,b.heap[--b.heap_max]=d,c[2*k]=c[2*g]+c[2*d],b.depth[k]=(b.depth[g]>=b.depth[d]?b.depth[g]:b.depth[d])+1,c[2*g+1]=c[2*d+1]=k,b.heap[1]=k++,Mh(b,c,1);while(2<=b.heap_len);b.heap[--b.heap_max]=b.heap[1];g=a.dyn_tree;k=a.max_code;d=a.stat_desc.static_tree;e=a.stat_desc.has_stree;f=a.stat_desc.extra_bits;var l=a.stat_desc.extra_base,n=a.stat_desc.max_length,m,p=0;for(m=0;15>=m;m++)b.bl_count[m]=0;g[2*b.heap[b.heap_max]+1]=0;for(a=b.heap_max+1;573>a;a++){var r=b.heap[a];m=g[2*g[2*r+1]+1]+1;m>n&&(m=n,
  p++);g[2*r+1]=m;if(!(r>k)){b.bl_count[m]++;var u=0;r>=l&&(u=f[r-l]);var q=g[2*r];b.opt_len+=q*(m+u);e&&(b.static_len+=q*(d[2*r+1]+u))}}if(0!==p){do{for(m=n-1;0===b.bl_count[m];)m--;b.bl_count[m]--;b.bl_count[m+1]+=2;b.bl_count[n]--;p-=2}while(0<p);for(m=n;0!==m;m--)for(r=b.bl_count[m];0!==r;)d=b.heap[--a],d>k||(g[2*d+1]!==m&&(b.opt_len+=(m-g[2*d+1])*g[2*d],g[2*d+1]=m),r--)}Mk(c,h,b.bl_count)},Rk=function(b,a,c){var d,e=-1,f=a[1],g=0,h=7,k=4;0===f&&(h=138,k=3);a[2*(c+1)+1]=65535;for(d=0;d<=c;d++){var l=
  f;f=a[2*(d+1)+1];++g<h&&l===f||(g<k?b.bl_tree[2*l]+=g:0!==l?(l!==e&&b.bl_tree[2*l]++,b.bl_tree[32]++):10>=g?b.bl_tree[34]++:b.bl_tree[36]++,g=0,e=l,0===f?(h=138,k=3):l===f?(h=6,k=3):(h=7,k=4))}},Sk=function(b,a,c){var d,e=-1,f=a[1],g=0,h=7,k=4;0===f&&(h=138,k=3);for(d=0;d<=c;d++){var l=f;f=a[2*(d+1)+1];if(!(++g<h&&l===f)){if(g<k){do Xb(b,l,b.bl_tree);while(0!==--g)}else 0!==l?(l!==e&&(Xb(b,l,b.bl_tree),g--),Xb(b,16,b.bl_tree),yb(b,g-3,2)):10>=g?(Xb(b,17,b.bl_tree),yb(b,g-3,3)):(Xb(b,18,b.bl_tree),
  yb(b,g-11,7));g=0;e=l;0===f?(h=138,k=3):l===f?(h=6,k=3):(h=7,k=4)}}},np=function(b){var a=4093624447,c;for(c=0;31>=c;c++,a>>>=1)if(a&1&&0!==b.dyn_ltree[2*c])return 0;if(0!==b.dyn_ltree[18]||0!==b.dyn_ltree[20]||0!==b.dyn_ltree[26])return 1;for(c=32;256>c;c++)if(0!==b.dyn_ltree[2*c])return 1;return 0},Tk=!1,Tf=function(b,a,c,d){yb(b,d?1:0,3);Ok(b);Le(b,c);Le(b,~c);c&&b.pending_buf.set(b.window.subarray(a,a+c),b.pending);b.pending+=c},Me=function(b,a,c,d){var e=b&65535|0;b=b>>>16&65535|0;for(var f;0!==
  c;){f=2E3<c?2E3:c;c-=f;do e=e+a[d++]|0,b=b+e|0;while(--f);e%=65521;b%=65521}return e|b<<16|0},op=new Uint32Array(function(){for(var b,a=[],c=0;256>c;c++){b=c;for(var d=0;8>d;d++)b=b&1?3988292384^b>>>1:b>>>1;a[c]=b}return a}()),kb=function(b,a,c,d){c=d+c;for(b^=-1;d<c;d++)b=b>>>8^op[(b^a[d])&255];return b^-1},Lc={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},oa={Z_NO_FLUSH:0,
  Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},wc=function(b,a,c){b.pending_buf[b.sym_buf+b.sym_next++]=a;b.pending_buf[b.sym_buf+b.sym_next++]=a>>8;b.pending_buf[b.sym_buf+
  b.sym_next++]=c;0===a?b.dyn_ltree[2*c]++:(b.matches++,a--,b.dyn_ltree[2*(Ke[c]+256+1)]++,b.dyn_dtree[2*(256>a?id[a]:id[256+(a>>>7)])]++);return b.sym_next===b.sym_end},xc=oa.Z_NO_FLUSH,pp=oa.Z_PARTIAL_FLUSH,qp=oa.Z_FULL_FLUSH,Eb=oa.Z_FINISH,Uk=oa.Z_BLOCK,pb=oa.Z_OK,Vk=oa.Z_STREAM_END,Yb=oa.Z_STREAM_ERROR,rp=oa.Z_DATA_ERROR,Oh=oa.Z_BUF_ERROR,sp=oa.Z_DEFAULT_COMPRESSION,tp=oa.Z_FILTERED,Uf=oa.Z_HUFFMAN_ONLY,up=oa.Z_RLE,vp=oa.Z_FIXED,wp=oa.Z_DEFAULT_STRATEGY,xp=oa.Z_UNKNOWN,Ze=oa.Z_DEFLATED,jd=function(b,
  a){b.msg=Lc[a];return a},oc=function(b){for(var a=b.length;0<=--a;)b[a]=0},yc=function(b,a,c){return(a<<b.hash_shift^c)&b.hash_mask},Bb=function(b){var a=b.state,c=a.pending;c>b.avail_out&&(c=b.avail_out);0!==c&&(b.output.set(a.pending_buf.subarray(a.pending_out,a.pending_out+c),b.next_out),b.next_out+=c,a.pending_out+=c,b.total_out+=c,b.avail_out-=c,a.pending-=c,0===a.pending&&(a.pending_out=0))},Cb=function(b,a){var c=0<=b.block_start?b.block_start:-1,d=b.strstart-b.block_start,e=0;if(0<b.level){2===
  b.strm.data_type&&(b.strm.data_type=np(b));Nh(b,b.l_desc);Nh(b,b.d_desc);Rk(b,b.dyn_ltree,b.l_desc.max_code);Rk(b,b.dyn_dtree,b.d_desc.max_code);Nh(b,b.bl_desc);for(e=18;3<=e&&0===b.bl_tree[2*Hk[e]+1];e--);b.opt_len+=3*(e+1)+14;var f=b.opt_len+3+7>>>3;var g=b.static_len+3+7>>>3;g<=f&&(f=g)}else f=g=d+5;if(d+4<=f&&-1!==c)Tf(b,c,d,a);else if(4===b.strategy||g===f)yb(b,2+(a?1:0),3),Qk(b,mc,Je);else{yb(b,4+(a?1:0),3);c=b.l_desc.max_code+1;d=b.d_desc.max_code+1;e+=1;yb(b,c-257,5);yb(b,d-1,5);yb(b,e-4,
  4);for(f=0;f<e;f++)yb(b,b.bl_tree[2*Hk[f]+1],3);Sk(b,b.dyn_ltree,c-1);Sk(b,b.dyn_dtree,d-1);Qk(b,b.dyn_ltree,b.dyn_dtree)}Nk(b);a&&Ok(b);b.block_start=b.strstart;Bb(b.strm)},Ca=function(b,a){b.pending_buf[b.pending++]=a},Ne=function(b,a){b.pending_buf[b.pending++]=a>>>8&255;b.pending_buf[b.pending++]=a&255},Ph=function(b,a,c,d){var e=b.avail_in;e>d&&(e=d);if(0===e)return 0;b.avail_in-=e;a.set(b.input.subarray(b.next_in,b.next_in+e),c);1===b.state.wrap?b.adler=Me(b.adler,a,e,c):2===b.state.wrap&&(b.adler=
  kb(b.adler,a,e,c));b.next_in+=e;b.total_in+=e;return e},Wk=function(b,a){var c=b.max_chain_length,d=b.strstart,e=b.prev_length,f=b.nice_match,g=b.strstart>b.w_size-262?b.strstart-(b.w_size-262):0,h=b.window,k=b.w_mask,l=b.prev,n=b.strstart+258,m=h[d+e-1],p=h[d+e];b.prev_length>=b.good_match&&(c>>=2);f>b.lookahead&&(f=b.lookahead);do{var r=a;if(h[r+e]===p&&h[r+e-1]===m&&h[r]===h[d]&&h[++r]===h[d+1]){d+=2;for(r++;h[++d]===h[++r]&&h[++d]===h[++r]&&h[++d]===h[++r]&&h[++d]===h[++r]&&h[++d]===h[++r]&&h[++d]===
  h[++r]&&h[++d]===h[++r]&&h[++d]===h[++r]&&d<n;);r=258-(n-d);d=n-258;if(r>e){b.match_start=a;e=r;if(r>=f)break;m=h[d+e-1];p=h[d+e]}}}while((a=l[a&k])>g&&0!==--c);return e<=b.lookahead?e:b.lookahead},Od=function(b){var a=b.w_size;do{var c=b.window_size-b.lookahead-b.strstart;if(b.strstart>=a+(a-262)){b.window.set(b.window.subarray(a,a+a-c),0);b.match_start-=a;b.strstart-=a;b.block_start-=a;b.insert>b.strstart&&(b.insert=b.strstart);var d,e=b,f=e.w_size;var g=d=e.hash_size;do{var h=e.head[--g];e.head[g]=
  h>=f?h-f:0}while(--d);g=d=f;do h=e.prev[--g],e.prev[g]=h>=f?h-f:0;while(--d);c+=a}if(0===b.strm.avail_in)break;c=Ph(b.strm,b.window,b.strstart+b.lookahead,c);b.lookahead+=c;if(3<=b.lookahead+b.insert)for(c=b.strstart-b.insert,b.ins_h=b.window[c],b.ins_h=yc(b,b.ins_h,b.window[c+1]);b.insert&&!(b.ins_h=yc(b,b.ins_h,b.window[c+3-1]),b.prev[c&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=c,c++,b.insert--,3>b.lookahead+b.insert););}while(262>b.lookahead&&0!==b.strm.avail_in)},Xk=function(b,a){var c=b.pending_buf_size-
  5>b.w_size?b.w_size:b.pending_buf_size-5,d=0,e=b.strm.avail_in;do{var f=65535;var g=b.bi_valid+42>>3;if(b.strm.avail_out<g)break;g=b.strm.avail_out-g;var h=b.strstart-b.block_start;f>h+b.strm.avail_in&&(f=h+b.strm.avail_in);f>g&&(f=g);if(f<c&&(0===f&&a!==Eb||a===xc||f!==h+b.strm.avail_in))break;d=a===Eb&&f===h+b.strm.avail_in?1:0;Tf(b,0,0,d);b.pending_buf[b.pending-4]=f;b.pending_buf[b.pending-3]=f>>8;b.pending_buf[b.pending-2]=~f;b.pending_buf[b.pending-1]=~f>>8;Bb(b.strm);h&&(h>f&&(h=f),b.strm.output.set(b.window.subarray(b.block_start,
  b.block_start+h),b.strm.next_out),b.strm.next_out+=h,b.strm.avail_out-=h,b.strm.total_out+=h,b.block_start+=h,f-=h);f&&(Ph(b.strm,b.strm.output,b.strm.next_out,f),b.strm.next_out+=f,b.strm.avail_out-=f,b.strm.total_out+=f)}while(0===d);if(e-=b.strm.avail_in)e>=b.w_size?(b.matches=2,b.window.set(b.strm.input.subarray(b.strm.next_in-b.w_size,b.strm.next_in),0),b.strstart=b.w_size,b.insert=b.strstart):(b.window_size-b.strstart<=e&&(b.strstart-=b.w_size,b.window.set(b.window.subarray(b.w_size,b.w_size+
  b.strstart),0),2>b.matches&&b.matches++,b.insert>b.strstart&&(b.insert=b.strstart)),b.window.set(b.strm.input.subarray(b.strm.next_in-e,b.strm.next_in),b.strstart),b.strstart+=e,b.insert+=e>b.w_size-b.insert?b.w_size-b.insert:e),b.block_start=b.strstart;b.high_water<b.strstart&&(b.high_water=b.strstart);if(d)return 4;if(a!==xc&&a!==Eb&&0===b.strm.avail_in&&b.strstart===b.block_start)return 2;g=b.window_size-b.strstart;b.strm.avail_in>g&&b.block_start>=b.w_size&&(b.block_start-=b.w_size,b.strstart-=
  b.w_size,b.window.set(b.window.subarray(b.w_size,b.w_size+b.strstart),0),2>b.matches&&b.matches++,g+=b.w_size,b.insert>b.strstart&&(b.insert=b.strstart));g>b.strm.avail_in&&(g=b.strm.avail_in);g&&(Ph(b.strm,b.window,b.strstart,g),b.strstart+=g,b.insert+=g>b.w_size-b.insert?b.w_size-b.insert:g);b.high_water<b.strstart&&(b.high_water=b.strstart);g=b.bi_valid+42>>3;g=65535<b.pending_buf_size-g?65535:b.pending_buf_size-g;c=g>b.w_size?b.w_size:g;h=b.strstart-b.block_start;if(h>=c||(h||a===Eb)&&a!==xc&&
  0===b.strm.avail_in&&h<=g)f=h>g?g:h,d=a===Eb&&0===b.strm.avail_in&&f===h?1:0,Tf(b,b.block_start,f,d),b.block_start+=f,Bb(b.strm);return d?3:1},Qh=function(b,a){for(var c;;){if(262>b.lookahead){Od(b);if(262>b.lookahead&&a===xc)return 1;if(0===b.lookahead)break}c=0;3<=b.lookahead&&(b.ins_h=yc(b,b.ins_h,b.window[b.strstart+3-1]),c=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);0!==c&&b.strstart-c<=b.w_size-262&&(b.match_length=Wk(b,c));if(3<=b.match_length)if(c=wc(b,b.strstart-
  b.match_start,b.match_length-3),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&3<=b.lookahead){b.match_length--;do b.strstart++,b.ins_h=yc(b,b.ins_h,b.window[b.strstart+3-1]),b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart;while(0!==--b.match_length);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=yc(b,b.ins_h,b.window[b.strstart+1]);else c=wc(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(c&&(Cb(b,!1),
  0===b.strm.avail_out))return 1}b.insert=2>b.strstart?b.strstart:2;return a===Eb?(Cb(b,!0),0===b.strm.avail_out?3:4):b.sym_next&&(Cb(b,!1),0===b.strm.avail_out)?1:2},Pd=function(b,a){for(var c,d;;){if(262>b.lookahead){Od(b);if(262>b.lookahead&&a===xc)return 1;if(0===b.lookahead)break}c=0;3<=b.lookahead&&(b.ins_h=yc(b,b.ins_h,b.window[b.strstart+3-1]),c=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);b.prev_length=b.match_length;b.prev_match=b.match_start;b.match_length=2;0!==
  c&&b.prev_length<b.max_lazy_match&&b.strstart-c<=b.w_size-262&&(b.match_length=Wk(b,c),5>=b.match_length&&(b.strategy===tp||3===b.match_length&&4096<b.strstart-b.match_start)&&(b.match_length=2));if(3<=b.prev_length&&b.match_length<=b.prev_length){d=b.strstart+b.lookahead-3;c=wc(b,b.strstart-1-b.prev_match,b.prev_length-3);b.lookahead-=b.prev_length-1;b.prev_length-=2;do++b.strstart<=d&&(b.ins_h=yc(b,b.ins_h,b.window[b.strstart+3-1]),b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);
  while(0!==--b.prev_length);b.match_available=0;b.match_length=2;b.strstart++;if(c&&(Cb(b,!1),0===b.strm.avail_out))return 1}else if(b.match_available){if((c=wc(b,0,b.window[b.strstart-1]))&&Cb(b,!1),b.strstart++,b.lookahead--,0===b.strm.avail_out)return 1}else b.match_available=1,b.strstart++,b.lookahead--}b.match_available&&(wc(b,0,b.window[b.strstart-1]),b.match_available=0);b.insert=2>b.strstart?b.strstart:2;return a===Eb?(Cb(b,!0),0===b.strm.avail_out?3:4):b.sym_next&&(Cb(b,!1),0===b.strm.avail_out)?
  1:2},yp=function(b,a){for(var c,d,e,f=b.window;;){if(258>=b.lookahead){Od(b);if(258>=b.lookahead&&a===xc)return 1;if(0===b.lookahead)break}b.match_length=0;if(3<=b.lookahead&&0<b.strstart&&(d=b.strstart-1,c=f[d],c===f[++d]&&c===f[++d]&&c===f[++d])){for(e=b.strstart+258;c===f[++d]&&c===f[++d]&&c===f[++d]&&c===f[++d]&&c===f[++d]&&c===f[++d]&&c===f[++d]&&c===f[++d]&&d<e;);b.match_length=258-(e-d);b.match_length>b.lookahead&&(b.match_length=b.lookahead)}3<=b.match_length?(c=wc(b,1,b.match_length-3),b.lookahead-=
  b.match_length,b.strstart+=b.match_length,b.match_length=0):(c=wc(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++);if(c&&(Cb(b,!1),0===b.strm.avail_out))return 1}b.insert=0;return a===Eb?(Cb(b,!0),0===b.strm.avail_out?3:4):b.sym_next&&(Cb(b,!1),0===b.strm.avail_out)?1:2},zp=function(b,a){for(var c;;){if(0===b.lookahead&&(Od(b),0===b.lookahead)){if(a===xc)return 1;break}b.match_length=0;c=wc(b,0,b.window[b.strstart]);b.lookahead--;b.strstart++;if(c&&(Cb(b,!1),0===b.strm.avail_out))return 1}b.insert=
  0;return a===Eb?(Cb(b,!0),0===b.strm.avail_out?3:4):b.sym_next&&(Cb(b,!1),0===b.strm.avail_out)?1:2},Oe=[new Pb(0,0,0,0,Xk),new Pb(4,4,8,4,Qh),new Pb(4,5,16,8,Qh),new Pb(4,6,32,32,Qh),new Pb(4,4,16,16,Pd),new Pb(8,16,32,32,Pd),new Pb(8,16,128,128,Pd),new Pb(8,32,128,256,Pd),new Pb(32,128,258,1024,Pd),new Pb(32,258,258,4096,Pd)],Pe=function(b){if(!b)return 1;var a=b.state;return!a||a.strm!==b||42!==a.status&&57!==a.status&&69!==a.status&&73!==a.status&&91!==a.status&&103!==a.status&&113!==a.status&&
  666!==a.status?1:0},Yk=function(b){if(Pe(b))return jd(b,Yb);b.total_in=b.total_out=0;b.data_type=xp;var a=b.state;a.pending=0;a.pending_out=0;0>a.wrap&&(a.wrap=-a.wrap);a.status=2===a.wrap?57:a.wrap?42:113;b.adler=2===a.wrap?0:1;a.last_flush=-2;if(!Tk){var c,d,e;b=Array(16);for(e=d=0;28>e;e++)for(Lh[e]=d,c=0;c<1<<Kh[e];c++)Ke[d++]=e;Ke[d-1]=e;for(e=d=0;16>e;e++)for(Sf[e]=d,c=0;c<1<<Rf[e];c++)id[d++]=e;for(d>>=7;30>e;e++)for(Sf[e]=d<<7,c=0;c<1<<Rf[e]-7;c++)id[256+d++]=e;for(c=0;15>=c;c++)b[c]=0;for(c=
  0;143>=c;)mc[2*c+1]=8,c++,b[8]++;for(;255>=c;)mc[2*c+1]=9,c++,b[9]++;for(;279>=c;)mc[2*c+1]=7,c++,b[7]++;for(;287>=c;)mc[2*c+1]=8,c++,b[8]++;Mk(mc,287,b);for(c=0;30>c;c++)Je[2*c+1]=5,Je[2*c]=Lk(c,5);Ik=new wg(mc,Kh,257,286,15);Jk=new wg(Je,Rf,0,30,15);Kk=new wg([],mp,0,19,7);Tk=!0}a.l_desc=new xg(a.dyn_ltree,Ik);a.d_desc=new xg(a.dyn_dtree,Jk);a.bl_desc=new xg(a.bl_tree,Kk);a.bi_buf=0;a.bi_valid=0;Nk(a);return pb},Zk=function(b){var a=Yk(b);a===pb&&(b=b.state,b.window_size=2*b.w_size,oc(b.head),b.max_lazy_match=
  Oe[b.level].max_lazy,b.good_match=Oe[b.level].good_length,b.nice_match=Oe[b.level].nice_length,b.max_chain_length=Oe[b.level].max_chain,b.strstart=0,b.block_start=0,b.lookahead=0,b.insert=0,b.match_length=b.prev_length=2,b.match_available=0,b.ins_h=0);return a},$k=function(b,a,c,d,e,f){if(!b)return Yb;var g=1;a===sp&&(a=6);0>d?(g=0,d=-d):15<d&&(g=2,d-=16);if(1>e||9<e||c!==Ze||8>d||15<d||0>a||9<a||0>f||f>vp||8===d&&1!==g)return jd(b,Yb);8===d&&(d=9);var h=new Lm;b.state=h;h.strm=b;h.status=42;h.wrap=
  g;h.gzhead=null;h.w_bits=d;h.w_size=1<<h.w_bits;h.w_mask=h.w_size-1;h.hash_bits=e+7;h.hash_size=1<<h.hash_bits;h.hash_mask=h.hash_size-1;h.hash_shift=~~((h.hash_bits+3-1)/3);h.window=new Uint8Array(2*h.w_size);h.head=new Uint16Array(h.hash_size);h.prev=new Uint16Array(h.w_size);h.lit_bufsize=1<<e+6;h.pending_buf_size=4*h.lit_bufsize;h.pending_buf=new Uint8Array(h.pending_buf_size);h.sym_buf=h.lit_bufsize;h.sym_end=3*(h.lit_bufsize-1);h.level=a;h.strategy=f;h.method=c;return Zk(b)},ge={deflateInit:function(b,
  a){return $k(b,a,Ze,15,8,wp)},deflateInit2:$k,deflateReset:Zk,deflateResetKeep:Yk,deflateSetHeader:function(b,a){if(Pe(b)||2!==b.state.wrap)return Yb;b.state.gzhead=a;return pb},deflate:function(b,a){if(Pe(b)||a>Uk||0>a)return b?jd(b,Yb):Yb;var c=b.state;if(!b.output||0!==b.avail_in&&!b.input||666===c.status&&a!==Eb)return jd(b,0===b.avail_out?Oh:Yb);var d=c.last_flush;c.last_flush=a;if(0!==c.pending){if(Bb(b),0===b.avail_out)return c.last_flush=-1,pb}else if(0===b.avail_in&&2*a-(4<a?9:0)<=2*d-(4<
  d?9:0)&&a!==Eb)return jd(b,Oh);if(666===c.status&&0!==b.avail_in)return jd(b,Oh);42===c.status&&0===c.wrap&&(c.status=113);if(42===c.status&&(d=Ze+(c.w_bits-8<<4)<<8,d|=(c.strategy>=Uf||2>c.level?0:6>c.level?1:6===c.level?2:3)<<6,0!==c.strstart&&(d|=32),Ne(c,d+(31-d%31)),0!==c.strstart&&(Ne(c,b.adler>>>16),Ne(c,b.adler&65535)),b.adler=1,c.status=113,Bb(b),0!==c.pending))return c.last_flush=-1,pb;if(57===c.status)if(b.adler=0,Ca(c,31),Ca(c,139),Ca(c,8),c.gzhead)Ca(c,(c.gzhead.text?1:0)+(c.gzhead.hcrc?
  2:0)+(c.gzhead.extra?4:0)+(c.gzhead.name?8:0)+(c.gzhead.comment?16:0)),Ca(c,c.gzhead.time&255),Ca(c,c.gzhead.time>>8&255),Ca(c,c.gzhead.time>>16&255),Ca(c,c.gzhead.time>>24&255),Ca(c,9===c.level?2:c.strategy>=Uf||2>c.level?4:0),Ca(c,c.gzhead.os&255),c.gzhead.extra&&c.gzhead.extra.length&&(Ca(c,c.gzhead.extra.length&255),Ca(c,c.gzhead.extra.length>>8&255)),c.gzhead.hcrc&&(b.adler=kb(b.adler,c.pending_buf,c.pending,0)),c.gzindex=0,c.status=69;else if(Ca(c,0),Ca(c,0),Ca(c,0),Ca(c,0),Ca(c,0),Ca(c,9===
  c.level?2:c.strategy>=Uf||2>c.level?4:0),Ca(c,3),c.status=113,Bb(b),0!==c.pending)return c.last_flush=-1,pb;if(69===c.status){if(c.gzhead.extra){d=c.pending;for(var e=(c.gzhead.extra.length&65535)-c.gzindex;c.pending+e>c.pending_buf_size;){var f=c.pending_buf_size-c.pending;c.pending_buf.set(c.gzhead.extra.subarray(c.gzindex,c.gzindex+f),c.pending);c.pending=c.pending_buf_size;c.gzhead.hcrc&&c.pending>d&&(b.adler=kb(b.adler,c.pending_buf,c.pending-d,d));c.gzindex+=f;Bb(b);if(0!==c.pending)return c.last_flush=
  -1,pb;d=0;e-=f}f=new Uint8Array(c.gzhead.extra);c.pending_buf.set(f.subarray(c.gzindex,c.gzindex+e),c.pending);c.pending+=e;c.gzhead.hcrc&&c.pending>d&&(b.adler=kb(b.adler,c.pending_buf,c.pending-d,d));c.gzindex=0}c.status=73}if(73===c.status){if(c.gzhead.name){d=c.pending;do{if(c.pending===c.pending_buf_size){c.gzhead.hcrc&&c.pending>d&&(b.adler=kb(b.adler,c.pending_buf,c.pending-d,d));Bb(b);if(0!==c.pending)return c.last_flush=-1,pb;d=0}e=c.gzindex<c.gzhead.name.length?c.gzhead.name.charCodeAt(c.gzindex++)&
  255:0;Ca(c,e)}while(0!==e);c.gzhead.hcrc&&c.pending>d&&(b.adler=kb(b.adler,c.pending_buf,c.pending-d,d));c.gzindex=0}c.status=91}if(91===c.status){if(c.gzhead.comment){d=c.pending;do{if(c.pending===c.pending_buf_size){c.gzhead.hcrc&&c.pending>d&&(b.adler=kb(b.adler,c.pending_buf,c.pending-d,d));Bb(b);if(0!==c.pending)return c.last_flush=-1,pb;d=0}e=c.gzindex<c.gzhead.comment.length?c.gzhead.comment.charCodeAt(c.gzindex++)&255:0;Ca(c,e)}while(0!==e);c.gzhead.hcrc&&c.pending>d&&(b.adler=kb(b.adler,
  c.pending_buf,c.pending-d,d))}c.status=103}if(103===c.status){if(c.gzhead.hcrc){if(c.pending+2>c.pending_buf_size&&(Bb(b),0!==c.pending))return c.last_flush=-1,pb;Ca(c,b.adler&255);Ca(c,b.adler>>8&255);b.adler=0}c.status=113;Bb(b);if(0!==c.pending)return c.last_flush=-1,pb}if(0!==b.avail_in||0!==c.lookahead||a!==xc&&666!==c.status){d=0===c.level?Xk(c,a):c.strategy===Uf?zp(c,a):c.strategy===up?yp(c,a):Oe[c.level].func(c,a);if(3===d||4===d)c.status=666;if(1===d||3===d)return 0===b.avail_out&&(c.last_flush=
  -1),pb;if(2===d&&(a===pp?(yb(c,2,3),Xb(c,256,mc),16===c.bi_valid?(Le(c,c.bi_buf),c.bi_buf=0,c.bi_valid=0):8<=c.bi_valid&&(c.pending_buf[c.pending++]=c.bi_buf&255,c.bi_buf>>=8,c.bi_valid-=8)):a!==Uk&&(Tf(c,0,0,!1),a===qp&&(oc(c.head),0===c.lookahead&&(c.strstart=0,c.block_start=0,c.insert=0))),Bb(b),0===b.avail_out))return c.last_flush=-1,pb}if(a!==Eb)return pb;if(0>=c.wrap)return Vk;2===c.wrap?(Ca(c,b.adler&255),Ca(c,b.adler>>8&255),Ca(c,b.adler>>16&255),Ca(c,b.adler>>24&255),Ca(c,b.total_in&255),
  Ca(c,b.total_in>>8&255),Ca(c,b.total_in>>16&255),Ca(c,b.total_in>>24&255)):(Ne(c,b.adler>>>16),Ne(c,b.adler&65535));Bb(b);0<c.wrap&&(c.wrap=-c.wrap);return 0!==c.pending?pb:Vk},deflateEnd:function(b){if(Pe(b))return Yb;var a=b.state.status;b.state=null;return 113===a?jd(b,rp):pb},deflateSetDictionary:function(b,a){var c=a.length;if(Pe(b))return Yb;var d=b.state,e=d.wrap;if(2===e||1===e&&42!==d.status||d.lookahead)return Yb;1===e&&(b.adler=Me(b.adler,a,c,0));d.wrap=0;if(c>=d.w_size){0===e&&(oc(d.head),
  d.strstart=0,d.block_start=0,d.insert=0);var f=new Uint8Array(d.w_size);f.set(a.subarray(c-d.w_size,c),0);a=f;c=d.w_size}f=b.avail_in;var g=b.next_in,h=b.input;b.avail_in=c;b.next_in=0;b.input=a;for(Od(d);3<=d.lookahead;){a=d.strstart;c=d.lookahead-2;do d.ins_h=yc(d,d.ins_h,d.window[a+3-1]),d.prev[a&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=a,a++;while(--c);d.strstart=a;d.lookahead=2;Od(d)}d.strstart+=d.lookahead;d.block_start=d.strstart;d.insert=d.lookahead;d.lookahead=0;d.match_length=d.prev_length=
  2;d.match_available=0;b.next_in=g;b.input=h;b.avail_in=f;d.wrap=e;return pb},deflateInfo:"pako deflate (from Nodeca project)"},$e={assign:function(b){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var c=a.shift();if(c){if("object"!==S(c))throw new TypeError(c+"must be non-object");for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(b[d]=c[d])}}return b},flattenChunks:function(b){for(var a=0,c=0,d=b.length;c<d;c++)a+=b[c].length;a=new Uint8Array(a);d=c=0;for(var e=b.length;c<e;c++){var f=
  b[c];a.set(f,d);d+=f.length}return a}},al=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(b){al=!1}for(var Qe=new Uint8Array(256),zc=0;256>zc;zc++)Qe[zc]=252<=zc?6:248<=zc?5:240<=zc?4:224<=zc?3:192<=zc?2:1;Qe[254]=Qe[254]=1;var he={string2buf:function(b){if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(b);var a,c,d=b.length,e=0;for(a=0;a<d;a++){var f=b.charCodeAt(a);if(55296===(f&64512)&&a+1<d){var g=b.charCodeAt(a+1);56320===(g&64512)&&
  (f=65536+(f-55296<<10)+(g-56320),a++)}e+=128>f?1:2048>f?2:65536>f?3:4}var h=new Uint8Array(e);for(a=c=0;c<e;a++)f=b.charCodeAt(a),55296===(f&64512)&&a+1<d&&(g=b.charCodeAt(a+1),56320===(g&64512)&&(f=65536+(f-55296<<10)+(g-56320),a++)),128>f?h[c++]=f:(2048>f?h[c++]=192|f>>>6:(65536>f?h[c++]=224|f>>>12:(h[c++]=240|f>>>18,h[c++]=128|f>>>12&63),h[c++]=128|f>>>6&63),h[c++]=128|f&63);return h},buf2string:function(b,a){var c=a||b.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(b.subarray(0,
  a));var d,e;a=Array(2*c);for(d=e=0;d<c;){var f=b[d++];if(128>f)a[e++]=f;else{var g=Qe[f];if(4<g)a[e++]=65533,d+=g-1;else{for(f&=2===g?31:3===g?15:7;1<g&&d<c;)f=f<<6|b[d++]&63,g--;1<g?a[e++]=65533:65536>f?a[e++]=f:(f-=65536,a[e++]=55296|f>>10&1023,a[e++]=56320|f&1023)}}}b=e;if(65534>b&&a.subarray&&al)a=String.fromCharCode.apply(null,a.length===b?a:a.subarray(0,b));else{c="";for(d=0;d<b;d++)c+=String.fromCharCode(a[d]);a=c}return a},utf8border:function(b,a){a=a||b.length;a>b.length&&(a=b.length);for(var c=
  a-1;0<=c&&128===(b[c]&192);)c--;return 0>c||0===c?a:c+Qe[b[c]]>a?c:a}},Ii=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0},Ji=Object.prototype.toString,Ap=oa.Z_NO_FLUSH,Bp=oa.Z_SYNC_FLUSH,Cp=oa.Z_FULL_FLUSH,Dp=oa.Z_FINISH,af=oa.Z_OK,Ep=oa.Z_STREAM_END,Mm=oa.Z_DEFAULT_COMPRESSION,Om=oa.Z_DEFAULT_STRATEGY,Nm=oa.Z_DEFLATED;fe.prototype.push=function(b,a){var c=
  this.strm,d=this.options.chunkSize;if(this.ended)return!1;a=a===~~a?a:!0===a?Dp:Ap;"string"===typeof b?c.input=he.string2buf(b):"[object ArrayBuffer]"===Ji.call(b)?c.input=new Uint8Array(b):c.input=b;c.next_in=0;for(c.avail_in=c.input.length;;)if(0===c.avail_out&&(c.output=new Uint8Array(d),c.next_out=0,c.avail_out=d),(a===Bp||a===Cp)&&6>=c.avail_out)this.onData(c.output.subarray(0,c.next_out)),c.avail_out=0;else{b=ge.deflate(c,a);if(b===Ep){if(0<c.next_out)this.onData(c.output.subarray(0,c.next_out));
  b=ge.deflateEnd(this.strm);this.onEnd(b);this.ended=!0;return b===af}if(0===c.avail_out)this.onData(c.output);else if(0<a&&0<c.next_out)this.onData(c.output.subarray(0,c.next_out)),c.avail_out=0;else if(0===c.avail_in)break}return!0};fe.prototype.onData=function(b){this.chunks.push(b)};fe.prototype.onEnd=function(b){b===af&&(this.result=$e.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};var Fp=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,
  99,115,131,163,195,227,258,0,0]),Gp=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Hp=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ip=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Re=function(b,a,c,d,e,f,g,h){var k=h.bits,l,n,m,p,r,u,q=new Uint16Array(16);var w=new Uint16Array(16);
  var v;for(l=0;15>=l;l++)q[l]=0;for(n=0;n<d;n++)q[a[c+n]]++;var x=k;for(m=15;1<=m&&0===q[m];m--);x>m&&(x=m);if(0===m)return e[f++]=20971520,e[f++]=20971520,h.bits=1,0;for(k=1;k<m&&0===q[k];k++);x<k&&(x=k);for(l=p=1;15>=l;l++)if(p<<=1,p-=q[l],0>p)return-1;if(0<p&&(0===b||1!==m))return-1;w[1]=0;for(l=1;15>l;l++)w[l+1]=w[l]+q[l];for(n=0;n<d;n++)0!==a[c+n]&&(g[w[a[c+n]]++]=n);if(0===b){var C=v=g;var F=20}else 1===b?(C=Fp,v=Gp,F=257):(C=Hp,v=Ip,F=0);n=r=0;l=k;var H=f;d=x;w=0;var G=-1;var E=1<<x;var I=E-
  1;if(1===b&&852<E||2===b&&592<E)return 1;for(;;){var M=l-w;if(g[n]+1<F){var ha=0;var W=g[n]}else g[n]>=F?(ha=v[g[n]-F],W=C[g[n]-F]):(ha=96,W=0);p=1<<l-w;k=u=1<<d;do u-=p,e[H+(r>>w)+u]=M<<24|ha<<16|W|0;while(0!==u);for(p=1<<l-1;r&p;)p>>=1;0!==p?(r&=p-1,r+=p):r=0;n++;if(0===--q[l]){if(l===m)break;l=a[c+g[n]]}if(l>x&&(r&I)!==G){0===w&&(w=x);H+=k;d=l-w;for(p=1<<d;d+w<m;){p-=q[d+w];if(0>=p)break;d++;p<<=1}E+=1<<d;if(1===b&&852<E||2===b&&592<E)return 1;G=r&I;e[G]=x<<24|d<<16|H-f|0}}0!==r&&(e[H+r]=l-w<<
  24|4194304);h.bits=x;return 0},bl=oa.Z_FINISH,Jp=oa.Z_BLOCK,Vf=oa.Z_TREES,kd=oa.Z_OK,Kp=oa.Z_STREAM_END,Lp=oa.Z_NEED_DICT,Fb=oa.Z_STREAM_ERROR,cl=oa.Z_DATA_ERROR,dl=oa.Z_MEM_ERROR,Mp=oa.Z_BUF_ERROR,el=oa.Z_DEFLATED,fl=function(b){return(b>>>24&255)+(b>>>8&65280)+((b&65280)<<8)+((b&255)<<24)},ld=function(b){if(!b)return 1;var a=b.state;return!a||a.strm!==b||16180>a.mode||16211<a.mode?1:0},gl=function(b){if(ld(b))return Fb;var a=b.state;b.total_in=b.total_out=a.total=0;b.msg="";a.wrap&&(b.adler=a.wrap&
  1);a.mode=16180;a.last=0;a.havedict=0;a.flags=-1;a.dmax=32768;a.head=null;a.hold=0;a.bits=0;a.lencode=a.lendyn=new Int32Array(852);a.distcode=a.distdyn=new Int32Array(592);a.sane=1;a.back=-1;return kd},hl=function(b){if(ld(b))return Fb;var a=b.state;a.wsize=0;a.whave=0;a.wnext=0;return gl(b)},il=function(b,a){if(ld(b))return Fb;var c=b.state;if(0>a){var d=0;a=-a}else d=(a>>4)+5,48>a&&(a&=15);if(a&&(8>a||15<a))return Fb;null!==c.window&&c.wbits!==a&&(c.window=null);c.wrap=d;c.wbits=a;return hl(b)},
  jl=function(b,a){if(!b)return Fb;var c=new Pm;b.state=c;c.strm=b;c.window=null;c.mode=16180;a=il(b,a);a!==kd&&(b.state=null);return a},kl=!0,Rh,Sh,ll=function(b,a,c,d){var e=b.state;null===e.window&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new Uint8Array(e.wsize));d>=e.wsize?(e.window.set(a.subarray(c-e.wsize,c),0),e.wnext=0,e.whave=e.wsize):(b=e.wsize-e.wnext,b>d&&(b=d),e.window.set(a.subarray(c-d,c-d+b),e.wnext),(d-=b)?(e.window.set(a.subarray(c-d,c),0),e.wnext=d,e.whave=e.wsize):(e.wnext+=
  b,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=b)));return 0},$b={inflateReset:hl,inflateReset2:il,inflateResetKeep:gl,inflateInit:function(b){return jl(b,15)},inflateInit2:jl,inflate:function(b,a){var c=new Uint8Array(4),d=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ld(b)||!b.output||!b.input&&0!==b.avail_in)return Fb;var e=b.state;16191===e.mode&&(e.mode=16192);var f=b.next_out;var g=b.output;var h=b.avail_out;var k=b.next_in;var l=b.input;var n=b.avail_in;var m=
  e.hold;var p=e.bits;var r=n;var u=h;var q=kd;a:for(;;)switch(e.mode){case 16180:if(0===e.wrap){e.mode=16192;break}for(;16>p;){if(0===n)break a;n--;m+=l[k++]<<p;p+=8}if(e.wrap&2&&35615===m){0===e.wbits&&(e.wbits=15);e.check=0;c[0]=m&255;c[1]=m>>>8&255;e.check=kb(e.check,c,2,0);p=m=0;e.mode=16181;break}e.head&&(e.head.done=!1);if(!(e.wrap&1)||(((m&255)<<8)+(m>>8))%31){b.msg="incorrect header check";e.mode=16209;break}if((m&15)!==el){b.msg="unknown compression method";e.mode=16209;break}m>>>=4;p-=4;
  var w=(m&15)+8;0===e.wbits&&(e.wbits=w);if(15<w||w>e.wbits){b.msg="invalid window size";e.mode=16209;break}e.dmax=1<<e.wbits;e.flags=0;b.adler=e.check=1;e.mode=m&512?16189:16191;p=m=0;break;case 16181:for(;16>p;){if(0===n)break a;n--;m+=l[k++]<<p;p+=8}e.flags=m;if((e.flags&255)!==el){b.msg="unknown compression method";e.mode=16209;break}if(e.flags&57344){b.msg="unknown header flags set";e.mode=16209;break}e.head&&(e.head.text=m>>8&1);e.flags&512&&e.wrap&4&&(c[0]=m&255,c[1]=m>>>8&255,e.check=kb(e.check,
  c,2,0));p=m=0;e.mode=16182;case 16182:for(;32>p;){if(0===n)break a;n--;m+=l[k++]<<p;p+=8}e.head&&(e.head.time=m);e.flags&512&&e.wrap&4&&(c[0]=m&255,c[1]=m>>>8&255,c[2]=m>>>16&255,c[3]=m>>>24&255,e.check=kb(e.check,c,4,0));p=m=0;e.mode=16183;case 16183:for(;16>p;){if(0===n)break a;n--;m+=l[k++]<<p;p+=8}e.head&&(e.head.xflags=m&255,e.head.os=m>>8);e.flags&512&&e.wrap&4&&(c[0]=m&255,c[1]=m>>>8&255,e.check=kb(e.check,c,2,0));p=m=0;e.mode=16184;case 16184:if(e.flags&1024){for(;16>p;){if(0===n)break a;
  n--;m+=l[k++]<<p;p+=8}e.length=m;e.head&&(e.head.extra_len=m);e.flags&512&&e.wrap&4&&(c[0]=m&255,c[1]=m>>>8&255,e.check=kb(e.check,c,2,0));p=m=0}else e.head&&(e.head.extra=null);e.mode=16185;case 16185:if(e.flags&1024){var v=e.length;v>n&&(v=n);v&&(e.head&&(w=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(l.subarray(k,k+v),w)),e.flags&512&&e.wrap&4&&(e.check=kb(e.check,l,v,k)),n-=v,k+=v,e.length-=v);if(e.length)break a}e.length=0;e.mode=16186;
  case 16186:if(e.flags&2048){if(0===n)break a;v=0;do w=l[k+v++],e.head&&w&&65536>e.length&&(e.head.name+=String.fromCharCode(w));while(w&&v<n);e.flags&512&&e.wrap&4&&(e.check=kb(e.check,l,v,k));n-=v;k+=v;if(w)break a}else e.head&&(e.head.name=null);e.length=0;e.mode=16187;case 16187:if(e.flags&4096){if(0===n)break a;v=0;do w=l[k+v++],e.head&&w&&65536>e.length&&(e.head.comment+=String.fromCharCode(w));while(w&&v<n);e.flags&512&&e.wrap&4&&(e.check=kb(e.check,l,v,k));n-=v;k+=v;if(w)break a}else e.head&&
  (e.head.comment=null);e.mode=16188;case 16188:if(e.flags&512){for(;16>p;){if(0===n)break a;n--;m+=l[k++]<<p;p+=8}if(e.wrap&4&&m!==(e.check&65535)){b.msg="header crc mismatch";e.mode=16209;break}p=m=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0);b.adler=e.check=0;e.mode=16191;break;case 16189:for(;32>p;){if(0===n)break a;n--;m+=l[k++]<<p;p+=8}b.adler=e.check=fl(m);p=m=0;e.mode=16190;case 16190:if(0===e.havedict)return b.next_out=f,b.avail_out=h,b.next_in=k,b.avail_in=n,e.hold=m,e.bits=p,Lp;b.adler=
  e.check=1;e.mode=16191;case 16191:if(a===Jp||a===Vf)break a;case 16192:if(e.last){m>>>=p&7;p-=p&7;e.mode=16206;break}for(;3>p;){if(0===n)break a;n--;m+=l[k++]<<p;p+=8}e.last=m&1;m>>>=1;--p;switch(m&3){case 0:e.mode=16193;break;case 1:v=e;if(kl){Rh=new Int32Array(512);Sh=new Int32Array(32);for(w=0;144>w;)v.lens[w++]=8;for(;256>w;)v.lens[w++]=9;for(;280>w;)v.lens[w++]=7;for(;288>w;)v.lens[w++]=8;Re(1,v.lens,0,288,Rh,0,v.work,{bits:9});for(w=0;32>w;)v.lens[w++]=5;Re(2,v.lens,0,32,Sh,0,v.work,{bits:5});
  kl=!1}v.lencode=Rh;v.lenbits=9;v.distcode=Sh;v.distbits=5;e.mode=16199;if(a===Vf){m>>>=2;p-=2;break a}break;case 2:e.mode=16196;break;case 3:b.msg="invalid block type",e.mode=16209}m>>>=2;p-=2;break;case 16193:m>>>=p&7;for(p-=p&7;32>p;){if(0===n)break a;n--;m+=l[k++]<<p;p+=8}if((m&65535)!==(m>>>16^65535)){b.msg="invalid stored block lengths";e.mode=16209;break}e.length=m&65535;p=m=0;e.mode=16194;if(a===Vf)break a;case 16194:e.mode=16195;case 16195:if(v=e.length){v>n&&(v=n);v>h&&(v=h);if(0===v)break a;
  g.set(l.subarray(k,k+v),f);n-=v;k+=v;h-=v;f+=v;e.length-=v;break}e.mode=16191;break;case 16196:for(;14>p;){if(0===n)break a;n--;m+=l[k++]<<p;p+=8}e.nlen=(m&31)+257;m>>>=5;p-=5;e.ndist=(m&31)+1;m>>>=5;p-=5;e.ncode=(m&15)+4;m>>>=4;p-=4;if(286<e.nlen||30<e.ndist){b.msg="too many length or distance symbols";e.mode=16209;break}e.have=0;e.mode=16197;case 16197:for(;e.have<e.ncode;){for(;3>p;){if(0===n)break a;n--;m+=l[k++]<<p;p+=8}e.lens[d[e.have++]]=m&7;m>>>=3;p-=3}for(;19>e.have;)e.lens[d[e.have++]]=
  0;e.lencode=e.lendyn;e.lenbits=7;v={bits:e.lenbits};q=Re(0,e.lens,0,19,e.lencode,0,e.work,v);e.lenbits=v.bits;if(q){b.msg="invalid code lengths set";e.mode=16209;break}e.have=0;e.mode=16198;case 16198:for(;e.have<e.nlen+e.ndist;){for(;;){var x=e.lencode[m&(1<<e.lenbits)-1];v=x>>>24;x&=65535;if(v<=p)break;if(0===n)break a;n--;m+=l[k++]<<p;p+=8}if(16>x)m>>>=v,p-=v,e.lens[e.have++]=x;else{if(16===x){for(w=v+2;p<w;){if(0===n)break a;n--;m+=l[k++]<<p;p+=8}m>>>=v;p-=v;if(0===e.have){b.msg="invalid bit length repeat";
  e.mode=16209;break}w=e.lens[e.have-1];v=3+(m&3);m>>>=2;p-=2}else if(17===x){for(w=v+3;p<w;){if(0===n)break a;n--;m+=l[k++]<<p;p+=8}m>>>=v;p-=v;w=0;v=3+(m&7);m>>>=3;p-=3}else{for(w=v+7;p<w;){if(0===n)break a;n--;m+=l[k++]<<p;p+=8}m>>>=v;p-=v;w=0;v=11+(m&127);m>>>=7;p-=7}if(e.have+v>e.nlen+e.ndist){b.msg="invalid bit length repeat";e.mode=16209;break}for(;v--;)e.lens[e.have++]=w}}if(16209===e.mode)break;if(0===e.lens[256]){b.msg="invalid code -- missing end-of-block";e.mode=16209;break}e.lenbits=9;
  v={bits:e.lenbits};q=Re(1,e.lens,0,e.nlen,e.lencode,0,e.work,v);e.lenbits=v.bits;if(q){b.msg="invalid literal/lengths set";e.mode=16209;break}e.distbits=6;e.distcode=e.distdyn;v={bits:e.distbits};q=Re(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,v);e.distbits=v.bits;if(q){b.msg="invalid distances set";e.mode=16209;break}e.mode=16199;if(a===Vf)break a;case 16199:e.mode=16200;case 16200:if(6<=n&&258<=h){b.next_out=f;b.avail_out=h;b.next_in=k;b.avail_in=n;e.hold=m;e.bits=p;var C=b,F=C.state;var H=C.next_in;
  g=C.input;var G=H+(C.avail_in-5);var E=C.next_out;l=C.output;var I=E-(u-C.avail_out);var M=E+(C.avail_out-257);var ha=F.dmax;x=F.wsize;var W=F.whave;var ia=F.wnext;var N=F.window;w=F.hold;v=F.bits;p=F.lencode;m=F.distcode;h=(1<<F.lenbits)-1;n=(1<<F.distbits)-1;b:do{15>v&&(w+=g[H++]<<v,v+=8,w+=g[H++]<<v,v+=8);var y=p[w&h];c:for(;;){f=y>>>24;w>>>=f;v-=f;f=y>>>16&255;if(0===f)l[E++]=y&65535;else if(f&16){k=y&65535;if(f&=15)v<f&&(w+=g[H++]<<v,v+=8),k+=w&(1<<f)-1,w>>>=f,v-=f;15>v&&(w+=g[H++]<<v,v+=8,w+=
  g[H++]<<v,v+=8);y=m[w&n];d:for(;;){f=y>>>24;w>>>=f;v-=f;f=y>>>16&255;if(f&16){var D=y&65535;f&=15;v<f&&(w+=g[H++]<<v,v+=8,v<f&&(w+=g[H++]<<v,v+=8));D+=w&(1<<f)-1;if(D>ha){C.msg="invalid distance too far back";F.mode=16209;break b}w>>>=f;v-=f;f=E-I;if(D>f){f=D-f;if(f>W&&F.sane){C.msg="invalid distance too far back";F.mode=16209;break b}var A=0;y=N;if(0===ia){if(A+=x-f,f<k){k-=f;do l[E++]=N[A++];while(--f);A=E-D;y=l}}else if(ia<f){if(A+=x+ia-f,f-=ia,f<k){k-=f;do l[E++]=N[A++];while(--f);A=0;if(ia<k){f=
  ia;k-=f;do l[E++]=N[A++];while(--f);A=E-D;y=l}}}else if(A+=ia-f,f<k){k-=f;do l[E++]=N[A++];while(--f);A=E-D;y=l}for(;2<k;)l[E++]=y[A++],l[E++]=y[A++],l[E++]=y[A++],k-=3;k&&(l[E++]=y[A++],1<k&&(l[E++]=y[A++]))}else{A=E-D;do l[E++]=l[A++],l[E++]=l[A++],l[E++]=l[A++],k-=3;while(2<k);k&&(l[E++]=l[A++],1<k&&(l[E++]=l[A++]))}}else if(0===(f&64)){y=m[(y&65535)+(w&(1<<f)-1)];continue d}else{C.msg="invalid distance code";F.mode=16209;break b}break}}else if(0===(f&64)){y=p[(y&65535)+(w&(1<<f)-1)];continue c}else{f&
  32?F.mode=16191:(C.msg="invalid literal/length code",F.mode=16209);break b}break}}while(H<G&&E<M);k=v>>3;H-=k;v-=k<<3;C.next_in=H;C.next_out=E;C.avail_in=H<G?5+(G-H):5-(H-G);C.avail_out=E<M?257+(M-E):257-(E-M);F.hold=w&(1<<v)-1;F.bits=v;f=b.next_out;g=b.output;h=b.avail_out;k=b.next_in;l=b.input;n=b.avail_in;m=e.hold;p=e.bits;16191===e.mode&&(e.back=-1);break}for(e.back=0;;){x=e.lencode[m&(1<<e.lenbits)-1];v=x>>>24;w=x>>>16&255;x&=65535;if(v<=p)break;if(0===n)break a;n--;m+=l[k++]<<p;p+=8}if(w&&0===
  (w&240)){N=v;ia=w;for(W=x;;){x=e.lencode[W+((m&(1<<N+ia)-1)>>N)];v=x>>>24;w=x>>>16&255;x&=65535;if(N+v<=p)break;if(0===n)break a;n--;m+=l[k++]<<p;p+=8}m>>>=N;p-=N;e.back+=N}m>>>=v;p-=v;e.back+=v;e.length=x;if(0===w){e.mode=16205;break}if(w&32){e.back=-1;e.mode=16191;break}if(w&64){b.msg="invalid literal/length code";e.mode=16209;break}e.extra=w&15;e.mode=16201;case 16201:if(e.extra){for(w=e.extra;p<w;){if(0===n)break a;n--;m+=l[k++]<<p;p+=8}e.length+=m&(1<<e.extra)-1;m>>>=e.extra;p-=e.extra;e.back+=
  e.extra}e.was=e.length;e.mode=16202;case 16202:for(;;){x=e.distcode[m&(1<<e.distbits)-1];v=x>>>24;w=x>>>16&255;x&=65535;if(v<=p)break;if(0===n)break a;n--;m+=l[k++]<<p;p+=8}if(0===(w&240)){N=v;ia=w;for(W=x;;){x=e.distcode[W+((m&(1<<N+ia)-1)>>N)];v=x>>>24;w=x>>>16&255;x&=65535;if(N+v<=p)break;if(0===n)break a;n--;m+=l[k++]<<p;p+=8}m>>>=N;p-=N;e.back+=N}m>>>=v;p-=v;e.back+=v;if(w&64){b.msg="invalid distance code";e.mode=16209;break}e.offset=x;e.extra=w&15;e.mode=16203;case 16203:if(e.extra){for(w=e.extra;p<
  w;){if(0===n)break a;n--;m+=l[k++]<<p;p+=8}e.offset+=m&(1<<e.extra)-1;m>>>=e.extra;p-=e.extra;e.back+=e.extra}if(e.offset>e.dmax){b.msg="invalid distance too far back";e.mode=16209;break}e.mode=16204;case 16204:if(0===h)break a;v=u-h;if(e.offset>v){v=e.offset-v;if(v>e.whave&&e.sane){b.msg="invalid distance too far back";e.mode=16209;break}v>e.wnext?(v-=e.wnext,w=e.wsize-v):w=e.wnext-v;v>e.length&&(v=e.length);N=e.window}else N=g,w=f-e.offset,v=e.length;v>h&&(v=h);h-=v;e.length-=v;do g[f++]=N[w++];
  while(--v);0===e.length&&(e.mode=16200);break;case 16205:if(0===h)break a;g[f++]=e.length;h--;e.mode=16200;break;case 16206:if(e.wrap){for(;32>p;){if(0===n)break a;n--;m|=l[k++]<<p;p+=8}u-=h;b.total_out+=u;e.total+=u;e.wrap&4&&u&&(b.adler=e.check=e.flags?kb(e.check,g,u,f-u):Me(e.check,g,u,f-u));u=h;if(e.wrap&4&&(e.flags?m:fl(m))!==e.check){b.msg="incorrect data check";e.mode=16209;break}p=m=0}e.mode=16207;case 16207:if(e.wrap&&e.flags){for(;32>p;){if(0===n)break a;n--;m+=l[k++]<<p;p+=8}if(e.wrap&
  4&&m!==(e.total&4294967295)){b.msg="incorrect length check";e.mode=16209;break}p=m=0}e.mode=16208;case 16208:q=Kp;break a;case 16209:q=cl;break a;case 16210:return dl;default:return Fb}b.next_out=f;b.avail_out=h;b.next_in=k;b.avail_in=n;e.hold=m;e.bits=p;(e.wsize||u!==b.avail_out&&16209>e.mode&&(16206>e.mode||a!==bl))&&ll(b,b.output,b.next_out,u-b.avail_out);r-=b.avail_in;u-=b.avail_out;b.total_in+=r;b.total_out+=u;e.total+=u;e.wrap&4&&u&&(b.adler=e.check=e.flags?kb(e.check,g,u,b.next_out-u):Me(e.check,
  g,u,b.next_out-u));b.data_type=e.bits+(e.last?64:0)+(16191===e.mode?128:0)+(16199===e.mode||16194===e.mode?256:0);(0===r&&0===u||a===bl)&&q===kd&&(q=Mp);return q},inflateEnd:function(b){if(ld(b))return Fb;var a=b.state;a.window&&(a.window=null);b.state=null;return kd},inflateGetHeader:function(b,a){if(ld(b))return Fb;b=b.state;if(0===(b.wrap&2))return Fb;b.head=a;a.done=!1;return kd},inflateSetDictionary:function(b,a){var c=a.length;if(ld(b))return Fb;var d=b.state;if(0!==d.wrap&&16190!==d.mode)return Fb;
  if(16190===d.mode){var e=Me(1,a,c,0);if(e!==d.check)return cl}if(ll(b,a,c,c))return d.mode=16210,dl;d.havedict=1;return kd},inflateInfo:"pako inflate (from Nodeca project)"},Qm=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1},Ki=Object.prototype.toString,Np=oa.Z_NO_FLUSH,Op=oa.Z_FINISH,je=oa.Z_OK,Th=oa.Z_STREAM_END,Uh=oa.Z_NEED_DICT,Pp=oa.Z_STREAM_ERROR,ml=oa.Z_DATA_ERROR,Qp=oa.Z_MEM_ERROR;ie.prototype.push=function(b,
  a){var c=this.strm,d=this.options.chunkSize,e=this.options.dictionary;if(this.ended)return!1;var f=a===~~a?a:!0===a?Op:Np;"[object ArrayBuffer]"===Ki.call(b)?c.input=new Uint8Array(b):c.input=b;c.next_in=0;for(c.avail_in=c.input.length;;){0===c.avail_out&&(c.output=new Uint8Array(d),c.next_out=0,c.avail_out=d);a=$b.inflate(c,f);a===Uh&&e&&(a=$b.inflateSetDictionary(c,e),a===je?a=$b.inflate(c,f):a===ml&&(a=Uh));for(;0<c.avail_in&&a===Th&&0<c.state.wrap&&0!==b[c.next_in];)$b.inflateReset(c),a=$b.inflate(c,
  f);switch(a){case Pp:case ml:case Uh:case Qp:return this.onEnd(a),this.ended=!0,!1}var g=c.avail_out;if(c.next_out&&(0===c.avail_out||a===Th))if("string"===this.options.to){var h=he.utf8border(c.output,c.next_out),k=c.next_out-h,l=he.buf2string(c.output,h);c.next_out=k;c.avail_out=d-k;k&&c.output.set(c.output.subarray(h,h+k),0);this.onData(l)}else this.onData(c.output.length===c.next_out?c.output:c.output.subarray(0,c.next_out));if(a!==je||0!==g){if(a===Th){a=$b.inflateEnd(this.strm);this.onEnd(a);
  this.ended=!0;break}if(0===c.avail_in)break}}return!0};ie.prototype.onData=function(b){this.chunks.push(b)};ie.prototype.onEnd=function(b){b===je&&(this.result="string"===this.options.to?this.chunks.join(""):$e.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};var Vj={Deflate:fe,deflate:yg,deflateRaw:function(b,a){a=a||{};a.raw=!0;return yg(b,a)},gzip:function(b,a){a=a||{};a.gzip=!0;return yg(b,a)},Inflate:ie,inflate:zg,inflateRaw:function(b,a){a=a||{};a.raw=!0;return zg(b,
  a)},ungzip:zg,constants:oa},rn=["inputs"],un=["inputId"],Gn=["inputs"],Jn=["inputId"],Rp=["type"],Sp=Object.defineProperty,Q=function(b,a,c){a="symbol"!==S(a)?a+"":a;return a in b?Sp(b,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):b[a]=c},nl,Tp=Object.defineProperty,ol=function(b,a,c){a="symbol"!==S(a)?a+"":a;return a in b?Tp(b,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):b[a]=c},hb=function(b){b[b.Document=0]="Document";b[b.DocumentType=1]="DocumentType";b[b.Element=2]="Element";
  b[b.Text=3]="Text";b[b.CDATA=4]="CDATA";b[b.Comment=5]="Comment";return b}(hb||{}),Li={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},Mi={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},bf={},Bg={},Cg={},sb={childNodes:function(b){return pc("Node",b,"childNodes")},parentNode:function(b){return pc("Node",b,"parentNode")},
  parentElement:function(b){return pc("Node",b,"parentElement")},textContent:function(b){return pc("Node",b,"textContent")},contains:function(b,a){return Ni("Node",b,"contains")(a)},getRootNode:function(b){return Ni("Node",b,"getRootNode")()},host:function(b){return b&&"host"in b?pc("ShadowRoot",b,"host"):null},styleSheets:function(b){return b.styleSheets},shadowRoot:function(b){return b&&"shadowRoot"in b?pc("Element",b,"shadowRoot"):null},querySelector:function(b,a){return pc("Element",b,"querySelector")(a)},
  querySelectorAll:function(b,a){return pc("Element",b,"querySelectorAll")(a)},mutationObserver:function(){return Ag("MutationObserver").constructor}},Wi=function(){function b(){ka(this,b);ol(this,"idNodeMap",new Map);ol(this,"nodeMetaMap",new WeakMap)}return la(b,[{key:"getId",value:function(a){var c;if(!a)return-1;a=null==(c=this.getMeta(a))?void 0:c.id;return null!==a&&void 0!==a?a:-1}},{key:"getNode",value:function(a){return this.idNodeMap.get(a)||null}},{key:"getIds",value:function(){return Array.from(this.idNodeMap.keys())}},
  {key:"getMeta",value:function(a){return this.nodeMetaMap.get(a)||null}},{key:"removeNodeFromMap",value:function(a){var c=this,d=this.getId(a);this.idNodeMap.delete(d);a.childNodes&&a.childNodes.forEach(function(e){return c.removeNodeFromMap(e)})}},{key:"has",value:function(a){return this.idNodeMap.has(a)}},{key:"hasNode",value:function(a){return this.nodeMetaMap.has(a)}},{key:"add",value:function(a,c){this.idNodeMap.set(c.id,a);this.nodeMetaMap.set(a,c)}},{key:"replace",value:function(a,c){var d=
  this.getNode(a);d&&(d=this.nodeMetaMap.get(d))&&this.nodeMetaMap.set(c,d);this.idNodeMap.set(a,c)}},{key:"reset",value:function(){this.idNodeMap=new Map;this.nodeMetaMap=new WeakMap}}])}(),Tm=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Um=/^(?:[a-z+]+:)?\/\//i,Vm=/^www\..*/i,Wm=/^(data:)([^,]*),(.*)/i,Qi=1,$m=/[^a-z0-9-_:]/,wd,Vi,cn=/^[^ \t\n\r\u000c]+/,bn=/^[, \t\n\r\u000c]+/,Ri=new WeakMap,Vh={},Na=String,pl=function(){return{isColorSupported:!1,reset:Na,bold:Na,dim:Na,italic:Na,underline:Na,inverse:Na,
  hidden:Na,strikethrough:Na,black:Na,red:Na,green:Na,yellow:Na,blue:Na,magenta:Na,cyan:Na,white:Na,gray:Na,bgBlack:Na,bgRed:Na,bgGreen:Na,bgYellow:Na,bgBlue:Na,bgMagenta:Na,bgCyan:Na,bgWhite:Na}};Vh=pl();Vh.createColors=pl;var ql=Vh,Qa=function(b){if(b.__esModule)return b;var a=b.default;if("function"==typeof a){var c=function e(){return this instanceof e?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};c.prototype=a.prototype}else c={};Object.defineProperty(c,"__esModule",
  {value:!0});Object.keys(b).forEach(function(d){var e=Object.getOwnPropertyDescriptor(b,d);Object.defineProperty(c,d,e.get?e:{enumerable:!0,get:function(){return b[d]}})});return c}(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),Qd=function(b){function a(c,d,e,f,g,h){ka(this,a);var k=qb(this,a,[c]);k.name="CssSyntaxError";k.reason=c;g&&(k.file=g);f&&(k.source=f);h&&(k.plugin=h);"undefined"!==typeof d&&"undefined"!==typeof e&&("number"===typeof d?
  (k.line=d,k.column=e):(k.line=d.line,k.column=d.column,k.endLine=e.line,k.endColumn=e.column));k.setMessage();Error.captureStackTrace&&Error.captureStackTrace(k,a);return k}rb(a,b);return la(a,[{key:"setMessage",value:function(){this.message=this.plugin?this.plugin+": ":"";this.message+=this.file?this.file:"<css input>";"undefined"!==typeof this.line&&(this.message+=":"+this.line+":"+this.column);this.message+=": "+this.reason}},{key:"showSourceCode",value:function(c){var d=this;if(!this.source)return"";
  var e=this.source;null==c&&(c=ql.isColorSupported);Qa&&c&&(e=Qa(e));e=e.split(/\r?\n/);var f=Math.max(this.line-3,0),g=Math.min(this.line+2,e.length),h=String(g).length;if(c){c=ql.createColors(!0);var k=c.bold,l=c.gray,n=c.red;var m=function(r){return k(n(r))};var p=function(r){return l(r)}}else m=p=function(r){return r};return e.slice(f,g).map(function(r,u){var q=f+1+u;u=" "+(" "+q).slice(-h)+" | ";return q===d.line?(q=p(u.replace(/\d/g," "))+r.slice(0,d.column-1).replace(/[^\t]/g," "),m(">")+p(u)+
  r+"\n "+q+m("^")):" "+p(u)+r}).join("\n")}},{key:"toString",value:function(){var c=this.showSourceCode();c&&(c="\n\n"+c+"\n");return this.name+": "+this.message+c}}])}(We(Error));Qd.default=Qd;var Rd=Symbol("isClean");var Wf=Symbol("my");var rl={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1},Wh=function(){function b(a){ka(this,b);this.builder=a}return la(b,[{key:"atrule",
  value:function(a,c){var d="@"+a.name,e=a.params?this.rawValue(a,"params"):"";"undefined"!==typeof a.raws.afterName?d+=a.raws.afterName:e&&(d+=" ");a.nodes?this.block(a,d+e):this.builder(d+e+((a.raws.between||"")+(c?";":"")),a)}},{key:"beforeAfter",value:function(a,c){c="decl"===a.type?this.raw(a,null,"beforeDecl"):"comment"===a.type?this.raw(a,null,"beforeComment"):"before"===c?this.raw(a,null,"beforeRule"):this.raw(a,null,"beforeClose");for(var d=a.parent,e=0;d&&"root"!==d.type;)e+=1,d=d.parent;
  if(c.includes("\n")&&(a=this.raw(a,null,"indent"),a.length))for(d=0;d<e;d++)c+=a;return c}},{key:"block",value:function(a,c){var d=this.raw(a,"between","beforeOpen");this.builder(c+d+"{",a,"start");a.nodes&&a.nodes.length?(this.body(a),c=this.raw(a,"after")):c=this.raw(a,"after","emptyBody");c&&this.builder(c);this.builder("}",a,"end")}},{key:"body",value:function(a){for(var c=a.nodes.length-1;0<c&&"comment"===a.nodes[c].type;)--c;for(var d=this.raw(a,"semicolon"),e=0;e<a.nodes.length;e++){var f=
  a.nodes[e],g=this.raw(f,"before");g&&this.builder(g);this.stringify(f,c!==e||d)}}},{key:"comment",value:function(a){var c=this.raw(a,"left","commentLeft"),d=this.raw(a,"right","commentRight");this.builder("/*"+c+a.text+d+"*/",a)}},{key:"decl",value:function(a,c){var d=this.raw(a,"between","colon");d=a.prop+d+this.rawValue(a,"value");a.important&&(d+=a.raws.important||" !important");c&&(d+=";");this.builder(d,a)}},{key:"document",value:function(a){this.body(a)}},{key:"raw",value:function(a,c,d){d||
  (d=c);if(c){var e=a.raws[c];if("undefined"!==typeof e)return e}var f=a.parent;if("before"===d&&(!f||"root"===f.type&&f.first===a||f&&"document"===f.type))return"";if(!f)return rl[d];f=a.root();f.rawCache||(f.rawCache={});if("undefined"!==typeof f.rawCache[d])return f.rawCache[d];if("before"===d||"after"===d)return this.beforeAfter(a,d);var g="raw"+ln(d);this[g]?e=this[g](f,a):f.walk(function(h){e=h.raws[c];if("undefined"!==typeof e)return!1});"undefined"===typeof e&&(e=rl[d]);return f.rawCache[d]=
  e}},{key:"rawBeforeClose",value:function(a){var c;a.walk(function(d){if(d.nodes&&0<d.nodes.length&&"undefined"!==typeof d.raws.after)return c=d.raws.after,c.includes("\n")&&(c=c.replace(/[^\n]+$/,"")),!1});c&&(c=c.replace(/\S/g,""));return c}},{key:"rawBeforeComment",value:function(a,c){var d;a.walkComments(function(e){if("undefined"!==typeof e.raws.before)return d=e.raws.before,d.includes("\n")&&(d=d.replace(/[^\n]+$/,"")),!1});"undefined"===typeof d?d=this.raw(c,null,"beforeDecl"):d&&(d=d.replace(/\S/g,
  ""));return d}},{key:"rawBeforeDecl",value:function(a,c){var d;a.walkDecls(function(e){if("undefined"!==typeof e.raws.before)return d=e.raws.before,d.includes("\n")&&(d=d.replace(/[^\n]+$/,"")),!1});"undefined"===typeof d?d=this.raw(c,null,"beforeRule"):d&&(d=d.replace(/\S/g,""));return d}},{key:"rawBeforeOpen",value:function(a){var c;a.walk(function(d){if("decl"!==d.type&&(c=d.raws.between,"undefined"!==typeof c))return!1});return c}},{key:"rawBeforeRule",value:function(a){var c;a.walk(function(d){if(d.nodes&&
  (d.parent!==a||a.first!==d)&&"undefined"!==typeof d.raws.before)return c=d.raws.before,c.includes("\n")&&(c=c.replace(/[^\n]+$/,"")),!1});c&&(c=c.replace(/\S/g,""));return c}},{key:"rawColon",value:function(a){var c;a.walkDecls(function(d){if("undefined"!==typeof d.raws.between)return c=d.raws.between.replace(/[^\s:]/g,""),!1});return c}},{key:"rawEmptyBody",value:function(a){var c;a.walk(function(d){if(d.nodes&&0===d.nodes.length&&(c=d.raws.after,"undefined"!==typeof c))return!1});return c}},{key:"rawIndent",
  value:function(a){if(a.raws.indent)return a.raws.indent;var c;a.walk(function(d){var e=d.parent;if(e&&e!==a&&e.parent&&e.parent===a&&"undefined"!==typeof d.raws.before)return d=d.raws.before.split("\n"),c=d[d.length-1],c=c.replace(/\S/g,""),!1});return c}},{key:"rawSemicolon",value:function(a){var c;a.walk(function(d){if(d.nodes&&d.nodes.length&&"decl"===d.last.type&&(c=d.raws.semicolon,"undefined"!==typeof c))return!1});return c}},{key:"rawValue",value:function(a,c){var d=a[c];return(a=a.raws[c])&&
  a.value===d?a.raw:d}},{key:"root",value:function(a){this.body(a);a.raws.after&&this.builder(a.raws.after)}},{key:"rule",value:function(a){this.block(a,this.rawValue(a,"selector"));a.raws.ownSemicolon&&this.builder(a.raws.ownSemicolon,a,"end")}},{key:"stringify",value:function(a,c){if(!this[a.type])throw Error("Unknown AST node type "+a.type+". Maybe you need to change PostCSS stringifier.");this[a.type](a,c)}}])}(),mn=Wh.default=Wh;yd.default=yd;var Sd=function(){function b(){var a=0<arguments.length&&
  void 0!==arguments[0]?arguments[0]:{};ka(this,b);this.raws={};this[Rd]=!1;this[Wf]=!0;for(var c in a)if("nodes"===c){this.nodes=[];var d=ca(a[c]),e;try{for(d.s();!(e=d.n()).done;){var f=e.value;"function"===typeof f.clone?this.append(f.clone()):this.append(f)}}catch(g){d.e(g)}finally{d.f()}}else this[c]=a[c]}return la(b,[{key:"addToError",value:function(a){a.postcssNode=this;if(a.stack&&this.source&&/\n\s{4}at /.test(a.stack)){var c=this.source;a.stack=a.stack.replace(/\n\s{4}at /,"$&".concat(c.input.from,
  ":").concat(c.start.line,":").concat(c.start.column,"$&"))}return a}},{key:"after",value:function(a){this.parent.insertAfter(this,a);return this}},{key:"assign",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c;for(c in a)this[c]=a[c];return this}},{key:"before",value:function(a){this.parent.insertBefore(this,a);return this}},{key:"cleanRaws",value:function(a){delete this.raws.before;delete this.raws.after;a||delete this.raws.between}},{key:"clone",value:function(){var a=
  0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=Ig(this),d;for(d in a)c[d]=a[d];return c}},{key:"cloneAfter",value:function(){var a=this.clone(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});this.parent.insertAfter(this,a);return a}},{key:"cloneBefore",value:function(){var a=this.clone(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});this.parent.insertBefore(this,a);return a}},{key:"error",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
  {};if(this.source){var d=this.rangeBy(c),e=d.end;d=d.start;return this.source.input.error(a,{column:d.column,line:d.line},{column:e.column,line:e.line},c)}return new Qd(a)}},{key:"getProxyProcessor",value:function(){return{get:function(a,c){return"proxyOf"===c?a:"root"===c?function(){return a.root().toProxy()}:a[c]},set:function(a,c,d){if(a[c]===d)return!0;a[c]=d;"prop"!==c&&"value"!==c&&"name"!==c&&"params"!==c&&"important"!==c&&"text"!==c||a.markDirty();return!0}}}},{key:"markDirty",value:function(){if(this[Rd]){this[Rd]=
  !1;for(var a=this;a=a.parent;)a[Rd]=!1}}},{key:"next",value:function(){if(this.parent){var a=this.parent.index(this);return this.parent.nodes[a+1]}}},{key:"positionBy",value:function(a,c){var d=this.source.start;a.index?d=this.positionInside(a.index,c):a.word&&(c=this.toString(),a=c.indexOf(a.word),-1!==a&&(d=this.positionInside(a,c)));return d}},{key:"positionInside",value:function(a,c){c=c||this.toString();for(var d=this.source.start.column,e=this.source.start.line,f=0;f<a;f++)"\n"===c[f]?(d=1,
  e+=1):d+=1;return{column:d,line:e}}},{key:"prev",value:function(){if(this.parent){var a=this.parent.index(this);return this.parent.nodes[a-1]}}},{key:"rangeBy",value:function(a){var c={column:this.source.start.column,line:this.source.start.line},d=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:c.column+1,line:c.line};if(a.word){var e=this.toString(),f=e.indexOf(a.word);-1!==f&&(c=this.positionInside(f,e),d=this.positionInside(f+a.word.length,e))}else a.start?c=
  {column:a.start.column,line:a.start.line}:a.index&&(c=this.positionInside(a.index)),a.end?d={column:a.end.column,line:a.end.line}:"number"===typeof a.endIndex?d=this.positionInside(a.endIndex):a.index&&(d=this.positionInside(a.index+1));if(d.line<c.line||d.line===c.line&&d.column<=c.column)d={column:c.column+1,line:c.line};return{end:d,start:c}}},{key:"raw",value:function(a,c){return(new Wh).raw(this,a,c)}},{key:"remove",value:function(){this.parent&&this.parent.removeChild(this);this.parent=void 0;
  return this}},{key:"replaceWith",value:function(){if(this.parent){for(var a=this,c=!1,d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];for(d=0;d<e.length;d++)f=e[d],f===this?c=!0:c?(this.parent.insertAfter(a,f),a=f):this.parent.insertBefore(a,f);c||this.remove()}return this}},{key:"root",value:function(){for(var a=this;a.parent&&"document"!==a.parent.type;)a=a.parent;return a}},{key:"toJSON",value:function(a,c){a={};var d=null==c;c=c||new Map;var e=0,f;for(f in this)if(Object.prototype.hasOwnProperty.call(this,
  f)&&"parent"!==f&&"proxyCache"!==f){var g=this[f];if(Array.isArray(g))a[f]=g.map(function(k){return"object"===S(k)&&k.toJSON?k.toJSON(null,c):k});else if("object"===S(g)&&g.toJSON)a[f]=g.toJSON(null,c);else if("source"===f){var h=c.get(g.input);null==h&&(h=e,c.set(g.input,e),e++);a[f]={end:g.end,inputId:h,start:g.start}}else a[f]=g}d&&(a.inputs=Zb(c.keys()).map(function(k){return k.toJSON()}));return a}},{key:"toProxy",value:function(){this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor()));
  return this.proxyCache}},{key:"toString",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:yd;a.stringify&&(a=a.stringify);var c="";a(this,function(d){c+=d});return c}},{key:"warn",value:function(a,c,d){var e={node:this},f;for(f in d)e[f]=d[f];return a.warn(c,e)}},{key:"proxyOf",get:function(){return this}}])}();Sd.default=Sd;var Ac=function(b){function a(c){ka(this,a);c&&"undefined"!==typeof c.value&&"string"!==typeof c.value&&(c=pa(pa({},c),{},{value:String(c.value)}));
  c=qb(this,a,[c]);c.type="decl";return c}rb(a,b);return la(a,[{key:"variable",get:function(){return this.prop.startsWith("--")||"$"===this.prop[0]}}])}(Sd);Ac.default=Ac;var sl=Qa.SourceMapConsumer,tl=Qa.SourceMapGenerator,Up=Qa.existsSync,Vp=Qa.readFileSync,Xh=Qa.dirname,Wp=Qa.join,Xf=function(){function b(a,c){ka(this,b);!1!==c.map&&(this.loadAnnotation(a),this.inline=this.startWith(this.annotation,"data:"),a=this.loadMap(c.from,c.map?c.map.prev:void 0),!this.mapFile&&c.from&&(this.mapFile=c.from),
  this.mapFile&&(this.root=Xh(this.mapFile)),a&&(this.text=a))}return la(b,[{key:"consumer",value:function(){this.consumerCache||(this.consumerCache=new sl(this.text));return this.consumerCache}},{key:"decodeInline",value:function(a){var c=/^data:application\/json;base64,/,d=/^data:application\/json,/;if(/^data:application\/json;charset=utf-?8,/.test(a)||d.test(a))return decodeURIComponent(a.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(a)||c.test(a))return a=
  a.substr(RegExp.lastMatch.length),a=Buffer?Buffer.from(a,"base64").toString():window.atob(a),a;a=a.match(/data:application\/json;([^,]+),/)[1];throw Error("Unsupported source map encoding "+a);}},{key:"getAnnotationURL",value:function(a){return a.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}},{key:"isMap",value:function(a){return"object"!==S(a)?!1:"string"===typeof a.mappings||"string"===typeof a._mappings||Array.isArray(a.sections)}},{key:"loadAnnotation",value:function(a){var c=a.match(/\/\*\s*# sourceMappingURL=/gm);
  if(c){c=a.lastIndexOf(c.pop());var d=a.indexOf("*/",c);-1<c&&-1<d&&(this.annotation=this.getAnnotationURL(a.substring(c,d)))}}},{key:"loadFile",value:function(a){this.root=Xh(a);if(Up(a))return this.mapFile=a,Vp(a,"utf-8").toString().trim()}},{key:"loadMap",value:function(a,c){if(!1===c)return!1;if(c){if("string"===typeof c)return c;if("function"===typeof c){if(a=c(a)){c=this.loadFile(a);if(!c)throw Error("Unable to load previous source map: "+a.toString());return c}}else{if(c instanceof sl)return tl.fromSourceMap(c).toString();
  if(c instanceof tl)return c.toString();if(this.isMap(c))return JSON.stringify(c);throw Error("Unsupported previous source map format: "+c.toString());}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation)return c=this.annotation,a&&(c=Wp(Xh(a),c)),this.loadFile(c)}}},{key:"startWith",value:function(a,c){return a?a.substr(0,c.length)===c:!1}},{key:"withContent",value:function(){return!!(this.consumer().sourcesContent&&0<this.consumer().sourcesContent.length)}}])}();Xf.default=
  Xf;var Xp=Qa.SourceMapConsumer,Yp=Qa.SourceMapGenerator,ul=Qa.fileURLToPath,Yf=Qa.pathToFileURL,Yh=Qa.isAbsolute,Zh=Qa.resolve,Zp=function(){for(var b="",a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:21;a--;)b+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return b},$h=Symbol("fromOffsetCache"),$p=!(!Xp||!Yp),vl=!(!Zh||!Yh),md=function(){function b(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};ka(this,b);if(null===a||"undefined"===
  typeof a||"object"===S(a)&&!a.toString)throw Error("PostCSS received ".concat(a," instead of CSS string"));this.css=a.toString();"\ufeff"===this.css[0]||"\ufffe"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1;c.from&&(!vl||/^\w+:\/\//.test(c.from)||Yh(c.from)?this.file=c.from:this.file=Zh(c.from));vl&&$p&&(c=new Xf(this.css,c),c.text&&(this.map=c,c=c.consumer().file,!this.file&&c&&(this.file=this.mapResolve(c))));this.file||(this.id="<input css "+Zp(6)+">");this.map&&(this.map.file=
  this.from)}return la(b,[{key:"error",value:function(a,c,d){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(c&&"object"===S(c)){var f=c;var g=d;"number"===typeof f.offset?(f=this.fromOffset(f.offset),c=f.line,d=f.col):(c=f.line,d=f.column);"number"===typeof g.offset?(g=this.fromOffset(g.offset),f=g.line,g=g.col):(f=g.line,g=g.column)}else if(!d){var h=this.fromOffset(c);c=h.line;d=h.col}e=(h=this.origin(c,d,f,g))?new Qd(a,void 0===h.endLine?h.line:{column:h.column,line:h.line},void 0===
  h.endLine?h.column:{column:h.endColumn,line:h.endLine},h.source,h.file,e.plugin):new Qd(a,void 0===f?c:{column:d,line:c},void 0===f?d:{column:g,line:f},this.css,this.file,e.plugin);e.input={column:d,endColumn:g,endLine:f,line:c,source:this.css};this.file&&(Yf&&(e.input.url=Yf(this.file).toString()),e.input.file=this.file);return e}},{key:"fromOffset",value:function(a){if(this[$h])var c=this[$h];else{var d=this.css.split("\n");c=Array(d.length);for(var e=0,f=0,g=d.length;f<g;f++)c[f]=e,e+=d[f].length+
  1;this[$h]=c}d=0;if(a>=c[c.length-1])d=c.length-1;else for(e=c.length-2;d<e;)if(f=d+(e-d>>1),a<c[f])e=f-1;else if(a>=c[f+1])d=f+1;else{d=f;break}return{col:a-c[d]+1,line:d+1}}},{key:"mapResolve",value:function(a){return/^\w+:\/\//.test(a)?a:Zh(this.map.consumer().sourceRoot||this.map.root||".",a)}},{key:"origin",value:function(a,c,d,e){if(!this.map)return!1;var f=this.map.consumer();a=f.originalPositionFor({column:c,line:a});if(!a.source)return!1;var g;"number"===typeof d&&(g=f.originalPositionFor({column:e,
  line:d}));d=Yh(a.source)?Yf(a.source):new URL(a.source,this.map.consumer().sourceRoot||Yf(this.map.mapFile));g={column:a.column,endColumn:g&&g.column,endLine:g&&g.line,line:a.line,url:d.toString()};if("file:"===d.protocol)if(ul)g.file=ul(d);else throw Error("file: protocol is not available in this PostCSS build");if(f=f.sourceContentFor(a.source))g.source=f;return g}},{key:"toJSON",value:function(){for(var a={},c=0,d=["hasBOM","css","file","id"];c<d.length;c++){var e=d[c];null!=this[e]&&(a[e]=this[e])}this.map&&
  (a.map=pa({},this.map),a.map.consumerCache&&(a.map.consumerCache=void 0));return a}},{key:"from",get:function(){return this.file||this.id}}])}();md.default=md;Qa&&Qa.registerInput&&Qa.registerInput(md);var wl=Qa.SourceMapConsumer,Zf=Qa.SourceMapGenerator,$f=Qa.dirname,xl=Qa.relative,yl=Qa.resolve,zl=Qa.sep,Al=Qa.pathToFileURL,aq=!(!wl||!Zf),bq=!!($f&&yl&&xl&&zl),Bl=function(){function b(a,c,d,e){ka(this,b);this.stringify=a;this.mapOpts=d.map||{};this.root=c;this.opts=d;this.originalCSS=this.css=e;
  this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute;this.memoizedFileURLs=new Map;this.memoizedPaths=new Map;this.memoizedURLs=new Map}return la(b,[{key:"addAnnotation",value:function(){var a=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"===typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"===typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";var c="\n";this.css.includes("\r\n")&&
  (c="\r\n");this.css+=c+"/*# sourceMappingURL="+a+" */"}},{key:"applyPrevMaps",value:function(){var a=ca(this.previous()),c;try{for(a.s();!(c=a.n()).done;){var d=c.value,e=this.toUrl(this.path(d.file)),f=d.root||$f(d.file),g=void 0;!1===this.mapOpts.sourcesContent?(g=new wl(d.text),g.sourcesContent&&(g.sourcesContent=null)):g=d.consumer();this.map.applySourceMap(g,e,this.toUrl(this.path(f)))}}catch(h){a.e(h)}finally{a.f()}}},{key:"clearAnnotation",value:function(){if(!1!==this.mapOpts.annotation)if(this.root)for(var a,
  c=this.root.nodes.length-1;0<=c;c--)a=this.root.nodes[c],"comment"===a.type&&0===a.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(c);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}},{key:"generate",value:function(){this.clearAnnotation();if(bq&&aq&&this.isMap())return this.generateMap();var a="";this.stringify(this.root,function(c){a+=c});return[a]}},{key:"generateMap",value:function(){if(this.root)this.generateString();else if(1===this.previous().length){var a=
  this.previous()[0].consumer();a.file=this.outputFile();this.map=Zf.fromSourceMap(a,{ignoreInvalidMapping:!0})}else this.map=new Zf({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});this.isSourcesContent()&&this.setSourcesContent();this.root&&0<this.previous().length&&this.applyPrevMaps();this.isAnnotation()&&this.addAnnotation();return this.isInline()?
  [this.css]:[this.css,this.map]}},{key:"generateString",value:function(){var a=this;this.css="";this.map=new Zf({file:this.outputFile(),ignoreInvalidMapping:!0});var c=1,d=1,e={generated:{column:0,line:0},original:{column:0,line:0},source:""},f,g;this.stringify(this.root,function(h,k,l){a.css+=h;k&&"end"!==l&&(e.generated.line=c,e.generated.column=d-1,k.source&&k.source.start?(e.source=a.sourcePath(k),e.original.line=k.source.start.line,e.original.column=k.source.start.column-1):(e.source="<no source>",
  e.original.line=1,e.original.column=0),a.map.addMapping(e));(f=h.match(/\n/g))?(c+=f.length,g=h.lastIndexOf("\n"),d=h.length-g):d+=h.length;k&&"start"!==l&&(h=k.parent||{raws:{}},"decl"!==k.type&&("atrule"!==k.type||k.nodes)||k!==h.last||h.raws.semicolon)&&(k.source&&k.source.end?(e.source=a.sourcePath(k),e.original.line=k.source.end.line,e.original.column=k.source.end.column-1,e.generated.line=c,e.generated.column=d-2):(e.source="<no source>",e.original.line=1,e.original.column=0,e.generated.line=
  c,e.generated.column=d-1),a.map.addMapping(e))})}},{key:"isAnnotation",value:function(){return this.isInline()?!0:"undefined"!==typeof this.mapOpts.annotation?this.mapOpts.annotation:this.previous().length?this.previous().some(function(a){return a.annotation}):!0}},{key:"isInline",value:function(){if("undefined"!==typeof this.mapOpts.inline)return this.mapOpts.inline;var a=this.mapOpts.annotation;return"undefined"!==typeof a&&!0!==a?!1:this.previous().length?this.previous().some(function(c){return c.inline}):
  !0}},{key:"isMap",value:function(){return"undefined"!==typeof this.opts.map?!!this.opts.map:0<this.previous().length}},{key:"isSourcesContent",value:function(){return"undefined"!==typeof this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(function(a){return a.withContent()}):!0}},{key:"outputFile",value:function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}},{key:"path",value:function(a){if(this.mapOpts.absolute||
  60===a.charCodeAt(0)||/^\w+:\/\//.test(a))return a;var c=this.memoizedPaths.get(a);if(c)return c;c=this.opts.to?$f(this.opts.to):".";"string"===typeof this.mapOpts.annotation&&(c=$f(yl(c,this.mapOpts.annotation)));c=xl(c,a);this.memoizedPaths.set(a,c);return c}},{key:"previous",value:function(){var a=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(d){d.source&&d.source.input.map&&(d=d.source.input.map,a.previousMaps.includes(d)||a.previousMaps.push(d))});else{var c=
  new md(this.originalCSS,this.opts);c.map&&this.previousMaps.push(c.map)}return this.previousMaps}},{key:"setSourcesContent",value:function(){var a=this,c={};if(this.root)this.root.walk(function(e){if(e.source){var f=e.source.input.from;f&&!c[f]&&(c[f]=!0,f=a.usesFileUrls?a.toFileUrl(f):a.toUrl(a.path(f)),a.map.setSourceContent(f,e.source.input.css))}});else if(this.css){var d=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(d,this.css)}}},{key:"sourcePath",
  value:function(a){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(a.source.input.from):this.toUrl(this.path(a.source.input.from))}},{key:"toBase64",value:function(a){return Buffer?Buffer.from(a).toString("base64"):window.btoa(unescape(encodeURIComponent(a)))}},{key:"toFileUrl",value:function(a){var c=this.memoizedFileURLs.get(a);if(c)return c;if(Al)return c=Al(a).toString(),this.memoizedFileURLs.set(a,c),c;throw Error("`map.absolute` option is not available in this PostCSS build");
  }},{key:"toUrl",value:function(a){var c=this.memoizedURLs.get(a);if(c)return c;"\\"===zl&&(a=a.replace(/\\/g,"/"));c=encodeURI(a).replace(/[#?]/g,encodeURIComponent);this.memoizedURLs.set(a,c);return c}}])}(),Bc=function(b){function a(c){ka(this,a);c=qb(this,a,[c]);c.type="comment";return c}rb(a,b);return la(a)}(Sd);Bc.default=Bc;var Zi=Rd,Cl,ai,bi,Dl,lb=function(b){function a(){ka(this,a);return qb(this,a,arguments)}rb(a,b);return la(a,[{key:"append",value:function(){for(var c=arguments.length,d=
  Array(c),e=0;e<c;e++)d[e]=arguments[e];for(c=0;c<d.length;c++){e=this.normalize(d[c],this.last);e=ca(e);var f;try{for(e.s();!(f=e.n()).done;)this.proxyOf.nodes.push(f.value)}catch(g){e.e(g)}finally{e.f()}}this.markDirty();return this}},{key:"cleanRaws",value:function(c){Ob(a,"cleanRaws",this,3)([c]);if(this.nodes){var d=ca(this.nodes),e;try{for(d.s();!(e=d.n()).done;)e.value.cleanRaws(c)}catch(f){d.e(f)}finally{d.f()}}}},{key:"each",value:function(c){if(this.proxyOf.nodes){for(var d=this.getIterator(),
  e;this.indexes[d]<this.proxyOf.nodes.length;){e=this.indexes[d];e=c(this.proxyOf.nodes[e],e);if(!1===e)break;this.indexes[d]+=1}delete this.indexes[d];return e}}},{key:"every",value:function(c){return this.nodes.every(c)}},{key:"getIterator",value:function(){this.lastEach||(this.lastEach=0);this.indexes||(this.indexes={});var c=this.lastEach+=1;this.indexes[c]=0;return c}},{key:"getProxyProcessor",value:function(){return{get:function(c,d){return"proxyOf"===d?c:c[d]?"each"===d||"string"===typeof d&&
  d.startsWith("walk")?function(){for(var e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];return c[d].apply(c,Zb(f.map(function(h){return"function"===typeof h?function(k,l){return h(k.toProxy(),l)}:h})))}:"every"===d||"some"===d?function(e){return c[d](function(f){for(var g=arguments.length,h=Array(1<g?g-1:0),k=1;k<g;k++)h[k-1]=arguments[k];return e.apply(void 0,[f.toProxy()].concat(h))})}:"root"===d?function(){return c.root().toProxy()}:"nodes"===d?c.nodes.map(function(e){return e.toProxy()}):
  "first"===d||"last"===d?c[d].toProxy():c[d]:c[d]},set:function(c,d,e){if(c[d]===e)return!0;c[d]=e;"name"!==d&&"params"!==d&&"selector"!==d||c.markDirty();return!0}}}},{key:"index",value:function(c){if("number"===typeof c)return c;c.proxyOf&&(c=c.proxyOf);return this.proxyOf.nodes.indexOf(c)}},{key:"insertAfter",value:function(c,d){var e=this.index(c);d=this.normalize(d,this.proxyOf.nodes[e]).reverse();e=this.index(c);c=ca(d);var f;try{for(c.s();!(f=c.n()).done;)this.proxyOf.nodes.splice(e+1,0,f.value)}catch(h){c.e(h)}finally{c.f()}for(var g in this.indexes)f=
  this.indexes[g],e<f&&(this.indexes[g]=f+d.length);this.markDirty();return this}},{key:"insertBefore",value:function(c,d){var e=this.index(c);d=this.normalize(d,this.proxyOf.nodes[e],0===e?"prepend":!1).reverse();e=this.index(c);c=ca(d);var f;try{for(c.s();!(f=c.n()).done;)this.proxyOf.nodes.splice(e,0,f.value)}catch(h){c.e(h)}finally{c.f()}for(var g in this.indexes)f=this.indexes[g],e<=f&&(this.indexes[g]=f+d.length);this.markDirty();return this}},{key:"normalize",value:function(c,d){var e=this;if("string"===
  typeof c)c=Xi(Cl(c).nodes);else if("undefined"===typeof c)c=[];else if(Array.isArray(c)){c=c.slice(0);var f=ca(c),g;try{for(f.s();!(g=f.n()).done;){var h=g.value;h.parent&&h.parent.removeChild(h,"ignore")}}catch(l){f.e(l)}finally{f.f()}}else if("root"===c.type&&"document"!==this.type){c=c.nodes.slice(0);g=ca(c);try{for(g.s();!(f=g.n()).done;){var k=f.value;k.parent&&k.parent.removeChild(k,"ignore")}}catch(l){g.e(l)}finally{g.f()}}else if(c.type)c=[c];else if(c.prop){if("undefined"===typeof c.value)throw Error("Value field is missed in node creation");
  "string"!==typeof c.value&&(c.value=String(c.value));c=[new Ac(c)]}else if(c.selector)c=[new ai(c)];else if(c.name)c=[new bi(c)];else if(c.text)c=[new Bc(c)];else throw Error("Unknown node type in node creation");return c.map(function(l){l[Wf]||a.rebuild(l);l=l.proxyOf;l.parent&&l.parent.removeChild(l);l[Zi]&&Yi(l);"undefined"===typeof l.raws.before&&d&&"undefined"!==typeof d.raws.before&&(l.raws.before=d.raws.before.replace(/\S/g,""));l.parent=e.proxyOf;return l})}},{key:"prepend",value:function(){for(var c=
  arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];d=d.reverse();c=ca(d);var f;try{for(c.s();!(f=c.n()).done;){var g=this.normalize(f.value,this.first,"prepend").reverse(),h=ca(g),k;try{for(h.s();!(k=h.n()).done;)this.proxyOf.nodes.unshift(k.value)}catch(n){h.e(n)}finally{h.f()}for(var l in this.indexes)this.indexes[l]+=g.length}}catch(n){c.e(n)}finally{c.f()}this.markDirty();return this}},{key:"push",value:function(c){c.parent=this;this.proxyOf.nodes.push(c);return this}},{key:"removeAll",
  value:function(){var c=ca(this.proxyOf.nodes),d;try{for(c.s();!(d=c.n()).done;)d.value.parent=void 0}catch(e){c.e(e)}finally{c.f()}this.proxyOf.nodes=[];this.markDirty();return this}},{key:"removeChild",value:function(c){c=this.index(c);this.proxyOf.nodes[c].parent=void 0;this.proxyOf.nodes.splice(c,1);var d;for(d in this.indexes){var e=this.indexes[d];e>=c&&(this.indexes[d]=e-1)}this.markDirty();return this}},{key:"replaceValues",value:function(c,d,e){e||(e=d,d={});this.walkDecls(function(f){if(!d.props||
  d.props.includes(f.prop))if(!d.fast||f.value.includes(d.fast))f.value=f.value.replace(c,e)});this.markDirty();return this}},{key:"some",value:function(c){return this.nodes.some(c)}},{key:"walk",value:function(c){return this.each(function(d,e){try{var f=c(d,e)}catch(g){throw d.addToError(g);}!1!==f&&d.walk&&(f=d.walk(c));return f})}},{key:"walkAtRules",value:function(c,d){return d?c instanceof RegExp?this.walk(function(e,f){if("atrule"===e.type&&c.test(e.name))return d(e,f)}):this.walk(function(e,
  f){if("atrule"===e.type&&e.name===c)return d(e,f)}):(d=c,this.walk(function(e,f){if("atrule"===e.type)return d(e,f)}))}},{key:"walkComments",value:function(c){return this.walk(function(d,e){if("comment"===d.type)return c(d,e)})}},{key:"walkDecls",value:function(c,d){return d?c instanceof RegExp?this.walk(function(e,f){if("decl"===e.type&&c.test(e.prop))return d(e,f)}):this.walk(function(e,f){if("decl"===e.type&&e.prop===c)return d(e,f)}):(d=c,this.walk(function(e,f){if("decl"===e.type)return d(e,
  f)}))}},{key:"walkRules",value:function(c,d){return d?c instanceof RegExp?this.walk(function(e,f){if("rule"===e.type&&c.test(e.selector))return d(e,f)}):this.walk(function(e,f){if("rule"===e.type&&e.selector===c)return d(e,f)}):(d=c,this.walk(function(e,f){if("rule"===e.type)return d(e,f)}))}},{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}])}(Sd);lb.registerParse=
  function(b){Cl=b};lb.registerRule=function(b){ai=b};lb.registerAtRule=function(b){bi=b};lb.registerRoot=function(b){Dl=b};lb.default=lb;lb.rebuild=function(b){"atrule"===b.type?Object.setPrototypeOf(b,bi.prototype):"rule"===b.type?Object.setPrototypeOf(b,ai.prototype):"decl"===b.type?Object.setPrototypeOf(b,Ac.prototype):"comment"===b.type?Object.setPrototypeOf(b,Bc.prototype):"root"===b.type&&Object.setPrototypeOf(b,Dl.prototype);b[Wf]=!0;b.nodes&&b.nodes.forEach(function(a){lb.rebuild(a)})};var El,
  Fl,Cc=function(b){function a(c){ka(this,a);c=qb(this,a,[pa({type:"document"},c)]);c.nodes||(c.nodes=[]);return c}rb(a,b);return la(a,[{key:"toResult",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(new El(new Fl,this,c)).stringify()}}])}(lb);Cc.registerLazyResult=function(b){El=b};Cc.registerProcessor=function(b){Fl=b};Cc.default=Cc;var Gl={},Hl=function(b){Gl[b]||(Gl[b]=!0,"undefined"!==typeof console&&console.warn&&console.warn(b))},ag=function(){function b(a){var c=
  1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};ka(this,b);this.type="warning";this.text=a;if(c.node&&c.node.source){var d=c.node.rangeBy(c);this.line=d.start.line;this.column=d.start.column;this.endLine=d.end.line;this.endColumn=d.end.column}for(var e in c)this[e]=c[e]}return la(b,[{key:"toString",value:function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}])}();ag.default=ag;
  var Td=function(){function b(a,c,d){ka(this,b);this.processor=a;this.messages=[];this.root=c;this.opts=d;this.map=this.css=void 0}return la(b,[{key:"toString",value:function(){return this.css}},{key:"warn",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!c.plugin&&this.lastPlugin&&this.lastPlugin.postcssPlugin&&(c.plugin=this.lastPlugin.postcssPlugin);c=new ag(a,c);this.messages.push(c);return c}},{key:"warnings",value:function(){return this.messages.filter(function(a){return"warning"===
  a.type})}},{key:"content",get:function(){return this.css}}])}();Td.default=Td;var bg=/[\t\n\f\r "#'()/;[\\\]{}]/g,cg=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,cq=/.[\r\n"'(/\\]/,Il=/[\da-f]/i,nd=function(b){function a(c){ka(this,a);c=qb(this,a,[c]);c.type="atrule";return c}rb(a,b);return la(a,[{key:"append",value:function(){this.proxyOf.nodes||(this.nodes=[]);for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return Ob(a,"append",this,3)(d)}},{key:"prepend",value:function(){this.proxyOf.nodes||
  (this.nodes=[]);for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return Ob(a,"prepend",this,3)(d)}}])}(lb);nd.default=nd;lb.registerAtRule(nd);var Jl,Kl,Mb=function(b){function a(c){ka(this,a);c=qb(this,a,[c]);c.type="root";c.nodes||(c.nodes=[]);return c}rb(a,b);return la(a,[{key:"normalize",value:function(c,d,e){c=Ob(a,"normalize",this,3)([c]);if(d)if("prepend"===e)1<this.nodes.length?d.raws.before=this.nodes[1].raws.before:delete d.raws.before;else if(this.first!==d){e=ca(c);
  var f;try{for(e.s();!(f=e.n()).done;)f.value.raws.before=d.raws.before}catch(g){e.e(g)}finally{e.f()}}return c}},{key:"removeChild",value:function(c,d){var e=this.index(c);!d&&0===e&&1<this.nodes.length&&(this.nodes[1].raws.before=this.nodes[e].raws.before);return Ob(a,"removeChild",this,3)([c])}},{key:"toResult",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(new Jl(new Kl,this,c)).stringify()}}])}(lb);Mb.registerLazyResult=function(b){Jl=b};Mb.registerProcessor=
  function(b){Kl=b};Mb.default=Mb;lb.registerRoot(Mb);var Se={comma:function(b){return Se.split(b,[","],!0)},space:function(b){return Se.split(b,[" ","\n","\t"])},split:function(b,a,c){var d=[],e="",f=!1,g=0,h=!1,k="",l=!1;b=ca(b);var n;try{for(b.s();!(n=b.n()).done;){var m=n.value;l?l=!1:"\\"===m?l=!0:h?m===k&&(h=!1):'"'===m||"'"===m?(h=!0,k=m):"("===m?g+=1:")"===m?0<g&&--g:0===g&&a.includes(m)&&(f=!0);f?(""!==e&&d.push(e.trim()),e="",f=!1):e+=m}}catch(p){b.e(p)}finally{b.f()}(c||""!==e)&&d.push(e.trim());
  return d}},Ll=Se;Se.default=Se;var Dc=function(b){function a(c){ka(this,a);c=qb(this,a,[c]);c.type="rule";c.nodes||(c.nodes=[]);return c}rb(a,b);return la(a,[{key:"selectors",get:function(){return Ll.comma(this.selector)},set:function(c){var d=this.selector?this.selector.match(/,\s*/):null;d=d?d[0]:","+this.raw("between","beforeOpen");this.selector=c.join(d)}}])}(lb);Dc.default=Dc;lb.registerRule(Dc);var dq=function(b){function a(x){throw b.error("Unclosed "+x,q);}var c=b.css.valueOf(),d=(1<arguments.length&&
  void 0!==arguments[1]?arguments[1]:{}).ignoreErrors,e,f,g,h,k,l,n,m,p,r,u=c.length,q=0,w=[],v=[];return{back:function(x){v.push(x)},endOfFile:function(){return 0===v.length&&q>=u},nextToken:function(x){if(v.length)return v.pop();if(!(q>=u)){x=x?x.ignoreUnclosed:!1;e=c.charCodeAt(q);switch(e){case 10:case 32:case 9:case 13:case 12:f=q;do f+=1,e=c.charCodeAt(f);while(32===e||10===e||9===e||13===e||12===e);r=["space",c.slice(q,f)];q=f-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:x=
  String.fromCharCode(e);r=[x,x,q];break;case 40:m=w.length?w.pop()[1]:"";p=c.charCodeAt(q+1);if("url"===m&&39!==p&&34!==p&&32!==p&&10!==p&&9!==p&&12!==p&&13!==p){f=q;do{l=!1;f=c.indexOf(")",f+1);if(-1===f)if(d||x){f=q;break}else a("bracket");for(n=f;92===c.charCodeAt(n-1);)--n,l=!l}while(l);r=["brackets",c.slice(q,f+1),q,f];q=f}else f=c.indexOf(")",q+1),h=c.slice(q,f+1),-1===f||cq.test(h)?r=["(","(",q]:(r=["brackets",h,q,f],q=f);break;case 39:case 34:g=39===e?"'":'"';f=q;do{l=!1;f=c.indexOf(g,f+1);
  if(-1===f)if(d||x){f=q+1;break}else a("string");for(n=f;92===c.charCodeAt(n-1);)--n,l=!l}while(l);r=["string",c.slice(q,f+1),q,f];q=f;break;case 64:bg.lastIndex=q+1;bg.test(c);f=0===bg.lastIndex?c.length-1:bg.lastIndex-2;r=["at-word",c.slice(q,f+1),q,f];q=f;break;case 92:f=q;for(k=!0;92===c.charCodeAt(f+1);)f+=1,k=!k;e=c.charCodeAt(f+1);if(k&&47!==e&&32!==e&&10!==e&&9!==e&&13!==e&&12!==e&&(f+=1,Il.test(c.charAt(f)))){for(;Il.test(c.charAt(f+1));)f+=1;32===c.charCodeAt(f+1)&&(f+=1)}r=["word",c.slice(q,
  f+1),q,f];q=f;break;default:47===e&&42===c.charCodeAt(q+1)?(f=c.indexOf("*/",q+2)+1,0===f&&(d||x?f=c.length:a("comment")),r=["comment",c.slice(q,f+1),q,f]):(cg.lastIndex=q+1,cg.test(c),f=0===cg.lastIndex?c.length-1:cg.lastIndex-2,r=["word",c.slice(q,f+1),q,f],w.push(r)),q=f}q++;return r}},position:function(){return q}}},Ml={empty:!0,space:!0},pn=function(){function b(a){ka(this,b);this.input=a;this.current=this.root=new Mb;this.spaces="";this.semicolon=!1;this.createTokenizer();this.root.source={input:a,
  start:{column:1,line:1,offset:0}}}return la(b,[{key:"atrule",value:function(a){var c=new nd;c.name=a[1].slice(1);""===c.name&&this.unnamedAtrule(c,a);this.init(c,a[2]);var d,e=!1,f=!1,g=[];for(d=[];!this.tokenizer.endOfFile();){a=this.tokenizer.nextToken();var h=a[0];"("===h||"["===h?d.push("("===h?")":"]"):"{"===h&&0<d.length?d.push("}"):h===d[d.length-1]&&d.pop();if(0===d.length)if(";"===h){c.source.end=this.getPosition(a[2]);c.source.end.offset++;this.semicolon=!0;break}else if("{"===h){f=!0;break}else if("}"===
  h){if(0<g.length){d=g.length-1;for(h=g[d];h&&"space"===h[0];)h=g[--d];h&&(c.source.end=this.getPosition(h[3]||h[2]),c.source.end.offset++)}this.end(a);break}else g.push(a);else g.push(a);if(this.tokenizer.endOfFile()){e=!0;break}}c.raws.between=this.spacesAndCommentsFromEnd(g);g.length?(c.raws.afterName=this.spacesAndCommentsFromStart(g),this.raw(c,"params",g),e&&(a=g[g.length-1],c.source.end=this.getPosition(a[3]||a[2]),c.source.end.offset++,this.spaces=c.raws.between,c.raws.between="")):(c.raws.afterName=
  "",c.params="");f&&(c.nodes=[],this.current=c)}},{key:"checkMissedSemicolon",value:function(a){var c=this.colon(a);if(!1!==c){var d=0;for(--c;0<=c;c--){var e=a[c];if("space"!==e[0]&&(d+=1,2===d))break}throw this.input.error("Missed semicolon","word"===e[0]?e[3]+1:e[2]);}}},{key:"colon",value:function(a){var c=0;a=ca(a.entries());var d;try{for(a.s();!(d=a.n()).done;){var e=$a(d.value,2),f=e[0];var g=e[1];var h=g[0];"("===h&&(c+=1);")"===h&&--c;if(0===c&&":"===h)if(k)if("word"===k[0]&&"progid"===k[1])continue;
  else return f;else this.doubleColon(g);var k=g}}catch(l){a.e(l)}finally{a.f()}return!1}},{key:"comment",value:function(a){var c=new Bc;this.init(c,a[2]);c.source.end=this.getPosition(a[3]||a[2]);c.source.end.offset++;a=a[1].slice(2,-2);/^\s*$/.test(a)?(c.text="",c.raws.left=a,c.raws.right=""):(a=a.match(/^(\s*)([^]*\S)(\s*)$/),c.text=a[2],c.raws.left=a[1],c.raws.right=a[3])}},{key:"createTokenizer",value:function(){this.tokenizer=dq(this.input)}},{key:"decl",value:function(a,c){var d=new Ac;this.init(d,
  a[0][2]);var e=a[a.length-1];";"===e[0]&&(this.semicolon=!0,a.pop());d.source.end=this.getPosition(e[3]||e[2]||nn(a));for(d.source.end.offset++;"word"!==a[0][0];)1===a.length&&this.unknownWord(a),d.raws.before+=a.shift()[1];d.source.start=this.getPosition(a[0][2]);for(d.prop="";a.length;){e=a[0][0];if(":"===e||"space"===e||"comment"===e)break;d.prop+=a.shift()[1]}d.raws.between="";for(var f;a.length;)if(f=a.shift(),":"===f[0]){d.raws.between+=f[1];break}else"word"===f[0]&&/\w/.test(f[1])&&this.unknownWord([f]),
  d.raws.between+=f[1];if("_"===d.prop[0]||"*"===d.prop[0])d.raws.before+=d.prop[0],d.prop=d.prop.slice(1);for(e=[];a.length;){f=a[0][0];if("space"!==f&&"comment"!==f)break;e.push(a.shift())}this.precheckMissedSemicolon(a);for(var g=a.length-1;0<=g;g--){f=a[g];if("!important"===f[1].toLowerCase()){d.important=!0;f=this.stringFrom(a,g);f=this.spacesFromEnd(a)+f;" !important"!==f&&(d.raws.important=f);break}else if("important"===f[1].toLowerCase()){for(var h=a.slice(0),k="",l=g;0<l;l--){var n=h[l][0];
  if(0===k.trim().indexOf("!")&&"space"!==n)break;k=h.pop()[1]+k}0===k.trim().indexOf("!")&&(d.important=!0,d.raws.important=k,a=h)}if("space"!==f[0]&&"comment"!==f[0])break}a.some(function(m){return"space"!==m[0]&&"comment"!==m[0]})&&(d.raws.between+=e.map(function(m){return m[1]}).join(""),e=[]);this.raw(d,"value",e.concat(a),c);d.value.includes(":")&&!c&&this.checkMissedSemicolon(a)}},{key:"doubleColon",value:function(a){throw this.input.error("Double colon",{offset:a[2]},{offset:a[2]+a[1].length});
  }},{key:"emptyRule",value:function(a){var c=new Dc;this.init(c,a[2]);c.selector="";c.raws.between="";this.current=c}},{key:"end",value:function(a){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon);this.semicolon=!1;this.current.raws.after=(this.current.raws.after||"")+this.spaces;this.spaces="";this.current.parent?(this.current.source.end=this.getPosition(a[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(a)}},{key:"endFile",
  value:function(){this.current.parent&&this.unclosedBlock();this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon);this.current.raws.after=(this.current.raws.after||"")+this.spaces;this.root.source.end=this.getPosition(this.tokenizer.position())}},{key:"freeSemicolon",value:function(a){this.spaces+=a[1];this.current.nodes&&(a=this.current.nodes[this.current.nodes.length-1])&&"rule"===a.type&&!a.raws.ownSemicolon&&(a.raws.ownSemicolon=this.spaces,this.spaces="")}},
  {key:"getPosition",value:function(a){var c=this.input.fromOffset(a);return{column:c.col,line:c.line,offset:a}}},{key:"init",value:function(a,c){this.current.push(a);a.source={input:this.input,start:this.getPosition(c)};a.raws.before=this.spaces;this.spaces="";"comment"!==a.type&&(this.semicolon=!1)}},{key:"other",value:function(a){for(var c=!1,d=!1,e=null,f=[],g=a[1].startsWith("--"),h=[],k=a;k;){a=k[0];h.push(k);if("("===a||"["===a)e||(e=k),f.push("("===a?")":"]");else if(g&&d&&"{"===a)e||(e=k),
  f.push("}");else if(0===f.length)if(";"===a){if(d){this.decl(h,g);return}break}else{if("{"===a){this.rule(h);return}if("}"===a){this.tokenizer.back(h.pop());c=!0;break}else":"===a&&(d=!0)}else a===f[f.length-1]&&(f.pop(),0===f.length&&(e=null));k=this.tokenizer.nextToken()}this.tokenizer.endOfFile()&&(c=!0);0<f.length&&this.unclosedBracket(e);if(c&&d){if(!g)for(;h.length;){k=h[h.length-1][0];if("space"!==k&&"comment"!==k)break;this.tokenizer.back(h.pop())}this.decl(h,g)}else this.unknownWord(h)}},
  {key:"parse",value:function(){for(var a;!this.tokenizer.endOfFile();)switch(a=this.tokenizer.nextToken(),a[0]){case "space":this.spaces+=a[1];break;case ";":this.freeSemicolon(a);break;case "}":this.end(a);break;case "comment":this.comment(a);break;case "at-word":this.atrule(a);break;case "{":this.emptyRule(a);break;default:this.other(a)}this.endFile()}},{key:"precheckMissedSemicolon",value:function(){}},{key:"raw",value:function(a,c,d,e){for(var f,g,h=d.length,k="",l=!0,n,m=0;m<h;m+=1)f=d[m],g=f[0],
  "space"!==g||m!==h-1||e?"comment"===g?(n=d[m-1]?d[m-1][0]:"empty",g=d[m+1]?d[m+1][0]:"empty",Ml[n]||Ml[g]?l=!1:","===k.slice(-1)?l=!1:k+=f[1]):k+=f[1]:l=!1;l||(d=d.reduce(function(p,r){return p+r[1]},""),a.raws[c]={raw:d,value:k});a[c]=k}},{key:"rule",value:function(a){a.pop();var c=new Dc;this.init(c,a[0][2]);c.raws.between=this.spacesAndCommentsFromEnd(a);this.raw(c,"selector",a);this.current=c}},{key:"spacesAndCommentsFromEnd",value:function(a){for(var c,d="";a.length;){c=a[a.length-1][0];if("space"!==
  c&&"comment"!==c)break;d=a.pop()[1]+d}return d}},{key:"spacesAndCommentsFromStart",value:function(a){for(var c,d="";a.length;){c=a[0][0];if("space"!==c&&"comment"!==c)break;d+=a.shift()[1]}return d}},{key:"spacesFromEnd",value:function(a){for(var c,d="";a.length;){c=a[a.length-1][0];if("space"!==c)break;d=a.pop()[1]+d}return d}},{key:"stringFrom",value:function(a,c){for(var d="",e=c;e<a.length;e++)d+=a[e][1];a.splice(c,a.length-c);return d}},{key:"unclosedBlock",value:function(){var a=this.current.source.start;
  throw this.input.error("Unclosed block",a.line,a.column);}},{key:"unclosedBracket",value:function(a){throw this.input.error("Unclosed bracket",{offset:a[2]},{offset:a[2]+1});}},{key:"unexpectedClose",value:function(a){throw this.input.error("Unexpected }",{offset:a[2]},{offset:a[2]+1});}},{key:"unknownWord",value:function(a){throw this.input.error("Unknown word",{offset:a[0][2]},{offset:a[0][2]+a[0][1].length});}},{key:"unnamedAtrule",value:function(a,c){throw this.input.error("At-rule without name",
  {offset:c[2]},{offset:c[2]+c[1].length});}}])}(),on=md;zd.default=zd;lb.registerParse(zd);var Qb=Rd,qn={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},eq={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},fq={Once:!0,postcssPlugin:!0,prepare:!0},ci={},od=function(){function b(a,c,d){var e=this;ka(this,
  b);this.processed=this.stringified=!1;if("object"!==S(c)||null===c||"root"!==c.type&&"document"!==c.type)if(c instanceof b||c instanceof Td){var f=Jg(c.root);c.map&&("undefined"===typeof d.map&&(d.map={}),d.map.inline||(d.map.inline=!1),d.map.prev=c.map)}else{var g=zd;d.syntax&&(g=d.syntax.parse);d.parser&&(g=d.parser);g.parse&&(g=g.parse);try{f=g(c,d)}catch(h){this.processed=!0,this.error=h}f&&!f[Wf]&&lb.rebuild(f)}else f=Jg(c);this.result=new Td(a,f,d);this.helpers=pa(pa({},ci),{},{postcss:ci,result:this.result});
  this.plugins=this.processor.plugins.map(function(h){return"object"===S(h)&&h.prepare?pa(pa({},h),h.prepare(e.result)):h})}return la(b,[{key:"async",value:function(){if(this.error)return Promise.reject(this.error);if(this.processed)return Promise.resolve(this.result);this.processing||(this.processing=this.runAsync());return this.processing}},{key:"catch",value:function(a){return this.async().catch(a)}},{key:"finally",value:function(a){return this.async().then(a,a)}},{key:"getAsyncError",value:function(){throw Error("Use process(css).then(cb) to work with async plugins");
  }},{key:"handleError",value:function(a,c){var d=this.result.lastPlugin;try{if(c&&c.addToError(a),this.error=a,"CssSyntaxError"===a.name&&!a.plugin)a.plugin=d.postcssPlugin,a.setMessage();else if(d.postcssVersion){var e=d.postcssPlugin,f=d.postcssVersion,g=this.result.processor.version,h=f.split("."),k=g.split(".");(h[0]!==k[0]||parseInt(h[1])>parseInt(k[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+g+", but "+e+" uses "+f+". Perhaps this is the source of the error below.")}}catch(l){console&&
  console.error&&console.error(l)}return a}},{key:"prepareVisitors",value:function(){var a=this;this.listeners={};var c=function(k,l,n){a.listeners[l]||(a.listeners[l]=[]);a.listeners[l].push([k,n])},d=ca(this.plugins),e;try{for(d.s();!(e=d.n()).done;){var f=e.value;if("object"===S(f))for(var g in f){if(!eq[g]&&/^[A-Z]/.test(g))throw Error("Unknown event ".concat(g," in ").concat(f.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!fq[g])if("object"===S(f[g]))for(var h in f[g])"*"===
  h?c(f,g,f[g][h]):c(f,g+"-"+h.toLowerCase(),f[g][h]);else"function"===typeof f[g]&&c(f,g,f[g])}}}catch(k){d.e(k)}finally{d.f()}this.hasListener=0<Object.keys(this.listeners).length}},{key:"runAsync",value:function(){var a=og(Ib().mark(function d(){var e=this,f,g,h,k,l,n,m,p,r,u;return Ib().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:f=this.plugin=0;case 2:if(!(f<this.plugins.length)){q.next=17;break}g=this.plugins[f];h=this.runOnRoot(g);if(!me(h)){q.next=14;break}q.prev=6;q.next=9;return h;
  case 9:q.next=14;break;case 11:throw q.prev=11,q.t0=q["catch"](6),this.handleError(q.t0);case 14:f++;q.next=2;break;case 17:this.prepareVisitors();if(!this.hasListener){q.next=56;break}k=this.result.root;case 20:if(k[Qb]){q.next=39;break}k[Qb]=!0;l=[aj(k)];case 23:if(!(0<l.length)){q.next=37;break}n=this.visitTick(l);if(!me(n)){q.next=35;break}q.prev=26;q.next=29;return n;case 29:q.next=35;break;case 31:throw q.prev=31,q.t1=q["catch"](26),m=l[l.length-1].node,this.handleError(q.t1,m);case 35:q.next=
  23;break;case 37:q.next=20;break;case 39:if(!this.listeners.OnceExit){q.next=56;break}p=ca(this.listeners.OnceExit);q.prev=41;u=Ib().mark(function v(){var x,C,F,H;return Ib().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:x=$a(r.value,2);C=x[0];F=x[1];e.result.lastPlugin=C;G.prev=2;if("document"!==k.type){G.next=9;break}H=k.nodes.map(function(E){return F(E,e.helpers)});G.next=7;return Promise.all(H);case 7:G.next=11;break;case 9:return G.next=11,F(k,e.helpers);case 11:G.next=16;break;case 13:throw G.prev=
  13,G.t0=G["catch"](2),e.handleError(G.t0);case 16:case "end":return G.stop()}},v,null,[[2,13]])});p.s();case 44:if((r=p.n()).done){q.next=48;break}return q.delegateYield(u(),"t2",46);case 46:q.next=44;break;case 48:q.next=53;break;case 50:q.prev=50,q.t3=q["catch"](41),p.e(q.t3);case 53:return q.prev=53,p.f(),q.finish(53);case 56:return this.processed=!0,q.abrupt("return",this.stringify());case 58:case "end":return q.stop()}},d,this,[[6,11],[26,31],[41,50,53,56]])}));return function(){return a.apply(this,
  arguments)}}()},{key:"runOnRoot",value:function(a){var c=this;this.result.lastPlugin=a;try{if("object"===S(a)&&a.Once){if("document"===this.result.root.type){var d=this.result.root.nodes.map(function(e){return a.Once(e,c.helpers)});return me(d[0])?Promise.all(d):d}return a.Once(this.result.root,this.helpers)}if("function"===typeof a)return a(this.result.root,this.result)}catch(e){throw this.handleError(e);}}},{key:"stringify",value:function(){if(this.error)throw this.error;if(this.stringified)return this.result;
  this.stringified=!0;this.sync();var a=this.result.opts,c=yd;a.syntax&&(c=a.syntax.stringify);a.stringifier&&(c=a.stringifier);c.stringify&&(c=c.stringify);a=(new Bl(c,this.result.root,this.result.opts)).generate();this.result.css=a[0];this.result.map=a[1];return this.result}},{key:"sync",value:function(){if(this.error)throw this.error;if(this.processed)return this.result;this.processed=!0;if(this.processing)throw this.getAsyncError();var a=ca(this.plugins),c;try{for(a.s();!(c=a.n()).done;){var d=
  this.runOnRoot(c.value);if(me(d))throw this.getAsyncError();}}catch(f){a.e(f)}finally{a.f()}this.prepareVisitors();if(this.hasListener){for(a=this.result.root;!a[Qb];)a[Qb]=!0,this.walkSync(a);if(this.listeners.OnceExit)if("document"===a.type){a=ca(a.nodes);var e;try{for(a.s();!(e=a.n()).done;)this.visitSync(this.listeners.OnceExit,e.value)}catch(f){a.e(f)}finally{a.f()}}else this.visitSync(this.listeners.OnceExit,a)}return this.result}},{key:"then",value:function(a,c){"from"in this.opts||Hl("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.");
  return this.async().then(a,c)}},{key:"toString",value:function(){return this.css}},{key:"visitSync",value:function(a,c){a=ca(a);var d;try{for(a.s();!(d=a.n()).done;){var e=$a(d.value,2),f=e[1];this.result.lastPlugin=e[0];var g=void 0;try{g=f(c,this.helpers)}catch(h){throw this.handleError(h,c.proxyOf);}if("root"!==c.type&&"document"!==c.type&&!c.parent)return!0;if(me(g))throw this.getAsyncError();}}catch(h){a.e(h)}finally{a.f()}}},{key:"visitTick",value:function(a){var c=a[a.length-1],d=c.node,e=
  c.visitors;if("root"===d.type||"document"===d.type||d.parent){if(0<e.length&&c.visitorIndex<e.length){var f=$a(e[c.visitorIndex],2);a=f[0];f=f[1];c.visitorIndex+=1;c.visitorIndex===e.length&&(c.visitors=[],c.visitorIndex=0);this.result.lastPlugin=a;try{return f(d.toProxy(),this.helpers)}catch(g){throw this.handleError(g,d);}}if(0!==c.iterator){for(e=c.iterator;f=d.nodes[d.indexes[e]];)if(d.indexes[e]+=1,!f[Qb]){f[Qb]=!0;a.push(aj(f));return}c.iterator=0;delete d.indexes[e]}for(e=c.events;c.eventIndex<
  e.length;){f=e[c.eventIndex];c.eventIndex+=1;if(0===f){d.nodes&&d.nodes.length&&(d[Qb]=!0,c.iterator=d.getIterator());return}if(this.listeners[f]){c.visitors=this.listeners[f];return}}}a.pop()}},{key:"walkSync",value:function(a){var c=this;a[Qb]=!0;var d=$i(a);d=ca(d);var e;try{for(d.s();!(e=d.n()).done;){var f=e.value;if(0===f)a.nodes&&a.each(function(h){h[Qb]||c.walkSync(h)});else{var g=this.listeners[f];if(g&&this.visitSync(g,a.toProxy()))break}}}catch(h){d.e(h)}finally{d.f()}}},{key:"warnings",
  value:function(){return this.sync().warnings()}},{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}])}();
  od.registerPostcss=function(b){ci=b};od.default=od;Mb.registerLazyResult(od);Cc.registerLazyResult(od);var di=function(){function b(a,c,d){ka(this,b);c=c.toString();this.stringified=!1;this._processor=a;this._css=c;this._opts=d;this._map=void 0;this.result=new Td(this._processor,void 0,this._opts);this.result.css=c;var e=this;Object.defineProperty(this.result,"root",{get:function(){return e.root}});a=new Bl(yd,void 0,this._opts,c);a.isMap()?(a=a.generate(),c=$a(a,2),a=c[0],c=c[1],a&&(this.result.css=
  a),c&&(this.result.map=c)):(a.clearAnnotation(),this.result.css=a.css)}return la(b,[{key:"async",value:function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}},{key:"catch",value:function(a){return this.async().catch(a)}},{key:"finally",value:function(a){return this.async().then(a,a)}},{key:"sync",value:function(){if(this.error)throw this.error;return this.result}},{key:"then",value:function(a,c){"from"in this._opts||Hl("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.");
  return this.async().then(a,c)}},{key:"toString",value:function(){return this._css}},{key:"warnings",value:function(){return[]}},{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;
  try{var a=zd(this._css,this._opts)}catch(c){this.error=c}if(this.error)throw this.error;return this._root=a}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}])}();di.default=di;var Te=function(){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];ka(this,b);this.version="8.4.38";this.plugins=this.normalize(a)}return la(b,[{key:"normalize",value:function(a){var c=[];a=ca(a);var d;try{for(a.s();!(d=a.n()).done;){var e=d.value;!0===e.postcss?e=e():e.postcss&&(e=
  e.postcss);if("object"===S(e)&&Array.isArray(e.plugins))c=c.concat(e.plugins);else if("object"===S(e)&&e.postcssPlugin)c.push(e);else if("function"===typeof e)c.push(e);else{if("object"===S(e)&&(e.parse||e.stringify))throw Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.");throw Error(e+" is not a PostCSS plugin");}}}catch(f){a.e(f)}finally{a.f()}return c}},{key:"process",value:function(a){var c=
  1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.plugins.length||c.parser||c.stringifier||c.syntax?new od(this,a,c):new di(this,a,c)}},{key:"use",value:function(a){this.plugins=this.plugins.concat(this.normalize([a]));return this}}])}();Te.default=Te;Mb.registerProcessor(Te);Cc.registerProcessor(Te);var wn=Ac,tn=Xf,yn=Bc,zn=nd,sn=md,vn=Mb,xn=Dc;ne.default=ne;var Kg=Te;Fa.plugin=function(b,a){function c(){console&&console.warn&&!d&&(d=!0,console.warn(b+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),
  process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(b+": \u91cc\u9762 postcss.plugin \u88ab\u5f03\u7528. \u8fc1\u79fb\u6307\u5357:\nhttps://www.w3ctech.com/topic/2226"));var f=a.apply(void 0,arguments);f.postcssPlugin=b;f.postcssVersion=(new Kg).version;return f}var d=!1,e;Object.defineProperty(c,"postcss",{get:function(){e||(e=c());return e}});c.process=function(f,g,h){return Fa([c(h)]).process(f,g)};return c};Fa.stringify=yd;Fa.parse=zd;Fa.fromJSON=ne;Fa.list=Ll;Fa.comment=function(b){return new Bc(b)};
  Fa.atRule=function(b){return new nd(b)};Fa.decl=function(b){return new Ac(b)};Fa.rule=function(b){return new Dc(b)};Fa.root=function(b){return new Mb(b)};Fa.document=function(b){return new Cc(b)};Fa.CssSyntaxError=Qd;Fa.Declaration=Ac;Fa.Container=lb;Fa.Processor=Kg;Fa.Document=Cc;Fa.Comment=Bc;Fa.Warning=ag;Fa.AtRule=nd;Fa.Result=Td;Fa.Input=md;Fa.Rule=Dc;Fa.Root=Mb;Fa.Node=Sd;od.registerPostcss(Fa);Fa.default=Fa;var Ra=function(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?
  b["default"]:b}(Fa);Ra.stringify;Ra.fromJSON;Ra.plugin;Ra.parse;Ra.list;Ra.document;Ra.comment;Ra.atRule;Ra.rule;Ra.decl;Ra.root;Ra.CssSyntaxError;Ra.Declaration;Ra.Container;Ra.Processor;Ra.Document;Ra.Comment;Ra.Warning;Ra.AtRule;Ra.Result;Ra.Input;Ra.Rule;Ra.Root;Ra.Node;var gq=Object.defineProperty,Gb=function(b,a,c){a="symbol"!==S(a)?a+"":a;return a in b?gq(b,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):b[a]=c},ei={},Oa=String,Nl=function(){return{isColorSupported:!1,reset:Oa,bold:Oa,
  dim:Oa,italic:Oa,underline:Oa,inverse:Oa,hidden:Oa,strikethrough:Oa,black:Oa,red:Oa,green:Oa,yellow:Oa,blue:Oa,magenta:Oa,cyan:Oa,white:Oa,gray:Oa,bgBlack:Oa,bgRed:Oa,bgGreen:Oa,bgYellow:Oa,bgBlue:Oa,bgMagenta:Oa,bgCyan:Oa,bgWhite:Oa}};ei=Nl();ei.createColors=Nl;var Ol=ei,Sa=function(b){if(b.__esModule)return b;var a=b.default;if("function"==typeof a){var c=function e(){return this instanceof e?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};c.prototype=a.prototype}else c=
  {};Object.defineProperty(c,"__esModule",{value:!0});Object.keys(b).forEach(function(d){var e=Object.getOwnPropertyDescriptor(b,d);Object.defineProperty(c,d,e.get?e:{enumerable:!0,get:function(){return b[d]}})});return c}(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),Ud=function(b){function a(c,d,e,f,g,h){ka(this,a);var k=qb(this,a,[c]);k.name="CssSyntaxError";k.reason=c;g&&(k.file=g);f&&(k.source=f);h&&(k.plugin=h);"undefined"!==typeof d&&"undefined"!==
  typeof e&&("number"===typeof d?(k.line=d,k.column=e):(k.line=d.line,k.column=d.column,k.endLine=e.line,k.endColumn=e.column));k.setMessage();Error.captureStackTrace&&Error.captureStackTrace(k,a);return k}rb(a,b);return la(a,[{key:"setMessage",value:function(){this.message=this.plugin?this.plugin+": ":"";this.message+=this.file?this.file:"<css input>";"undefined"!==typeof this.line&&(this.message+=":"+this.line+":"+this.column);this.message+=": "+this.reason}},{key:"showSourceCode",value:function(c){var d=
  this;if(!this.source)return"";var e=this.source;null==c&&(c=Ol.isColorSupported);Sa&&c&&(e=Sa(e));e=e.split(/\r?\n/);var f=Math.max(this.line-3,0),g=Math.min(this.line+2,e.length),h=String(g).length;if(c){c=Ol.createColors(!0);var k=c.bold,l=c.gray,n=c.red;var m=function(r){return k(n(r))};var p=function(r){return l(r)}}else m=p=function(r){return r};return e.slice(f,g).map(function(r,u){var q=f+1+u;u=" "+(" "+q).slice(-h)+" | ";return q===d.line?(q=p(u.replace(/\d/g," "))+r.slice(0,d.column-1).replace(/[^\t]/g,
  " "),m(">")+p(u)+r+"\n "+q+m("^")):" "+p(u)+r}).join("\n")}},{key:"toString",value:function(){var c=this.showSourceCode();c&&(c="\n\n"+c+"\n");return this.name+": "+this.message+c}}])}(We(Error));Ud.default=Ud;var Vd=Symbol("isClean");var dg=Symbol("my");var Pl={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1},fi=function(){function b(a){ka(this,b);this.builder=a}return la(b,
  [{key:"atrule",value:function(a,c){var d="@"+a.name,e=a.params?this.rawValue(a,"params"):"";"undefined"!==typeof a.raws.afterName?d+=a.raws.afterName:e&&(d+=" ");a.nodes?this.block(a,d+e):this.builder(d+e+((a.raws.between||"")+(c?";":"")),a)}},{key:"beforeAfter",value:function(a,c){c="decl"===a.type?this.raw(a,null,"beforeDecl"):"comment"===a.type?this.raw(a,null,"beforeComment"):"before"===c?this.raw(a,null,"beforeRule"):this.raw(a,null,"beforeClose");for(var d=a.parent,e=0;d&&"root"!==d.type;)e+=
  1,d=d.parent;if(c.includes("\n")&&(a=this.raw(a,null,"indent"),a.length))for(d=0;d<e;d++)c+=a;return c}},{key:"block",value:function(a,c){var d=this.raw(a,"between","beforeOpen");this.builder(c+d+"{",a,"start");a.nodes&&a.nodes.length?(this.body(a),c=this.raw(a,"after")):c=this.raw(a,"after","emptyBody");c&&this.builder(c);this.builder("}",a,"end")}},{key:"body",value:function(a){for(var c=a.nodes.length-1;0<c&&"comment"===a.nodes[c].type;)--c;for(var d=this.raw(a,"semicolon"),e=0;e<a.nodes.length;e++){var f=
  a.nodes[e],g=this.raw(f,"before");g&&this.builder(g);this.stringify(f,c!==e||d)}}},{key:"comment",value:function(a){var c=this.raw(a,"left","commentLeft"),d=this.raw(a,"right","commentRight");this.builder("/*"+c+a.text+d+"*/",a)}},{key:"decl",value:function(a,c){var d=this.raw(a,"between","colon");d=a.prop+d+this.rawValue(a,"value");a.important&&(d+=a.raws.important||" !important");c&&(d+=";");this.builder(d,a)}},{key:"document",value:function(a){this.body(a)}},{key:"raw",value:function(a,c,d){d||
  (d=c);if(c){var e=a.raws[c];if("undefined"!==typeof e)return e}var f=a.parent;if("before"===d&&(!f||"root"===f.type&&f.first===a||f&&"document"===f.type))return"";if(!f)return Pl[d];f=a.root();f.rawCache||(f.rawCache={});if("undefined"!==typeof f.rawCache[d])return f.rawCache[d];if("before"===d||"after"===d)return this.beforeAfter(a,d);var g="raw"+An(d);this[g]?e=this[g](f,a):f.walk(function(h){e=h.raws[c];if("undefined"!==typeof e)return!1});"undefined"===typeof e&&(e=Pl[d]);return f.rawCache[d]=
  e}},{key:"rawBeforeClose",value:function(a){var c;a.walk(function(d){if(d.nodes&&0<d.nodes.length&&"undefined"!==typeof d.raws.after)return c=d.raws.after,c.includes("\n")&&(c=c.replace(/[^\n]+$/,"")),!1});c&&(c=c.replace(/\S/g,""));return c}},{key:"rawBeforeComment",value:function(a,c){var d;a.walkComments(function(e){if("undefined"!==typeof e.raws.before)return d=e.raws.before,d.includes("\n")&&(d=d.replace(/[^\n]+$/,"")),!1});"undefined"===typeof d?d=this.raw(c,null,"beforeDecl"):d&&(d=d.replace(/\S/g,
  ""));return d}},{key:"rawBeforeDecl",value:function(a,c){var d;a.walkDecls(function(e){if("undefined"!==typeof e.raws.before)return d=e.raws.before,d.includes("\n")&&(d=d.replace(/[^\n]+$/,"")),!1});"undefined"===typeof d?d=this.raw(c,null,"beforeRule"):d&&(d=d.replace(/\S/g,""));return d}},{key:"rawBeforeOpen",value:function(a){var c;a.walk(function(d){if("decl"!==d.type&&(c=d.raws.between,"undefined"!==typeof c))return!1});return c}},{key:"rawBeforeRule",value:function(a){var c;a.walk(function(d){if(d.nodes&&
  (d.parent!==a||a.first!==d)&&"undefined"!==typeof d.raws.before)return c=d.raws.before,c.includes("\n")&&(c=c.replace(/[^\n]+$/,"")),!1});c&&(c=c.replace(/\S/g,""));return c}},{key:"rawColon",value:function(a){var c;a.walkDecls(function(d){if("undefined"!==typeof d.raws.between)return c=d.raws.between.replace(/[^\s:]/g,""),!1});return c}},{key:"rawEmptyBody",value:function(a){var c;a.walk(function(d){if(d.nodes&&0===d.nodes.length&&(c=d.raws.after,"undefined"!==typeof c))return!1});return c}},{key:"rawIndent",
  value:function(a){if(a.raws.indent)return a.raws.indent;var c;a.walk(function(d){var e=d.parent;if(e&&e!==a&&e.parent&&e.parent===a&&"undefined"!==typeof d.raws.before)return d=d.raws.before.split("\n"),c=d[d.length-1],c=c.replace(/\S/g,""),!1});return c}},{key:"rawSemicolon",value:function(a){var c;a.walk(function(d){if(d.nodes&&d.nodes.length&&"decl"===d.last.type&&(c=d.raws.semicolon,"undefined"!==typeof c))return!1});return c}},{key:"rawValue",value:function(a,c){var d=a[c];return(a=a.raws[c])&&
  a.value===d?a.raw:d}},{key:"root",value:function(a){this.body(a);a.raws.after&&this.builder(a.raws.after)}},{key:"rule",value:function(a){this.block(a,this.rawValue(a,"selector"));a.raws.ownSemicolon&&this.builder(a.raws.ownSemicolon,a,"end")}},{key:"stringify",value:function(a,c){if(!this[a.type])throw Error("Unknown AST node type "+a.type+". Maybe you need to change PostCSS stringifier.");this[a.type](a,c)}}])}(),Bn=fi.default=fi;Ad.default=Ad;var Wd=function(){function b(){var a=0<arguments.length&&
  void 0!==arguments[0]?arguments[0]:{};ka(this,b);this.raws={};this[Vd]=!1;this[dg]=!0;for(var c in a)if("nodes"===c){this.nodes=[];var d=ca(a[c]),e;try{for(d.s();!(e=d.n()).done;){var f=e.value;"function"===typeof f.clone?this.append(f.clone()):this.append(f)}}catch(g){d.e(g)}finally{d.f()}}else this[c]=a[c]}return la(b,[{key:"addToError",value:function(a){a.postcssNode=this;if(a.stack&&this.source&&/\n\s{4}at /.test(a.stack)){var c=this.source;a.stack=a.stack.replace(/\n\s{4}at /,"$&".concat(c.input.from,
  ":").concat(c.start.line,":").concat(c.start.column,"$&"))}return a}},{key:"after",value:function(a){this.parent.insertAfter(this,a);return this}},{key:"assign",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c;for(c in a)this[c]=a[c];return this}},{key:"before",value:function(a){this.parent.insertBefore(this,a);return this}},{key:"cleanRaws",value:function(a){delete this.raws.before;delete this.raws.after;a||delete this.raws.between}},{key:"clone",value:function(){var a=
  0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=Lg(this),d;for(d in a)c[d]=a[d];return c}},{key:"cloneAfter",value:function(){var a=this.clone(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});this.parent.insertAfter(this,a);return a}},{key:"cloneBefore",value:function(){var a=this.clone(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});this.parent.insertBefore(this,a);return a}},{key:"error",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
  {};if(this.source){var d=this.rangeBy(c),e=d.end;d=d.start;return this.source.input.error(a,{column:d.column,line:d.line},{column:e.column,line:e.line},c)}return new Ud(a)}},{key:"getProxyProcessor",value:function(){return{get:function(a,c){return"proxyOf"===c?a:"root"===c?function(){return a.root().toProxy()}:a[c]},set:function(a,c,d){if(a[c]===d)return!0;a[c]=d;"prop"!==c&&"value"!==c&&"name"!==c&&"params"!==c&&"important"!==c&&"text"!==c||a.markDirty();return!0}}}},{key:"markDirty",value:function(){if(this[Vd]){this[Vd]=
  !1;for(var a=this;a=a.parent;)a[Vd]=!1}}},{key:"next",value:function(){if(this.parent){var a=this.parent.index(this);return this.parent.nodes[a+1]}}},{key:"positionBy",value:function(a,c){var d=this.source.start;a.index?d=this.positionInside(a.index,c):a.word&&(c=this.toString(),a=c.indexOf(a.word),-1!==a&&(d=this.positionInside(a,c)));return d}},{key:"positionInside",value:function(a,c){c=c||this.toString();for(var d=this.source.start.column,e=this.source.start.line,f=0;f<a;f++)"\n"===c[f]?(d=1,
  e+=1):d+=1;return{column:d,line:e}}},{key:"prev",value:function(){if(this.parent){var a=this.parent.index(this);return this.parent.nodes[a-1]}}},{key:"rangeBy",value:function(a){var c={column:this.source.start.column,line:this.source.start.line},d=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:c.column+1,line:c.line};if(a.word){var e=this.toString(),f=e.indexOf(a.word);-1!==f&&(c=this.positionInside(f,e),d=this.positionInside(f+a.word.length,e))}else a.start?c=
  {column:a.start.column,line:a.start.line}:a.index&&(c=this.positionInside(a.index)),a.end?d={column:a.end.column,line:a.end.line}:"number"===typeof a.endIndex?d=this.positionInside(a.endIndex):a.index&&(d=this.positionInside(a.index+1));if(d.line<c.line||d.line===c.line&&d.column<=c.column)d={column:c.column+1,line:c.line};return{end:d,start:c}}},{key:"raw",value:function(a,c){return(new fi).raw(this,a,c)}},{key:"remove",value:function(){this.parent&&this.parent.removeChild(this);this.parent=void 0;
  return this}},{key:"replaceWith",value:function(){if(this.parent){for(var a=this,c=!1,d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];for(d=0;d<e.length;d++)f=e[d],f===this?c=!0:c?(this.parent.insertAfter(a,f),a=f):this.parent.insertBefore(a,f);c||this.remove()}return this}},{key:"root",value:function(){for(var a=this;a.parent&&"document"!==a.parent.type;)a=a.parent;return a}},{key:"toJSON",value:function(a,c){a={};var d=null==c;c=c||new Map;var e=0,f;for(f in this)if(Object.prototype.hasOwnProperty.call(this,
  f)&&"parent"!==f&&"proxyCache"!==f){var g=this[f];if(Array.isArray(g))a[f]=g.map(function(k){return"object"===S(k)&&k.toJSON?k.toJSON(null,c):k});else if("object"===S(g)&&g.toJSON)a[f]=g.toJSON(null,c);else if("source"===f){var h=c.get(g.input);null==h&&(h=e,c.set(g.input,e),e++);a[f]={end:g.end,inputId:h,start:g.start}}else a[f]=g}d&&(a.inputs=Zb(c.keys()).map(function(k){return k.toJSON()}));return a}},{key:"toProxy",value:function(){this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor()));
  return this.proxyCache}},{key:"toString",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Ad;a.stringify&&(a=a.stringify);var c="";a(this,function(d){c+=d});return c}},{key:"warn",value:function(a,c,d){var e={node:this},f;for(f in d)e[f]=d[f];return a.warn(c,e)}},{key:"proxyOf",get:function(){return this}}])}();Wd.default=Wd;var Ec=function(b){function a(c){ka(this,a);c&&"undefined"!==typeof c.value&&"string"!==typeof c.value&&(c=pa(pa({},c),{},{value:String(c.value)}));
  c=qb(this,a,[c]);c.type="decl";return c}rb(a,b);return la(a,[{key:"variable",get:function(){return this.prop.startsWith("--")||"$"===this.prop[0]}}])}(Wd);Ec.default=Ec;var Ql=Sa.SourceMapConsumer,Rl=Sa.SourceMapGenerator,hq=Sa.existsSync,iq=Sa.readFileSync,gi=Sa.dirname,jq=Sa.join,eg=function(){function b(a,c){ka(this,b);!1!==c.map&&(this.loadAnnotation(a),this.inline=this.startWith(this.annotation,"data:"),a=this.loadMap(c.from,c.map?c.map.prev:void 0),!this.mapFile&&c.from&&(this.mapFile=c.from),
  this.mapFile&&(this.root=gi(this.mapFile)),a&&(this.text=a))}return la(b,[{key:"consumer",value:function(){this.consumerCache||(this.consumerCache=new Ql(this.text));return this.consumerCache}},{key:"decodeInline",value:function(a){var c=/^data:application\/json;base64,/,d=/^data:application\/json,/;if(/^data:application\/json;charset=utf-?8,/.test(a)||d.test(a))return decodeURIComponent(a.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(a)||c.test(a))return a=
  a.substr(RegExp.lastMatch.length),a=Buffer?Buffer.from(a,"base64").toString():window.atob(a),a;a=a.match(/data:application\/json;([^,]+),/)[1];throw Error("Unsupported source map encoding "+a);}},{key:"getAnnotationURL",value:function(a){return a.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}},{key:"isMap",value:function(a){return"object"!==S(a)?!1:"string"===typeof a.mappings||"string"===typeof a._mappings||Array.isArray(a.sections)}},{key:"loadAnnotation",value:function(a){var c=a.match(/\/\*\s*# sourceMappingURL=/gm);
  if(c){c=a.lastIndexOf(c.pop());var d=a.indexOf("*/",c);-1<c&&-1<d&&(this.annotation=this.getAnnotationURL(a.substring(c,d)))}}},{key:"loadFile",value:function(a){this.root=gi(a);if(hq(a))return this.mapFile=a,iq(a,"utf-8").toString().trim()}},{key:"loadMap",value:function(a,c){if(!1===c)return!1;if(c){if("string"===typeof c)return c;if("function"===typeof c){if(a=c(a)){c=this.loadFile(a);if(!c)throw Error("Unable to load previous source map: "+a.toString());return c}}else{if(c instanceof Ql)return Rl.fromSourceMap(c).toString();
  if(c instanceof Rl)return c.toString();if(this.isMap(c))return JSON.stringify(c);throw Error("Unsupported previous source map format: "+c.toString());}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation)return c=this.annotation,a&&(c=jq(gi(a),c)),this.loadFile(c)}}},{key:"startWith",value:function(a,c){return a?a.substr(0,c.length)===c:!1}},{key:"withContent",value:function(){return!!(this.consumer().sourcesContent&&0<this.consumer().sourcesContent.length)}}])}();eg.default=
  eg;var kq=Sa.SourceMapConsumer,lq=Sa.SourceMapGenerator,Sl=Sa.fileURLToPath,fg=Sa.pathToFileURL,hi=Sa.isAbsolute,ii=Sa.resolve,mq=function(){for(var b="",a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:21;a--;)b+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return b},ji=Symbol("fromOffsetCache"),nq=!(!kq||!lq),Tl=!(!ii||!hi),pd=function(){function b(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};ka(this,b);if(null===a||"undefined"===
  typeof a||"object"===S(a)&&!a.toString)throw Error("PostCSS received ".concat(a," instead of CSS string"));this.css=a.toString();"\ufeff"===this.css[0]||"\ufffe"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1;c.from&&(!Tl||/^\w+:\/\//.test(c.from)||hi(c.from)?this.file=c.from:this.file=ii(c.from));Tl&&nq&&(c=new eg(this.css,c),c.text&&(this.map=c,c=c.consumer().file,!this.file&&c&&(this.file=this.mapResolve(c))));this.file||(this.id="<input css "+mq(6)+">");this.map&&(this.map.file=
  this.from)}return la(b,[{key:"error",value:function(a,c,d){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(c&&"object"===S(c)){var f=c;var g=d;"number"===typeof f.offset?(f=this.fromOffset(f.offset),c=f.line,d=f.col):(c=f.line,d=f.column);"number"===typeof g.offset?(g=this.fromOffset(g.offset),f=g.line,g=g.col):(f=g.line,g=g.column)}else if(!d){var h=this.fromOffset(c);c=h.line;d=h.col}e=(h=this.origin(c,d,f,g))?new Ud(a,void 0===h.endLine?h.line:{column:h.column,line:h.line},void 0===
  h.endLine?h.column:{column:h.endColumn,line:h.endLine},h.source,h.file,e.plugin):new Ud(a,void 0===f?c:{column:d,line:c},void 0===f?d:{column:g,line:f},this.css,this.file,e.plugin);e.input={column:d,endColumn:g,endLine:f,line:c,source:this.css};this.file&&(fg&&(e.input.url=fg(this.file).toString()),e.input.file=this.file);return e}},{key:"fromOffset",value:function(a){if(this[ji])var c=this[ji];else{var d=this.css.split("\n");c=Array(d.length);for(var e=0,f=0,g=d.length;f<g;f++)c[f]=e,e+=d[f].length+
  1;this[ji]=c}d=0;if(a>=c[c.length-1])d=c.length-1;else for(e=c.length-2;d<e;)if(f=d+(e-d>>1),a<c[f])e=f-1;else if(a>=c[f+1])d=f+1;else{d=f;break}return{col:a-c[d]+1,line:d+1}}},{key:"mapResolve",value:function(a){return/^\w+:\/\//.test(a)?a:ii(this.map.consumer().sourceRoot||this.map.root||".",a)}},{key:"origin",value:function(a,c,d,e){if(!this.map)return!1;var f=this.map.consumer();a=f.originalPositionFor({column:c,line:a});if(!a.source)return!1;var g;"number"===typeof d&&(g=f.originalPositionFor({column:e,
  line:d}));d=hi(a.source)?fg(a.source):new URL(a.source,this.map.consumer().sourceRoot||fg(this.map.mapFile));g={column:a.column,endColumn:g&&g.column,endLine:g&&g.line,line:a.line,url:d.toString()};if("file:"===d.protocol)if(Sl)g.file=Sl(d);else throw Error("file: protocol is not available in this PostCSS build");if(f=f.sourceContentFor(a.source))g.source=f;return g}},{key:"toJSON",value:function(){for(var a={},c=0,d=["hasBOM","css","file","id"];c<d.length;c++){var e=d[c];null!=this[e]&&(a[e]=this[e])}this.map&&
  (a.map=pa({},this.map),a.map.consumerCache&&(a.map.consumerCache=void 0));return a}},{key:"from",get:function(){return this.file||this.id}}])}();pd.default=pd;Sa&&Sa.registerInput&&Sa.registerInput(pd);var Ul=Sa.SourceMapConsumer,gg=Sa.SourceMapGenerator,hg=Sa.dirname,Vl=Sa.relative,Wl=Sa.resolve,Xl=Sa.sep,Yl=Sa.pathToFileURL,oq=!(!Ul||!gg),pq=!!(hg&&Wl&&Vl&&Xl),Zl=function(){function b(a,c,d,e){ka(this,b);this.stringify=a;this.mapOpts=d.map||{};this.root=c;this.opts=d;this.originalCSS=this.css=e;
  this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute;this.memoizedFileURLs=new Map;this.memoizedPaths=new Map;this.memoizedURLs=new Map}return la(b,[{key:"addAnnotation",value:function(){var a=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"===typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"===typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";var c="\n";this.css.includes("\r\n")&&
  (c="\r\n");this.css+=c+"/*# sourceMappingURL="+a+" */"}},{key:"applyPrevMaps",value:function(){var a=ca(this.previous()),c;try{for(a.s();!(c=a.n()).done;){var d=c.value,e=this.toUrl(this.path(d.file)),f=d.root||hg(d.file),g=void 0;!1===this.mapOpts.sourcesContent?(g=new Ul(d.text),g.sourcesContent&&(g.sourcesContent=null)):g=d.consumer();this.map.applySourceMap(g,e,this.toUrl(this.path(f)))}}catch(h){a.e(h)}finally{a.f()}}},{key:"clearAnnotation",value:function(){if(!1!==this.mapOpts.annotation)if(this.root)for(var a,
  c=this.root.nodes.length-1;0<=c;c--)a=this.root.nodes[c],"comment"===a.type&&0===a.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(c);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}},{key:"generate",value:function(){this.clearAnnotation();if(pq&&oq&&this.isMap())return this.generateMap();var a="";this.stringify(this.root,function(c){a+=c});return[a]}},{key:"generateMap",value:function(){if(this.root)this.generateString();else if(1===this.previous().length){var a=
  this.previous()[0].consumer();a.file=this.outputFile();this.map=gg.fromSourceMap(a,{ignoreInvalidMapping:!0})}else this.map=new gg({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});this.isSourcesContent()&&this.setSourcesContent();this.root&&0<this.previous().length&&this.applyPrevMaps();this.isAnnotation()&&this.addAnnotation();return this.isInline()?
  [this.css]:[this.css,this.map]}},{key:"generateString",value:function(){var a=this;this.css="";this.map=new gg({file:this.outputFile(),ignoreInvalidMapping:!0});var c=1,d=1,e={generated:{column:0,line:0},original:{column:0,line:0},source:""},f,g;this.stringify(this.root,function(h,k,l){a.css+=h;k&&"end"!==l&&(e.generated.line=c,e.generated.column=d-1,k.source&&k.source.start?(e.source=a.sourcePath(k),e.original.line=k.source.start.line,e.original.column=k.source.start.column-1):(e.source="<no source>",
  e.original.line=1,e.original.column=0),a.map.addMapping(e));(f=h.match(/\n/g))?(c+=f.length,g=h.lastIndexOf("\n"),d=h.length-g):d+=h.length;k&&"start"!==l&&(h=k.parent||{raws:{}},"decl"!==k.type&&("atrule"!==k.type||k.nodes)||k!==h.last||h.raws.semicolon)&&(k.source&&k.source.end?(e.source=a.sourcePath(k),e.original.line=k.source.end.line,e.original.column=k.source.end.column-1,e.generated.line=c,e.generated.column=d-2):(e.source="<no source>",e.original.line=1,e.original.column=0,e.generated.line=
  c,e.generated.column=d-1),a.map.addMapping(e))})}},{key:"isAnnotation",value:function(){return this.isInline()?!0:"undefined"!==typeof this.mapOpts.annotation?this.mapOpts.annotation:this.previous().length?this.previous().some(function(a){return a.annotation}):!0}},{key:"isInline",value:function(){if("undefined"!==typeof this.mapOpts.inline)return this.mapOpts.inline;var a=this.mapOpts.annotation;return"undefined"!==typeof a&&!0!==a?!1:this.previous().length?this.previous().some(function(c){return c.inline}):
  !0}},{key:"isMap",value:function(){return"undefined"!==typeof this.opts.map?!!this.opts.map:0<this.previous().length}},{key:"isSourcesContent",value:function(){return"undefined"!==typeof this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(function(a){return a.withContent()}):!0}},{key:"outputFile",value:function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}},{key:"path",value:function(a){if(this.mapOpts.absolute||
  60===a.charCodeAt(0)||/^\w+:\/\//.test(a))return a;var c=this.memoizedPaths.get(a);if(c)return c;c=this.opts.to?hg(this.opts.to):".";"string"===typeof this.mapOpts.annotation&&(c=hg(Wl(c,this.mapOpts.annotation)));c=Vl(c,a);this.memoizedPaths.set(a,c);return c}},{key:"previous",value:function(){var a=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(d){d.source&&d.source.input.map&&(d=d.source.input.map,a.previousMaps.includes(d)||a.previousMaps.push(d))});else{var c=
  new pd(this.originalCSS,this.opts);c.map&&this.previousMaps.push(c.map)}return this.previousMaps}},{key:"setSourcesContent",value:function(){var a=this,c={};if(this.root)this.root.walk(function(e){if(e.source){var f=e.source.input.from;f&&!c[f]&&(c[f]=!0,f=a.usesFileUrls?a.toFileUrl(f):a.toUrl(a.path(f)),a.map.setSourceContent(f,e.source.input.css))}});else if(this.css){var d=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(d,this.css)}}},{key:"sourcePath",
  value:function(a){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(a.source.input.from):this.toUrl(this.path(a.source.input.from))}},{key:"toBase64",value:function(a){return Buffer?Buffer.from(a).toString("base64"):window.btoa(unescape(encodeURIComponent(a)))}},{key:"toFileUrl",value:function(a){var c=this.memoizedFileURLs.get(a);if(c)return c;if(Yl)return c=Yl(a).toString(),this.memoizedFileURLs.set(a,c),c;throw Error("`map.absolute` option is not available in this PostCSS build");
  }},{key:"toUrl",value:function(a){var c=this.memoizedURLs.get(a);if(c)return c;"\\"===Xl&&(a=a.replace(/\\/g,"/"));c=encodeURI(a).replace(/[#?]/g,encodeURIComponent);this.memoizedURLs.set(a,c);return c}}])}(),Fc=function(b){function a(c){ka(this,a);c=qb(this,a,[c]);c.type="comment";return c}rb(a,b);return la(a)}(Wd);Fc.default=Fc;var dj=Vd,$l,ki,li,am,mb=function(b){function a(){ka(this,a);return qb(this,a,arguments)}rb(a,b);return la(a,[{key:"append",value:function(){for(var c=arguments.length,d=
  Array(c),e=0;e<c;e++)d[e]=arguments[e];for(c=0;c<d.length;c++){e=this.normalize(d[c],this.last);e=ca(e);var f;try{for(e.s();!(f=e.n()).done;)this.proxyOf.nodes.push(f.value)}catch(g){e.e(g)}finally{e.f()}}this.markDirty();return this}},{key:"cleanRaws",value:function(c){Ob(a,"cleanRaws",this,3)([c]);if(this.nodes){var d=ca(this.nodes),e;try{for(d.s();!(e=d.n()).done;)e.value.cleanRaws(c)}catch(f){d.e(f)}finally{d.f()}}}},{key:"each",value:function(c){if(this.proxyOf.nodes){for(var d=this.getIterator(),
  e;this.indexes[d]<this.proxyOf.nodes.length;){e=this.indexes[d];e=c(this.proxyOf.nodes[e],e);if(!1===e)break;this.indexes[d]+=1}delete this.indexes[d];return e}}},{key:"every",value:function(c){return this.nodes.every(c)}},{key:"getIterator",value:function(){this.lastEach||(this.lastEach=0);this.indexes||(this.indexes={});var c=this.lastEach+=1;this.indexes[c]=0;return c}},{key:"getProxyProcessor",value:function(){return{get:function(c,d){return"proxyOf"===d?c:c[d]?"each"===d||"string"===typeof d&&
  d.startsWith("walk")?function(){for(var e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];return c[d].apply(c,Zb(f.map(function(h){return"function"===typeof h?function(k,l){return h(k.toProxy(),l)}:h})))}:"every"===d||"some"===d?function(e){return c[d](function(f){for(var g=arguments.length,h=Array(1<g?g-1:0),k=1;k<g;k++)h[k-1]=arguments[k];return e.apply(void 0,[f.toProxy()].concat(h))})}:"root"===d?function(){return c.root().toProxy()}:"nodes"===d?c.nodes.map(function(e){return e.toProxy()}):
  "first"===d||"last"===d?c[d].toProxy():c[d]:c[d]},set:function(c,d,e){if(c[d]===e)return!0;c[d]=e;"name"!==d&&"params"!==d&&"selector"!==d||c.markDirty();return!0}}}},{key:"index",value:function(c){if("number"===typeof c)return c;c.proxyOf&&(c=c.proxyOf);return this.proxyOf.nodes.indexOf(c)}},{key:"insertAfter",value:function(c,d){var e=this.index(c);d=this.normalize(d,this.proxyOf.nodes[e]).reverse();e=this.index(c);c=ca(d);var f;try{for(c.s();!(f=c.n()).done;)this.proxyOf.nodes.splice(e+1,0,f.value)}catch(h){c.e(h)}finally{c.f()}for(var g in this.indexes)f=
  this.indexes[g],e<f&&(this.indexes[g]=f+d.length);this.markDirty();return this}},{key:"insertBefore",value:function(c,d){var e=this.index(c);d=this.normalize(d,this.proxyOf.nodes[e],0===e?"prepend":!1).reverse();e=this.index(c);c=ca(d);var f;try{for(c.s();!(f=c.n()).done;)this.proxyOf.nodes.splice(e,0,f.value)}catch(h){c.e(h)}finally{c.f()}for(var g in this.indexes)f=this.indexes[g],e<=f&&(this.indexes[g]=f+d.length);this.markDirty();return this}},{key:"normalize",value:function(c,d){var e=this;if("string"===
  typeof c)c=bj($l(c).nodes);else if("undefined"===typeof c)c=[];else if(Array.isArray(c)){c=c.slice(0);var f=ca(c),g;try{for(f.s();!(g=f.n()).done;){var h=g.value;h.parent&&h.parent.removeChild(h,"ignore")}}catch(l){f.e(l)}finally{f.f()}}else if("root"===c.type&&"document"!==this.type){c=c.nodes.slice(0);g=ca(c);try{for(g.s();!(f=g.n()).done;){var k=f.value;k.parent&&k.parent.removeChild(k,"ignore")}}catch(l){g.e(l)}finally{g.f()}}else if(c.type)c=[c];else if(c.prop){if("undefined"===typeof c.value)throw Error("Value field is missed in node creation");
  "string"!==typeof c.value&&(c.value=String(c.value));c=[new Ec(c)]}else if(c.selector)c=[new ki(c)];else if(c.name)c=[new li(c)];else if(c.text)c=[new Fc(c)];else throw Error("Unknown node type in node creation");return c.map(function(l){l[dg]||a.rebuild(l);l=l.proxyOf;l.parent&&l.parent.removeChild(l);l[dj]&&cj(l);"undefined"===typeof l.raws.before&&d&&"undefined"!==typeof d.raws.before&&(l.raws.before=d.raws.before.replace(/\S/g,""));l.parent=e.proxyOf;return l})}},{key:"prepend",value:function(){for(var c=
  arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];d=d.reverse();c=ca(d);var f;try{for(c.s();!(f=c.n()).done;){var g=this.normalize(f.value,this.first,"prepend").reverse(),h=ca(g),k;try{for(h.s();!(k=h.n()).done;)this.proxyOf.nodes.unshift(k.value)}catch(n){h.e(n)}finally{h.f()}for(var l in this.indexes)this.indexes[l]+=g.length}}catch(n){c.e(n)}finally{c.f()}this.markDirty();return this}},{key:"push",value:function(c){c.parent=this;this.proxyOf.nodes.push(c);return this}},{key:"removeAll",
  value:function(){var c=ca(this.proxyOf.nodes),d;try{for(c.s();!(d=c.n()).done;)d.value.parent=void 0}catch(e){c.e(e)}finally{c.f()}this.proxyOf.nodes=[];this.markDirty();return this}},{key:"removeChild",value:function(c){c=this.index(c);this.proxyOf.nodes[c].parent=void 0;this.proxyOf.nodes.splice(c,1);var d;for(d in this.indexes){var e=this.indexes[d];e>=c&&(this.indexes[d]=e-1)}this.markDirty();return this}},{key:"replaceValues",value:function(c,d,e){e||(e=d,d={});this.walkDecls(function(f){if(!d.props||
  d.props.includes(f.prop))if(!d.fast||f.value.includes(d.fast))f.value=f.value.replace(c,e)});this.markDirty();return this}},{key:"some",value:function(c){return this.nodes.some(c)}},{key:"walk",value:function(c){return this.each(function(d,e){try{var f=c(d,e)}catch(g){throw d.addToError(g);}!1!==f&&d.walk&&(f=d.walk(c));return f})}},{key:"walkAtRules",value:function(c,d){return d?c instanceof RegExp?this.walk(function(e,f){if("atrule"===e.type&&c.test(e.name))return d(e,f)}):this.walk(function(e,
  f){if("atrule"===e.type&&e.name===c)return d(e,f)}):(d=c,this.walk(function(e,f){if("atrule"===e.type)return d(e,f)}))}},{key:"walkComments",value:function(c){return this.walk(function(d,e){if("comment"===d.type)return c(d,e)})}},{key:"walkDecls",value:function(c,d){return d?c instanceof RegExp?this.walk(function(e,f){if("decl"===e.type&&c.test(e.prop))return d(e,f)}):this.walk(function(e,f){if("decl"===e.type&&e.prop===c)return d(e,f)}):(d=c,this.walk(function(e,f){if("decl"===e.type)return d(e,
  f)}))}},{key:"walkRules",value:function(c,d){return d?c instanceof RegExp?this.walk(function(e,f){if("rule"===e.type&&c.test(e.selector))return d(e,f)}):this.walk(function(e,f){if("rule"===e.type&&e.selector===c)return d(e,f)}):(d=c,this.walk(function(e,f){if("rule"===e.type)return d(e,f)}))}},{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}])}(Wd);mb.registerParse=
  function(b){$l=b};mb.registerRule=function(b){ki=b};mb.registerAtRule=function(b){li=b};mb.registerRoot=function(b){am=b};mb.default=mb;mb.rebuild=function(b){"atrule"===b.type?Object.setPrototypeOf(b,li.prototype):"rule"===b.type?Object.setPrototypeOf(b,ki.prototype):"decl"===b.type?Object.setPrototypeOf(b,Ec.prototype):"comment"===b.type?Object.setPrototypeOf(b,Fc.prototype):"root"===b.type&&Object.setPrototypeOf(b,am.prototype);b[dg]=!0;b.nodes&&b.nodes.forEach(function(a){mb.rebuild(a)})};var bm,
  cm,Gc=function(b){function a(c){ka(this,a);c=qb(this,a,[pa({type:"document"},c)]);c.nodes||(c.nodes=[]);return c}rb(a,b);return la(a,[{key:"toResult",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(new bm(new cm,this,c)).stringify()}}])}(mb);Gc.registerLazyResult=function(b){bm=b};Gc.registerProcessor=function(b){cm=b};Gc.default=Gc;var dm={},em=function(b){dm[b]||(dm[b]=!0,"undefined"!==typeof console&&console.warn&&console.warn(b))},ig=function(){function b(a){var c=
  1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};ka(this,b);this.type="warning";this.text=a;if(c.node&&c.node.source){var d=c.node.rangeBy(c);this.line=d.start.line;this.column=d.start.column;this.endLine=d.end.line;this.endColumn=d.end.column}for(var e in c)this[e]=c[e]}return la(b,[{key:"toString",value:function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}])}();ig.default=ig;
  var Xd=function(){function b(a,c,d){ka(this,b);this.processor=a;this.messages=[];this.root=c;this.opts=d;this.map=this.css=void 0}return la(b,[{key:"toString",value:function(){return this.css}},{key:"warn",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!c.plugin&&this.lastPlugin&&this.lastPlugin.postcssPlugin&&(c.plugin=this.lastPlugin.postcssPlugin);c=new ig(a,c);this.messages.push(c);return c}},{key:"warnings",value:function(){return this.messages.filter(function(a){return"warning"===
  a.type})}},{key:"content",get:function(){return this.css}}])}();Xd.default=Xd;var jg=/[\t\n\f\r "#'()/;[\\\]{}]/g,kg=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,qq=/.[\r\n"'(/\\]/,fm=/[\da-f]/i,qd=function(b){function a(c){ka(this,a);c=qb(this,a,[c]);c.type="atrule";return c}rb(a,b);return la(a,[{key:"append",value:function(){this.proxyOf.nodes||(this.nodes=[]);for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return Ob(a,"append",this,3)(d)}},{key:"prepend",value:function(){this.proxyOf.nodes||
  (this.nodes=[]);for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return Ob(a,"prepend",this,3)(d)}}])}(mb);qd.default=qd;mb.registerAtRule(qd);var gm,hm,Nb=function(b){function a(c){ka(this,a);c=qb(this,a,[c]);c.type="root";c.nodes||(c.nodes=[]);return c}rb(a,b);return la(a,[{key:"normalize",value:function(c,d,e){c=Ob(a,"normalize",this,3)([c]);if(d)if("prepend"===e)1<this.nodes.length?d.raws.before=this.nodes[1].raws.before:delete d.raws.before;else if(this.first!==d){e=ca(c);
  var f;try{for(e.s();!(f=e.n()).done;)f.value.raws.before=d.raws.before}catch(g){e.e(g)}finally{e.f()}}return c}},{key:"removeChild",value:function(c,d){var e=this.index(c);!d&&0===e&&1<this.nodes.length&&(this.nodes[1].raws.before=this.nodes[e].raws.before);return Ob(a,"removeChild",this,3)([c])}},{key:"toResult",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(new gm(new hm,this,c)).stringify()}}])}(mb);Nb.registerLazyResult=function(b){gm=b};Nb.registerProcessor=
  function(b){hm=b};Nb.default=Nb;mb.registerRoot(Nb);var Ue={comma:function(b){return Ue.split(b,[","],!0)},space:function(b){return Ue.split(b,[" ","\n","\t"])},split:function(b,a,c){var d=[],e="",f=!1,g=0,h=!1,k="",l=!1;b=ca(b);var n;try{for(b.s();!(n=b.n()).done;){var m=n.value;l?l=!1:"\\"===m?l=!0:h?m===k&&(h=!1):'"'===m||"'"===m?(h=!0,k=m):"("===m?g+=1:")"===m?0<g&&--g:0===g&&a.includes(m)&&(f=!0);f?(""!==e&&d.push(e.trim()),e="",f=!1):e+=m}}catch(p){b.e(p)}finally{b.f()}(c||""!==e)&&d.push(e.trim());
  return d}},im=Ue;Ue.default=Ue;var Hc=function(b){function a(c){ka(this,a);c=qb(this,a,[c]);c.type="rule";c.nodes||(c.nodes=[]);return c}rb(a,b);return la(a,[{key:"selectors",get:function(){return im.comma(this.selector)},set:function(c){var d=this.selector?this.selector.match(/,\s*/):null;d=d?d[0]:","+this.raw("between","beforeOpen");this.selector=c.join(d)}}])}(mb);Hc.default=Hc;mb.registerRule(Hc);var rq=function(b){function a(x){throw b.error("Unclosed "+x,q);}var c=b.css.valueOf(),d=(1<arguments.length&&
  void 0!==arguments[1]?arguments[1]:{}).ignoreErrors,e,f,g,h,k,l,n,m,p,r,u=c.length,q=0,w=[],v=[];return{back:function(x){v.push(x)},endOfFile:function(){return 0===v.length&&q>=u},nextToken:function(x){if(v.length)return v.pop();if(!(q>=u)){x=x?x.ignoreUnclosed:!1;e=c.charCodeAt(q);switch(e){case 10:case 32:case 9:case 13:case 12:f=q;do f+=1,e=c.charCodeAt(f);while(32===e||10===e||9===e||13===e||12===e);r=["space",c.slice(q,f)];q=f-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:x=
  String.fromCharCode(e);r=[x,x,q];break;case 40:m=w.length?w.pop()[1]:"";p=c.charCodeAt(q+1);if("url"===m&&39!==p&&34!==p&&32!==p&&10!==p&&9!==p&&12!==p&&13!==p){f=q;do{l=!1;f=c.indexOf(")",f+1);if(-1===f)if(d||x){f=q;break}else a("bracket");for(n=f;92===c.charCodeAt(n-1);)--n,l=!l}while(l);r=["brackets",c.slice(q,f+1),q,f];q=f}else f=c.indexOf(")",q+1),h=c.slice(q,f+1),-1===f||qq.test(h)?r=["(","(",q]:(r=["brackets",h,q,f],q=f);break;case 39:case 34:g=39===e?"'":'"';f=q;do{l=!1;f=c.indexOf(g,f+1);
  if(-1===f)if(d||x){f=q+1;break}else a("string");for(n=f;92===c.charCodeAt(n-1);)--n,l=!l}while(l);r=["string",c.slice(q,f+1),q,f];q=f;break;case 64:jg.lastIndex=q+1;jg.test(c);f=0===jg.lastIndex?c.length-1:jg.lastIndex-2;r=["at-word",c.slice(q,f+1),q,f];q=f;break;case 92:f=q;for(k=!0;92===c.charCodeAt(f+1);)f+=1,k=!k;e=c.charCodeAt(f+1);if(k&&47!==e&&32!==e&&10!==e&&9!==e&&13!==e&&12!==e&&(f+=1,fm.test(c.charAt(f)))){for(;fm.test(c.charAt(f+1));)f+=1;32===c.charCodeAt(f+1)&&(f+=1)}r=["word",c.slice(q,
  f+1),q,f];q=f;break;default:47===e&&42===c.charCodeAt(q+1)?(f=c.indexOf("*/",q+2)+1,0===f&&(d||x?f=c.length:a("comment")),r=["comment",c.slice(q,f+1),q,f]):(kg.lastIndex=q+1,kg.test(c),f=0===kg.lastIndex?c.length-1:kg.lastIndex-2,r=["word",c.slice(q,f+1),q,f],w.push(r)),q=f}q++;return r}},position:function(){return q}}},jm={empty:!0,space:!0},En=function(){function b(a){ka(this,b);this.input=a;this.current=this.root=new Nb;this.spaces="";this.semicolon=!1;this.createTokenizer();this.root.source={input:a,
  start:{column:1,line:1,offset:0}}}return la(b,[{key:"atrule",value:function(a){var c=new qd;c.name=a[1].slice(1);""===c.name&&this.unnamedAtrule(c,a);this.init(c,a[2]);var d,e=!1,f=!1,g=[];for(d=[];!this.tokenizer.endOfFile();){a=this.tokenizer.nextToken();var h=a[0];"("===h||"["===h?d.push("("===h?")":"]"):"{"===h&&0<d.length?d.push("}"):h===d[d.length-1]&&d.pop();if(0===d.length)if(";"===h){c.source.end=this.getPosition(a[2]);c.source.end.offset++;this.semicolon=!0;break}else if("{"===h){f=!0;break}else if("}"===
  h){if(0<g.length){d=g.length-1;for(h=g[d];h&&"space"===h[0];)h=g[--d];h&&(c.source.end=this.getPosition(h[3]||h[2]),c.source.end.offset++)}this.end(a);break}else g.push(a);else g.push(a);if(this.tokenizer.endOfFile()){e=!0;break}}c.raws.between=this.spacesAndCommentsFromEnd(g);g.length?(c.raws.afterName=this.spacesAndCommentsFromStart(g),this.raw(c,"params",g),e&&(a=g[g.length-1],c.source.end=this.getPosition(a[3]||a[2]),c.source.end.offset++,this.spaces=c.raws.between,c.raws.between="")):(c.raws.afterName=
  "",c.params="");f&&(c.nodes=[],this.current=c)}},{key:"checkMissedSemicolon",value:function(a){var c=this.colon(a);if(!1!==c){var d=0;for(--c;0<=c;c--){var e=a[c];if("space"!==e[0]&&(d+=1,2===d))break}throw this.input.error("Missed semicolon","word"===e[0]?e[3]+1:e[2]);}}},{key:"colon",value:function(a){var c=0;a=ca(a.entries());var d;try{for(a.s();!(d=a.n()).done;){var e=$a(d.value,2),f=e[0];var g=e[1];var h=g[0];"("===h&&(c+=1);")"===h&&--c;if(0===c&&":"===h)if(k)if("word"===k[0]&&"progid"===k[1])continue;
  else return f;else this.doubleColon(g);var k=g}}catch(l){a.e(l)}finally{a.f()}return!1}},{key:"comment",value:function(a){var c=new Fc;this.init(c,a[2]);c.source.end=this.getPosition(a[3]||a[2]);c.source.end.offset++;a=a[1].slice(2,-2);/^\s*$/.test(a)?(c.text="",c.raws.left=a,c.raws.right=""):(a=a.match(/^(\s*)([^]*\S)(\s*)$/),c.text=a[2],c.raws.left=a[1],c.raws.right=a[3])}},{key:"createTokenizer",value:function(){this.tokenizer=rq(this.input)}},{key:"decl",value:function(a,c){var d=new Ec;this.init(d,
  a[0][2]);var e=a[a.length-1];";"===e[0]&&(this.semicolon=!0,a.pop());d.source.end=this.getPosition(e[3]||e[2]||Cn(a));for(d.source.end.offset++;"word"!==a[0][0];)1===a.length&&this.unknownWord(a),d.raws.before+=a.shift()[1];d.source.start=this.getPosition(a[0][2]);for(d.prop="";a.length;){e=a[0][0];if(":"===e||"space"===e||"comment"===e)break;d.prop+=a.shift()[1]}d.raws.between="";for(var f;a.length;)if(f=a.shift(),":"===f[0]){d.raws.between+=f[1];break}else"word"===f[0]&&/\w/.test(f[1])&&this.unknownWord([f]),
  d.raws.between+=f[1];if("_"===d.prop[0]||"*"===d.prop[0])d.raws.before+=d.prop[0],d.prop=d.prop.slice(1);for(e=[];a.length;){f=a[0][0];if("space"!==f&&"comment"!==f)break;e.push(a.shift())}this.precheckMissedSemicolon(a);for(var g=a.length-1;0<=g;g--){f=a[g];if("!important"===f[1].toLowerCase()){d.important=!0;f=this.stringFrom(a,g);f=this.spacesFromEnd(a)+f;" !important"!==f&&(d.raws.important=f);break}else if("important"===f[1].toLowerCase()){for(var h=a.slice(0),k="",l=g;0<l;l--){var n=h[l][0];
  if(0===k.trim().indexOf("!")&&"space"!==n)break;k=h.pop()[1]+k}0===k.trim().indexOf("!")&&(d.important=!0,d.raws.important=k,a=h)}if("space"!==f[0]&&"comment"!==f[0])break}a.some(function(m){return"space"!==m[0]&&"comment"!==m[0]})&&(d.raws.between+=e.map(function(m){return m[1]}).join(""),e=[]);this.raw(d,"value",e.concat(a),c);d.value.includes(":")&&!c&&this.checkMissedSemicolon(a)}},{key:"doubleColon",value:function(a){throw this.input.error("Double colon",{offset:a[2]},{offset:a[2]+a[1].length});
  }},{key:"emptyRule",value:function(a){var c=new Hc;this.init(c,a[2]);c.selector="";c.raws.between="";this.current=c}},{key:"end",value:function(a){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon);this.semicolon=!1;this.current.raws.after=(this.current.raws.after||"")+this.spaces;this.spaces="";this.current.parent?(this.current.source.end=this.getPosition(a[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(a)}},{key:"endFile",
  value:function(){this.current.parent&&this.unclosedBlock();this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon);this.current.raws.after=(this.current.raws.after||"")+this.spaces;this.root.source.end=this.getPosition(this.tokenizer.position())}},{key:"freeSemicolon",value:function(a){this.spaces+=a[1];this.current.nodes&&(a=this.current.nodes[this.current.nodes.length-1])&&"rule"===a.type&&!a.raws.ownSemicolon&&(a.raws.ownSemicolon=this.spaces,this.spaces="")}},
  {key:"getPosition",value:function(a){var c=this.input.fromOffset(a);return{column:c.col,line:c.line,offset:a}}},{key:"init",value:function(a,c){this.current.push(a);a.source={input:this.input,start:this.getPosition(c)};a.raws.before=this.spaces;this.spaces="";"comment"!==a.type&&(this.semicolon=!1)}},{key:"other",value:function(a){for(var c=!1,d=!1,e=null,f=[],g=a[1].startsWith("--"),h=[],k=a;k;){a=k[0];h.push(k);if("("===a||"["===a)e||(e=k),f.push("("===a?")":"]");else if(g&&d&&"{"===a)e||(e=k),
  f.push("}");else if(0===f.length)if(";"===a){if(d){this.decl(h,g);return}break}else{if("{"===a){this.rule(h);return}if("}"===a){this.tokenizer.back(h.pop());c=!0;break}else":"===a&&(d=!0)}else a===f[f.length-1]&&(f.pop(),0===f.length&&(e=null));k=this.tokenizer.nextToken()}this.tokenizer.endOfFile()&&(c=!0);0<f.length&&this.unclosedBracket(e);if(c&&d){if(!g)for(;h.length;){k=h[h.length-1][0];if("space"!==k&&"comment"!==k)break;this.tokenizer.back(h.pop())}this.decl(h,g)}else this.unknownWord(h)}},
  {key:"parse",value:function(){for(var a;!this.tokenizer.endOfFile();)switch(a=this.tokenizer.nextToken(),a[0]){case "space":this.spaces+=a[1];break;case ";":this.freeSemicolon(a);break;case "}":this.end(a);break;case "comment":this.comment(a);break;case "at-word":this.atrule(a);break;case "{":this.emptyRule(a);break;default:this.other(a)}this.endFile()}},{key:"precheckMissedSemicolon",value:function(){}},{key:"raw",value:function(a,c,d,e){for(var f,g,h=d.length,k="",l=!0,n,m=0;m<h;m+=1)f=d[m],g=f[0],
  "space"!==g||m!==h-1||e?"comment"===g?(n=d[m-1]?d[m-1][0]:"empty",g=d[m+1]?d[m+1][0]:"empty",jm[n]||jm[g]?l=!1:","===k.slice(-1)?l=!1:k+=f[1]):k+=f[1]:l=!1;l||(d=d.reduce(function(p,r){return p+r[1]},""),a.raws[c]={raw:d,value:k});a[c]=k}},{key:"rule",value:function(a){a.pop();var c=new Hc;this.init(c,a[0][2]);c.raws.between=this.spacesAndCommentsFromEnd(a);this.raw(c,"selector",a);this.current=c}},{key:"spacesAndCommentsFromEnd",value:function(a){for(var c,d="";a.length;){c=a[a.length-1][0];if("space"!==
  c&&"comment"!==c)break;d=a.pop()[1]+d}return d}},{key:"spacesAndCommentsFromStart",value:function(a){for(var c,d="";a.length;){c=a[0][0];if("space"!==c&&"comment"!==c)break;d+=a.shift()[1]}return d}},{key:"spacesFromEnd",value:function(a){for(var c,d="";a.length;){c=a[a.length-1][0];if("space"!==c)break;d=a.pop()[1]+d}return d}},{key:"stringFrom",value:function(a,c){for(var d="",e=c;e<a.length;e++)d+=a[e][1];a.splice(c,a.length-c);return d}},{key:"unclosedBlock",value:function(){var a=this.current.source.start;
  throw this.input.error("Unclosed block",a.line,a.column);}},{key:"unclosedBracket",value:function(a){throw this.input.error("Unclosed bracket",{offset:a[2]},{offset:a[2]+1});}},{key:"unexpectedClose",value:function(a){throw this.input.error("Unexpected }",{offset:a[2]},{offset:a[2]+1});}},{key:"unknownWord",value:function(a){throw this.input.error("Unknown word",{offset:a[0][2]},{offset:a[0][2]+a[0][1].length});}},{key:"unnamedAtrule",value:function(a,c){throw this.input.error("At-rule without name",
  {offset:c[2]},{offset:c[2]+c[1].length});}}])}(),Dn=pd;Bd.default=Bd;mb.registerParse(Bd);var Rb=Vd,Fn={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},sq={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},tq={Once:!0,postcssPlugin:!0,prepare:!0},mi={},rd=function(){function b(a,c,d){var e=this;ka(this,
  b);this.processed=this.stringified=!1;if("object"!==S(c)||null===c||"root"!==c.type&&"document"!==c.type)if(c instanceof b||c instanceof Xd){var f=Mg(c.root);c.map&&("undefined"===typeof d.map&&(d.map={}),d.map.inline||(d.map.inline=!1),d.map.prev=c.map)}else{var g=Bd;d.syntax&&(g=d.syntax.parse);d.parser&&(g=d.parser);g.parse&&(g=g.parse);try{f=g(c,d)}catch(h){this.processed=!0,this.error=h}f&&!f[dg]&&mb.rebuild(f)}else f=Mg(c);this.result=new Xd(a,f,d);this.helpers=pa(pa({},mi),{},{postcss:mi,result:this.result});
  this.plugins=this.processor.plugins.map(function(h){return"object"===S(h)&&h.prepare?pa(pa({},h),h.prepare(e.result)):h})}return la(b,[{key:"async",value:function(){if(this.error)return Promise.reject(this.error);if(this.processed)return Promise.resolve(this.result);this.processing||(this.processing=this.runAsync());return this.processing}},{key:"catch",value:function(a){return this.async().catch(a)}},{key:"finally",value:function(a){return this.async().then(a,a)}},{key:"getAsyncError",value:function(){throw Error("Use process(css).then(cb) to work with async plugins");
  }},{key:"handleError",value:function(a,c){var d=this.result.lastPlugin;try{if(c&&c.addToError(a),this.error=a,"CssSyntaxError"===a.name&&!a.plugin)a.plugin=d.postcssPlugin,a.setMessage();else if(d.postcssVersion){var e=d.postcssPlugin,f=d.postcssVersion,g=this.result.processor.version,h=f.split("."),k=g.split(".");(h[0]!==k[0]||parseInt(h[1])>parseInt(k[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+g+", but "+e+" uses "+f+". Perhaps this is the source of the error below.")}}catch(l){console&&
  console.error&&console.error(l)}return a}},{key:"prepareVisitors",value:function(){var a=this;this.listeners={};var c=function(k,l,n){a.listeners[l]||(a.listeners[l]=[]);a.listeners[l].push([k,n])},d=ca(this.plugins),e;try{for(d.s();!(e=d.n()).done;){var f=e.value;if("object"===S(f))for(var g in f){if(!sq[g]&&/^[A-Z]/.test(g))throw Error("Unknown event ".concat(g," in ").concat(f.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!tq[g])if("object"===S(f[g]))for(var h in f[g])"*"===
  h?c(f,g,f[g][h]):c(f,g+"-"+h.toLowerCase(),f[g][h]);else"function"===typeof f[g]&&c(f,g,f[g])}}}catch(k){d.e(k)}finally{d.f()}this.hasListener=0<Object.keys(this.listeners).length}},{key:"runAsync",value:function(){var a=og(Ib().mark(function d(){var e=this,f,g,h,k,l,n,m,p,r,u;return Ib().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:f=this.plugin=0;case 2:if(!(f<this.plugins.length)){q.next=17;break}g=this.plugins[f];h=this.runOnRoot(g);if(!oe(h)){q.next=14;break}q.prev=6;q.next=9;return h;
  case 9:q.next=14;break;case 11:throw q.prev=11,q.t0=q["catch"](6),this.handleError(q.t0);case 14:f++;q.next=2;break;case 17:this.prepareVisitors();if(!this.hasListener){q.next=56;break}k=this.result.root;case 20:if(k[Rb]){q.next=39;break}k[Rb]=!0;l=[fj(k)];case 23:if(!(0<l.length)){q.next=37;break}n=this.visitTick(l);if(!oe(n)){q.next=35;break}q.prev=26;q.next=29;return n;case 29:q.next=35;break;case 31:throw q.prev=31,q.t1=q["catch"](26),m=l[l.length-1].node,this.handleError(q.t1,m);case 35:q.next=
  23;break;case 37:q.next=20;break;case 39:if(!this.listeners.OnceExit){q.next=56;break}p=ca(this.listeners.OnceExit);q.prev=41;u=Ib().mark(function v(){var x,C,F,H;return Ib().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:x=$a(r.value,2);C=x[0];F=x[1];e.result.lastPlugin=C;G.prev=2;if("document"!==k.type){G.next=9;break}H=k.nodes.map(function(E){return F(E,e.helpers)});G.next=7;return Promise.all(H);case 7:G.next=11;break;case 9:return G.next=11,F(k,e.helpers);case 11:G.next=16;break;case 13:throw G.prev=
  13,G.t0=G["catch"](2),e.handleError(G.t0);case 16:case "end":return G.stop()}},v,null,[[2,13]])});p.s();case 44:if((r=p.n()).done){q.next=48;break}return q.delegateYield(u(),"t2",46);case 46:q.next=44;break;case 48:q.next=53;break;case 50:q.prev=50,q.t3=q["catch"](41),p.e(q.t3);case 53:return q.prev=53,p.f(),q.finish(53);case 56:return this.processed=!0,q.abrupt("return",this.stringify());case 58:case "end":return q.stop()}},d,this,[[6,11],[26,31],[41,50,53,56]])}));return function(){return a.apply(this,
  arguments)}}()},{key:"runOnRoot",value:function(a){var c=this;this.result.lastPlugin=a;try{if("object"===S(a)&&a.Once){if("document"===this.result.root.type){var d=this.result.root.nodes.map(function(e){return a.Once(e,c.helpers)});return oe(d[0])?Promise.all(d):d}return a.Once(this.result.root,this.helpers)}if("function"===typeof a)return a(this.result.root,this.result)}catch(e){throw this.handleError(e);}}},{key:"stringify",value:function(){if(this.error)throw this.error;if(this.stringified)return this.result;
  this.stringified=!0;this.sync();var a=this.result.opts,c=Ad;a.syntax&&(c=a.syntax.stringify);a.stringifier&&(c=a.stringifier);c.stringify&&(c=c.stringify);a=(new Zl(c,this.result.root,this.result.opts)).generate();this.result.css=a[0];this.result.map=a[1];return this.result}},{key:"sync",value:function(){if(this.error)throw this.error;if(this.processed)return this.result;this.processed=!0;if(this.processing)throw this.getAsyncError();var a=ca(this.plugins),c;try{for(a.s();!(c=a.n()).done;){var d=
  this.runOnRoot(c.value);if(oe(d))throw this.getAsyncError();}}catch(f){a.e(f)}finally{a.f()}this.prepareVisitors();if(this.hasListener){for(a=this.result.root;!a[Rb];)a[Rb]=!0,this.walkSync(a);if(this.listeners.OnceExit)if("document"===a.type){a=ca(a.nodes);var e;try{for(a.s();!(e=a.n()).done;)this.visitSync(this.listeners.OnceExit,e.value)}catch(f){a.e(f)}finally{a.f()}}else this.visitSync(this.listeners.OnceExit,a)}return this.result}},{key:"then",value:function(a,c){"from"in this.opts||em("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.");
  return this.async().then(a,c)}},{key:"toString",value:function(){return this.css}},{key:"visitSync",value:function(a,c){a=ca(a);var d;try{for(a.s();!(d=a.n()).done;){var e=$a(d.value,2),f=e[1];this.result.lastPlugin=e[0];var g=void 0;try{g=f(c,this.helpers)}catch(h){throw this.handleError(h,c.proxyOf);}if("root"!==c.type&&"document"!==c.type&&!c.parent)return!0;if(oe(g))throw this.getAsyncError();}}catch(h){a.e(h)}finally{a.f()}}},{key:"visitTick",value:function(a){var c=a[a.length-1],d=c.node,e=
  c.visitors;if("root"===d.type||"document"===d.type||d.parent){if(0<e.length&&c.visitorIndex<e.length){var f=$a(e[c.visitorIndex],2);a=f[0];f=f[1];c.visitorIndex+=1;c.visitorIndex===e.length&&(c.visitors=[],c.visitorIndex=0);this.result.lastPlugin=a;try{return f(d.toProxy(),this.helpers)}catch(g){throw this.handleError(g,d);}}if(0!==c.iterator){for(e=c.iterator;f=d.nodes[d.indexes[e]];)if(d.indexes[e]+=1,!f[Rb]){f[Rb]=!0;a.push(fj(f));return}c.iterator=0;delete d.indexes[e]}for(e=c.events;c.eventIndex<
  e.length;){f=e[c.eventIndex];c.eventIndex+=1;if(0===f){d.nodes&&d.nodes.length&&(d[Rb]=!0,c.iterator=d.getIterator());return}if(this.listeners[f]){c.visitors=this.listeners[f];return}}}a.pop()}},{key:"walkSync",value:function(a){var c=this;a[Rb]=!0;var d=ej(a);d=ca(d);var e;try{for(d.s();!(e=d.n()).done;){var f=e.value;if(0===f)a.nodes&&a.each(function(h){h[Rb]||c.walkSync(h)});else{var g=this.listeners[f];if(g&&this.visitSync(g,a.toProxy()))break}}}catch(h){d.e(h)}finally{d.f()}}},{key:"warnings",
  value:function(){return this.sync().warnings()}},{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}])}();
  rd.registerPostcss=function(b){mi=b};rd.default=rd;Nb.registerLazyResult(rd);Gc.registerLazyResult(rd);var ni=function(){function b(a,c,d){ka(this,b);c=c.toString();this.stringified=!1;this._processor=a;this._css=c;this._opts=d;this._map=void 0;this.result=new Xd(this._processor,void 0,this._opts);this.result.css=c;var e=this;Object.defineProperty(this.result,"root",{get:function(){return e.root}});a=new Zl(Ad,void 0,this._opts,c);a.isMap()?(a=a.generate(),c=$a(a,2),a=c[0],c=c[1],a&&(this.result.css=
  a),c&&(this.result.map=c)):(a.clearAnnotation(),this.result.css=a.css)}return la(b,[{key:"async",value:function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}},{key:"catch",value:function(a){return this.async().catch(a)}},{key:"finally",value:function(a){return this.async().then(a,a)}},{key:"sync",value:function(){if(this.error)throw this.error;return this.result}},{key:"then",value:function(a,c){"from"in this._opts||em("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.");
  return this.async().then(a,c)}},{key:"toString",value:function(){return this._css}},{key:"warnings",value:function(){return[]}},{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;
  try{var a=Bd(this._css,this._opts)}catch(c){this.error=c}if(this.error)throw this.error;return this._root=a}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}])}();ni.default=ni;var Ve=function(){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];ka(this,b);this.version="8.4.38";this.plugins=this.normalize(a)}return la(b,[{key:"normalize",value:function(a){var c=[];a=ca(a);var d;try{for(a.s();!(d=a.n()).done;){var e=d.value;!0===e.postcss?e=e():e.postcss&&(e=
  e.postcss);if("object"===S(e)&&Array.isArray(e.plugins))c=c.concat(e.plugins);else if("object"===S(e)&&e.postcssPlugin)c.push(e);else if("function"===typeof e)c.push(e);else{if("object"===S(e)&&(e.parse||e.stringify))throw Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.");throw Error(e+" is not a PostCSS plugin");}}}catch(f){a.e(f)}finally{a.f()}return c}},{key:"process",value:function(a){var c=
  1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.plugins.length||c.parser||c.stringifier||c.syntax?new rd(this,a,c):new ni(this,a,c)}},{key:"use",value:function(a){this.plugins=this.plugins.concat(this.normalize([a]));return this}}])}();Ve.default=Ve;Nb.registerProcessor(Ve);Gc.registerProcessor(Ve);var Ln=Ec,In=eg,Nn=Fc,On=qd,Hn=pd,Kn=Nb,Mn=Hc;pe.default=pe;var Ng=Ve;Ga.plugin=function(b,a){function c(){console&&console.warn&&!d&&(d=!0,console.warn(b+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),
  process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(b+": \u91cc\u9762 postcss.plugin \u88ab\u5f03\u7528. \u8fc1\u79fb\u6307\u5357:\nhttps://www.w3ctech.com/topic/2226"));var f=a.apply(void 0,arguments);f.postcssPlugin=b;f.postcssVersion=(new Ng).version;return f}var d=!1,e;Object.defineProperty(c,"postcss",{get:function(){e||(e=c());return e}});c.process=function(f,g,h){return Ga([c(h)]).process(f,g)};return c};Ga.stringify=Ad;Ga.parse=Bd;Ga.fromJSON=pe;Ga.list=im;Ga.comment=function(b){return new Fc(b)};
  Ga.atRule=function(b){return new qd(b)};Ga.decl=function(b){return new Ec(b)};Ga.rule=function(b){return new Hc(b)};Ga.root=function(b){return new Nb(b)};Ga.document=function(b){return new Gc(b)};Ga.CssSyntaxError=Ud;Ga.Declaration=Ec;Ga.Container=mb;Ga.Processor=Ng;Ga.Document=Gc;Ga.Comment=Fc;Ga.Warning=ig;Ga.AtRule=qd;Ga.Result=Xd;Ga.Input=pd;Ga.Rule=Hc;Ga.Root=Nb;Ga.Node=Wd;rd.registerPostcss(Ga);Ga.default=Ga;var Ta=function(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?
  b["default"]:b}(Ga);Ta.stringify;Ta.fromJSON;Ta.plugin;Ta.parse;Ta.list;Ta.document;Ta.comment;Ta.atRule;Ta.rule;Ta.decl;Ta.root;Ta.CssSyntaxError;Ta.Declaration;Ta.Container;Ta.Processor;Ta.Document;Ta.Comment;Ta.Warning;Ta.AtRule;Ta.Result;Ta.Input;Ta.Rule;Ta.Root;Ta.Node;var Qn=function(){function b(){ka(this,b);Gb(this,"parentElement",null);Gb(this,"parentNode",null);Gb(this,"ownerDocument");Gb(this,"firstChild",null);Gb(this,"lastChild",null);Gb(this,"previousSibling",null);Gb(this,"nextSibling",
  null);Gb(this,"ELEMENT_NODE",1);Gb(this,"TEXT_NODE",3);Gb(this,"nodeType");Gb(this,"nodeName");Gb(this,"RRNodeType")}return la(b,[{key:"childNodes",get:function(){for(var a=[],c=this.firstChild;c;)a.push(c),c=c.nextSibling;return a}},{key:"contains",value:function(a){if(a instanceof b){if(a.ownerDocument!==this.ownerDocument)return!1;if(a===this)return!0}else return!1;for(;a.parentNode;){if(a.parentNode===this)return!0;a=a.parentNode}return!1}},{key:"appendChild",value:function(a){throw Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.");
  }},{key:"insertBefore",value:function(a,c){throw Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.");}},{key:"removeChild",value:function(a){throw Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.");}},{key:"toString",value:function(){return"RRNode"}}])}(),gj={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot",
  "querySelector","querySelectorAll"],MutationObserver:[]},hj={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},ff={},Pg={},Qg={},va={childNodes:function(b){return qc("Node",b,"childNodes")},parentNode:function(b){return qc("Node",b,"parentNode")},parentElement:function(b){return qc("Node",b,"parentElement")},textContent:function(b){return qc("Node",b,"textContent")},contains:function(b,a){return ij("Node",b,"contains")(a)},getRootNode:function(b){return ij("Node",
  b,"getRootNode")()},host:function(b){return b&&"host"in b?qc("ShadowRoot",b,"host"):null},styleSheets:function(b){return b.styleSheets},shadowRoot:function(b){return b&&"shadowRoot"in b?qc("Element",b,"shadowRoot"):null},querySelector:function(b,a){return qc("Element",b,"querySelector")(a)},querySelectorAll:function(b,a){return qc("Element",b,"querySelectorAll")(a)},mutationObserver:jj},km={map:{},getId:function(){console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.");
  return-1},getNode:function(){console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.");return null},removeNodeFromMap:function(){console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.")},
  has:function(){console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.");return!1},reset:function(){console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.")}};
  "undefined"!==typeof window&&window.Proxy&&window.Reflect&&(km=new Proxy(km,{get:function(b,a,c){"map"===a&&console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.");return Reflect.get(b,a,c)}}));var hf=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(hf=function(){return(new Date).getTime()});var uq=function(){function b(){ka(this,
  b);Q(this,"id",1);Q(this,"styleIDMap",new WeakMap);Q(this,"idStyleMap",new Map)}return la(b,[{key:"getId",value:function(a){var c;return null!==(c=this.styleIDMap.get(a))&&void 0!==c?c:-1}},{key:"has",value:function(a){return this.styleIDMap.has(a)}},{key:"add",value:function(a,c){if(this.has(a))return this.getId(a);c=void 0===c?this.id++:c;this.styleIDMap.set(a,c);this.idStyleMap.set(c,a);return c}},{key:"getStyle",value:function(a){return this.idStyleMap.get(a)||null}},{key:"reset",value:function(){this.styleIDMap=
  new WeakMap;this.idStyleMap=new Map;this.id=1}},{key:"generateId",value:function(){return this.id++}}])}(),Da=function(b){b[b.DomContentLoaded=0]="DomContentLoaded";b[b.Load=1]="Load";b[b.FullSnapshot=2]="FullSnapshot";b[b.IncrementalSnapshot=3]="IncrementalSnapshot";b[b.Meta=4]="Meta";b[b.Custom=5]="Custom";b[b.Plugin=6]="Plugin";return b}(Da||{}),ya=function(b){b[b.Mutation=0]="Mutation";b[b.MouseMove=1]="MouseMove";b[b.MouseInteraction=2]="MouseInteraction";b[b.Scroll=3]="Scroll";b[b.ViewportResize=
  4]="ViewportResize";b[b.Input=5]="Input";b[b.TouchMove=6]="TouchMove";b[b.MediaInteraction=7]="MediaInteraction";b[b.StyleSheetRule=8]="StyleSheetRule";b[b.CanvasMutation=9]="CanvasMutation";b[b.Font=10]="Font";b[b.Log=11]="Log";b[b.Drag=12]="Drag";b[b.StyleDeclaration=13]="StyleDeclaration";b[b.Selection=14]="Selection";b[b.AdoptedStyleSheet=15]="AdoptedStyleSheet";b[b.CustomElement=16]="CustomElement";return b}(ya||{}),xb=function(b){b[b.MouseUp=0]="MouseUp";b[b.MouseDown=1]="MouseDown";b[b.Click=
  2]="Click";b[b.ContextMenu=3]="ContextMenu";b[b.DblClick=4]="DblClick";b[b.Focus=5]="Focus";b[b.Blur=6]="Blur";b[b.TouchStart=7]="TouchStart";b[b.TouchMove_Departed=8]="TouchMove_Departed";b[b.TouchEnd=9]="TouchEnd";b[b.TouchCancel=10]="TouchCancel";return b}(xb||{}),rc=function(b){b[b.Mouse=0]="Mouse";b[b.Pen=1]="Pen";b[b.Touch=2]="Touch";return b}(rc||{}),Ed=function(b){b[b["2D"]=0]="2D";b[b.WebGL=1]="WebGL";b[b.WebGL2=2]="WebGL2";return b}(Ed||{}),Dd=function(b){b[b.Play=0]="Play";b[b.Pause=1]=
  "Pause";b[b.Seeked=2]="Seeked";b[b.VolumeChange=3]="VolumeChange";b[b.RateChange=4]="RateChange";return b}(Dd||{}),lm=function(b){b[b.Document=0]="Document";b[b.DocumentType=1]="DocumentType";b[b.Element=2]="Element";b[b.Text=3]="Text";b[b.CDATA=4]="CDATA";b[b.Comment=5]="Comment";return b}(lm||{}),vq=function(){function b(){ka(this,b);Q(this,"length",0);Q(this,"head",null);Q(this,"tail",null)}return la(b,[{key:"get",value:function(a){if(a>=this.length)throw Error("Position outside of list range");
  for(var c=this.head,d=0;d<a;d++)c=(null==c?void 0:c.next)||null;return c}},{key:"addNode",value:function(a){var c={value:a,previous:null,next:null};a.__ln=c;if(a.previousSibling&&"__ln"in a.previousSibling){var d=a.previousSibling.__ln.next;c.next=d;c.previous=a.previousSibling.__ln;a.previousSibling.__ln.next=c;d&&(d.previous=c)}else a.nextSibling&&"__ln"in a.nextSibling&&a.nextSibling.__ln.previous?(d=a.nextSibling.__ln.previous,c.previous=d,c.next=a.nextSibling.__ln,a.nextSibling.__ln.previous=
  c,d&&(d.next=c)):(this.head&&(this.head.previous=c),c.next=this.head,this.head=c);null===c.next&&(this.tail=c);this.length++}},{key:"removeNode",value:function(a){var c=a.__ln;this.head&&(c.previous?(c.previous.next=c.next)?c.next.previous=c.previous:this.tail=c.previous:(this.head=c.next)?this.head.previous=null:this.tail=null,a.__ln&&delete a.__ln,this.length--)}}])}(),mm=function(b,a){return"".concat(b,"@").concat(a)},Sn=function(){function b(){var a=this;ka(this,b);Q(this,"frozen",!1);Q(this,
  "locked",!1);Q(this,"texts",[]);Q(this,"attributes",[]);Q(this,"attributeMap",new WeakMap);Q(this,"removes",[]);Q(this,"mapRemoves",[]);Q(this,"movedMap",{});Q(this,"addedSet",new Set);Q(this,"movedSet",new Set);Q(this,"droppedSet",new Set);Q(this,"removesSubTreeCache",new Set);Q(this,"mutationCb");Q(this,"blockClass");Q(this,"blockSelector");Q(this,"maskTextClass");Q(this,"maskTextSelector");Q(this,"inlineStylesheet");Q(this,"maskInputOptions");Q(this,"maskTextFn");Q(this,"maskInputFn");Q(this,"keepIframeSrcFn");
  Q(this,"recordCanvas");Q(this,"inlineImages");Q(this,"slimDOMOptions");Q(this,"dataURLOptions");Q(this,"doc");Q(this,"mirror");Q(this,"iframeManager");Q(this,"stylesheetManager");Q(this,"shadowDomManager");Q(this,"canvasManager");Q(this,"processedNodeManager");Q(this,"unattachedDoc");Q(this,"processMutations",function(c){c.forEach(a.processMutation);a.emit()});Q(this,"emit",function(){if(!a.frozen&&!a.locked){for(var c=[],d=new Set,e=new vq,f=function(p){for(var r=-2;-2===r;)r=(p=p&&p.nextSibling)&&
  a.mirror.getId(p);return r},g=function(p){var r=va.parentNode(p);if(r&&rj(p)){var u=!1;if(p.nodeType===Node.TEXT_NODE){var q=r.tagName;if("TEXTAREA"===q)return;"STYLE"===q&&a.addedSet.has(r)&&(u=!0)}r=ke(r)?a.mirror.getId(qj(p)):a.mirror.getId(r);q=f(p);if(-1===r||-1===q)return e.addNode(p);if(u=xd(p,{doc:a.doc,mirror:a.mirror,blockClass:a.blockClass,blockSelector:a.blockSelector,maskTextClass:a.maskTextClass,maskTextSelector:a.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:a.inlineStylesheet,
  maskInputOptions:a.maskInputOptions,maskTextFn:a.maskTextFn,maskInputFn:a.maskInputFn,slimDOMOptions:a.slimDOMOptions,dataURLOptions:a.dataURLOptions,recordCanvas:a.recordCanvas,inlineImages:a.inlineImages,onSerialize:function(w){"IFRAME"===w.nodeName&&a.mirror.getMeta(w)&&a.iframeManager.addIframe(w);pj(w,a.mirror)&&a.stylesheetManager.trackLinkElement(w);Sg(p)&&a.shadowDomManager.addShadowRoot(va.shadowRoot(p),a.doc)},onIframeLoad:function(w,v){a.iframeManager.attachIframe(w,v);a.shadowDomManager.observeAttachShadow(w)},
  onStylesheetLoad:function(w,v){a.stylesheetManager.attachLinkElement(w,v)},cssCaptured:u}))c.push({parentId:r,nextId:q,node:u}),d.add(u.id)}};a.mapRemoves.length;)a.mirror.removeNodeFromMap(a.mapRemoves.shift());var h=ca(a.movedSet),k;try{for(h.s();!(k=h.n()).done;){var l=k.value;sj(a.removesSubTreeCache,l,a.mirror)&&!a.movedSet.has(va.parentNode(l))||g(l)}}catch(p){h.e(p)}finally{h.f()}h=ca(a.addedSet);var n;try{for(h.s();!(n=h.n()).done;){var m=n.value;tj(a.droppedSet,m)||sj(a.removesSubTreeCache,
  m,a.mirror)?tj(a.movedSet,m)?g(m):a.droppedSet.add(m):g(m)}}catch(p){h.e(p)}finally{h.f()}for(m=null;e.length;){n=null;m&&(h=a.mirror.getId(va.parentNode(m.value)),k=f(m.value),-1!==h&&-1!==k&&(n=m));if(!n)for(m=e.tail;m;)if(h=m,m=m.previous,h&&(k=a.mirror.getId(va.parentNode(h.value)),-1!==f(h.value)))if(-1!==k){n=h;break}else if((k=va.parentNode(h.value))&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(k=va.host(k),-1!==a.mirror.getId(k))){n=h;break}if(!n){for(;e.head;)e.removeNode(e.head.value);break}m=
  n.previous;e.removeNode(n.value);g(n.value)}g={texts:a.texts.map(function(p){var r=p.node,u=va.parentNode(r);u&&"TEXTAREA"===u.tagName&&a.genTextAreaValueMutation(u);return{id:a.mirror.getId(r),value:p.value}}).filter(function(p){return!d.has(p.id)}).filter(function(p){return a.mirror.has(p.id)}),attributes:a.attributes.map(function(p){var r=p.attributes;if("string"===typeof r.style){var u=JSON.stringify(p.styleDiff),q=JSON.stringify(p._unchangedStyles);u.length<r.style.length&&(u+q).split("var(").length===
  r.style.split("var(").length&&(r.style=p.styleDiff)}return{id:a.mirror.getId(p.node),attributes:r}}).filter(function(p){return!d.has(p.id)}).filter(function(p){return a.mirror.has(p.id)}),removes:a.removes,adds:c};if(g.texts.length||g.attributes.length||g.removes.length||g.adds.length)a.texts=[],a.attributes=[],a.attributeMap=new WeakMap,a.removes=[],a.addedSet=new Set,a.movedSet=new Set,a.droppedSet=new Set,a.removesSubTreeCache=new Set,a.movedMap={},a.mutationCb(g)}});Q(this,"genTextAreaValueMutation",
  function(c){var d=a.attributeMap.get(c);d||(d={node:c,attributes:{},styleDiff:{},_unchangedStyles:{}},a.attributes.push(d),a.attributeMap.set(c,d));d.attributes.value=Array.from(va.childNodes(c),function(e){return va.textContent(e)||""}).join("")});Q(this,"processMutation",function(c){if(!Rg(c.target,a.mirror,a.slimDOMOptions))switch(c.type){case "characterData":var d=va.textContent(c.target);vb(c.target,a.blockClass,a.blockSelector,!1)||d===c.oldValue||a.texts.push({value:Ui(c.target,a.maskTextClass,
  a.maskTextSelector,!0)&&d?a.maskTextFn?a.maskTextFn(d,nj(c.target)):d.replace(/[\S]/g,"*"):d,node:c.target});break;case "attributes":d=c.target;var e=c.attributeName,f=c.target.getAttribute(e);if("value"===e){var g=Fg(d);f=Eg({element:d,maskInputOptions:a.maskInputOptions,tagName:d.tagName,type:g,value:f,maskInputFn:a.maskInputFn})}if(vb(c.target,a.blockClass,a.blockSelector,!1)||f===c.oldValue)break;g=a.attributeMap.get(c.target);if("IFRAME"===d.tagName&&"src"===e&&!a.keepIframeSrcFn(f))if(d.contentDocument)break;
  else e="rr_src";g||(g={node:c.target,attributes:{},styleDiff:{},_unchangedStyles:{}},a.attributes.push(g),a.attributeMap.set(c.target,g));"type"===e&&"INPUT"===d.tagName&&"password"===(c.oldValue||"").toLowerCase()&&d.setAttribute("data-rr-is-password","true");if(!Ti(d.tagName,e))if(g.attributes[e]=Si(a.doc,d.tagName.toLowerCase(),e.toLowerCase(),f),"style"===e){if(!a.unattachedDoc)try{a.unattachedDoc=document.implementation.createHTMLDocument()}catch(m){a.unattachedDoc=a.doc}e=a.unattachedDoc.createElement("span");
  c.oldValue&&e.setAttribute("style",c.oldValue);f=0;for(var h=Array.from(d.style);f<h.length;f++){var k=h[f],l=d.style.getPropertyValue(k),n=d.style.getPropertyPriority(k);l!==e.style.getPropertyValue(k)||n!==e.style.getPropertyPriority(k)?g.styleDiff[k]=""===n?l:[l,n]:g._unchangedStyles[k]=[l,n]}f=0;for(e=Array.from(e.style);f<e.length;f++)h=e[f],""===d.style.getPropertyValue(h)&&(g.styleDiff[h]=!1)}else"open"===e&&"DIALOG"===d.tagName&&(d.matches("dialog:modal")?g.attributes.rr_open_mode="modal":
  g.attributes.rr_open_mode="non-modal");break;case "childList":vb(c.target,a.blockClass,a.blockSelector,!0)||("TEXTAREA"===c.target.tagName?a.genTextAreaValueMutation(c.target):(c.addedNodes.forEach(function(m){return a.genAdds(m,c.target)}),c.removedNodes.forEach(function(m){var p=a.mirror.getId(m),r=ke(c.target)?a.mirror.getId(va.host(c.target)):a.mirror.getId(c.target);vb(c.target,a.blockClass,a.blockSelector,!1)||Rg(m,a.mirror,a.slimDOMOptions)||-1===a.mirror.getId(m)||(a.addedSet.has(m)?(Tg(a.addedSet,
  m),a.droppedSet.add(m)):a.addedSet.has(c.target)&&-1===p||oj(c.target,a.mirror)||(a.movedSet.has(m)&&a.movedMap[mm(p,r)]?Tg(a.movedSet,m):(a.removes.push({parentId:r,id:p,isShadow:ke(c.target)&&le(c.target)?!0:void 0}),Rn(m,a.removesSubTreeCache))),a.mapRemoves.push(m))})))}});Q(this,"genAdds",function(c,d){if(!a.processedNodeManager.inOtherBuffer(c,a)&&!a.addedSet.has(c)&&!a.movedSet.has(c)){if(a.mirror.hasNode(c)){if(Rg(c,a.mirror,a.slimDOMOptions))return;a.movedSet.add(c);var e=null;d&&a.mirror.hasNode(d)&&
  (e=a.mirror.getId(d));e&&-1!==e&&(a.movedMap[mm(a.mirror.getId(c),e)]=!0)}else a.addedSet.add(c),a.droppedSet.delete(c);vb(c,a.blockClass,a.blockSelector,!1)||(va.childNodes(c).forEach(function(f){return a.genAdds(f)}),Sg(c)&&va.childNodes(va.shadowRoot(c)).forEach(function(f){a.processedNodeManager.add(f,a);a.genAdds(f,c)}))}})}return la(b,[{key:"init",value:function(a){var c=this;"mutationCb blockClass blockSelector maskTextClass maskTextSelector inlineStylesheet maskInputOptions maskTextFn maskInputFn keepIframeSrcFn recordCanvas inlineImages slimDOMOptions dataURLOptions doc mirror iframeManager stylesheetManager shadowDomManager canvasManager processedNodeManager".split(" ").forEach(function(d){c[d]=
  a[d]})}},{key:"freeze",value:function(){this.frozen=!0;this.canvasManager.freeze()}},{key:"unfreeze",value:function(){this.frozen=!1;this.canvasManager.unfreeze();this.emit()}},{key:"isFrozen",value:function(){return this.frozen}},{key:"lock",value:function(){this.locked=!0;this.canvasManager.lock()}},{key:"unlock",value:function(){this.locked=!1;this.canvasManager.unlock();this.emit()}},{key:"reset",value:function(){this.shadowDomManager.reset();this.canvasManager.reset()}}])}(),se,xa=function(b){return se?
  function(){try{return b.apply(void 0,arguments)}catch(a){if(!se||!0!==se(a))throw a;}}:b},Mc=[],Xn=["INPUT","TEXTAREA","SELECT"],xj=new WeakMap,nm=function(){function b(a){ka(this,b);Q(this,"iframeIdToRemoteIdMap",new WeakMap);Q(this,"iframeRemoteIdToIdMap",new WeakMap);this.generateIdFn=a}return la(b,[{key:"getId",value:function(a,c,d,e){d=d||this.getIdToRemoteIdMap(a);a=e||this.getRemoteIdToIdMap(a);e=d.get(c);e||(e=this.generateIdFn(),d.set(c,e),a.set(e,c));return e}},{key:"getIds",value:function(a,
  c){var d=this,e=this.getIdToRemoteIdMap(a),f=this.getRemoteIdToIdMap(a);return c.map(function(g){return d.getId(a,g,e,f)})}},{key:"getRemoteId",value:function(a,c,d){a=d||this.getRemoteIdToIdMap(a);return"number"!==typeof c?c:(c=a.get(c))?c:-1}},{key:"getRemoteIds",value:function(a,c){var d=this,e=this.getRemoteIdToIdMap(a);return c.map(function(f){return d.getRemoteId(a,f,e)})}},{key:"reset",value:function(a){a?(this.iframeIdToRemoteIdMap.delete(a),this.iframeRemoteIdToIdMap.delete(a)):(this.iframeIdToRemoteIdMap=
  new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap)}},{key:"getIdToRemoteIdMap",value:function(a){var c=this.iframeIdToRemoteIdMap.get(a);c||(c=new Map,this.iframeIdToRemoteIdMap.set(a,c));return c}},{key:"getRemoteIdToIdMap",value:function(a){var c=this.iframeRemoteIdToIdMap.get(a);c||(c=new Map,this.iframeRemoteIdToIdMap.set(a,c));return c}}])}(),lo=function(){function b(a){ka(this,b);Q(this,"iframes",new WeakMap);Q(this,"crossOriginIframeMap",new WeakMap);Q(this,"crossOriginIframeMirror",new nm(Ym));
  Q(this,"crossOriginIframeStyleMirror");Q(this,"crossOriginIframeRootIdMap",new WeakMap);Q(this,"mirror");Q(this,"mutationCb");Q(this,"wrappedEmit");Q(this,"loadListener");Q(this,"stylesheetManager");Q(this,"recordCrossOriginIframes");this.mutationCb=a.mutationCb;this.wrappedEmit=a.wrappedEmit;this.stylesheetManager=a.stylesheetManager;this.recordCrossOriginIframes=a.recordCrossOriginIframes;this.crossOriginIframeStyleMirror=new nm(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror));
  this.mirror=a.mirror;this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}return la(b,[{key:"addIframe",value:function(a){this.iframes.set(a,!0);a.contentWindow&&this.crossOriginIframeMap.set(a.contentWindow,a)}},{key:"addLoadListener",value:function(a){this.loadListener=a}},{key:"attachIframe",value:function(a,c){var d,e;this.mutationCb({adds:[{parentId:this.mirror.getId(a),nextId:null,node:c}],removes:[],texts:[],attributes:[],isAttachIframe:!0});this.recordCrossOriginIframes&&
  (null==(d=a.contentWindow)?void 0:d.addEventListener("message",this.handleMessage.bind(this)));null==(e=this.loadListener)?void 0:e.call(this,a);a.contentDocument&&a.contentDocument.adoptedStyleSheets&&0<a.contentDocument.adoptedStyleSheets.length&&this.stylesheetManager.adoptStyleSheets(a.contentDocument.adoptedStyleSheets,this.mirror.getId(a.contentDocument))}},{key:"handleMessage",value:function(a){if("rrweb"===a.data.type&&a.origin===a.data.origin&&a.source){var c=this.crossOriginIframeMap.get(a.source);
  c&&(c=this.transformCrossOriginEvent(c,a.data.event))&&this.wrappedEmit(c,a.data.isCheckout)}}},{key:"transformCrossOriginEvent",value:function(a,c){var d=this;switch(c.type){case Da.FullSnapshot:this.crossOriginIframeMirror.reset(a);this.crossOriginIframeStyleMirror.reset(a);this.replaceIdOnNode(c.data.node,a);var e=c.data.node.id;this.crossOriginIframeRootIdMap.set(a,e);this.patchRootIdOnNode(c.data.node,e);return{timestamp:c.timestamp,type:Da.IncrementalSnapshot,data:{source:ya.Mutation,adds:[{parentId:this.mirror.getId(a),
  nextId:null,node:c.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}};case Da.Plugin:return c;case Da.Custom:return this.replaceIds(c.data.payload,a,["id","parentId","previousId","nextId"]),c;case Da.IncrementalSnapshot:switch(c.data.source){case ya.Mutation:return c.data.adds.forEach(function(f){d.replaceIds(f,a,["parentId","nextId","previousId"]);d.replaceIdOnNode(f.node,a);var g=d.crossOriginIframeRootIdMap.get(a);g&&d.patchRootIdOnNode(f.node,g)}),c.data.removes.forEach(function(f){d.replaceIds(f,
  a,["parentId","id"])}),c.data.attributes.forEach(function(f){d.replaceIds(f,a,["id"])}),c.data.texts.forEach(function(f){d.replaceIds(f,a,["id"])}),c;case ya.Drag:case ya.TouchMove:case ya.MouseMove:return c.data.positions.forEach(function(f){d.replaceIds(f,a,["id"])}),c;case ya.MediaInteraction:case ya.MouseInteraction:case ya.Scroll:case ya.CanvasMutation:case ya.Input:return this.replaceIds(c.data,a,["id"]),c;case ya.StyleSheetRule:case ya.StyleDeclaration:return this.replaceIds(c.data,a,["id"]),
  this.replaceStyleIds(c.data,a,["styleId"]),c;case ya.Font:return c;case ya.Selection:return c.data.ranges.forEach(function(f){d.replaceIds(f,a,["start","end"])}),c;case ya.AdoptedStyleSheet:return this.replaceIds(c.data,a,["id"]),this.replaceStyleIds(c.data,a,["styleIds"]),null==(e=c.data.styles)?void 0:e.forEach(function(f){d.replaceStyleIds(f,a,["styleId"])}),c}}return!1}},{key:"replace",value:function(a,c,d,e){e=ca(e);var f;try{for(e.s();!(f=e.n()).done;){var g=f.value;if(Array.isArray(c[g])||
  "number"===typeof c[g])Array.isArray(c[g])?c[g]=a.getIds(d,c[g]):c[g]=a.getId(d,c[g])}}catch(h){e.e(h)}finally{e.f()}return c}},{key:"replaceIds",value:function(a,c,d){return this.replace(this.crossOriginIframeMirror,a,c,d)}},{key:"replaceStyleIds",value:function(a,c,d){return this.replace(this.crossOriginIframeStyleMirror,a,c,d)}},{key:"replaceIdOnNode",value:function(a,c){var d=this;this.replaceIds(a,c,["id","rootId"]);"childNodes"in a&&a.childNodes.forEach(function(e){d.replaceIdOnNode(e,c)})}},
  {key:"patchRootIdOnNode",value:function(a,c){var d=this;a.type===lm.Document||a.rootId||(a.rootId=c);"childNodes"in a&&a.childNodes.forEach(function(e){d.patchRootIdOnNode(e,c)})}}])}(),oo=function(){function b(a){ka(this,b);Q(this,"shadowDoms",new WeakSet);Q(this,"mutationCb");Q(this,"scrollCb");Q(this,"bypassOptions");Q(this,"mirror");Q(this,"restoreHandlers",[]);this.mutationCb=a.mutationCb;this.scrollCb=a.scrollCb;this.bypassOptions=a.bypassOptions;this.mirror=a.mirror;this.init()}return la(b,
  [{key:"init",value:function(){this.reset();this.patchAttachShadow(Element,document)}},{key:"addShadowRoot",value:function(a,c){var d=this;if(le(a)&&!this.shadowDoms.has(a)){this.shadowDoms.add(a);var e=vj(pa(pa({},this.bypassOptions),{},{doc:c,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),a);this.restoreHandlers.push(function(){return e.disconnect()});this.restoreHandlers.push(wj(pa(pa({},this.bypassOptions),{},{scrollCb:this.scrollCb,doc:a,mirror:this.mirror})));setTimeout(function(){a.adoptedStyleSheets&&
  0<a.adoptedStyleSheets.length&&d.bypassOptions.stylesheetManager.adoptStyleSheets(a.adoptedStyleSheets,d.mirror.getId(va.host(a)));d.restoreHandlers.push(yj({mirror:d.mirror,stylesheetManager:d.bypassOptions.stylesheetManager},a))},0)}}},{key:"observeAttachShadow",value:function(a){a.contentWindow&&a.contentDocument&&this.patchAttachShadow(a.contentWindow.Element,a.contentDocument)}},{key:"patchAttachShadow",value:function(a,c){var d=this;this.restoreHandlers.push(Cd(a.prototype,"attachShadow",function(e){return function(f){f=
  e.call(this,f);var g=va.shadowRoot(this);g&&rj(this)&&d.addShadowRoot(g,c);return f}}))}},{key:"reset",value:function(){this.restoreHandlers.forEach(function(a){try{a()}catch(c){}});this.restoreHandlers=[];this.shadowDoms=new WeakSet}}])}(),wq="undefined"===typeof Uint8Array?[]:new Uint8Array(256),lg=0;for(;64>lg;lg++)wq["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(lg)]=lg;var go=function(b){b=new Uint8Array(b);var a,c=b.length,d="";for(a=0;a<c;a+=3)d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b[a]>>
  2],d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(b[a]&3)<<4|b[a+1]>>4],d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(b[a+1]&15)<<2|b[a+2]>>6],d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b[a+2]&63];2===c%3?d=d.substring(0,d.length-1)+"=":1===c%3&&(d=d.substring(0,d.length-2)+"==");return d},om=new Map,Aj=function(b,a,c){if(b&&(zj(b,a)||"object"===S(b))){a=b.constructor.name;var d=om.get(c);d||(d=new Map,om.set(c,d));d.has(a)||
  d.set(a,[]);c=d.get(a);a=c.indexOf(b);-1===a&&(a=c.length,c.push(b));return a}},Bj=function(b,a,c){return b.map(function(d){return mf(d,a,c)})},zj=function(b,a){return!!"WebGLActiveInfo WebGLBuffer WebGLFramebuffer WebGLProgram WebGLRenderbuffer WebGLShader WebGLShaderPrecisionFormat WebGLTexture WebGLUniformLocation WebGLVertexArrayObject WebGLVertexArrayObjectOES".split(" ").filter(function(c){return"function"===typeof a[c]}).find(function(c){return b instanceof a[c]})},xq=function(b){return Uint8Array.from(atob(b),
  function(a){return a.charCodeAt(0)})},Ej="undefined"!==typeof window&&window.Blob&&new Blob([xq("KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=")],
  {type:"text/javascript;charset=utf-8"}),no=function(){function b(a){var c=this;ka(this,b);Q(this,"pendingCanvasMutations",new Map);Q(this,"rafStamps",{latestId:0,invokeId:null});Q(this,"mirror");Q(this,"mutationCb");Q(this,"resetObservers");Q(this,"frozen",!1);Q(this,"locked",!1);Q(this,"processMutation",function(l,n){if(c.rafStamps.invokeId&&c.rafStamps.latestId!==c.rafStamps.invokeId||!c.rafStamps.invokeId)c.rafStamps.invokeId=c.rafStamps.latestId;c.pendingCanvasMutations.has(l)||c.pendingCanvasMutations.set(l,
  []);c.pendingCanvasMutations.get(l).push(n)});var d=a.sampling;d=void 0===d?"all":d;var e=a.win,f=a.blockClass,g=a.blockSelector,h=a.recordCanvas,k=a.dataURLOptions;this.mutationCb=a.mutationCb;this.mirror=a.mirror;h&&"all"===d&&this.initCanvasMutationObserver(e,f,g);h&&"number"===typeof d&&this.initCanvasFPSObserver(d,e,f,g,{dataURLOptions:k})}return la(b,[{key:"reset",value:function(){this.pendingCanvasMutations.clear();this.resetObservers&&this.resetObservers()}},{key:"freeze",value:function(){this.frozen=
  !0}},{key:"unfreeze",value:function(){this.frozen=!1}},{key:"lock",value:function(){this.locked=!0}},{key:"unlock",value:function(){this.locked=!1}},{key:"initCanvasFPSObserver",value:function(a,c,d,e,f){var g=this,h=Cj(c,d,e,!0),k=new Map,l=new jo;l.onmessage=function(q){var w=q.data.id;k.set(w,!1);"base64"in q.data&&(q=q.data,g.mutationCb({id:w,type:Ed["2D"],commands:[{property:"clearRect",args:[0,0,q.width,q.height]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",
  base64:q.base64}],type:q.type}]},0,0]}]}))};var n=1E3/a,m=0,p=function(){var q=[];c.document.querySelectorAll("canvas").forEach(function(w){vb(w,d,e,!0)||q.push(w)});return q},r=function(q){m&&q-m<n||(m=q,p().forEach(function(){var w=og(Ib().mark(function C(x){var F,H,G,E;return Ib().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:H=g.mirror.getId(x);if(!k.get(H)){I.next=3;break}return I.abrupt("return");case 3:if(0!==x.width&&0!==x.height){I.next=5;break}return I.abrupt("return");case 5:return k.set(H,
  !0),["webgl","webgl2"].includes(x.__context)&&(G=x.getContext(x.__context),!1===(null==(F=null==G?void 0:G.getContextAttributes())?void 0:F.preserveDrawingBuffer)&&G.clear(G.COLOR_BUFFER_BIT)),I.next=9,createImageBitmap(x);case 9:E=I.sent,l.postMessage({id:H,bitmap:E,width:x.width,height:x.height,dataURLOptions:f.dataURLOptions},[E]);case 11:case "end":return I.stop()}},C)}));return function(x){return w.apply(this,arguments)}}()));u=requestAnimationFrame(r)};var u=requestAnimationFrame(r);this.resetObservers=
  function(){h();cancelAnimationFrame(u)}}},{key:"initCanvasMutationObserver",value:function(a,c,d){this.startRAFTimestamping();this.startPendingCanvasMutationFlusher();var e=Cj(a,c,d,!1),f=ho(this.processMutation.bind(this),a,c,d),g=io(this.processMutation.bind(this),a,c,d);this.resetObservers=function(){e();f();g()}}},{key:"startPendingCanvasMutationFlusher",value:function(){var a=this;requestAnimationFrame(function(){return a.flushPendingCanvasMutations()})}},{key:"startRAFTimestamping",value:function(){var a=
  this,c=function(d){a.rafStamps.latestId=d;requestAnimationFrame(c)};requestAnimationFrame(c)}},{key:"flushPendingCanvasMutations",value:function(){var a=this;this.pendingCanvasMutations.forEach(function(c,d){c=a.mirror.getId(d);a.flushPendingCanvasMutationFor(d,c)});requestAnimationFrame(function(){return a.flushPendingCanvasMutations()})}},{key:"flushPendingCanvasMutationFor",value:function(a,c){if(!this.frozen&&!this.locked){var d=this.pendingCanvasMutations.get(a);if(d&&-1!==c){var e=d.map(function(f){f.type;
  return be(f,Rp)});this.mutationCb({id:c,type:d[0].type,commands:e});this.pendingCanvasMutations.delete(a)}}}}])}(),ko=function(){function b(a){ka(this,b);Q(this,"trackedLinkElements",new WeakSet);Q(this,"mutationCb");Q(this,"adoptedStyleSheetCb");Q(this,"styleMirror",new uq);this.mutationCb=a.mutationCb;this.adoptedStyleSheetCb=a.adoptedStyleSheetCb}return la(b,[{key:"attachLinkElement",value:function(a,c){"_cssText"in c.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:c.id,
  attributes:c.attributes}]});this.trackLinkElement(a)}},{key:"trackLinkElement",value:function(a){this.trackedLinkElements.has(a)||(this.trackedLinkElements.add(a),this.trackStylesheetInLinkElement(a))}},{key:"adoptStyleSheets",value:function(a,c){var d=this;if(0!==a.length){var e={id:c,styleIds:[]},f=[];a=ca(a);var g;try{for(c=function(){var h=g.value;if(d.styleMirror.has(h))var k=d.styleMirror.getId(h);else k=d.styleMirror.add(h),f.push({styleId:k,rules:Array.from(h.rules||CSSRule,function(l,n){return{rule:Oi(l,
  h.href),index:n}})});e.styleIds.push(k)},a.s();!(g=a.n()).done;)c()}catch(h){a.e(h)}finally{a.f()}0<f.length&&(e.styles=f);this.adoptedStyleSheetCb(e)}}},{key:"reset",value:function(){this.styleMirror.reset();this.trackedLinkElements=new WeakSet}},{key:"trackStylesheetInLinkElement",value:function(a){}}])}(),mo=function(){function b(){ka(this,b);Q(this,"nodeMap",new WeakMap);Q(this,"active",!1)}return la(b,[{key:"inOtherBuffer",value:function(a,c){return(a=this.nodeMap.get(a))&&Array.from(a).some(function(d){return d!==
  c})}},{key:"add",value:function(a,c){var d=this;this.active||(this.active=!0,requestAnimationFrame(function(){d.nodeMap=new WeakMap;d.active=!1}));this.nodeMap.set(a,(this.nodeMap.get(a)||new Set).add(c))}},{key:"destroy",value:function(){}}])}(),Xa,nf,Ug,of=!1;try{if(2!==Array.from([1],function(b){return 2*b})[0]){var oi=document.createElement("iframe");document.body.appendChild(oi);Array.from=(null==(nl=oi.contentWindow)?void 0:nl.Array.from)||Array.from;document.body.removeChild(oi)}}catch(b){console.debug("Unable to override Array.from",
  b)}var Jb=new Wi;ac.addCustomEvent=function(b,a){if(!of)throw Error("please add custom event after start recording");Xa({type:Da.Custom,data:{tag:b,payload:a}})};ac.freezePage=function(){Mc.forEach(function(b){return b.freeze()})};ac.takeFullSnapshot=function(b){if(!of)throw Error("please take full snapshot after start recording");nf(b)};ac.mirror=Jb;var pm;!function(b){b[b.NotStarted=0]="NotStarted";b[b.Running=1]="Running";b[b.Stopped=2]="Stopped"}(pm||(pm={}));var qm;(function(b){b.BRAND="DeviceBrand";
  b.MANUFACTURER="DeviceManufacturer";b.MODEL="DeviceModel";b.TYPE="DeviceType";b.VERSION="DeviceVersion";b.OS_NAME="OperatingSystemName";b.OS_VERSION="OperatingSystemVersion";b.CATEGORY="DeviceCategory";b.FRAMEWORK_NAME="FrameworkName";b.FRAMEWORK_VERSION="FrameworkVersion"})(qm||(qm={}));var Bh={DeviceType:{CONSOLE:"Console",DESKTOP:"DESKTOP",MOBILE:"Mobile",SETTOP:"Settop",SMARTTV:"SmartTV",TABLET:"Tablet",VEHICLE:"Vehicle",OTHER:"Other"},DeviceCategory:{ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",
  DESKTOP_APP:"DSKAPP",DEVICE_SIMULATOR:"SIMULATOR",KAIOS_DEVICE:"KAIOS",LG_TV:"LGTV",LINUX:"LNX",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",VIDAA_DEVICE:"VIDAA",VIZIO_TV:"VIZIOTV",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB"}},J;(function(b){var a;b.TRACEPARENT_HEADER_KEY="traceparent";b.BAGGAGE_HEADER_KEY="baggage";var c;(function(e){e.NONE="NONE";e.RCFG="RCFG"})(c=b.SAMPLING_MODES||(b.SAMPLING_MODES={}));(function(e){e.DERIVED="DERIVED";e.DEFAULT="DEFAULT"})(b.SAMPLING_STATUS||
  (b.SAMPLING_STATUS={}));var d;(function(e){e.SAMPLED="sl";e.NON_SAMPLED="nsl"})(d=b.SAMPLING_ACTION||(b.SAMPLING_ACTION={}));b.DEFAULT_SAMPLING_ACTION=(a={},a[d.SAMPLED]=c.RCFG,a[d.NON_SAMPLED]=c.NONE,a);(function(e){e.DEFAULT="def";e.CACHED="cac";e.REMOTE="rem"})(b.CONFIG_SOURCE||(b.CONFIG_SOURCE={}));(function(e){e[e.APP=0]="APP";e[e.REMOTE=1]="REMOTE";e[e.MERGE=2]="MERGE"})(b.CONFIG_PREFERENCES||(b.CONFIG_PREFERENCES={}));(function(e){e[e.DISABLED=0]="DISABLED";e[e.PERFORMANCE_TIMING=1]="PERFORMANCE_TIMING";
  e[e.PERFORMANCE_NAVIGATION_TIMING=2]="PERFORMANCE_NAVIGATION_TIMING"})(b.PERFORMANCE_CONTEXT||(b.PERFORMANCE_CONTEXT={}));(function(e){e.DO_NOT_FETCH_UPDATE_TIMER="updateTimer";e.IMMEDIATE_FETCH="urgentFetch";e.UPDATE_TIMER_WITH_DIFF="checkDiff"})(b.RC_FETCH_MODE||(b.RC_FETCH_MODE={}));b.REMOTE_CONFIG_STORAGE_KEY="ConvivaRemoteConfig";b.END_POINT_STORAGE_KEY="ConvivaEndpoint";b.DEFAULT_END_POINT="https://appgw.conviva.com";b.REMOTE_CONFIG_URL_PREFIX="https://rc.conviva.com/js/";b.REMOTE_CONFIG_FILE_NAME=
  "/remote_config.json";b.SAMPLING_STORAGE_RANDOM_NUMBER_KEY="ConvivaSamplingRandomNumber";b.VISUAL_LABELLING_CONFIG="ConvivaVisualLabellingConfig";b.SESSION_RECORDING_STARTED="ConvivaSessionRecordingStarted";b.DIAGNOSTIC_INFO_MAX_LENGTH={MAX_MESSAGE_LENGTH:1024,MAX_STACK_LENGTH:2048,MAX_CLASSNAME_LENGTH:1024,MAX_EXCEPTION_NAME_LENGTH:1024};b.CLICK_KEY_MAX_LENGTH=1024;b.CLICK_DEBOUNCING_DELAY=300;b.CLICK_MAX_DEPTH=16;b.MAX_NATIVE_SCAN=16;b.MAX_NATIVE_SCAN_LEGACY=8;b.PAGE_URL_QUERY_PARAMS="pgq";b.V2A_CUSTOM_EVENTS=
  ["c3.video.custom_event","c3.sdk.custom_event","c3.ad.custom_event"]})(J||(J={}));var Wb;"function"===typeof AbortController&&(Wb=new AbortController);var jb=null===Wb||void 0===Wb?void 0:Wb.signal,za;(function(b){b.response_body="rsb";b.request_body="rqb";b.response_headers="rsh";b.request_headers="rqh";b.request_query="rqq"})(za||(za={}));var Gd=10240,tf=function(b){try{var a=void 0;"undefined"!=typeof b&&null!==b&&(a=b["content-type"]||b["Content-Type"]||b["Content-type"]);return a}catch(c){}},
  Ha={},mg;(function(b){b.APPLICATION_BACKGROUND="abg";b.APPLICATION_ERROR="ae"})(mg||(mg={}));var Aa={cacheRefreshInterval:30,base64:!1,lifecycleAutotracking:!0,exceptionAutotracking:!0,enablePeriodicHeartbeat:!0,periodicHeartbeatInterval:40,customEventTrackingConfiguration:{enabled:!0},softNavigationTrackingConfiguration:{enabled:!1,idleWindowMs:600,maxMeasurementMs:1E4,includeHashChanges:!1,domainAllowlist:[],domainBlocklist:["sdk.fra-01.braze.eu","tr.snapchat.com","analytics.google.com","ams.creativecdn.com",
  "analytics.tiktok.com"]},networkRequestTrackingConfiguration:{blocklist:["*"]},traceparentconfig:{enabled:!1,pref:J.CONFIG_PREFERENCES.MERGE,targetUrl:[]},baggageConfiguration:{enabled:!1,targetUrl:[],attributeExtraction:[]},performanceContextConfig:1,configurationVersion:-1,catRcLastUpdatedTs:0,endpoint:J.DEFAULT_END_POINT,applicationContext:!0,maxLocalStorageQueueSize:10,emitterConfiguration:{batching:{enabled:!0,byteLimitPostInKB:250,batchingIntervalInSec:5,urgentEvents:[mg.APPLICATION_BACKGROUND,
  mg.APPLICATION_ERROR]}},enc:"gzip",mend:!0,di:{en:!1,lim:30},clickcc:{en:!0,cssSelectorList:'\n  [role="button"],\n  [data-role="button"],\n  li,\n  [class^="btn"],\n  [class*="click"],\n  [data-click],\n  [data-action],\n  [tabindex]:not([tabindex="-1"]),\n  [onclick],\n  [role="datepicker"],\n  [class*="datepicker"],\n  [class*="date-picker"],\n  [class*="mat-datepicker"],\n  [class*="ant-picker"],\n  [class*="v-date-picker"],\n  [class*="react-datepicker"],\n  [class*="ngx-datepicker"],\n  [data-ng-click],\n  [ng-click],\n  [v-on\\:click],\n  [\\@click],\n  [data-test-id*="click"],\n  [data-testid*="button"],\n  [class*="-btn"],\n  [class*="-button"],\n  [class*="mat-button"],\n  [class*="v-btn"],\n  [class*="v-icon-button"],\n  [data-listener-count-click],\n  [class*="Button"]\n',
  uiMode:"closest"},collectionRateLimit:{exceptionAutotracking:{maxEvents:20,timeWindow:1E3,disconnectDuration:2E3}},evtStreamTrackingConfiguration:{enabled:!1,collect:[],block:[],conditionalCollectAttr:[],richContentInference:{cond:[]}}},yq="cws.conviva.com rcg.conviva.com /wsg /ctp remote_config pings.conviva.com .m3u8 .mpd .ism .m4 .mp4 .ts .png .jpg .jpeg .bmp google-analytics.com googlesyndication.com googleapis stats.g.doubleclick chartbeat.com omtrdc.net app-measurement.com firebase nr-data.net newrelic bitmovin.com/impression bitmovin.com/analytics api.segment.io youbora hotjar mixpanel.com clevertap auryc .aac .vtt .googlevideo webp appsflyer facebook dynatrace mparticle npaw .pdf bookkeeper kochava mp3 marketingcloudapis demdex scorecardresearch lura.live perimeterx.net permutive.app segment.com vaicore.site boomtrain ketchcdn qualtrics .svg amplitude datadoghq branch.io hotjar splunkcloud".split(" "),
  dc;(function(b){b.NONE="none";b.GZIP="gzip"})(dc||(dc={}));var Pa,zq=function(b){var a={};b.trim().split(/[\r\n]+/).forEach(function(c){c=c.split(":");var d=c[1];a[c[0].trim()]=null===d||void 0===d?void 0:d.trim()});return a},rm=function(b){var a={};b.forEach(function(c,d){a[d]=c});return a},zo="/ctp /wsg remote_config rc.conviva.com pings.conviva.com rcg.conviva.com".split(" "),Sb;(function(b){b[b.NETWORK_REQUEST=0]="NETWORK_REQUEST";b[b.CUSTOM_EVENT=1]="CUSTOM_EVENT";b[b.SSE_EVENT=2]="SSE_EVENT"})(Sb||
  (Sb={}));var ah=0,Oj=0,Ya=J.CONFIG_SOURCE.DEFAULT,Za=0,pi,qi,ri,xe=!1,Pc=null,Ja,bh=null,xf=0,Qj='\n  button,\n  a,\n  select,\n  textarea,\n  input:not([type="hidden"]),\n  summary,\n  video,\n  audio\n'.replace(/\s+/g,"")||"",Fo='\n[class*="card"]\n'.replace(/\s+/g,"")||"",sm="undefined"!==typeof window&&(null===window||void 0===window?0:window.localStorage)?localStorage.getItem(J.REMOTE_CONFIG_STORAGE_KEY):null,Oc=sm?null===(qi=null===(pi=JSON.parse(sm).clickcc)||void 0===pi?void 0:pi.cssSelectorList)||
  void 0===qi?void 0:qi.replace(/\s+/g,""):null===(ri=Aa.clickcc)||void 0===ri?void 0:ri.cssSelectorList,we;(function(b){b.BOTH="both";b.CLOSEST="closest";b.RAW="raw"})(we||(we={}));"undefined"!=typeof Element&&Element.prototype&&!Element.prototype.closest&&(Element.prototype.closest=function(b){try{for(var a=this;a;){if(a.matches(b))return a;a=a.parentElement}}catch(c){ua.warn("Conviva App Tracker caused Exception in closest polyfill method of user click tracking module",c)}return null});var Aq=function(){return function(b){this.cacheRefreshInterval=
  b.cacheRefreshInterval;this.base64=b.base64;this.corePlugins=b.corePlugins;this.callback=b.callback;this.lifecycleAutotracking=b.lifecycleAutotracking;this.exceptionAutotracking=b.exceptionAutotracking;this.enablePeriodicHeartbeat=b.enablePeriodicHeartbeat;this.periodicHeartbeatInterval=b.periodicHeartbeatInterval;this.enc=b.enc;this.maxLocalStorageQueueSize=b.maxLocalStorageQueueSize;this.maxPostBytes=b.maxPostBytes;this.maxGetBytes=b.maxGetBytes;this.bufferSize=b.bufferSize;this.customEventTrackingConfiguration=
  b.customEventTrackingConfiguration;this.softNavigationTrackingConfiguration=b.softNavigationTrackingConfiguration;this.networkRequestTrackingConfiguration=b.networkRequestTrackingConfiguration;this.traceparentconfig=b.traceparentconfig;this.baggageConfiguration=b.baggageConfiguration;this.metaTagsTrackingConfiguration=b.metaTagsTrackingConfiguration;this.performanceContextConfig=b.performanceContextConfig;this.mend=b.mend;this.configurationVersion=b.configurationVersion;this.catRcLastUpdatedTs=b.catRcLastUpdatedTs;
  this.endpoint=b.endpoint;this.emitterConfiguration=b.emitterConfiguration;this.controlIngestConfig=b.controlIngestConfig;this.applicationContext=b.applicationContext;this.di=b.di;this.clickcc=b.clickcc;this.collectionRateLimit=b.collectionRateLimit;this.pageUrlTrackingConfig=b.pageUrlTrackingConfig;this.sessionReplayConfiguration=b.sessionReplayConfiguration;this.evtStreamTrackingConfiguration=b.evtStreamTrackingConfiguration}}(),tm=function(){function b(){this.cacheRefreshInterval=Aa.cacheRefreshInterval;
  this.base64=Aa.base64;this.lifecycleAutotracking=Aa.lifecycleAutotracking;this.exceptionAutotracking=Aa.exceptionAutotracking;this.enablePeriodicHeartbeat=Aa.enablePeriodicHeartbeat;this.periodicHeartbeatInterval=Aa.periodicHeartbeatInterval;this.customEventTrackingConfiguration=Z({},Aa.customEventTrackingConfiguration);this.softNavigationTrackingConfiguration=Z({},Aa.softNavigationTrackingConfiguration);this.networkRequestTrackingConfiguration=Z({},Aa.networkRequestTrackingConfiguration);this.traceparentconfig=
  Z({},Aa.traceparentconfig);this.baggageConfiguration=Z({},Aa.baggageConfiguration);this.performanceContextConfig=Aa.performanceContextConfig;this.configurationVersion=Aa.configurationVersion;this.catRcLastUpdatedTs=Aa.catRcLastUpdatedTs;this.endpoint=Aa.endpoint;this.emitterConfiguration=Aa.emitterConfiguration;this.applicationContext=Aa.applicationContext;this.enc=Aa.enc;this.mend=Aa.mend;this.di=Z({},Aa.di);this.clickcc=Z({},Aa.clickcc);this.collectionRateLimit=Z({},Aa.collectionRateLimit);this.evtStreamTrackingConfiguration=
  Z({},Aa.evtStreamTrackingConfiguration)}b.prototype.setCacheRefreshInterval=function(a){this.cacheRefreshInterval="number"===typeof a&&1<=a?te(a)?a:Aa.cacheRefreshInterval:Aa.cacheRefreshInterval;return this};b.prototype.setBase64=function(a){"boolean"===typeof a&&(this.base64=a);return this};b.prototype.setCorePlugins=function(a){a&&(this.corePlugins=a);return this};b.prototype.setCallback=function(a){a&&(this.callback=a);return this};b.prototype.setLifecycleAutotracking=function(a){"boolean"===
  typeof a&&(this.lifecycleAutotracking=a);return this};b.prototype.setExceptionAutotracking=function(a){"boolean"===typeof a&&(this.exceptionAutotracking=a);return this};b.prototype.setEnablePeriodicHeartbeat=function(a){"boolean"===typeof a&&(this.enablePeriodicHeartbeat=a);return this};b.prototype.setPeriodicHeartbeatInterval=function(a){"number"===typeof a&&1<=a&&(this.periodicHeartbeatInterval=~~a);return this};b.prototype.setEnc=function(a,c){"string"===typeof a&&Object.values(dc).includes(a)?
  this.enc=a:c&&"string"===typeof c&&Object.values(dc).includes(c)?this.enc=c:this.enc=Aa.enc;return this};b.prototype.setMaxLocalStorageQueueSize=function(a){"number"===typeof a&&(this.maxLocalStorageQueueSize=a);return this};b.prototype.setMaxGetBytes=function(a){"number"===typeof a&&(this.maxGetBytes=a);return this};b.prototype.setBufferSize=function(a){"number"===typeof a&&(this.bufferSize=a);return this};b.prototype.setCustomEventTrackingConfiguration=function(a){a&&(this.customEventTrackingConfiguration=
  a);return this};b.prototype.setSoftNavigationTrackingConfiguration=function(a){a&&(this.softNavigationTrackingConfiguration=a);return this};b.prototype.setEmitterConfiguration=function(a){"undefined"!=typeof a&&("undefined"!=typeof a.batching.enabled&&(this.emitterConfiguration.batching.enabled=a.batching.enabled),"undefined"!=typeof a.batching.batchingIntervalInSec&&0<a.batching.batchingIntervalInSec&&(this.emitterConfiguration.batching.batchingIntervalInSec=a.batching.batchingIntervalInSec),"undefined"!=
  a.batching.byteLimitPostInKB&&0<a.batching.byteLimitPostInKB&&(this.emitterConfiguration.batching.byteLimitPostInKB=a.batching.byteLimitPostInKB),"undefined"!=typeof a.batching.urgentEvents&&(this.emitterConfiguration.batching.urgentEvents=a.batching.urgentEvents));return this};b.prototype.setNetworkRequestTrackingConfiguration=function(a,c,d){a&&(this.networkRequestTrackingConfiguration=a,c&&(this.networkRequestTrackingConfiguration.blocklist||(this.networkRequestTrackingConfiguration.blocklist=
  []),d&&this.networkRequestTrackingConfiguration.blocklist.push(d),this.networkRequestTrackingConfiguration.blocklist=this.networkRequestTrackingConfiguration.blocklist.concat(yq)));return this};b.prototype.setTraceparentconfig=function(a){a&&(this.traceparentconfig=a);return this};b.prototype.setBaggageConfiguration=function(a){"undefined"!==typeof a&&null!==a&&("boolean"===typeof a.enabled&&(this.baggageConfiguration.enabled=a.enabled),"undefined"!==typeof a.targetUrl&&(this.baggageConfiguration.targetUrl=
  a.targetUrl),"undefined"!==typeof a.attributeExtraction&&(this.baggageConfiguration.attributeExtraction=a.attributeExtraction));return this};b.prototype.setMetaTagsTrackingConfiguration=function(a){a&&(this.metaTagsTrackingConfiguration=a);return this};b.prototype.setPerformanceContextConfig=function(a){"number"===typeof a&&(this.performanceContextConfig=a);return this};b.prototype.setMend=function(a,c){"boolean"===typeof a?this.mend=a:"boolean"===typeof c&&(this.mend=c);return this};b.prototype.setConfigurationVersion=
  function(a){"number"===typeof a&&(this.configurationVersion=a);return this};b.prototype.setCatRcLastUpdatedTs=function(a){"number"===typeof a&&(this.catRcLastUpdatedTs=a);return this};b.prototype.setEndPoint=function(a,c,d){"string"===typeof d&&0<d.trim().length?this.endpoint=d:"string"===typeof a&&0<a.trim().length?this.endpoint=a:c&&"string"===typeof c&&0<c.trim().length?this.endpoint=c:this.endpoint=Aa.endpoint;return this};b.prototype.setcontrolIngestConfig=function(a){"undefined"!==typeof a?
  this.controlIngestConfig=a:rf();return this};b.prototype.setApplicationContext=function(a){"undefined"!=typeof a&&(this.applicationContext=a);return this};b.prototype.setDi=function(a){"undefined"!=typeof a&&(this.di=Z(Z({},this.di),a));return this};b.prototype.setClickcc=function(a){var c,d;"undefined"!=typeof a&&("boolean"===typeof a.en&&(this.clickcc.en=a.en),a.cssSelectorList&&0<a.cssSelectorList.trim().length&&(this.clickcc.cssSelectorList=a.cssSelectorList),"string"===typeof a.uiMode&&Object.values(we).includes(a.uiMode)&&
  (this.clickcc.uiMode=a.uiMode),"undefined"!==typeof a.block&&(this.clickcc.block=a.block),"undefined"!==typeof a.collect&&(this.clickcc.collect=a.collect),"undefined"!==typeof a.collectattr&&(this.clickcc.collectattr=a.collectattr));"boolean"===typeof(null===(c=null===this||void 0===this?void 0:this.clickcc)||void 0===c?void 0:c.en)&&!0===(null===(d=null===this||void 0===this?void 0:this.clickcc)||void 0===d?void 0:d.en)?Ho():Tj();return this};b.prototype.setCollectionRateLimit=function(a){"undefined"!=
  typeof a&&null!==a&&(this.collectionRateLimit=Z(Z({},this.collectionRateLimit),a));return this};b.prototype.setPageUrlTrackingConfig=function(a){this.pageUrlTrackingConfig="undefined"!==typeof a?a:null;return this};b.prototype.setSessionReplayConfiguration=function(a){this.sessionReplayConfiguration="undefined"!==typeof a?a:null;return this};b.prototype.setEvtStreamTrackingConfiguration=function(a){"undefined"!==typeof a&&("boolean"===typeof a.enabled&&(this.evtStreamTrackingConfiguration.enabled=
  a.enabled),"undefined"!==typeof a.block&&(this.evtStreamTrackingConfiguration.block=a.block),"undefined"!==typeof a.collect&&(this.evtStreamTrackingConfiguration.collect=a.collect),"undefined"!==typeof a.conditionalCollectAttr&&(this.evtStreamTrackingConfiguration.conditionalCollectAttr=a.conditionalCollectAttr),"undefined"!==typeof a.richContentInference&&(this.evtStreamTrackingConfiguration.richContentInference=a.richContentInference),"undefined"!==typeof a.bufferMaxBytes&&(this.evtStreamTrackingConfiguration.bufferMaxBytes=
  a.bufferMaxBytes));return this};b.prototype.build=function(){return new Aq(this)};return b}(),Yd=!1,Ie=null,Zd=0,Hb,ng=!1,aa,bp=function(b,a,c){var d,e,f,g,h={},k={},l;if("undefined"!=typeof window&&(null===window||void 0===window?0:window.localStorage))try{localStorage.removeItem(J.END_POINT_STORAGE_KEY),(l=localStorage.getItem(J.REMOTE_CONFIG_STORAGE_KEY))?Ya=J.CONFIG_SOURCE.CACHED:l=JSON.stringify(k)}catch(u){l=JSON.stringify(k);ng=!0;var n={className:"fetchRemoteConfig - localstorage",error:u,
  configAppliedSrc:Ya,configAppliedTime:Za};setTimeout(function(){eb(Pa,null===aa||void 0===aa?void 0:aa.getSamplingMode,n)},0);ua.warn("Issue while fetching data from local storage")}else l=JSON.stringify(k);try{h=JSON.parse(l)}catch(u){ng=!0;var m={className:"fetchRemoteConfig - parsing cached data",error:u,configAppliedSrc:Ya,configAppliedTime:Za};setTimeout(function(){eb(Pa,null===aa||void 0===aa?void 0:aa.getSamplingMode,m)},0);ua.warn("Issue while parsing storedConvivaRemoteConfig")}k=(new tm).setBase64(null===
  h||void 0===h?void 0:h.base64).setCacheRefreshInterval(null===h||void 0===h?void 0:h.cacheRefreshInterval).setLifecycleAutotracking(null===h||void 0===h?void 0:h.lifecycleAutotracking).setExceptionAutotracking(null===h||void 0===h?void 0:h.exceptionAutotracking).setEnablePeriodicHeartbeat(null===h||void 0===h?void 0:h.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null===h||void 0===h?void 0:h.periodicHeartbeatInterval).setEnc(null===h||void 0===h?void 0:h.enc,null===(e=null===(d=null===c||
  void 0===c?void 0:c.configs)||void 0===d?void 0:d.network)||void 0===e?void 0:e.encoding).setMaxLocalStorageQueueSize(null===h||void 0===h?void 0:h.maxLocalStorageQueueSize).setMaxGetBytes(null===h||void 0===h?void 0:h.maxGetBytes).setBufferSize(null===h||void 0===h?void 0:h.bufferSize).setCustomEventTrackingConfiguration(null===h||void 0===h?void 0:h.customEventTrackingConfiguration).setSoftNavigationTrackingConfiguration(null===h||void 0===h?void 0:h.softNavigationTrackingConfiguration).setEndPoint(null===
  h||void 0===h?void 0:h.endpoint,c.gatewayUrl,c.proxyGatewayUrl).setNetworkRequestTrackingConfiguration(null===h||void 0===h?void 0:h.networkRequestTrackingConfiguration,!1).setMetaTagsTrackingConfiguration(null===h||void 0===h?void 0:h.metaTagsTrackingConfiguration).setTraceparentconfig(null===h||void 0===h?void 0:h.traceparentconfig).setBaggageConfiguration(null===h||void 0===h?void 0:h.baggageConfiguration).setMend(null===h||void 0===h?void 0:h.mend,null===(g=null===(f=null===c||void 0===c?void 0:
  c.configs)||void 0===f?void 0:f.network)||void 0===g?void 0:g.mergeEndpoint).setPerformanceContextConfig(null===h||void 0===h?void 0:h.performanceContextConfig).setConfigurationVersion(null===h||void 0===h?void 0:h.configurationVersion).setCatRcLastUpdatedTs(null===h||void 0===h?void 0:h.catRcLastUpdatedTs).setEmitterConfiguration(null===h||void 0===h?void 0:h.emitterConfiguration).setcontrolIngestConfig(null===h||void 0===h?void 0:h.controlIngestConfig).setApplicationContext(null===h||void 0===h?
  void 0:h.applicationContext).setDi(null===h||void 0===h?void 0:h.di).setClickcc(null===h||void 0===h?void 0:h.clickcc).setCollectionRateLimit(null===h||void 0===h?void 0:h.collectionRateLimit).setPageUrlTrackingConfig(null===h||void 0===h?void 0:h.pageUrlTrackingConfig).setSessionReplayConfiguration(null===h||void 0===h?void 0:h.sessionReplayConfiguration).setEvtStreamTrackingConfiguration(null===h||void 0===h?void 0:h.evtStreamTrackingConfiguration).build();d="Cached Config Applied";Ya===J.CONFIG_SOURCE.DEFAULT&&
  (d="Default Config Applied");Za=(new Date).getTime();var p={message:d,className:"browserTrackerCore",configAppliedSrc:Ya,configAppliedTime:Za};setTimeout(function(){eb(Pa,null===aa||void 0===aa?void 0:aa.getSamplingMode,p)},0);b=b.split("js-")[1].split(" ")[0];var r=(c.proxyGatewayUrl?c.proxyGatewayUrl+"/js/":J.REMOTE_CONFIG_URL_PREFIX)+c.convivaCustomerKey+"/"+b+J.REMOTE_CONFIG_FILE_NAME;window.XMLHttpRequest&&(Hb=new XMLHttpRequest,Hb.onreadystatechange=function(){var u;try{if(4==Hb.readyState)if(Yd=
  !1,200==Hb.status){var q={message:"Remote config request is successful - ".concat("number"==typeof Hb.status?Hb.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:Ya,configAppliedTime:Za};eb(Pa,null===aa||void 0===aa?void 0:aa.getSamplingMode,q);Zd=0;var w=JSON.parse(Hb.response);q=Pa;if((null===w||void 0===w?void 0:w.configurationBundle[0].namespace)!==a)eb(Pa,null===aa||void 0===aa?void 0:aa.getSamplingMode,{message:"Remote Config not Applied due to a missing namespace",
  className:"updateRemoteConfig",configAppliedSrc:Ya,configAppliedTime:Za});else{if(!w.hasOwnProperty("configurationVersion")||(null===(u=q.getConfig())||void 0===u?void 0:u.configurationVersion)===(null===w||void 0===w?void 0:w.configurationVersion)){var v=localStorage.getItem(J.REMOTE_CONFIG_STORAGE_KEY);if(v){v=JSON.parse(v);v.catRcLastUpdatedTs=(new Date).getTime();window.localStorage&&(localStorage.removeItem(J.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(J.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(v)));
  eb(Pa,null===aa||void 0===aa?void 0:aa.getSamplingMode,{message:"Remote Config not Applied as same version is fetched",className:"updateRemoteConfig",configAppliedSrc:Ya,configAppliedTime:Za});return}}k.catRcLastUpdatedTs=(new Date).getTime();var x=w.cri||w.cacheRefreshInterval||Aa.cacheRefreshInterval;x=1>x?Aa.cacheRefreshInterval:te(x)?x:Aa.cacheRefreshInterval;k.cacheRefreshInterval!=x&&(k.cacheRefreshInterval=x,um(k.cacheRefreshInterval,k.catRcLastUpdatedTs,c,r,J.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER));
  if(Bq(w,k.catRcLastUpdatedTs,c)){var C=new Event("RemoteConfigUpdateApplied");(null===window||void 0===window?0:window.dispatchEvent)&&window.dispatchEvent(C)}}}else try{2>Zd&&window.setTimeout(function(){(null===c||void 0===c?0:c.trackerConfigUrl)?$d(null===c||void 0===c?void 0:c.trackerConfigUrl,!0):$d(r,!0)},5E3*(Zd+1));var F={message:"Remote config request is not successful - ".concat("number"==typeof Hb.status?Hb.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:Ya,
  configAppliedTime:Za};eb(Pa,null===aa||void 0===aa?void 0:aa.getSamplingMode,F);2<=Zd&&eb(Pa,null===aa||void 0===aa?void 0:aa.getSamplingMode,{message:"Remote config is not applied since failed to download remote config after 3 tries",className:"configtimerCallback - onreadystatechange",configAppliedSrc:Ya,configAppliedTime:Za})}catch(H){}}catch(H){Yd=!1,console.warn("Conviva App Tracker:: Error in fetching remote-config ".concat(H)),eb(Pa,null===aa||void 0===aa?void 0:aa.getSamplingMode,{className:"configtimerCallback - onreadystatechange",
  error:H,configAppliedSrc:Ya,configAppliedTime:Za})}},um(k.cacheRefreshInterval,k.catRcLastUpdatedTs,c,r,"undefined"!=typeof ng&&!0===ng?J.RC_FETCH_MODE.IMMEDIATE_FETCH:J.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF));return{convivaRemoteTrackerConfig:k}},um=function(b,a,c,d,e){var f=c.trackerConfigUrl?c.trackerConfigUrl:d;if("number"===typeof Ie){window.clearInterval(Ie);var g={message:"Cancelling remote config timer",className:"updateRemoteConfig",extraData:{mode:e},configAppliedSrc:Ya,configAppliedTime:Za};
  setTimeout(function(){eb(Pa,null===aa||void 0===aa?void 0:aa.getSamplingMode,g)},0)}var h=function(){var m={message:"Starting remote config timer with delay of ".concat(60*b," seconds"),className:"updateRemoteConfig",configAppliedSrc:Ya,configAppliedTime:Za};setTimeout(function(){eb(Pa,null===aa||void 0===aa?void 0:aa.getSamplingMode,m)},0);Ie=window.setInterval($d,6E4*b,f)};try{var k=a?((new Date).getTime()-a)/6E4:b;c=b-k;d=3*b/100;if("string"==typeof e&&e===J.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)h();
  else if("string"==typeof e&&e===J.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF&&0<a&&c>d){window.setTimeout(function(){$d(f);h()},6E4*c);var l={message:"Starting remote config timer with delay of ".concat(60*c," seconds"),className:"updateRemoteConfig",extraData:{mode:e},configAppliedSrc:Ya,configAppliedTime:Za};setTimeout(function(){eb(Pa,null===aa||void 0===aa?void 0:aa.getSamplingMode,l)},0)}else $d(f),h()}catch(m){console.warn("Conviva App Tracker:: Error in setting cacheRefreshIntervalTimer",m);$d(f);
  h();var n={className:"cacheRefreshIntervalTimer",error:m,configAppliedSrc:Ya,configAppliedTime:Za};setTimeout(function(){eb(Pa,null===aa||void 0===aa?void 0:aa.getSamplingMode,n)},0)}},$d=function(b,a){try{if("boolean"===typeof Yd&&!1===Yd){a?Zd++:Zd=0;Hb.timeout=3E4;Hb.open("GET",b,!0);Yd=!0;var c={message:"Remote config fetch attempt",className:"updateRemoteConfig",configAppliedSrc:Ya,configAppliedTime:Za};setTimeout(function(){eb(Pa,null===aa||void 0===aa?void 0:aa.getSamplingMode,c)},0);Hb.send()}}catch(e){Yd=
  !1;ua.warn("Conviva App Tracker:: Error in configtimerCallback ".concat(e));var d={className:"configtimerCallback",error:e,configAppliedSrc:Ya,configAppliedTime:Za};setTimeout(function(){eb(Pa,null===aa||void 0===aa?void 0:aa.getSamplingMode,d)},0)}},Bq=function(b,a,c){var d,e,f,g,h,k,l,n,m,p,r,u,q,w,v,x,C,F,H,G,E,I,M,ha,W,ia,N,y,D,A,P,K,qa,Y,ta,R=Pa;try{var ma=(new tm).setBase64(b.configurationBundle[0].trackerConfiguration.base64Encoding).setCacheRefreshInterval(b.cri||b.cacheRefreshInterval).setLifecycleAutotracking(null===
  (e=null===(d=b.configurationBundle[0])||void 0===d?void 0:d.trackerConfiguration)||void 0===e?void 0:e.lifecycleAutotracking).setExceptionAutotracking(null===(g=null===(f=b.configurationBundle[0])||void 0===f?void 0:f.trackerConfiguration)||void 0===g?void 0:g.exceptionAutotracking).setEnablePeriodicHeartbeat(null===(k=null===(h=b.configurationBundle[0])||void 0===h?void 0:h.trackerConfiguration)||void 0===k?void 0:k.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null===(n=null===(l=b.configurationBundle[0])||
  void 0===l?void 0:l.trackerConfiguration)||void 0===n?void 0:n.periodicHeartbeatInterval).setEnc(null===(p=null===(m=b.configurationBundle[0])||void 0===m?void 0:m.networkConfiguration)||void 0===p?void 0:p.enc,null===(u=null===(r=null===c||void 0===c?void 0:c.configs)||void 0===r?void 0:r.network)||void 0===u?void 0:u.encoding).setMaxLocalStorageQueueSize(null===(w=null===(q=b.configurationBundle[0])||void 0===q?void 0:q.networkConfiguration)||void 0===w?void 0:w.maxLocalStorageQueueSize).setMaxGetBytes(null===
  (x=null===(v=b.configurationBundle[0])||void 0===v?void 0:v.networkConfiguration)||void 0===x?void 0:x.maxGetBytes).setBufferSize(null===(F=null===(C=b.configurationBundle[0])||void 0===C?void 0:C.networkConfiguration)||void 0===F?void 0:F.bufferSize).setCustomEventTrackingConfiguration(null===(H=b.configurationBundle[0])||void 0===H?void 0:H.customEventTrackingConfiguration).setSoftNavigationTrackingConfiguration(null===(G=b.configurationBundle[0])||void 0===G?void 0:G.softNavigationTrackingConfiguration).setEndPoint(null===
  (I=null===(E=b.configurationBundle[0])||void 0===E?void 0:E.networkConfiguration)||void 0===I?void 0:I.endpoint,c.gatewayUrl,c.proxyGatewayUrl).setNetworkRequestTrackingConfiguration(null===(M=b.configurationBundle[0])||void 0===M?void 0:M.networkRequestTrackingConfiguration,!0,null===(W=null===(ha=b.configurationBundle[0])||void 0===ha?void 0:ha.networkConfiguration)||void 0===W?void 0:W.endpoint).setMetaTagsTrackingConfiguration(null===(ia=b.configurationBundle[0])||void 0===ia?void 0:ia.metaTagsTrackingConfiguration).setTraceparentconfig(null===
  (N=b.configurationBundle[0])||void 0===N?void 0:N.traceparentconfig).setBaggageConfiguration(null===(y=b.configurationBundle[0])||void 0===y?void 0:y.baggageConfiguration).setMend(null===(A=null===(D=b.configurationBundle[0])||void 0===D?void 0:D.networkConfiguration)||void 0===A?void 0:A.mend,null===(K=null===(P=null===c||void 0===c?void 0:c.configs)||void 0===P?void 0:P.network)||void 0===K?void 0:K.mergeEndpoint).setPerformanceContextConfig(null===(Y=null===(qa=b.configurationBundle[0])||void 0===
  qa?void 0:qa.trackerConfiguration)||void 0===Y?void 0:Y.perfCx).setConfigurationVersion(b.configurationVersion).setCatRcLastUpdatedTs(a).setEmitterConfiguration(b.configurationBundle[0].emitterConfiguration).setcontrolIngestConfig(b["ctrl-ingst"]).setApplicationContext(b.configurationBundle[0].trackerConfiguration.applicationContext).setDi(b.configurationBundle[0].di).setClickcc(b.configurationBundle[0].clickcc).setCollectionRateLimit(b.configurationBundle[0].collectionRateLimit).setPageUrlTrackingConfig(b.configurationBundle[0].pageUrlTrackingConfig).setSessionReplayConfiguration(b.configurationBundle[0].sessionReplayConfiguration).setEvtStreamTrackingConfiguration(b.configurationBundle[0].evtStreamTrackingConfiguration).build();
  Ya=J.CONFIG_SOURCE.REMOTE;Za=(new Date).getTime();null===R||void 0===R?void 0:R.setConfig(ma);b={message:"Remote Config Applied",className:"updateRemoteConfig - tracker",configAppliedSrc:Ya,configAppliedTime:Za};eb(Pa,null===aa||void 0===aa?void 0:aa.getSamplingMode,b);null===aa||void 0===aa?void 0:aa.setCollectorUrl(null===(ta=null===R||void 0===R?void 0:R.getConfig())||void 0===ta?void 0:ta.endpoint,c.convivaCustomerKey);try{window.localStorage&&(localStorage.removeItem(J.REMOTE_CONFIG_STORAGE_KEY),
  localStorage.setItem(J.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(ma)))}catch(bb){eb(Pa,null===aa||void 0===aa?void 0:aa.getSamplingMode,{className:"updateRemoteConfig - localstorage",error:bb,configAppliedSrc:Ya,configAppliedTime:Za}),console.warn("Conviva: Error while saving remote-config to localstorage",bb)}}catch(bb){return b={className:"updateRemoteConfig - tracker",error:bb,configAppliedSrc:Ya,configAppliedTime:Za},eb(Pa,null===aa||void 0===aa?void 0:aa.getSamplingMode,b),console.warn("Conviva: Error while updating remote-config",
  bb),!1}return!0},si={idleMs:3E4,maxEvents:1E4,bufferMaxBytes:1E6},bk=function(){function b(a,c,d){var e;this.originalFetch=null===(e=null===window||void 0===window?void 0:window.fetch)||void 0===e?void 0:e.bind(window);this.sseCountStates=new Map;this.inflightRequests=0;this.core=Pa;this.trackerMethods=a;this.trackerConfiguration=c;this.getSamplingMode=d;this.handleResponse=this.handleResponse.bind(this);this.addTraceparentHeader=this.addTraceparentHeader.bind(this);this.addBaggageHeader=this.addBaggageHeader.bind(this)}
  b.prototype.cleanupNetworkRequestHandler=function(){b.instance=null};b.getInstance=function(a,c,d){b.instance||(b.instance=new b(a,c,d));return b.instance};b.prototype.initiateNetworkRequestTracking=function(){try{this.decorateXMLHttpRequest(),this.decorateFetch(),this.decorateWebSocket(),this.decorateEventSource()}catch(a){console.warn("Conviva App Tracker:: Unable to track network request ".concat(a))}};b.prototype.decorateXMLHttpRequest=function(){var a=this,c=XMLHttpRequest.prototype.open,d=XMLHttpRequest.prototype.send,
  e=XMLHttpRequest.prototype.setRequestHeader;XMLHttpRequest.prototype.open=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];try{this._conviva={method:f[0],url:a.normalizeUrl(f[1]),headers:{}}}catch(h){console.warn("Conviva App Tracker:: Unable to normalizeUrl while open ".concat(h))}return c.apply(this,f)};XMLHttpRequest.prototype.setRequestHeader=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];try{this._conviva&&(this._conviva.headers[f[0]]=f[1])}catch(h){console.warn("Conviva App Tracker:: while setRequestHeader ".concat(h))}return e.apply(this,
  f)};XMLHttpRequest.prototype.send=function(){for(var f=this,g=[],h=0;h<arguments.length;h++)g[h]=arguments[h];try{var k=this._conviva;if(!k)return;var l=a.addTraceparentHeader(this,k.url,k.headers),n=a.addBaggageHeader(this,k.url,k.headers,k.method,g[0]),m=a.createRequestDetails(k.method,k.url,k.headers,g[0],l,n);h=jb;a.shouldTrackForSoftNavigation(m.url||"")&&a.incrementInflightRequests();this.addEventListener("load",function(){a.shouldTrackForSoftNavigation(m.url||"")&&a.decrementInflightRequests();
  a.handleResponse(f,m,"load")},{signal:h});this.addEventListener("error",function(){a.shouldTrackForSoftNavigation(m.url||"")&&a.decrementInflightRequests();a.handleResponse(f,m,"error")},{signal:h});this.addEventListener("abort",function(){a.shouldTrackForSoftNavigation(m.url||"")&&a.decrementInflightRequests();a.handleResponse(f,m,"abort")},{signal:h});this.addEventListener("timeout",function(){a.shouldTrackForSoftNavigation(m.url||"")&&a.decrementInflightRequests();a.handleResponse(f,m,"timeout")},
  {signal:h})}catch(p){console.warn("Conviva App Tracker:: Unable to track network request while send ".concat(p))}return d.apply(this,g)}};b.prototype.decorateFetch=function(){window.fetch=this.interceptFetch.bind(this)};b.prototype.interceptFetch=function(a,c){var d,e,f,g,h,k,l,n,m;return ce(this,void 0,void 0,function(){var p,r,u,q,w,v,x,C,F,H,G,E,I,M,ha,W,ia,N,y,D,A,P,K,qa,Y=this;return de(this,function(ta){switch(ta.label){case 0:q=u=null;v=this;if(!(a instanceof Request))return[3,5];r=null===
  a||void 0===a?void 0:a.clone();try{x=!1,null===(d=null===r||void 0===r?void 0:r.headers)||void 0===d?void 0:d.forEach(function(R,ma){J.TRACEPARENT_HEADER_KEY===ma&&(x=!0)}),x||(u=this.generateTraceparentHeader(r.url),null!==u&&""!==u&&a.headers.set(J.TRACEPARENT_HEADER_KEY,u)),C=!1,null===(e=null===r||void 0===r?void 0:r.headers)||void 0===e?void 0:e.forEach(function(R,ma){J.BAGGAGE_HEADER_KEY===ma&&(C=!0)}),C||(F={},r.headers.forEach(function(R,ma){F[ma]=R}),H={method:r.method,url:r.url,headers:F,
  body:void 0},q=this.generateBaggageHeader(r.url,H),null!==q&&""!==q&&a.headers.set(J.BAGGAGE_HEADER_KEY,q))}catch(R){console.warn("ConvivaAppTracker: Issue while adding traceparent header",R)}p=this.originalFetch(a);ta.label=1;case 1:return ta.trys.push([1,3,,4]),[4,r.text()];case 2:return w=ta.sent(),[3,4];case 3:return ta.sent(),[3,4];case 4:return[3,6];case 5:try{if(c&&c.headers){if(G=v.core.getConfig(),(null===(f=null===G||void 0===G?void 0:G.traceparentconfig)||void 0===f?0:f.enabled)||(null===
  (g=null===G||void 0===G?void 0:G.baggageConfiguration)||void 0===g?0:g.enabled))I=(E=c.headers instanceof Headers)?new Headers(c.headers):c.headers,M=!1,E?I.forEach(function(R,ma){J.TRACEPARENT_HEADER_KEY===ma&&(M=!0)}):Object.keys(I).forEach(function(R){J.TRACEPARENT_HEADER_KEY===R&&(M=!0)}),M||(u=this.generateTraceparentHeader(a),null!==u&&""!==u&&(E?I.set(J.TRACEPARENT_HEADER_KEY,u):I[J.TRACEPARENT_HEADER_KEY]=u)),ha=!1,E?I.forEach(function(R,ma){J.BAGGAGE_HEADER_KEY===ma&&(ha=!0)}):Object.keys(I).forEach(function(R){J.BAGGAGE_HEADER_KEY===
  R&&(ha=!0)}),ha||(W={},E?I.forEach(function(R,ma){W[ma]=R}):W=I,H={method:(null===c||void 0===c?void 0:c.method)||"GET",url:a,headers:W,body:null===c||void 0===c?void 0:c.body},q=this.generateBaggageHeader(a,H),null!==q&&""!==q&&(E?I.set(J.BAGGAGE_HEADER_KEY,q):I[J.BAGGAGE_HEADER_KEY]=q)),c.headers=I}else if(G=v.core.getConfig(),(null===(h=null===G||void 0===G?void 0:G.traceparentconfig)||void 0===h?0:h.enabled)||(null===(k=null===G||void 0===G?void 0:G.baggageConfiguration)||void 0===k?0:k.enabled))I=
  new Headers,u=this.generateTraceparentHeader(a),null!==u&&""!==u&&I.set(J.TRACEPARENT_HEADER_KEY,u),H={method:(null===c||void 0===c?void 0:c.method)||"GET",url:a,headers:{},body:null===c||void 0===c?void 0:c.body},q=this.generateBaggageHeader(a,H),null!==q&&""!==q&&I.set(J.BAGGAGE_HEADER_KEY,q),c||(c={}),c.headers=I}catch(R){console.warn("ConvivaAppTracker: Issue while adding traceparent header",R)}p=this.originalFetch(a,c);r=(new Request(a,c)).clone();w=null===c||void 0===c?void 0:c.body;ta.label=
  6;case 6:try{ia=void 0;try{ia=rm(r.headers)}catch(R){}N={method:r.method,url:decodeURIComponent(r.url),headers:ia,body:w,requestTimestamp:null===Date||void 0===Date?void 0:Date.now(),requestTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};this.shouldTrackForSoftNavigation(r.url)&&this.incrementInflightRequests();this.getSamplingMode()!==J.SAMPLING_MODES.NONE&&(y=this.core.getConfig().networkRequestTrackingConfiguration,D=this.core.getConfig().evtStreamTrackingConfiguration,
  A=y.blocklist,P=null===(m=null===(n=null===(l=this.trackerConfiguration)||void 0===l?void 0:l.configs)||void 0===n?void 0:n.networkRequestTracking)||void 0===m?void 0:m.safelist,K=y.collect,qa=y.block,null!==u&&""!==u&&(N[J.TRACEPARENT_HEADER_KEY]=u),null!==q&&""!==q&&(N[J.BAGGAGE_HEADER_KEY]=q),p.then(function(R){Y.shouldTrackForSoftNavigation(r.url)&&Y.decrementInflightRequests();try{var ma=R.headers.get("content-type");if(D&&D.enabled&&ma&&ma.includes("text/event-stream")){var bb=R.clone().body;
  if(bb)Io(bb,r.url,function(T){Y.processSSEEvent(T,r.url)},{idleMs:D.idleMs,maxEvents:D.maxEvents,bufferMaxBytes:D.bufferMaxBytes},function(){Y.cleanupSSECountState(r.url)})["catch"](function(){});else console.warn("Conviva App Tracker:: Response body is null, cannot read as stream")}else if(y&&y.enabled){var O=vf(K,qa,A,P,R,N);if(O){ma=void 0;try{ma=rm(R.headers)}catch(T){}var U={status:null===R||void 0===R?void 0:R.status,statusText:""!==(null===R||void 0===R?void 0:R.statusText)?null===R||void 0===
  R?void 0:R.statusText:void 0,headers:ma,size:0,responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};R.clone().json().then(function(T){U.body=T;T=Y.core.getConfig().baggageConfiguration;(null===T||void 0===T?0:T.enabled)&&yf(N,U,T,Y.core);Y.trackerMethods.trackNetworkRequest({requestDetails:N,responseDetails:U})})["catch"](function(){var T=Y.core.getConfig().baggageConfiguration;
  (null===T||void 0===T?0:T.enabled)&&yf(N,U,T,Y.core);Y.trackerMethods.trackNetworkRequest({requestDetails:N,responseDetails:U})})}}}catch(T){O=vf(K,qa,A,P,R,N),y&&y.enabled&&O&&(R={statusText:T.toString(),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},Y.trackerMethods.trackNetworkRequest({requestDetails:N,responseDetails:R}))}})["catch"](function(R){Y.shouldTrackForSoftNavigation(r.url)&&
  Y.decrementInflightRequests();var ma=vf(K,qa,A,P,null,N);y&&y.enabled&&ma&&(R={statusText:R.toString(),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},Y.trackerMethods.trackNetworkRequest({requestDetails:N,responseDetails:R}))}))}catch(R){console.warn("Conviva App Tracker:: Unable to track network request while fetch interceptRequest ".concat(R))}return[2,
  p]}})})};b.prototype.handleResponse=function(a,c,d){var e,f,g,h;try{if(this.getSamplingMode()!==J.SAMPLING_MODES.NONE){var k=null===(e=this.core)||void 0===e?void 0:e.getConfig().networkRequestTrackingConfiguration,l=k.blocklist,n=null===(h=null===(g=null===(f=this.trackerConfiguration)||void 0===f?void 0:f.configs)||void 0===g?void 0:g.networkRequestTracking)||void 0===h?void 0:h.safelist,m=vf(k.collect,k.block,l,n,a,c);if(k&&k.enabled&&m){var p={status:a.status,statusText:a.statusText||("load"!==
  d?d:void 0),responseTimestamp:Date.now(),responseTime:performance.now()||Date.now(),headers:zq(a.getAllResponseHeaders()),body:a.response},r=this.core.getConfig().baggageConfiguration;(null===r||void 0===r?0:r.enabled)&&yf(c,p,r,this.core);this.trackerMethods.trackNetworkRequest({requestDetails:c,responseDetails:p})}}}catch(u){ua.warn("Conviva App Tracker:: Unable to track network request error while handleResponse ".concat(u))}};b.prototype.decorateWebSocket=function(){function a(g){d?d.has(g)||
  (d.add(g),c.addWebSocketEventListeners(g)):g.__convivaWsTag__||(g.__convivaWsTag__=!0,c.addWebSocketEventListeners(g))}var c=this,d="undefined"!==typeof WeakSet?new WeakSet:null,e=WebSocket.prototype.send;WebSocket.prototype.send=function(g){try{c.handleWebSocketSend(g,this),a(this)}catch(h){ua.warn("Conviva WS tracking error:",h)}return e.apply(this,arguments)};var f=WebSocket;window.WebSocket=function(g,h){g=new f(g,h);a(g);return g};window.WebSocket.prototype=f.prototype;Object.assign(window.WebSocket,
  f)};b.prototype.decorateEventSource=function(){var a=this,c="undefined"!==typeof WeakSet?new WeakSet:null,d=EventSource,e=d.prototype.close;window.EventSource=function(f,g){f=new d(f,g);c?c.has(f)||(c.add(f),a.addEventSourceEventListeners(f)):f.__convivaEventSourceTag__||(f.__convivaEventSourceTag__=!0,a.addEventSourceEventListeners(f));return f};d.prototype.close=function(){var f,g=null!==(f=null===this||void 0===this?void 0:this.url)&&void 0!==f?f:"unknown";a.handleEventSourceClose(g);return e.call(this)};
  window.EventSource.prototype=d.prototype;Object.setPrototypeOf(window.EventSource,d)};b.prototype.addWebSocketEventListeners=function(a){var c=this,d=jb;a.addEventListener("message",function(e){return c.handleWebSocketMessage(e)},{signal:d});a.addEventListener("open",function(e){return c.handleWebSocketOpen(e)},{signal:d});a.addEventListener("close",function(e){return c.handleWebSocketClose(e)},{signal:d});a.addEventListener("error",function(e){return c.handleWebSocketError(e)},{signal:d})};b.prototype.addEventSourceEventListeners=
  function(a){var c=this,d=jb;a.addEventListener("message",function(e){return c.handleEventSourceMessage(e)},{signal:d});a.addEventListener("open",function(e){return c.handleEventSourceOpen(e)},{signal:d});a.addEventListener("error",function(e){return c.handleEventSourceError(e)},{signal:d})};b.prototype.handleWebSocketOpen=function(a){try{var c={url:this.getWebSocketUrl(a.target),type:a.type,timestamp:Date.now()}}catch(d){c={data:a.data,url:a.target?this.getWebSocketUrl(a.target):void 0}}this.sendWebSocketEvent("open",
  c,{},!1)};b.prototype.handleWebSocketClose=function(a){try{var c={url:this.getWebSocketUrl(a.target),type:a.type,code:a.code,reason:a.reason,wasClean:a.wasClean,timestamp:Date.now()}}catch(d){c={data:a.data,url:a.target?this.getWebSocketUrl(a.target):void 0}}this.sendWebSocketEvent("close",c,{},!1)};b.prototype.handleWebSocketMessage=function(a){var c,d,e=null===(c=this.core)||void 0===c?void 0:c.getConfig().evtStreamTrackingConfiguration;c=null!==(d=null===e||void 0===e?void 0:e.bufferMaxBytes)&&
  void 0!==d?d:1048576;try{if(a.data instanceof ArrayBuffer){if(!(a.data.byteLength>c)){var f=(new TextDecoder("utf-8",{fatal:!1})).decode(a.data),g=[];Uj(f).forEach(function(k){try{var l=JSON.parse(k.trim());g.push(l)}catch(n){g.push(k)}});var h={data:g,url:this.getWebSocketUrl(a.target)};this.sendWebSocketEvent("server",h,{},!0)}}else{d=void 0;try{d="string"===typeof a.data?JSON.parse(a.data):a.data,d.url=this.getWebSocketUrl(a.target)}catch(k){d={data:a.data,url:a.target?this.getWebSocketUrl(a.target):
  void 0}}this.sendWebSocketEvent("server",d)}}catch(k){a={data:a.data,url:a.target?this.getWebSocketUrl(a.target):void 0},this.sendWebSocketEvent("server",a)}};b.prototype.handleWebSocketSend=function(a,c){var d,e,f,g,h=null===(d=this.core)||void 0===d?void 0:d.getConfig().evtStreamTrackingConfiguration;d=null!==(e=null===h||void 0===h?void 0:h.bufferMaxBytes)&&void 0!==e?e:1048576;try{if(a instanceof ArrayBuffer){if(!(a.byteLength>d)){var k=(new TextDecoder("utf-8",{fatal:!1})).decode(a),l=[];Uj(k).forEach(function(r){try{if("string"===
  typeof r){var u=JSON.parse(r);l.push(u)}else l.push(r)}catch(q){l.push(r)}});var n={url:this.getWebSocketUrl(c)};var m={data:l};this.sendWebSocketEvent("send",n,m,!0)}}else{var p="string"===typeof a?JSON.parse(a):a;n={url:this.getWebSocketUrl(c),type:null!==(g=null!==(f=p.type)&&void 0!==f?f:p.method)&&void 0!==g?g:void 0};this.sendWebSocketEvent("send",n,p)}}catch(r){n={url:this.getWebSocketUrl(c)},p={data:a},this.sendWebSocketEvent("send",n,p)}};b.prototype.handleWebSocketError=function(a){var c,
  d,e,f,g,h,k;try{var l={url:this.getWebSocketUrl(a.target),type:a.type,timestamp:Date.now(),readyState:this.getWebSocketReadyState(a.target),errorMessage:a.message||"WebSocket error occurred",errorType:(null===(c=a.error)||void 0===c?void 0:c.name)||"WebSocketError",errorCode:null===(d=a.error)||void 0===d?void 0:d.code,errorDetails:null===(e=a.error)||void 0===e?void 0:e.message,networkType:(null===(f=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===f?void 0:f.type)||"unknown",
  networkEffectiveType:(null===(g=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===g?void 0:g.effectiveType)||"unknown",networkDownlink:null===(h=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===h?void 0:h.downlink,networkRtt:null===(k=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===k?void 0:k.rtt,userAgent:null===navigator||void 0===navigator?void 0:navigator.userAgent}}catch(n){l={url:this.getWebSocketUrl(a.target),
  type:"error",timestamp:Date.now(),error:"Failed to process WebSocket error event: ".concat(n instanceof Error?n.message:String(n)),originalEvent:a}}this.sendWebSocketEvent("error",l)};b.prototype.handleEventSourceOpen=function(a){try{var c={url:this.getEventSourceUrl(a.target),type:a.type}}catch(d){c={data:a.data,url:a.target?this.getEventSourceUrl(a.target):void 0,type:a.type}}this.sendEventSourceEvent(c)};b.prototype.handleEventSourceMessage=function(a){var c={};try{if("string"===typeof a.data)try{c.data=
  JSON.parse(a.data)}catch(d){c.data=a.data}else c.data=a.data;c.url=this.getEventSourceUrl(a.target);c.type=a.type;c.id=a.lastEventId}catch(d){c={data:a.data,url:a.target?this.getEventSourceUrl(a.target):void 0,type:a.type,id:a.lastEventId}}this.sendEventSourceEvent(c)};b.prototype.handleEventSourceError=function(a){var c,d,e,f;try{var g={url:this.getEventSourceUrl(a.target),type:a.type,readyState:this.getEventSourceReadyState(a.target),errorMessage:a.message||"EventSource error occurred",errorType:"EventSourceError",
  networkType:(null===(c=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===c?void 0:c.type)||"unknown",networkEffectiveType:(null===(d=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===d?void 0:d.effectiveType)||"unknown",networkDownlink:null===(e=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===e?void 0:e.downlink,networkRtt:null===(f=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===f?void 0:f.rtt,
  userAgent:null===navigator||void 0===navigator?void 0:navigator.userAgent}}catch(h){g={url:this.getEventSourceUrl(a.target),type:"error",error:"Failed to process EventSource error event: ".concat(h instanceof Error?h.message:String(h)),originalEvent:a}}this.sendEventSourceEvent(g)};b.prototype.handleEventSourceClose=function(a){this.sendEventSourceEvent({url:a,type:"close"})};b.prototype.sendWebSocketEvent=function(a,c,d,e){var f;void 0===d&&(d={});void 0===e&&(e=!1);try{var g=null===(f=this.core.getConfig())||
  void 0===f?void 0:f.evtStreamTrackingConfiguration;if(null!==g&&void 0!==g&&g.enabled){var h=this.getSSECountState(c.url),k="send"===a?Z(Z(Z({},c),d),{event:a}):Z(Z({},c),{event:a}),l=Hd(g.collect,g.block,k,c.url);if(null!==l&&void 0!==l&&l.result){var n=null===l||void 0===l?void 0:l.matchedConfig;if(!0===(null===n||void 0===n?void 0:n.count)&&(h.tokenCount++,null===l||void 0===l||!l.shouldSend))return;var m={url:c.url,id:c.id,type:c.type,event:a};!0===(null===n||void 0===n?void 0:n.countReset)&&
  (0<h.tokenCount&&(m.tokenCount=h.tokenCount),this.resetSSECountState(c.url));a="send"===a?d:c;d={};if(g.richContentInference&&g.richContentInference.cond)try{d=ch(a,g.richContentInference,null===c||void 0===c?void 0:c.url)}catch(r){console.warn("Conviva App Tracker:: Error in rich content inference:",r)}if(g.conditionalCollectAttr&&0<g.conditionalCollectAttr.length){var p=Zg(a,g.conditionalCollectAttr,c.url,Hd,null===g||void 0===g?void 0:g.maxQueryLength,e);0<Object.keys(p).length&&(m=Z(Z({},m),p))}0<
  Object.keys(d).length&&(m.richContentInference=d);this.trackerMethods.trackSSEEvent({name:"conviva_ws_message",data:JSON.stringify(m)})}}}catch(r){}};b.prototype.sendEventSourceEvent=function(a){var c,d;try{var e=null===(c=this.core.getConfig())||void 0===c?void 0:c.evtStreamTrackingConfiguration;if(null!==e&&void 0!==e&&e.enabled){var f=this.getSSECountState((null===a||void 0===a?void 0:a.url)||""),g=Z({},a),h=Hd(e.collect,e.block,g,(null===a||void 0===a?void 0:a.url)||"");if(null!==h&&void 0!==
  h&&h.result){var k=null===h||void 0===h?void 0:h.matchedConfig;if(!0===(null===k||void 0===k?void 0:k.count)&&(f.tokenCount++,null===h||void 0===h||!h.shouldSend))return;var l={url:(null===(d=null===a||void 0===a?void 0:a.url)||void 0===d?void 0:d.split("?")[0])||"",id:null===a||void 0===a?void 0:a.id,type:null===a||void 0===a?void 0:a.type};!0===(null===k||void 0===k?void 0:k.countReset)&&(0<f.tokenCount&&(l.tokenCount=f.tokenCount),this.resetSSECountState((null===a||void 0===a?void 0:a.url)||""));
  if(e.conditionalCollectAttr&&0<e.conditionalCollectAttr.length){var n=Zg(a,e.conditionalCollectAttr,(null===a||void 0===a?void 0:a.url)||"",Hd,null===e||void 0===e?void 0:e.maxQueryLength,!1);0<Object.keys(n).length&&(l=Z(Z({},l),n))}if(e.richContentInference&&e.richContentInference.cond)try{var m=ch(a,e.richContentInference,null===a||void 0===a?void 0:a.url);0<Object.keys(m).length&&(l.richContentInference=m)}catch(p){console.warn("Conviva App Tracker:: Error in rich content inference:",p)}this.trackerMethods.trackSSEEvent({name:"conviva_sse_message",
  data:JSON.stringify(l)})}}}catch(p){}};b.prototype.getWebSocketUrl=function(a){try{if(a&&"object"===S(a)&&"url"in a)return a.url}catch(c){}};b.prototype.getWebSocketReadyState=function(a){try{if(a&&"object"===S(a)&&"readyState"in a)return a.readyState}catch(c){}};b.prototype.getEventSourceUrl=function(a){try{if(a&&"object"===S(a)&&"url"in a)return a.url}catch(c){}};b.prototype.getEventSourceReadyState=function(a){try{if(a&&"object"===S(a)&&"readyState"in a)return a.readyState}catch(c){}};b.prototype.addTraceparentHeader=
  function(a,c,d){var e=null;J.TRACEPARENT_HEADER_KEY in d||(e=this.generateTraceparentHeader(c))&&a.setRequestHeader(J.TRACEPARENT_HEADER_KEY,e);return e};b.prototype.addBaggageHeader=function(a,c,d,e,f){(c=this.generateBaggageHeader(c,{method:e||"GET",url:c,headers:d,body:f}))&&a.setRequestHeader(J.BAGGAGE_HEADER_KEY,c);return c};b.prototype.createRequestDetails=function(a,c,d,e,f,g){a={method:a,url:c,headers:d,body:e,requestTimestamp:Date.now(),requestTime:performance.now()||Date.now()};f&&(a[J.TRACEPARENT_HEADER_KEY]=
  f);g&&(a[J.BAGGAGE_HEADER_KEY]=g);return a};b.prototype.normalizeUrl=function(a){if(a instanceof URL)return a.href;try{if("undefined"!==typeof document){var c=URL;if(document.baseURI)var d=document.baseURI;else{var e=document.querySelector("base");d=e&&e.href?e.href:document.location.href}return(new c(a,d)).href}}catch(f){}return a};b.prototype.generateTraceparentHeader=function(a){var c,d,e,f,g,h,k,l,n,m,p,r,u,q,w,v,x,C,F,H,G,E,I;try{if(this.core&&a){var M=this.core.getConfig(),ha=J.CONFIG_PREFERENCES.MERGE,
  W=[];if(null===(e=null===(d=null===(c=this.trackerConfiguration)||void 0===c?void 0:c.configs)||void 0===d?void 0:d.traceparentGeneration)||void 0===e?0:e.force)ha=J.CONFIG_PREFERENCES.APP;else if(null===(f=null===M||void 0===M?void 0:M.traceparentconfig)||void 0===f?0:f.pref)ha=M.traceparentconfig.pref;switch(ha){case J.CONFIG_PREFERENCES.APP:if(!1===(null===(k=null===(h=null===(g=this.trackerConfiguration)||void 0===g?void 0:g.configs)||void 0===h?void 0:h.traceparentGeneration)||void 0===k?void 0:
  k.enabled))return"";W=(null===(m=null===(n=null===(l=this.trackerConfiguration)||void 0===l?void 0:l.configs)||void 0===n?void 0:n.traceparentGeneration)||void 0===m?void 0:m.targetUrl)||[];break;case J.CONFIG_PREFERENCES.REMOTE:if(!1===(null===(p=null===M||void 0===M?void 0:M.traceparentconfig)||void 0===p?void 0:p.enabled))return"";W=(null===(r=null===M||void 0===M?void 0:M.traceparentconfig)||void 0===r?void 0:r.targetUrl)||[];break;default:if((null===M||void 0===M||!M.traceparentconfig)&&!1===
  (null===(w=null===(q=null===(u=this.trackerConfiguration)||void 0===u?void 0:u.configs)||void 0===q?void 0:q.traceparentGeneration)||void 0===w?void 0:w.enabled)||(null===(x=null===(v=this.trackerConfiguration)||void 0===v?void 0:v.configs)||void 0===x||!x.traceparentGeneration)&&!1===(null===(C=null===M||void 0===M?void 0:M.traceparentconfig)||void 0===C?void 0:C.enabled))return"";var ia=(null===(G=null===(H=null===(F=this.trackerConfiguration)||void 0===F?void 0:F.configs)||void 0===H?void 0:H.traceparentGeneration)||
  void 0===G?void 0:G.targetUrl)||[],N=(null===(E=null===M||void 0===M?void 0:M.traceparentconfig)||void 0===E?void 0:E.targetUrl)||[],y=new Set(gb(gb([],N,!0),ia,!0));W=Array.from(y)}if(0<W.length&&(W.includes("*")||W.some(function(P){return 0<(null===P||void 0===P?void 0:P.length)&&a.toLowerCase().includes(null===P||void 0===P?void 0:P.toLowerCase())}))&&(null===(I=null===M||void 0===M?void 0:M.networkRequestTrackingConfiguration)||void 0===I?0:I.enabled)){var D=Array.from({length:32},function(){return Math.floor(16*
  Math.random()).toString(16)}).join(""),A=Array.from({length:16},function(){return Math.floor(16*Math.random()).toString(16)}).join("");return"00-".concat(D,"-").concat(A,"-00")}}}catch(P){console.warn("Conviva App Tracker:: Unable to generate traceparent header ".concat(P))}return""};b.prototype.generateBaggageHeader=function(a,c){var d,e;try{if(this.core&&a){var f=this.core.getConfig();if(!1===(null===(d=null===f||void 0===f?void 0:f.baggageConfiguration)||void 0===d?void 0:d.enabled))return"";c&&
  (null===f||void 0===f?0:f.baggageConfiguration)&&yf(c,{},f.baggageConfiguration,this.core);var g=(null===(e=null===f||void 0===f?void 0:f.baggageConfiguration)||void 0===e?void 0:e.targetUrl)||[];if(0<g.length&&g.some(function(l){return 0<(null===l||void 0===l?void 0:l.length)&&a.toLowerCase().includes(null===l||void 0===l?void 0:l.toLowerCase())})){c=[];var h=this.getConvivaClientId();h&&c.push("c3.client_id=".concat(h));var k=this.core.getConversationId();k&&c.push("c3.convid=".concat(k));if(0<
  c.length)return c.join(", ")}}}catch(l){console.warn("Conviva App Tracker:: Unable to generate baggage header ".concat(l))}return""};b.prototype.getConvivaClientId=function(){try{if("undefined"!==typeof window&&(null===window||void 0===window?0:window.localStorage)){var a=window.localStorage.getItem("Conviva.sdkConfig"),c=JSON.parse(a||"{}");if(c&&"object"===S(c)&&c.clId)return c.clId}}catch(d){console.warn("Conviva App Tracker:: Unable to get client ID ".concat(d))}return""};b.prototype.updateSSETrackingConfig=
  function(a){si=Z(Z({},si),a)};b.prototype.getSSETrackingConfig=function(){return Z({},si)};b.prototype.processSSEEvent=function(a,c){var d,e;try{if("ping"!==a.event){var f=a.data;try{f=JSON.parse(a.data)}catch(r){}var g={url:c,id:a.id,event:null!==(d=a.event)&&void 0!==d?d:"message",data:f},h=null===(e=this.core)||void 0===e?void 0:e.getConfig().evtStreamTrackingConfiguration;if(null!==h&&void 0!==h&&h.enabled){var k=this.getSSECountState(c),l=Hd(h.collect,h.block,g,c);if(null!==l&&void 0!==l&&l.result){var n=
  null===l||void 0===l?void 0:l.matchedConfig;if(!0===(null===n||void 0===n?void 0:n.count)&&(k.tokenCount++,null===l||void 0===l||!l.shouldSend))return;a={};if(h.richContentInference&&h.richContentInference.cond)try{a=ch(g,h.richContentInference,null===g||void 0===g?void 0:g.url)}catch(r){console.warn("Conviva App Tracker:: Error in rich content inference:",r)}var m={url:g.url,id:g.id,event:g.event};!0===(null===n||void 0===n?void 0:n.countReset)&&(0<k.tokenCount&&(m.tokenCount=k.tokenCount),this.resetSSECountState(c));
  if(h.conditionalCollectAttr&&0<h.conditionalCollectAttr.length){var p=Zg(g,h.conditionalCollectAttr,c,Hd,null===h||void 0===h?void 0:h.maxQueryLength,!1);0<Object.keys(p).length&&(m=Z(Z({},m),p))}0<Object.keys(a).length&&(m.richContentInference=a);this.trackerMethods.trackSSEEvent({name:"conviva_sse_message",data:JSON.stringify(m)})}}}}catch(r){}};b.prototype.getSSECountState=function(a){this.sseCountStates.has(a)||this.sseCountStates.set(a,{tokenCount:0});return this.sseCountStates.get(a)};b.prototype.resetSSECountState=
  function(a){this.sseCountStates.set(a,{tokenCount:0})};b.prototype.cleanupSSECountState=function(a){this.sseCountStates["delete"](a)};b.prototype.getInflightRequests=function(){return this.inflightRequests};b.prototype.incrementInflightRequests=function(){this.inflightRequests++};b.prototype.decrementInflightRequests=function(){this.inflightRequests=Math.max(0,this.inflightRequests-1)};b.prototype.shouldTrackForSoftNavigation=function(a){try{var c=(new URL(a)).hostname,d=this.core.getConfig(),e=null===
  d||void 0===d?void 0:d.softNavigationTrackingConfiguration;return null!==e&&void 0!==e&&e.domainBlocklist&&0!==e.domainBlocklist.length?!e.domainBlocklist.some(function(f){return c.endsWith(f)}):!0}catch(f){return!1}};return b}(),gp=function(b,a,c,d,e,f,g,h){var k,l,n,m,p=Pa,r=function(){var u=p.getConfig();return u.emitterConfiguration&&u.emitterConfiguration.batching?u.emitterConfiguration.batching.enabled:!0};return Lo(b,a,"localStorage"==c||"cookieAndLocalStorage"==c,d.eventMethod,e,function(){var u,
  q=p.getConfig();return null!==(u=q.bufferSize?q.bufferSize:d.bufferSize)&&void 0!==u?u:20}(),function(){var u,q=p.getConfig();return null!==(u=q.maxGetBytes?q.maxGetBytes:d.maxGetBytes)&&void 0!==u?u:0},null!==(k=d.useStm)&&void 0!==k?k:!0,function(){var u,q=p.getConfig();return null!==(u=q.maxLocalStorageQueueSize?q.maxLocalStorageQueueSize:d.maxLocalStorageQueueSize)&&void 0!==u?u:10},null!==(l=d.connectionTimeout)&&void 0!==l?l:3E4,f,null!==(n=d.customHeaders)&&void 0!==n?n:{},null!==(m=d.withCredentials)&&
  void 0!==m?m:!1,g,function(){var u,q,w,v=p.getConfig();return null!==(w=(null===v||void 0===v?0:v.enc)?v.enc:null===(q=null===(u=null===d||void 0===d?void 0:d.configs)||void 0===u?void 0:u.network)||void 0===q?void 0:q.encoding)&&void 0!==w?w:dc.GZIP},r,function(){var u,q,w=p.getConfig();return r()?"number"===typeof(null===(q=null===(u=w.emitterConfiguration)||void 0===u?void 0:u.batching)||void 0===q?void 0:q.byteLimitPostInKB)?1E3*w.emitterConfiguration.batching.byteLimitPostInKB:25E4:4E4},function(){var u,
  q,w=null===(q=null===(u=p.getConfig().emitterConfiguration)||void 0===u?void 0:u.batching)||void 0===q?void 0:q.batchingIntervalInSec;return 1E3*("number"===typeof w?w:5)},h)},Oo=function(){function b(a,c,d,e,f){void 0===a&&(a=20);void 0===c&&(c=2E3);void 0===d&&(d=1E3);this.eventMaxLimit=a;this.cooldown=c;this.windowStart=Date.now();this.circuitBreakerUntil=this.eventCount=0;this.breakerPreviouslyOpen=!1;this.droppedCount=0;this.trackerCore=e;this.timeWindow=d;this.getSamplingMode=f}b.prototype.isAllowedToSendEvent=
  function(){var a=Date.now();if(a<this.circuitBreakerUntil)return this.droppedCount++,!1;this.breakerPreviouslyOpen&&(this.breakerPreviouslyOpen=!1,eb(this.trackerCore,this.getSamplingMode,{message:"Application Error",className:"errorRateLimiter - isAllowedToSendEvent",extraData:{droppedCount:this.droppedCount},configAppliedSrc:Ya,configAppliedTime:Za}),this.droppedCount=0);a-this.windowStart<this.timeWindow?this.eventCount++:(this.windowStart=a,this.eventCount=1);return this.eventCount>this.eventMaxLimit?
  (this.circuitBreakerUntil=a+this.cooldown,this.breakerPreviouslyOpen=!0,this.droppedCount++,!1):!0};b.prototype.updateErrortRateLimitConfig=function(a,c,d){this.eventMaxLimit=a;this.cooldown=c;this.timeWindow=d};return b}(),fb,Tb,Yj=function(b,a){return b.length>a?"".concat(b.slice(0,a-3),"..."):b},ec={idleWindowMs:600,requireLcp:!1,lcpTimeoutMs:3E3,maxMeasurementMs:1E4,includeHashChanges:!1,domainAllowlist:[],domainBlocklist:["sdk.fra-01.braze.eu","tr.snapchat.com","analytics.google.com","ams.creativecdn.com",
  "analytics.tiktok.com"]},Qc=Z({},ec),Ua=null,gh=null,zf=null,Xo=function(){function b(f){f=f.split(".").map(Number);if(4!==f.length||f.some(function(g){return isNaN(g)}))throw Error("clientId must be in format 'a.b.c.d' with each part being a number");return f}function a(f,g){void 0===g&&(g=0);g=1+(g|0)|0;for(var h=0;4>h;h++)g=Math.imul(-1640531535,g)+(f[h]|0)|0;return g|0}function c(f){if(e)try{var g=b(f);f=void 0;void 0===f&&(f=BigInt(0));var h=BigInt(79),k=BigInt(1)+f;for(f=0;4>f;f++)k=h*k+BigInt(g[f]);
  var l=Number(BigInt.asIntN(32,k));return(l+Math.pow(2,31))/(Math.pow(2,32)-1)}catch(m){return 0}else try{var n=b(f);l=a(n);return(l>>>0)/4294967295}catch(m){return 0}}function d(f){return 1-c(f)}var e="function"===typeof BigInt;return{clientIdHash:a,sampleRate:c,minimumSampleRateForInclusion:d,shouldInclude:function(f,g){return f/100>=d(g)}}}(),Af,hh,ye=!1,fc=null,ih=null,fk=function(){function b(a,c,d){var e,f;this.detectionInterval=null;this.tracker=a;this.trackerConfiguration=c;this.sessionReplayConfig=
  d;a=new Blob(["importScripts('https://cdnjs.cloudflare.com/ajax/libs/pako/2.1.0/pako.min.js');\n\nlet config = {};\nlet db;\nlet flushing = false;\nconst DB_NAME = 'conviva-session-record-db';\nconst STORE_NAME = 'events';\nconst POLICY_NAME = 'uploadPolicy';\nconst POLICY_KEY = 'policy';\nconst MAX_EVENTS = 5000; //TODO: Check device storage\nlet urlExpiryTimestamp = null;\nlet hasFlushedOldEvents = false;\nconst FLUSH_TIME = 60 * 1000;\nconst UPDATE_POLICY_EXPIRY_TIME = 3600; // 1 hour\nconst DEFAULT_GATEWAY_URL = 'https://rcg.conviva.com';\nlet flushTimer = null;\nlet initialEvents = [];\nlet uploadPolicyObject = null;\n\nasync function openDB() {\n  return new Promise((resolve, reject) => {\n    const request = indexedDB.open(DB_NAME, 1);\n    request.onupgradeneeded = () => {\n      const db = request.result;\n      const store = db?.createObjectStore(STORE_NAME, { keyPath: 'id', autoIncrement: true });\n      store.createIndex('byTimestamp', 'timestamp');\n      const policy = db.createObjectStore(POLICY_NAME, { keyPath: 'id' });\n      policy.put({ id: POLICY_KEY, value: null });\n    };\n    request.onsuccess = () => resolve(request.result);\n    request.onerror = () => reject(request.error);\n  });\n}\n\nfunction deleteDB() {\n  if (db) {\n    db.close();\n  }\n  return new Promise((resolve, reject) => {\n    const deleteRequest = indexedDB.deleteDatabase(DB_NAME);\n\n    deleteRequest.onsuccess = () => {\n      resolve();\n    };\n\n    deleteRequest.onerror = () => {\n      reject(deleteRequest.error);\n    };\n\n    deleteRequest.onblocked = () => {};\n  });\n}\n\nasync function storeEvent(eventPayload) {\n  if (!db) {\n    initialEvents.push(eventPayload.event);\n    return;\n  }\n\n  try {\n    const tx = db.transaction(STORE_NAME, 'readwrite');\n    const store = tx.objectStore(STORE_NAME);\n    if (initialEvents.length > 0) {\n      initialEvents.forEach((event) => store.add(event));\n      initialEvents = [];\n    }\n    store.add(eventPayload.event);\n\n    await tx.done;\n  } catch (error) {\n    //console.warn('Failed to store event:', error);\n  }\n}\n\nasync function getAllEvents() {\n  if (!db) {\n    return [];\n  }\n\n  const tx = db.transaction(STORE_NAME, 'readonly');\n  const store = tx.objectStore(STORE_NAME);\n  const index = store.index('byTimestamp');\n  const request = index.getAll();\n\n  return new Promise((resolve, reject) => {\n    tx.onerror = () => reject(tx.error);\n    request.onerror = () => reject(request.error);\n\n    request.onsuccess = () => resolve(request.result);\n  });\n}\n\nasync function pruneOldEvents() {\n  if (!db) {\n    return;\n  }\n\n  return new Promise((resolve, reject) => {\n    const tx = db.transaction(STORE_NAME, 'readwrite');\n    const store = tx.objectStore(STORE_NAME);\n    let initialCount = 0;\n\n    tx.oncomplete = () => {\n      resolve();\n    };\n    tx.onerror = () => {\n      reject(tx.error);\n    };\n    const countReq = store.count();\n\n    countReq.onsuccess = () => {\n      initialCount = countReq.result;\n\n      if (initialCount <= MAX_EVENTS) {\n        return;\n      }\n\n      const deleteCount = initialCount - MAX_EVENTS;\n      let deleted = 0;\n      const cursorReq = store.openCursor();\n      cursorReq.onsuccess = () => {\n        const cursor = cursorReq.result;\n        if (cursor && deleted < deleteCount) {\n          cursor.delete();\n          deleted++;\n          cursor.continue();\n        }\n      };\n    };\n  });\n}\n\nasync function setPolicyValue(value) {\n  if (!db) {\n    return;\n  }\n  try {\n    const tx = db.transaction(POLICY_NAME, 'readwrite');\n    const policyStore = tx.objectStore(POLICY_NAME);\n    policyStore.put({ id: POLICY_KEY, value });\n    await tx.done;\n  } catch (error) {}\n}\n\nasync function getPolicyValue() {\n  if (!db) {\n    return null;\n  }\n\n  return new Promise((resolve, reject) => {\n    const tx = db.transaction(POLICY_NAME, 'readonly');\n    const req = tx.objectStore(POLICY_NAME).get(POLICY_KEY); // e.g. 'policy'\n\n    req.onsuccess = () => resolve(req.result?.value ?? null); // <-- result, not value\n    req.onerror = () => reject(req.error);\n  });\n}\n\nself.onmessage = async (e) => {\n  const { type, payload } = e.data;\n\n  if (type === 'config') {\n    config = payload;\n    if (!db) {\n      db = await openDB();\n      await flushEvents();\n    }\n    scheduleFlush();\n  }\n  if (type === 'event') {\n    await storeEvent(payload);\n    await pruneOldEvents();\n  }\n  if (type === 'delete') {\n    await flushEvents();\n    await deleteDB();\n    self.postMessage({ type: 'deletion-complete' });\n  }\n};\n\nfunction scheduleFlush() {\n  if (flushTimer) {\n    clearInterval(flushTimer);\n    flushTimer = null;\n  }\n  flushTimer = setInterval(\n    async () => {\n      if (flushing) return;\n      try {\n        await flushEvents();\n      } catch (err) {\n        //console.warn(err);\n      }\n    },\n    config.uploadInterval ? config.uploadInterval * 1000 : FLUSH_TIME\n  );\n}\n\nasync function flushOldSessions() {\n  // Read all events\n  const events = await getAllEvents();\n  if (events.length === 0) return;\n\n  // Group events by _tabId/recordId\n  const groups = {};\n  for (const evt of events) {\n    const id = evt['_tabId'];\n    if (!groups[id]) groups[id] = [];\n    groups[id].push(evt);\n  }\n\n  // Sort group IDs by earliest timestamp to process older sessions first\n  const sortedIds = Object.keys(groups).sort((a, b) => {\n    const minA = Math.min(...groups[a].map((e) => e.timestamp));\n    const minB = Math.min(...groups[b].map((e) => e.timestamp));\n    return minA - minB;\n  });\n\n  // Sequentially upload each group except for the current session (config.recordId)\n  for (const id of sortedIds) {\n    if (id === config.recordId) continue; // skip current session; handle separately\n\n    const batch = groups[id].sort((a, b) => a.timestamp - b.timestamp);\n\n    try {\n      await uploadBatch(batch);\n    } catch (err) {\n      //console.warn(`[Worker] upload failed for recordId ${id}`, err);\n      // Skip deletion on failure so events can be retried later\n      continue;\n    }\n\n    // Remove uploaded events for this group\n    const tx = db.transaction(STORE_NAME, 'readwrite');\n    const store = tx.objectStore(STORE_NAME);\n    for (const evt of batch) {\n      await store.delete(evt.id);\n    }\n    await tx.done;\n  }\n}\n\nasync function flushEvents() {\n  if (flushing || !db) return;\n  flushing = true;\n\n  try {\n    // If the one-time flush hasn't been done, attempt it\n    if (!hasFlushedOldEvents) {\n      // Use the Web Locks API so only one tab does the global flush\n      if (navigator?.locks?.request) {\n        await navigator.locks.request(\n          'session-replay-flush',\n          { mode: 'exclusive', ifAvailable: true },\n          async (lock) => {\n            if (lock) {\n              await flushOldSessions();\n            }\n          }\n        );\n      } else {\n        // Fallback: perform the flush unconditionally\n        await flushOldSessions();\n      }\n      hasFlushedOldEvents = true;\n    }\n\n    // Always flush events for the current recordId\n    const allEvents = await getAllEvents();\n    if (allEvents.length === 0) return;\n    const currentEvents = allEvents.filter((evt) => evt['_tabId'] === config.recordId);\n\n    if (currentEvents.length > 0) {\n      await uploadBatch(currentEvents);\n\n      // Remove only these events from the store\n      const tx = db.transaction(STORE_NAME, 'readwrite');\n      const store = tx.objectStore(STORE_NAME);\n      for (const evt of currentEvents) {\n        await store.delete(evt.id);\n      }\n      await tx.done;\n    }\n  } catch (err) {\n    //console.warn('flush failed', err);\n  } finally {\n    flushing = false;\n  }\n}\n\nasync function uploadBatch(events) {\n  try {\n    if (!events || events.length === 0) {\n      return;\n    }\n    let tabId = events[0]['_tabId'];\n    let timestamp = events[0]['timestamp'];\n    const json = JSON.stringify(events);\n    const compressed = pako.gzip(json);\n    const blob = new Blob([compressed], { type: 'application/octet-stream' });\n    const blobName = getBlobNameRoundedToMinute(timestamp, tabId);\n    await uploadFileToGcs(blob, blobName);\n  } catch (error) {\n    //console.warn('Error uploading batch:', error);\n    throw error; // Re-throw to handle in flushEvents\n  }\n}\n\nfunction sleep(ms) {\n  return new Promise((res) => setTimeout(res, ms));\n}\n\nfunction getBlobNameRoundedToMinute(timestamp, tabId) {\n  const date = new Date(timestamp); // Uses current time\n  date.setUTCSeconds(0, 0); // Rounds down to the start of the current minute\n\n  const day = String(date.getUTCDate()).padStart(2, '0');\n  const month = String(date.getUTCMonth() + 1).padStart(2, '0'); // Months are 0-indexed\n  const year = String(date.getUTCFullYear()).slice(-2);\n  const hour = String(date.getUTCHours()).padStart(2, '0');\n\n  const epoch = Math.floor(date.getTime() / 1000); // Epoch time in seconds (UTC-based)\n\n  const uuid = getUUID(); // Generate a UUID for uniqueness\n\n  return `${year}-${month}-${day}-${hour}-${epoch}_${tabId}_${uuid}.gz`;\n}\n\nasync function uploadFileToGcs(blob, blobName) {\n  try {\n    if (!uploadPolicyObject) {\n      uploadPolicyObject = await getPolicyValue();\n    }\n    const isPolicyInvalid = uploadPolicyObject ? Date.now() >= uploadPolicyObject.expiry : true;\n    if (isPolicyInvalid) {\n      const expiryTimeInSec = config.policyExpiryTime || UPDATE_POLICY_EXPIRY_TIME; // Default to 1 hour if not set\n      const gatewayUrl = getGatewayUrl();\n      const response = await fetch(`${gatewayUrl}`);\n      if (!response.ok) {\n        throw new Error('Failed to get upload policy from server.');\n      }\n      let uploadPolicy = await response.json();\n      let isoString = uploadPolicy.fields['x-goog-date'];\n      let urlExpiryTimestamp = convertToUnixTimestamp(isoString) + expiryTimeInSec * 1000; // Convert to milliseconds\n      uploadPolicyObject = { policy: uploadPolicy, expiry: urlExpiryTimestamp };\n      await setPolicyValue(uploadPolicyObject); // Store the new policy\n    }\n  } catch (error) {\n    throw error;\n  }\n\n  const form = new FormData();\n  Object.entries(uploadPolicyObject?.policy.fields).forEach(([k, v]) => form.append(k, v));\n  let key = `${uploadPolicyObject?.policy.customerID}/${config.clId}/${blobName}`;\n  form.set('key', key); // override the dummy one\n  form.append('file', blob, blobName);\n\n  try {\n    const uploadResponse = await fetch(uploadPolicyObject?.policy.url, {\n      method: 'POST',\n      body: form,\n    });\n\n    if (!uploadResponse.ok) {\n      const errorText = await uploadResponse.text();\n      throw new Error(`GCS Upload Error: ${uploadResponse.status} ${errorText}`);\n    }\n  } catch (error) {\n    throw error;\n  }\n}\n\nfunction getGatewayUrl() {\n  const expiryTimeInSec = config.policyExpiryTime || UPDATE_POLICY_EXPIRY_TIME;\n  let endPointUrl = config.endpoint || DEFAULT_GATEWAY_URL;\n  return `${endPointUrl}/sr?clientId=${config.clId}&expiryTimeInSec=${expiryTimeInSec}&customerKey=${config.customerKey}`;\n}\n\nfunction convertToUnixTimestamp(isoString) {\n  const date = new Date(isoString.replace(/^(\\d{4})(\\d{2})(\\d{2})T(\\d{2})(\\d{2})(\\d{2})Z$/, '$1-$2-$3T$4:$5:$6Z'));\n  const unixTimestampInMilliSceonds = date.getTime();\n  return unixTimestampInMilliSceonds;\n}\n\nfunction getUUID() {\n  return Date.now().toString();\n}\n"],
  {type:"application/javascript"});this._workerUrl=URL.createObjectURL(a);this.worker=new Worker(this._workerUrl);this.recordingReady=this.recording=!1;this.recordId=Date.now().toString();this.worker.postMessage({type:"config",payload:Z(Z(Z({},null===(e=this.sessionReplayConfig)||void 0===e?void 0:e.emitterConfiguration),null===(f=this.sessionReplayConfig)||void 0===f?void 0:f.networkConfiguration),{customerKey:this.trackerConfiguration.convivaCustomerKey,clId:ck().clId,recordId:this.recordId})});this._handleVisibilityChange=
  this._handleVisibilityChange.bind(this)}b.prototype.initiateRecording=function(){var a=this;this.startRecording()["catch"](function(c){a.recording=!1;a.tracker.setCustomTags({isSR:!1})});document.addEventListener("visibilitychange",this._handleVisibilityChange,{signal:jb})};b.prototype.startRecording=function(){var a,c,d,e,f,g,h,k,l,n,m,p,r,u,q,w,v,x,C,F,H,G,E,I,M,ha,W,ia,N,y,D,A,P,K,qa,Y,ta,R,ma,bb,O,U,T,na,ra,Ia,cb,Ma,db,ib,ja,La,da,ab,bc,Zc,$c,ad,bd,cd,dd,ed,He;return ce(this,void 0,void 0,function(){var kc,
  fd=this;return de(this,function(gd){switch(gd.label){case 0:if(this.recording)return[2];this.recording=!0;this.tracker.setCustomTags({isSR:!0});gd.label=1;case 1:return gd.trys.push([1,3,,4]),[4,this.waitForPageStability()];case 2:return gd.sent(),this.stopFn=ac({blockSelector:null!==(d=null===(c=null===(a=this.sessionReplayConfig)||void 0===a?void 0:a.webRecorderConfiguration)||void 0===c?void 0:c.blockSelector)&&void 0!==d?d:void 0,ignoreSelector:null!==(g=null===(f=null===(e=this.sessionReplayConfig)||
  void 0===e?void 0:e.webRecorderConfiguration)||void 0===f?void 0:f.ignoreSelector)&&void 0!==g?g:void 0,ignoreCSSAttributes:null!==(l=null===(k=null===(h=this.sessionReplayConfig)||void 0===h?void 0:h.webRecorderConfiguration)||void 0===k?void 0:k.ignoreCSSAttributes)&&void 0!==l?l:void 0,maskTextSelector:null!==(p=null===(m=null===(n=this.sessionReplayConfig)||void 0===n?void 0:n.webRecorderConfiguration)||void 0===m?void 0:m.maskTextSelector)&&void 0!==p?p:void 0,maskAllInputs:null!==(q=null===
  (u=null===(r=this.sessionReplayConfig)||void 0===r?void 0:r.webRecorderConfiguration)||void 0===u?void 0:u.maskAllInputs)&&void 0!==q?q:!1,maskInputOptions:null!==(x=null===(v=null===(w=this.sessionReplayConfig)||void 0===w?void 0:w.webRecorderConfiguration)||void 0===v?void 0:v.maskInputOptions)&&void 0!==x?x:{password:!0,email:!0,textarea:!0,text:!0,tel:!0},slimDOMOptions:null!==(H=null===(F=null===(C=this.sessionReplayConfig)||void 0===C?void 0:C.webRecorderConfiguration)||void 0===F?void 0:F.slimDOMOptions)&&
  void 0!==H?H:{comment:!1,headWhitespace:!1,headMetaDescKeywords:!1,headMetaSocial:!1,headMetaRobots:!1,headMetaHttpEquiv:!1,headMetaAuthorship:!1,headMetaVerification:!1},dataURLOptions:null!==(I=null===(E=null===(G=this.sessionReplayConfig)||void 0===G?void 0:G.webRecorderConfiguration)||void 0===E?void 0:E.dataURLOptions)&&void 0!==I?I:{},inlineStylesheet:null!==(W=null===(ha=null===(M=this.sessionReplayConfig)||void 0===M?void 0:M.webRecorderConfiguration)||void 0===ha?void 0:ha.inlineStylesheet)&&
  void 0!==W?W:!0,recordCanvas:null!==(y=null===(N=null===(ia=this.sessionReplayConfig)||void 0===ia?void 0:ia.webRecorderConfiguration)||void 0===N?void 0:N.recordCanvas)&&void 0!==y?y:!1,recordCrossOriginIframes:null!==(P=null===(A=null===(D=this.sessionReplayConfig)||void 0===D?void 0:D.webRecorderConfiguration)||void 0===A?void 0:A.recordCrossOriginIframes)&&void 0!==P?P:!1,recordAfter:null!==(Y=null===(qa=null===(K=this.sessionReplayConfig)||void 0===K?void 0:K.webRecorderConfiguration)||void 0===
  qa?void 0:qa.recordAfter)&&void 0!==Y?Y:"load",inlineImages:null!==(ma=null===(R=null===(ta=this.sessionReplayConfig)||void 0===ta?void 0:ta.webRecorderConfiguration)||void 0===R?void 0:R.inlineImages)&&void 0!==ma?ma:!1,collectFonts:null!==(U=null===(O=null===(bb=this.sessionReplayConfig)||void 0===bb?void 0:bb.webRecorderConfiguration)||void 0===O?void 0:O.collectFonts)&&void 0!==U?U:!1,userTriggeredOnInput:null!==(ra=null===(na=null===(T=this.sessionReplayConfig)||void 0===T?void 0:T.webRecorderConfiguration)||
  void 0===na?void 0:na.userTriggeredOnInput)&&void 0!==ra?ra:!1,sampling:{mousemove:null!==(Ma=null===(cb=null===(Ia=this.sessionReplayConfig)||void 0===Ia?void 0:Ia.webRecorderConfiguration)||void 0===cb?void 0:cb.mousemove)&&void 0!==Ma?Ma:!1,mouseInteraction:null!==(ja=null===(ib=null===(db=this.sessionReplayConfig)||void 0===db?void 0:db.webRecorderConfiguration)||void 0===ib?void 0:ib.mouseInteraction)&&void 0!==ja?ja:{MouseUp:!1,MouseDown:!1,Click:!0,ContextMenu:!0,DblClick:!0,Focus:!0,Blur:!0,
  TouchStart:!1,TouchEnd:!1},scroll:null!==(ab=null===(da=null===(La=this.sessionReplayConfig)||void 0===La?void 0:La.webRecorderConfiguration)||void 0===da?void 0:da.scroll)&&void 0!==ab?ab:300,media:null!==($c=null===(Zc=null===(bc=this.sessionReplayConfig)||void 0===bc?void 0:bc.webRecorderConfiguration)||void 0===Zc?void 0:Zc.media)&&void 0!==$c?$c:1E3,input:null!==(cd=null===(bd=null===(ad=this.sessionReplayConfig)||void 0===ad?void 0:ad.webRecorderConfiguration)||void 0===bd?void 0:bd.input)&&
  void 0!==cd?cd:"last"},checkoutEveryNms:null!==(He=null===(ed=null===(dd=this.sessionReplayConfig)||void 0===dd?void 0:dd.webRecorderConfiguration)||void 0===ed?void 0:ed.checkoutEveryNms)&&void 0!==He?He:6E5,emit:function(sa){var Jd;3===sa.type&&7===(null===(Jd=sa.data)||void 0===Jd?void 0:Jd.source)||!sa||"number"!==typeof sa.timestamp||(sa._tabId=fd.recordId,fd.worker.postMessage({type:"event",payload:{event:sa}}))}}),this.initializeRecordingReadiness(),this.startCommunicationElementWatcher(),
  [3,4];case 3:throw kc=gd.sent(),kc;case 4:return[2]}})})};b.prototype.initializeRecordingReadiness=function(){var a=this,c=0,d=function(){c++;if(a.isPageTrulyReady()||20<=c)a.recordingReady=!0;else{var e=a.detectSlowNetwork()?1E3:500;setTimeout(d,e)}};d()};b.prototype.isPageTrulyReady=function(){return 2<=["interactive"===document.readyState||"complete"===document.readyState,document.body&&0<document.body.children.length,!this.hasCriticalPendingRequests()].filter(Boolean).length};b.prototype.hasCriticalPendingRequests=
  function(){if("performance"in window&&"getEntriesByType"in performance){var a=performance.getEntriesByType("navigation")[0];if(a)return 0===a.domContentLoadedEventEnd}return!1};b.prototype.waitForPageStability=function(){return ce(this,void 0,void 0,function(){var a=this;return de(this,function(c){return[2,new Promise(function(d){if("complete"!==document.readyState||a.hasCriticalPendingRequests()){var e=function(){"complete"!==document.readyState||a.hasCriticalPendingRequests()?setTimeout(e,100):
  d()};e();var f=a.detectSlowNetwork()?1E4:6E3;setTimeout(function(){d()},f)}else d()})]})})};b.prototype.startCommunicationElementWatcher=function(){var a=this,c=!1,d=null,e=function(){d&&(clearTimeout(d),d=null);if(a.recording&&a.recordingReady&&"hidden"!==document.visibilityState){var g=a.detectSlowNetwork()?1500:500;d=setTimeout(function(){if(a.recording&&a.recordingReady&&"function"===typeof ac.takeFullSnapshot){var h=function(){try{ac.takeFullSnapshot()}catch(k){}};"requestIdleCallback"in window?
  requestIdleCallback(h,{timeout:1E3}):setTimeout(h,0);d=null}},g)}},f=this.detectSlowNetwork()?2E3:500;this.detectionInterval=setInterval(function(){if(a.recording){var g,h,k,l;if(a.recording&&a.recordingReady&&!c){var n=null===(h=null===(g=a.sessionReplayConfig)||void 0===g?void 0:g.webRecorderConfiguration)||void 0===h?void 0:h.chatContainer;g=null===(l=null===(k=a.sessionReplayConfig)||void 0===k?void 0:k.webRecorderConfiguration)||void 0===l?void 0:l.chatRoot;if(n&&g&&(k=document.querySelector(n))&&
  k.shadowRoot){if(l=k=k.shadowRoot.querySelector(g))l=k.isConnected,n=!!k.shadowRoot,g=k.textContent&&0<k.textContent.trim().length,k=n&&0<k.shadowRoot.children.length,l=l&&(g||k||n);l&&(c=!0,e(),a.detectionInterval&&(clearInterval(a.detectionInterval),a.detectionInterval=null))}}}else a.detectionInterval&&(clearInterval(a.detectionInterval),a.detectionInterval=null)},f)};b.prototype.stopRecording=function(a){var c=this;void 0===a&&(a=!1);this.recording&&(this.recordingReady=this.recording=!1,this.stopFn&&
  (this.stopFn(),this.stopFn=null),this.detectionInterval&&(clearInterval(this.detectionInterval),this.detectionInterval=null),this.userInteractionHandlers&&(this.userInteractionHandlers.forEach(function(d){document.removeEventListener(d.event,d.handler)}),this.userInteractionHandlers=null),this.interactionTimeout&&(clearTimeout(this.interactionTimeout),this.interactionTimeout=null),document.removeEventListener("visibilitychange",this._handleVisibilityChange),a&&(this.worker.postMessage({type:"delete"}),
  this.tracker.setCustomTags({isSR:!1})),this.worker.onmessage=function(d){var e;if("deletion-complete"===(null===(e=d.data)||void 0===e?void 0:e.type)){try{c.worker.terminate()}catch(f){}try{URL.revokeObjectURL(c._workerUrl)}catch(f){}}})};b.prototype._handleVisibilityChange=function(){var a,c,d,e;if("visible"===document.visibilityState&&this.recording&&this.recordingReady){var f=null===(c=null===(a=this.sessionReplayConfig)||void 0===a?void 0:a.webRecorderConfiguration)||void 0===c?void 0:c.chatContainer;
  a=null===(e=null===(d=this.sessionReplayConfig)||void 0===d?void 0:d.webRecorderConfiguration)||void 0===e?void 0:e.chatRoot;if((d=f?document.querySelector(f):null)&&d.shadowRoot&&(d=a?d.shadowRoot.querySelector(a):null)&&d.isConnected)return;"function"===typeof ac.takeFullSnapshot&&(d=function(){try{ac.takeFullSnapshot()}catch(g){}},"requestIdleCallback"in window?requestIdleCallback(d,{timeout:1E3}):setTimeout(d,0))}};b.prototype.detectSlowNetwork=function(){if("connection"in navigator){var a=navigator.connection.effectiveType;
  if("slow-2g"===a||"2g"===a||"3g"===a||"slow-4g"===a)return!0}return!1};return b}(),Ld;(function(b){b[b.APP=0]="APP";b[b.REMOTE=1]="REMOTE";b[b.MERGE=2]="MERGE"})(Ld||(Ld={}));var hd={},jp=function(){return function(){this.outQueues=[];this.bufferFlushers=[];this.hasLoaded=!1;this.registeredOnLoadHandlers=[]}}();Wa.cleanup=function(b){Ab(b,function(a){a.clearTimers()});hp(b)};Wa.convivaAppTracker=function(b){void 0===b&&(b={});try{var a="undefined"!==typeof window?ip():void 0;if(a){var c=b.trackerVersionSuffix?
  "js-".concat("1.4.17"," ").concat(b.trackerVersionSuffix):"js-".concat("1.4.17");if(hd.hasOwnProperty("CAT"))var d=null;else hd.CAT=Yo("CAT","CAT",c,a,b),d=hd.CAT;return d}}catch(e){console.warn("Conviva App Tracker:: Initialisation failed! "+e)}};Wa.getClientId=function(){var b="";"undefined"!=typeof window&&(null===window||void 0===window?0:window.localStorage)&&(b=window.localStorage.getItem("Conviva.sdkConfig"),b=JSON.parse(b||"{}"),b="{}"===b||"undefined"===typeof b?"":b.clId);return b};Wa.setClientId=
  function(b){if(b&&"string"===typeof b)try{var a=b.split(".");if(4!==a.length)console.warn('Conviva App Tracker:: Invalid clientId format! It should be in the format of "x.x.x.x"');else if(!1===a.every(function(g){return/^\d+$/.test(g)}))console.warn("Conviva App Tracker:: Invalid clientId format! Every part of clientId should be numeric");else if("undefined"!=typeof window&&(null===window||void 0===window?0:window.localStorage)){var c=window.localStorage,d=c.getItem("Conviva.sdkConfig"),e=JSON.parse(d||
  "{}");"{}"===e||"undefined"===typeof e?e={clId:b}:e.clId=b;var f=JSON.stringify(e);c.setItem("Conviva.sdkConfig",f)}else console.warn("Conviva App Tracker:: window or local storage is not available")}catch(g){console.warn(g)}else console.warn("Conviva App Tracker:: Unable to set clinetId string!")};Wa.setConversationId=function(b,a){Ab(a,function(c){c.setConversationId(b)})};Wa.setCustomTags=function(b,a){Ab(a,function(c){try{c.setCustomTags(b)}catch(d){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})};
  Wa.setCustomUrl=function(b,a){Ab(a,function(c){c.setCustomUrl(b)})};Wa.setDocumentTitle=function(b,a){Ab(a,function(c){c.setDocumentTitle(b)})};Wa.setReferrerUrl=function(b,a){Ab(a,function(c){c.setReferrerUrl(b)})};Wa.setUserId=function(b,a){Ab(a,function(c){c.setUserId(b)})};Wa.trackButtonClick=function(b,a){Ab(a,function(c){try{c.trackButtonClick(b)}catch(d){console.warn("Conviva App Tracker:: Unable to track button click event! "+d)}})};Wa.trackCustomEvent=function(b,a){Ab(a,function(c){try{c.trackCustomEvent(b)}catch(d){console.warn("Conviva App Tracker:: Unable to track custom event! "+
  d)}})};Wa.trackError=function(b,a){Ab(a,function(c){try{c.trackErrorEvent(b)}catch(d){console.warn("Conviva App Tracker:: Unable to track error!")}})};Wa.trackLinkClick=function(b,a){Ab(a,function(c){try{c.trackLinkClick(b)}catch(d){console.warn("Conviva App Tracker:: Unable to track link click event! "+d)}})};Wa.trackPageView=function(b,a){Ab(a,function(c){c.trackPageView(b)})};Wa.unsetCustomTags=function(b,a){Ab(a,function(c){try{c.unsetCustomTags(b)}catch(d){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})};
  Wa.version="1.4.17";Object.defineProperty(Wa,"__esModule",{value:!0})})
  //# sourceMappingURL=conviva-eco-js-sensor.umd.min.js.map
  