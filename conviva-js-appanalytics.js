/*!
 * Browser tracker for Conviva v1.4.4-beta (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */

'use strict';(function(Va,Cc){"object"===typeof exports&&"undefined"!==typeof module?Cc(exports):"function"===typeof define&&define.amd?define(["exports"],Cc):(Va="undefined"!==typeof globalThis?globalThis:Va||self,Cc(Va.convivaBrowserTracking={}))})(this,function(Va){function Cc(b,a){(null==a||a>b.length)&&(a=b.length);for(var c=0,d=Array(a);c<a;c++)d[c]=b[c];return d}function Yh(b,a,c,d,e,f,g){try{var h=b[f](g),k=h.value}catch(m){return void c(m)}h.done?a(k):Promise.resolve(k).then(d,e)}function Zf(b){return function(){var a=
this,c=arguments;return new Promise(function(d,e){function f(k){Yh(h,d,e,f,g,"next",k)}function g(k){Yh(h,d,e,f,g,"throw",k)}var h=b.apply(a,c);f(void 0)})}}function lb(b,a,c){a=Dc(a);a=$f()?Reflect.construct(a,c||[],Dc(b).constructor):a.apply(b,c);if(!a||"object"!=typeof a&&"function"!=typeof a){if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}else b=a;
return b}function ia(b,a){if(!(b instanceof a))throw new TypeError("Cannot call a class as a function");}function Xl(b,a,c){if($f())return Reflect.construct.apply(null,arguments);var d=[null];d.push.apply(d,a);d=new (b.bind.apply(b,d));return c&&Pd(d,c.prototype),d}function Zh(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,$h(d.key),d)}}function ja(b,a,c){return a&&Zh(b.prototype,a),c&&Zh(b,c),Object.defineProperty(b,
"prototype",{writable:!1}),b}function Z(b,a){var c="undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(!c){if(Array.isArray(b)||(c=ag(b))||a&&b&&"number"==typeof b.length){c&&(b=c);var d=0;a=function(){};return{s:a,n:function(){return d>=b.length?{done:!0}:{done:!1,value:b[d++]}},e:function(h){throw h;},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var e,f=!0,g=!1;return{s:function(){c=
c.call(b)},n:function(){var h=c.next();return f=h.done,h},e:function(h){g=!0;e=h},f:function(){try{f||null==c.return||c.return()}finally{if(g)throw e;}}}}function bg(){return bg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(b,a,c){var d;for(d=b;!{}.hasOwnProperty.call(d,a)&&null!==(d=Dc(d)););if(d)return d=Object.getOwnPropertyDescriptor(d,a),d.get?d.get.call(3>arguments.length?b:c):d.value},bg.apply(null,arguments)}function Dc(b){return Dc=Object.setPrototypeOf?Object.getPrototypeOf.bind():
function(a){return a.__proto__||Object.getPrototypeOf(a)},Dc(b)}function mb(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}});Object.defineProperty(b,"prototype",{writable:!1});a&&Pd(b,a)}function Yl(b){try{return-1!==Function.toString.call(b).indexOf("[native code]")}catch(a){return"function"==typeof b}}function $f(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,
[],function(){}))}catch(a){}return($f=function(){return!!b})()}function ai(b,a){var c=Object.keys(b);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(b);a&&(d=d.filter(function(e){return Object.getOwnPropertyDescriptor(b,e).enumerable}));c.push.apply(c,d)}return c}function ma(b){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{};a%2?ai(Object(c),!0).forEach(function(d){var e=d;d=c[d];(e=$h(e))in b?Object.defineProperty(b,e,{value:d,enumerable:!0,configurable:!0,
writable:!0}):b[e]=d}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(c)):ai(Object(c)).forEach(function(d){Object.defineProperty(b,d,Object.getOwnPropertyDescriptor(c,d))})}return b}function Qd(b,a){if(null==b)return{};var c;if(null==b)var d={};else{var e={};for(c in b)({}).hasOwnProperty.call(b,c)&&!a.includes(c)&&(e[c]=b[c]);d=e}if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(b);for(c=0;c<f.length;c++)e=f[c],a.includes(e)||{}.propertyIsEnumerable.call(b,
e)&&(d[e]=b[e])}return d}function Eb(){function b(D,C,z){return Object.defineProperty(D,C,{value:z,enumerable:!0,configurable:!0,writable:!0}),D[C]}function a(D,C,z,P){C=Object.create((C&&C.prototype instanceof d?C:d).prototype);P=new t(P||[]);return y(C,"_invoke",{value:k(D,z,P)}),C}function c(D,C,z){try{return{type:"normal",arg:D.call(C,z)}}catch(P){return{type:"throw",arg:P}}}function d(){}function e(){}function f(){}function g(D){["next","throw","return"].forEach(function(C){b(D,C,function(z){return this._invoke(C,
z)})})}function h(D,C){function z(M,oa,fa,R){M=c(D[M],D,oa);if("throw"!==M.type){var wa=M.arg;return(M=wa.value)&&"object"==typeof M&&w.call(M,"__await")?C.resolve(M.__await).then(function(xa){z("next",xa,fa,R)},function(xa){z("throw",xa,fa,R)}):C.resolve(M).then(function(xa){wa.value=xa;fa(wa)},function(xa){return z("throw",xa,fa,R)})}R(M.arg)}var P;y(this,"_invoke",{value:function(M,oa){function fa(){return new C(function(R,wa){z(M,oa,R,wa)})}return P=P?P.then(fa,fa):fa()}})}function k(D,C,z){var P=
F;return function(M,oa){if(P===N)throw Error("Generator is already running");if(P===la){if("throw"===M)throw oa;return{value:q,done:!0}}z.method=M;for(z.arg=oa;;){if(M=z.delegate)if(M=m(M,z)){if(M===S)continue;return M}if("next"===z.method)z.sent=z._sent=z.arg;else if("throw"===z.method){if(P===F)throw P=la,z.arg;z.dispatchException(z.arg)}else"return"===z.method&&z.abrupt("return",z.arg);P=N;M=c(D,C,z);if("normal"===M.type){if(P=z.done?la:I,M.arg===S)continue;return{value:M.arg,done:z.done}}"throw"===
M.type&&(P=la,z.method="throw",z.arg=M.arg)}}}function m(D,C){var z=C.method,P=D.iterator[z];if(P===q)return C.delegate=null,"throw"===z&&D.iterator.return&&(C.method="return",C.arg=q,m(D,C),"throw"===C.method)||"return"!==z&&(C.method="throw",C.arg=new TypeError("The iterator does not provide a '"+z+"' method")),S;z=c(P,D.iterator,C.arg);return"throw"===z.type?(C.method="throw",C.arg=z.arg,C.delegate=null,S):(z=z.arg)?z.done?(C[D.resultName]=z.value,C.next=D.nextLoc,"return"!==C.method&&(C.method=
"next",C.arg=q),C.delegate=null,S):z:(C.method="throw",C.arg=new TypeError("iterator result is not an object"),C.delegate=null,S)}function u(D){var C={tryLoc:D[0]};1 in D&&(C.catchLoc=D[1]);2 in D&&(C.finallyLoc=D[2],C.afterLoc=D[3]);this.tryEntries.push(C)}function n(D){var C=D.completion||{};C.type="normal";delete C.arg;D.completion=C}function t(D){this.tryEntries=[{tryLoc:"root"}];D.forEach(u,this);this.reset(!0)}function l(D){if(D||""===D){var C=D[G];if(C)return C.call(D);if("function"==typeof D.next)return D;
if(!isNaN(D.length)){var z=-1;C=function M(){for(;++z<D.length;)if(w.call(D,z))return M.value=D[z],M.done=!1,M;return M.value=q,M.done=!0,M};return C.next=C}}throw new TypeError(typeof D+" is not iterable");}Eb=function(){return p};var q,p={},v=Object.prototype,w=v.hasOwnProperty,y=Object.defineProperty||function(D,C,z){D[C]=z.value},B="function"==typeof Symbol?Symbol:{},G=B.iterator||"@@iterator",H=B.asyncIterator||"@@asyncIterator",E=B.toStringTag||"@@toStringTag";try{b({},"")}catch(D){b=function(C,
z,P){return C[z]=P}}p.wrap=a;var F="suspendedStart",I="suspendedYield",N="executing",la="completed",S={};B={};b(B,G,function(){return this});var pa=Object.getPrototypeOf;(pa=pa&&pa(pa(l([]))))&&pa!==v&&w.call(pa,G)&&(B=pa);var Q=f.prototype=d.prototype=Object.create(B);return e.prototype=f,y(Q,"constructor",{value:f,configurable:!0}),y(f,"constructor",{value:e,configurable:!0}),e.displayName=b(f,E,"GeneratorFunction"),p.isGeneratorFunction=function(D){D="function"==typeof D&&D.constructor;return!!D&&
(D===e||"GeneratorFunction"===(D.displayName||D.name))},p.mark=function(D){return Object.setPrototypeOf?Object.setPrototypeOf(D,f):(D.__proto__=f,b(D,E,"GeneratorFunction")),D.prototype=Object.create(Q),D},p.awrap=function(D){return{__await:D}},g(h.prototype),b(h.prototype,H,function(){return this}),p.AsyncIterator=h,p.async=function(D,C,z,P,M){void 0===M&&(M=Promise);var oa=new h(a(D,C,z,P),M);return p.isGeneratorFunction(C)?oa:oa.next().then(function(fa){return fa.done?fa.value:oa.next()})},g(Q),
b(Q,E,"Generator"),b(Q,G,function(){return this}),b(Q,"toString",function(){return"[object Generator]"}),p.keys=function(D){var C=Object(D),z=[],P;for(P in C)z.push(P);return z.reverse(),function oa(){for(;z.length;){var fa=z.pop();if(fa in C)return oa.value=fa,oa.done=!1,oa}return oa.done=!0,oa}},p.values=l,t.prototype={constructor:t,reset:function(D){if(this.prev=0,this.next=0,this.sent=this._sent=q,this.done=!1,this.delegate=null,this.method="next",this.arg=q,this.tryEntries.forEach(n),!D)for(var C in this)"t"===
C.charAt(0)&&w.call(this,C)&&!isNaN(+C.slice(1))&&(this[C]=q)},stop:function(){this.done=!0;var D=this.tryEntries[0].completion;if("throw"===D.type)throw D.arg;return this.rval},dispatchException:function(D){function C(wa,xa){return oa.type="throw",oa.arg=D,z.next=wa,xa&&(z.method="next",z.arg=q),!!xa}if(this.done)throw D;for(var z=this,P=this.tryEntries.length-1;0<=P;--P){var M=this.tryEntries[P],oa=M.completion;if("root"===M.tryLoc)return C("end");if(M.tryLoc<=this.prev){var fa=w.call(M,"catchLoc"),
R=w.call(M,"finallyLoc");if(fa&&R){if(this.prev<M.catchLoc)return C(M.catchLoc,!0);if(this.prev<M.finallyLoc)return C(M.finallyLoc)}else if(fa){if(this.prev<M.catchLoc)return C(M.catchLoc,!0)}else{if(!R)throw Error("try statement without catch or finally");if(this.prev<M.finallyLoc)return C(M.finallyLoc)}}}},abrupt:function(D,C){for(var z=this.tryEntries.length-1;0<=z;--z){var P=this.tryEntries[z];if(P.tryLoc<=this.prev&&w.call(P,"finallyLoc")&&this.prev<P.finallyLoc){var M=P;break}}M&&("break"===
D||"continue"===D)&&M.tryLoc<=C&&C<=M.finallyLoc&&(M=null);z=M?M.completion:{};return z.type=D,z.arg=C,M?(this.method="next",this.next=M.finallyLoc,S):this.complete(z)},complete:function(D,C){if("throw"===D.type)throw D.arg;return"break"===D.type||"continue"===D.type?this.next=D.arg:"return"===D.type?(this.rval=this.arg=D.arg,this.method="return",this.next="end"):"normal"===D.type&&C&&(this.next=C),S},finish:function(D){for(var C=this.tryEntries.length-1;0<=C;--C){var z=this.tryEntries[C];if(z.finallyLoc===
D)return this.complete(z.completion,z.afterLoc),n(z),S}},catch:function(D){for(var C=this.tryEntries.length-1;0<=C;--C){var z=this.tryEntries[C];if(z.tryLoc===D){D=z.completion;if("throw"===D.type){var P=D.arg;n(z)}return P}}throw Error("illegal catch attempt");},delegateYield:function(D,C,z){return this.delegate={iterator:l(D),resultName:C,nextLoc:z},"next"===this.method&&(this.arg=q),S}},p}function Pd(b,a){return Pd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,d){return c.__proto__=
d,c},Pd(b,a)}function Xa(b,a){var c=Array.isArray(b)?b:void 0;if(!c)a:{var d=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=d){var e,f,g,h=[],k=!0,m=!1;try{if(f=(d=d.call(b)).next,0===a){if(Object(d)!==d){c=void 0;break a}k=!1}else for(;!(k=(e=f.call(d)).done)&&(h.push(e.value),h.length!==a);k=!0);}catch(n){m=!0;var u=n}finally{try{if(!k&&null!=d.return&&(g=d.return(),Object(g)!==g)){c=void 0;break a}}finally{if(m)throw u;}}c=h}else c=void 0}if(!(b=c||ag(b,a)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
return b}function Lb(b,a,c,d){var e=bg(Dc(1&d?b.prototype:b),a,c);return 2&d&&"function"==typeof e?function(f){return e.apply(c,f)}:e}function Yb(b){var a=Array.isArray(b)?Cc(b):void 0;a||(a="undefined"!=typeof Symbol&&null!=b[Symbol.iterator]||null!=b["@@iterator"]?Array.from(b):void 0);if(!(b=a||ag(b)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return b}function $h(b){a:if("object"==
typeof b&&b){var a=b[Symbol.toPrimitive];if(void 0!==a){b=a.call(b,"string");if("object"!=typeof b)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}return"symbol"==typeof b?b:b+""}function W(b){"@babel/helpers - typeof";return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},W(b)}function ag(b,a){if(b){if("string"==
typeof b)return Cc(b,a);var c={}.toString.call(b).slice(8,-1);return"Object"===c&&b.constructor&&(c=b.constructor.name),"Map"===c||"Set"===c?Array.from(b):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Cc(b,a):void 0}}function Ke(b){var a="function"==typeof Map?new Map:void 0;return Ke=function(c){function d(){return Xl(c,arguments,Dc(this).constructor)}if(null===c||!Yl(c))return c;if("function"!=typeof c)throw new TypeError("Super expression must either be null or a function");
if(void 0!==a){if(a.has(c))return a.get(c);a.set(c,d)}return d.prototype=Object.create(c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),Pd(d,c)},Ke(b)}function Zl(b,a,c,d){function e(f){return f instanceof c?f:new c(function(g){g(f)})}return new (c||(c=Promise))(function(f,g){function h(u){try{m(d.next(u))}catch(n){g(n)}}function k(u){try{m(d["throw"](u))}catch(n){g(n)}}function m(u){u.done?f(u.value):e(u.value).then(h,k)}m((d=d.apply(b,a||[])).next())})}function $l(b,
a){function c(m){return function(u){return d([m,u])}}function d(m){if(f)throw new TypeError("Generator is already executing.");for(;e;)try{if(f=1,g&&(h=m[0]&2?g["return"]:m[0]?g["throw"]||((h=g["return"])&&h.call(g),0):g.next)&&!(h=h.call(g,m[1])).done)return h;if(g=0,h)m=[m[0]&2,h.value];switch(m[0]){case 0:case 1:h=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++;g=m[1];m=[0];continue;case 7:m=e.ops.pop();e.trys.pop();continue;default:if(!(h=e.trys,h=0<h.length&&h[h.length-
1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!h||m[1]>h[0]&&m[1]<h[3]))e.label=m[1];else if(6===m[0]&&e.label<h[1])e.label=h[1],h=m;else if(h&&e.label<h[2])e.label=h[2],e.ops.push(m);else{h[2]&&e.ops.pop();e.trys.pop();continue}}m=a.call(b,e)}catch(u){m=[6,u],g=0}finally{f=h=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}var e={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},f,g,h,k;return k={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&
(k[Symbol.iterator]=function(){return this}),k}function cb(b,a,c){if(c||2===arguments.length)for(var d=0,e=a.length,f;d<e;d++)!f&&d in a||(f||(f=Array.prototype.slice.call(a,0,d)),f[d]=a[d]);return b.concat(f||Array.prototype.slice.call(a))}function am(b){var a=0,c=0;var d="";var e=[];if(!b)return b;b+="";do{var f=yb.indexOf(b.charAt(a++));var g=yb.indexOf(b.charAt(a++));d=yb.indexOf(b.charAt(a++));var h=yb.indexOf(b.charAt(a++));var k=f<<18|g<<12|d<<6|h;f=k>>16&255;g=k>>8&255;k&=255;64===d?e[c++]=
String.fromCharCode(f):64===h?e[c++]=String.fromCharCode(f,g):e[c++]=String.fromCharCode(f,g,k)}while(a<b.length);d=e.join("");return function(m){return decodeURIComponent(m.split("").map(function(u){return"%"+("00"+u.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(d.replace(/\0+$/,""))}function bm(b){b=unescape(encodeURIComponent(b));for(var a="",c=0;c<b.length;){var d=b.charCodeAt(c++),e=b.charCodeAt(c++),f=b.charCodeAt(c++),g=d>>2;d=(d&3)<<4|e>>4;e=isNaN(e)?64:(e&15)<<2|f>>6;f=isNaN(f)?64:f&
63;a+=yb.charAt(g)+yb.charAt(d)+yb.charAt(e)+yb.charAt(f)}return a}function cg(){var b={},a=[],c=[],d=[],e,f=function(g,h){null!=h&&""!==h&&(b[g]=h)};return{add:f,addDict:function(g){for(var h in g)Object.prototype.hasOwnProperty.call(g,h)&&f(h,g[h])},addJson:function(g,h,k){k&&bi(k)&&(g={keyIfEncoded:g,keyIfNotEncoded:h,json:k},c.push(g),a.push(g))},addContextEntity:function(g){d.push(g)},getPayload:function(){return b},getJson:function(){return a},withJsonProcessor:function(g){e=g},build:function(){null===
e||void 0===e?void 0:e(this,c,d);return b}}}function cm(b){return function(a,c,d){for(var e=function(m,u,n){m=JSON.stringify(m);if(b){n=a.add;if(m){var t=0,l=0,q=[];if(m){m=unescape(encodeURIComponent(m));do{var p=m.charCodeAt(t++);var v=m.charCodeAt(t++);var w=m.charCodeAt(t++);var y=p<<16|v<<8|w;p=y>>18&63;v=y>>12&63;w=y>>6&63;y&=63;q[l++]=yb.charAt(p)+yb.charAt(v)+yb.charAt(w)+yb.charAt(y)}while(t<m.length);t=q.join("");m=m.length%3;m=(m?t.slice(0,m-3):t)+"===".slice(m||3)}m=m.replace(/=/g,"").replace(/\+/g,
"-").replace(/\//g,"_")}n.call(a,u,m)}else a.add(n,m)},f=function(m,u){if(!m){var n=a.getPayload();if(b?n.cx:n.co){m=JSON;var t=m.parse;if(b){if(n=n.cx){switch(4-n.length%4){case 2:n+="==";break;case 3:n+="="}n=n.replace(/-/g,"+").replace(/_/g,"/");n=am(n)}}else n=n.co;m=t.call(m,n)}else m=void 0}m?m.dt=m.dt.concat(u.dt):m=u;return m},g=void 0,h=0;h<c.length;h++){var k=c[h];"cx"===k.keyIfEncoded?g=f(g,k.json):e(k.json,k.keyIfEncoded,k.keyIfNotEncoded)}c.length=0;d.length&&(c={sc:"sp/ctx/1-0-0",dt:cb([],
d,!0)},g=f(g,c),d.length=0);g&&e(g,"cx","co")}}function bi(b){if(!ci(b))return!1;for(var a in b)if(Object.prototype.hasOwnProperty.call(b,a))return!0;return!1}function ci(b){return"undefined"!==typeof b&&null!==b&&(b.constructor==={}.constructor||b.constructor===[].constructor)}function dm(){var b=[],a=[];return{getGlobalPrimitives:function(){return b},getConditionalProviders:function(){return a},addGlobalContexts:function(c){for(var d=[],e=[],f=0;f<c.length;f++){var g=c[f];di(g)?d.push(g):kd(g)&&
e.push(g)}b=b.concat(e);a=a.concat(d)},clearGlobalContexts:function(){a=[];b=[]},removeGlobalContexts:function(c){for(var d=function(f){di(f)?a=a.filter(function(g){return JSON.stringify(g)!==JSON.stringify(f)}):kd(f)&&(b=b.filter(function(g){return JSON.stringify(g)!==JSON.stringify(f)}))},e=0;e<c.length;e++)d(c[e])},getApplicableContexts:function(c){a:{var d=0;for(var e=c.getJson();d<e.length;d++){var f=e[d];if("ue_px"===f.keyIfEncoded&&"object"===W(f.json.data)&&(f=f.json.data.schema,"string"==
typeof f)){d=f;break a}}d=""}e=c.getPayload().e;f="string"===typeof e?e:"";e=[];var g=dg(b,c,f,d);e.push.apply(e,g);c=em(a,c,f,d);e.push.apply(e,c);return e}}}function fm(b){return{addPluginContexts:function(a){var c=a?cb([],a,!0):[];b.forEach(function(d){try{d.contexts&&c.push.apply(c,d.contexts())}catch(e){qa.error("Error adding plugin contexts",e)}});return c}}}function ei(b){for(var a,c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];return null!==(a=null===b||void 0===b?void 0:b.map(function(e){if("function"===
typeof e)try{return e.apply(void 0,c)}catch(f){}else return e}).filter(Boolean))&&void 0!==a?a:[]}function gm(b){if("*"===b[0]||"*"===b[1])return!1;if(0<b.slice(2).length){var a=!1,c=0;for(b=b.slice(2);c<b.length;c++)if("*"===b[c])a=!0;else if(a)return!1;return!0}return 2==b.length?!0:!1}function fi(b){return(b=b.split("."))&&1<b.length?gm(b):!1}function gi(b){b=/^iglu:((?:(?:[a-zA-Z0-9-_]+|\*).)+(?:[a-zA-Z0-9-_]+|\*))\/([a-zA-Z0-9-_.]+|\*)\/jsonschema\/([1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)$/.exec(b);
if(null!==b&&fi(b[1]))return b.slice(1,6)}function eg(b){if(b=gi(b)){var a=b[0];return 5===b.length&&fi(a)}return!1}function hm(b){return Array.isArray(b)&&b.every(function(a){return"string"===typeof a})}function hi(b){return hm(b)?b.every(function(a){return eg(a)}):"string"===typeof b?eg(b):!1}function Rd(b){return bi(b)&&"sc"in b&&"dt"in b?"string"===typeof b.sc&&"object"===W(b.dt):!1}function im(b){var a=0;if(null!=b&&"object"===W(b)&&!Array.isArray(b)){if(Object.prototype.hasOwnProperty.call(b,
"accept"))if(hi(b.accept))a+=1;else return!1;if(Object.prototype.hasOwnProperty.call(b,"reject"))if(hi(b.reject))a+=1;else return!1;return 0<a&&2>=a}return!1}function Le(b){return"function"===typeof b&&1>=b.length}function kd(b){return Le(b)||Rd(b)}function ii(b){return Array.isArray(b)&&2===b.length?Array.isArray(b[1])?Le(b[0])&&b[1].every(kd):Le(b[0])&&kd(b[1]):!1}function ji(b){return Array.isArray(b)&&2===b.length?im(b[0])?Array.isArray(b[1])?b[1].every(kd):kd(b[1]):!1:!1}function di(b){return ii(b)||
ji(b)}function jm(b,a){var c=0,d=0,e=b.accept;Array.isArray(e)?b.accept.some(function(f){return Me(f,a)})&&d++:"string"===typeof e&&Me(e,a)&&d++;e=b.reject;Array.isArray(e)?b.reject.some(function(f){return Me(f,a)})&&c++:"string"===typeof e&&Me(e,a)&&c++;return 0<d&&0===c?!0:!1}function Me(b,a){if(!eg(b))return!1;b=gi(b);a=/^iglu:([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_]+)\/jsonschema\/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$/.exec(a);a=null!==a?a.slice(1,6):void 0;if(b&&a){if(!km(b[0],a[0]))return!1;
for(var c=1;5>c;c++)if(!ki(b[c],a[c]))return!1;return!0}return!1}function km(b,a){a=a.split(".");b=b.split(".");if(a&&b){if(a.length!==b.length)return!1;for(var c=0;c<b.length;c++)if(!ki(a[c],b[c]))return!1;return!0}return!1}function ki(b,a){return b&&a&&"*"===b||b===a}function li(b){return Array.isArray(b)?b:[b]}function dg(b,a,c,d){var e;b=li(b).map(function(f){a:if(Rd(f))f=[f];else{if(Le(f)){b:{var g=void 0;try{var h={event:a.getPayload(),eventType:c,eventSchema:d};g=f(h);if(Array.isArray(g)&&
g.every(Rd)||Rd(g)){var k=g;break b}k=void 0;break b}catch(m){}k=void 0}if(Rd(k)){f=[k];break a}else if(Array.isArray(k)){f=k;break a}}f=void 0}if(f&&0!==f.length)return f});return(e=[]).concat.apply(e,b.filter(function(f){return null!=f&&f.filter(Boolean)}))}function em(b,a,c,d){var e;b=li(b).map(function(f){a:{if(ii(f)){var g=f[0],h=!1;try{var k={event:a.getPayload(),eventType:c,eventSchema:d};h=g(k)}catch(m){h=!1}if(!0===h){f=dg(f[1],a,c,d);break a}}else if(ji(f)&&jm(f[0],d)){f=dg(f[1],a,c,d);
break a}f=[]}if(f&&0!==f.length)return f});return(e=[]).concat.apply(e,b.filter(function(f){return null!=f&&f.filter(Boolean)}))}function lm(b){return null==b?{type:"dtm",value:(new Date).getTime()}:"number"===typeof b?{type:"dtm",value:b}:"ttm"===b.type?{type:"ttm",value:b.value}:{type:"dtm",value:b.value||(new Date).getTime()}}function mm(b){void 0===b&&(b={});var a=b.base64,c=b.corePlugins,d=null!==c&&void 0!==c?c:[];a=function(f,g,h){function k(l,q){l=u.getApplicableContexts(l);var p=[];q&&q.length&&
p.push.apply(p,q);l&&l.length&&p.push.apply(p,l);return p}var m=fm(g),u=dm(),n=f,t={};return{track:function(l,q,p){l.withJsonProcessor(cm(n));l.add("eid",ic.v4());l.addDict(t);p=lm(p);l.add(p.type,p.value.toString());q=k(l,m.addPluginContexts(q));q=q&&q.length?{sc:"sp/ctx/1-0-0",dt:q}:void 0;void 0!==q&&l.addJson("cx","co",q);g.forEach(function(w){try{w.beforeTrack&&w.beforeTrack(l)}catch(y){qa.error("Plugin beforeTrack",y)}});"function"===typeof h&&h(l);var v=l.build();g.forEach(function(w){try{w.afterTrack&&
w.afterTrack(v)}catch(y){qa.error("Plugin afterTrack",y)}});return v},addPayloadPair:function(l,q){t[l]=q},configuration:b,getConfig:function(){return b},setConfig:function(l){l&&("undefined"!==typeof l.base64&&(n=b.base64=l.base64),"undefined"!==typeof l.lifecycleAutotracking&&(b.lifecycleAutotracking=l.lifecycleAutotracking),"undefined"!==typeof l.cacheRefreshInterval&&(b.cacheRefreshInterval=l.cacheRefreshInterval),"undefined"!==typeof l.exceptionAutotracking&&(b.exceptionAutotracking=l.exceptionAutotracking),
"undefined"!==typeof l.enablePeriodicHeartbeat&&(b.enablePeriodicHeartbeat=l.enablePeriodicHeartbeat),"undefined"!==typeof l.periodicHeartbeatInterval&&(b.periodicHeartbeatInterval=l.periodicHeartbeatInterval),"undefined"!==typeof l.enc&&(b.enc=l.enc),"undefined"!==typeof l.mend&&(b.mend=l.mend),"undefined"!==typeof l.maxLocalStorageQueueSize&&(b.maxLocalStorageQueueSize=l.maxLocalStorageQueueSize),"undefined"!==typeof l.maxGetBytes&&(b.maxGetBytes=l.maxGetBytes),"undefined"!==typeof l.bufferSize&&
(b.bufferSize=l.bufferSize),"undefined"!==typeof l.customEventTrackingConfiguration&&(b.customEventTrackingConfiguration=l.customEventTrackingConfiguration),"undefined"!==typeof l.networkRequestTrackingConfiguration&&(b.networkRequestTrackingConfiguration=l.networkRequestTrackingConfiguration),"undefined"!==typeof l.traceparentconfig&&(b.traceparentconfig=l.traceparentconfig),"undefined"!==typeof l.metaTagsTrackingConfiguration&&(b.metaTagsTrackingConfiguration=l.metaTagsTrackingConfiguration),"undefined"!==
typeof l.evtStreamTrackingConfiguration&&(b.evtStreamTrackingConfiguration=l.evtStreamTrackingConfiguration),"undefined"!==typeof l.performanceContextConfig&&(b.performanceContextConfig=l.performanceContextConfig),"undefined"!==typeof l.configurationVersion&&(b.configurationVersion=l.configurationVersion),"undefined"!==typeof l.catRcLastUpdatedTs&&(b.catRcLastUpdatedTs=l.catRcLastUpdatedTs),"undefined"!==typeof l.endpoint&&(b.endpoint=l.endpoint),"undefined"!==typeof l.controlIngestConfig&&(b.controlIngestConfig=
l.controlIngestConfig),"undefined"!==typeof l.applicationContext&&(b.applicationContext=l.applicationContext),"undefined"!==typeof l.emitterConfiguration&&(b.emitterConfiguration=l.emitterConfiguration),"undefined"!==typeof l.di&&(b.di=l.di),"undefined"!==typeof l.clickcc&&(b.clickcc=l.clickcc),"undefined"!==typeof l.collectionRateLimit&&(b.collectionRateLimit=l.collectionRateLimit),b.pageUrlTrackingConfig="undefined"!==typeof l.pageUrlTrackingConfig?l.pageUrlTrackingConfig:null,b.sessionReplayConfiguration=
"undefined"!==typeof l.sessionReplayConfiguration?l.sessionReplayConfiguration:null)},getBase64Encoding:function(){return n},setBase64Encoding:function(l){n=l},addPayloadDict:function(l){for(var q in l)Object.prototype.hasOwnProperty.call(l,q)&&(t[q]=l[q])},resetPayloadPairs:function(l){t=ci(l)?l:{}},setTrackerVersion:function(l){t.tv=l},setTrackerNamespace:function(l){t.tna=l},setAppId:function(l){t.aid=l},setPlatform:function(l){t.p=l},setUserId:function(l){t.uid=l},setScreenResolution:function(l,
q){t.res=l+"x"+q},setViewport:function(l,q){t.vp=l+"x"+q},setColorDepth:function(l){t.cd=l},setTimezone:function(l){t.tz=l},setLang:function(l){t.lang=l},setIpAddress:function(l){t.ip=l},setUseragent:function(l){t.ua=l},addGlobalContexts:function(l){u.addGlobalContexts(l)},clearGlobalContexts:function(){u.clearGlobalContexts()},removeGlobalContexts:function(l){u.removeGlobalContexts(l)}}}(null!==a&&void 0!==a?a:!0,d,b.callback);var e=ha(ha({},a),{addPlugin:function(f){var g,h;f=f.plugin;d.push(f);
null===(g=f.logger)||void 0===g?void 0:g.call(f,qa);null===(h=f.activateCorePlugin)||void 0===h?void 0:h.call(f,e)}});null===d||void 0===d?void 0:d.forEach(function(f){var g,h;null===(g=f.logger)||void 0===g?void 0:g.call(f,qa);null===(h=f.activateCorePlugin)||void 0===h?void 0:h.call(f,e)});return e}function Ec(b){var a=b.event;b=a.sc;var c=a.dt;a=cg();b={sc:"sp/ue/1-0-0",dt:{sc:b,dt:c}};a.add("e","ue");a.addJson("ue_px","ue_pr",b);return a}function nm(b){var a=b.pageUrl,c=b.pageTitle;b=b.referrer;
var d=cg();d.add("e","pv");d.add("url",a);d.add("page",c);d.add("refr",b);return d}function Sd(b){return Ec({event:{sc:"cv/re/1-0-1",dt:ld({name:b.name,data:b.data})}})}function om(b){return Ec({event:{sc:"cv/ve/1-0-5",dt:ld({name:b.name,sid:b.sid,iid:b.iid,clid:b.clid,st:b.st,sst:b.sst,an:b.an,cl:b.cl,lv:b.lv,pn:b.pn,vid:b.vid,fw:b.fw,fwv:b.fwv,mn:b.mn,mv:b.mv,url:b.url,tags:b.tags,cen:b.cen,ced:b.ced,oldsc:b.oldsc,newsc:b.newsc,err:b.err,br:b.br,ft:b.ft,avgbr:b.avgbr})}})}function ld(b,a){void 0===
a&&(a={});var c={},d;for(d in b)if(a[d]||null!==b[d]&&"undefined"!==typeof b[d])c[d]=b[d];return c}function md(b){let a=b.length;for(;0<=--a;)b[a]=0}function fg(b,a,c,d,e){this.static_tree=b;this.extra_bits=a;this.extra_base=c;this.elems=d;this.max_length=e;this.has_stree=b&&b.length}function gg(b,a){this.dyn_tree=b;this.max_code=0;this.stat_desc=a}function Mb(b,a,c,d,e){this.good_length=b;this.max_lazy=a;this.nice_length=c;this.max_chain=d;this.func=e}function pm(){this.strm=null;this.status=0;this.pending_buf=
null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=Ne;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=
this.hash_size=this.ins_h=0;this.dyn_ltree=new Uint16Array(1146);this.dyn_dtree=new Uint16Array(122);this.bl_tree=new Uint16Array(78);jc(this.dyn_ltree);jc(this.dyn_dtree);jc(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new Uint16Array(16);this.heap=new Uint16Array(573);jc(this.heap);this.heap_max=this.heap_len=0;this.depth=new Uint16Array(573);jc(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.sym_end=this.sym_next=this.lit_bufsize=
this.sym_buf=0}function Td(b){b=this.options=Oe.assign({level:qm,method:rm,chunkSize:16384,windowBits:15,memLevel:8,strategy:sm},b||{});b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&16>b.windowBits&&(b.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new mi;this.strm.avail_out=0;let a=Ud.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(a!==Pe)throw Error(Fc[a]);b.header&&Ud.deflateSetHeader(this.strm,b.header);if(b.dictionary){b=
"string"===typeof b.dictionary?Vd.string2buf(b.dictionary):"[object ArrayBuffer]"===ni.call(b.dictionary)?new Uint8Array(b.dictionary):b.dictionary;a=Ud.deflateSetDictionary(this.strm,b);if(a!==Pe)throw Error(Fc[a]);this._dict_set=!0}}function hg(b,a){a=new Td(a);a.push(b,!0);if(a.err)throw a.msg||Fc[a.err];return a.result}function tm(){this.strm=null;this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=
this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new Uint16Array(320);this.work=new Uint16Array(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function Wd(b){let a=this.options=Oe.assign({chunkSize:65536,windowBits:15,to:""},b||{});a.raw&&0<=a.windowBits&&16>a.windowBits&&(a.windowBits=-a.windowBits,0===a.windowBits&&
(a.windowBits=-15));!(0<=a.windowBits&&16>a.windowBits)||b&&b.windowBits||(a.windowBits+=32);15<a.windowBits&&48>a.windowBits&&0===(a.windowBits&15)&&(a.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new mi;this.strm.avail_out=0;b=Zb.inflateInit2(this.strm,a.windowBits);if(b!==Xd)throw Error(Fc[b]);this.header=new um;Zb.inflateGetHeader(this.strm,this.header);if(a.dictionary&&("string"===typeof a.dictionary?a.dictionary=Vd.string2buf(a.dictionary):"[object ArrayBuffer]"===
oi.call(a.dictionary)&&(a.dictionary=new Uint8Array(a.dictionary)),a.raw&&(b=Zb.inflateSetDictionary(this.strm,a.dictionary),b!==Xd)))throw Error(Fc[b]);}function ig(b,a){a=new Wd(a);a.push(b);if(a.err)throw a.msg||Fc[a.err];return a.result}function jg(b){if(Qe[b])return Qe[b];var a=globalThis[b],c=a.prototype,d=b in pi?pi[b]:void 0;d=!(!d||!d.every(function(k){var m,u;return!(null==(u=null==(m=Object.getOwnPropertyDescriptor(c,k))?void 0:m.get)||!u.toString().includes("[native code]"))}));var e=
b in qi?qi[b]:void 0;e=!(!e||!e.every(function(k){var m;return"function"===typeof c[k]&&(null==(m=c[k])?void 0:m.toString().includes("[native code]"))}));if(d&&e&&!globalThis.Zone)return Qe[b]=a.prototype;try{var f=document.createElement("iframe");document.body.appendChild(f);var g=f.contentWindow;if(!g)return a.prototype;var h=g[b].prototype;document.body.removeChild(f);return h?Qe[b]=h:c}catch(k){return c}}function kc(b,a,c){var d,e="".concat(b,".").concat(String(c));if(kg[e])return kg[e].call(a);
b=jg(b);b=null==(d=Object.getOwnPropertyDescriptor(b,c))?void 0:d.get;if(!b)return a[c];kg[e]=b;return b.call(a)}function ri(b,a,c){var d="".concat(b,".").concat(String(c));if(lg[d])return lg[d].bind(a);b=jg(b)[c];if("function"!==typeof b)return a[c];lg[d]=b;return b.bind(a)}function Yd(b){var a=b&&"host"in b&&"mode"in b&&nb.host(b)||null;return!!(a&&"shadowRoot"in a&&nb.shadowRoot(a)===b)}function Zd(b){return"[object ShadowRoot]"===Object.prototype.toString.call(b)}function vm(b){b.includes(" background-clip: text;")&&
!b.includes(" -webkit-background-clip: text;")&&(b=b.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;"));return b}function mg(b){try{var a=b.rules||b.cssRules;if(!a)return null;var c=b.href;!c&&b.ownerNode&&b.ownerNode.ownerDocument&&(c=b.ownerNode.ownerDocument.location.href);var d=Array.from(a,function(e){return si(e,c)}).join("");return vm(d)}catch(e){return null}}function si(b,a){if("styleSheet"in b){try{var c;if(!(c=mg(b.styleSheet))){var d=b.cssText;
if(3>d.split('"').length)c=d;else{var e=["@import","url(".concat(JSON.stringify(b.href),")")];""===b.layerName?e.push("layer"):b.layerName&&e.push("layer(".concat(b.layerName,")"));b.supportsText&&e.push("supports(".concat(b.supportsText,")"));b.media.length&&e.push(b.media.mediaText);c=e.join(" ")+";"}}var f=c}catch(g){f=b.cssText}return b.styleSheet.href?Re(f,b.styleSheet.href):f}f=b.cssText;"selectorText"in b&&b.selectorText.includes(":")&&(f=f.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2"));
return a?Re(f,a):f}function ng(b){var a=b.element,c=b.maskInputOptions,d=b.tagName,e=b.type,f=b.maskInputFn;b=b.value||"";e=e&&e.toLowerCase();if(c[d.toLowerCase()]||e&&c[e])b=f?f(b,a):"*".repeat(b.length);return b}function wm(b){var a=b.getContext("2d");if(!a)return!0;for(var c=0;c<b.width;c+=50)for(var d=0;d<b.height;d+=50){var e=a.getImageData;if((new Uint32Array(("__rrweb_original__"in e?e.__rrweb_original__:e).call(a,c,d,Math.min(50,b.width-c),Math.min(50,b.height-d)).data.buffer)).some(function(f){return 0!==
f}))return!1}return!0}function og(b){var a=b.type;return b.hasAttribute("data-rr-is-password")?"password":a?a.toLowerCase():null}function ti(b,a){var c;try{var d=new URL(b,null!==a&&void 0!==a?a:window.location.href)}catch(e){return null}b=d.pathname.match(/\.([0-9a-z]+)(?:$)/i);return null!==(c=null==b?void 0:b[1])&&void 0!==c?c:null}function Re(b,a){return(b||"").replace(xm,function(c,d,e,f,g,h){e=e||g||h;d=d||f||"";if(!e)return c;if(ym.test(e)||zm.test(e)||Am.test(e))return"url(".concat(d).concat(e).concat(d,
")");if("/"===e[0]){var k="url(".concat(d),m=k.concat;c=-1<a.indexOf("//")?a.split("/").slice(0,3).join("/"):a.split("/")[0];c=c.split("?")[0];return m.call(k,c+e).concat(d,")")}c=a.split("/");e=e.split("/");c.pop();e=Z(e);try{for(e.s();!(k=e.n()).done;)m=k.value,"."!==m&&(".."===m?c.pop():c.push(m))}catch(u){e.e(u)}finally{e.f()}return"url(".concat(d).concat(c.join("/")).concat(d,")")})}function pg(b){return b.replace(/(\/\*[^*]*\*\/)|[\s;]/g,"")}function Bm(b,a){a=Array.from(a.childNodes);var c=
[];if(1<a.length&&b&&"string"===typeof b)for(var d=pg(b),e=1;e<a.length;e++)if(a[e].textContent&&"string"===typeof a[e].textContent)for(var f=pg(a[e].textContent),g=3;g<f.length;g++){var h=f.substring(0,g);if(2===d.split(h).length){for(g=f=d.indexOf(h);g<b.length;g++)if(pg(b.substring(0,g)).length===f){c.push(b.substring(0,g));b=b.substring(g);break}break}}c.push(b);return c}function Cm(){return ui++}function Dm(b){if(b instanceof HTMLFormElement)return"form";b=b.tagName.toLowerCase();return Em.test(b)?
"div":b}function Fm(b,a){function c(m){return(m=m.exec(a.substring(d)))?(m=m[0],d+=m.length,m):""}if(""===a.trim())return a;for(var d=0,e=[];;){c(Gm);if(d>=a.length)break;var f=c(Hm);if(","===f.slice(-1))f=Se(b,f.substring(0,f.length-1)),e.push(f);else{var g="";f=Se(b,f);for(var h=!1;;){var k=a.charAt(d);if(""===k){e.push((f+g).trim());break}else if(h)")"===k&&(h=!1);else if(","===k){d+=1;e.push((f+g).trim());break}else"("===k&&(h=!0);g+=k;d+=1}}}return e.join(", ")}function Se(b,a){return a&&""!==
a.trim()?qg(b,a):a}function qg(b,a){var c=vi.get(b);c||(c=b.createElement("a"),vi.set(b,c));if(!a)a="";else if(a.startsWith("blob:")||a.startsWith("data:"))return a;c.setAttribute("href",a);return c.href}function wi(b,a,c,d){return d?"src"===c||"href"===c&&("use"!==a||"#"!==d[0])||"xlink:href"===c&&"#"!==d[0]||"background"===c&&("table"===a||"td"===a||"th"===a)?Se(b,d):"srcset"===c?Fm(b,d):"style"===c?Re(d,qg(b)):"object"===a&&"data"===c?Se(b,d):d:d}function xi(b,a,c){return("video"===b||"audio"===
b)&&"autoplay"===a}function Im(b,a,c){try{if("string"===typeof a){if(b.classList.contains(a))return!0}else for(var d=b.classList.length;d--;)if(a.test(b.classList[d]))return!0;if(c)return b.matches(c)}catch(e){}return!1}function Te(b,a,c){if(!b)return!1;if(b.nodeType!==b.ELEMENT_NODE)return c?Te(nb.parentNode(b),a,c):!1;for(var d=b.classList.length;d--;)if(a.test(b.classList[d]))return!0;return c?Te(nb.parentNode(b),a,c):!1}function yi(b,a,c,d){if(b.nodeType===b.ELEMENT_NODE){if(!nb.childNodes(b).length)return!1}else{if(null===
nb.parentElement(b))return!1;b=nb.parentElement(b)}try{if("string"===typeof a)if(d){if(b.closest(".".concat(a)))return!0}else{if(b.classList.contains(a))return!0}else if(Te(b,a,d))return!0;if(c)if(d){if(b.closest(c))return!0}else if(b.matches(c))return!0}catch(e){}return!1}function Jm(b,a,c){var d=b.contentWindow;if(d){var e=!1;try{var f=d.document.readyState}catch(h){return}if("complete"!==f){var g=setTimeout(function(){e||(a(),e=!0)},c);b.addEventListener("load",function(){clearTimeout(g);e=!0;
a()})}else{if("about:blank"!==d.location.href||"about:blank"===b.src||""===b.src)return setTimeout(a,0),b.addEventListener("load",a);b.addEventListener("load",a)}}}function Km(b,a,c){var d=!1;try{var e=b.sheet}catch(g){return}if(!e){var f=setTimeout(function(){d||(a(),d=!0)},c);b.addEventListener("load",function(){clearTimeout(f);d=!0;a()})}}function Lm(b,a){var c=a.doc,d=a.blockClass,e=a.blockSelector,f=a.needsMask,g=a.inlineStylesheet,h=a.maskInputOptions,k=void 0===h?{}:h;h=a.maskTextFn;var m=
a.maskInputFn,u=a.dataURLOptions,n=void 0===u?{}:u,t=a.inlineImages,l=a.recordCanvas,q=a.keepIframeSrcFn;u=a.newlyAddedElement;var p=void 0===u?!1:u;u=a.cssCaptured;u=void 0===u?!1:u;a=a.mirror;a.hasNode(c)?(a=a.getId(c),a=1===a?void 0:a):a=void 0;switch(b.nodeType){case b.DOCUMENT_NODE:return"CSS1Compat"!==b.compatMode?{type:db.Document,childNodes:[],compatMode:b.compatMode}:{type:db.Document,childNodes:[]};case b.DOCUMENT_TYPE_NODE:return{type:db.DocumentType,name:b.name,publicId:b.publicId,systemId:b.systemId,
rootId:a};case b.ELEMENT_NODE:return Mm(b,{doc:c,blockClass:d,blockSelector:e,inlineStylesheet:g,maskInputOptions:k,maskInputFn:m,dataURLOptions:n,inlineImages:t,recordCanvas:l,keepIframeSrcFn:q,newlyAddedElement:p,rootId:a});case b.TEXT_NODE:return d=a,k=(e=nb.parentNode(b))&&e.tagName,e="",g="STYLE"===k?!0:void 0,(k="SCRIPT"===k?!0:void 0)?e="SCRIPT_PLACEHOLDER":u||(e=nb.textContent(b),g&&e&&(e=Re(e,qg(c)))),!g&&!k&&e&&f&&(e=h?h(e,nb.parentElement(b)):e.replace(/[\S]/g,"*")),{type:db.Text,textContent:e||
"",rootId:d};case b.CDATA_SECTION_NODE:return{type:db.CDATA,textContent:"",rootId:a};case b.COMMENT_NODE:return{type:db.Comment,textContent:nb.textContent(b)||"",rootId:a};default:return!1}}function Mm(b,a){var c=a.doc,d=a.inlineStylesheet,e=a.maskInputOptions,f=void 0===e?{}:e,g=a.maskInputFn;e=a.dataURLOptions;var h=void 0===e?{}:e,k=a.inlineImages,m=a.recordCanvas;e=a.keepIframeSrcFn;var u=a.newlyAddedElement,n=void 0===u?!1:u;u=a.rootId;a=Im(b,a.blockClass,a.blockSelector);for(var t=Dm(b),l={},
q=b.attributes.length,p=0;p<q;p++){var v=b.attributes[p];xi(t,v.name,v.value)||(l[v.name]=wi(c,t,v.name.toLowerCase(),v.value))}"link"===t&&d&&(d=Array.from(c.styleSheets).find(function(H){return H.href===b.href}),q=null,d&&(q=mg(d)),q&&(delete l.rel,delete l.href,l._cssText=q));"style"===t&&b.sheet&&(d=mg(b.sheet))&&(1<b.childNodes.length&&(d=Bm(d,b).join("/* rr_split */")),l._cssText=d);if("input"===t||"textarea"===t||"select"===t)d=b.value,q=b.checked,"radio"!==l.type&&"checkbox"!==l.type&&"submit"!==
l.type&&"button"!==l.type&&d?l.value=ng({element:b,type:og(b),tagName:t,value:d,maskInputOptions:f,maskInputFn:g}):q&&(l.checked=q);"option"===t&&(b.selected&&!f.select?l.selected=!0:delete l.selected);"dialog"===t&&b.open&&(l.rr_open_mode=b.matches("dialog:modal")?"modal":"non-modal");"canvas"===t&&m&&("2d"===b.__context?wm(b)||(l.rr_dataURL=b.toDataURL(h.type,h.quality)):"__context"in b||(f=b.toDataURL(h.type,h.quality),g=c.createElement("canvas"),g.width=b.width,g.height=b.height,g=g.toDataURL(h.type,
h.quality),f!==g&&(l.rr_dataURL=f)));if("img"===t&&k){nd||(nd=c.createElement("canvas"),zi=nd.getContext("2d"));var w=b.currentSrc||b.getAttribute("src")||"<unknown-src>",y=b.crossOrigin,B=function(){b.removeEventListener("load",B);try{nd.width=b.naturalWidth,nd.height=b.naturalHeight,zi.drawImage(b,0,0),l.rr_dataURL=nd.toDataURL(h.type,h.quality)}catch(H){if("anonymous"!==b.crossOrigin){b.crossOrigin="anonymous";b.complete&&0!==b.naturalWidth?B():b.addEventListener("load",B);return}console.warn("Cannot inline img src=".concat(w,
"! Error: ").concat(H))}"anonymous"===b.crossOrigin&&(y?l.crossOrigin=y:b.removeAttribute("crossorigin"))};b.complete&&0!==b.naturalWidth?B():b.addEventListener("load",B)}if("audio"===t||"video"===t)c=l,c.rr_mediaState=b.paused?"paused":"played",c.rr_mediaCurrentTime=b.currentTime,c.rr_mediaPlaybackRate=b.playbackRate,c.rr_mediaMuted=b.muted,c.rr_mediaLoop=b.loop,c.rr_mediaVolume=b.volume;n||(b.scrollLeft&&(l.rr_scrollLeft=b.scrollLeft),b.scrollTop&&(l.rr_scrollTop=b.scrollTop));a&&(c=b.getBoundingClientRect(),
k=c.height,l={class:l.class,rr_width:"".concat(c.width,"px"),rr_height:"".concat(k,"px")});"iframe"!==t||e(l.src)||(b.contentDocument||(l.rr_src=l.src),delete l.src);var G;try{customElements.get(t)&&(G=!0)}catch(H){}return{type:db.Element,tagName:t,attributes:l,childNodes:[],isSVG:!("svg"!==b.tagName&&!b.ownerSVGElement)||void 0,needBlock:a,rootId:u,isCustom:G}}function Ha(b){return void 0===b||null===b?"":b.toLowerCase()}function Nm(b,a){return a.comment&&b.type===db.Comment||b.type===db.Element&&
(a.script&&("script"===b.tagName||"link"===b.tagName&&("preload"===b.attributes.rel||"modulepreload"===b.attributes.rel)&&"script"===b.attributes.as||"link"===b.tagName&&"prefetch"===b.attributes.rel&&"string"===typeof b.attributes.href&&"js"===ti(b.attributes.href))||a.headFavicon&&("link"===b.tagName&&"shortcut icon"===b.attributes.rel||"meta"===b.tagName&&(Ha(b.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===Ha(b.attributes.name)||"icon"===Ha(b.attributes.rel)||
"apple-touch-icon"===Ha(b.attributes.rel)||"shortcut icon"===Ha(b.attributes.rel)))||"meta"===b.tagName&&(a.headMetaDescKeywords&&Ha(b.attributes.name).match(/^description|keywords$/)||a.headMetaSocial&&(Ha(b.attributes.property).match(/^(og|twitter|fb):/)||Ha(b.attributes.name).match(/^(og|twitter):/)||"pinterest"===Ha(b.attributes.name))||a.headMetaRobots&&("robots"===Ha(b.attributes.name)||"googlebot"===Ha(b.attributes.name)||"bingbot"===Ha(b.attributes.name))||a.headMetaHttpEquiv&&void 0!==b.attributes["http-equiv"]||
a.headMetaAuthorship&&("author"===Ha(b.attributes.name)||"generator"===Ha(b.attributes.name)||"framework"===Ha(b.attributes.name)||"publisher"===Ha(b.attributes.name)||"progid"===Ha(b.attributes.name)||Ha(b.attributes.property).match(/^article:/)||Ha(b.attributes.property).match(/^product:/))||a.headMetaVerification&&("google-site-verification"===Ha(b.attributes.name)||"yandex-verification"===Ha(b.attributes.name)||"csrf-token"===Ha(b.attributes.name)||"p:domain_verify"===Ha(b.attributes.name)||"verify-v1"===
Ha(b.attributes.name)||"verification"===Ha(b.attributes.name)||"shopify-checkout-api-token"===Ha(b.attributes.name))))?!0:!1}function od(b,a){var c=a.doc,d=a.mirror,e=a.blockClass,f=a.blockSelector,g=a.maskTextClass,h=a.maskTextSelector,k=a.skipChild;k=void 0===k?!1:k;var m=a.inlineStylesheet,u=void 0===m?!0:m;m=a.maskInputOptions;var n=void 0===m?{}:m,t=a.maskTextFn,l=a.maskInputFn,q=a.slimDOMOptions;m=a.dataURLOptions;var p=void 0===m?{}:m;m=a.inlineImages;var v=void 0===m?!1:m;m=a.recordCanvas;
var w=void 0===m?!1:m,y=a.onSerialize,B=a.onIframeLoad;m=a.iframeLoadTimeout;var G=void 0===m?5E3:m,H=a.onStylesheetLoad;m=a.stylesheetLoadTimeout;var E=void 0===m?5E3:m;m=a.keepIframeSrcFn;var F=void 0===m?function(){return!1}:m;m=a.newlyAddedElement;m=void 0===m?!1:m;var I=a.cssCaptured;I=void 0===I?!1:I;var N=a.needsMask;a=a.preserveWhiteSpace;var la=void 0===a?!0:a;N||(N=yi(b,g,h,void 0===N));a=Lm(b,{doc:c,mirror:d,blockClass:e,blockSelector:f,needsMask:N,inlineStylesheet:u,maskInputOptions:n,
maskTextFn:t,maskInputFn:l,dataURLOptions:p,inlineImages:v,recordCanvas:w,keepIframeSrcFn:F,newlyAddedElement:m,cssCaptured:I});if(!a)return console.warn(b,"not serialized"),null;m=d.hasNode(b)?d.getId(b):Nm(a,q)||!la&&a.type===db.Text&&!a.textContent.replace(/^\s+|\s+$/gm,"").length?-2:ui++;a=Object.assign(a,{id:m});d.add(b,a);if(-2===m)return null;y&&y(b);m=!k;a.type===db.Element&&(m=m&&!a.needBlock,delete a.needBlock,(I=nb.shadowRoot(b))&&Zd(I)&&(a.isShadowHost=!0));if((a.type===db.Document||a.type===
db.Element)&&m){q.headWhitespace&&a.type===db.Element&&"head"===a.tagName&&(la=!1);k={doc:c,mirror:d,blockClass:e,blockSelector:f,needsMask:N,maskTextClass:g,maskTextSelector:h,skipChild:k,inlineStylesheet:u,maskInputOptions:n,maskTextFn:t,maskInputFn:l,slimDOMOptions:q,dataURLOptions:p,inlineImages:v,recordCanvas:w,preserveWhiteSpace:la,onSerialize:y,onIframeLoad:B,iframeLoadTimeout:G,onStylesheetLoad:H,stylesheetLoadTimeout:E,keepIframeSrcFn:F,cssCaptured:!1};if(a.type!==db.Element||"textarea"!==
a.tagName||void 0===a.attributes.value)for(a.type===db.Element&&void 0!==a.attributes._cssText&&"string"===typeof a.attributes._cssText&&(k.cssCaptured=!0),m=0,I=Array.from(nb.childNodes(b));m<I.length;m++){var S=od(I[m],k);S&&a.childNodes.push(S)}m=null;if(b.nodeType===b.ELEMENT_NODE&&(m=nb.shadowRoot(b)))for(I=0,S=Array.from(nb.childNodes(m));I<S.length;I++){var pa=od(S[I],k);pa&&(Zd(m)&&(pa.isShadow=!0),a.childNodes.push(pa))}}(k=nb.parentNode(b))&&Yd(k)&&Zd(k)&&(a.isShadow=!0);a.type===db.Element&&
"iframe"===a.tagName&&Jm(b,function(){var Q=b.contentDocument;Q&&B&&(Q=od(Q,{doc:Q,mirror:d,blockClass:e,blockSelector:f,needsMask:N,maskTextClass:g,maskTextSelector:h,skipChild:!1,inlineStylesheet:u,maskInputOptions:n,maskTextFn:t,maskInputFn:l,slimDOMOptions:q,dataURLOptions:p,inlineImages:v,recordCanvas:w,preserveWhiteSpace:la,onSerialize:y,onIframeLoad:B,iframeLoadTimeout:G,onStylesheetLoad:H,stylesheetLoadTimeout:E,keepIframeSrcFn:F}))&&B(b,Q)},G);a.type===db.Element&&"link"===a.tagName&&"string"===
typeof a.attributes.rel&&("stylesheet"===a.attributes.rel||"preload"===a.attributes.rel&&"string"===typeof a.attributes.href&&"css"===ti(a.attributes.href))&&Km(b,function(){if(H){var Q=od(b,{doc:c,mirror:d,blockClass:e,blockSelector:f,needsMask:N,maskTextClass:g,maskTextSelector:h,skipChild:!1,inlineStylesheet:u,maskInputOptions:n,maskTextFn:t,maskInputFn:l,slimDOMOptions:q,dataURLOptions:p,inlineImages:v,recordCanvas:w,preserveWhiteSpace:la,onSerialize:y,onIframeLoad:B,iframeLoadTimeout:G,onStylesheetLoad:H,
stylesheetLoadTimeout:E,keepIframeSrcFn:F});Q&&H(b,Q)}},E);return a}function Om(b,a){a=a||{};var c=a.mirror;c=void 0===c?new Ai:c;var d=a.blockClass,e=a.blockSelector,f=a.maskTextClass,g=a.maskTextSelector,h=a.inlineStylesheet,k=a.inlineImages,m=a.recordCanvas,u=a.maskAllInputs;u=void 0===u?!1:u;var n=a.slimDOM;n=void 0===n?!1:n;var t=a.keepIframeSrcFn;return od(b,{doc:b,mirror:c,blockClass:void 0===d?"rr-block":d,blockSelector:void 0===e?null:e,maskTextClass:void 0===f?"rr-mask":f,maskTextSelector:void 0===
g?null:g,skipChild:!1,inlineStylesheet:void 0===h?!0:h,maskInputOptions:!0===u?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===u?{password:!0}:u,maskTextFn:a.maskTextFn,maskInputFn:a.maskInputFn,slimDOMOptions:!0===n||"all"===n?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===n,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,
headMetaVerification:!0}:!1===n?{}:n,dataURLOptions:a.dataURLOptions,inlineImages:void 0===k?!1:k,recordCanvas:void 0===m?!1:m,preserveWhiteSpace:a.preserveWhiteSpace,onSerialize:a.onSerialize,onIframeLoad:a.onIframeLoad,iframeLoadTimeout:a.iframeLoadTimeout,onStylesheetLoad:a.onStylesheetLoad,stylesheetLoadTimeout:a.stylesheetLoadTimeout,keepIframeSrcFn:void 0===t?function(){return!1}:t,newlyAddedElement:!1})}function Pm(b){return b[0].toUpperCase()+b.slice(1)}function pd(b,a){(new Qm(a)).stringify(b)}
function rg(b,a){var c=new b.constructor,d;for(d in b)if(Object.prototype.hasOwnProperty.call(b,d)&&"proxyCache"!==d){var e=b[d],f=W(e);"parent"===d&&"object"===f?a&&(c[d]=a):"source"===d?c[d]=e:Array.isArray(e)?c[d]=e.map(function(g){return rg(g,c)}):("object"===f&&null!==e&&(e=rg(e)),c[d]=e)}return c}function Bi(b){return b.map(function(a){a.nodes&&(a.nodes=Bi(a.nodes));delete a.source;return a})}function Ci(b){b[Di]=!1;if(b.proxyOf.nodes){b=Z(b.proxyOf.nodes);var a;try{for(b.s();!(a=b.n()).done;)Ci(a.value)}catch(c){b.e(c)}finally{b.f()}}}
function Rm(b){for(var a=b.length-1;0<=a;a--){var c=b[a];if(c=c[3]||c[2])return c}}function qd(b,a){b=new Sm(b,a);b=new Tm(b);try{b.parse()}catch(c){throw"CssSyntaxError"===c.name&&a&&a.from&&(/\.scss$/i.test(a.from)?c.message+="\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser":/\.sass/i.test(a.from)?c.message+="\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser":/\.less$/i.test(a.from)&&(c.message+="\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser")),
c;}return b.root}function $d(b){return"object"===W(b)&&"function"===typeof b.then}function Ei(b){var a=!1,c=Um[b.type];"decl"===b.type?a=b.prop.toLowerCase():"atrule"===b.type&&(a=b.name.toLowerCase());return a&&b.append?[c,c+"-"+a,0,c+"Exit",c+"Exit-"+a]:a?[c,c+"-"+a,c+"Exit",c+"Exit-"+a]:b.append?[c,0,c+"Exit"]:[c,c+"Exit"]}function Fi(b){return{eventIndex:0,events:"document"===b.type?["Document",0,"DocumentExit"]:"root"===b.type?["Root",0,"RootExit"]:Ei(b),iterator:0,node:b,visitorIndex:0,visitors:[]}}
function sg(b){b[Nb]=!1;b.nodes&&b.nodes.forEach(function(a){return sg(a)});return b}function ae(b,a){if(Array.isArray(b))return b.map(function(g){return ae(g)});var c=b.inputs,d=Qd(b,Vm);if(c){a=[];c=Z(c);var e;try{for(c.s();!(e=c.n()).done;){var f=ma(ma({},e.value),{},{__proto__:Wm.prototype});f.map&&(f.map=ma(ma({},f.map),{},{__proto__:Xm.prototype}));a.push(f)}}catch(g){c.e(g)}finally{c.f()}}d.nodes&&(d.nodes=b.nodes.map(function(g){return ae(g,a)}));d.source&&(f=d.source,e=f.inputId,f=Qd(f,Ym),
d.source=f,null!=e&&(d.source.input=a[e]));if("root"===d.type)return new Zm(d);if("decl"===d.type)return new $m(d);if("rule"===d.type)return new an(d);if("comment"===d.type)return new bn(d);if("atrule"===d.type)return new cn(d);throw Error("Unknown node type: "+b.type);}function Ba(){for(var b=arguments.length,a=Array(b),c=0;c<b;c++)a[c]=arguments[c];1===a.length&&Array.isArray(a[0])&&(a=a[0]);return new tg(a)}function dn(b){return b[0].toUpperCase()+b.slice(1)}function rd(b,a){(new en(a)).stringify(b)}
function ug(b,a){var c=new b.constructor,d;for(d in b)if(Object.prototype.hasOwnProperty.call(b,d)&&"proxyCache"!==d){var e=b[d],f=W(e);"parent"===d&&"object"===f?a&&(c[d]=a):"source"===d?c[d]=e:Array.isArray(e)?c[d]=e.map(function(g){return ug(g,c)}):("object"===f&&null!==e&&(e=ug(e)),c[d]=e)}return c}function Gi(b){return b.map(function(a){a.nodes&&(a.nodes=Gi(a.nodes));delete a.source;return a})}function Hi(b){b[Ii]=!1;if(b.proxyOf.nodes){b=Z(b.proxyOf.nodes);var a;try{for(b.s();!(a=b.n()).done;)Hi(a.value)}catch(c){b.e(c)}finally{b.f()}}}
function fn(b){for(var a=b.length-1;0<=a;a--){var c=b[a];if(c=c[3]||c[2])return c}}function sd(b,a){b=new gn(b,a);b=new hn(b);try{b.parse()}catch(c){throw"CssSyntaxError"===c.name&&a&&a.from&&(/\.scss$/i.test(a.from)?c.message+="\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser":/\.sass/i.test(a.from)?c.message+="\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser":/\.less$/i.test(a.from)&&(c.message+="\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser")),
c;}return b.root}function be(b){return"object"===W(b)&&"function"===typeof b.then}function Ji(b){var a=!1,c=jn[b.type];"decl"===b.type?a=b.prop.toLowerCase():"atrule"===b.type&&(a=b.name.toLowerCase());return a&&b.append?[c,c+"-"+a,0,c+"Exit",c+"Exit-"+a]:a?[c,c+"-"+a,c+"Exit",c+"Exit-"+a]:b.append?[c,0,c+"Exit"]:[c,c+"Exit"]}function Ki(b){return{eventIndex:0,events:"document"===b.type?["Document",0,"DocumentExit"]:"root"===b.type?["Root",0,"RootExit"]:Ji(b),iterator:0,node:b,visitorIndex:0,visitors:[]}}
function vg(b){b[Ob]=!1;b.nodes&&b.nodes.forEach(function(a){return vg(a)});return b}function ce(b,a){if(Array.isArray(b))return b.map(function(g){return ce(g)});var c=b.inputs,d=Qd(b,kn);if(c){a=[];c=Z(c);var e;try{for(c.s();!(e=c.n()).done;){var f=ma(ma({},e.value),{},{__proto__:ln.prototype});f.map&&(f.map=ma(ma({},f.map),{},{__proto__:mn.prototype}));a.push(f)}}catch(g){c.e(g)}finally{c.f()}}d.nodes&&(d.nodes=b.nodes.map(function(g){return ce(g,a)}));d.source&&(f=d.source,e=f.inputId,f=Qd(f,nn),
d.source=f,null!=e&&(d.source.input=a[e]));if("root"===d.type)return new on(d);if("decl"===d.type)return new pn(d);if("rule"===d.type)return new qn(d);if("comment"===d.type)return new rn(d);if("atrule"===d.type)return new sn(d);throw Error("Unknown node type: "+b.type);}function Ca(){for(var b=arguments.length,a=Array(b),c=0;c<b;c++)a[c]=arguments[c];1===a.length&&Array.isArray(a[0])&&(a=a[0]);return new wg(a)}function xg(b){if(Ue[b])return Ue[b];var a=globalThis[b],c=a.prototype,d=b in Li?Li[b]:
void 0;d=!(!d||!d.every(function(k){var m,u;return!(null==(u=null==(m=Object.getOwnPropertyDescriptor(c,k))?void 0:m.get)||!u.toString().includes("[native code]"))}));var e=b in Mi?Mi[b]:void 0;e=!(!e||!e.every(function(k){var m;return"function"===typeof c[k]&&(null==(m=c[k])?void 0:m.toString().includes("[native code]"))}));if(d&&e&&!globalThis.Zone)return Ue[b]=a.prototype;try{var f=document.createElement("iframe");document.body.appendChild(f);var g=f.contentWindow;if(!g)return a.prototype;var h=
g[b].prototype;document.body.removeChild(f);return h?Ue[b]=h:c}catch(k){return c}}function lc(b,a,c){var d,e="".concat(b,".").concat(String(c));if(yg[e])return yg[e].call(a);b=xg(b);b=null==(d=Object.getOwnPropertyDescriptor(b,c))?void 0:d.get;if(!b)return a[c];yg[e]=b;return b.call(a)}function Ni(b,a,c){var d="".concat(b,".").concat(String(c));if(zg[d])return zg[d].bind(a);b=xg(b)[c];if("function"!==typeof b)return a[c];zg[d]=b;return b.bind(a)}function Oi(){return xg("MutationObserver").constructor}
function qb(b,a){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:document,d={capture:!0,passive:!0};c.addEventListener(b,a,d);return function(){return c.removeEventListener(b,a,d)}}function de(b,a){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},d=null,e=0;return function(){for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];f=Date.now();e||!1!==c.leading||(e=f);h=a-(f-e);var k=this;0>=h||h>a?(d&&(clearTimeout(d),d=null),e=f,b.apply(k,g)):d||!1===c.trailing||
(d=setTimeout(function(){e=!1===c.leading?0:Date.now();d=null;b.apply(k,g)},h))}}function Ve(b,a,c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:window,f=e.Object.getOwnPropertyDescriptor(b,a);e.Object.defineProperty(b,a,d?c:{set:function(g){var h=this;setTimeout(function(){c.set.call(h,g)},0);f&&f.set&&f.set.call(this,g)}});return function(){return Ve(b,a,f||{},!0)}}function td(b,a,c){try{if(!(a in b))return function(){};var d=b[a],e=c(d);"function"===typeof e&&(e.prototype=e.prototype||
{},Object.defineProperties(e,{__rrweb_original__:{enumerable:!1,value:d}}));b[a]=e;return function(){b[a]=d}}catch(f){return function(){}}}function Pi(b){var a,c,d,e,f=b.document;return{left:f.scrollingElement?f.scrollingElement.scrollLeft:void 0!==b.pageXOffset?b.pageXOffset:f.documentElement.scrollLeft||(null==f?void 0:f.body)&&(null==(a=ra.parentElement(f.body))?void 0:a.scrollLeft)||(null==(c=null==f?void 0:f.body)?void 0:c.scrollLeft)||0,top:f.scrollingElement?f.scrollingElement.scrollTop:void 0!==
b.pageYOffset?b.pageYOffset:(null==f?void 0:f.documentElement.scrollTop)||(null==f?void 0:f.body)&&(null==(d=ra.parentElement(f.body))?void 0:d.scrollTop)||(null==(e=null==f?void 0:f.body)?void 0:e.scrollTop)||0}}function Qi(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Ri(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}
function Si(b){return b?b.nodeType===b.ELEMENT_NODE?b:ra.parentElement(b):null}function rb(b,a,c,d){if(!b)return!1;b=Si(b);if(!b)return!1;try{if("string"===typeof a){if(b.classList.contains(a)||d&&null!==b.closest("."+a))return!0}else if(Te(b,a,d))return!0}catch(e){}return c&&(b.matches(c)||d&&null!==b.closest(c))?!0:!1}function Ag(b,a,c){return"TITLE"===b.tagName&&c.headTitleMutations?!0:-2===a.getId(b)}function Ti(b,a){if(Yd(b))return!1;var c=a.getId(b);return a.has(c)?(c=ra.parentNode(b))&&c.nodeType===
b.DOCUMENT_NODE?!1:c?Ti(c,a):!0:!0}function tn(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window;"NodeList"in b&&!b.NodeList.prototype.forEach&&(b.NodeList.prototype.forEach=Array.prototype.forEach);"DOMTokenList"in b&&!b.DOMTokenList.prototype.forEach&&(b.DOMTokenList.prototype.forEach=Array.prototype.forEach)}function Ui(b,a){return!("LINK"!==b.nodeName||b.nodeType!==b.ELEMENT_NODE||!b.getAttribute||"stylesheet"!==b.getAttribute("rel")||!a.getMeta(b))}function Bg(b){return b?
b instanceof un&&"shadowRoot"in b?!!b.shadowRoot:!!ra.shadowRoot(b):!1}function Vi(b){var a,c=null;"getRootNode"in b&&(null==(a=ra.getRootNode(b))?void 0:a.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&ra.host(ra.getRootNode(b))&&(c=ra.host(ra.getRootNode(b)));return c}function Wi(b){var a=b.ownerDocument;if(!a)return!1;if(!(a=ra.contains(a,b)))if(a=b.ownerDocument){for(var c;c=Vi(b);)b=c;a=ra.contains(a,b)}else a=!1;return a}function Cg(b,a){b.delete(a);ra.childNodes(a).forEach(function(c){return Cg(b,
c)})}function vn(b,a){for(var c=[b];c.length;)b=c.pop(),a.has(b)||(a.add(b),ra.childNodes(b).forEach(function(d){return c.push(d)}))}function Xi(b,a,c){if(0===b.size)return!1;b=(a=ra.parentNode(a))?b.has(a):!1;return b}function Yi(b,a){return 0===b.size?!1:Zi(b,a)}function Zi(b,a){return(a=ra.parentNode(a))?b.has(a)?!0:Zi(b,a):!1}function ee(b){try{if("composedPath"in b){var a=b.composedPath();if(a.length)return a[0]}else if("path"in b&&b.path.length)return b.path[0]}catch(c){}return b&&b.target}
function $i(b,a){var c=new wn;Gc.push(c);c.init(b);b=new (Oi())(sa(c.processMutations.bind(c)));b.observe(a,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0});return b}function xn(b){var a=b.mousemoveCb,c=b.sampling,d=b.doc,e=b.mirror;if(!1===c.mousemove)return function(){};b="number"===typeof c.mousemove?c.mousemove:50;c="number"===typeof c.mousemoveCallback?c.mousemoveCallback:500;var f=[],g,h=de(sa(function(m){var u=Date.now()-g;a(f.map(function(n){n.timeOffset-=
u;return n}),m);f=[];g=null}),c);c=sa(de(sa(function(m){var u=ee(m),n=m.changedTouches?m.changedTouches[0]:m,t=n.clientX;n=n.clientY;g||(g=We());f.push({x:t,y:n,id:e.getId(u),timeOffset:We()-g});h("undefined"!==typeof DragEvent&&m instanceof DragEvent?ta.Drag:m instanceof MouseEvent?ta.MouseMove:ta.TouchMove)}),b,{trailing:!1}));var k=[qb("mousemove",c,d),qb("touchmove",c,d),qb("drag",c,d)];return sa(function(){k.forEach(function(m){return m()})})}function yn(b){var a=b.mouseInteractionCb,c=b.doc,
d=b.mirror,e=b.blockClass,f=b.blockSelector;b=b.sampling;if(!1===b.mouseInteraction)return function(){};var g=!0===b.mouseInteraction||void 0===b.mouseInteraction?{}:b.mouseInteraction,h=[],k=null,m=function(u){return function(n){var t=ee(n);if(!rb(t,e,f,!0)){var l=null,q=u;if("pointerType"in n){switch(n.pointerType){case "mouse":l=mc.Mouse;break;case "touch":l=mc.Touch;break;case "pen":l=mc.Pen}l===mc.Touch&&(ub[u]===ub.MouseDown?q="TouchStart":ub[u]===ub.MouseUp&&(q="TouchEnd"))}else n.changedTouches&&
(l=mc.Touch);if(null!==l){if(k=l,q.startsWith("Touch")&&l===mc.Touch||q.startsWith("Mouse")&&l===mc.Mouse)l=null}else ub[u]===ub.Click&&(l=k,k=null);if(n=n.changedTouches?n.changedTouches[0]:n){t=d.getId(t);var p=n.clientX;n=n.clientY;sa(a)(ma({type:ub[q],id:t,x:p,y:n},null!==l&&{pointerType:l}))}}}};Object.keys(ub).filter(function(u){return Number.isNaN(Number(u))&&!u.endsWith("_Departed")&&!1!==g[u]}).forEach(function(u){var n=u.toLowerCase(),t=m(u);if(window.PointerEvent)switch(ub[u]){case ub.MouseDown:case ub.MouseUp:n=
n.replace("mouse","pointer");break;case ub.TouchStart:case ub.TouchEnd:return}h.push(qb(n,t,c))});return sa(function(){h.forEach(function(u){return u()})})}function aj(b){var a=b.scrollCb,c=b.doc,d=b.mirror,e=b.blockClass,f=b.blockSelector;b=b.sampling;b=sa(de(sa(function(g){var h=ee(g);h&&!rb(h,e,f,!0)&&(g=d.getId(h),h===c&&c.defaultView?(h=Pi(c.defaultView),a({id:g,x:h.left,y:h.top})):a({id:g,x:h.scrollLeft,y:h.scrollTop}))}),b.scroll||100));return qb("scroll",b,c)}function zn(b,a){var c=b.viewportResizeCb;
b=a.win;var d=-1,e=-1;a=sa(de(sa(function(){var f=Qi(),g=Ri();if(d!==f||e!==g)c({width:Number(g),height:Number(f)}),d=f,e=g}),200));return qb("resize",a,b)}function An(b){function a(v){var w=ee(v),y=v.isTrusted,B=w&&w.tagName;w&&"OPTION"===B&&(w=ra.parentElement(w));if(!(!w||!B||0>Bn.indexOf(B)||rb(w,g,h,!0)||w.classList.contains(k)||m&&w.matches(m))){var G=w.value,H=!1;v=og(w)||"";if("radio"===v||"checkbox"===v)H=w.checked;else if(u[B.toLowerCase()]||u[v])G=ng({element:w,maskInputOptions:u,tagName:B,
type:v,value:G,maskInputFn:n});c(w,t?{text:G,isChecked:H,userTriggered:y}:{text:G,isChecked:H});y=w.name;"radio"===v&&y&&H&&e.querySelectorAll('input[type="radio"][name="'.concat(y,'"]')).forEach(function(E){if(E!==w){var F=E.value;c(E,t?{text:F,isChecked:!H,userTriggered:!1}:{text:F,isChecked:!H})}})}}function c(v,w){var y=bj.get(v);y&&y.text===w.text&&y.isChecked===w.isChecked||(bj.set(v,w),v=f.getId(v),sa(d)(ma(ma({},w),{},{id:v})))}var d=b.inputCb,e=b.doc,f=b.mirror,g=b.blockClass,h=b.blockSelector,
k=b.ignoreClass,m=b.ignoreSelector,u=b.maskInputOptions,n=b.maskInputFn,t=b.userTriggeredOnInput,l=("last"===b.sampling.input?["change"]:["input","change"]).map(function(v){return qb(v,sa(a),e)}),q=e.defaultView;if(!q)return function(){l.forEach(function(v){return v()})};b=q.Object.getOwnPropertyDescriptor(q.HTMLInputElement.prototype,"value");var p=[[q.HTMLInputElement.prototype,"value"],[q.HTMLInputElement.prototype,"checked"],[q.HTMLSelectElement.prototype,"value"],[q.HTMLTextAreaElement.prototype,
"value"],[q.HTMLSelectElement.prototype,"selectedIndex"],[q.HTMLOptionElement.prototype,"selected"]];b&&b.set&&l.push.apply(l,Yb(p.map(function(v){return Ve(v[0],v[1],{set:function(){sa(a)({target:this,isTrusted:!1})}},!1,q)})));return sa(function(){l.forEach(function(v){return v()})})}function Xe(b){var a=[];Ye("CSSGroupingRule")&&b.parentRule instanceof CSSGroupingRule||Ye("CSSMediaRule")&&b.parentRule instanceof CSSMediaRule||Ye("CSSSupportsRule")&&b.parentRule instanceof CSSSupportsRule||Ye("CSSConditionRule")&&
b.parentRule instanceof CSSConditionRule?(b=Array.from(b.parentRule.cssRules).indexOf(b),a.unshift(b)):b.parentStyleSheet&&(b=Array.from(b.parentStyleSheet.cssRules).indexOf(b),a.unshift(b));return a}function nc(b,a,c){var d,e;if(!b)return{};b.ownerNode?d=a.getId(b.ownerNode):e=c.getId(b);return{styleId:e,id:d}}function Cn(b,a){var c=b.styleSheetRuleCb,d=b.mirror,e=b.stylesheetManager,f=a.win;if(!f.CSSStyleSheet||!f.CSSStyleSheet.prototype)return function(){};var g=f.CSSStyleSheet.prototype.insertRule;
f.CSSStyleSheet.prototype.insertRule=new Proxy(g,{apply:sa(function(t,l,q){var p=Xa(q,2),v=p[0];p=p[1];var w=nc(l,d,e.styleMirror),y=w.id;w=w.styleId;(y&&-1!==y||w&&-1!==w)&&c({id:y,styleId:w,adds:[{rule:v,index:p}]});return t.apply(l,q)})});f.CSSStyleSheet.prototype.addRule=function(t,l){var q=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.cssRules.length,p="".concat(t," { ").concat(l," }");return f.CSSStyleSheet.prototype.insertRule.apply(this,[p,q])};var h=f.CSSStyleSheet.prototype.deleteRule;
f.CSSStyleSheet.prototype.deleteRule=new Proxy(h,{apply:sa(function(t,l,q){var p=Xa(q,1)[0],v=nc(l,d,e.styleMirror),w=v.id;v=v.styleId;(w&&-1!==w||v&&-1!==v)&&c({id:w,styleId:v,removes:[{index:p}]});return t.apply(l,q)})});f.CSSStyleSheet.prototype.removeRule=function(t){return f.CSSStyleSheet.prototype.deleteRule.apply(this,[t])};if(f.CSSStyleSheet.prototype.replace){var k=f.CSSStyleSheet.prototype.replace;f.CSSStyleSheet.prototype.replace=new Proxy(k,{apply:sa(function(t,l,q){var p=Xa(q,1)[0],v=
nc(l,d,e.styleMirror),w=v.id;v=v.styleId;(w&&-1!==w||v&&-1!==v)&&c({id:w,styleId:v,replace:p});return t.apply(l,q)})})}if(f.CSSStyleSheet.prototype.replaceSync){var m=f.CSSStyleSheet.prototype.replaceSync;f.CSSStyleSheet.prototype.replaceSync=new Proxy(m,{apply:sa(function(t,l,q){var p=Xa(q,1)[0],v=nc(l,d,e.styleMirror),w=v.id;v=v.styleId;(w&&-1!==w||v&&-1!==v)&&c({id:w,styleId:v,replaceSync:p});return t.apply(l,q)})})}var u={};Ze("CSSGroupingRule")?u.CSSGroupingRule=f.CSSGroupingRule:(Ze("CSSMediaRule")&&
(u.CSSMediaRule=f.CSSMediaRule),Ze("CSSConditionRule")&&(u.CSSConditionRule=f.CSSConditionRule),Ze("CSSSupportsRule")&&(u.CSSSupportsRule=f.CSSSupportsRule));var n={};Object.entries(u).forEach(function(t){var l=Xa(t,2);t=l[0];l=l[1];n[t]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule};l.prototype.insertRule=new Proxy(n[t].insertRule,{apply:sa(function(q,p,v){var w=Xa(v,2),y=w[0];w=w[1];var B=nc(p.parentStyleSheet,d,e.styleMirror),G=B.id;B=B.styleId;(G&&-1!==G||B&&-1!==B)&&c({id:G,
styleId:B,adds:[{rule:y,index:[].concat(Yb(Xe(p)),[w||0])}]});return q.apply(p,v)})});l.prototype.deleteRule=new Proxy(n[t].deleteRule,{apply:sa(function(q,p,v){var w=Xa(v,1)[0],y=nc(p.parentStyleSheet,d,e.styleMirror),B=y.id;y=y.styleId;(B&&-1!==B||y&&-1!==y)&&c({id:B,styleId:y,removes:[{index:[].concat(Yb(Xe(p)),[w])}]});return q.apply(p,v)})})});return sa(function(){f.CSSStyleSheet.prototype.insertRule=g;f.CSSStyleSheet.prototype.deleteRule=h;k&&(f.CSSStyleSheet.prototype.replace=k);m&&(f.CSSStyleSheet.prototype.replaceSync=
m);Object.entries(u).forEach(function(t){var l=Xa(t,2);t=l[0];l=l[1];l.prototype.insertRule=n[t].insertRule;l.prototype.deleteRule=n[t].deleteRule})})}function cj(b,a){var c=b.mirror,d=b.stylesheetManager,e,f,g,h=null;h="#document"===a.nodeName?c.getId(a):c.getId(ra.host(a));b="#document"===a.nodeName?null==(e=a.defaultView)?void 0:e.Document:null==(g=null==(f=a.ownerDocument)?void 0:f.defaultView)?void 0:g.ShadowRoot;var k=(null==b?0:b.prototype)?Object.getOwnPropertyDescriptor(null==b?void 0:b.prototype,
"adoptedStyleSheets"):void 0;if(null===h||-1===h||!b||!k)return function(){};Object.defineProperty(a,"adoptedStyleSheets",{configurable:k.configurable,enumerable:k.enumerable,get:function(){var m;return null==(m=k.get)?void 0:m.call(this)},set:function(m){var u,n=null==(u=k.set)?void 0:u.call(this,m);if(null!==h&&-1!==h)try{d.adoptStyleSheets(m,h)}catch(t){}return n}});return sa(function(){Object.defineProperty(a,"adoptedStyleSheets",{configurable:k.configurable,enumerable:k.enumerable,get:k.get,
set:k.set})})}function Dn(b,a){var c=b.styleDeclarationCb,d=b.mirror,e=b.ignoreCSSAttributes,f=b.stylesheetManager,g=a.win,h=g.CSSStyleDeclaration.prototype.setProperty;g.CSSStyleDeclaration.prototype.setProperty=new Proxy(h,{apply:sa(function(m,u,n){var t,l=Xa(n,3),q=l[0],p=l[1];l=l[2];if(e.has(q))return h.apply(u,[q,p,l]);var v=nc(null==(t=u.parentRule)?void 0:t.parentStyleSheet,d,f.styleMirror);t=v.id;v=v.styleId;(t&&-1!==t||v&&-1!==v)&&c({id:t,styleId:v,set:{property:q,value:p,priority:l},index:Xe(u.parentRule)});
return m.apply(u,n)})});var k=g.CSSStyleDeclaration.prototype.removeProperty;g.CSSStyleDeclaration.prototype.removeProperty=new Proxy(k,{apply:sa(function(m,u,n){var t,l=Xa(n,1)[0];if(e.has(l))return k.apply(u,[l]);var q=nc(null==(t=u.parentRule)?void 0:t.parentStyleSheet,d,f.styleMirror);t=q.id;q=q.styleId;(t&&-1!==t||q&&-1!==q)&&c({id:t,styleId:q,remove:{property:l},index:Xe(u.parentRule)});return m.apply(u,n)})});return sa(function(){g.CSSStyleDeclaration.prototype.setProperty=h;g.CSSStyleDeclaration.prototype.removeProperty=
k})}function En(b){var a=b.mediaInteractionCb,c=b.blockClass,d=b.blockSelector,e=b.mirror,f=b.sampling;b=b.doc;var g=sa(function(k){return de(sa(function(m){if((m=ee(m))&&!rb(m,c,d,!0)){var u=m.currentTime,n=m.volume,t=m.muted,l=m.playbackRate,q=m.loop;a({type:k,id:e.getId(m),currentTime:u,volume:n,muted:t,playbackRate:l,loop:q})}}),f.media||500)}),h=[qb("play",g(ud.Play),b),qb("pause",g(ud.Pause),b),qb("seeked",g(ud.Seeked),b),qb("volumechange",g(ud.VolumeChange),b),qb("ratechange",g(ud.RateChange),
b)];return sa(function(){h.forEach(function(k){return k()})})}function Fn(b){var a=b.fontCb;b=b.doc;var c=b.defaultView;if(!c)return function(){};var d=[],e=new WeakMap,f=c.FontFace;c.FontFace=function(g,h,k){var m=new f(g,h,k);e.set(m,{family:g,buffer:"string"!==typeof h,descriptors:k,fontSource:"string"===typeof h?h:JSON.stringify(Array.from(new Uint8Array(h)))});return m};b=td(b.fonts,"add",function(g){return function(h){setTimeout(sa(function(){var k=e.get(h);k&&(a(k),e.delete(h))}),0);return g.apply(this,
[h])}});d.push(function(){c.FontFace=f});d.push(b);return sa(function(){d.forEach(function(g){return g()})})}function Gn(b){var a=b.doc,c=b.mirror,d=b.blockClass,e=b.blockSelector,f=b.selectionCb,g=!0;b=sa(function(){var h=a.getSelection();if(h&&!(g&&(null==h?0:h.isCollapsed))){g=h.isCollapsed||!1;for(var k=[],m=h.rangeCount||0,u=0;u<m;u++){var n=h.getRangeAt(u),t=n.startContainer,l=n.startOffset,q=n.endContainer;n=n.endOffset;rb(t,d,e,!0)||rb(q,d,e,!0)||k.push({start:c.getId(t),startOffset:l,end:c.getId(q),
endOffset:n})}f({ranges:k})}});b();return qb("selectionchange",b)}function Hn(b){var a=b.customElementCb;return(b=b.doc.defaultView)&&b.customElements?td(b.customElements,"define",function(c){return function(d,e,f){try{a({define:{name:d}})}catch(g){console.warn("Custom element callback failed for ".concat(d))}return c.apply(this,[d,e,f])}}):function(){}}function In(b,a){var c=b.mutationCb,d=b.mousemoveCb,e=b.mouseInteractionCb,f=b.scrollCb,g=b.viewportResizeCb,h=b.inputCb,k=b.mediaInteractionCb,m=
b.styleSheetRuleCb,u=b.styleDeclarationCb,n=b.canvasMutationCb,t=b.fontCb,l=b.selectionCb,q=b.customElementCb;b.mutationCb=function(){a.mutation&&a.mutation.apply(a,arguments);c.apply(void 0,arguments)};b.mousemoveCb=function(){a.mousemove&&a.mousemove.apply(a,arguments);d.apply(void 0,arguments)};b.mouseInteractionCb=function(){a.mouseInteraction&&a.mouseInteraction.apply(a,arguments);e.apply(void 0,arguments)};b.scrollCb=function(){a.scroll&&a.scroll.apply(a,arguments);f.apply(void 0,arguments)};
b.viewportResizeCb=function(){a.viewportResize&&a.viewportResize.apply(a,arguments);g.apply(void 0,arguments)};b.inputCb=function(){a.input&&a.input.apply(a,arguments);h.apply(void 0,arguments)};b.mediaInteractionCb=function(){a.mediaInteaction&&a.mediaInteaction.apply(a,arguments);k.apply(void 0,arguments)};b.styleSheetRuleCb=function(){a.styleSheetRule&&a.styleSheetRule.apply(a,arguments);m.apply(void 0,arguments)};b.styleDeclarationCb=function(){a.styleDeclaration&&a.styleDeclaration.apply(a,arguments);
u.apply(void 0,arguments)};b.canvasMutationCb=function(){a.canvasMutation&&a.canvasMutation.apply(a,arguments);n.apply(void 0,arguments)};b.fontCb=function(){a.font&&a.font.apply(a,arguments);t.apply(void 0,arguments)};b.selectionCb=function(){a.selection&&a.selection.apply(a,arguments);l.apply(void 0,arguments)};b.customElementCb=function(){a.customElement&&a.customElement.apply(a,arguments);q.apply(void 0,arguments)}}function Jn(b){var a=b.doc.defaultView;if(!a)return function(){};In(b,1<arguments.length&&
void 0!==arguments[1]?arguments[1]:{});var c;b.recordDOM&&(c=$i(b,b.doc));var d=xn(b),e=yn(b),f=aj(b),g=zn(b,{win:a}),h=An(b),k=En(b),m=function(){},u=function(){},n=function(){},t=function(){};b.recordDOM&&(m=Cn(b,{win:a}),u=cj(b,b.doc),n=Dn(b,{win:a}),b.collectFonts&&(t=Fn(b)));var l=Gn(b),q=Hn(b),p=[],v=Z(b.plugins),w;try{for(v.s();!(w=v.n()).done;){var y=w.value;p.push(y.observer(y.callback,a,y.options))}}catch(B){v.e(B)}finally{v.f()}return sa(function(){Gc.forEach(function(B){return B.reset()});
null==c?void 0:c.disconnect();d();e();f();g();h();k();m();u();n();t();l();q();p.forEach(function(B){return B()})})}function Ye(b){return"undefined"!==typeof window[b]}function Ze(b){return!!("undefined"!==typeof window[b]&&window[b].prototype&&"insertRule"in window[b].prototype&&"deleteRule"in window[b].prototype)}function $e(b,a,c){if(b instanceof Array)return b.map(function(e){return $e(e,a,c)});if(null!==b){if(b instanceof Float32Array||b instanceof Float64Array||b instanceof Int32Array||b instanceof
Uint32Array||b instanceof Uint8Array||b instanceof Uint16Array||b instanceof Int16Array||b instanceof Int8Array||b instanceof Uint8ClampedArray)return{rr_type:b.constructor.name,args:[Object.values(b)]};if(b instanceof ArrayBuffer){var d=b.constructor.name;b=Kn(b);return{rr_type:d,base64:b}}if(b instanceof DataView)return{rr_type:b.constructor.name,args:[$e(b.buffer,a,c),b.byteOffset,b.byteLength]};if(b instanceof HTMLImageElement)return{rr_type:b.constructor.name,src:b.src};if(b instanceof HTMLCanvasElement)return{rr_type:"HTMLImageElement",
src:b.toDataURL()};if(b instanceof ImageData)return{rr_type:b.constructor.name,args:[$e(b.data,a,c),b.width,b.height]};if(dj(b,a)||"object"===W(b))return d=b.constructor.name,b=ej(b,a,c),{rr_type:d,index:b}}return b}function Ln(b,a,c,d){var e=[],f=Object.getOwnPropertyNames(a.CanvasRenderingContext2D.prototype);f=Z(f);var g;try{var h=function(){var k=g.value;try{if("function"!==typeof a.CanvasRenderingContext2D.prototype[k])return 1;var m=td(a.CanvasRenderingContext2D.prototype,k,function(u){return function(){for(var n=
this,t=arguments.length,l=Array(t),q=0;q<t;q++)l[q]=arguments[q];rb(this.canvas,c,d,!0)||setTimeout(function(){var p=fj(l,a,n);b(n.canvas,{type:vd["2D"],property:k,args:p})},0);return u.apply(this,l)}});e.push(m)}catch(u){m=Ve(a.CanvasRenderingContext2D.prototype,k,{set:function(n){b(this.canvas,{type:vd["2D"],property:k,args:[n],setter:!0})}}),e.push(m)}};for(f.s();!(g=f.n()).done;)h()}catch(k){f.e(k)}finally{f.f()}return function(){e.forEach(function(k){return k()})}}function gj(b,a,c,d){var e=
[];try{var f=td(b.HTMLCanvasElement.prototype,"getContext",function(g){return function(h){for(var k=arguments.length,m=Array(1<k?k-1:0),u=1;u<k;u++)m[u-1]=arguments[u];rb(this,a,c,!0)||(k="experimental-webgl"===h?"webgl":h,"__context"in this||(this.__context=k),d&&["webgl","webgl2"].includes(k)&&(m[0]&&"object"===W(m[0])?(k=m[0],k.preserveDrawingBuffer||(k.preserveDrawingBuffer=!0)):m.splice(0,1,{preserveDrawingBuffer:!0})));return g.apply(this,[h].concat(m))}});e.push(f)}catch(g){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return function(){e.forEach(function(g){return g()})}}
function hj(b,a,c,d,e,f){var g=[],h=Object.getOwnPropertyNames(b);h=Z(h);var k;try{var m=function(){var u=k.value;if(["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(u))return 0;try{if("function"!==typeof b[u])return 0;var n=td(b,u,function(t){return function(){for(var l=arguments.length,q=Array(l),p=0;p<l;p++)q[p]=arguments[p];l=t.apply(this,q);ej(l,f,this);"tagName"in this.canvas&&!rb(this.canvas,d,e,!0)&&(q=fj(q,f,this),c(this.canvas,{type:a,property:u,args:q}));return l}});
g.push(n)}catch(t){n=Ve(b,u,{set:function(l){c(this.canvas,{type:a,property:u,args:[l],setter:!0})}}),g.push(n)}};for(h.s();!(k=h.n()).done;)m()}catch(u){h.e(u)}finally{h.f()}return g}function Mn(b,a,c,d){var e=[];e.push.apply(e,Yb(hj(a.WebGLRenderingContext.prototype,vd.WebGL,b,c,d,a)));"undefined"!==typeof a.WebGL2RenderingContext&&e.push.apply(e,Yb(hj(a.WebGL2RenderingContext.prototype,vd.WebGL2,b,c,d,a)));return function(){e.forEach(function(f){return f()})}}function Nn(b){try{var a=ij&&(window.URL||
window.webkitURL).createObjectURL(ij);if(!a)throw"";var c=new Worker(a,{name:null==b?void 0:b.name});c.addEventListener("error",function(){(window.URL||window.webkitURL).revokeObjectURL(a)});return c}catch(d){return new Worker("data:text/javascript;base64,KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",
{name:null==b?void 0:b.name})}finally{a&&(window.URL||window.webkitURL).revokeObjectURL(a)}}function Hc(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=b.emit,c=b.checkoutEveryNms,d=b.checkoutEveryNth,e=b.blockClass,f=void 0===e?"rr-block":e;e=b.blockSelector;var g=void 0===e?null:e;e=b.ignoreClass;var h=void 0===e?"rr-ignore":e;e=b.ignoreSelector;var k=void 0===e?null:e;e=b.maskTextClass;var m=void 0===e?"rr-mask":e;e=b.maskTextSelector;var u=void 0===e?null:e;e=b.inlineStylesheet;
var n=void 0===e?!0:e;e=b.maskAllInputs;var t=b.maskInputOptions,l=b.slimDOMOptions,q=b.maskInputFn,p=b.maskTextFn,v=b.hooks,w=b.packFn,y=b.sampling,B=void 0===y?{}:y;y=b.dataURLOptions;var G=void 0===y?{}:y;y=b.mousemoveWait;var H=b.recordDOM,E=void 0===H?!0:H;H=b.recordCanvas;var F=void 0===H?!1:H;H=b.recordCrossOriginIframes;H=void 0===H?!1:H;var I=b.recordAfter,N=void 0===I?"DOMContentLoaded"===b.recordAfter?b.recordAfter:"load":I;I=b.userTriggeredOnInput;var la=void 0===I?!1:I;I=b.collectFonts;
var S=void 0===I?!1:I;I=b.inlineImages;var pa=void 0===I?!1:I,Q=b.plugins;I=b.keepIframeSrcFn;var D=void 0===I?function(){return!1}:I;I=b.ignoreCSSAttributes;var C=void 0===I?new Set([]):I;fe=b.errorHandler;var z=H?window.parent===window:!0,P=!1;if(!z)try{window.parent.document&&(P=!1)}catch(ea){P=!0}if(z&&!a)throw Error("emit function is required");if(!z&&!P)return function(){};void 0!==y&&void 0===B.mousemove&&(B.mousemove=y);Fb.reset();var M=!0===e?{color:!0,date:!0,"datetime-local":!0,email:!0,
month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==t?t:{password:!0},oa=!0===l||"all"===l?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===l,headMetaDescKeywords:"all"===l,headTitleMutations:"all"===l}:l?l:{};tn();var fa,R=0,wa=function(ea){var Ia=Z(Q||[]),aa;try{for(Ia.s();!(aa=Ia.n()).done;){var Ya=aa.value;Ya.eventProcessor&&
(ea=Ya.eventProcessor(ea))}}catch($b){Ia.e($b)}finally{Ia.f()}w&&!P&&(ea=w(ea));return ea};Ta=function(ea,Ia){var aa;ea.timestamp=We();(null==(aa=Gc[0])?0:aa.isFrozen())&&ea.type!==za.FullSnapshot&&(ea.type!==za.IncrementalSnapshot||ea.data.source!==ta.Mutation)&&Gc.forEach(function(Ya){return Ya.unfreeze()});z?null==a?void 0:a(wa(ea),Ia):P&&(Ia={type:"rrweb",event:wa(ea),origin:window.location.origin,isCheckout:Ia},window.parent.postMessage(Ia,"*"));ea.type===za.FullSnapshot?(fa=ea,R=0):ea.type!==
za.IncrementalSnapshot||ea.data.source===ta.Mutation&&ea.data.isAttachIframe||(R++,ea=c&&ea.timestamp-fa.timestamp>c,(d&&R>=d||ea)&&af(!0))};var xa=function(ea){Ta({type:za.IncrementalSnapshot,data:ma({source:ta.Mutation},ea)})},ob=function(ea){return Ta({type:za.IncrementalSnapshot,data:ma({source:ta.Scroll},ea)})},L=function(ea){return Ta({type:za.IncrementalSnapshot,data:ma({source:ta.CanvasMutation},ea)})},U=new On({mutationCb:xa,adoptedStyleSheetCb:function(ea){return Ta({type:za.IncrementalSnapshot,
data:ma({source:ta.AdoptedStyleSheet},ea)})}}),V=new Pn({mirror:Fb,mutationCb:xa,stylesheetManager:U,recordCrossOriginIframes:H,wrappedEmit:Ta});b=Z(Q||[]);var ka;try{for(b.s();!(ka=b.n()).done;){var na=ka.value;na.getMirror&&na.getMirror({nodeMirror:Fb,crossOriginIframeMirror:V.crossOriginIframeMirror,crossOriginIframeStyleMirror:V.crossOriginIframeStyleMirror})}}catch(ea){b.e(ea)}finally{b.f()}var Ea=new Qn;Dg=new Rn({recordCanvas:F,mutationCb:L,win:window,blockClass:f,blockSelector:g,mirror:Fb,
sampling:B.canvas,dataURLOptions:G});var Za=new Sn({mutationCb:xa,scrollCb:ob,bypassOptions:{blockClass:f,blockSelector:g,maskTextClass:m,maskTextSelector:u,inlineStylesheet:n,maskInputOptions:M,dataURLOptions:G,maskTextFn:p,maskInputFn:q,recordCanvas:F,inlineImages:pa,sampling:B,slimDOMOptions:oa,iframeManager:V,stylesheetManager:U,canvasManager:Dg,keepIframeSrcFn:D,processedNodeManager:Ea},mirror:Fb});af=function(){var ea=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(E){Ta({type:za.Meta,
data:{href:window.location.href,width:Ri(),height:Qi()}},ea);U.reset();Za.init();Gc.forEach(function(aa){return aa.lock()});var Ia=Om(document,{mirror:Fb,blockClass:f,blockSelector:g,maskTextClass:m,maskTextSelector:u,inlineStylesheet:n,maskAllInputs:M,maskTextFn:p,maskInputFn:q,slimDOM:oa,dataURLOptions:G,recordCanvas:F,inlineImages:pa,onSerialize:function(aa){"IFRAME"===aa.nodeName&&Fb.getMeta(aa)&&V.addIframe(aa);Ui(aa,Fb)&&U.trackLinkElement(aa);Bg(aa)&&Za.addShadowRoot(ra.shadowRoot(aa),document)},
onIframeLoad:function(aa,Ya){V.attachIframe(aa,Ya);Za.observeAttachShadow(aa)},onStylesheetLoad:function(aa,Ya){U.attachLinkElement(aa,Ya)},keepIframeSrcFn:D});if(!Ia)return console.warn("Failed to snapshot the document");Ta({type:za.FullSnapshot,data:{node:Ia,initialOffset:Pi(window)}},ea);Gc.forEach(function(aa){return aa.unlock()});document.adoptedStyleSheets&&0<document.adoptedStyleSheets.length&&U.adoptStyleSheets(document.adoptedStyleSheets,Fb.getId(document))}};try{var Ja=[],$a=function(ea){var Ia;
return sa(Jn)({mutationCb:xa,mousemoveCb:function(aa,Ya){return Ta({type:za.IncrementalSnapshot,data:{source:Ya,positions:aa}})},mouseInteractionCb:function(aa){return Ta({type:za.IncrementalSnapshot,data:ma({source:ta.MouseInteraction},aa)})},scrollCb:ob,viewportResizeCb:function(aa){return Ta({type:za.IncrementalSnapshot,data:ma({source:ta.ViewportResize},aa)})},inputCb:function(aa){return Ta({type:za.IncrementalSnapshot,data:ma({source:ta.Input},aa)})},mediaInteractionCb:function(aa){return Ta({type:za.IncrementalSnapshot,
data:ma({source:ta.MediaInteraction},aa)})},styleSheetRuleCb:function(aa){return Ta({type:za.IncrementalSnapshot,data:ma({source:ta.StyleSheetRule},aa)})},styleDeclarationCb:function(aa){return Ta({type:za.IncrementalSnapshot,data:ma({source:ta.StyleDeclaration},aa)})},canvasMutationCb:L,fontCb:function(aa){return Ta({type:za.IncrementalSnapshot,data:ma({source:ta.Font},aa)})},selectionCb:function(aa){Ta({type:za.IncrementalSnapshot,data:ma({source:ta.Selection},aa)})},customElementCb:function(aa){Ta({type:za.IncrementalSnapshot,
data:ma({source:ta.CustomElement},aa)})},blockClass:f,ignoreClass:h,ignoreSelector:k,maskTextClass:m,maskTextSelector:u,maskInputOptions:M,inlineStylesheet:n,sampling:B,recordDOM:E,recordCanvas:F,inlineImages:pa,userTriggeredOnInput:la,collectFonts:S,doc:ea,maskInputFn:q,maskTextFn:p,keepIframeSrcFn:D,blockSelector:g,slimDOMOptions:oa,dataURLOptions:G,mirror:Fb,iframeManager:V,stylesheetManager:U,shadowDomManager:Za,processedNodeManager:Ea,canvasManager:Dg,ignoreCSSAttributes:C,plugins:(null==(Ia=
null==Q?void 0:Q.filter(function(aa){return aa.observer}))?void 0:Ia.map(function(aa){return{observer:aa.observer,options:aa.options,callback:function(Ya){return Ta({type:za.Plugin,data:{plugin:aa.name,payload:Ya}})}}}))||[]},v)};V.addLoadListener(function(ea){try{Ja.push($a(ea.contentDocument))}catch(Ia){console.warn(Ia)}});var eb=function(){af();Ja.push($a(document));bf=!0};"interactive"===document.readyState||"complete"===document.readyState?eb():(Ja.push(qb("DOMContentLoaded",function(){Ta({type:za.DomContentLoaded,
data:{}});"DOMContentLoaded"===N&&eb()})),Ja.push(qb("load",function(){Ta({type:za.Load,data:{}});"load"===N&&eb()},window)));return function(){Ja.forEach(function(ea){return ea()});Ea.destroy();bf=!1;fe=void 0}}catch(ea){console.warn(ea)}}function Eg(b){return b&&"string"===typeof b.valueOf()?!0:!1}function ge(b){return Number.isInteger&&Number.isInteger(b)||"number"===typeof b&&isFinite(b)&&Math.floor(b)===b}function Fg(b){if(!Eg(b)){b=b.text||"";var a=document.getElementsByTagName("title");a&&
null!=a[0]&&(b=a[0].text)}return b}function cf(b){var a=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(b);return a?a[1]:b}function jj(b){var a=b.length;"."===b.charAt(--a)&&(b=b.slice(0,a));"*."===b.slice(0,2)&&(b=b.slice(1));return b}function Gg(b){var a=window,c=he("referrer",a.location.href)||he("referer",a.location.href);if(c)return c;if(b)return b;try{if(a.top)return a.top.document.referrer;if(a.parent)return a.parent.document.referrer}catch(d){}return document.referrer}function Gb(b,a,c,
d){if("undefined"===typeof b)return!1;if(b.addEventListener)return b.addEventListener(a,c,d),!0;if(b.attachEvent)return b.attachEvent("on"+a,c);b["on"+a]=c}function he(b,a){return(b=(new RegExp("^[^#]*[?&]"+b+"=([^&#]*)")).exec(a))?decodeURIComponent(b[1].replace(/\+/g," ")):null}function df(b,a,c){void 0===c&&(c=63072E3);try{var d=window.localStorage,e=Date.now()+1E3*c;d.setItem("".concat(b,".expires"),e.toString());d.setItem(b,a);return!0}catch(f){return!1}}function kj(b){try{var a=window.localStorage;
a.removeItem(b);a.removeItem(b+".expires");return!0}catch(c){return!1}}function Tn(b,a){for(var c=window.location.hostname,d="_cnv_root_domain_test_"+(new Date).getTime(),e="_test_value_"+(new Date).getTime(),f=c.split("."),g=f.length-1;0<=g;){var h=f.slice(g,f.length).join(".");ac(d,e,0,"/",h,b,a);if(ac(d)===e){wd(d,h,b,a);c=document.cookie.split("; ");d=[];for(e=0;e<c.length;e++)"_cnv_root_domain_test_"===c[e].substring(0,22)&&d.push(c[e]);c=d;for(d=0;d<c.length;d++)wd(c[d],h,b,a);return h}--g}return c}
function wd(b,a,c,d){return ac(b,"",-1,"/",a,c,d)}function ac(b,a,c,d,e,f,g){return 1<arguments.length?document.cookie=b+"="+encodeURIComponent(null!==a&&void 0!==a?a:"")+(c?"; Expires="+(new Date(+new Date+1E3*c)).toUTCString():"")+(d?"; Path="+d:"")+(e?"; Domain="+e:"")+(f?"; SameSite="+f:"")+(g?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+b+"=")[1]||"").split(";")[0])}function lj(b){try{var a=null===window||void 0===window?void 0:window.localStorage;return a?(a.removeItem(b),
!0):!1}catch(c){return!1}}function Un(b,a){return cb(cb([],b,!0),a,!0).reduce(function(c,d){var e=c.find(function(f){return f.key===d.key});e?d.condition&&(e.condition=cb(cb([],e.condition||[],!0),d.condition,!0)):c.push(ha({},d));return c},[])}function Vn(b){try{if("undefined"===typeof b.sel)return ef(),J.SAMPLING_MODES.RCFG;var a=b.sel.pct;if("number"==typeof a&&100>a&&0<a&&0==a%1){if("undefined"!==typeof window&&"undefined"!==typeof window.localStorage){var c=localStorage.getItem(J.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);
if("undefined"!==typeof c&&null!==c)return parseFloat(c)<=a?ff(b,J.SAMPLING_ACTION.SAMPLED):ff(b,J.SAMPLING_ACTION.NON_SAMPLED);var d=100*Math.random();localStorage.setItem(J.SAMPLING_STORAGE_RANDOM_NUMBER_KEY,d.toString());return d<a?ff(b,J.SAMPLING_ACTION.SAMPLED):ff(b,J.SAMPLING_ACTION.NON_SAMPLED)}return J.SAMPLING_MODES.NONE}if("number"==typeof a&&0===a)return ef(),J.SAMPLING_MODES.NONE;ef();return J.SAMPLING_MODES.RCFG}catch(e){}return J.SAMPLING_MODES.RCFG}function ef(){"undefined"!==typeof window&&
"undefined"!==typeof window.localStorage&&localStorage.removeItem(J.SAMPLING_STORAGE_RANDOM_NUMBER_KEY)}function ff(b,a){return"undefined"!==typeof b.act&&"undefined"!==typeof b.act[a]&&(b=b.act[a],"undefined"!==typeof b)?b:J.DEFAULT_SAMPLING_ACTION[a]}function pb(b,a){return b.length<=a?b:b.slice(0,a-3)+"..."}function mj(b,a,c,d){var e=[Ma.request_body,Ma.response_body,Ma.request_headers,Ma.response_headers,Ma.request_query],f={};if(a&&0<a.length)for(var g=0;g<a.length;g++){var h=a[g],k=h.conditions;
var m=void 0;var u=["conditions"],n={};for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&0>u.indexOf(m)&&(n[m]=h[m]);if(null!=h&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(m=Object.getOwnPropertySymbols(h);t<m.length;t++)0>u.indexOf(m[t])&&Object.prototype.propertyIsEnumerable.call(h,m[t])&&(n[m[t]]=h[m[t]])}m=n;try{a:{h=b;try{for(u=0;u<k.length;u++){var l=k[u];n=!1;if(0<Object.keys(l).length){t=0;for(var q=Object.entries(l);t<q.length;t++){var p=q[t],v=p[1],w=h[p[0]];if(0<
v.length){for(var y=0,B=0,G=v;B<G.length;B++){var H=G[B],E="contains",F=H;if("object"===W(H)&&H.length)E=H[1],F=H[0];else if("boolean"===typeof H||null===H)E="equal",F=H;if(Wn(w,E,F)){n=!0;break}else if(n=!1,y+1===v.length)break;y++}if(!1===n)break}}}if(n){var I=!0;break a}}}catch(V){console.warn("Conviva App Tracker: Error in Applying nwreqConfig ".concat(V))}I=!1}if(I){h=0;for(var N=Object.entries(b);h<N.length;h++){var la=N[h],S=la[0],pa=la[1];e.includes(S)||(f[S]=pa)}h=0;for(var Q=Object.entries(m);h<
Q.length;h++){var D=Q[h];S=D[0];pa=D[1];try{if(pa&&0<m[S].length){u=!1;if(S===Ma.response_headers||S===Ma.request_headers)u=!0;if(S===Ma.request_body){E=G=B=y=t=n=k=void 0;F=c;var C=b;void 0===F&&(F={});var z=nj(null===(E=null===F||void 0===F?void 0:F.requestDetails)||void 0===E?void 0:E.headers);if("undefined"!==typeof z&&(z.toLowerCase().includes("text/plain")||z.toLowerCase().includes("json")||z.toLowerCase().includes("text/javascript")||z.toLowerCase().includes("application/javascript")||z.toLowerCase().includes("text/html"))||
"undefined"===typeof z)try{if("string"===typeof(null===(G=null===F||void 0===F?void 0:F.requestDetails)||void 0===G?void 0:G.body)&&20480>=(null===(B=null===F||void 0===F?void 0:F.requestDetails)||void 0===B?void 0:B.body.length))try{C[Ma.request_body]=JSON.parse(null===(y=null===F||void 0===F?void 0:F.requestDetails)||void 0===y?void 0:y.body)}catch(V){}else"object"===W(null===(t=null===F||void 0===F?void 0:F.requestDetails)||void 0===t?void 0:t.body)&&20480>=JSON.stringify(null===(n=null===F||void 0===
F?void 0:F.requestDetails)||void 0===n?void 0:n.body).length&&(C[Ma.request_body]=null===(k=null===F||void 0===F?void 0:F.requestDetails)||void 0===k?void 0:k.body)}catch(V){}}if(S===Ma.response_body){var P=C=F=E=G=B=y=t=n=k=void 0,M=void 0,oa=void 0,fa=void 0,R=c,wa=b;void 0===R&&(R={});a:{var xa=null===(fa=null===R||void 0===R?void 0:R.responseDetails)||void 0===fa?void 0:fa.headers;try{fa=void 0;"undefined"!=typeof xa&&null!==xa&&(fa=xa["content-length"]||xa["Content-Length"]||xa["Content-length"]);
var ob="undefined"==typeof fa||null===fa||isNaN(fa)?fa:Number(fa);break a}catch(V){}ob=void 0}var L=nj(null===(oa=null===R||void 0===R?void 0:R.responseDetails)||void 0===oa?void 0:oa.headers);if("undefined"!==typeof L&&(L.toLowerCase().includes("text/plain")||L.toLowerCase().includes("json")||L.toLowerCase().includes("text/javascript")||L.toLowerCase().includes("application/javascript")||L.toLowerCase().includes("text/html")))if("undefined"!==typeof ob&&20480>=ob)if("string"===typeof(null===(M=null===
R||void 0===R?void 0:R.responseDetails)||void 0===M?void 0:M.body))try{wa[Ma.response_body]=JSON.parse(null===(P=null===R||void 0===R?void 0:R.responseDetails)||void 0===P?void 0:P.body)}catch(V){}else"object"===W(null===(C=null===R||void 0===R?void 0:R.responseDetails)||void 0===C?void 0:C.body)&&(wa[Ma.response_body]=null===(F=null===R||void 0===R?void 0:R.responseDetails)||void 0===F?void 0:F.body);else if("undefined"===typeof ob)try{if("string"===typeof(null===(E=null===R||void 0===R?void 0:R.responseDetails)||
void 0===E?void 0:E.body)&&20480>=(null===(B=null===(G=null===R||void 0===R?void 0:R.responseDetails)||void 0===G?void 0:G.body)||void 0===B?void 0:B.length))try{wa[Ma.response_body]=JSON.parse(null===(y=null===R||void 0===R?void 0:R.responseDetails)||void 0===y?void 0:y.body)}catch(V){}else"object"===W(null===(t=null===R||void 0===R?void 0:R.responseDetails)||void 0===t?void 0:t.body)&&20480>=JSON.stringify(null===(n=null===R||void 0===R?void 0:R.responseDetails)||void 0===n?void 0:n.body).length&&
(wa[Ma.response_body]=null===(k=null===R||void 0===R?void 0:R.responseDetails)||void 0===k?void 0:k.body)}catch(V){}}S===Ma.request_query&&Xn(b,d);var U=Yn(b[S],m[S],u);0!==Object.keys(U).length&&(f[S]=U)}}catch(V){f[S]=void 0}}return f}}catch(V){console.warn("Conviva App Tracker: Error in collecting attributes nwreqConfig ".concat(V))}}f=ha({},b);for(b=0;b<e.length;b++)a=e[b],"undefined"!==typeof f&&null!==f&&f.hasOwnProperty(a)&&delete f[a];return f}function Wn(b,a,c){try{if("string"===typeof c&&
"string"===typeof b&&"*"===c.trim())return!0;switch(a){case "==":case "equal":return b===c;case "!=":return b!==c;case ">":return b>c;case "<":return b<c;case ">=":return b>=c;case "<=":return b<=c;case "contains":return""!==c&&"string"===typeof b&&"string"===typeof c&&-1!==b.toLowerCase().indexOf(c.toLowerCase());default:return!1}}catch(d){return console.warn("Conviva App Tracker: Error in Compare values nwreq ".concat(d)),!1}}function Yn(b,a,c){var d={};try{for(var e=0;e<a.length;e++){var f=a[e],
g=b,h=d;c&&(f=f.toLowerCase(),g=g&&Object.entries(g).reduce(function(n,t){var l=t[1];n[t[0].toLowerCase()]=l;return n},{}));for(var k=f.split("."),m=0;m<k.length;m++){var u=k[m];if("undefined"!==typeof g&&null!==g&&g.hasOwnProperty(u))m===k.length-1?h[u]=g[u]:(h[u]=h[u]||{},g=g[u],h=h[u]);else break}}}catch(n){console.warn("Conviva App Tracker: Error in filtering schema object nwreq ".concat(n))}return d}function Xn(b,a){try{var c=null===b||void 0===b?void 0:b.targetUrl;if(c&&"string"===typeof c&&
c.includes("?")){var d=void 0;try{var e=c.indexOf("?");if(-1===e)return;var f=c.indexOf("#",e),g=-1!==f?c.substring(e+1,f):c.substring(e+1);if(!g||g.length>(a||20480))return;d="undefined"!==typeof URLSearchParams?new URLSearchParams(g):null}catch(l){console.warn("Conviva App Tracker: Error creating URLSearchParams: ".concat(l));return}var h={};if(d instanceof URLSearchParams)d.forEach(function(l,q){h[q]=l});else{a=0;for(var k=c.substring(c.indexOf("?")+1).split("&");a<k.length;a++){var m=k[a];if(m){var u=
m.indexOf("="),n=0<u?decodeURIComponent(m.substring(0,u)):decodeURIComponent(m);if(n){var t=0<u&&u<m.length-1?decodeURIComponent(m.substring(u+1)):"";h[n]=t}}}}0<Object.keys(h).length&&(b[Ma.request_query]=h)}}catch(l){console.warn("Conviva App Tracker: Error parsing request query parameters: ".concat(l))}}function oj(b,a,c,d){for(var e={},f=0;f<a.length;f++){var g=a[f],h=g.req,k=g.opt;g=g.smb;try{var m=d([{req:h,opt:k}],[],b,c);if((null===m||void 0===m?0:m.result)&&g&&Array.isArray(g)){var u=Zn(b,
g,!1);0<Object.keys(u).length&&Object.assign(e,u);return e}}catch(n){console.warn("Conviva App Tracker: Error in collecting conditional SSE attributes ".concat(n))}}return e}function Zn(b,a,c){var d={};try{for(var e=0;e<a.length;e++){var f=a[e],g=b,h=d;c&&(f=f.toLowerCase(),g=g&&Object.entries(g).reduce(function(n,t){var l=t[1];n[t[0].toLowerCase()]=l;return n},{}));for(var k=f.split("."),m=0;m<k.length;m++){var u=k[m];if("undefined"!==typeof g&&null!==g&&g.hasOwnProperty(u))if(m===k.length-1)h[u]=
g[u];else{h[u]=h[u]||{};g=g[u];if("string"===typeof g&&m<k.length-1)try{g=JSON.parse(g)}catch(n){}h=h[u]}else break}}}catch(n){console.warn("Conviva App Tracker: Error in filtering SSE object ".concat(n))}return d}function $n(b,a){return a?a.split(".").reduce(function(c,d){if(null!=c){if("string"===typeof c)try{c=JSON.parse(c)}catch(e){}d=/^\d+$/.test(d)?Number(d):d;return null===c||void 0===c?void 0:c[d]}},b):b}function pj(b,a,c){if("translate.googleusercontent.com"===b)""===c&&(c=a),b=(b=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(a))&&
1<(null===b||void 0===b?void 0:b.length)?he("u",b[1]):null,a=null!==b&&void 0!==b?b:"",b=cf(a);else if("cc.bingj.com"===b||"webcache.googleusercontent.com"===b)a=document.links[0].href,b=cf(a);return[b,a,c]}function ao(b,a,c,d){var e=Math.round((new Date).getTime()/1E3);b?(b=b.split("."),b.unshift("0")):b=["1",a,e,d,e,"",c];b[6]&&"undefined"!==b[6]||(b[6]=ic.v4());b[7]&&"undefined"!==b[7]||(b[7]="");b[8]&&"undefined"!==b[8]||(b[8]="");b[9]&&"undefined"!==b[9]||(b[9]="");b[10]&&"undefined"!==b[10]||
(b[10]=-1);var f=function(g,h){g=parseInt(g);return isNaN(g)?h:g};a=function(g){return g?f(g,void 0):void 0};return[b[0],b[1],f(b[2],e),f(b[3],d),f(b[4],e),a(b[5]),b[6],b[7],b[8],a(b[9])]}function ie(b,a){void 0===a&&(a=1);"0"===b[0]?(b[7]=b[6],b[5]=b[4],b[3]++):b[3]=a;a=ic.v4();b[6]=a;b[8]="";b[9]=void 0;return a}function Hg(b){b[4]=Math.round((new Date).getTime()/1E3)}function gf(b){return{activateLCPObserver:function(){try{PerformanceObserver&&(new PerformanceObserver(function(a){try{a.getEntries().forEach(function(c){var d;
if("largest-contentful-paint"===c.entryType){var e=null===performance||void 0===performance?void 0:performance.getEntriesByType("navigation"),f=void 0;e&&0<(null===e||void 0===e?void 0:e.length)&&(f=null===(d=e[0])||void 0===d?void 0:d.activationStart);Da=ha(ha({},c.toJSON()),{performanceNavigationActivationStart:null!==f&&void 0!==f?f:0})}})}catch(c){console.warn("convivaAppTracker error in conviva lcp observer "+c)}})).observe({type:"largest-contentful-paint",buffered:!0})}catch(a){console.warn("convivaAppTracker conviva_lcp failed "+
a)}},contexts:function(){try{switch(b){case J.PERFORMANCE_CONTEXT.DISABLED:return[];case J.PERFORMANCE_CONTEXT.PERFORMANCE_NAVIGATION_TIMING:return bo();default:var a=window,c=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance,d=c.timing;var e=c?[{sc:"w3/pt/1-0-0",dt:{navigationStart:d.navigationStart,domainLookupStart:d.domainLookupStart,domainLookupEnd:d.domainLookupEnd,responseStart:d.responseStart,responseEnd:d.responseEnd,loadEventEnd:d.loadEventEnd}}]:[];return cb(cb([],e,
!0),co().contexts(),!0)}}catch(f){return console.warn("convivaAppTracker problem in perfromance context "+f),[]}}}}function bo(){var b,a,c;try{var d=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};if(d.getEntriesByType){var e=d.getEntriesByType("navigation")[0],f=null!==(b=null===d||void 0===d?void 0:d.timeOrigin)&&void 0!==b?b:0;if(!e)return[];var g={st:Math.floor(f+e.startTime),dls:Math.floor(f+e.domainLookupStart),dle:Math.floor(f+e.domainLookupEnd),
rss:Math.floor(f+e.responseStart),rse:Math.floor(f+e.responseEnd),le:Math.floor(f+e.loadEventEnd),dur:Math.floor(f+e.duration),as:Math.floor(f+e.activationStart)};if(null===Da||void 0===Da?0:Da.startTime)g.lcp={rt:Math.floor(f+Da.startTime),url:128<(null===(a=null===Da||void 0===Da?void 0:Da.url)||void 0===a?void 0:a.length)?null===(c=null===Da||void 0===Da?void 0:Da.url)||void 0===c?void 0:c.substring(0,128):Da.url,sz:Da.size};return[{sc:"cv/pc/1-0-1",dt:g}]}return[]}catch(h){return console.warn("ConvivaAppTracker: issue will getting performance Navigation timing context"),
[]}}function co(){return{contexts:function(){var b,a,c;try{if("undefined"!=typeof(null===Da||void 0===Da?void 0:Da.startTime)&&"number"===typeof(null===Da||void 0===Da?void 0:Da.startTime))return[{sc:"cv/lcp/1-0-0",dt:{lcp:Math.round(Da.startTime)-(null!==(b=Da.performanceNavigationActivationStart)&&void 0!==b?b:0),url:128<(null===(a=null===Da||void 0===Da?void 0:Da.url)||void 0===a?void 0:a.length)?null===(c=null===Da||void 0===Da?void 0:Da.url)||void 0===c?void 0:c.substring(0,128):Da.url}}]}catch(d){}return[]}}}
function hf(b,a,c,d,e,f){var g;try{var h=null,k=null!==(g=f.url)&&void 0!==g?g:"";if(!k)return!0;if(eo.some(function(l){return k.includes(l)}))return!1;var m=new URL(k);var u=m.protocol.replace(":","");g=function(l,q){var p;l=qj(l,{scheme:u,host:m.hostname,path:decodeURIComponent(m.pathname)},Pb.NETWORK_REQUEST);return l.matched?l.opt?oc(l.opt,{responseStatusCode:null!==(p=null===e||void 0===e?void 0:e.status)&&void 0!==p?p:0,duration:Date.now()-f.requestTimestamp},Pb.NETWORK_REQUEST)===q:q:null};
b&&null===h&&(h=g(b,!0));a&&null===h&&(h=g(a,!1));if(null===h){var n=(null===c||void 0===c?void 0:c.includes("*"))||(null===c||void 0===c?void 0:c.some(function(l){return l&&""!==l?k.includes(l):!1})),t=null===d||void 0===d?void 0:d.some(function(l){return l&&""!==l?k.includes(l):!1});h=!n||t}return!0===h?!0:!1}catch(l){return!0}}function jf(b,a,c,d){try{var e=null;d=null!==d&&void 0!==d?d:"";if(!d)return{result:!0};var f=new URL(d);var g=f.protocol.replace(":","");d=function(h,k){var m;h=qj(h,ha({scheme:g,
host:f.hostname,path:decodeURIComponent(f.pathname)},c),Pb.SSE_EVENT);if(h.matched){if(h.opt){var u=oc(h.opt,c,Pb.SSE_EVENT);return!0!==(null===(m=null===h||void 0===h?void 0:h.item)||void 0===m?void 0:m.count)||u?{result:u===k,matchedConfig:h.item,shouldSend:!0}:{result:h.matched===k,matchedConfig:h.item,shouldSend:!1}}return{result:k,matchedConfig:h.item,shouldSend:!1}}return null};b&&null===e&&(e=d(b,!0));a&&null===e&&(e=d(a,!1));(!b||Array.isArray(b)&&0===b.length)&&null===e&&(e={result:!0});
return e}catch(h){return{result:!0}}}function qj(b,a,c){try{for(var d=0;d<b.length;d++){var e=b[d],f=e.opt;if(oc(e.req,a,c))return{matched:!0,opt:f||null,item:e}}return{matched:!1,opt:null}}catch(g){return{matched:!1,opt:null}}}function oc(b,a,c){try{if(!b)return!1;if("and"===b.type){for(var d=0,e=b.cond;d<e.length;d++){var f=e[d];if(!oc(f,a,c))return!1}return!0}if("or"===b.type){e=0;for(d=b.cond;e<d.length;e++)if(f=d[e],oc(f,a,c))return!0;return!1}return c===Pb.NETWORK_REQUEST?fo(b,a):c===Pb.CUSTOM_EVENT?
go(b,a):c===Pb.SSE_EVENT?ho(b,a):!1}catch(g){return!1}}function go(b,a){var c=b.key,d=b.op;b=b.val;if(!c||!d)return!1;if("undefined"!==typeof a[c]){if(Eg(a[c]))return pc(a[c],d,b);if("boolean"===typeof a[c])switch(a=a[c],d){case "!=":return a!==b;case "==":return a===b;default:return!1}if(Number.isInteger(a[c]))return kf(a[c],d,b)}return!1}function ho(b,a){var c=b.key,d=b.op;b=b.val;if(!c||!d)return!1;switch(c){case "sch":return a.scheme?pc(a.scheme,d,b):!1;case "host":return a.host?pc(a.host,d,b):
!1;case "path":return a.path?pc(a.path,d,b):!1;default:a=$n(a,c);if(null!==a&&void 0!==a){if("string"===typeof a)return pc(a,d,b);if("boolean"===typeof a)switch(d){case "!=":return a!==b;case "==":return a===b;default:return!1}if("number"===typeof a&&Number.isInteger(a))return kf(a,d,b)}return!1}}function fo(b,a){var c=b.key,d=b.op;b=b.val;if(!c||!d)return!1;switch(c){case "sch":return a.scheme?pc(a.scheme,d,b):!1;case "host":return a.host?pc(a.host,d,b):!1;case "path":return a.path?pc(a.path,d,b):
!1;case "dur":return a.duration?kf(a.duration,d,b):!1;case "rsc":return void 0!==a.responseStatusCode&&0<=a.responseStatusCode?kf(a.responseStatusCode,d,b):!1;default:return!1}}function pc(b,a,c){return"=="===a&&Array.isArray(c)?(a=c,a.includes("*")?!0:a.some(function(d){return d&&""!==d?b===d:!1})):"contains"===a&&Array.isArray(c)?(a=c,a.includes("*")?!0:a.some(function(d){return d&&""!==d?b.includes(d):!1})):"sw"===a&&Array.isArray(c)?(a=c,a.includes("*")?!0:a.some(function(d){return d&&""!==d?
b.startsWith(d):!1})):"ew"===a&&Array.isArray(c)?(a=c,a.includes("*")?!0:a.some(function(d){return d&&""!==d?b.endsWith(d):!1})):!1}function kf(b,a,c){if("in"===a.toLowerCase()&&Array.isArray(c))return c.includes(b);if("range"===a.toLowerCase()&&"object"===W(c)){a=c.min;var d=c.max,e=c.minExclusive;c=c.maxExclusive;return void 0!==a&&void 0!==d?b>=a&&b<=d:void 0!==e&&void 0!==c?b>e&&b<c:!1}if(ge(c))switch(a){case "!=":return b!==c;case ">":return b>c;case ">=":return b>=c;case "<":return b<c;case "<=":return b<=
c;case "==":return b===c}return!1}function rj(b,a,c){var d=null;a:{for(var e=0;e<b.length;e++){var f=b[e];var g=f.opt;if(oc(f.req,a,c))if(g){if(oc(g,a,c)){b=!0;break a}}else{b=!0;g=null;break a}}b=!1;g=null}b&&(d=g?oc(g,a,c)?!0:!1:!0);return d}function ab(b,a,c){var d,e;try{if(b&&a){var f=null===b||void 0===b?void 0:b.getConfig();a:{var g,h,k,m={message:""};try{var u=c.message,n=c.error,t=c.className,l=c.extraData;if(u)m.message=u;else if("string"===typeof n)if(0<n.trim().length)m.message=n;else{qa.warn("Conviva Eco Sensor:: Mandatory field message is missing");
var q=null;break a}else"object"===W(n)&&("string"===typeof n.message&&0<n.message.trim().length&&(m.message=pb(n.message,J.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_MESSAGE_LENGTH)),"string"===typeof n.name&&0<n.name.trim().length&&(m.exceptionName=pb(n.name,J.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_EXCEPTION_NAME_LENGTH)),"string"===typeof n.stack&&0<n.stack.trim().length&&(m.stackTrace=pb(n.stack,J.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_STACK_LENGTH)));if(0===m.message.trim().length){qa.warn("Conviva Eco Sensor:: Mandatory field message is missing");
q=null;break a}"string"===typeof t&&0<t.trim().length&&(m.className=pb(t,J.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_CLASSNAME_LENGTH));"undefined"!==typeof l&&null!==l&&(m.extraData=l);var p=null===b||void 0===b?void 0:b.getConfig();if(null===p||void 0===p?0:p.configurationVersion)m.remoteConfigVersion=p.configurationVersion;if(null===c||void 0===c?0:c.configAppliedTime)m.configAppliedTime=null===c||void 0===c?void 0:c.configAppliedTime;if(null===p||void 0===p?0:p.cacheRefreshInterval)m.cacheRefreshInterval=
p.cacheRefreshInterval;if(null===c||void 0===c?0:c.configAppliedSrc)m.configAppliedSrc=null===c||void 0===c?void 0:c.configAppliedSrc;if(localStorage){var v=localStorage.getItem(J.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);"undefined"!==typeof v&&null!==v&&(m.samplingRandomNumber=parseFloat(v))}"number"===typeof(null===(h=null===(g=null===p||void 0===p?void 0:p.controlIngestConfig)||void 0===g?void 0:g.sel)||void 0===h?void 0:h.pct)?(m.samplingPercentage=p.controlIngestConfig.sel.pct,m.samplingDecision=
J.SAMPLING_STATUS.DERIVED,void 0!=W(null===(k=null===p||void 0===p?void 0:p.controlIngestConfig)||void 0===k?void 0:k.act)&&(m.extraData=ha(ha({},m.extraData),{samplingActionConfig:p.controlIngestConfig.act}))):m.samplingDecision=J.SAMPLING_STATUS.DEFAULT;"function"==typeof a&&"string"==typeof a()&&(m.samplingStatus=a()==J.SAMPLING_MODES.RCFG?!0:!1)}catch(N){qa.warn("Error occurred while generating diagnostic object",N);q=null;break a}q=m}var w;if(!(w=!q)){var y;try{var B=null===b||void 0===b?void 0:
b.getConfig(),G=(null===(y=null===B||void 0===B?void 0:B.di)||void 0===y?void 0:y.lim)||10,H=Date.now();6E4<=H-sj&&(Ig=0,sj=H);Ig++;var E=Ig>G?!1:!0}catch(N){qa.warn("Conviva Eco Sensor:: Error occured while checking diagnostic event is allowed",N),E=!1}w=!E}if(!w&&"boolean"==typeof(null===(d=null===f||void 0===f?void 0:f.di)||void 0===d?void 0:d.en)&&!0===(null===(e=null===f||void 0===f?void 0:f.di)||void 0===e?void 0:e.en))if(null===b||void 0===b)void 0;else{var F=b.track;var I=Ec({event:{sc:"iglu:com.conviva/di/jsonschema/1-0-4",
dt:ld({msg:q.message,cn:q.className,st:q.stackTrace,en:q.exceptionName,ed:q.extraData,rcv:q.remoteConfigVersion,cat:q.configAppliedTime,cri:q.cacheRefreshInterval,csrc:q.configAppliedSrc,srn:q.samplingRandomNumber,spr:q.samplingPercentage,ss:q.samplingStatus,sd:q.samplingDecision})}});F.call(b,I)}}}catch(N){qa.warn("Conviva Eco Sensor:: Error occurred while sending reportDiagnosticError",N)}}function io(){(null===window||void 0===window?0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",
function(){tj()},{signal:sb})}function tj(){var b,a,c=null===(b=null===Fa||void 0===Fa?void 0:Fa.core)||void 0===b?void 0:b.getConfig();Ic=(null===(a=null===c||void 0===c?void 0:c.clickcc)||void 0===a?void 0:a.cssSelectorList)||Ic;Ic=(null===Ic||void 0===Ic?void 0:Ic.replace(/\s+/g,""))||""}function jo(b,a){var c;b=b.querySelectorAll(uj);if(0===b.length)return null;if(1===b.length&&0<b[0].offsetWidth&&0<b[0].offsetHeight)return b[0];var d=a.clientX;a=a.clientY;if(b.length<=("IntersectionObserver"in
window&&"fetch"in window&&"Promise"in window?J.MAX_NATIVE_SCAN:J.MAX_NATIVE_SCAN_LEGACY))for(var e=0;e<b.length;e++){var f=null===(c=b[e])||void 0===c?void 0:c.getBoundingClientRect();if(f&&d>=f.left&&d<=f.right&&a>=f.top&&a<f.bottom)return b[e]}return null}function vj(b,a){if(!(b instanceof HTMLElement||b instanceof SVGElement))return null;var c=null===b||void 0===b?void 0:b.closest(uj);if(c)return c;if(c=null===b||void 0===b?void 0:b.closest(Ic))return jo(c,a)||c;a=b;c=0;var d=J.CLICK_MAX_DEPTH;
a:{if(a.style){if(a.style.visibility&&""!==a.style.visibility&&"hidden"==a.style.visibility||a.style.pointerEvents&&""!==a.style.pointerEvents&&"none"==a.style.pointerEvents){var e=!1;break a}if(a.style.cursor&&""!==a.style.cursor&&"pointer"==a.style.cursor){e=!0;break a}}e=getComputedStyle(a);e="hidden"===e.visibility||"none"===e.pointerEvents?!1:"pointer"===e.cursor?!0:!1}if(e){for(;a&&a!==document.documentElement&&(a instanceof HTMLElement||a instanceof SVGElement)&&c<d;){if("function"===typeof a.onclick)return a;
a=a.parentElement;c++}return b.closest(ko)||b}return null}function lo(b,a){var c,d;try{if(!Fa||!Fa.core||!b)return null;var e=Fa.core.getConfig();if(!0!==(null===(c=null===e||void 0===e?void 0:e.clickcc)||void 0===c?void 0:c.en))return null;var f=null===(d=null===e||void 0===e?void 0:e.clickcc)||void 0===d?void 0:d.uiMode;return f===je.RAW?b:f===je.BOTH?vj(b,a)||b:vj(b,a)}catch(g){return qa.warn("Conviva App Tracker caused Exception in getTrackedElement method of user click tracking module",g),null}}
function wj(b){try{var a=Date.now(),c=J.CLICK_DEBOUNCING_DELAY;if(null===Jg||a-Jg>=c){var d,e,f,g,h,k,m;try{var u,n;if(null===(u=b.target)||void 0===u?0:u.shadowRoot)var t=null===(n=b.composedPath)||void 0===n?void 0:n.call(b);var l=lo(t&&t[0]||b.target,b);if(l&&(l instanceof HTMLElement||l instanceof HTMLInputElement)){b={};var q=J.CLICK_KEY_MAX_LENGTH;if(null===l||void 0===l?0:l.id)b.id=pb(l.id,q);if(null===l||void 0===l?0:l.className)b["class"]=pb(l.className,q);if(null===l||void 0===l?0:l.tagName)b.elementName=
pb(l.tagName.toLowerCase(),q);if(null===(d=null===l||void 0===l?void 0:l.innerText)||void 0===d?0:d.trim())b.text=pb(l.innerText.trim(),q);if(null===l||void 0===l?0:l.getAttribute("name"))b.name=pb(l.getAttribute("name")||"",q);if(null===l||void 0===l?0:l.getAttribute("type"))b.elementType=pb((null===(e=l.getAttribute("type"))||void 0===e?void 0:e.toLowerCase())||"",q);if(null===l||void 0===l?0:l.placeholder)b.placeholder=pb(l.placeholder,q);(null===l||void 0===l?0:l.getAttribute("type"))&&"password"!==
(null===l||void 0===l?void 0:l.getAttribute("type"))&&l.value&&(b.value=pb(l.value,q));var p=null===(f=null===Fa||void 0===Fa?void 0:Fa.core)||void 0===f?void 0:f.getConfig(),v=null===(g=null===p||void 0===p?void 0:p.clickcc)||void 0===g?void 0:g.collectattr;if(v)for(d=0;d<v.length;d++){var w=v[d],y=null===l||void 0===l?void 0:l.getAttribute(w);y&&(b[w]=pb(y,q))}try{if("A"===l.tagName.toUpperCase()||"AREA"===l.tagName.toUpperCase()){if(null!=l.href){var B=l.hostname||cf(l.href),G=B.toLowerCase(),
H=l.href.replace(B,G);/^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):/i.test(H)||(b.targetUrl=pb(decodeURIComponent(H),q))}l.target&&(b.target=pb(l.target,q))}}catch(Q){qa.warn("Conviva App Tracker caused Exception in handleClick href setting",Q)}var E=null===(h=l.querySelector("use"))||void 0===h?void 0:h.getAttribute("xlink:href");E&&(b["xlink:href"]=pb(E,q));var F=null!==(k=null===p||void 0===p?void 0:p.clickcc)&&void 0!==k?k:{},I=Pb.CUSTOM_EVENT,N=F.collect,la=F.block;h=null;
N&&(h=rj(N,b,I));if(la&&null===h){var S=rj(la,b,I);"boolean"===typeof S&&(h=!S)}var pa=null===h?!0:h;if("boolean"!==typeof pa||!1!==pa)null===(m=null===Fa||void 0===Fa?void 0:Fa.core)||void 0===m?void 0:m.track(Sd({name:"conviva_click",data:JSON.stringify(b)}))}}catch(Q){qa.warn("Conviva App Tracker caused Exception in handleClick method of user click tracking module",Q)}0<lf&&ab(Fa.core,Fa.getSamplingMode,{className:"clickTracking - droppedEvent",message:"total click events dropped to Avoid tracking spam from rapid clicks",
extraData:{clickEventDropped:lf}});lf=0}else lf++;Jg=a}catch(Q){console.warn("Conviva App Tracker caused Exception in immediateClickHandler method of user click tracking module",Q)}}function mo(){try{ke||"undefined"===typeof document||(document.body?(Jc=wj,Gb(document.body,"click",Jc,{signal:sb,capture:!0,passive:!0}),ke=!0):document.addEventListener("DOMContentLoaded",function(){if(null===document||void 0===document?0:document.body)Jc=wj,Gb(document.body,"click",Jc,{signal:sb,capture:!0,passive:!0}),
ke=!0}),tj(),io())}catch(b){qa.warn("Conviva App Tracker caused Exception in enableUserClickTracking method of user click tracking module",b)}}function xj(){try{ke&&"undefined"!==typeof document&&document.body&&(Jc&&(document.body.removeEventListener("click",Jc),Jc=null),ke=!1)}catch(b){qa.warn("Conviva App Tracker caused Exception in disableUserClickTracking method of user click tracking module",b)}}function no(b,a,c,d,e){var f,g,h;void 0===d&&(d={});return Zl(this,void 0,void 0,function(){var k,
m,u,n,t,l,q,p,v,w,y,B,G,H,E,F;return $l(this,function(I){switch(I.label){case 0:k=null!==(f=d.idleMs)&&void 0!==f?f:3E4,m=null!==(g=d.maxEvents)&&void 0!==g?g:1E4,u=null!==(h=d.bufferMaxBytes)&&void 0!==h?h:1E6,n=b.getReader(),t=new TextDecoder("utf-8"),l="",q=0,p=void 0,v=function(){void 0!==p&&(clearTimeout(p),p=void 0);p=setTimeout(function(){console.warn("Conviva App Tracker:: stream idle >",k,"ms \u2192 cancelling",a);n.cancel()},k)},v(),I.label=1;case 1:I.trys.push([1,5,6,7]),I.label=2;case 2:return[4,
n.read()];case 3:w=I.sent();y=w.value;if(B=w.done)return[3,4];v();l+=t.decode(y,{stream:!0});if((new TextEncoder).encode(l).length>u)return console.warn("Conviva App Tracker:: SSE buffer exceeded",u,"bytes, cancelling stream",a),n.cancel(),[3,4];for(G=void 0;-1!==(G=l.search(/\r?\n\r?\n/));)if(H=l.slice(0,G).replace(/\s+$/,""),l=l.slice(G+2),E=oo(H))if(c(E),++q>=m){console.warn("Conviva App Tracker:: event budget reached \u2192 cancelling",a);n.cancel();break}return[3,2];case 4:return[3,7];case 5:F=
I.sent();if(!(F instanceof DOMException&&"AbortError"===F.name))throw F;return[3,7];case 6:return clearTimeout(p),n.releaseLock(),e&&e(),[7];case 7:return[2]}})})}function oo(b){var a={data:""},c=0;for(b=b.split(/\n+/);c<b.length;c++){var d=b[c];if(d&&!d.startsWith(":")){var e=d.indexOf(":"),f=(-1===e?d:d.slice(0,e)).trim();d=-1===e?"":d.slice(e+1).replace(/^\s+/,"");switch(f){case "data":a.data+=(a.data?"\n":"")+d;break;case "event":a.event=d;break;case "id":a.id=d}}}return a.data?a:null}function po(){try{var b=
!!window.localStorage}catch(c){b=!0}if(!b)return!1;try{var a=window.localStorage;a.setItem("modernizr","modernizr");a.removeItem("modernizr");return!0}catch(c){return!1}}function qo(b,a,c,d,e,f,g,h,k,m,u,n,t,l,q,p,v,w,y){function B(L){var U=Object.keys(L).map(function(V){return[V,L[V]]}).reduce(function(V,ka){V[ka[0]]=ka[1].toString();return V},{});return{evt:U,bytes:G(JSON.stringify(U))}}function G(L){for(var U=0,V=0;V<L.length;V++){var ka=L.charCodeAt(V);127>=ka?U+=1:2047>=ka?U+=2:55296<=ka&&57343>=
ka?(U+=4,V++):U=65535>ka?U+3:U+4}return U}function H(L,U){U=I(U,!0,!1);L=N(la([L.evt]));try{q().toLowerCase()!==bc.NONE&&(L=yj.gzip(L,{level:6}),U.setRequestHeader("Content-Encoding",bc.GZIP))}catch(V){}y()!==J.SAMPLING_MODES.NONE&&U.send(L)}function E(L){try{if("undefined"!==typeof window&&"undefined"!==typeof window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__&&"function"===typeof window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__.postMessage){var U=N(la(L));U&&0<U.length&&window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__.postMessage(U)}}catch(V){qa.warn("Error occured while sending message to Visual Labelling Extension",
V)}}function F(L){for(void 0===L&&(L=!1);z.length&&"string"!==typeof z[0]&&"object"!==W(z[0]);)z.shift();if(1>z.length)D=!1;else{if(!Eg(C))throw"No collector configured";D=!0;window.clearTimeout(P);P=-1;if(fa){var U=function($a){for(var eb=0,ea=0;eb<$a.length&&!(ea+=$a[eb].bytes,ea>=v());)eb+=1;return eb},V=void 0,ka=void 0;if("object"===W(z[0])){V=C;var na=I(V,!0,L);ka=U(z)}else V=S(z[0]),na=I(V,!1,L),ka=1;var Ea=setTimeout(function(){na.abort();D=!1},m);na.onreadystatechange=function(){4===na.readyState&&
(clearTimeout(Ea),200<=na.status&&300>na.status?F():(qa.error("Status ".concat(na.status,", will not retry.")),D=!1))};if("object"!==W(z[0]))na.send();else if(U=z.slice(0,ka),0<U.length){L=!1;U=U.map(function($a){return $a.evt});if(oa){var Za=new Blob([N(la(U))],{type:"application/json"});try{L=navigator.sendBeacon(V,Za)}catch($a){L=!1}}if(!0===L)F();else{V=N(la(U));try{q().toLowerCase()!==bc.NONE&&(V=yj.gzip(V,{level:6}),na.setRequestHeader("Content-Encoding",bc.GZIP))}catch($a){}try{y()!==J.SAMPLING_MODES.NONE&&
na.send(V)}catch($a){}}}(function($a){for(var eb=0;eb<$a;eb++)z.shift();c&&df(xa,JSON.stringify(z.slice(-1*k())))})(ka)}else if(u||"object"===W(z[0]))D=!1;else{ka=new Image(1,1);var Ja=!0;ka.onload=function(){Ja&&(Ja=!1,z.shift(),c&&df(xa,JSON.stringify(z.slice(-1*k()))),F())};ka.onerror=function(){Ja&&(D=Ja=!1)};ka.src=S(z[0]);setTimeout(function(){Ja&&D&&(Ja=!1,F())},m)}}}function I(L,U,V){var ka=new XMLHttpRequest;U?(ka.open("POST",L,!V),ka.setRequestHeader("Content-Type","application/json; charset=UTF-8")):
ka.open("GET",L,!V);ka.withCredentials=t;u&&ka.setRequestHeader("SP-Anonymous","*");for(var na in n)Object.prototype.hasOwnProperty.call(n,na)&&ka.setRequestHeader(na,n[na]);return ka}function N(L){return JSON.stringify({sc:"sp/pd/1-0-4",dt:L})}function la(L){for(var U=(new Date).getTime().toString(),V=0;V<L.length;V++)L[V].stm=U;return L}function S(L){return h?C+L.replace("?","?stm="+(new Date).getTime()+"&"):C+L}function pa(){var L=0;return L=R?z.reduce(function(U,V){return U+V.bytes},0):z.reduce(function(U,
V){return U+V.length},0)}function Q(L){function U(ka,na,Ea){return(Ea=Ea.match("(Macintosh;.*Mac OS X (\\d+)_(\\d+)[_\\d]*.*) AppleWebKit/"))&&Ea.length?parseInt(Ea[2])<=ka||parseInt(Ea[2])===ka&&parseInt(Ea[3])<=na:!1}function V(ka){var na;if(na=/^(?!.*Chrome)(?!.*Chromium)(?!.*Edg)(?!.*OPR)(?=.*Safari)/.test(ka))na=!/(Chrome|Chromium|Edg|OPR)/.test(ka);return na}return function(ka,na){return(na=na.match(/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//))&&na.length?parseInt(na[0])<=ka:!1}(13,L)||
U(10,15,L)&&V(L)}(null===window||void 0===window?0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",function(){F()},{signal:sb});var D=!1,C,z=[],P=-1;d="string"===typeof d?d.toLowerCase():d;var M=!0===d||"beacon"===d||"true"===d,oa=!(!(M&&window.navigator&&window.navigator.sendBeacon)||Q(window.navigator.userAgent))&&M,fa=!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),R="get"!==d&&fa&&("post"===d||M),wa=R?e:"/i";d="convivaOutQueue_".concat(b,"_").concat(R?
"post2":"get");var xa="convivaOutQueue_".concat(b,"_").concat(R?"post2":"get");lj(d);lj("".concat(d,".expires"));M&&(n={});f=c&&po()&&R&&f||1;if(c)try{var ob=window.localStorage.getItem(xa);z=ob?JSON.parse(ob):[]}catch(L){}Array.isArray(z)||(z=[]);a.outQueues.push(z);fa&&1<f&&a.bufferFlushers.push(function(L){D||F(L)});return{enqueueRequest:function(L,U,V){if(y()!=J.SAMPLING_MODES.NONE){C=U+wa;if(R){L=B(L);E([L.evt]);U=v();if(L.bytes>=U){D||F();qa.warn("Event ("+L.bytes+"B) too big, max is "+U);H(L,
C);return}z.push(L)}else{var ka="?";var na={co:!0,cx:!0},Ea=!0,Za;for(Za in L)L.hasOwnProperty(Za)&&!na.hasOwnProperty(Za)&&(Ea?Ea=!1:ka+="&",ka+=encodeURIComponent(Za)+"="+encodeURIComponent(L[Za]));for(var Ja in na)L.hasOwnProperty(Ja)&&na.hasOwnProperty(Ja)&&(ka+="&"+Ja+"="+encodeURIComponent(L[Ja]));na=g();if(0<na&&(Ea=S(ka),Ea=G(Ea),Ea>=na)){qa.warn("Event ("+Ea+"B) too big, max is "+na);fa&&(L=B(L),E([L.evt]),H(L,U+e));return}z.push(ka)}U=!1;c&&(U=df(xa,JSON.stringify(z.slice(-1*k()))));!D&&
-1===P&&U&&(P=window.setTimeout(F,w()+Math.floor(Math.random()*l)));(D?0:!U||!p()||R&&pa()>v()||z.length>f||V)&&F()}},executeQueue:function(){D||F()},setUseLocalStorage:function(L){c=L},setAnonymousTracking:function(L){u=L},setCollectorUrl:function(L){C=L+wa},setBufferSize:function(L){f=L},setCustomHeaders:function(L){n=L}}}function ro(){(null===window||void 0===window?0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",function(){var b,a,c,d,e,f,g,h=null===(b=null===bb||
void 0===bb?void 0:bb.core)||void 0===b?void 0:b.getConfig();b=null===(c=null===(a=null===h||void 0===h?void 0:h.collectionRateLimit)||void 0===a?void 0:a.exceptionAutotracking)||void 0===c?void 0:c.maxEvents;a=null===(e=null===(d=null===h||void 0===h?void 0:h.collectionRateLimit)||void 0===d?void 0:d.exceptionAutotracking)||void 0===e?void 0:e.disconnectDuration;d=null===(g=null===(f=null===h||void 0===h?void 0:h.collectionRateLimit)||void 0===f?void 0:f.exceptionAutotracking)||void 0===g?void 0:
g.timeWindow;null===Qb||void 0===Qb?void 0:Qb.updateErrortRateLimitConfig(b,a,d)},{signal:sb})}function so(){var b,a,c,d,e,f,g;try{var h=null===(b=null===bb||void 0===bb?void 0:bb.core)||void 0===b?void 0:b.getConfig(),k=null===(c=null===(a=null===h||void 0===h?void 0:h.collectionRateLimit)||void 0===a?void 0:a.exceptionAutotracking)||void 0===c?void 0:c.maxEvents,m=null===(e=null===(d=null===h||void 0===h?void 0:h.collectionRateLimit)||void 0===d?void 0:d.exceptionAutotracking)||void 0===e?void 0:
e.disconnectDuration,u=null===(g=null===(f=null===h||void 0===h?void 0:h.collectionRateLimit)||void 0===f?void 0:f.exceptionAutotracking)||void 0===g?void 0:g.timeWindow;Qb=new to(k,m,u,null===bb||void 0===bb?void 0:bb.core,null===bb||void 0===bb?void 0:bb.getSamplingMode)}catch(n){console.warn("Conviva App Tracker caused Exception in initialiseRateLimiter method of error tracking module",n)}}function zj(b){try{(null===Qb||void 0===Qb?0:Qb.isAllowedToSendEvent())&&Kg({message:b.message,filename:b.filename,
lineno:b.lineno,colno:b.colno,error:b.error})}catch(a){console.warn("Conviva App Tracker caused Exception in captureError method of error tracking module",a)}}function Aj(b){try{(null===Qb||void 0===Qb?0:Qb.isAllowedToSendEvent())&&Kg({message:b.reason})}catch(a){console.warn("Conviva App Tracker caused Exception in captureRejection method of error tracking module",a)}}function Kg(b){var a,c,d=b.message,e=b.filename,f=b.lineno,g=b.colno,h=b.error,k=b.context;b=b.timestamp;h=h&&h.stack?h.stack:void 0;
if(!("undefined"===typeof d||null===d&&"undefined"===typeof h||null===h&&"undefined"===typeof f||null===f&&"undefined"===typeof g||null===g&&"undefined"===typeof e||null===e)){var m=null===(a=null===bb||void 0===bb?void 0:bb.core)||void 0===a?void 0:a.getConfig();if(null===m||void 0===m?0:m.exceptionAutotracking)null===(c=null===bb||void 0===bb?void 0:bb.core)||void 0===c?void 0:c.track(Ec({event:{sc:"sp/ae/1-0-1",dt:{programmingLanguage:"JAVASCRIPT",message:d?Bj(d,2048):"JS Exception.",stackTrace:h?
Bj(h,8192):"",lineNumber:f,lineColumn:g,fileName:e}}}),k,b)}}function uo(b,a){var c;void 0===a&&(a=!0);if(!1!==a)try{var d=0,e=0;if("complete"===document.readyState){var f=null===(c=null===b||void 0===b?void 0:b.core)||void 0===c?void 0:c.getConfig();null===b||void 0===b?void 0:b.trackCustomEvent({name:"conviva_window_loaded",data:"{}",context:gf(null===f||void 0===f?void 0:f.performanceContextConfig).contexts()})}else null===window||void 0===window?void 0:window.addEventListener("load",function(){var g;
try{var h=null===(g=null===b||void 0===b?void 0:b.core)||void 0===g?void 0:g.getConfig();null===b||void 0===b?void 0:b.trackCustomEvent({name:"conviva_window_loaded",data:"{}",context:gf(null===h||void 0===h?void 0:h.performanceContextConfig).contexts()})}catch(k){console.warn("ConvivaAppTracker : issue while registering window loaded event",k)}},{signal:sb});null===document||void 0===document?void 0:document.addEventListener("visibilitychange",function(){var g,h;try{if((null===b||void 0===b?void 0:
b.getSamplingMode())!==J.SAMPLING_MODES.NONE)if("hidden"===document.visibilityState)setTimeout(function(){var m,u;try{var n=null===(m=null===b||void 0===b?void 0:b.core)||void 0===m?void 0:m.getConfig();e++;if(null===n||void 0===n?0:n.lifecycleAutotracking)if(null===(u=null===b||void 0===b?void 0:b.core)||void 0===u)void 0;else{var t=u.track;var l=Ec({event:{sc:"sp/abg/1-0-0",dt:ld({backgroundIndex:e})}});t.call(u,l)}"hidden"!==document.visibilityState||(null===b||void 0===b?0:b.getPageViewSent())||
(null===b||void 0===b?void 0:b.trackCustomEvent({name:"conviva_app_backgrnd_before_page_view",data:"{}"}))}catch(q){console.warn("ConvivaAppTracker : issue while tracking visibility change",q)}},0);else{var k=null===(g=null===b||void 0===b?void 0:b.core)||void 0===g?void 0:g.getConfig();d++;if(null===k||void 0===k?0:k.lifecycleAutotracking)null===(h=null===b||void 0===b?void 0:b.core)||void 0===h?void 0:h.track(Ec({event:{sc:"sp/afg/1-0-0",dt:ld({foregroundIndex:d})}}))}}catch(m){console.warn("convivaAppTracker visibilitychange failed "+
m)}},{signal:sb});"undefined"!=typeof document&&document&&document.addEventListener&&document.addEventListener("convivaVideoEvent",function(g){g&&b&&(null===b||void 0===b?void 0:b.getSamplingMode())!==J.SAMPLING_MODES.NONE&&(null===b||void 0===b?void 0:b.trackVideoEvent(g))},{signal:sb})}catch(g){console.warn("convivaAppTracker error in page load metrics"+g)}}function Cj(){var b=localStorage.getItem("Conviva.sdkConfig"),a={};if(b)try{a=JSON.parse(b)}catch(c){}return a}function Dj(){var b=null;try{if(window.localStorage){var a=
localStorage.getItem(J.REMOTE_CONFIG_STORAGE_KEY);a&&(b=JSON.parse(a).sessionReplayConfiguration)}}catch(c){}return b}function vo(){var b=BigInt(0),a=BigInt(0),c=BigInt(17356896E5),d=BigInt(Math.floor(1024*Math.random()));return{generateId:function(){var e=BigInt(Date.now());if(e===a){if(b=b+BigInt(1)&BigInt(4095),b===BigInt(0))for(;(e=BigInt(Date.now()))===a;);}else b=BigInt(0);a=e;return(e-c<<BigInt(22)|d<<BigInt(12)|b).toString()}}}function Ej(b,a){if(b===a||Number.isNaN(b)&&Number.isNaN(a))return!0;
if("object"!==W(b)||null===b||"object"!==W(a)||null===a)return!1;if(b instanceof Date&&a instanceof Date)return b.getTime()===a.getTime();var c=Object.keys(b),d=Object.keys(a);return c.length!==d.length?!1:c.every(function(e){return d.includes(e)&&Ej(b[e],a[e])})}function wo(b,a){mf=b;Lg=a;if(le="true"===(null===localStorage||void 0===localStorage?void 0:localStorage.getItem(J.SESSION_RECORDING_STARTED)))b=Dj(),cc=new Fj(mf,Lg,b),cc.initiateRecording();xo()}function xo(){(null===window||void 0===
window?0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",function(){try{if(mf.getSamplingMode()===J.SAMPLING_MODES.RCFG){var b=Dj();if(null===Mg||!Ej(Mg,b)){Mg=b;if(b){var a=!1,c=!1;try{if(a=b.enabled)try{var d=Cj(),e=b.sampling.pct;c=0===e?!1:100===e?!0:yo.shouldInclude(e,d.clId)}catch(g){}}catch(g){}var f=a&&c}else f=!1;b&&f?(cc&&Gj(!1),le||(le=!0,null===localStorage||void 0===localStorage?void 0:localStorage.setItem(J.SESSION_RECORDING_STARTED,"true"),cc=new Fj(mf,
Lg,b),cc.initiateRecording())):le&&(null===localStorage||void 0===localStorage?void 0:localStorage.setItem(J.SESSION_RECORDING_STARTED,"false"),Gj(!0))}}}catch(g){}},{signal:sb})}function Gj(b){null===cc||void 0===cc?void 0:cc.stopRecording(b);le=!1;cc=null}function zo(b,a,c,d,e){void 0===e&&(e={});var f=[];b=function(h,k,m,u,n){function t(){Kc=pj(window.location.hostname,window.location.href,Gg());Kc[1]!==dc&&(me=Gg(dc));Hj=jj(Kc[0]);dc=Kc[1]}function l(r){try{var x=(new Date).getTime(),A=r.currentTarget;
if(null===A||void 0===A?0:A.href){r="_cnv="+(nf+"."+x);var K=A.href.split("#"),Y=K[0].split("?"),ca=Y.shift(),da=Y.join("?");if(da){Y=!0;var T=da.split("&");for(x=0;x<T.length;x++)if("_cnv="===T[x].substr(0,5)){Y=!1;T[x]=r;da=T.join("&");break}Y&&(da=r+"&"+da)}else da=r;K[0]=ca+"?"+da;var ba=K.join("#");A.href=ba}}catch(Ga){console.warn("Conviva App Tracker:: Error in linkDecorationHandler of decorateLinks ".concat(Ga))}}function q(r){if("undefined"!=typeof document&&document.links&&0<document.links.length)for(var x=
0;x<document.links.length;x++){var A=document.links[x];!A.spDecorationEnabled&&r(A)&&(Gb(A,"click",l,!0),Gb(A,"mousedown",l,!0),A.spDecorationEnabled=!0)}}function p(r){if(Ij){var x=/#.*/;r=r.replace(x,"")}Jj&&(x=/[{}]/g,r=r.replace(x,""));return r}function v(r){return(r=/^([a-z]+):/.exec(r))?r[1]:null}function w(r){var x,A,K,Y=null!==(K=null===(A=null===(x=qc.getConfig().emitterConfiguration)||void 0===x?void 0:x.batching)||void 0===A?void 0:A.urgentEvents)&&void 0!==K?K:[],ca=x="",da="",T="";A=
r.getPayload();"string"===typeof A.e&&(T=A.e);if("ue"!==T&&"pv"!==T&&"pp"!==T)return!1;r=r.getJson().find(function(ba){return"ue_pr"===ba.keyIfNotEncoded||"ue_px"===ba.keyIfEncoded});"undefined"!==typeof r&&(r=r.json,"object"===W(r.dt)&&null!==r.dt&&(r=r.dt,"string"===typeof r.sc&&(x=r.sc),"object"===W(r.dt)&&"string"===typeof r.dt.name&&(ca=r.dt.name)),da=x.split("/")[1]||"");return Y.some(function(ba){ba=ba.toLowerCase();return""===ba?!1:ba===T.toLowerCase()||ba===da.toLowerCase()||ba===ca.toLowerCase()})}
function y(r){r=xd+r+"."+Lc;if("localStorage"==ib){try{var x=window.localStorage,A=x.getItem(r+".expires");if(null===A||+A>Date.now())var K=x.getItem(r);else x.removeItem(r),x.removeItem(r+".expires"),K=void 0}catch(Y){K=void 0}return K}if("cookie"==ib||"cookieAndLocalStorage"==ib)return ac(r)}function B(){t();Lc=Ao((ne||Hj)+(Ng||"/")).slice(0,4)}function G(){Og=(new Date).getTime()}function H(){var r=E(),x=r[0];x<of?of=x:x>pf&&(pf=x);r=r[1];r<qf?qf=r:r>rf&&(rf=r);G()}function E(){var r="undefined"!=
typeof document?null===document||void 0===document?void 0:document.documentElement:void 0;return r?[r.scrollLeft||window.pageXOffset,r.scrollTop||window.pageYOffset]:[0,0]}function F(){var r=E(),x=r[0];pf=of=x;rf=qf=r=r[1]}function I(){la(xd+"ses."+Lc,"*",Kj)}function N(r){var x=xd+"id."+Lc;r.shift();r=r.join(".");la(x,r,Lj)}function la(r,x,A){if(!oe||sf)"localStorage"==ib?df(r,x,A):("cookie"==ib||"cookieAndLocalStorage"==ib)&&ac(r,x,A,Ng,ne,tf,uf)}function S(r){var x=xd+"id."+Lc,A=xd+"ses."+Lc;kj(x);
kj(A);wd(x,ne,tf,uf);wd(A,ne,tf,uf);null!==r&&void 0!==r&&r.preserveSession||(Mc=ic.v4(),Rb=1);null!==r&&void 0!==r&&r.preserveUser||(nf=ic.v4(),Nc=null)}function pa(r){r&&r.stateStorageStrategy&&(n.stateStorageStrategy=r.stateStorageStrategy,ib=Mj(n));oe=!!n.anonymousTracking;sf=Nj(n);Pg=Oj(n);ec.setUseLocalStorage("localStorage"==ib||"cookieAndLocalStorage"==ib);ec.setAnonymousTracking(Pg)}function Q(){var r;try{var x=null;if(null===(r=null===n||void 0===n?void 0:n.configs)||void 0===r?0:r.enableClIdInCookies){b:{r=
"Conviva_sdkConfig";try{var A=ac(r);if(A&&0<A.length){try{if("string"===typeof A&&0!==A.length&&/%[0-9A-Fa-f]{2}/.test(A)){var K=decodeURIComponent(A);var Y=!/%[0-9A-Fa-f]{2}/.test(K)}else Y=!1}catch(ua){Y=!1}if(Y)wd(r,M(),"None",!0);else{var ca=A;break b}}ca=window.localStorage.getItem(r)}catch(ua){qa.warn("getConvivaCookie",ua),ca=null}}ca&&(x=ca)}else try{wd("Conviva_sdkConfig",M(),"None",!0)}catch(ua){}x||(x=window.localStorage.getItem("Conviva.sdkConfig"));var da=JSON.parse(x||"{}");"{}"===da||
"undefined"===typeof da?pe=oa():(pe=da.clId||oa(),2147483648<=vf?vf=-1:vf++);try{wf=Math.floor(2147483647*Math.random())}catch(ua){console.warn(ua),wf=-1}var T=ha(ha({},da),{clId:pe,iid:wf});b:{var ba;try{x=null;try{x=JSON.stringify(T)}catch(ua){break b}window.localStorage.setItem("Conviva.sdkConfig",x);if(null===(ba=null===n||void 0===n?void 0:n.configs)||void 0===ba?0:ba.enableClIdInCookies){T=x;try{var Ga=M();ac("Conviva_sdkConfig",T,void 0,"/",Ga,"None",!0)}catch(ua){qa.warn("setConvivaCookie",
ua)}}}catch(ua){}}}catch(ua){qa.warn("getEventIndexByClid",ua)}if(!oe||sf)Ga="none"!=ib&&!!y("ses"),T=D(),T[1]?ba=T[1]:(ba=oe?"":ic.v4(),T[1]=ba),nf=ba,Mc=Ga?T[6]:ie(T),Rb=T[3],"none"!=ib&&(I(),Hg(T),N(T))}function D(){if("none"==ib)return["1","",0,0,0,void 0,"","","",void 0];var r=y("id")||void 0;return ao(r,nf,Mc,Rb)}function C(r,x){var A,K,Y,ca,da=!0,T=qc.getConfig();"undefined"!==typeof T.mend?da=T.mend:"undefined"!==typeof(null===(K=null===(A=null===n||void 0===n?void 0:n.configs)||void 0===
A?void 0:A.network)||void 0===K?void 0:K.mergeEndpoint)&&(da=null===(ca=null===(Y=null===n||void 0===n?void 0:n.configs)||void 0===Y?void 0:Y.network)||void 0===ca?void 0:ca.mergeEndpoint);return 0===r.indexOf("http")?(x&&da&&(r=r.replace(/^(https?:\/\/)(.*)$/,"$1"+x+".$2")),r):x&&da?("https:"===document.location.protocol?"https":"http")+"://"+x+"."+r:("https:"===document.location.protocol?"https":"http")+"://"+r}function z(){Pj&&null!=u.pageViewId||(u.pageViewId=ic.v4())}function P(){null==u.pageViewId&&
(u.pageViewId=ic.v4());return u.pageViewId}function M(){var r=window.location.hostname,x=r.split(".");return 2<=x.length?"."+x.slice(-2).join("."):r}function oa(){try{return R({"First Launch":"Yes"}),Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()}catch(r){console.warn(r)}}function fa(r){try{var x=JSON.parse(r);return"object"===W(x)}catch(A){return!1}}
function R(r){try{var x=Object.keys(r);fa(JSON.stringify(r))?x.forEach(function(A){if(""!==A.trim()){var K=r[A];K&&""!==K&&(K="object"===W(K)?JSON.stringify(K):""+K,Object.defineProperty(qe,A,{value:K,writable:!0,enumerable:!0,configurable:!0}))}}):console.warn("Conviva AppTracker:: Invalid JSON Format")}catch(A){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",A)}}function wa(r){try{r.forEach(function(x){delete qe[x]})}catch(x){console.warn("Conviva AppTracker:: Failed to unset Custom tag(s). Check format of keys set.")}}
function xa(r){try{var x=Object.keys(r);fa(JSON.stringify(r))?x.forEach(function(A){""!==A&&Object.defineProperty(Qg,A,{value:""+r[A],writable:!0,enumerable:!0,configurable:!0})}):console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=")}catch(A){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",A)}}function ob(r){try{var x=Object.keys(r);fa(JSON.stringify(r))?x.forEach(function(A){if(""!==A.trim()){var K=r[A];K&&""!==K&&("object"!==W(K)&&(K=""+K),Object.defineProperty(qe,
A,{value:K,writable:!0,enumerable:!0,configurable:!0}))}}):console.warn("Conviva AppTracker:: Invalid JSON Format")}catch(A){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",A)}}function L(r){var x=r.title,A=r.context,K=r.timestamp;r=r.contextCallback;t();Rg&&z();Rg=!0;rc=document.title;yd=x;x=Fg(yd||rc);Oc()!==J.SAMPLING_MODES.NONE&&(Ea(),qc.track(nm({pageUrl:p(Pc||dc),pageTitle:x,referrer:p(xf||me)}),(A||[]).concat(r?r():[]),K));K=new Date;x=!1;if(tb.enabled&&!tb.installed){x=
tb.installed=!0;var Y={update:function(){if("undefined"!==typeof window&&"function"===typeof window.addEventListener){var da=!1,T=Object.defineProperty({},"passive",{get:function(){da=!0},set:function(){}}),ba=function(){};window.addEventListener("testPassiveEventSupport",ba,T);window.removeEventListener("testPassiveEventSupport",ba,T);Y.hasSupport=da}}};Y.update();var ca="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(Y,
"hasSupport")?Gb(document,ca,G,{passive:!0}):Gb(document,ca,G);F();ca=function(da,T){void 0===T&&(T=G);return function(ba){return Gb(document,ba,T)}};"click mouseup mousedown mousemove keypress keydown keyup".split(" ").forEach(ca(document));["resize","focus","blur"].forEach(ca(window));ca(window,H)("scroll")}if(tb.enabled&&(Bo||x))for(K in Og=K.getTime(),K=void 0,tb.configurations)if(x=tb.configurations[K])window.clearInterval(x.activityInterval),V(x,A,r)}function U(){var r,x,A,K,Y,ca,da,T,ba,Ga,
ua,Hb,Sb,Tb,Qc,re,Sa,zd,se,te,fc,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh;try{var Aa=null===(r=null===g||void 0===g?void 0:g.core)||void 0===r?void 0:r.getConfig();r=void 0;Qg={};var yf=Ad.MERGE;"undefined"!==typeof(null===(A=null===(x=null===n||void 0===n?void 0:n.configs)||void 0===x?void 0:x.metaTagsTracking)||void 0===A?void 0:A.preference)?yf=null===(Y=null===(K=null===n||void 0===n?void 0:n.configs)||void 0===K?void 0:K.metaTagsTracking)||void 0===Y?void 0:Y.preference:!0===(null===(da=null===(ca=null===
n||void 0===n?void 0:n.configs)||void 0===ca?void 0:ca.metaTagsTracking)||void 0===da?void 0:da.force)?yf=Ad.APP:"undefined"!==typeof(null===(T=null===Aa||void 0===Aa?void 0:Aa.metaTagsTrackingConfiguration)||void 0===T?void 0:T.pref)&&(yf=null===(ba=null===Aa||void 0===Aa?void 0:Aa.metaTagsTrackingConfiguration)||void 0===ba?void 0:ba.pref);switch(yf){case Ad.APP:if(!1===(null===(ua=null===(Ga=null===n||void 0===n?void 0:n.configs)||void 0===Ga?void 0:Ga.metaTagsTracking)||void 0===ua?void 0:ua.enabled))return;
0<(null===(Tb=null===(Sb=null===(Hb=null===n||void 0===n?void 0:n.configs)||void 0===Hb?void 0:Hb.metaTagsTracking)||void 0===Sb?void 0:Sb.tags)||void 0===Tb?void 0:Tb.length)&&(r=cb([],null===(re=null===(Qc=null===n||void 0===n?void 0:n.configs)||void 0===Qc?void 0:Qc.metaTagsTracking)||void 0===re?void 0:re.tags,!0));break;case Ad.REMOTE:if(!1===(null===(Sa=null===Aa||void 0===Aa?void 0:Aa.metaTagsTrackingConfiguration)||void 0===Sa?void 0:Sa.enabled))return;"undefined"!=typeof(null===Aa||void 0===
Aa?void 0:Aa.metaTagsTrackingConfiguration)&&0<(null===(se=null===(zd=null===Aa||void 0===Aa?void 0:Aa.metaTagsTrackingConfiguration)||void 0===zd?void 0:zd.tags)||void 0===se?void 0:se.length)&&(r=cb([],null===(te=null===Aa||void 0===Aa?void 0:Aa.metaTagsTrackingConfiguration)||void 0===te?void 0:te.tags,!0));break;default:if("undefined"==typeof(null===Aa||void 0===Aa?void 0:Aa.metaTagsTrackingConfiguration)&&!1===(null===(Sg=null===(fc=null===n||void 0===n?void 0:n.configs)||void 0===fc?void 0:
fc.metaTagsTracking)||void 0===Sg?void 0:Sg.enabled)||"undefined"==typeof(null===(Tg=null===n||void 0===n?void 0:n.configs)||void 0===Tg?void 0:Tg.metaTagsTracking)&&!1===(null===(Ug=null===Aa||void 0===Aa?void 0:Aa.metaTagsTrackingConfiguration)||void 0===Ug?void 0:Ug.enabled))return;var Qj=null===(Wg=null===(Vg=null===n||void 0===n?void 0:n.configs)||void 0===Vg?void 0:Vg.metaTagsTracking)||void 0===Wg?void 0:Wg.tags,Rj=null===(Xg=null===Aa||void 0===Aa?void 0:Aa.metaTagsTrackingConfiguration)||
void 0===Xg?void 0:Xg.tags;!1===(null===(Zg=null===(Yg=null===n||void 0===n?void 0:n.configs)||void 0===Yg?void 0:Yg.metaTagsTracking)||void 0===Zg?void 0:Zg.enabled)&&(Qj=[]);!1===(null===($g=null===Aa||void 0===Aa?void 0:Aa.metaTagsTrackingConfiguration)||void 0===$g?void 0:$g.enabled)&&(Rj=[]);r=cb([],Un(Qj||[],Rj||[]),!0)}if("undefined"!=typeof r&&0<(null===r||void 0===r?void 0:r.length)){x={};var Rc=null===document||void 0===document?void 0:document.head,Bd=null===Rc||void 0===Rc?void 0:Rc.getElementsByTagName("meta");
if("undefined"!=typeof Bd&&0<(null===Bd||void 0===Bd?void 0:Bd.length))for(Rc=0;Rc<Bd.length;Rc++){var Sj=Bd[Rc];for(A=0;A<r.length;A++){var zf=Sj.getAttribute(r[A].key),Tj=Sj.getAttribute(r[A].value);K=void 0;if(null===(ah=r[A])||void 0===ah?0:ah.condition)K=null===(bh=r[A])||void 0===bh?void 0:bh.condition;zf&&(K&&K.includes(zf)?x[zf]=Tj:K&&0!==K.length||(x[zf]=Tj))}}g.setMetaCustomTags(x)}}catch(Co){console.warn("Conviva App Tracker:: setPageMetaTagsAsCustomTags",Co)}}function V(r,x,A){var K=function(ca,
da){var T;t();var ba=null===(T=null===g||void 0===g?void 0:g.core)||void 0===T?void 0:T.getConfig();ba.enablePeriodicHeartbeat?(void 0!=ba.periodicHeartbeatInterval&&(T=1E3*ba.periodicHeartbeatInterval,T!=r.configHeartBeatTimer&&(r.configHeartBeatTimer=T,window.clearInterval(r.activityInterval),r.activityInterval=window.setInterval(Y,T))),ca({context:da,pageViewId:P(),minXOffset:of,minYOffset:qf,maxXOffset:pf,maxYOffset:rf})):window.clearInterval(r.activityInterval);F()};window.setTimeout(function(){K(r.callback,
(x||[]).concat(A?A():[]))},2E3);var Y=function(){var ca=new Date;(!1===(null===document||void 0===document?void 0:document.hidden)||"visible"==(null===document||void 0===document?void 0:document.visibilityState)||(null===document||void 0===document?0:document.pictureInPictureElement)||Og+r.configHeartBeatTimer>ca.getTime()||!0===Uj)&&K(r.callback,(x||[]).concat(A?A():[]))};r.activityInterval=window.setInterval(Y,r.configHeartBeatTimer)}function ka(r){var x=r.minimumVisitLength,A=r.heartbeatDelay;
r=r.callback;if(ge(x)&&ge(A))return{configMinimumVisitLength:1E3*x,configHeartBeatTimer:1E3*A,callback:r};qa.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function na(r){var x=r.context,A=r.minXOffset,K=r.minYOffset,Y=r.maxXOffset,ca=r.maxYOffset;r=document.title;r!==rc&&(rc=r,yd=void 0);if(Oc()!==J.SAMPLING_MODES.NONE){Ea();r=qc;var da=r.track,T=p(Pc||dc),ba=Fg(yd||rc),Ga=p(xf||me);A=Math.round(A);Y=Math.round(Y);K=Math.round(K);ca=Math.round(ca);var ua=cg();ua.add("e",
"pp");ua.add("url",T);ua.add("page",ba);ua.add("refr",Ga);A&&!isNaN(Number(A))&&ua.add("pp_mix",A.toString());Y&&!isNaN(Number(Y))&&ua.add("pp_max",Y.toString());K&&!isNaN(Number(K))&&ua.add("pp_miy",K.toString());ca&&!isNaN(Number(ca))&&ua.add("pp_may",ca.toString());da.call(r,ua,x)}}function Ea(){var r,x,A=null===(x=null===g||void 0===g?void 0:g.core)||void 0===x?void 0:x.getConfig().pageUrlTrackingConfig;x=qe[J.PAGE_URL_QUERY_PARAMS];if(A){var K={targetUrl:p(Pc||dc),rqq:{}};K=mj(K,null===A||void 0===
A?void 0:A.collectattr,null,null===A||void 0===A?void 0:A.maxQueryLength);if(!x&&K.rqq||x!==JSON.stringify(K.rqq))wa([J.PAGE_URL_QUERY_PARAMS]),ob((r={},r[J.PAGE_URL_QUERY_PARAMS]=K.rqq,r))}else x&&wa([J.PAGE_URL_QUERY_PARAMS])}var Za,Ja,$a,eb,ea,Ia,aa,Ya,$b,Sc,Tc,Uc,Vc,Wc,Xc,Yc;if(window&&window.localStorage){var ue=window.localStorage,Ub={sensorVersion:m,ck:null!==(Za=n.convivaCustomerKey)&&void 0!==Za?Za:""};Ub=JSON.stringify(Ub);Ub="function"===typeof btoa?btoa(Ub):bm(Ub);ue.setItem(J.VISUAL_LABELLING_CONFIG,
Ub)}var Ib=Vb,ve=sb;Ib&&ve||("function"===typeof AbortController&&(Vb=new AbortController),sb=null===Vb||void 0===Vb?void 0:Vb.signal);k||(k="CAT");var va=Do(m,k,n).convivaRemoteTrackerConfig;null===(Ja=gf(va.performanceContextConfig))||void 0===Ja?void 0:Ja.activateLCPObserver();n.eventMethod=null!==($a=n.eventMethod)&&void 0!==$a?$a:"post";var Mj=function(r){var x;return null!==(x=r.stateStorageStrategy)&&void 0!==x?x:"cookieAndLocalStorage"},Nj=function(r){var x,A;return"boolean"===typeof r.anonymousTracking?
!1:null!==(A=!0===(null===(x=r.anonymousTracking)||void 0===x?void 0:x.withSessionTracking))&&void 0!==A?A:!1},Oj=function(r){var x,A;return"boolean"===typeof r.anonymousTracking?!1:null!==(A=!0===(null===(x=r.anonymousTracking)||void 0===x?void 0:x.withServerAnonymisation))&&void 0!==A?A:!1};f.push(function(){return{beforeTrack:function(r){var x=y("ses"),A=D();ch=dh?!!ac(dh):!1;Vj||ch?S():("0"===A[0]?(Mc=x||"none"==ib?A[6]:ie(A),Rb=A[3]):(new Date).getTime()-eh>1E3*Kj&&(Rb++,Mc=ie(A,Rb)),Hg(A),r.add("uid",
oe?null:Nc),t(),r.add("refr",p(xf||me)),document&&(rc=document.title,x=Fg(yd||rc),r.add("page",x)),r.add("url",p(Pc||dc)),"none"!=ib&&(N(A),I()),eh=(new Date).getTime())}}}());f.push(function(){return{contexts:function(){return[{sc:"cv/clid/1-0-2",dt:{clid:pe,iid:wf.toString(),ck:Eo,eventIndex:vf++}}]}}}());f.push(function(){return{contexts:function(){return[{sc:"cv/ct/1-0-0",dt:{data:ha(ha({},qe),Qg)}}]}}}());f.push(function(){return{contexts:function(){var r,x=null===(r=null===g||void 0===g?void 0:
g.core)||void 0===r?void 0:r.getConfig();return!0===(null===x||void 0===x?void 0:x.applicationContext)?[{sc:"spm/app/1-0-0",dt:{build:Wj,version:Wj}}]:[]}}}());f.push(function(){return{contexts:function(){var r={sch:"sdk.js.eco.1"};r.cat=fh.DeviceCategory.WEB;try{var x=null===n||void 0===n?void 0:n.deviceMetadata;if(x){var A=x.DeviceBrand,K=x.DeviceCategory,Y=x.DeviceManufacturer,ca=x.DeviceModel,da=x.DeviceType,T=x.DeviceVersion,ba=x.OperatingSystemName,Ga=x.OperatingSystemVersion,ua=x.FrameworkName,
Hb=x.FrameworkVersion;"string"===typeof K&&Object.values(fh.DeviceCategory).includes(K)?r.cat=K:r.cat="INVALID"+(K?": ".concat(K):"");"string"===typeof A&&""!=A&&(r.dvb=A);"string"===typeof Y&&""!=Y&&(r.dvma=Y);"string"===typeof ca&&""!=ca&&(r.dvm=ca);da&&Object.values(fh.DeviceType).includes(da)&&(r.dvt=da);"string"===typeof T&&""!=T&&(r.dvv=T);"string"===typeof ba&&""!=ba&&(r.os=ba);"string"===typeof Ga&&""!=Ga&&(r.osv=Ga);"string"===typeof ua&&""!=ua&&(r.fw=ua);"string"===typeof Hb&&""!=Hb&&(r.fwv=
Hb)}}catch(Sb){qa.warn("error in setting platform metadata context",Sb)}return null!=r&&0<Object.keys(r).length?[{sc:"iglu:com.conviva/pm/jsonschema/1-0-2",dt:r}]:[]}}}());try{(null!==(eb=null===n||void 0===n?void 0:n.plugins)&&void 0!==eb?eb:[]).forEach(function(r){r.contexts||f.push(r)})}catch(r){console.warn("ConvivaAppTracker : issue while processing customer passed pligins",r)}var Oc=function(){var r;try{var x=null===(r=null===g||void 0===g?void 0:g.core)||void 0===r?void 0:r.getConfig();return x?
void 0===x.catRcLastUpdatedTs||0===x.catRcLastUpdatedTs?J.SAMPLING_MODES.RCFG:x.controlIngestConfig?Vn(null===x||void 0===x?void 0:x.controlIngestConfig):J.SAMPLING_MODES.RCFG:J.SAMPLING_MODES.RCFG}catch(A){return qa.error("Error while getting sampling mode"),J.SAMPLING_MODES.RCFG}};var qc=Na=mm({base64:null===va||void 0===va?void 0:va.base64,corePlugins:f,callback:function(r){Vj||ch||ec.enqueueRequest(r.build(),gh,w(r))},exceptionAutotracking:va.exceptionAutotracking,enablePeriodicHeartbeat:va.enablePeriodicHeartbeat,
periodicHeartbeatInterval:va.periodicHeartbeatInterval,enc:va.enc,mend:va.mend,maxLocalStorageQueueSize:va.maxLocalStorageQueueSize,maxGetBytes:va.maxGetBytes,bufferSize:va.bufferSize,customEventTrackingConfiguration:va.customEventTrackingConfiguration,networkRequestTrackingConfiguration:va.networkRequestTrackingConfiguration,metaTagsTrackingConfiguration:va.metaTagsTrackingConfiguration,traceparentconfig:va.traceparentconfig,performanceContextConfig:va.performanceContextConfig,lifecycleAutotracking:va.lifecycleAutotracking,
configurationVersion:va.configurationVersion,catRcLastUpdatedTs:va.catRcLastUpdatedTs,cacheRefreshInterval:va.cacheRefreshInterval,endpoint:va.endpoint,controlIngestConfig:va.controlIngestConfig,applicationContext:va.applicationContext,emitterConfiguration:va.emitterConfiguration,di:va.di,clickcc:va.clickcc,collectionRateLimit:va.collectionRateLimit,pageUrlTrackingConfig:va.pageUrlTrackingConfig,sessionReplayConfiguration:va.sessionReplayConfiguration,evtStreamTrackingConfiguration:va.evtStreamTrackingConfiguration});
var Kc=pj(window.location.hostname,window.location.href,Gg()),Hj=jj(Kc[0]),dc=Kc[1],me=Kc[2],xf,Fo=null!==(ea=n.platform)&&void 0!==ea?ea:"web",gh=C(va.endpoint,n.convivaCustomerKey),Go=null!==(Ia=n.postPath)&&void 0!==Ia?Ia:"/ctp",Ho=null!==(aa=n.appId)&&void 0!==aa?aa:"",Eo=null!==(Ya=n.convivaCustomerKey)&&void 0!==Ya?Ya:"",Wj=null!==($b=n.appVersion)&&void 0!==$b?$b:"",Pc,qe={},Qg={},rc="undefined"!==typeof document?document.title:void 0,yd,Bo=null!==(Sc=n.resetActivityTrackingOnPageView)&&void 0!==
Sc?Sc:!0,Ij,Jj,xd=null!==(Tc=n.cookieName)&&void 0!==Tc?Tc:"_cnv_",ne=null!==(Uc=n.cookieDomain)&&void 0!==Uc?Uc:void 0,Ng="/",tf=null!==(Vc=n.cookieSameSite)&&void 0!==Vc?Vc:"None",uf=null!==(Wc=n.cookieSecure)&&void 0!==Wc?Wc:!0,Xj=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,Vj="undefined"!==typeof n.respectDoNotTrack?n.respectDoNotTrack&&("yes"===Xj||"1"===Xj):!1,dh,Lj=null!==(Xc=n.cookieLifetime)&&void 0!==Xc?Xc:63072E3,Kj=null!==(Yc=n.sessionCookieTimeout)&&void 0!==Yc?Yc:
1800,sf=Nj(n),Pg=Oj(n),oe=!!n.anonymousTracking,ib=Mj(n),pe,wf,vf=-1,Og,eh=(new Date).getTime(),of,pf,qf,rf,Lc,nf,Mc,Rb=1,Nc,ec=Io(h,u,ib,n,Go,Pg,5E3,Oc),Pj=!1,Rg=!1,tb={enabled:!0,installed:!1,configurations:{pagePing:{configMinimumVisitLength:5E3,configHeartBeatTimer:1E3*va.periodicHeartbeatInterval,callback:na}}},Uj=!1,ch;n.hasOwnProperty("discoverRootDomain")&&n.discoverRootDomain&&(ne=Tn(tf,uf));qc.setTrackerVersion(m);qc.setAppId(Ho);qc.setPlatform(Fo);B();Q();ec.setCustomHeaders({"x-client-id":""+
pe});n.crossDomainLinker&&q(n.crossDomainLinker);var hh={getDomainSessionIndex:function(){return Rb},getPageViewId:function(){return P()},newSession:function(){var r=D();"0"===r[0]?(Mc="none"!=ib?ie(r):r[6],Rb=r[3],I()):(Rb++,Mc=ie(r,Rb));Hg(r);"none"!=ib&&(N(r),I());eh=(new Date).getTime()},getCookieName:function(r){return xd+r+"."+Lc},getUserId:function(){return Nc},getDomainUserId:function(){var r=D();return r&&1<r.length?r[1]:null},getDomainUserInfo:function(){return D()},setReferrerUrl:function(r){xf=
r},setCustomUrl:function(r){t();var x=dc,A;v(r)?Pc=r:"/"===r.slice(0,1)?Pc=v(x)+"://"+cf(x)+r:(x=p(x),0<=(A=x.indexOf("?"))&&(x=x.slice(0,A)),(A=x.lastIndexOf("/"))!==x.length-1&&(x=x.slice(0,A+1)),Pc=x+r)},setDocumentTitle:function(r){rc=document.title;yd=r},discardHashTag:function(r){Ij=r},discardBrace:function(r){Jj=r},setCookiePath:function(r){Ng=r;B()},setVisitorCookieTimeout:function(r){Lj=r},crossDomainLinker:function(r){q(r)},enableActivityTracking:function(r){tb.configurations.pagePing||
(tb.enabled=!0,tb.configurations.pagePing=ka(ha(ha({},r),{callback:na})))},enableActivityTrackingCallback:function(r){tb.configurations.callback||(tb.enabled=!0,tb.configurations.callback=ka(r))},updatePageActivity:function(){G()},setOptOutCookie:function(r){dh=r},setUserId:function(r){Nc=r},setUserIdFromLocation:function(r){t();Nc=he(r,dc)},setUserIdFromReferrer:function(r){t();Nc=he(r,me)},setUserIdFromCookie:function(r){Nc=ac(r)},setCollectorUrl:function(r,x){gh=C(r,x);ec.setCollectorUrl(gh)},
setBufferSize:function(r){ec.setBufferSize(r)},flushBuffer:function(r){void 0===r&&(r={});ec.executeQueue();r.newBufferSize&&ec.setBufferSize(r.newBufferSize)},trackPageView:function(r){var x;void 0===r&&(r={});U();var A=null===(x=null===g||void 0===g?void 0:g.core)||void 0===x?void 0:x.getConfig();try{r=ha(ha({},r),{context:gf(null===A||void 0===A?void 0:A.performanceContextConfig).contexts()})}catch(K){console.warn("Conviva App Tracker:: error adding performacetiming context to page view",K)}L(r)},
trackVideoEvent:function(r){var x,A,K,Y,ca;void 0===r&&(r={});try{var da=null===(x=null===g||void 0===g?void 0:g.core)||void 0===x?void 0:x.getConfig();if(null!==(K=null===(A=null===da||void 0===da?void 0:da.customEventTrackingConfiguration)||void 0===A?void 0:A.enabled)&&void 0!==K?K:ya.customEventTrackingConfiguration.enabled){""!=r.name&&void 0!=r.name||console.warn("Conviva App Tracker:: Video event could not be tracked due to missing name property!!");var T=null===(Y=null===da||void 0===da?void 0:
da.customEventTrackingConfiguration)||void 0===Y?void 0:Y.blocklist;(null===T||void 0===T?0:T.includes("*"))||(null===T||void 0===T?0:T.some(function(ba){return 0<(null===ba||void 0===ba?void 0:ba.length)&&r.name.toLowerCase().includes(ba.toLowerCase())}))||(null===(ca=null===g||void 0===g?void 0:g.core)||void 0===ca?void 0:ca.track(om({name:r.name,sid:r.sid,iid:r.iid,clid:r.clid,st:r.st,sst:r.sst,an:r.an,cl:r.cl,lv:r.lv,pn:r.pn,vid:r.vid,fw:r.fw,fwv:r.fwv,mn:r.mn,mv:r.mv,url:r.url,tags:r.tags,cen:r.cen,
ced:r.ced,oldsc:r.old,newsc:r["new"],err:r.err,br:r.br,ft:r.ft,avgbr:r.avgbr}),r.context,r.timestamp))}}catch(ba){console.warn("Conviva App Tracker:: Video event could not be tracked due to an exception!!",ba)}},trackCustomEvent:function(r){var x,A,K,Y,ca;void 0===r&&(r={});try{if(Oc()!==J.SAMPLING_MODES.NONE){var da=null===(x=null===g||void 0===g?void 0:g.core)||void 0===x?void 0:x.getConfig();if(null!==(K=null===(A=null===da||void 0===da?void 0:da.customEventTrackingConfiguration)||void 0===A?void 0:
A.enabled)&&void 0!==K?K:ya.customEventTrackingConfiguration.enabled)if(!r.name||"string"==typeof r.name&&""==r.name.trim())console.warn("Conviva App Tracker:: custom event name is mandatory for trackCustomEvent API!!");else{var T=r.data;try{"string"!==typeof r.data&&(T=JSON.stringify(r.data))}catch(Ga){}var ba=null===(Y=null===da||void 0===da?void 0:da.customEventTrackingConfiguration)||void 0===Y?void 0:Y.blocklist;(null===ba||void 0===ba?0:ba.includes("*"))||(null===ba||void 0===ba?0:ba.some(function(Ga){return 0<
(null===Ga||void 0===Ga?void 0:Ga.length)&&r.name.toLowerCase().includes(Ga.toLowerCase())}))||(null===(ca=null===g||void 0===g?void 0:g.core)||void 0===ca?void 0:ca.track(Sd({name:r.name,data:T}),r.context,r.timestamp))}}}catch(Ga){console.warn("Conviva App Tracker:: Unable to track custom event! "+Ga)}},trackSSEEvent:function(r){var x;void 0===r&&(r={});try{Oc()!==J.SAMPLING_MODES.NONE&&(null===(x=null===g||void 0===g?void 0:g.core)||void 0===x?void 0:x.track(Sd(r),r.context,r.timestamp))}catch(A){}},
trackNetworkRequest:function(r){var x,A,K,Y,ca,da,T,ba,Ga,ua,Hb,Sb;void 0===r&&(r={});try{var Tb=null===(K=null===g||void 0===g?void 0:g.core)||void 0===K?void 0:K.getConfig().networkRequestTrackingConfiguration,Qc=r.responseDetails.responseTime-r.requestDetails.requestTime;try{Qc=parseFloat(Qc.toFixed(3))}catch(fc){console.warn("Conviva App Tracker:: exception while converting duration to 3 decimal",fc)}try{var re=(x={targetUrl:null===(Y=null===r||void 0===r?void 0:r.requestDetails)||void 0===Y?
void 0:Y.url,method:null===(ca=null===r||void 0===r?void 0:r.requestDetails)||void 0===ca?void 0:ca.method,responseStatusCode:(null===(da=null===r||void 0===r?void 0:r.responseDetails)||void 0===da?0:da.status)?r.responseDetails.status:0,responseStatusText:(null===(T=null===r||void 0===r?void 0:r.responseDetails)||void 0===T?0:T.statusText)?r.responseDetails.statusText:"ok"},x[Ma.request_headers]=null===(ba=null===r||void 0===r?void 0:r.requestDetails)||void 0===ba?void 0:ba.headers,x[Ma.response_headers]=
null===(Ga=null===r||void 0===r?void 0:r.responseDetails)||void 0===Ga?void 0:Ga.headers,x.duration=Qc,x),Sa=mj(re,null===Tb||void 0===Tb?void 0:Tb.collectattr,r,null===Tb||void 0===Tb?void 0:Tb.maxQueryLength);if(null===(ua=null===r||void 0===r?void 0:r.requestDetails)||void 0===ua?0:ua[J.TRACEPARENT_HEADER_KEY]){var zd=(A={},A[J.TRACEPARENT_HEADER_KEY]=null===(Hb=null===r||void 0===r?void 0:r.requestDetails)||void 0===Hb?void 0:Hb[J.TRACEPARENT_HEADER_KEY],A);Sa[Ma.request_headers]=Sa[Ma.request_headers]?
ha(ha({},Sa[Ma.request_headers]),zd):zd}if(null===(Sb=null===g||void 0===g?void 0:g.core)||void 0===Sb)void 0;else{var se=Sb.track;var te=Ec({event:{sc:"cv/nr/1-0-5",dt:ld({targetUrl:Sa.targetUrl,method:Sa.method,queryParameters:Sa.queryParameters,responseStatusCode:Sa.responseStatusCode,responseStatusText:Sa.responseStatusText,rqh:Sa.rqh,rsh:Sa.rsh,rqb:Sa.rqb,rsb:Sa.rsb,rqq:Sa.rqq,requestSize:Sa.requestSize,responseSize:Sa.responseSize,duration:Sa.duration,contentType:Sa.contentType,requestTimestamp:Sa.requestTimestamp,
responseTimestamp:Sa.responseTimestamp})}});se.call(Sb,te,r.context,r.timestamp)}}catch(fc){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",fc)}}catch(fc){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",fc)}},trackButtonClick:function(r){var x,A,K;try{var Y=null===(x=null===Fa||void 0===Fa?void 0:Fa.core)||void 0===x?void 0:x.getConfig();!0===(null===(A=null===Y||void 0===Y?void 0:Y.clickcc)||void 0===
A?void 0:A.en)&&(r.elementType="button",null===(K=null===Fa||void 0===Fa?void 0:Fa.core)||void 0===K?void 0:K.track(Sd({name:"conviva_click",data:JSON.stringify(r)}),ei(void 0,void 0)))}catch(ca){qa.warn("Conviva App Tracker caused Exception in sendButtonClick method of user click tracking module",ca)}},trackLinkClick:function(r){var x,A,K;try{var Y=null===(x=null===Fa||void 0===Fa?void 0:Fa.core)||void 0===x?void 0:x.getConfig();!0===(null===(A=null===Y||void 0===Y?void 0:Y.clickcc)||void 0===A?
void 0:A.en)&&(r.elementType="link",null===(K=null===Fa||void 0===Fa?void 0:Fa.core)||void 0===K?void 0:K.track(Sd({name:"conviva_click",data:JSON.stringify(r)}),ei(void 0,void 0)))}catch(ca){qa.warn("Conviva App Tracker caused Exception in sendLinkClick method of user click tracking module",ca)}},trackErrorEvent:function(r){Kg(r)},setCustomTags:function(r){void 0===r&&(r={});R(r)},setMetaCustomTags:function(r){void 0===r&&(r={});xa(r)},unsetCustomTags:function(r){void 0===r&&(r=[]);wa(r)},preservePageViewId:function(){Pj=
!0},disableAnonymousTracking:function(r){n.anonymousTracking=!1;pa(r);Q();ec.executeQueue()},enableAnonymousTracking:function(r){var x;n.anonymousTracking=null!==(x=r&&(null===r||void 0===r?void 0:r.options))&&void 0!==x?x:!0;pa(r);sf||z()},clearUserData:S,setKeepAliveInBG:function(r){void 0===r&&(r=!1);Uj=r},clearTimers:function(){Na=null;Yj.cleanupNetworkRequestHandler();try{bb=g,removeEventListener("error",zj,!0),removeEventListener("unhandledrejection",Aj,!0)}catch(A){console.warn("Conviva App Tracker caused Exception in disableErrorTracking method of error tracking module",
A)}xj();null===Ib||void 0===Ib?void 0:Ib.abort();sb=Vb=void 0;we&&window.clearInterval(we);if(tb.enabled){var r=void 0;for(r in tb.configurations){var x=tb.configurations[r];x&&window.clearInterval(x.activityInterval)}}g&&(g.core=null);this.tracker=null},getSamplingMode:Oc,getPageViewSent:function(){return Rg}};X=hh;var Yj=Jo.getInstance(hh,n,Oc);Yj.initiateNetworkRequestTracking();return ha(ha({},hh),{id:h,namespace:k,core:qc,sharedState:u})}(b,a,c,d,e);var g=ha(ha({},b),{addPlugin:function(h){var k,
m,u;null===(k=null===g||void 0===g?void 0:g.core)||void 0===k?void 0:k.addPlugin(h);null===(u=(m=h.plugin).activateBrowserPlugin)||void 0===u?void 0:u.call(m,g)}});f.forEach(function(h){var k;null===(k=h.activateBrowserPlugin)||void 0===k?void 0:k.call(h,g)});uo(g,null===e||void 0===e?void 0:e.enableCommonEvents);try{bb=g,so(),ro(),Gb(window,"error",zj,!0),Gb(window,"unhandledrejection",Aj,!0)}catch(h){console.warn("Conviva App Tracker caused Exception in enableErrorTracking method of error tracking module",
h)}Fa=g;wo(g,e);return g}function zb(b,a){try{var c=null!==b&&void 0!==b?b:Object.keys(Zc);b=Zc;for(var d=[],e=0;e<c.length;e++){var f=c[e];b.hasOwnProperty(f)?d.push(b[f]):qa.warn(f+" not configured")}d.forEach(a)}catch(g){qa.error("Function failed",g)}}function Ko(b){if(b)for(var a=0;a<b.length;a++){var c=b[a];Zc.hasOwnProperty(c)?delete Zc[c]:qa.warn(c+" not configured")}}function Lo(){function b(){var f;if(!c.hasLoaded)for(c.hasLoaded=!0,f=0;f<c.registeredOnLoadHandlers.length;f++)c.registeredOnLoadHandlers[f]();
return!0}function a(){d.addEventListener?d.addEventListener("DOMContentLoaded",function g(){d.removeEventListener("DOMContentLoaded",g,!1);b()}):d.attachEvent&&d.attachEvent("onreadystatechange",function h(){"complete"===d.readyState&&(d.detachEvent("onreadystatechange",h),b())});Gb(e,"load",b,!1)}var c=new Mo,d=document,e=window;Gb(e,"beforeunload",function(){try{c.bufferFlushers.forEach(function(f){f(!1)})}catch(f){console.warn("Conviva App Tracker:: Error in flushBuffers of constructor ".concat(f))}},
!1);"loading"===document.readyState?a():b();return c}var ha=function(){ha=Object.assign||function(b){for(var a,c=1,d=arguments.length;c<d;c++){a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(b[e]=a[e])}return b};return ha.apply(this,arguments)},Af={},Zj="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(Zj){var ak=
new Uint8Array(16);Af=function(){Zj(ak);return ak}}else{var bk=Array(16);Af=function(){for(var b=0,a;16>b;b++)0===(b&3)&&(a=4294967296*Math.random()),bk[b]=a>>>((b&3)<<3)&255;return bk}}for(var jb=[],Bf=0;256>Bf;++Bf)jb[Bf]=(Bf+256).toString(16).substr(1);var ck=function(b,a){a=a||0;return[jb[b[a++]],jb[b[a++]],jb[b[a++]],jb[b[a++]],"-",jb[b[a++]],jb[b[a++]],"-",jb[b[a++]],jb[b[a++]],"-",jb[b[a++]],jb[b[a++]],"-",jb[b[a++]],jb[b[a++]],jb[b[a++]],jb[b[a++]],jb[b[a++]],jb[b[a++]]].join("")},No=Af,dk,
ih,jh=0,kh=0,Oo=Af,lh=function(b,a,c){c=a&&c||0;"string"==typeof b&&(a="binary"===b?Array(16):null,b=null);b=b||{};b=b.random||(b.rng||Oo)();b[6]=b[6]&15|64;b[8]=b[8]&63|128;if(a)for(var d=0;16>d;++d)a[c+d]=b[d];return a||ck(b)};lh.v1=function(b,a,c){c=a&&c||0;var d=a||[];b=b||{};var e=b.node||dk,f=void 0!==b.clockseq?b.clockseq:ih;if(null==e||null==f){var g=No();null==e&&(e=dk=[g[0]|1,g[1],g[2],g[3],g[4],g[5]]);null==f&&(f=ih=(g[6]<<8|g[7])&16383)}g=void 0!==b.msecs?b.msecs:(new Date).getTime();
var h=void 0!==b.nsecs?b.nsecs:kh+1,k=g-jh+(h-kh)/1E4;0>k&&void 0===b.clockseq&&(f=f+1&16383);(0>k||g>jh)&&void 0===b.nsecs&&(h=0);if(1E4<=h)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");jh=g;kh=h;ih=f;g+=122192928E5;b=(1E4*(g&268435455)+h)%4294967296;d[c++]=b>>>24&255;d[c++]=b>>>16&255;d[c++]=b>>>8&255;d[c++]=b&255;b=g/4294967296*1E4&268435455;d[c++]=b>>>8&255;d[c++]=b&255;d[c++]=b>>>24&15|16;d[c++]=b>>>16&255;d[c++]=f>>>8|128;d[c++]=f&255;for(f=0;6>f;++f)d[c+f]=e[f];return a?a:
ck(d)};var ic=lh.v4=lh,yb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",gc;(function(b){b[b.none=0]="none";b[b.error=1]="error";b[b.warn=2]="warn";b[b.debug=3]="debug";b[b.info=4]="info"})(gc||(gc={}));var qa=function(b){void 0===b&&(b=gc.warn);return{setLogLevel:function(a){b=gc[a]?a:gc.warn},warn:function(a,c){for(var d=[],e=2;e<arguments.length;e++)d[e-2]=arguments[e];b>=gc.warn&&"undefined"!==typeof console&&(e="Conviva: "+a,c?console.warn.apply(console,cb([e+"\n",c],d,!1)):
console.warn.apply(console,cb([e],d,!1)))},error:function(a,c){for(var d=[],e=2;e<arguments.length;e++)d[e-2]=arguments[e];b>=gc.error&&"undefined"!==typeof console&&(e="Conviva: "+a+"\n",c?console.error.apply(console,cb([e+"\n",c],d,!1)):console.error.apply(console,cb([e],d,!1)))},debug:function(a){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];b>=gc.debug&&"undefined"!==typeof console&&console.debug.apply(console,cb(["Conviva: "+a],c,!1))},info:function(a){for(var c=[],d=1;d<arguments.length;d++)c[d-
1]=arguments[d];b>=gc.info&&"undefined"!==typeof console&&console.info.apply(console,cb(["Conviva: "+a],c,!1))}}}(),ek;(function(b){b.response_body="rsb";b.request_body="rqb";b.response_headers="rsh";b.request_headers="rqh";b.request_query="rqq"})(ek||(ek={}));var fk={},gk={};(function(){var b={rotl:function(a,c){return a<<c|a>>>32-c},rotr:function(a,c){return a<<32-c|a>>>c},endian:function(a){if(a.constructor==Number)return b.rotl(a,8)&16711935|b.rotl(a,24)&4278255360;for(var c=0;c<a.length;c++)a[c]=
b.endian(a[c]);return a},randomBytes:function(a){for(var c=[];0<a;a--)c.push(Math.floor(256*Math.random()));return c},bytesToWords:function(a){for(var c=[],d=0,e=0;d<a.length;d++,e+=8)c[e>>>5]|=a[d]<<24-e%32;return c},wordsToBytes:function(a){for(var c=[],d=0;d<32*a.length;d+=8)c.push(a[d>>>5]>>>24-d%32&255);return c},bytesToHex:function(a){for(var c=[],d=0;d<a.length;d++)c.push((a[d]>>>4).toString(16)),c.push((a[d]&15).toString(16));return c.join("")},hexToBytes:function(a){for(var c=[],d=0;d<a.length;d+=
2)c.push(parseInt(a.substr(d,2),16));return c},bytesToBase64:function(a){for(var c=[],d=0;d<a.length;d+=3)for(var e=a[d]<<16|a[d+1]<<8|a[d+2],f=0;4>f;f++)8*d+6*f<=8*a.length?c.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>6*(3-f)&63)):c.push("=");return c.join("")},base64ToBytes:function(a){a=a.replace(/[^A-Z0-9+\/]/ig,"");for(var c=[],d=0,e=0;d<a.length;e=++d%4)0!=e&&c.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(d-
1))&Math.pow(2,-2*e+8)-1)<<2*e|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(d))>>>6-2*e);return c}};gk=b})();var mh={utf8:{stringToBytes:function(b){return mh.bin.stringToBytes(unescape(encodeURIComponent(b)))},bytesToString:function(b){return decodeURIComponent(escape(mh.bin.bytesToString(b)))}},bin:{stringToBytes:function(b){for(var a=[],c=0;c<b.length;c++)a.push(b.charCodeAt(c)&255);return a},bytesToString:function(b){for(var a=[],c=0;c<b.length;c++)a.push(String.fromCharCode(b[c]));
return a.join("")}}},hk=mh;(function(){var b=gk,a=hk.utf8,c=hk.bin,d=function(e,f){var g=b.wordsToBytes,h=e;h.constructor==String?h=a.stringToBytes(h):"undefined"!==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(h)?h=Array.prototype.slice.call(h,0):Array.isArray(h)||(h=h.toString());e=b.bytesToWords(h);var k=8*h.length;h=[];var m=1732584193,u=-271733879,n=-1732584194,t=271733878,l=-1009589776;e[k>>5]|=128<<24-k%32;e[(k+64>>>9<<4)+15]=k;for(k=0;k<e.length;k+=16){for(var q=m,p=u,
v=n,w=t,y=l,B=0;80>B;B++){if(16>B)h[B]=e[k+B];else{var G=h[B-3]^h[B-8]^h[B-14]^h[B-16];h[B]=G<<1|G>>>31}G=(m<<5|m>>>27)+l+(h[B]>>>0)+(20>B?(u&n|~u&t)+1518500249:40>B?(u^n^t)+1859775393:60>B?(u&n|u&t|n&t)-1894007588:(u^n^t)-899497514);l=t;t=n;n=u<<30|u>>>2;u=m;m=G}m+=q;u+=p;n+=v;t+=w;l+=y}g=g.call(b,[m,u,n,t,l]);return f&&f.asBytes?g:f&&f.asString?c.bytesToString(g):b.bytesToHex(g)};d._blocksize=16;d._digestsize=20;fk=d})();var Ao=fk;let nh=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,
4,4,4,5,5,5,5,0]),Cf=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Po=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ik=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hc=Array(576);md(hc);let xe=Array(60);md(xe);let $c=Array(512);md($c);let ye=Array(256);md(ye);let oh=Array(29);md(oh);let Df=Array(30);md(Df);let jk,kk,lk,ze=(b,a)=>{b.pending_buf[b.pending++]=a&255;b.pending_buf[b.pending++]=a>>>8&255},vb=(b,a,c)=>{b.bi_valid>16-c?
(b.bi_buf|=a<<b.bi_valid&65535,ze(b,b.bi_buf),b.bi_buf=a>>16-b.bi_valid,b.bi_valid+=c-16):(b.bi_buf|=a<<b.bi_valid&65535,b.bi_valid+=c)},Wb=(b,a,c)=>{vb(b,c[2*a],c[2*a+1])},mk=(b,a)=>{let c=0;do c|=b&1,b>>>=1,c<<=1;while(0<--a);return c>>>1},nk=(b,a,c)=>{const d=Array(16);var e=0;let f;for(f=1;15>=f;f++)e=e+c[f-1]<<1,d[f]=e;for(c=0;c<=a;c++)e=b[2*c+1],0!==e&&(b[2*c]=mk(d[e]++,e))},ok=b=>{let a;for(a=0;286>a;a++)b.dyn_ltree[2*a]=0;for(a=0;30>a;a++)b.dyn_dtree[2*a]=0;for(a=0;19>a;a++)b.bl_tree[2*a]=
0;b.dyn_ltree[512]=1;b.opt_len=b.static_len=0;b.sym_next=b.matches=0},pk=b=>{8<b.bi_valid?ze(b,b.bi_buf):0<b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf);b.bi_buf=0;b.bi_valid=0},qk=(b,a,c,d)=>{const e=2*a,f=2*c;return b[e]<b[f]||b[e]===b[f]&&d[a]<=d[c]},ph=(b,a,c)=>{const d=b.heap[c];let e=c<<1;for(;e<=b.heap_len;){e<b.heap_len&&qk(a,b.heap[e+1],b.heap[e],b.depth)&&e++;if(qk(a,d,b.heap[e],b.depth))break;b.heap[c]=b.heap[e];c=e;e<<=1}b.heap[c]=d},rk=(b,a,c)=>{let d,e,f=0,g,h;if(0!==b.sym_next){do d=
b.pending_buf[b.sym_buf+f++]&255,d+=(b.pending_buf[b.sym_buf+f++]&255)<<8,e=b.pending_buf[b.sym_buf+f++],0===d?Wb(b,e,a):(g=ye[e],Wb(b,g+256+1,a),h=nh[g],0!==h&&(e-=oh[g],vb(b,e,h)),d--,g=256>d?$c[d]:$c[256+(d>>>7)],Wb(b,g,c),h=Cf[g],0!==h&&(d-=Df[g],vb(b,d,h)));while(f<b.sym_next)}Wb(b,256,a)},qh=(b,a)=>{const c=a.dyn_tree;var d=a.stat_desc.static_tree,e=a.stat_desc.has_stree,f=a.stat_desc.elems,g;let h=-1;b.heap_len=0;b.heap_max=573;for(g=0;g<f;g++)0!==c[2*g]?(b.heap[++b.heap_len]=h=g,b.depth[g]=
0):c[2*g+1]=0;for(;2>b.heap_len;){var k=b.heap[++b.heap_len]=2>h?++h:0;c[2*k]=1;b.depth[k]=0;b.opt_len--;e&&(b.static_len-=d[2*k+1])}a.max_code=h;for(g=b.heap_len>>1;1<=g;g--)ph(b,c,g);k=f;do g=b.heap[1],b.heap[1]=b.heap[b.heap_len--],ph(b,c,1),d=b.heap[1],b.heap[--b.heap_max]=g,b.heap[--b.heap_max]=d,c[2*k]=c[2*g]+c[2*d],b.depth[k]=(b.depth[g]>=b.depth[d]?b.depth[g]:b.depth[d])+1,c[2*g+1]=c[2*d+1]=k,b.heap[1]=k++,ph(b,c,1);while(2<=b.heap_len);b.heap[--b.heap_max]=b.heap[1];{g=a.dyn_tree;k=a.max_code;
d=a.stat_desc.static_tree;e=a.stat_desc.has_stree;f=a.stat_desc.extra_bits;const m=a.stat_desc.extra_base,u=a.stat_desc.max_length;let n,t,l,q,p=0;for(t=0;15>=t;t++)b.bl_count[t]=0;g[2*b.heap[b.heap_max]+1]=0;for(a=b.heap_max+1;573>a;a++)n=b.heap[a],t=g[2*g[2*n+1]+1]+1,t>u&&(t=u,p++),g[2*n+1]=t,n>k||(b.bl_count[t]++,l=0,n>=m&&(l=f[n-m]),q=g[2*n],b.opt_len+=q*(t+l),e&&(b.static_len+=q*(d[2*n+1]+l)));if(0!==p){do{for(t=u-1;0===b.bl_count[t];)t--;b.bl_count[t]--;b.bl_count[t+1]+=2;b.bl_count[u]--;p-=
2}while(0<p);for(t=u;0!==t;t--)for(n=b.bl_count[t];0!==n;)d=b.heap[--a],d>k||(g[2*d+1]!==t&&(b.opt_len+=(t-g[2*d+1])*g[2*d],g[2*d+1]=t),n--)}}nk(c,h,b.bl_count)},sk=(b,a,c)=>{let d,e=-1,f,g=a[1],h=0,k=7,m=4;0===g&&(k=138,m=3);a[2*(c+1)+1]=65535;for(d=0;d<=c;d++)f=g,g=a[2*(d+1)+1],++h<k&&f===g||(h<m?b.bl_tree[2*f]+=h:0!==f?(f!==e&&b.bl_tree[2*f]++,b.bl_tree[32]++):10>=h?b.bl_tree[34]++:b.bl_tree[36]++,h=0,e=f,0===g?(k=138,m=3):f===g?(k=6,m=3):(k=7,m=4))},tk=(b,a,c)=>{let d,e=-1,f,g=a[1],h=0,k=7,m=
4;0===g&&(k=138,m=3);for(d=0;d<=c;d++)if(f=g,g=a[2*(d+1)+1],!(++h<k&&f===g)){if(h<m){do Wb(b,f,b.bl_tree);while(0!==--h)}else 0!==f?(f!==e&&(Wb(b,f,b.bl_tree),h--),Wb(b,16,b.bl_tree),vb(b,h-3,2)):10>=h?(Wb(b,17,b.bl_tree),vb(b,h-3,3)):(Wb(b,18,b.bl_tree),vb(b,h-11,7));h=0;e=f;0===g?(k=138,m=3):f===g?(k=6,m=3):(k=7,m=4)}},Qo=b=>{let a=4093624447,c;for(c=0;31>=c;c++,a>>>=1)if(a&1&&0!==b.dyn_ltree[2*c])return 0;if(0!==b.dyn_ltree[18]||0!==b.dyn_ltree[20]||0!==b.dyn_ltree[26])return 1;for(c=32;256>c;c++)if(0!==
b.dyn_ltree[2*c])return 1;return 0},uk=!1,vk=(b,a,c,d)=>{vb(b,d?1:0,3);pk(b);ze(b,c);ze(b,~c);c&&b.pending_buf.set(b.window.subarray(a,a+c),b.pending);b.pending+=c};var Ro={_tr_init:b=>{if(!uk){var a,c;let d;const e=Array(16);for(d=c=0;28>d;d++)for(oh[d]=c,a=0;a<1<<nh[d];a++)ye[c++]=d;ye[c-1]=d;for(d=c=0;16>d;d++)for(Df[d]=c,a=0;a<1<<Cf[d];a++)$c[c++]=d;for(c>>=7;30>d;d++)for(Df[d]=c<<7,a=0;a<1<<Cf[d]-7;a++)$c[256+c++]=d;for(a=0;15>=a;a++)e[a]=0;for(a=0;143>=a;)hc[2*a+1]=8,a++,e[8]++;for(;255>=a;)hc[2*
a+1]=9,a++,e[9]++;for(;279>=a;)hc[2*a+1]=7,a++,e[7]++;for(;287>=a;)hc[2*a+1]=8,a++,e[8]++;nk(hc,287,e);for(a=0;30>a;a++)xe[2*a+1]=5,xe[2*a]=mk(a,5);jk=new fg(hc,nh,257,286,15);kk=new fg(xe,Cf,0,30,15);lk=new fg([],Po,0,19,7);uk=!0}b.l_desc=new gg(b.dyn_ltree,jk);b.d_desc=new gg(b.dyn_dtree,kk);b.bl_desc=new gg(b.bl_tree,lk);b.bi_buf=0;b.bi_valid=0;ok(b)},_tr_stored_block:vk,_tr_flush_block:(b,a,c,d)=>{let e;var f=0;if(0<b.level){2===b.strm.data_type&&(b.strm.data_type=Qo(b));qh(b,b.l_desc);qh(b,b.d_desc);
sk(b,b.dyn_ltree,b.l_desc.max_code);sk(b,b.dyn_dtree,b.d_desc.max_code);qh(b,b.bl_desc);for(f=18;3<=f&&0===b.bl_tree[2*ik[f]+1];f--);b.opt_len+=3*(f+1)+14;var g=b.opt_len+3+7>>>3;e=b.static_len+3+7>>>3;e<=g&&(g=e)}else g=e=c+5;if(c+4<=g&&-1!==a)vk(b,a,c,d);else if(4===b.strategy||e===g)vb(b,2+(d?1:0),3),rk(b,hc,xe);else{vb(b,4+(d?1:0),3);a=b.l_desc.max_code+1;c=b.d_desc.max_code+1;f+=1;vb(b,a-257,5);vb(b,c-1,5);vb(b,f-4,4);for(g=0;g<f;g++)vb(b,b.bl_tree[2*ik[g]+1],3);tk(b,b.dyn_ltree,a-1);tk(b,b.dyn_dtree,
c-1);rk(b,b.dyn_ltree,b.dyn_dtree)}ok(b);d&&pk(b)},_tr_tally:(b,a,c)=>{b.pending_buf[b.sym_buf+b.sym_next++]=a;b.pending_buf[b.sym_buf+b.sym_next++]=a>>8;b.pending_buf[b.sym_buf+b.sym_next++]=c;0===a?b.dyn_ltree[2*c]++:(b.matches++,a--,b.dyn_ltree[2*(ye[c]+256+1)]++,b.dyn_dtree[2*(256>a?$c[a]:$c[256+(a>>>7)])]++);return b.sym_next===b.sym_end},_tr_align:b=>{vb(b,2,3);Wb(b,256,hc);16===b.bi_valid?(ze(b,b.bi_buf),b.bi_buf=0,b.bi_valid=0):8<=b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf&255,b.bi_buf>>=
8,b.bi_valid-=8)}},Ae=(b,a,c,d)=>{let e=b&65535|0;b=b>>>16&65535|0;let f;for(;0!==c;){f=2E3<c?2E3:c;c-=f;do e=e+a[d++]|0,b=b+e|0;while(--f);e%=65521;b%=65521}return e|b<<16|0};let So=new Uint32Array((()=>{let b,a=[];for(var c=0;256>c;c++){b=c;for(var d=0;8>d;d++)b=b&1?3988292384^b>>>1:b>>>1;a[c]=b}return a})());var fb=(b,a,c,d)=>{c=d+c;for(b^=-1;d<c;d++)b=b>>>8^So[(b^a[d])&255];return b^-1},Fc={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory",
"-5":"buffer error","-6":"incompatible version"},ad={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let {_tr_init:To,_tr_stored_block:rh,_tr_flush_block:Uo,
_tr_tally:sc,_tr_align:Vo}=Ro,{Z_NO_FLUSH:tc,Z_PARTIAL_FLUSH:Wo,Z_FULL_FLUSH:Xo,Z_FINISH:Ab,Z_BLOCK:wk,Z_OK:kb,Z_STREAM_END:xk,Z_STREAM_ERROR:Xb,Z_DATA_ERROR:Yo,Z_BUF_ERROR:sh,Z_DEFAULT_COMPRESSION:Zo,Z_FILTERED:$o,Z_HUFFMAN_ONLY:Ef,Z_RLE:ap,Z_FIXED:bp,Z_DEFAULT_STRATEGY:cp,Z_UNKNOWN:dp,Z_DEFLATED:Ne}=ad,bd=(b,a)=>{b.msg=Fc[a];return a},jc=b=>{let a=b.length;for(;0<=--a;)b[a]=0},wb=b=>{const a=b.state;let c=a.pending;c>b.avail_out&&(c=b.avail_out);0!==c&&(b.output.set(a.pending_buf.subarray(a.pending_out,
a.pending_out+c),b.next_out),b.next_out+=c,a.pending_out+=c,b.total_out+=c,b.avail_out-=c,a.pending-=c,0===a.pending&&(a.pending_out=0))},xb=(b,a)=>{Uo(b,0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,a);b.block_start=b.strstart;wb(b.strm)},Be=(b,a)=>{b.pending_buf[b.pending++]=a>>>8&255;b.pending_buf[b.pending++]=a&255},th=(b,a,c,d)=>{let e=b.avail_in;e>d&&(e=d);if(0===e)return 0;b.avail_in-=e;a.set(b.input.subarray(b.next_in,b.next_in+e),c);1===b.state.wrap?b.adler=Ae(b.adler,a,e,c):
2===b.state.wrap&&(b.adler=fb(b.adler,a,e,c));b.next_in+=e;b.total_in+=e;return e},yk=(b,a)=>{let c=b.max_chain_length,d=b.strstart;let e=b.prev_length,f=b.nice_match;const g=b.strstart>b.w_size-262?b.strstart-(b.w_size-262):0,h=b.window,k=b.w_mask,m=b.prev,u=b.strstart+258;let n=h[d+e-1],t=h[d+e];b.prev_length>=b.good_match&&(c>>=2);f>b.lookahead&&(f=b.lookahead);do{var l=a;if(h[l+e]===t&&h[l+e-1]===n&&h[l]===h[d]&&h[++l]===h[d+1]){d+=2;for(l++;h[++d]===h[++l]&&h[++d]===h[++l]&&h[++d]===h[++l]&&
h[++d]===h[++l]&&h[++d]===h[++l]&&h[++d]===h[++l]&&h[++d]===h[++l]&&h[++d]===h[++l]&&d<u;);l=258-(u-d);d=u-258;if(l>e){b.match_start=a;e=l;if(l>=f)break;n=h[d+e-1];t=h[d+e]}}}while((a=m[a&k])>g&&0!==--c);return e<=b.lookahead?e:b.lookahead},Cd=b=>{const a=b.w_size;do{var c=b.window_size-b.lookahead-b.strstart;if(b.strstart>=a+(a-262)){b.window.set(b.window.subarray(a,a+a-c),0);b.match_start-=a;b.strstart-=a;b.block_start-=a;b.insert>b.strstart&&(b.insert=b.strstart);let e,f,g;var d=b;let h=d.w_size;
e=g=d.hash_size;do f=d.head[--e],d.head[e]=f>=h?f-h:0;while(--g);e=g=h;do f=d.prev[--e],d.prev[e]=f>=h?f-h:0;while(--g);c+=a}if(0===b.strm.avail_in)break;c=th(b.strm,b.window,b.strstart+b.lookahead,c);b.lookahead+=c;if(3<=b.lookahead+b.insert)for(c=b.strstart-b.insert,b.ins_h=b.window[c],b.ins_h=(b.ins_h<<b.hash_shift^b.window[c+1])&b.hash_mask;b.insert&&!(b.ins_h=(b.ins_h<<b.hash_shift^b.window[c+3-1])&b.hash_mask,b.prev[c&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=c,c++,b.insert--,3>b.lookahead+
b.insert););}while(262>b.lookahead&&0!==b.strm.avail_in)},zk=(b,a)=>{let c=b.pending_buf_size-5>b.w_size?b.w_size:b.pending_buf_size-5,d,e,f,g=0,h=b.strm.avail_in;do{d=65535;f=b.bi_valid+42>>3;if(b.strm.avail_out<f)break;f=b.strm.avail_out-f;e=b.strstart-b.block_start;d>e+b.strm.avail_in&&(d=e+b.strm.avail_in);d>f&&(d=f);if(d<c&&(0===d&&a!==Ab||a===tc||d!==e+b.strm.avail_in))break;g=a===Ab&&d===e+b.strm.avail_in?1:0;rh(b,0,0,g);b.pending_buf[b.pending-4]=d;b.pending_buf[b.pending-3]=d>>8;b.pending_buf[b.pending-
2]=~d;b.pending_buf[b.pending-1]=~d>>8;wb(b.strm);e&&(e>d&&(e=d),b.strm.output.set(b.window.subarray(b.block_start,b.block_start+e),b.strm.next_out),b.strm.next_out+=e,b.strm.avail_out-=e,b.strm.total_out+=e,b.block_start+=e,d-=e);d&&(th(b.strm,b.strm.output,b.strm.next_out,d),b.strm.next_out+=d,b.strm.avail_out-=d,b.strm.total_out+=d)}while(0===g);if(h-=b.strm.avail_in)h>=b.w_size?(b.matches=2,b.window.set(b.strm.input.subarray(b.strm.next_in-b.w_size,b.strm.next_in),0),b.strstart=b.w_size,b.insert=
b.strstart):(b.window_size-b.strstart<=h&&(b.strstart-=b.w_size,b.window.set(b.window.subarray(b.w_size,b.w_size+b.strstart),0),2>b.matches&&b.matches++,b.insert>b.strstart&&(b.insert=b.strstart)),b.window.set(b.strm.input.subarray(b.strm.next_in-h,b.strm.next_in),b.strstart),b.strstart+=h,b.insert+=h>b.w_size-b.insert?b.w_size-b.insert:h),b.block_start=b.strstart;b.high_water<b.strstart&&(b.high_water=b.strstart);if(g)return 4;if(a!==tc&&a!==Ab&&0===b.strm.avail_in&&b.strstart===b.block_start)return 2;
f=b.window_size-b.strstart;b.strm.avail_in>f&&b.block_start>=b.w_size&&(b.block_start-=b.w_size,b.strstart-=b.w_size,b.window.set(b.window.subarray(b.w_size,b.w_size+b.strstart),0),2>b.matches&&b.matches++,f+=b.w_size,b.insert>b.strstart&&(b.insert=b.strstart));f>b.strm.avail_in&&(f=b.strm.avail_in);f&&(th(b.strm,b.window,b.strstart,f),b.strstart+=f,b.insert+=f>b.w_size-b.insert?b.w_size-b.insert:f);b.high_water<b.strstart&&(b.high_water=b.strstart);f=b.bi_valid+42>>3;f=65535<b.pending_buf_size-f?
65535:b.pending_buf_size-f;c=f>b.w_size?b.w_size:f;e=b.strstart-b.block_start;if(e>=c||(e||a===Ab)&&a!==tc&&0===b.strm.avail_in&&e<=f)d=e>f?f:e,g=a===Ab&&0===b.strm.avail_in&&d===e?1:0,rh(b,b.block_start,d,g),b.block_start+=d,wb(b.strm);return g?3:1},uh=(b,a)=>{for(var c;;){if(262>b.lookahead){Cd(b);if(262>b.lookahead&&a===tc)return 1;if(0===b.lookahead)break}c=0;3<=b.lookahead&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+3-1])&b.hash_mask,c=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=
b.strstart);0!==c&&b.strstart-c<=b.w_size-262&&(b.match_length=yk(b,c));if(3<=b.match_length)if(c=sc(b,b.strstart-b.match_start,b.match_length-3),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&3<=b.lookahead){b.match_length--;do b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+3-1])&b.hash_mask,b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart;while(0!==--b.match_length);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],
b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else c=sc(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(c&&(xb(b,!1),0===b.strm.avail_out))return 1}b.insert=2>b.strstart?b.strstart:2;return a===Ab?(xb(b,!0),0===b.strm.avail_out?3:4):b.sym_next&&(xb(b,!1),0===b.strm.avail_out)?1:2},Dd=(b,a)=>{let c;for(;;){if(262>b.lookahead){Cd(b);if(262>b.lookahead&&a===tc)return 1;if(0===b.lookahead)break}var d=0;3<=b.lookahead&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+3-
1])&b.hash_mask,d=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);b.prev_length=b.match_length;b.prev_match=b.match_start;b.match_length=2;0!==d&&b.prev_length<b.max_lazy_match&&b.strstart-d<=b.w_size-262&&(b.match_length=yk(b,d),5>=b.match_length&&(b.strategy===$o||3===b.match_length&&4096<b.strstart-b.match_start)&&(b.match_length=2));if(3<=b.prev_length&&b.match_length<=b.prev_length){c=b.strstart+b.lookahead-3;d=sc(b,b.strstart-1-b.prev_match,b.prev_length-3);b.lookahead-=
b.prev_length-1;b.prev_length-=2;do++b.strstart<=c&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+3-1])&b.hash_mask,b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);while(0!==--b.prev_length);b.match_available=0;b.match_length=2;b.strstart++;if(d&&(xb(b,!1),0===b.strm.avail_out))return 1}else if(b.match_available){if((d=sc(b,0,b.window[b.strstart-1]))&&xb(b,!1),b.strstart++,b.lookahead--,0===b.strm.avail_out)return 1}else b.match_available=1,b.strstart++,b.lookahead--}b.match_available&&
(sc(b,0,b.window[b.strstart-1]),b.match_available=0);b.insert=2>b.strstart?b.strstart:2;return a===Ab?(xb(b,!0),0===b.strm.avail_out?3:4):b.sym_next&&(xb(b,!1),0===b.strm.avail_out)?1:2},ep=(b,a)=>{let c,d;const e=b.window;for(;;){if(258>=b.lookahead){Cd(b);if(258>=b.lookahead&&a===tc)return 1;if(0===b.lookahead)break}b.match_length=0;if(3<=b.lookahead&&0<b.strstart){c=b.strstart-1;var f=e[c];if(f===e[++c]&&f===e[++c]&&f===e[++c]){for(d=b.strstart+258;f===e[++c]&&f===e[++c]&&f===e[++c]&&f===e[++c]&&
f===e[++c]&&f===e[++c]&&f===e[++c]&&f===e[++c]&&c<d;);b.match_length=258-(d-c);b.match_length>b.lookahead&&(b.match_length=b.lookahead)}}3<=b.match_length?(f=sc(b,1,b.match_length-3),b.lookahead-=b.match_length,b.strstart+=b.match_length,b.match_length=0):(f=sc(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++);if(f&&(xb(b,!1),0===b.strm.avail_out))return 1}b.insert=0;return a===Ab?(xb(b,!0),0===b.strm.avail_out?3:4):b.sym_next&&(xb(b,!1),0===b.strm.avail_out)?1:2},fp=(b,a)=>{let c;for(;;){if(0===
b.lookahead&&(Cd(b),0===b.lookahead)){if(a===tc)return 1;break}b.match_length=0;c=sc(b,0,b.window[b.strstart]);b.lookahead--;b.strstart++;if(c&&(xb(b,!1),0===b.strm.avail_out))return 1}b.insert=0;return a===Ab?(xb(b,!0),0===b.strm.avail_out?3:4):b.sym_next&&(xb(b,!1),0===b.strm.avail_out)?1:2},Ce=[new Mb(0,0,0,0,zk),new Mb(4,4,8,4,uh),new Mb(4,5,16,8,uh),new Mb(4,6,32,32,uh),new Mb(4,4,16,16,Dd),new Mb(8,16,32,32,Dd),new Mb(8,16,128,128,Dd),new Mb(8,32,128,256,Dd),new Mb(32,128,258,1024,Dd),new Mb(32,
258,258,4096,Dd)],De=b=>{if(!b)return 1;const a=b.state;return!a||a.strm!==b||42!==a.status&&57!==a.status&&69!==a.status&&73!==a.status&&91!==a.status&&103!==a.status&&113!==a.status&&666!==a.status?1:0},Ak=b=>{if(De(b))return bd(b,Xb);b.total_in=b.total_out=0;b.data_type=dp;const a=b.state;a.pending=0;a.pending_out=0;0>a.wrap&&(a.wrap=-a.wrap);a.status=2===a.wrap?57:a.wrap?42:113;b.adler=2===a.wrap?0:1;a.last_flush=-2;To(a);return kb},Bk=b=>{const a=Ak(b);a===kb&&(b=b.state,b.window_size=2*b.w_size,
jc(b.head),b.max_lazy_match=Ce[b.level].max_lazy,b.good_match=Ce[b.level].good_length,b.nice_match=Ce[b.level].nice_length,b.max_chain_length=Ce[b.level].max_chain,b.strstart=0,b.block_start=0,b.lookahead=0,b.insert=0,b.match_length=b.prev_length=2,b.match_available=0,b.ins_h=0);return a},Ck=(b,a,c,d,e,f)=>{if(!b)return Xb;let g=1;a===Zo&&(a=6);0>d?(g=0,d=-d):15<d&&(g=2,d-=16);if(1>e||9<e||c!==Ne||8>d||15<d||0>a||9<a||0>f||f>bp||8===d&&1!==g)return bd(b,Xb);8===d&&(d=9);const h=new pm;b.state=h;h.strm=
b;h.status=42;h.wrap=g;h.gzhead=null;h.w_bits=d;h.w_size=1<<h.w_bits;h.w_mask=h.w_size-1;h.hash_bits=e+7;h.hash_size=1<<h.hash_bits;h.hash_mask=h.hash_size-1;h.hash_shift=~~((h.hash_bits+3-1)/3);h.window=new Uint8Array(2*h.w_size);h.head=new Uint16Array(h.hash_size);h.prev=new Uint16Array(h.w_size);h.lit_bufsize=1<<e+6;h.pending_buf_size=4*h.lit_bufsize;h.pending_buf=new Uint8Array(h.pending_buf_size);h.sym_buf=h.lit_bufsize;h.sym_end=3*(h.lit_bufsize-1);h.level=a;h.strategy=f;h.method=c;return Bk(b)};
var Ud={deflateInit:(b,a)=>Ck(b,a,Ne,15,8,cp),deflateInit2:Ck,deflateReset:Bk,deflateResetKeep:Ak,deflateSetHeader:(b,a)=>{if(De(b)||2!==b.state.wrap)return Xb;b.state.gzhead=a;return kb},deflate:(b,a)=>{if(De(b)||a>wk||0>a)return b?bd(b,Xb):Xb;const c=b.state;if(!b.output||0!==b.avail_in&&!b.input||666===c.status&&a!==Ab)return bd(b,0===b.avail_out?sh:Xb);var d=c.last_flush;c.last_flush=a;if(0!==c.pending){if(wb(b),0===b.avail_out)return c.last_flush=-1,kb}else if(0===b.avail_in&&2*a-(4<a?9:0)<=
2*d-(4<d?9:0)&&a!==Ab)return bd(b,sh);if(666===c.status&&0!==b.avail_in)return bd(b,sh);42===c.status&&0===c.wrap&&(c.status=113);if(42===c.status&&(d=Ne+(c.w_bits-8<<4)<<8,d|=(c.strategy>=Ef||2>c.level?0:6>c.level?1:6===c.level?2:3)<<6,0!==c.strstart&&(d|=32),d+=31-d%31,Be(c,d),0!==c.strstart&&(Be(c,b.adler>>>16),Be(c,b.adler&65535)),b.adler=1,c.status=113,wb(b),0!==c.pending))return c.last_flush=-1,kb;if(57===c.status)if(b.adler=0,c.pending_buf[c.pending++]=31,c.pending_buf[c.pending++]=139,c.pending_buf[c.pending++]=
8,c.gzhead)d=(c.gzhead.text?1:0)+(c.gzhead.hcrc?2:0)+(c.gzhead.extra?4:0)+(c.gzhead.name?8:0)+(c.gzhead.comment?16:0),c.pending_buf[c.pending++]=d,d=c.gzhead.time&255,c.pending_buf[c.pending++]=d,d=c.gzhead.time>>8&255,c.pending_buf[c.pending++]=d,d=c.gzhead.time>>16&255,c.pending_buf[c.pending++]=d,d=c.gzhead.time>>24&255,c.pending_buf[c.pending++]=d,d=9===c.level?2:c.strategy>=Ef||2>c.level?4:0,c.pending_buf[c.pending++]=d,d=c.gzhead.os&255,c.pending_buf[c.pending++]=d,c.gzhead.extra&&c.gzhead.extra.length&&
(d=c.gzhead.extra.length&255,c.pending_buf[c.pending++]=d,d=c.gzhead.extra.length>>8&255,c.pending_buf[c.pending++]=d),c.gzhead.hcrc&&(b.adler=fb(b.adler,c.pending_buf,c.pending,0)),c.gzindex=0,c.status=69;else if(c.pending_buf[c.pending++]=0,c.pending_buf[c.pending++]=0,c.pending_buf[c.pending++]=0,c.pending_buf[c.pending++]=0,c.pending_buf[c.pending++]=0,d=9===c.level?2:c.strategy>=Ef||2>c.level?4:0,c.pending_buf[c.pending++]=d,c.pending_buf[c.pending++]=3,c.status=113,wb(b),0!==c.pending)return c.last_flush=
-1,kb;if(69===c.status){if(c.gzhead.extra){d=c.pending;for(var e=(c.gzhead.extra.length&65535)-c.gzindex;c.pending+e>c.pending_buf_size;){var f=c.pending_buf_size-c.pending;c.pending_buf.set(c.gzhead.extra.subarray(c.gzindex,c.gzindex+f),c.pending);c.pending=c.pending_buf_size;c.gzhead.hcrc&&c.pending>d&&(b.adler=fb(b.adler,c.pending_buf,c.pending-d,d));c.gzindex+=f;wb(b);if(0!==c.pending)return c.last_flush=-1,kb;d=0;e-=f}f=new Uint8Array(c.gzhead.extra);c.pending_buf.set(f.subarray(c.gzindex,c.gzindex+
e),c.pending);c.pending+=e;c.gzhead.hcrc&&c.pending>d&&(b.adler=fb(b.adler,c.pending_buf,c.pending-d,d));c.gzindex=0}c.status=73}if(73===c.status){if(c.gzhead.name){e=c.pending;do{if(c.pending===c.pending_buf_size){c.gzhead.hcrc&&c.pending>e&&(b.adler=fb(b.adler,c.pending_buf,c.pending-e,e));wb(b);if(0!==c.pending)return c.last_flush=-1,kb;e=0}d=f=c.gzindex<c.gzhead.name.length?c.gzhead.name.charCodeAt(c.gzindex++)&255:0;c.pending_buf[c.pending++]=d}while(0!==f);c.gzhead.hcrc&&c.pending>e&&(b.adler=
fb(b.adler,c.pending_buf,c.pending-e,e));c.gzindex=0}c.status=91}if(91===c.status){if(c.gzhead.comment){e=c.pending;do{if(c.pending===c.pending_buf_size){c.gzhead.hcrc&&c.pending>e&&(b.adler=fb(b.adler,c.pending_buf,c.pending-e,e));wb(b);if(0!==c.pending)return c.last_flush=-1,kb;e=0}d=f=c.gzindex<c.gzhead.comment.length?c.gzhead.comment.charCodeAt(c.gzindex++)&255:0;c.pending_buf[c.pending++]=d}while(0!==f);c.gzhead.hcrc&&c.pending>e&&(b.adler=fb(b.adler,c.pending_buf,c.pending-e,e))}c.status=103}if(103===
c.status){if(c.gzhead.hcrc){if(c.pending+2>c.pending_buf_size&&(wb(b),0!==c.pending))return c.last_flush=-1,kb;d=b.adler&255;c.pending_buf[c.pending++]=d;d=b.adler>>8&255;c.pending_buf[c.pending++]=d;b.adler=0}c.status=113;wb(b);if(0!==c.pending)return c.last_flush=-1,kb}if(0!==b.avail_in||0!==c.lookahead||a!==tc&&666!==c.status){d=0===c.level?zk(c,a):c.strategy===Ef?fp(c,a):c.strategy===ap?ep(c,a):Ce[c.level].func(c,a);if(3===d||4===d)c.status=666;if(1===d||3===d)return 0===b.avail_out&&(c.last_flush=
-1),kb;if(2===d&&(a===Wo?Vo(c):a!==wk&&(rh(c,0,0,!1),a===Xo&&(jc(c.head),0===c.lookahead&&(c.strstart=0,c.block_start=0,c.insert=0))),wb(b),0===b.avail_out))return c.last_flush=-1,kb}if(a!==Ab)return kb;if(0>=c.wrap)return xk;2===c.wrap?(a=b.adler&255,c.pending_buf[c.pending++]=a,a=b.adler>>8&255,c.pending_buf[c.pending++]=a,a=b.adler>>16&255,c.pending_buf[c.pending++]=a,a=b.adler>>24&255,c.pending_buf[c.pending++]=a,a=b.total_in&255,c.pending_buf[c.pending++]=a,a=b.total_in>>8&255,c.pending_buf[c.pending++]=
a,a=b.total_in>>16&255,c.pending_buf[c.pending++]=a,a=b.total_in>>24&255,c.pending_buf[c.pending++]=a):(Be(c,b.adler>>>16),Be(c,b.adler&65535));wb(b);0<c.wrap&&(c.wrap=-c.wrap);return 0!==c.pending?kb:xk},deflateEnd:b=>{if(De(b))return Xb;const a=b.state.status;b.state=null;return 113===a?bd(b,Yo):kb},deflateSetDictionary:(b,a)=>{var c=a.length;if(De(b))return Xb;const d=b.state,e=d.wrap;if(2===e||1===e&&42!==d.status||d.lookahead)return Xb;1===e&&(b.adler=Ae(b.adler,a,c,0));d.wrap=0;if(c>=d.w_size){0===
e&&(jc(d.head),d.strstart=0,d.block_start=0,d.insert=0);var f=new Uint8Array(d.w_size);f.set(a.subarray(c-d.w_size,c),0);a=f;c=d.w_size}f=b.avail_in;const g=b.next_in,h=b.input;b.avail_in=c;b.next_in=0;b.input=a;for(Cd(d);3<=d.lookahead;){a=d.strstart;c=d.lookahead-2;do d.ins_h=(d.ins_h<<d.hash_shift^d.window[a+3-1])&d.hash_mask,d.prev[a&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=a,a++;while(--c);d.strstart=a;d.lookahead=2;Cd(d)}d.strstart+=d.lookahead;d.block_start=d.strstart;d.insert=d.lookahead;
d.lookahead=0;d.match_length=d.prev_length=2;d.match_available=0;b.next_in=g;b.input=h;b.avail_in=f;d.wrap=e;return kb},deflateInfo:"pako deflate (from Nodeca project)"},Oe={assign:function(b){let a=Array.prototype.slice.call(arguments,1);for(;a.length;){let c=a.shift();if(c){if("object"!==typeof c)throw new TypeError(c+"must be non-object");for(let d in c)Object.prototype.hasOwnProperty.call(c,d)&&(b[d]=c[d])}}return b},flattenChunks:b=>{var a=0;for(let c=0,d=b.length;c<d;c++)a+=b[c].length;a=new Uint8Array(a);
for(let c=0,d=0,e=b.length;c<e;c++){let f=b[c];a.set(f,d);d+=f.length}return a}};let Dk=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(b){Dk=!1}let Ee=new Uint8Array(256);for(let b=0;256>b;b++)Ee[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;Ee[254]=Ee[254]=1;var Vd={string2buf:b=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(b);let a,c,d,e,f,g=b.length,h=0;for(e=0;e<g;e++)c=b.charCodeAt(e),55296===(c&64512)&&e+1<g&&(d=b.charCodeAt(e+
1),56320===(d&64512)&&(c=65536+(c-55296<<10)+(d-56320),e++)),h+=128>c?1:2048>c?2:65536>c?3:4;a=new Uint8Array(h);for(e=f=0;f<h;e++)c=b.charCodeAt(e),55296===(c&64512)&&e+1<g&&(d=b.charCodeAt(e+1),56320===(d&64512)&&(c=65536+(c-55296<<10)+(d-56320),e++)),128>c?a[f++]=c:(2048>c?a[f++]=192|c>>>6:(65536>c?a[f++]=224|c>>>12:(a[f++]=240|c>>>18,a[f++]=128|c>>>12&63),a[f++]=128|c>>>6&63),a[f++]=128|c&63);return a},buf2string:(b,a)=>{var c=a||b.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(b.subarray(0,
a));var d;let e;a=Array(2*c);for(d=e=0;d<c;){let f=b[d++];if(128>f){a[e++]=f;continue}let g=Ee[f];if(4<g)a[e++]=65533,d+=g-1;else{for(f&=2===g?31:3===g?15:7;1<g&&d<c;)f=f<<6|b[d++]&63,g--;1<g?a[e++]=65533:65536>f?a[e++]=f:(f-=65536,a[e++]=55296|f>>10&1023,a[e++]=56320|f&1023)}}b=e;if(65534>b&&a.subarray&&Dk)a=String.fromCharCode.apply(null,a.length===b?a:a.subarray(0,b));else{c="";for(d=0;d<b;d++)c+=String.fromCharCode(a[d]);a=c}return a},utf8border:(b,a)=>{a=a||b.length;a>b.length&&(a=b.length);
let c=a-1;for(;0<=c&&128===(b[c]&192);)c--;return 0>c||0===c?a:c+Ee[b[c]]>a?c:a}},mi=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0};let ni=Object.prototype.toString,{Z_NO_FLUSH:gp,Z_SYNC_FLUSH:hp,Z_FULL_FLUSH:ip,Z_FINISH:jp,Z_OK:Pe,Z_STREAM_END:kp,Z_DEFAULT_COMPRESSION:qm,Z_DEFAULT_STRATEGY:sm,Z_DEFLATED:rm}=ad;Td.prototype.push=function(b,a){let c=this.strm,
d=this.options.chunkSize;if(this.ended)return!1;a=a===~~a?a:!0===a?jp:gp;"string"===typeof b?c.input=Vd.string2buf(b):"[object ArrayBuffer]"===ni.call(b)?c.input=new Uint8Array(b):c.input=b;c.next_in=0;for(c.avail_in=c.input.length;;)if(0===c.avail_out&&(c.output=new Uint8Array(d),c.next_out=0,c.avail_out=d),(a===hp||a===ip)&&6>=c.avail_out)this.onData(c.output.subarray(0,c.next_out)),c.avail_out=0;else{b=Ud.deflate(c,a);if(b===kp){if(0<c.next_out)this.onData(c.output.subarray(0,c.next_out));b=Ud.deflateEnd(this.strm);
this.onEnd(b);this.ended=!0;return b===Pe}if(0===c.avail_out)this.onData(c.output);else if(0<a&&0<c.next_out)this.onData(c.output.subarray(0,c.next_out)),c.avail_out=0;else if(0===c.avail_in)break}return!0};Td.prototype.onData=function(b){this.chunks.push(b)};Td.prototype.onEnd=function(b){b===Pe&&(this.result=Oe.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};var lp={Deflate:Td,deflate:hg,deflateRaw:function(b,a){a=a||{};a.raw=!0;return hg(b,a)},gzip:function(b,a){a=
a||{};a.gzip=!0;return hg(b,a)},constants:ad};let mp=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),np=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),op=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pp=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,
26,27,27,28,28,29,29,64,64]);var Fe=(b,a,c,d,e,f,g,h)=>{var k=h.bits;let m,u,n,t;var l;let q,p,v,w,y,B,G,H;const E=new Uint16Array(16);var F=new Uint16Array(16);let I,N,la,S;for(m=0;15>=m;m++)E[m]=0;for(u=0;u<d;u++)E[a[c+u]]++;t=k;for(n=15;1<=n&&0===E[n];n--);t>n&&(t=n);if(0===n)return e[f++]=20971520,e[f++]=20971520,h.bits=1,0;for(k=1;k<n&&0===E[k];k++);t<k&&(t=k);for(m=l=1;15>=m;m++)if(l<<=1,l-=E[m],0>l)return-1;if(0<l&&(0===b||1!==n))return-1;F[1]=0;for(m=1;15>m;m++)F[m+1]=F[m]+E[m];for(u=0;u<
d;u++)0!==a[c+u]&&(g[F[a[c+u]]++]=u);0===b?(G=I=g,H=20):1===b?(G=mp,I=np,H=257):(G=op,I=pp,H=0);u=p=0;m=k;B=f;d=t;F=0;w=-1;q=1<<t;y=q-1;if(1===b&&852<q||2===b&&592<q)return 1;for(;;){N=m-F;g[u]+1<H?(la=0,S=g[u]):g[u]>=H?(la=I[g[u]-H],S=G[g[u]-H]):(la=96,S=0);l=1<<m-F;k=v=1<<d;do v-=l,e[B+(p>>F)+v]=N<<24|la<<16|S|0;while(0!==v);for(l=1<<m-1;p&l;)l>>=1;0!==l?(p&=l-1,p+=l):p=0;u++;if(0===--E[m]){if(m===n)break;m=a[c+g[u]]}if(m>t&&(p&y)!==w){0===F&&(F=t);B+=k;d=m-F;for(l=1<<d;d+F<n;){l-=E[d+F];if(0>=
l)break;d++;l<<=1}q+=1<<d;if(1===b&&852<q||2===b&&592<q)return 1;w=p&y;e[w]=t<<24|d<<16|B-f|0}}0!==p&&(e[B+p]=m-F<<24|4194304);h.bits=t;return 0};let {Z_FINISH:Ek,Z_BLOCK:qp,Z_TREES:Ff,Z_OK:cd,Z_STREAM_END:rp,Z_NEED_DICT:sp,Z_STREAM_ERROR:Bb,Z_DATA_ERROR:Fk,Z_MEM_ERROR:Gk,Z_BUF_ERROR:tp,Z_DEFLATED:Hk}=ad,dd=b=>{if(!b)return 1;const a=b.state;return!a||a.strm!==b||16180>a.mode||16211<a.mode?1:0},Ik=b=>{if(dd(b))return Bb;const a=b.state;b.total_in=b.total_out=a.total=0;b.msg="";a.wrap&&(b.adler=a.wrap&
1);a.mode=16180;a.last=0;a.havedict=0;a.flags=-1;a.dmax=32768;a.head=null;a.hold=0;a.bits=0;a.lencode=a.lendyn=new Int32Array(852);a.distcode=a.distdyn=new Int32Array(592);a.sane=1;a.back=-1;return cd},Jk=b=>{if(dd(b))return Bb;const a=b.state;a.wsize=0;a.whave=0;a.wnext=0;return Ik(b)},Kk=(b,a)=>{let c;if(dd(b))return Bb;const d=b.state;0>a?(c=0,a=-a):(c=(a>>4)+5,48>a&&(a&=15));if(a&&(8>a||15<a))return Bb;null!==d.window&&d.wbits!==a&&(d.window=null);d.wrap=c;d.wbits=a;return Jk(b)},Lk=(b,a)=>{if(!b)return Bb;
const c=new tm;b.state=c;c.strm=b;c.window=null;c.mode=16180;a=Kk(b,a);a!==cd&&(b.state=null);return a},Mk=!0,vh,wh,Nk=(b,a,c,d)=>{const e=b.state;null===e.window&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new Uint8Array(e.wsize));d>=e.wsize?(e.window.set(a.subarray(c-e.wsize,c),0),e.wnext=0,e.whave=e.wsize):(b=e.wsize-e.wnext,b>d&&(b=d),e.window.set(a.subarray(c-d,c-d+b),e.wnext),(d-=b)?(e.window.set(a.subarray(c-d,c),0),e.wnext=d,e.whave=e.wsize):(e.wnext+=b,e.wnext===e.wsize&&(e.wnext=0),
e.whave<e.wsize&&(e.whave+=b)));return 0};var Zb={inflateReset:Jk,inflateReset2:Kk,inflateResetKeep:Ik,inflateInit:b=>Lk(b,15),inflateInit2:Lk,inflate:(b,a)=>{let c;let d,e;let f;const g=new Uint8Array(4),h=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(dd(b)||!b.output||!b.input&&0!==b.avail_in)return Bb;c=b.state;16191===c.mode&&(c.mode=16192);var k=b.next_out;var m=b.output;var u=b.avail_out;var n=b.next_in;var t=b.input;var l=b.avail_in;var q=c.hold;var p=c.bits;d=l;e=u;f=
cd;a:for(;;)switch(c.mode){case 16180:if(0===c.wrap){c.mode=16192;break}for(;16>p;){if(0===l)break a;l--;q+=t[n++]<<p;p+=8}if(c.wrap&2&&35615===q){0===c.wbits&&(c.wbits=15);c.check=0;g[0]=q&255;g[1]=q>>>8&255;c.check=fb(c.check,g,2,0);p=q=0;c.mode=16181;break}c.head&&(c.head.done=!1);if(!(c.wrap&1)||(((q&255)<<8)+(q>>8))%31){b.msg="incorrect header check";c.mode=16209;break}if((q&15)!==Hk){b.msg="unknown compression method";c.mode=16209;break}q>>>=4;p-=4;var v=(q&15)+8;0===c.wbits&&(c.wbits=v);if(15<
v||v>c.wbits){b.msg="invalid window size";c.mode=16209;break}c.dmax=1<<c.wbits;c.flags=0;b.adler=c.check=1;c.mode=q&512?16189:16191;p=q=0;break;case 16181:for(;16>p;){if(0===l)break a;l--;q+=t[n++]<<p;p+=8}c.flags=q;if((c.flags&255)!==Hk){b.msg="unknown compression method";c.mode=16209;break}if(c.flags&57344){b.msg="unknown header flags set";c.mode=16209;break}c.head&&(c.head.text=q>>8&1);c.flags&512&&c.wrap&4&&(g[0]=q&255,g[1]=q>>>8&255,c.check=fb(c.check,g,2,0));p=q=0;c.mode=16182;case 16182:for(;32>
p;){if(0===l)break a;l--;q+=t[n++]<<p;p+=8}c.head&&(c.head.time=q);c.flags&512&&c.wrap&4&&(g[0]=q&255,g[1]=q>>>8&255,g[2]=q>>>16&255,g[3]=q>>>24&255,c.check=fb(c.check,g,4,0));p=q=0;c.mode=16183;case 16183:for(;16>p;){if(0===l)break a;l--;q+=t[n++]<<p;p+=8}c.head&&(c.head.xflags=q&255,c.head.os=q>>8);c.flags&512&&c.wrap&4&&(g[0]=q&255,g[1]=q>>>8&255,c.check=fb(c.check,g,2,0));p=q=0;c.mode=16184;case 16184:if(c.flags&1024){for(;16>p;){if(0===l)break a;l--;q+=t[n++]<<p;p+=8}c.length=q;c.head&&(c.head.extra_len=
q);c.flags&512&&c.wrap&4&&(g[0]=q&255,g[1]=q>>>8&255,c.check=fb(c.check,g,2,0));p=q=0}else c.head&&(c.head.extra=null);c.mode=16185;case 16185:if(c.flags&1024){var w=c.length;w>l&&(w=l);w&&(c.head&&(v=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Uint8Array(c.head.extra_len)),c.head.extra.set(t.subarray(n,n+w),v)),c.flags&512&&c.wrap&4&&(c.check=fb(c.check,t,w,n)),l-=w,n+=w,c.length-=w);if(c.length)break a}c.length=0;c.mode=16186;case 16186:if(c.flags&2048){if(0===l)break a;w=0;do v=t[n+
w++],c.head&&v&&65536>c.length&&(c.head.name+=String.fromCharCode(v));while(v&&w<l);c.flags&512&&c.wrap&4&&(c.check=fb(c.check,t,w,n));l-=w;n+=w;if(v)break a}else c.head&&(c.head.name=null);c.length=0;c.mode=16187;case 16187:if(c.flags&4096){if(0===l)break a;w=0;do v=t[n+w++],c.head&&v&&65536>c.length&&(c.head.comment+=String.fromCharCode(v));while(v&&w<l);c.flags&512&&c.wrap&4&&(c.check=fb(c.check,t,w,n));l-=w;n+=w;if(v)break a}else c.head&&(c.head.comment=null);c.mode=16188;case 16188:if(c.flags&
512){for(;16>p;){if(0===l)break a;l--;q+=t[n++]<<p;p+=8}if(c.wrap&4&&q!==(c.check&65535)){b.msg="header crc mismatch";c.mode=16209;break}p=q=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0);b.adler=c.check=0;c.mode=16191;break;case 16189:for(;32>p;){if(0===l)break a;l--;q+=t[n++]<<p;p+=8}b.adler=c.check=(q>>>24&255)+(q>>>8&65280)+((q&65280)<<8)+((q&255)<<24);p=q=0;c.mode=16190;case 16190:if(0===c.havedict)return b.next_out=k,b.avail_out=u,b.next_in=n,b.avail_in=l,c.hold=q,c.bits=p,sp;b.adler=c.check=
1;c.mode=16191;case 16191:if(a===qp||a===Ff)break a;case 16192:if(c.last){q>>>=p&7;p-=p&7;c.mode=16206;break}for(;3>p;){if(0===l)break a;l--;q+=t[n++]<<p;p+=8}c.last=q&1;q>>>=1;--p;switch(q&3){case 0:c.mode=16193;break;case 1:w=c;if(Mk){vh=new Int32Array(512);wh=new Int32Array(32);for(v=0;144>v;)w.lens[v++]=8;for(;256>v;)w.lens[v++]=9;for(;280>v;)w.lens[v++]=7;for(;288>v;)w.lens[v++]=8;Fe(1,w.lens,0,288,vh,0,w.work,{bits:9});for(v=0;32>v;)w.lens[v++]=5;Fe(2,w.lens,0,32,wh,0,w.work,{bits:5});Mk=!1}w.lencode=
vh;w.lenbits=9;w.distcode=wh;w.distbits=5;c.mode=16199;if(a===Ff){q>>>=2;p-=2;break a}break;case 2:c.mode=16196;break;case 3:b.msg="invalid block type",c.mode=16209}q>>>=2;p-=2;break;case 16193:q>>>=p&7;for(p-=p&7;32>p;){if(0===l)break a;l--;q+=t[n++]<<p;p+=8}if((q&65535)!==(q>>>16^65535)){b.msg="invalid stored block lengths";c.mode=16209;break}c.length=q&65535;p=q=0;c.mode=16194;if(a===Ff)break a;case 16194:c.mode=16195;case 16195:if(w=c.length){w>l&&(w=l);w>u&&(w=u);if(0===w)break a;m.set(t.subarray(n,
n+w),k);l-=w;n+=w;u-=w;k+=w;c.length-=w;break}c.mode=16191;break;case 16196:for(;14>p;){if(0===l)break a;l--;q+=t[n++]<<p;p+=8}c.nlen=(q&31)+257;q>>>=5;p-=5;c.ndist=(q&31)+1;q>>>=5;p-=5;c.ncode=(q&15)+4;q>>>=4;p-=4;if(286<c.nlen||30<c.ndist){b.msg="too many length or distance symbols";c.mode=16209;break}c.have=0;c.mode=16197;case 16197:for(;c.have<c.ncode;){for(;3>p;){if(0===l)break a;l--;q+=t[n++]<<p;p+=8}c.lens[h[c.have++]]=q&7;q>>>=3;p-=3}for(;19>c.have;)c.lens[h[c.have++]]=0;c.lencode=c.lendyn;
c.lenbits=7;w={bits:c.lenbits};f=Fe(0,c.lens,0,19,c.lencode,0,c.work,w);c.lenbits=w.bits;if(f){b.msg="invalid code lengths set";c.mode=16209;break}c.have=0;c.mode=16198;case 16198:for(;c.have<c.nlen+c.ndist;){for(;;){var y=c.lencode[q&(1<<c.lenbits)-1];w=y>>>24;y&=65535;if(w<=p)break;if(0===l)break a;l--;q+=t[n++]<<p;p+=8}if(16>y)q>>>=w,p-=w,c.lens[c.have++]=y;else{if(16===y){for(v=w+2;p<v;){if(0===l)break a;l--;q+=t[n++]<<p;p+=8}q>>>=w;p-=w;if(0===c.have){b.msg="invalid bit length repeat";c.mode=
16209;break}v=c.lens[c.have-1];w=3+(q&3);q>>>=2;p-=2}else if(17===y){for(v=w+3;p<v;){if(0===l)break a;l--;q+=t[n++]<<p;p+=8}q>>>=w;p-=w;v=0;w=3+(q&7);q>>>=3;p-=3}else{for(v=w+7;p<v;){if(0===l)break a;l--;q+=t[n++]<<p;p+=8}q>>>=w;p-=w;v=0;w=11+(q&127);q>>>=7;p-=7}if(c.have+w>c.nlen+c.ndist){b.msg="invalid bit length repeat";c.mode=16209;break}for(;w--;)c.lens[c.have++]=v}}if(16209===c.mode)break;if(0===c.lens[256]){b.msg="invalid code -- missing end-of-block";c.mode=16209;break}c.lenbits=9;w={bits:c.lenbits};
f=Fe(1,c.lens,0,c.nlen,c.lencode,0,c.work,w);c.lenbits=w.bits;if(f){b.msg="invalid literal/lengths set";c.mode=16209;break}c.distbits=6;c.distcode=c.distdyn;w={bits:c.distbits};f=Fe(2,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,w);c.distbits=w.bits;if(f){b.msg="invalid distances set";c.mode=16209;break}c.mode=16199;if(a===Ff)break a;case 16199:c.mode=16200;case 16200:if(6<=l&&258<=u){b.next_out=k;b.avail_out=u;b.next_in=n;b.avail_in=l;c.hold=q;c.bits=p;var B=void 0;let F,I,N,la,S,pa,Q,D,C;t=b;let z=
t.state;C=t.next_in;n=t.input;D=C+(t.avail_in-5);Q=t.next_out;m=t.output;pa=Q-(e-t.avail_out);S=Q+(t.avail_out-257);la=z.dmax;N=z.wsize;y=z.whave;var G=z.wnext;var H=z.window;var E=z.hold;v=z.bits;w=z.lencode;p=z.distcode;q=(1<<z.lenbits)-1;u=(1<<z.distbits)-1;b:do c:for(15>v&&(E+=n[C++]<<v,v+=8,E+=n[C++]<<v,v+=8),B=w[E&q];;){l=B>>>24;E>>>=l;v-=l;l=B>>>16&255;if(0===l)m[Q++]=B&65535;else if(l&16){k=B&65535;if(l&=15)v<l&&(E+=n[C++]<<v,v+=8),k+=E&(1<<l)-1,E>>>=l,v-=l;15>v&&(E+=n[C++]<<v,v+=8,E+=n[C++]<<
v,v+=8);B=p[E&u];d:for(;;){l=B>>>24;E>>>=l;v-=l;l=B>>>16&255;if(l&16){I=B&65535;l&=15;v<l&&(E+=n[C++]<<v,v+=8,v<l&&(E+=n[C++]<<v,v+=8));I+=E&(1<<l)-1;if(I>la){t.msg="invalid distance too far back";z.mode=16209;break b}E>>>=l;v-=l;l=Q-pa;if(I>l){l=I-l;if(l>y&&z.sane){t.msg="invalid distance too far back";z.mode=16209;break b}F=0;B=H;if(0===G){if(F+=N-l,l<k){k-=l;do m[Q++]=H[F++];while(--l);F=Q-I;B=m}}else if(G<l){if(F+=N+G-l,l-=G,l<k){k-=l;do m[Q++]=H[F++];while(--l);F=0;if(G<k){l=G;k-=l;do m[Q++]=
H[F++];while(--l);F=Q-I;B=m}}}else if(F+=G-l,l<k){k-=l;do m[Q++]=H[F++];while(--l);F=Q-I;B=m}for(;2<k;)m[Q++]=B[F++],m[Q++]=B[F++],m[Q++]=B[F++],k-=3;k&&(m[Q++]=B[F++],1<k&&(m[Q++]=B[F++]))}else{F=Q-I;do m[Q++]=m[F++],m[Q++]=m[F++],m[Q++]=m[F++],k-=3;while(2<k);k&&(m[Q++]=m[F++],1<k&&(m[Q++]=m[F++]))}}else if(0===(l&64)){B=p[(B&65535)+(E&(1<<l)-1)];continue d}else{t.msg="invalid distance code";z.mode=16209;break b}break}}else if(0===(l&64)){B=w[(B&65535)+(E&(1<<l)-1)];continue c}else{l&32?z.mode=
16191:(t.msg="invalid literal/length code",z.mode=16209);break b}break}while(C<D&&Q<S);k=v>>3;C-=k;v-=k<<3;t.next_in=C;t.next_out=Q;t.avail_in=C<D?5+(D-C):5-(C-D);t.avail_out=Q<S?257+(S-Q):257-(Q-S);z.hold=E&(1<<v)-1;z.bits=v;k=b.next_out;m=b.output;u=b.avail_out;n=b.next_in;t=b.input;l=b.avail_in;q=c.hold;p=c.bits;16191===c.mode&&(c.back=-1);break}for(c.back=0;;){y=c.lencode[q&(1<<c.lenbits)-1];w=y>>>24;v=y>>>16&255;y&=65535;if(w<=p)break;if(0===l)break a;l--;q+=t[n++]<<p;p+=8}if(v&&0===(v&240)){E=
w;H=v;for(G=y;;){y=c.lencode[G+((q&(1<<E+H)-1)>>E)];w=y>>>24;v=y>>>16&255;y&=65535;if(E+w<=p)break;if(0===l)break a;l--;q+=t[n++]<<p;p+=8}q>>>=E;p-=E;c.back+=E}q>>>=w;p-=w;c.back+=w;c.length=y;if(0===v){c.mode=16205;break}if(v&32){c.back=-1;c.mode=16191;break}if(v&64){b.msg="invalid literal/length code";c.mode=16209;break}c.extra=v&15;c.mode=16201;case 16201:if(c.extra){for(v=c.extra;p<v;){if(0===l)break a;l--;q+=t[n++]<<p;p+=8}c.length+=q&(1<<c.extra)-1;q>>>=c.extra;p-=c.extra;c.back+=c.extra}c.was=
c.length;c.mode=16202;case 16202:for(;;){y=c.distcode[q&(1<<c.distbits)-1];w=y>>>24;v=y>>>16&255;y&=65535;if(w<=p)break;if(0===l)break a;l--;q+=t[n++]<<p;p+=8}if(0===(v&240)){E=w;H=v;for(G=y;;){y=c.distcode[G+((q&(1<<E+H)-1)>>E)];w=y>>>24;v=y>>>16&255;y&=65535;if(E+w<=p)break;if(0===l)break a;l--;q+=t[n++]<<p;p+=8}q>>>=E;p-=E;c.back+=E}q>>>=w;p-=w;c.back+=w;if(v&64){b.msg="invalid distance code";c.mode=16209;break}c.offset=y;c.extra=v&15;c.mode=16203;case 16203:if(c.extra){for(v=c.extra;p<v;){if(0===
l)break a;l--;q+=t[n++]<<p;p+=8}c.offset+=q&(1<<c.extra)-1;q>>>=c.extra;p-=c.extra;c.back+=c.extra}if(c.offset>c.dmax){b.msg="invalid distance too far back";c.mode=16209;break}c.mode=16204;case 16204:if(0===u)break a;w=e-u;if(c.offset>w){w=c.offset-w;if(w>c.whave&&c.sane){b.msg="invalid distance too far back";c.mode=16209;break}w>c.wnext?(w-=c.wnext,v=c.wsize-w):v=c.wnext-w;w>c.length&&(w=c.length);E=c.window}else E=m,v=k-c.offset,w=c.length;w>u&&(w=u);u-=w;c.length-=w;do m[k++]=E[v++];while(--w);
0===c.length&&(c.mode=16200);break;case 16205:if(0===u)break a;m[k++]=c.length;u--;c.mode=16200;break;case 16206:if(c.wrap){for(;32>p;){if(0===l)break a;l--;q|=t[n++]<<p;p+=8}e-=u;b.total_out+=e;c.total+=e;c.wrap&4&&e&&(b.adler=c.check=c.flags?fb(c.check,m,e,k-e):Ae(c.check,m,e,k-e));e=u;if(c.wrap&4&&(c.flags?q:(q>>>24&255)+(q>>>8&65280)+((q&65280)<<8)+((q&255)<<24))!==c.check){b.msg="incorrect data check";c.mode=16209;break}p=q=0}c.mode=16207;case 16207:if(c.wrap&&c.flags){for(;32>p;){if(0===l)break a;
l--;q+=t[n++]<<p;p+=8}if(c.wrap&4&&q!==(c.total&4294967295)){b.msg="incorrect length check";c.mode=16209;break}p=q=0}c.mode=16208;case 16208:f=rp;break a;case 16209:f=Fk;break a;case 16210:return Gk;default:return Bb}b.next_out=k;b.avail_out=u;b.next_in=n;b.avail_in=l;c.hold=q;c.bits=p;(c.wsize||e!==b.avail_out&&16209>c.mode&&(16206>c.mode||a!==Ek))&&Nk(b,b.output,b.next_out,e-b.avail_out);d-=b.avail_in;e-=b.avail_out;b.total_in+=d;b.total_out+=e;c.total+=e;c.wrap&4&&e&&(b.adler=c.check=c.flags?fb(c.check,
m,e,b.next_out-e):Ae(c.check,m,e,b.next_out-e));b.data_type=c.bits+(c.last?64:0)+(16191===c.mode?128:0)+(16199===c.mode||16194===c.mode?256:0);(0===d&&0===e||a===Ek)&&f===cd&&(f=tp);return f},inflateEnd:b=>{if(dd(b))return Bb;let a=b.state;a.window&&(a.window=null);b.state=null;return cd},inflateGetHeader:(b,a)=>{if(dd(b))return Bb;b=b.state;if(0===(b.wrap&2))return Bb;b.head=a;a.done=!1;return cd},inflateSetDictionary:(b,a)=>{const c=a.length;let d,e;if(dd(b))return Bb;d=b.state;if(0!==d.wrap&&16190!==
d.mode)return Bb;if(16190===d.mode&&(e=Ae(1,a,c,0),e!==d.check))return Fk;if(Nk(b,a,c,c))return d.mode=16210,Gk;d.havedict=1;return cd},inflateInfo:"pako inflate (from Nodeca project)"},um=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1};let oi=Object.prototype.toString,{Z_NO_FLUSH:up,Z_FINISH:vp,Z_OK:Xd,Z_STREAM_END:xh,Z_NEED_DICT:yh,Z_STREAM_ERROR:wp,Z_DATA_ERROR:Ok,Z_MEM_ERROR:xp}=ad;Wd.prototype.push=function(b,
a){let c=this.strm,d=this.options.chunkSize,e=this.options.dictionary,f,g;if(this.ended)return!1;f=a===~~a?a:!0===a?vp:up;"[object ArrayBuffer]"===oi.call(b)?c.input=new Uint8Array(b):c.input=b;c.next_in=0;for(c.avail_in=c.input.length;;){0===c.avail_out&&(c.output=new Uint8Array(d),c.next_out=0,c.avail_out=d);a=Zb.inflate(c,f);a===yh&&e&&(a=Zb.inflateSetDictionary(c,e),a===Xd?a=Zb.inflate(c,f):a===Ok&&(a=yh));for(;0<c.avail_in&&a===xh&&0<c.state.wrap&&0!==b[c.next_in];)Zb.inflateReset(c),a=Zb.inflate(c,
f);switch(a){case wp:case Ok:case yh:case xp:return this.onEnd(a),this.ended=!0,!1}g=c.avail_out;if(c.next_out&&(0===c.avail_out||a===xh))if("string"===this.options.to){let h=Vd.utf8border(c.output,c.next_out),k=c.next_out-h,m=Vd.buf2string(c.output,h);c.next_out=k;c.avail_out=d-k;k&&c.output.set(c.output.subarray(h,h+k),0);this.onData(m)}else this.onData(c.output.length===c.next_out?c.output:c.output.subarray(0,c.next_out));if(a!==Xd||0!==g){if(a===xh){a=Zb.inflateEnd(this.strm);this.onEnd(a);this.ended=
!0;break}if(0===c.avail_in)break}}return!0};Wd.prototype.onData=function(b){this.chunks.push(b)};Wd.prototype.onEnd=function(b){b===Xd&&(this.result="string"===this.options.to?this.chunks.join(""):Oe.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};var yp={Inflate:Wd,inflate:ig,inflateRaw:function(b,a){a=a||{};a.raw=!0;return ig(b,a)},ungzip:ig,constants:ad};let {Deflate:zp,deflate:Ap,deflateRaw:Bp,gzip:Cp}=lp,{Inflate:Dp,inflate:Ep,inflateRaw:Fp,ungzip:Gp}=yp;var yj=
{Deflate:zp,deflate:Ap,deflateRaw:Bp,gzip:Cp,Inflate:Dp,inflate:Ep,inflateRaw:Fp,ungzip:Gp,constants:ad},Vm=["inputs"],Ym=["inputId"],kn=["inputs"],nn=["inputId"],Hp=["type"],Ip=Object.defineProperty,O=function(b,a,c){a="symbol"!==W(a)?a+"":a;return a in b?Ip(b,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):b[a]=c},Pk,Jp=Object.defineProperty,Qk=function(b,a,c){a="symbol"!==W(a)?a+"":a;return a in b?Jp(b,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):b[a]=c},db=function(b){b[b.Document=
0]="Document";b[b.DocumentType=1]="DocumentType";b[b.Element=2]="Element";b[b.Text=3]="Text";b[b.CDATA=4]="CDATA";b[b.Comment=5]="Comment";return b}(db||{}),pi={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},qi={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Qe={},kg={},lg={},nb={childNodes:function(b){return kc("Node",
b,"childNodes")},parentNode:function(b){return kc("Node",b,"parentNode")},parentElement:function(b){return kc("Node",b,"parentElement")},textContent:function(b){return kc("Node",b,"textContent")},contains:function(b,a){return ri("Node",b,"contains")(a)},getRootNode:function(b){return ri("Node",b,"getRootNode")()},host:function(b){return b&&"host"in b?kc("ShadowRoot",b,"host"):null},styleSheets:function(b){return b.styleSheets},shadowRoot:function(b){return b&&"shadowRoot"in b?kc("Element",b,"shadowRoot"):
null},querySelector:function(b,a){return kc("Element",b,"querySelector")(a)},querySelectorAll:function(b,a){return kc("Element",b,"querySelectorAll")(a)},mutationObserver:function(){return jg("MutationObserver").constructor}},Ai=function(){function b(){ia(this,b);Qk(this,"idNodeMap",new Map);Qk(this,"nodeMetaMap",new WeakMap)}return ja(b,[{key:"getId",value:function(a){var c;if(!a)return-1;a=null==(c=this.getMeta(a))?void 0:c.id;return null!==a&&void 0!==a?a:-1}},{key:"getNode",value:function(a){return this.idNodeMap.get(a)||
null}},{key:"getIds",value:function(){return Array.from(this.idNodeMap.keys())}},{key:"getMeta",value:function(a){return this.nodeMetaMap.get(a)||null}},{key:"removeNodeFromMap",value:function(a){var c=this,d=this.getId(a);this.idNodeMap.delete(d);a.childNodes&&a.childNodes.forEach(function(e){return c.removeNodeFromMap(e)})}},{key:"has",value:function(a){return this.idNodeMap.has(a)}},{key:"hasNode",value:function(a){return this.nodeMetaMap.has(a)}},{key:"add",value:function(a,c){this.idNodeMap.set(c.id,
a);this.nodeMetaMap.set(a,c)}},{key:"replace",value:function(a,c){var d=this.getNode(a);d&&(d=this.nodeMetaMap.get(d))&&this.nodeMetaMap.set(c,d);this.idNodeMap.set(a,c)}},{key:"reset",value:function(){this.idNodeMap=new Map;this.nodeMetaMap=new WeakMap}}])}(),xm=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,ym=/^(?:[a-z+]+:)?\/\//i,zm=/^www\..*/i,Am=/^(data:)([^,]*),(.*)/i,ui=1,Em=/[^a-z0-9-_:]/,nd,zi,Hm=/^[^ \t\n\r\u000c]+/,Gm=/^[, \t\n\r\u000c]+/,vi=new WeakMap,zh={},Ka=String,Rk=function(){return{isColorSupported:!1,
reset:Ka,bold:Ka,dim:Ka,italic:Ka,underline:Ka,inverse:Ka,hidden:Ka,strikethrough:Ka,black:Ka,red:Ka,green:Ka,yellow:Ka,blue:Ka,magenta:Ka,cyan:Ka,white:Ka,gray:Ka,bgBlack:Ka,bgRed:Ka,bgGreen:Ka,bgYellow:Ka,bgBlue:Ka,bgMagenta:Ka,bgCyan:Ka,bgWhite:Ka}};zh=Rk();zh.createColors=Rk;var Sk=zh,Oa=function(b){if(b.__esModule)return b;var a=b.default;if("function"==typeof a){var c=function e(){return this instanceof e?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};c.prototype=a.prototype}else c=
{};Object.defineProperty(c,"__esModule",{value:!0});Object.keys(b).forEach(function(d){var e=Object.getOwnPropertyDescriptor(b,d);Object.defineProperty(c,d,e.get?e:{enumerable:!0,get:function(){return b[d]}})});return c}(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),Ed=function(b){function a(c,d,e,f,g,h){ia(this,a);var k=lb(this,a,[c]);k.name="CssSyntaxError";k.reason=c;g&&(k.file=g);f&&(k.source=f);h&&(k.plugin=h);"undefined"!==typeof d&&"undefined"!==
typeof e&&("number"===typeof d?(k.line=d,k.column=e):(k.line=d.line,k.column=d.column,k.endLine=e.line,k.endColumn=e.column));k.setMessage();Error.captureStackTrace&&Error.captureStackTrace(k,a);return k}mb(a,b);return ja(a,[{key:"setMessage",value:function(){this.message=this.plugin?this.plugin+": ":"";this.message+=this.file?this.file:"<css input>";"undefined"!==typeof this.line&&(this.message+=":"+this.line+":"+this.column);this.message+=": "+this.reason}},{key:"showSourceCode",value:function(c){var d=
this;if(!this.source)return"";var e=this.source;null==c&&(c=Sk.isColorSupported);Oa&&c&&(e=Oa(e));e=e.split(/\r?\n/);var f=Math.max(this.line-3,0),g=Math.min(this.line+2,e.length),h=String(g).length;if(c){c=Sk.createColors(!0);var k=c.bold,m=c.gray,u=c.red;var n=function(l){return k(u(l))};var t=function(l){return m(l)}}else n=t=function(l){return l};return e.slice(f,g).map(function(l,q){var p=f+1+q;q=" "+(" "+p).slice(-h)+" | ";return p===d.line?(p=t(q.replace(/\d/g," "))+l.slice(0,d.column-1).replace(/[^\t]/g,
" "),n(">")+t(q)+l+"\n "+p+n("^")):" "+t(q)+l}).join("\n")}},{key:"toString",value:function(){var c=this.showSourceCode();c&&(c="\n\n"+c+"\n");return this.name+": "+this.message+c}}])}(Ke(Error));Ed.default=Ed;var Fd=Symbol("isClean");var Gf=Symbol("my");var Tk={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1},Ah=function(){function b(a){ia(this,b);this.builder=a}return ja(b,
[{key:"atrule",value:function(a,c){var d="@"+a.name,e=a.params?this.rawValue(a,"params"):"";"undefined"!==typeof a.raws.afterName?d+=a.raws.afterName:e&&(d+=" ");a.nodes?this.block(a,d+e):this.builder(d+e+((a.raws.between||"")+(c?";":"")),a)}},{key:"beforeAfter",value:function(a,c){c="decl"===a.type?this.raw(a,null,"beforeDecl"):"comment"===a.type?this.raw(a,null,"beforeComment"):"before"===c?this.raw(a,null,"beforeRule"):this.raw(a,null,"beforeClose");for(var d=a.parent,e=0;d&&"root"!==d.type;)e+=
1,d=d.parent;if(c.includes("\n")&&(a=this.raw(a,null,"indent"),a.length))for(d=0;d<e;d++)c+=a;return c}},{key:"block",value:function(a,c){var d=this.raw(a,"between","beforeOpen");this.builder(c+d+"{",a,"start");a.nodes&&a.nodes.length?(this.body(a),c=this.raw(a,"after")):c=this.raw(a,"after","emptyBody");c&&this.builder(c);this.builder("}",a,"end")}},{key:"body",value:function(a){for(var c=a.nodes.length-1;0<c&&"comment"===a.nodes[c].type;)--c;for(var d=this.raw(a,"semicolon"),e=0;e<a.nodes.length;e++){var f=
a.nodes[e],g=this.raw(f,"before");g&&this.builder(g);this.stringify(f,c!==e||d)}}},{key:"comment",value:function(a){var c=this.raw(a,"left","commentLeft"),d=this.raw(a,"right","commentRight");this.builder("/*"+c+a.text+d+"*/",a)}},{key:"decl",value:function(a,c){var d=this.raw(a,"between","colon");d=a.prop+d+this.rawValue(a,"value");a.important&&(d+=a.raws.important||" !important");c&&(d+=";");this.builder(d,a)}},{key:"document",value:function(a){this.body(a)}},{key:"raw",value:function(a,c,d){d||
(d=c);if(c){var e=a.raws[c];if("undefined"!==typeof e)return e}var f=a.parent;if("before"===d&&(!f||"root"===f.type&&f.first===a||f&&"document"===f.type))return"";if(!f)return Tk[d];f=a.root();f.rawCache||(f.rawCache={});if("undefined"!==typeof f.rawCache[d])return f.rawCache[d];if("before"===d||"after"===d)return this.beforeAfter(a,d);var g="raw"+Pm(d);this[g]?e=this[g](f,a):f.walk(function(h){e=h.raws[c];if("undefined"!==typeof e)return!1});"undefined"===typeof e&&(e=Tk[d]);return f.rawCache[d]=
e}},{key:"rawBeforeClose",value:function(a){var c;a.walk(function(d){if(d.nodes&&0<d.nodes.length&&"undefined"!==typeof d.raws.after)return c=d.raws.after,c.includes("\n")&&(c=c.replace(/[^\n]+$/,"")),!1});c&&(c=c.replace(/\S/g,""));return c}},{key:"rawBeforeComment",value:function(a,c){var d;a.walkComments(function(e){if("undefined"!==typeof e.raws.before)return d=e.raws.before,d.includes("\n")&&(d=d.replace(/[^\n]+$/,"")),!1});"undefined"===typeof d?d=this.raw(c,null,"beforeDecl"):d&&(d=d.replace(/\S/g,
""));return d}},{key:"rawBeforeDecl",value:function(a,c){var d;a.walkDecls(function(e){if("undefined"!==typeof e.raws.before)return d=e.raws.before,d.includes("\n")&&(d=d.replace(/[^\n]+$/,"")),!1});"undefined"===typeof d?d=this.raw(c,null,"beforeRule"):d&&(d=d.replace(/\S/g,""));return d}},{key:"rawBeforeOpen",value:function(a){var c;a.walk(function(d){if("decl"!==d.type&&(c=d.raws.between,"undefined"!==typeof c))return!1});return c}},{key:"rawBeforeRule",value:function(a){var c;a.walk(function(d){if(d.nodes&&
(d.parent!==a||a.first!==d)&&"undefined"!==typeof d.raws.before)return c=d.raws.before,c.includes("\n")&&(c=c.replace(/[^\n]+$/,"")),!1});c&&(c=c.replace(/\S/g,""));return c}},{key:"rawColon",value:function(a){var c;a.walkDecls(function(d){if("undefined"!==typeof d.raws.between)return c=d.raws.between.replace(/[^\s:]/g,""),!1});return c}},{key:"rawEmptyBody",value:function(a){var c;a.walk(function(d){if(d.nodes&&0===d.nodes.length&&(c=d.raws.after,"undefined"!==typeof c))return!1});return c}},{key:"rawIndent",
value:function(a){if(a.raws.indent)return a.raws.indent;var c;a.walk(function(d){var e=d.parent;if(e&&e!==a&&e.parent&&e.parent===a&&"undefined"!==typeof d.raws.before)return d=d.raws.before.split("\n"),c=d[d.length-1],c=c.replace(/\S/g,""),!1});return c}},{key:"rawSemicolon",value:function(a){var c;a.walk(function(d){if(d.nodes&&d.nodes.length&&"decl"===d.last.type&&(c=d.raws.semicolon,"undefined"!==typeof c))return!1});return c}},{key:"rawValue",value:function(a,c){var d=a[c];return(a=a.raws[c])&&
a.value===d?a.raw:d}},{key:"root",value:function(a){this.body(a);a.raws.after&&this.builder(a.raws.after)}},{key:"rule",value:function(a){this.block(a,this.rawValue(a,"selector"));a.raws.ownSemicolon&&this.builder(a.raws.ownSemicolon,a,"end")}},{key:"stringify",value:function(a,c){if(!this[a.type])throw Error("Unknown AST node type "+a.type+". Maybe you need to change PostCSS stringifier.");this[a.type](a,c)}}])}(),Qm=Ah.default=Ah;pd.default=pd;var Gd=function(){function b(){var a=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{};ia(this,b);this.raws={};this[Fd]=!1;this[Gf]=!0;for(var c in a)if("nodes"===c){this.nodes=[];var d=Z(a[c]),e;try{for(d.s();!(e=d.n()).done;){var f=e.value;"function"===typeof f.clone?this.append(f.clone()):this.append(f)}}catch(g){d.e(g)}finally{d.f()}}else this[c]=a[c]}return ja(b,[{key:"addToError",value:function(a){a.postcssNode=this;if(a.stack&&this.source&&/\n\s{4}at /.test(a.stack)){var c=this.source;a.stack=a.stack.replace(/\n\s{4}at /,"$&".concat(c.input.from,
":").concat(c.start.line,":").concat(c.start.column,"$&"))}return a}},{key:"after",value:function(a){this.parent.insertAfter(this,a);return this}},{key:"assign",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c;for(c in a)this[c]=a[c];return this}},{key:"before",value:function(a){this.parent.insertBefore(this,a);return this}},{key:"cleanRaws",value:function(a){delete this.raws.before;delete this.raws.after;a||delete this.raws.between}},{key:"clone",value:function(){var a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=rg(this),d;for(d in a)c[d]=a[d];return c}},{key:"cloneAfter",value:function(){var a=this.clone(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});this.parent.insertAfter(this,a);return a}},{key:"cloneBefore",value:function(){var a=this.clone(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});this.parent.insertBefore(this,a);return a}},{key:"error",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
{};if(this.source){var d=this.rangeBy(c),e=d.end;d=d.start;return this.source.input.error(a,{column:d.column,line:d.line},{column:e.column,line:e.line},c)}return new Ed(a)}},{key:"getProxyProcessor",value:function(){return{get:function(a,c){return"proxyOf"===c?a:"root"===c?function(){return a.root().toProxy()}:a[c]},set:function(a,c,d){if(a[c]===d)return!0;a[c]=d;"prop"!==c&&"value"!==c&&"name"!==c&&"params"!==c&&"important"!==c&&"text"!==c||a.markDirty();return!0}}}},{key:"markDirty",value:function(){if(this[Fd]){this[Fd]=
!1;for(var a=this;a=a.parent;)a[Fd]=!1}}},{key:"next",value:function(){if(this.parent){var a=this.parent.index(this);return this.parent.nodes[a+1]}}},{key:"positionBy",value:function(a,c){var d=this.source.start;a.index?d=this.positionInside(a.index,c):a.word&&(c=this.toString(),a=c.indexOf(a.word),-1!==a&&(d=this.positionInside(a,c)));return d}},{key:"positionInside",value:function(a,c){c=c||this.toString();for(var d=this.source.start.column,e=this.source.start.line,f=0;f<a;f++)"\n"===c[f]?(d=1,
e+=1):d+=1;return{column:d,line:e}}},{key:"prev",value:function(){if(this.parent){var a=this.parent.index(this);return this.parent.nodes[a-1]}}},{key:"rangeBy",value:function(a){var c={column:this.source.start.column,line:this.source.start.line},d=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:c.column+1,line:c.line};if(a.word){var e=this.toString(),f=e.indexOf(a.word);-1!==f&&(c=this.positionInside(f,e),d=this.positionInside(f+a.word.length,e))}else a.start?c=
{column:a.start.column,line:a.start.line}:a.index&&(c=this.positionInside(a.index)),a.end?d={column:a.end.column,line:a.end.line}:"number"===typeof a.endIndex?d=this.positionInside(a.endIndex):a.index&&(d=this.positionInside(a.index+1));if(d.line<c.line||d.line===c.line&&d.column<=c.column)d={column:c.column+1,line:c.line};return{end:d,start:c}}},{key:"raw",value:function(a,c){return(new Ah).raw(this,a,c)}},{key:"remove",value:function(){this.parent&&this.parent.removeChild(this);this.parent=void 0;
return this}},{key:"replaceWith",value:function(){if(this.parent){for(var a=this,c=!1,d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];for(d=0;d<e.length;d++)f=e[d],f===this?c=!0:c?(this.parent.insertAfter(a,f),a=f):this.parent.insertBefore(a,f);c||this.remove()}return this}},{key:"root",value:function(){for(var a=this;a.parent&&"document"!==a.parent.type;)a=a.parent;return a}},{key:"toJSON",value:function(a,c){a={};var d=null==c;c=c||new Map;var e=0,f;for(f in this)if(Object.prototype.hasOwnProperty.call(this,
f)&&"parent"!==f&&"proxyCache"!==f){var g=this[f];if(Array.isArray(g))a[f]=g.map(function(k){return"object"===W(k)&&k.toJSON?k.toJSON(null,c):k});else if("object"===W(g)&&g.toJSON)a[f]=g.toJSON(null,c);else if("source"===f){var h=c.get(g.input);null==h&&(h=e,c.set(g.input,e),e++);a[f]={end:g.end,inputId:h,start:g.start}}else a[f]=g}d&&(a.inputs=Yb(c.keys()).map(function(k){return k.toJSON()}));return a}},{key:"toProxy",value:function(){this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor()));
return this.proxyCache}},{key:"toString",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:pd;a.stringify&&(a=a.stringify);var c="";a(this,function(d){c+=d});return c}},{key:"warn",value:function(a,c,d){var e={node:this},f;for(f in d)e[f]=d[f];return a.warn(c,e)}},{key:"proxyOf",get:function(){return this}}])}();Gd.default=Gd;var uc=function(b){function a(c){ia(this,a);c&&"undefined"!==typeof c.value&&"string"!==typeof c.value&&(c=ma(ma({},c),{},{value:String(c.value)}));
c=lb(this,a,[c]);c.type="decl";return c}mb(a,b);return ja(a,[{key:"variable",get:function(){return this.prop.startsWith("--")||"$"===this.prop[0]}}])}(Gd);uc.default=uc;var Uk=Oa.SourceMapConsumer,Vk=Oa.SourceMapGenerator,Kp=Oa.existsSync,Lp=Oa.readFileSync,Bh=Oa.dirname,Mp=Oa.join,Hf=function(){function b(a,c){ia(this,b);!1!==c.map&&(this.loadAnnotation(a),this.inline=this.startWith(this.annotation,"data:"),a=this.loadMap(c.from,c.map?c.map.prev:void 0),!this.mapFile&&c.from&&(this.mapFile=c.from),
this.mapFile&&(this.root=Bh(this.mapFile)),a&&(this.text=a))}return ja(b,[{key:"consumer",value:function(){this.consumerCache||(this.consumerCache=new Uk(this.text));return this.consumerCache}},{key:"decodeInline",value:function(a){var c=/^data:application\/json;base64,/,d=/^data:application\/json,/;if(/^data:application\/json;charset=utf-?8,/.test(a)||d.test(a))return decodeURIComponent(a.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(a)||c.test(a))return a=
a.substr(RegExp.lastMatch.length),a=Buffer?Buffer.from(a,"base64").toString():window.atob(a),a;a=a.match(/data:application\/json;([^,]+),/)[1];throw Error("Unsupported source map encoding "+a);}},{key:"getAnnotationURL",value:function(a){return a.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}},{key:"isMap",value:function(a){return"object"!==W(a)?!1:"string"===typeof a.mappings||"string"===typeof a._mappings||Array.isArray(a.sections)}},{key:"loadAnnotation",value:function(a){var c=a.match(/\/\*\s*# sourceMappingURL=/gm);
if(c){c=a.lastIndexOf(c.pop());var d=a.indexOf("*/",c);-1<c&&-1<d&&(this.annotation=this.getAnnotationURL(a.substring(c,d)))}}},{key:"loadFile",value:function(a){this.root=Bh(a);if(Kp(a))return this.mapFile=a,Lp(a,"utf-8").toString().trim()}},{key:"loadMap",value:function(a,c){if(!1===c)return!1;if(c){if("string"===typeof c)return c;if("function"===typeof c){if(a=c(a)){c=this.loadFile(a);if(!c)throw Error("Unable to load previous source map: "+a.toString());return c}}else{if(c instanceof Uk)return Vk.fromSourceMap(c).toString();
if(c instanceof Vk)return c.toString();if(this.isMap(c))return JSON.stringify(c);throw Error("Unsupported previous source map format: "+c.toString());}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation)return c=this.annotation,a&&(c=Mp(Bh(a),c)),this.loadFile(c)}}},{key:"startWith",value:function(a,c){return a?a.substr(0,c.length)===c:!1}},{key:"withContent",value:function(){return!!(this.consumer().sourcesContent&&0<this.consumer().sourcesContent.length)}}])}();Hf.default=
Hf;var Np=Oa.SourceMapConsumer,Op=Oa.SourceMapGenerator,Wk=Oa.fileURLToPath,If=Oa.pathToFileURL,Ch=Oa.isAbsolute,Dh=Oa.resolve,Pp=function(){for(var b="",a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:21;a--;)b+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return b},Eh=Symbol("fromOffsetCache"),Qp=!(!Np||!Op),Xk=!(!Dh||!Ch),ed=function(){function b(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};ia(this,b);if(null===a||"undefined"===
typeof a||"object"===W(a)&&!a.toString)throw Error("PostCSS received ".concat(a," instead of CSS string"));this.css=a.toString();"\ufeff"===this.css[0]||"\ufffe"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1;c.from&&(!Xk||/^\w+:\/\//.test(c.from)||Ch(c.from)?this.file=c.from:this.file=Dh(c.from));Xk&&Qp&&(c=new Hf(this.css,c),c.text&&(this.map=c,c=c.consumer().file,!this.file&&c&&(this.file=this.mapResolve(c))));this.file||(this.id="<input css "+Pp(6)+">");this.map&&(this.map.file=
this.from)}return ja(b,[{key:"error",value:function(a,c,d){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(c&&"object"===W(c)){var f=c;var g=d;"number"===typeof f.offset?(f=this.fromOffset(f.offset),c=f.line,d=f.col):(c=f.line,d=f.column);"number"===typeof g.offset?(g=this.fromOffset(g.offset),f=g.line,g=g.col):(f=g.line,g=g.column)}else if(!d){var h=this.fromOffset(c);c=h.line;d=h.col}e=(h=this.origin(c,d,f,g))?new Ed(a,void 0===h.endLine?h.line:{column:h.column,line:h.line},void 0===
h.endLine?h.column:{column:h.endColumn,line:h.endLine},h.source,h.file,e.plugin):new Ed(a,void 0===f?c:{column:d,line:c},void 0===f?d:{column:g,line:f},this.css,this.file,e.plugin);e.input={column:d,endColumn:g,endLine:f,line:c,source:this.css};this.file&&(If&&(e.input.url=If(this.file).toString()),e.input.file=this.file);return e}},{key:"fromOffset",value:function(a){if(this[Eh])var c=this[Eh];else{var d=this.css.split("\n");c=Array(d.length);for(var e=0,f=0,g=d.length;f<g;f++)c[f]=e,e+=d[f].length+
1;this[Eh]=c}d=0;if(a>=c[c.length-1])d=c.length-1;else for(e=c.length-2;d<e;)if(f=d+(e-d>>1),a<c[f])e=f-1;else if(a>=c[f+1])d=f+1;else{d=f;break}return{col:a-c[d]+1,line:d+1}}},{key:"mapResolve",value:function(a){return/^\w+:\/\//.test(a)?a:Dh(this.map.consumer().sourceRoot||this.map.root||".",a)}},{key:"origin",value:function(a,c,d,e){if(!this.map)return!1;var f=this.map.consumer();a=f.originalPositionFor({column:c,line:a});if(!a.source)return!1;var g;"number"===typeof d&&(g=f.originalPositionFor({column:e,
line:d}));d=Ch(a.source)?If(a.source):new URL(a.source,this.map.consumer().sourceRoot||If(this.map.mapFile));g={column:a.column,endColumn:g&&g.column,endLine:g&&g.line,line:a.line,url:d.toString()};if("file:"===d.protocol)if(Wk)g.file=Wk(d);else throw Error("file: protocol is not available in this PostCSS build");if(f=f.sourceContentFor(a.source))g.source=f;return g}},{key:"toJSON",value:function(){for(var a={},c=0,d=["hasBOM","css","file","id"];c<d.length;c++){var e=d[c];null!=this[e]&&(a[e]=this[e])}this.map&&
(a.map=ma({},this.map),a.map.consumerCache&&(a.map.consumerCache=void 0));return a}},{key:"from",get:function(){return this.file||this.id}}])}();ed.default=ed;Oa&&Oa.registerInput&&Oa.registerInput(ed);var Yk=Oa.SourceMapConsumer,Jf=Oa.SourceMapGenerator,Kf=Oa.dirname,Zk=Oa.relative,$k=Oa.resolve,al=Oa.sep,bl=Oa.pathToFileURL,Rp=!(!Yk||!Jf),Sp=!!(Kf&&$k&&Zk&&al),cl=function(){function b(a,c,d,e){ia(this,b);this.stringify=a;this.mapOpts=d.map||{};this.root=c;this.opts=d;this.originalCSS=this.css=e;
this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute;this.memoizedFileURLs=new Map;this.memoizedPaths=new Map;this.memoizedURLs=new Map}return ja(b,[{key:"addAnnotation",value:function(){var a=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"===typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"===typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";var c="\n";this.css.includes("\r\n")&&
(c="\r\n");this.css+=c+"/*# sourceMappingURL="+a+" */"}},{key:"applyPrevMaps",value:function(){var a=Z(this.previous()),c;try{for(a.s();!(c=a.n()).done;){var d=c.value,e=this.toUrl(this.path(d.file)),f=d.root||Kf(d.file),g=void 0;!1===this.mapOpts.sourcesContent?(g=new Yk(d.text),g.sourcesContent&&(g.sourcesContent=null)):g=d.consumer();this.map.applySourceMap(g,e,this.toUrl(this.path(f)))}}catch(h){a.e(h)}finally{a.f()}}},{key:"clearAnnotation",value:function(){if(!1!==this.mapOpts.annotation)if(this.root)for(var a,
c=this.root.nodes.length-1;0<=c;c--)a=this.root.nodes[c],"comment"===a.type&&0===a.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(c);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}},{key:"generate",value:function(){this.clearAnnotation();if(Sp&&Rp&&this.isMap())return this.generateMap();var a="";this.stringify(this.root,function(c){a+=c});return[a]}},{key:"generateMap",value:function(){if(this.root)this.generateString();else if(1===this.previous().length){var a=
this.previous()[0].consumer();a.file=this.outputFile();this.map=Jf.fromSourceMap(a,{ignoreInvalidMapping:!0})}else this.map=new Jf({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});this.isSourcesContent()&&this.setSourcesContent();this.root&&0<this.previous().length&&this.applyPrevMaps();this.isAnnotation()&&this.addAnnotation();return this.isInline()?
[this.css]:[this.css,this.map]}},{key:"generateString",value:function(){var a=this;this.css="";this.map=new Jf({file:this.outputFile(),ignoreInvalidMapping:!0});var c=1,d=1,e={generated:{column:0,line:0},original:{column:0,line:0},source:""},f,g;this.stringify(this.root,function(h,k,m){a.css+=h;k&&"end"!==m&&(e.generated.line=c,e.generated.column=d-1,k.source&&k.source.start?(e.source=a.sourcePath(k),e.original.line=k.source.start.line,e.original.column=k.source.start.column-1):(e.source="<no source>",
e.original.line=1,e.original.column=0),a.map.addMapping(e));(f=h.match(/\n/g))?(c+=f.length,g=h.lastIndexOf("\n"),d=h.length-g):d+=h.length;k&&"start"!==m&&(h=k.parent||{raws:{}},"decl"!==k.type&&("atrule"!==k.type||k.nodes)||k!==h.last||h.raws.semicolon)&&(k.source&&k.source.end?(e.source=a.sourcePath(k),e.original.line=k.source.end.line,e.original.column=k.source.end.column-1,e.generated.line=c,e.generated.column=d-2):(e.source="<no source>",e.original.line=1,e.original.column=0,e.generated.line=
c,e.generated.column=d-1),a.map.addMapping(e))})}},{key:"isAnnotation",value:function(){return this.isInline()?!0:"undefined"!==typeof this.mapOpts.annotation?this.mapOpts.annotation:this.previous().length?this.previous().some(function(a){return a.annotation}):!0}},{key:"isInline",value:function(){if("undefined"!==typeof this.mapOpts.inline)return this.mapOpts.inline;var a=this.mapOpts.annotation;return"undefined"!==typeof a&&!0!==a?!1:this.previous().length?this.previous().some(function(c){return c.inline}):
!0}},{key:"isMap",value:function(){return"undefined"!==typeof this.opts.map?!!this.opts.map:0<this.previous().length}},{key:"isSourcesContent",value:function(){return"undefined"!==typeof this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(function(a){return a.withContent()}):!0}},{key:"outputFile",value:function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}},{key:"path",value:function(a){if(this.mapOpts.absolute||
60===a.charCodeAt(0)||/^\w+:\/\//.test(a))return a;var c=this.memoizedPaths.get(a);if(c)return c;c=this.opts.to?Kf(this.opts.to):".";"string"===typeof this.mapOpts.annotation&&(c=Kf($k(c,this.mapOpts.annotation)));c=Zk(c,a);this.memoizedPaths.set(a,c);return c}},{key:"previous",value:function(){var a=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(d){d.source&&d.source.input.map&&(d=d.source.input.map,a.previousMaps.includes(d)||a.previousMaps.push(d))});else{var c=
new ed(this.originalCSS,this.opts);c.map&&this.previousMaps.push(c.map)}return this.previousMaps}},{key:"setSourcesContent",value:function(){var a=this,c={};if(this.root)this.root.walk(function(e){if(e.source){var f=e.source.input.from;f&&!c[f]&&(c[f]=!0,f=a.usesFileUrls?a.toFileUrl(f):a.toUrl(a.path(f)),a.map.setSourceContent(f,e.source.input.css))}});else if(this.css){var d=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(d,this.css)}}},{key:"sourcePath",
value:function(a){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(a.source.input.from):this.toUrl(this.path(a.source.input.from))}},{key:"toBase64",value:function(a){return Buffer?Buffer.from(a).toString("base64"):window.btoa(unescape(encodeURIComponent(a)))}},{key:"toFileUrl",value:function(a){var c=this.memoizedFileURLs.get(a);if(c)return c;if(bl)return c=bl(a).toString(),this.memoizedFileURLs.set(a,c),c;throw Error("`map.absolute` option is not available in this PostCSS build");
}},{key:"toUrl",value:function(a){var c=this.memoizedURLs.get(a);if(c)return c;"\\"===al&&(a=a.replace(/\\/g,"/"));c=encodeURI(a).replace(/[#?]/g,encodeURIComponent);this.memoizedURLs.set(a,c);return c}}])}(),vc=function(b){function a(c){ia(this,a);c=lb(this,a,[c]);c.type="comment";return c}mb(a,b);return ja(a)}(Gd);vc.default=vc;var Di=Fd,dl,Fh,Gh,el,gb=function(b){function a(){ia(this,a);return lb(this,a,arguments)}mb(a,b);return ja(a,[{key:"append",value:function(){for(var c=arguments.length,d=
Array(c),e=0;e<c;e++)d[e]=arguments[e];for(c=0;c<d.length;c++){e=this.normalize(d[c],this.last);e=Z(e);var f;try{for(e.s();!(f=e.n()).done;)this.proxyOf.nodes.push(f.value)}catch(g){e.e(g)}finally{e.f()}}this.markDirty();return this}},{key:"cleanRaws",value:function(c){Lb(a,"cleanRaws",this,3)([c]);if(this.nodes){var d=Z(this.nodes),e;try{for(d.s();!(e=d.n()).done;)e.value.cleanRaws(c)}catch(f){d.e(f)}finally{d.f()}}}},{key:"each",value:function(c){if(this.proxyOf.nodes){for(var d=this.getIterator(),
e;this.indexes[d]<this.proxyOf.nodes.length;){e=this.indexes[d];e=c(this.proxyOf.nodes[e],e);if(!1===e)break;this.indexes[d]+=1}delete this.indexes[d];return e}}},{key:"every",value:function(c){return this.nodes.every(c)}},{key:"getIterator",value:function(){this.lastEach||(this.lastEach=0);this.indexes||(this.indexes={});var c=this.lastEach+=1;this.indexes[c]=0;return c}},{key:"getProxyProcessor",value:function(){return{get:function(c,d){return"proxyOf"===d?c:c[d]?"each"===d||"string"===typeof d&&
d.startsWith("walk")?function(){for(var e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];return c[d].apply(c,Yb(f.map(function(h){return"function"===typeof h?function(k,m){return h(k.toProxy(),m)}:h})))}:"every"===d||"some"===d?function(e){return c[d](function(f){for(var g=arguments.length,h=Array(1<g?g-1:0),k=1;k<g;k++)h[k-1]=arguments[k];return e.apply(void 0,[f.toProxy()].concat(h))})}:"root"===d?function(){return c.root().toProxy()}:"nodes"===d?c.nodes.map(function(e){return e.toProxy()}):
"first"===d||"last"===d?c[d].toProxy():c[d]:c[d]},set:function(c,d,e){if(c[d]===e)return!0;c[d]=e;"name"!==d&&"params"!==d&&"selector"!==d||c.markDirty();return!0}}}},{key:"index",value:function(c){if("number"===typeof c)return c;c.proxyOf&&(c=c.proxyOf);return this.proxyOf.nodes.indexOf(c)}},{key:"insertAfter",value:function(c,d){var e=this.index(c);d=this.normalize(d,this.proxyOf.nodes[e]).reverse();e=this.index(c);c=Z(d);var f;try{for(c.s();!(f=c.n()).done;)this.proxyOf.nodes.splice(e+1,0,f.value)}catch(h){c.e(h)}finally{c.f()}for(var g in this.indexes)f=
this.indexes[g],e<f&&(this.indexes[g]=f+d.length);this.markDirty();return this}},{key:"insertBefore",value:function(c,d){var e=this.index(c);d=this.normalize(d,this.proxyOf.nodes[e],0===e?"prepend":!1).reverse();e=this.index(c);c=Z(d);var f;try{for(c.s();!(f=c.n()).done;)this.proxyOf.nodes.splice(e,0,f.value)}catch(h){c.e(h)}finally{c.f()}for(var g in this.indexes)f=this.indexes[g],e<=f&&(this.indexes[g]=f+d.length);this.markDirty();return this}},{key:"normalize",value:function(c,d){var e=this;if("string"===
typeof c)c=Bi(dl(c).nodes);else if("undefined"===typeof c)c=[];else if(Array.isArray(c)){c=c.slice(0);var f=Z(c),g;try{for(f.s();!(g=f.n()).done;){var h=g.value;h.parent&&h.parent.removeChild(h,"ignore")}}catch(m){f.e(m)}finally{f.f()}}else if("root"===c.type&&"document"!==this.type){c=c.nodes.slice(0);g=Z(c);try{for(g.s();!(f=g.n()).done;){var k=f.value;k.parent&&k.parent.removeChild(k,"ignore")}}catch(m){g.e(m)}finally{g.f()}}else if(c.type)c=[c];else if(c.prop){if("undefined"===typeof c.value)throw Error("Value field is missed in node creation");
"string"!==typeof c.value&&(c.value=String(c.value));c=[new uc(c)]}else if(c.selector)c=[new Fh(c)];else if(c.name)c=[new Gh(c)];else if(c.text)c=[new vc(c)];else throw Error("Unknown node type in node creation");return c.map(function(m){m[Gf]||a.rebuild(m);m=m.proxyOf;m.parent&&m.parent.removeChild(m);m[Di]&&Ci(m);"undefined"===typeof m.raws.before&&d&&"undefined"!==typeof d.raws.before&&(m.raws.before=d.raws.before.replace(/\S/g,""));m.parent=e.proxyOf;return m})}},{key:"prepend",value:function(){for(var c=
arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];d=d.reverse();c=Z(d);var f;try{for(c.s();!(f=c.n()).done;){var g=this.normalize(f.value,this.first,"prepend").reverse(),h=Z(g),k;try{for(h.s();!(k=h.n()).done;)this.proxyOf.nodes.unshift(k.value)}catch(u){h.e(u)}finally{h.f()}for(var m in this.indexes)this.indexes[m]+=g.length}}catch(u){c.e(u)}finally{c.f()}this.markDirty();return this}},{key:"push",value:function(c){c.parent=this;this.proxyOf.nodes.push(c);return this}},{key:"removeAll",value:function(){var c=
Z(this.proxyOf.nodes),d;try{for(c.s();!(d=c.n()).done;)d.value.parent=void 0}catch(e){c.e(e)}finally{c.f()}this.proxyOf.nodes=[];this.markDirty();return this}},{key:"removeChild",value:function(c){c=this.index(c);this.proxyOf.nodes[c].parent=void 0;this.proxyOf.nodes.splice(c,1);var d;for(d in this.indexes){var e=this.indexes[d];e>=c&&(this.indexes[d]=e-1)}this.markDirty();return this}},{key:"replaceValues",value:function(c,d,e){e||(e=d,d={});this.walkDecls(function(f){if(!d.props||d.props.includes(f.prop))if(!d.fast||
f.value.includes(d.fast))f.value=f.value.replace(c,e)});this.markDirty();return this}},{key:"some",value:function(c){return this.nodes.some(c)}},{key:"walk",value:function(c){return this.each(function(d,e){try{var f=c(d,e)}catch(g){throw d.addToError(g);}!1!==f&&d.walk&&(f=d.walk(c));return f})}},{key:"walkAtRules",value:function(c,d){return d?c instanceof RegExp?this.walk(function(e,f){if("atrule"===e.type&&c.test(e.name))return d(e,f)}):this.walk(function(e,f){if("atrule"===e.type&&e.name===c)return d(e,
f)}):(d=c,this.walk(function(e,f){if("atrule"===e.type)return d(e,f)}))}},{key:"walkComments",value:function(c){return this.walk(function(d,e){if("comment"===d.type)return c(d,e)})}},{key:"walkDecls",value:function(c,d){return d?c instanceof RegExp?this.walk(function(e,f){if("decl"===e.type&&c.test(e.prop))return d(e,f)}):this.walk(function(e,f){if("decl"===e.type&&e.prop===c)return d(e,f)}):(d=c,this.walk(function(e,f){if("decl"===e.type)return d(e,f)}))}},{key:"walkRules",value:function(c,d){return d?
c instanceof RegExp?this.walk(function(e,f){if("rule"===e.type&&c.test(e.selector))return d(e,f)}):this.walk(function(e,f){if("rule"===e.type&&e.selector===c)return d(e,f)}):(d=c,this.walk(function(e,f){if("rule"===e.type)return d(e,f)}))}},{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}])}(Gd);gb.registerParse=function(b){dl=b};gb.registerRule=function(b){Fh=
b};gb.registerAtRule=function(b){Gh=b};gb.registerRoot=function(b){el=b};gb.default=gb;gb.rebuild=function(b){"atrule"===b.type?Object.setPrototypeOf(b,Gh.prototype):"rule"===b.type?Object.setPrototypeOf(b,Fh.prototype):"decl"===b.type?Object.setPrototypeOf(b,uc.prototype):"comment"===b.type?Object.setPrototypeOf(b,vc.prototype):"root"===b.type&&Object.setPrototypeOf(b,el.prototype);b[Gf]=!0;b.nodes&&b.nodes.forEach(function(a){gb.rebuild(a)})};var fl,gl,wc=function(b){function a(c){ia(this,a);c=
lb(this,a,[ma({type:"document"},c)]);c.nodes||(c.nodes=[]);return c}mb(a,b);return ja(a,[{key:"toResult",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(new fl(new gl,this,c)).stringify()}}])}(gb);wc.registerLazyResult=function(b){fl=b};wc.registerProcessor=function(b){gl=b};wc.default=wc;var hl={},il=function(b){hl[b]||(hl[b]=!0,"undefined"!==typeof console&&console.warn&&console.warn(b))},Lf=function(){function b(a){var c=1<arguments.length&&void 0!==arguments[1]?
arguments[1]:{};ia(this,b);this.type="warning";this.text=a;if(c.node&&c.node.source){var d=c.node.rangeBy(c);this.line=d.start.line;this.column=d.start.column;this.endLine=d.end.line;this.endColumn=d.end.column}for(var e in c)this[e]=c[e]}return ja(b,[{key:"toString",value:function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}])}();Lf.default=Lf;var Hd=function(){function b(a,c,d){ia(this,
b);this.processor=a;this.messages=[];this.root=c;this.opts=d;this.map=this.css=void 0}return ja(b,[{key:"toString",value:function(){return this.css}},{key:"warn",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!c.plugin&&this.lastPlugin&&this.lastPlugin.postcssPlugin&&(c.plugin=this.lastPlugin.postcssPlugin);c=new Lf(a,c);this.messages.push(c);return c}},{key:"warnings",value:function(){return this.messages.filter(function(a){return"warning"===a.type})}},{key:"content",
get:function(){return this.css}}])}();Hd.default=Hd;var Mf=/[\t\n\f\r "#'()/;[\\\]{}]/g,Nf=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Tp=/.[\r\n"'(/\\]/,jl=/[\da-f]/i,fd=function(b){function a(c){ia(this,a);c=lb(this,a,[c]);c.type="atrule";return c}mb(a,b);return ja(a,[{key:"append",value:function(){this.proxyOf.nodes||(this.nodes=[]);for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return Lb(a,"append",this,3)(d)}},{key:"prepend",value:function(){this.proxyOf.nodes||(this.nodes=[]);
for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return Lb(a,"prepend",this,3)(d)}}])}(gb);fd.default=fd;gb.registerAtRule(fd);var kl,ll,Jb=function(b){function a(c){ia(this,a);c=lb(this,a,[c]);c.type="root";c.nodes||(c.nodes=[]);return c}mb(a,b);return ja(a,[{key:"normalize",value:function(c,d,e){c=Lb(a,"normalize",this,3)([c]);if(d)if("prepend"===e)1<this.nodes.length?d.raws.before=this.nodes[1].raws.before:delete d.raws.before;else if(this.first!==d){e=Z(c);var f;try{for(e.s();!(f=
e.n()).done;)f.value.raws.before=d.raws.before}catch(g){e.e(g)}finally{e.f()}}return c}},{key:"removeChild",value:function(c,d){var e=this.index(c);!d&&0===e&&1<this.nodes.length&&(this.nodes[1].raws.before=this.nodes[e].raws.before);return Lb(a,"removeChild",this,3)([c])}},{key:"toResult",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(new kl(new ll,this,c)).stringify()}}])}(gb);Jb.registerLazyResult=function(b){kl=b};Jb.registerProcessor=function(b){ll=b};
Jb.default=Jb;gb.registerRoot(Jb);var Ge={comma:function(b){return Ge.split(b,[","],!0)},space:function(b){return Ge.split(b,[" ","\n","\t"])},split:function(b,a,c){var d=[],e="",f=!1,g=0,h=!1,k="",m=!1;b=Z(b);var u;try{for(b.s();!(u=b.n()).done;){var n=u.value;m?m=!1:"\\"===n?m=!0:h?n===k&&(h=!1):'"'===n||"'"===n?(h=!0,k=n):"("===n?g+=1:")"===n?0<g&&--g:0===g&&a.includes(n)&&(f=!0);f?(""!==e&&d.push(e.trim()),e="",f=!1):e+=n}}catch(t){b.e(t)}finally{b.f()}(c||""!==e)&&d.push(e.trim());return d}},
ml=Ge;Ge.default=Ge;var xc=function(b){function a(c){ia(this,a);c=lb(this,a,[c]);c.type="rule";c.nodes||(c.nodes=[]);return c}mb(a,b);return ja(a,[{key:"selectors",get:function(){return ml.comma(this.selector)},set:function(c){var d=this.selector?this.selector.match(/,\s*/):null;d=d?d[0]:","+this.raw("between","beforeOpen");this.selector=c.join(d)}}])}(gb);xc.default=xc;gb.registerRule(xc);var Up=function(b){function a(y){throw b.error("Unclosed "+y,p);}var c=b.css.valueOf(),d=(1<arguments.length&&
void 0!==arguments[1]?arguments[1]:{}).ignoreErrors,e,f,g,h,k,m,u,n,t,l,q=c.length,p=0,v=[],w=[];return{back:function(y){w.push(y)},endOfFile:function(){return 0===w.length&&p>=q},nextToken:function(y){if(w.length)return w.pop();if(!(p>=q)){y=y?y.ignoreUnclosed:!1;e=c.charCodeAt(p);switch(e){case 10:case 32:case 9:case 13:case 12:f=p;do f+=1,e=c.charCodeAt(f);while(32===e||10===e||9===e||13===e||12===e);l=["space",c.slice(p,f)];p=f-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:y=
String.fromCharCode(e);l=[y,y,p];break;case 40:n=v.length?v.pop()[1]:"";t=c.charCodeAt(p+1);if("url"===n&&39!==t&&34!==t&&32!==t&&10!==t&&9!==t&&12!==t&&13!==t){f=p;do{m=!1;f=c.indexOf(")",f+1);if(-1===f)if(d||y){f=p;break}else a("bracket");for(u=f;92===c.charCodeAt(u-1);)--u,m=!m}while(m);l=["brackets",c.slice(p,f+1),p,f];p=f}else f=c.indexOf(")",p+1),h=c.slice(p,f+1),-1===f||Tp.test(h)?l=["(","(",p]:(l=["brackets",h,p,f],p=f);break;case 39:case 34:g=39===e?"'":'"';f=p;do{m=!1;f=c.indexOf(g,f+1);
if(-1===f)if(d||y){f=p+1;break}else a("string");for(u=f;92===c.charCodeAt(u-1);)--u,m=!m}while(m);l=["string",c.slice(p,f+1),p,f];p=f;break;case 64:Mf.lastIndex=p+1;Mf.test(c);f=0===Mf.lastIndex?c.length-1:Mf.lastIndex-2;l=["at-word",c.slice(p,f+1),p,f];p=f;break;case 92:f=p;for(k=!0;92===c.charCodeAt(f+1);)f+=1,k=!k;e=c.charCodeAt(f+1);if(k&&47!==e&&32!==e&&10!==e&&9!==e&&13!==e&&12!==e&&(f+=1,jl.test(c.charAt(f)))){for(;jl.test(c.charAt(f+1));)f+=1;32===c.charCodeAt(f+1)&&(f+=1)}l=["word",c.slice(p,
f+1),p,f];p=f;break;default:47===e&&42===c.charCodeAt(p+1)?(f=c.indexOf("*/",p+2)+1,0===f&&(d||y?f=c.length:a("comment")),l=["comment",c.slice(p,f+1),p,f]):(Nf.lastIndex=p+1,Nf.test(c),f=0===Nf.lastIndex?c.length-1:Nf.lastIndex-2,l=["word",c.slice(p,f+1),p,f],v.push(l)),p=f}p++;return l}},position:function(){return p}}},nl={empty:!0,space:!0},Tm=function(){function b(a){ia(this,b);this.input=a;this.current=this.root=new Jb;this.spaces="";this.semicolon=!1;this.createTokenizer();this.root.source={input:a,
start:{column:1,line:1,offset:0}}}return ja(b,[{key:"atrule",value:function(a){var c=new fd;c.name=a[1].slice(1);""===c.name&&this.unnamedAtrule(c,a);this.init(c,a[2]);var d,e=!1,f=!1,g=[];for(d=[];!this.tokenizer.endOfFile();){a=this.tokenizer.nextToken();var h=a[0];"("===h||"["===h?d.push("("===h?")":"]"):"{"===h&&0<d.length?d.push("}"):h===d[d.length-1]&&d.pop();if(0===d.length)if(";"===h){c.source.end=this.getPosition(a[2]);c.source.end.offset++;this.semicolon=!0;break}else if("{"===h){f=!0;break}else if("}"===
h){if(0<g.length){d=g.length-1;for(h=g[d];h&&"space"===h[0];)h=g[--d];h&&(c.source.end=this.getPosition(h[3]||h[2]),c.source.end.offset++)}this.end(a);break}else g.push(a);else g.push(a);if(this.tokenizer.endOfFile()){e=!0;break}}c.raws.between=this.spacesAndCommentsFromEnd(g);g.length?(c.raws.afterName=this.spacesAndCommentsFromStart(g),this.raw(c,"params",g),e&&(a=g[g.length-1],c.source.end=this.getPosition(a[3]||a[2]),c.source.end.offset++,this.spaces=c.raws.between,c.raws.between="")):(c.raws.afterName=
"",c.params="");f&&(c.nodes=[],this.current=c)}},{key:"checkMissedSemicolon",value:function(a){var c=this.colon(a);if(!1!==c){var d=0;for(--c;0<=c;c--){var e=a[c];if("space"!==e[0]&&(d+=1,2===d))break}throw this.input.error("Missed semicolon","word"===e[0]?e[3]+1:e[2]);}}},{key:"colon",value:function(a){var c=0;a=Z(a.entries());var d;try{for(a.s();!(d=a.n()).done;){var e=Xa(d.value,2),f=e[0];var g=e[1];var h=g[0];"("===h&&(c+=1);")"===h&&--c;if(0===c&&":"===h)if(k)if("word"===k[0]&&"progid"===k[1])continue;
else return f;else this.doubleColon(g);var k=g}}catch(m){a.e(m)}finally{a.f()}return!1}},{key:"comment",value:function(a){var c=new vc;this.init(c,a[2]);c.source.end=this.getPosition(a[3]||a[2]);c.source.end.offset++;a=a[1].slice(2,-2);/^\s*$/.test(a)?(c.text="",c.raws.left=a,c.raws.right=""):(a=a.match(/^(\s*)([^]*\S)(\s*)$/),c.text=a[2],c.raws.left=a[1],c.raws.right=a[3])}},{key:"createTokenizer",value:function(){this.tokenizer=Up(this.input)}},{key:"decl",value:function(a,c){var d=new uc;this.init(d,
a[0][2]);var e=a[a.length-1];";"===e[0]&&(this.semicolon=!0,a.pop());d.source.end=this.getPosition(e[3]||e[2]||Rm(a));for(d.source.end.offset++;"word"!==a[0][0];)1===a.length&&this.unknownWord(a),d.raws.before+=a.shift()[1];d.source.start=this.getPosition(a[0][2]);for(d.prop="";a.length;){e=a[0][0];if(":"===e||"space"===e||"comment"===e)break;d.prop+=a.shift()[1]}d.raws.between="";for(var f;a.length;)if(f=a.shift(),":"===f[0]){d.raws.between+=f[1];break}else"word"===f[0]&&/\w/.test(f[1])&&this.unknownWord([f]),
d.raws.between+=f[1];if("_"===d.prop[0]||"*"===d.prop[0])d.raws.before+=d.prop[0],d.prop=d.prop.slice(1);for(e=[];a.length;){f=a[0][0];if("space"!==f&&"comment"!==f)break;e.push(a.shift())}this.precheckMissedSemicolon(a);for(var g=a.length-1;0<=g;g--){f=a[g];if("!important"===f[1].toLowerCase()){d.important=!0;f=this.stringFrom(a,g);f=this.spacesFromEnd(a)+f;" !important"!==f&&(d.raws.important=f);break}else if("important"===f[1].toLowerCase()){for(var h=a.slice(0),k="",m=g;0<m;m--){var u=h[m][0];
if(0===k.trim().indexOf("!")&&"space"!==u)break;k=h.pop()[1]+k}0===k.trim().indexOf("!")&&(d.important=!0,d.raws.important=k,a=h)}if("space"!==f[0]&&"comment"!==f[0])break}a.some(function(n){return"space"!==n[0]&&"comment"!==n[0]})&&(d.raws.between+=e.map(function(n){return n[1]}).join(""),e=[]);this.raw(d,"value",e.concat(a),c);d.value.includes(":")&&!c&&this.checkMissedSemicolon(a)}},{key:"doubleColon",value:function(a){throw this.input.error("Double colon",{offset:a[2]},{offset:a[2]+a[1].length});
}},{key:"emptyRule",value:function(a){var c=new xc;this.init(c,a[2]);c.selector="";c.raws.between="";this.current=c}},{key:"end",value:function(a){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon);this.semicolon=!1;this.current.raws.after=(this.current.raws.after||"")+this.spaces;this.spaces="";this.current.parent?(this.current.source.end=this.getPosition(a[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(a)}},{key:"endFile",
value:function(){this.current.parent&&this.unclosedBlock();this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon);this.current.raws.after=(this.current.raws.after||"")+this.spaces;this.root.source.end=this.getPosition(this.tokenizer.position())}},{key:"freeSemicolon",value:function(a){this.spaces+=a[1];this.current.nodes&&(a=this.current.nodes[this.current.nodes.length-1])&&"rule"===a.type&&!a.raws.ownSemicolon&&(a.raws.ownSemicolon=this.spaces,this.spaces="")}},
{key:"getPosition",value:function(a){var c=this.input.fromOffset(a);return{column:c.col,line:c.line,offset:a}}},{key:"init",value:function(a,c){this.current.push(a);a.source={input:this.input,start:this.getPosition(c)};a.raws.before=this.spaces;this.spaces="";"comment"!==a.type&&(this.semicolon=!1)}},{key:"other",value:function(a){for(var c=!1,d=!1,e=null,f=[],g=a[1].startsWith("--"),h=[],k=a;k;){a=k[0];h.push(k);if("("===a||"["===a)e||(e=k),f.push("("===a?")":"]");else if(g&&d&&"{"===a)e||(e=k),
f.push("}");else if(0===f.length)if(";"===a){if(d){this.decl(h,g);return}break}else{if("{"===a){this.rule(h);return}if("}"===a){this.tokenizer.back(h.pop());c=!0;break}else":"===a&&(d=!0)}else a===f[f.length-1]&&(f.pop(),0===f.length&&(e=null));k=this.tokenizer.nextToken()}this.tokenizer.endOfFile()&&(c=!0);0<f.length&&this.unclosedBracket(e);if(c&&d){if(!g)for(;h.length;){k=h[h.length-1][0];if("space"!==k&&"comment"!==k)break;this.tokenizer.back(h.pop())}this.decl(h,g)}else this.unknownWord(h)}},
{key:"parse",value:function(){for(var a;!this.tokenizer.endOfFile();)switch(a=this.tokenizer.nextToken(),a[0]){case "space":this.spaces+=a[1];break;case ";":this.freeSemicolon(a);break;case "}":this.end(a);break;case "comment":this.comment(a);break;case "at-word":this.atrule(a);break;case "{":this.emptyRule(a);break;default:this.other(a)}this.endFile()}},{key:"precheckMissedSemicolon",value:function(){}},{key:"raw",value:function(a,c,d,e){for(var f,g,h=d.length,k="",m=!0,u,n=0;n<h;n+=1)f=d[n],g=f[0],
"space"!==g||n!==h-1||e?"comment"===g?(u=d[n-1]?d[n-1][0]:"empty",g=d[n+1]?d[n+1][0]:"empty",nl[u]||nl[g]?m=!1:","===k.slice(-1)?m=!1:k+=f[1]):k+=f[1]:m=!1;m||(d=d.reduce(function(t,l){return t+l[1]},""),a.raws[c]={raw:d,value:k});a[c]=k}},{key:"rule",value:function(a){a.pop();var c=new xc;this.init(c,a[0][2]);c.raws.between=this.spacesAndCommentsFromEnd(a);this.raw(c,"selector",a);this.current=c}},{key:"spacesAndCommentsFromEnd",value:function(a){for(var c,d="";a.length;){c=a[a.length-1][0];if("space"!==
c&&"comment"!==c)break;d=a.pop()[1]+d}return d}},{key:"spacesAndCommentsFromStart",value:function(a){for(var c,d="";a.length;){c=a[0][0];if("space"!==c&&"comment"!==c)break;d+=a.shift()[1]}return d}},{key:"spacesFromEnd",value:function(a){for(var c,d="";a.length;){c=a[a.length-1][0];if("space"!==c)break;d=a.pop()[1]+d}return d}},{key:"stringFrom",value:function(a,c){for(var d="",e=c;e<a.length;e++)d+=a[e][1];a.splice(c,a.length-c);return d}},{key:"unclosedBlock",value:function(){var a=this.current.source.start;
throw this.input.error("Unclosed block",a.line,a.column);}},{key:"unclosedBracket",value:function(a){throw this.input.error("Unclosed bracket",{offset:a[2]},{offset:a[2]+1});}},{key:"unexpectedClose",value:function(a){throw this.input.error("Unexpected }",{offset:a[2]},{offset:a[2]+1});}},{key:"unknownWord",value:function(a){throw this.input.error("Unknown word",{offset:a[0][2]},{offset:a[0][2]+a[0][1].length});}},{key:"unnamedAtrule",value:function(a,c){throw this.input.error("At-rule without name",
{offset:c[2]},{offset:c[2]+c[1].length});}}])}(),Sm=ed;qd.default=qd;gb.registerParse(qd);var Nb=Fd,Um={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},Vp={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Wp={Once:!0,postcssPlugin:!0,prepare:!0},Hh={},gd=function(){function b(a,c,d){var e=this;ia(this,
b);this.processed=this.stringified=!1;if("object"!==W(c)||null===c||"root"!==c.type&&"document"!==c.type)if(c instanceof b||c instanceof Hd){var f=sg(c.root);c.map&&("undefined"===typeof d.map&&(d.map={}),d.map.inline||(d.map.inline=!1),d.map.prev=c.map)}else{var g=qd;d.syntax&&(g=d.syntax.parse);d.parser&&(g=d.parser);g.parse&&(g=g.parse);try{f=g(c,d)}catch(h){this.processed=!0,this.error=h}f&&!f[Gf]&&gb.rebuild(f)}else f=sg(c);this.result=new Hd(a,f,d);this.helpers=ma(ma({},Hh),{},{postcss:Hh,result:this.result});
this.plugins=this.processor.plugins.map(function(h){return"object"===W(h)&&h.prepare?ma(ma({},h),h.prepare(e.result)):h})}return ja(b,[{key:"async",value:function(){if(this.error)return Promise.reject(this.error);if(this.processed)return Promise.resolve(this.result);this.processing||(this.processing=this.runAsync());return this.processing}},{key:"catch",value:function(a){return this.async().catch(a)}},{key:"finally",value:function(a){return this.async().then(a,a)}},{key:"getAsyncError",value:function(){throw Error("Use process(css).then(cb) to work with async plugins");
}},{key:"handleError",value:function(a,c){var d=this.result.lastPlugin;try{if(c&&c.addToError(a),this.error=a,"CssSyntaxError"===a.name&&!a.plugin)a.plugin=d.postcssPlugin,a.setMessage();else if(d.postcssVersion){var e=d.postcssPlugin,f=d.postcssVersion,g=this.result.processor.version,h=f.split("."),k=g.split(".");(h[0]!==k[0]||parseInt(h[1])>parseInt(k[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+g+", but "+e+" uses "+f+". Perhaps this is the source of the error below.")}}catch(m){console&&
console.error&&console.error(m)}return a}},{key:"prepareVisitors",value:function(){var a=this;this.listeners={};var c=function(k,m,u){a.listeners[m]||(a.listeners[m]=[]);a.listeners[m].push([k,u])},d=Z(this.plugins),e;try{for(d.s();!(e=d.n()).done;){var f=e.value;if("object"===W(f))for(var g in f){if(!Vp[g]&&/^[A-Z]/.test(g))throw Error("Unknown event ".concat(g," in ").concat(f.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!Wp[g])if("object"===W(f[g]))for(var h in f[g])"*"===
h?c(f,g,f[g][h]):c(f,g+"-"+h.toLowerCase(),f[g][h]);else"function"===typeof f[g]&&c(f,g,f[g])}}}catch(k){d.e(k)}finally{d.f()}this.hasListener=0<Object.keys(this.listeners).length}},{key:"runAsync",value:function(){var a=Zf(Eb().mark(function d(){var e=this,f,g,h,k,m,u,n,t,l,q;return Eb().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:f=this.plugin=0;case 2:if(!(f<this.plugins.length)){p.next=17;break}g=this.plugins[f];h=this.runOnRoot(g);if(!$d(h)){p.next=14;break}p.prev=6;p.next=9;return h;
case 9:p.next=14;break;case 11:throw p.prev=11,p.t0=p["catch"](6),this.handleError(p.t0);case 14:f++;p.next=2;break;case 17:this.prepareVisitors();if(!this.hasListener){p.next=56;break}k=this.result.root;case 20:if(k[Nb]){p.next=39;break}k[Nb]=!0;m=[Fi(k)];case 23:if(!(0<m.length)){p.next=37;break}u=this.visitTick(m);if(!$d(u)){p.next=35;break}p.prev=26;p.next=29;return u;case 29:p.next=35;break;case 31:throw p.prev=31,p.t1=p["catch"](26),n=m[m.length-1].node,this.handleError(p.t1,n);case 35:p.next=
23;break;case 37:p.next=20;break;case 39:if(!this.listeners.OnceExit){p.next=56;break}t=Z(this.listeners.OnceExit);p.prev=41;q=Eb().mark(function w(){var y,B,G,H;return Eb().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:y=Xa(l.value,2);B=y[0];G=y[1];e.result.lastPlugin=B;E.prev=2;if("document"!==k.type){E.next=9;break}H=k.nodes.map(function(F){return G(F,e.helpers)});E.next=7;return Promise.all(H);case 7:E.next=11;break;case 9:return E.next=11,G(k,e.helpers);case 11:E.next=16;break;case 13:throw E.prev=
13,E.t0=E["catch"](2),e.handleError(E.t0);case 16:case "end":return E.stop()}},w,null,[[2,13]])});t.s();case 44:if((l=t.n()).done){p.next=48;break}return p.delegateYield(q(),"t2",46);case 46:p.next=44;break;case 48:p.next=53;break;case 50:p.prev=50,p.t3=p["catch"](41),t.e(p.t3);case 53:return p.prev=53,t.f(),p.finish(53);case 56:return this.processed=!0,p.abrupt("return",this.stringify());case 58:case "end":return p.stop()}},d,this,[[6,11],[26,31],[41,50,53,56]])}));return function(){return a.apply(this,
arguments)}}()},{key:"runOnRoot",value:function(a){var c=this;this.result.lastPlugin=a;try{if("object"===W(a)&&a.Once){if("document"===this.result.root.type){var d=this.result.root.nodes.map(function(e){return a.Once(e,c.helpers)});return $d(d[0])?Promise.all(d):d}return a.Once(this.result.root,this.helpers)}if("function"===typeof a)return a(this.result.root,this.result)}catch(e){throw this.handleError(e);}}},{key:"stringify",value:function(){if(this.error)throw this.error;if(this.stringified)return this.result;
this.stringified=!0;this.sync();var a=this.result.opts,c=pd;a.syntax&&(c=a.syntax.stringify);a.stringifier&&(c=a.stringifier);c.stringify&&(c=c.stringify);a=(new cl(c,this.result.root,this.result.opts)).generate();this.result.css=a[0];this.result.map=a[1];return this.result}},{key:"sync",value:function(){if(this.error)throw this.error;if(this.processed)return this.result;this.processed=!0;if(this.processing)throw this.getAsyncError();var a=Z(this.plugins),c;try{for(a.s();!(c=a.n()).done;){var d=this.runOnRoot(c.value);
if($d(d))throw this.getAsyncError();}}catch(f){a.e(f)}finally{a.f()}this.prepareVisitors();if(this.hasListener){for(a=this.result.root;!a[Nb];)a[Nb]=!0,this.walkSync(a);if(this.listeners.OnceExit)if("document"===a.type){a=Z(a.nodes);var e;try{for(a.s();!(e=a.n()).done;)this.visitSync(this.listeners.OnceExit,e.value)}catch(f){a.e(f)}finally{a.f()}}else this.visitSync(this.listeners.OnceExit,a)}return this.result}},{key:"then",value:function(a,c){"from"in this.opts||il("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.");
return this.async().then(a,c)}},{key:"toString",value:function(){return this.css}},{key:"visitSync",value:function(a,c){a=Z(a);var d;try{for(a.s();!(d=a.n()).done;){var e=Xa(d.value,2),f=e[1];this.result.lastPlugin=e[0];var g=void 0;try{g=f(c,this.helpers)}catch(h){throw this.handleError(h,c.proxyOf);}if("root"!==c.type&&"document"!==c.type&&!c.parent)return!0;if($d(g))throw this.getAsyncError();}}catch(h){a.e(h)}finally{a.f()}}},{key:"visitTick",value:function(a){var c=a[a.length-1],d=c.node,e=c.visitors;
if("root"===d.type||"document"===d.type||d.parent){if(0<e.length&&c.visitorIndex<e.length){var f=Xa(e[c.visitorIndex],2);a=f[0];f=f[1];c.visitorIndex+=1;c.visitorIndex===e.length&&(c.visitors=[],c.visitorIndex=0);this.result.lastPlugin=a;try{return f(d.toProxy(),this.helpers)}catch(g){throw this.handleError(g,d);}}if(0!==c.iterator){for(e=c.iterator;f=d.nodes[d.indexes[e]];)if(d.indexes[e]+=1,!f[Nb]){f[Nb]=!0;a.push(Fi(f));return}c.iterator=0;delete d.indexes[e]}for(e=c.events;c.eventIndex<e.length;){f=
e[c.eventIndex];c.eventIndex+=1;if(0===f){d.nodes&&d.nodes.length&&(d[Nb]=!0,c.iterator=d.getIterator());return}if(this.listeners[f]){c.visitors=this.listeners[f];return}}}a.pop()}},{key:"walkSync",value:function(a){var c=this;a[Nb]=!0;var d=Ei(a);d=Z(d);var e;try{for(d.s();!(e=d.n()).done;){var f=e.value;if(0===f)a.nodes&&a.each(function(h){h[Nb]||c.walkSync(h)});else{var g=this.listeners[f];if(g&&this.visitSync(g,a.toProxy()))break}}}catch(h){d.e(h)}finally{d.f()}}},{key:"warnings",value:function(){return this.sync().warnings()}},
{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}])}();gd.registerPostcss=function(b){Hh=
b};gd.default=gd;Jb.registerLazyResult(gd);wc.registerLazyResult(gd);var Ih=function(){function b(a,c,d){ia(this,b);c=c.toString();this.stringified=!1;this._processor=a;this._css=c;this._opts=d;this._map=void 0;this.result=new Hd(this._processor,void 0,this._opts);this.result.css=c;var e=this;Object.defineProperty(this.result,"root",{get:function(){return e.root}});a=new cl(pd,void 0,this._opts,c);a.isMap()?(a=a.generate(),c=Xa(a,2),a=c[0],c=c[1],a&&(this.result.css=a),c&&(this.result.map=c)):(a.clearAnnotation(),
this.result.css=a.css)}return ja(b,[{key:"async",value:function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}},{key:"catch",value:function(a){return this.async().catch(a)}},{key:"finally",value:function(a){return this.async().then(a,a)}},{key:"sync",value:function(){if(this.error)throw this.error;return this.result}},{key:"then",value:function(a,c){"from"in this._opts||il("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.");
return this.async().then(a,c)}},{key:"toString",value:function(){return this._css}},{key:"warnings",value:function(){return[]}},{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;
try{var a=qd(this._css,this._opts)}catch(c){this.error=c}if(this.error)throw this.error;return this._root=a}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}])}();Ih.default=Ih;var He=function(){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];ia(this,b);this.version="8.4.38";this.plugins=this.normalize(a)}return ja(b,[{key:"normalize",value:function(a){var c=[];a=Z(a);var d;try{for(a.s();!(d=a.n()).done;){var e=d.value;!0===e.postcss?e=e():e.postcss&&(e=
e.postcss);if("object"===W(e)&&Array.isArray(e.plugins))c=c.concat(e.plugins);else if("object"===W(e)&&e.postcssPlugin)c.push(e);else if("function"===typeof e)c.push(e);else{if("object"===W(e)&&(e.parse||e.stringify))throw Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.");throw Error(e+" is not a PostCSS plugin");}}}catch(f){a.e(f)}finally{a.f()}return c}},{key:"process",value:function(a){var c=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.plugins.length||c.parser||c.stringifier||c.syntax?new gd(this,a,c):new Ih(this,a,c)}},{key:"use",value:function(a){this.plugins=this.plugins.concat(this.normalize([a]));return this}}])}();He.default=He;Jb.registerProcessor(He);wc.registerProcessor(He);var $m=uc,Xm=Hf,bn=vc,cn=fd,Wm=ed,Zm=Jb,an=xc;ae.default=ae;var tg=He;Ba.plugin=function(b,a){function c(){console&&console.warn&&!d&&(d=!0,console.warn(b+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),
process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(b+": \u91cc\u9762 postcss.plugin \u88ab\u5f03\u7528. \u8fc1\u79fb\u6307\u5357:\nhttps://www.w3ctech.com/topic/2226"));var f=a.apply(void 0,arguments);f.postcssPlugin=b;f.postcssVersion=(new tg).version;return f}var d=!1,e;Object.defineProperty(c,"postcss",{get:function(){e||(e=c());return e}});c.process=function(f,g,h){return Ba([c(h)]).process(f,g)};return c};Ba.stringify=pd;Ba.parse=qd;Ba.fromJSON=ae;Ba.list=ml;Ba.comment=function(b){return new vc(b)};
Ba.atRule=function(b){return new fd(b)};Ba.decl=function(b){return new uc(b)};Ba.rule=function(b){return new xc(b)};Ba.root=function(b){return new Jb(b)};Ba.document=function(b){return new wc(b)};Ba.CssSyntaxError=Ed;Ba.Declaration=uc;Ba.Container=gb;Ba.Processor=tg;Ba.Document=wc;Ba.Comment=vc;Ba.Warning=Lf;Ba.AtRule=fd;Ba.Result=Hd;Ba.Input=ed;Ba.Rule=xc;Ba.Root=Jb;Ba.Node=Gd;gd.registerPostcss(Ba);Ba.default=Ba;var Pa=function(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?
b["default"]:b}(Ba);Pa.stringify;Pa.fromJSON;Pa.plugin;Pa.parse;Pa.list;Pa.document;Pa.comment;Pa.atRule;Pa.rule;Pa.decl;Pa.root;Pa.CssSyntaxError;Pa.Declaration;Pa.Container;Pa.Processor;Pa.Document;Pa.Comment;Pa.Warning;Pa.AtRule;Pa.Result;Pa.Input;Pa.Rule;Pa.Root;Pa.Node;var Xp=Object.defineProperty,Cb=function(b,a,c){a="symbol"!==W(a)?a+"":a;return a in b?Xp(b,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):b[a]=c},Jh={},La=String,ol=function(){return{isColorSupported:!1,reset:La,bold:La,
dim:La,italic:La,underline:La,inverse:La,hidden:La,strikethrough:La,black:La,red:La,green:La,yellow:La,blue:La,magenta:La,cyan:La,white:La,gray:La,bgBlack:La,bgRed:La,bgGreen:La,bgYellow:La,bgBlue:La,bgMagenta:La,bgCyan:La,bgWhite:La}};Jh=ol();Jh.createColors=ol;var pl=Jh,Qa=function(b){if(b.__esModule)return b;var a=b.default;if("function"==typeof a){var c=function e(){return this instanceof e?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};c.prototype=a.prototype}else c=
{};Object.defineProperty(c,"__esModule",{value:!0});Object.keys(b).forEach(function(d){var e=Object.getOwnPropertyDescriptor(b,d);Object.defineProperty(c,d,e.get?e:{enumerable:!0,get:function(){return b[d]}})});return c}(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),Id=function(b){function a(c,d,e,f,g,h){ia(this,a);var k=lb(this,a,[c]);k.name="CssSyntaxError";k.reason=c;g&&(k.file=g);f&&(k.source=f);h&&(k.plugin=h);"undefined"!==typeof d&&"undefined"!==
typeof e&&("number"===typeof d?(k.line=d,k.column=e):(k.line=d.line,k.column=d.column,k.endLine=e.line,k.endColumn=e.column));k.setMessage();Error.captureStackTrace&&Error.captureStackTrace(k,a);return k}mb(a,b);return ja(a,[{key:"setMessage",value:function(){this.message=this.plugin?this.plugin+": ":"";this.message+=this.file?this.file:"<css input>";"undefined"!==typeof this.line&&(this.message+=":"+this.line+":"+this.column);this.message+=": "+this.reason}},{key:"showSourceCode",value:function(c){var d=
this;if(!this.source)return"";var e=this.source;null==c&&(c=pl.isColorSupported);Qa&&c&&(e=Qa(e));e=e.split(/\r?\n/);var f=Math.max(this.line-3,0),g=Math.min(this.line+2,e.length),h=String(g).length;if(c){c=pl.createColors(!0);var k=c.bold,m=c.gray,u=c.red;var n=function(l){return k(u(l))};var t=function(l){return m(l)}}else n=t=function(l){return l};return e.slice(f,g).map(function(l,q){var p=f+1+q;q=" "+(" "+p).slice(-h)+" | ";return p===d.line?(p=t(q.replace(/\d/g," "))+l.slice(0,d.column-1).replace(/[^\t]/g,
" "),n(">")+t(q)+l+"\n "+p+n("^")):" "+t(q)+l}).join("\n")}},{key:"toString",value:function(){var c=this.showSourceCode();c&&(c="\n\n"+c+"\n");return this.name+": "+this.message+c}}])}(Ke(Error));Id.default=Id;var Jd=Symbol("isClean");var Of=Symbol("my");var ql={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1},Kh=function(){function b(a){ia(this,b);this.builder=a}return ja(b,
[{key:"atrule",value:function(a,c){var d="@"+a.name,e=a.params?this.rawValue(a,"params"):"";"undefined"!==typeof a.raws.afterName?d+=a.raws.afterName:e&&(d+=" ");a.nodes?this.block(a,d+e):this.builder(d+e+((a.raws.between||"")+(c?";":"")),a)}},{key:"beforeAfter",value:function(a,c){c="decl"===a.type?this.raw(a,null,"beforeDecl"):"comment"===a.type?this.raw(a,null,"beforeComment"):"before"===c?this.raw(a,null,"beforeRule"):this.raw(a,null,"beforeClose");for(var d=a.parent,e=0;d&&"root"!==d.type;)e+=
1,d=d.parent;if(c.includes("\n")&&(a=this.raw(a,null,"indent"),a.length))for(d=0;d<e;d++)c+=a;return c}},{key:"block",value:function(a,c){var d=this.raw(a,"between","beforeOpen");this.builder(c+d+"{",a,"start");a.nodes&&a.nodes.length?(this.body(a),c=this.raw(a,"after")):c=this.raw(a,"after","emptyBody");c&&this.builder(c);this.builder("}",a,"end")}},{key:"body",value:function(a){for(var c=a.nodes.length-1;0<c&&"comment"===a.nodes[c].type;)--c;for(var d=this.raw(a,"semicolon"),e=0;e<a.nodes.length;e++){var f=
a.nodes[e],g=this.raw(f,"before");g&&this.builder(g);this.stringify(f,c!==e||d)}}},{key:"comment",value:function(a){var c=this.raw(a,"left","commentLeft"),d=this.raw(a,"right","commentRight");this.builder("/*"+c+a.text+d+"*/",a)}},{key:"decl",value:function(a,c){var d=this.raw(a,"between","colon");d=a.prop+d+this.rawValue(a,"value");a.important&&(d+=a.raws.important||" !important");c&&(d+=";");this.builder(d,a)}},{key:"document",value:function(a){this.body(a)}},{key:"raw",value:function(a,c,d){d||
(d=c);if(c){var e=a.raws[c];if("undefined"!==typeof e)return e}var f=a.parent;if("before"===d&&(!f||"root"===f.type&&f.first===a||f&&"document"===f.type))return"";if(!f)return ql[d];f=a.root();f.rawCache||(f.rawCache={});if("undefined"!==typeof f.rawCache[d])return f.rawCache[d];if("before"===d||"after"===d)return this.beforeAfter(a,d);var g="raw"+dn(d);this[g]?e=this[g](f,a):f.walk(function(h){e=h.raws[c];if("undefined"!==typeof e)return!1});"undefined"===typeof e&&(e=ql[d]);return f.rawCache[d]=
e}},{key:"rawBeforeClose",value:function(a){var c;a.walk(function(d){if(d.nodes&&0<d.nodes.length&&"undefined"!==typeof d.raws.after)return c=d.raws.after,c.includes("\n")&&(c=c.replace(/[^\n]+$/,"")),!1});c&&(c=c.replace(/\S/g,""));return c}},{key:"rawBeforeComment",value:function(a,c){var d;a.walkComments(function(e){if("undefined"!==typeof e.raws.before)return d=e.raws.before,d.includes("\n")&&(d=d.replace(/[^\n]+$/,"")),!1});"undefined"===typeof d?d=this.raw(c,null,"beforeDecl"):d&&(d=d.replace(/\S/g,
""));return d}},{key:"rawBeforeDecl",value:function(a,c){var d;a.walkDecls(function(e){if("undefined"!==typeof e.raws.before)return d=e.raws.before,d.includes("\n")&&(d=d.replace(/[^\n]+$/,"")),!1});"undefined"===typeof d?d=this.raw(c,null,"beforeRule"):d&&(d=d.replace(/\S/g,""));return d}},{key:"rawBeforeOpen",value:function(a){var c;a.walk(function(d){if("decl"!==d.type&&(c=d.raws.between,"undefined"!==typeof c))return!1});return c}},{key:"rawBeforeRule",value:function(a){var c;a.walk(function(d){if(d.nodes&&
(d.parent!==a||a.first!==d)&&"undefined"!==typeof d.raws.before)return c=d.raws.before,c.includes("\n")&&(c=c.replace(/[^\n]+$/,"")),!1});c&&(c=c.replace(/\S/g,""));return c}},{key:"rawColon",value:function(a){var c;a.walkDecls(function(d){if("undefined"!==typeof d.raws.between)return c=d.raws.between.replace(/[^\s:]/g,""),!1});return c}},{key:"rawEmptyBody",value:function(a){var c;a.walk(function(d){if(d.nodes&&0===d.nodes.length&&(c=d.raws.after,"undefined"!==typeof c))return!1});return c}},{key:"rawIndent",
value:function(a){if(a.raws.indent)return a.raws.indent;var c;a.walk(function(d){var e=d.parent;if(e&&e!==a&&e.parent&&e.parent===a&&"undefined"!==typeof d.raws.before)return d=d.raws.before.split("\n"),c=d[d.length-1],c=c.replace(/\S/g,""),!1});return c}},{key:"rawSemicolon",value:function(a){var c;a.walk(function(d){if(d.nodes&&d.nodes.length&&"decl"===d.last.type&&(c=d.raws.semicolon,"undefined"!==typeof c))return!1});return c}},{key:"rawValue",value:function(a,c){var d=a[c];return(a=a.raws[c])&&
a.value===d?a.raw:d}},{key:"root",value:function(a){this.body(a);a.raws.after&&this.builder(a.raws.after)}},{key:"rule",value:function(a){this.block(a,this.rawValue(a,"selector"));a.raws.ownSemicolon&&this.builder(a.raws.ownSemicolon,a,"end")}},{key:"stringify",value:function(a,c){if(!this[a.type])throw Error("Unknown AST node type "+a.type+". Maybe you need to change PostCSS stringifier.");this[a.type](a,c)}}])}(),en=Kh.default=Kh;rd.default=rd;var Kd=function(){function b(){var a=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{};ia(this,b);this.raws={};this[Jd]=!1;this[Of]=!0;for(var c in a)if("nodes"===c){this.nodes=[];var d=Z(a[c]),e;try{for(d.s();!(e=d.n()).done;){var f=e.value;"function"===typeof f.clone?this.append(f.clone()):this.append(f)}}catch(g){d.e(g)}finally{d.f()}}else this[c]=a[c]}return ja(b,[{key:"addToError",value:function(a){a.postcssNode=this;if(a.stack&&this.source&&/\n\s{4}at /.test(a.stack)){var c=this.source;a.stack=a.stack.replace(/\n\s{4}at /,"$&".concat(c.input.from,
":").concat(c.start.line,":").concat(c.start.column,"$&"))}return a}},{key:"after",value:function(a){this.parent.insertAfter(this,a);return this}},{key:"assign",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c;for(c in a)this[c]=a[c];return this}},{key:"before",value:function(a){this.parent.insertBefore(this,a);return this}},{key:"cleanRaws",value:function(a){delete this.raws.before;delete this.raws.after;a||delete this.raws.between}},{key:"clone",value:function(){var a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=ug(this),d;for(d in a)c[d]=a[d];return c}},{key:"cloneAfter",value:function(){var a=this.clone(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});this.parent.insertAfter(this,a);return a}},{key:"cloneBefore",value:function(){var a=this.clone(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});this.parent.insertBefore(this,a);return a}},{key:"error",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
{};if(this.source){var d=this.rangeBy(c),e=d.end;d=d.start;return this.source.input.error(a,{column:d.column,line:d.line},{column:e.column,line:e.line},c)}return new Id(a)}},{key:"getProxyProcessor",value:function(){return{get:function(a,c){return"proxyOf"===c?a:"root"===c?function(){return a.root().toProxy()}:a[c]},set:function(a,c,d){if(a[c]===d)return!0;a[c]=d;"prop"!==c&&"value"!==c&&"name"!==c&&"params"!==c&&"important"!==c&&"text"!==c||a.markDirty();return!0}}}},{key:"markDirty",value:function(){if(this[Jd]){this[Jd]=
!1;for(var a=this;a=a.parent;)a[Jd]=!1}}},{key:"next",value:function(){if(this.parent){var a=this.parent.index(this);return this.parent.nodes[a+1]}}},{key:"positionBy",value:function(a,c){var d=this.source.start;a.index?d=this.positionInside(a.index,c):a.word&&(c=this.toString(),a=c.indexOf(a.word),-1!==a&&(d=this.positionInside(a,c)));return d}},{key:"positionInside",value:function(a,c){c=c||this.toString();for(var d=this.source.start.column,e=this.source.start.line,f=0;f<a;f++)"\n"===c[f]?(d=1,
e+=1):d+=1;return{column:d,line:e}}},{key:"prev",value:function(){if(this.parent){var a=this.parent.index(this);return this.parent.nodes[a-1]}}},{key:"rangeBy",value:function(a){var c={column:this.source.start.column,line:this.source.start.line},d=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:c.column+1,line:c.line};if(a.word){var e=this.toString(),f=e.indexOf(a.word);-1!==f&&(c=this.positionInside(f,e),d=this.positionInside(f+a.word.length,e))}else a.start?c=
{column:a.start.column,line:a.start.line}:a.index&&(c=this.positionInside(a.index)),a.end?d={column:a.end.column,line:a.end.line}:"number"===typeof a.endIndex?d=this.positionInside(a.endIndex):a.index&&(d=this.positionInside(a.index+1));if(d.line<c.line||d.line===c.line&&d.column<=c.column)d={column:c.column+1,line:c.line};return{end:d,start:c}}},{key:"raw",value:function(a,c){return(new Kh).raw(this,a,c)}},{key:"remove",value:function(){this.parent&&this.parent.removeChild(this);this.parent=void 0;
return this}},{key:"replaceWith",value:function(){if(this.parent){for(var a=this,c=!1,d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];for(d=0;d<e.length;d++)f=e[d],f===this?c=!0:c?(this.parent.insertAfter(a,f),a=f):this.parent.insertBefore(a,f);c||this.remove()}return this}},{key:"root",value:function(){for(var a=this;a.parent&&"document"!==a.parent.type;)a=a.parent;return a}},{key:"toJSON",value:function(a,c){a={};var d=null==c;c=c||new Map;var e=0,f;for(f in this)if(Object.prototype.hasOwnProperty.call(this,
f)&&"parent"!==f&&"proxyCache"!==f){var g=this[f];if(Array.isArray(g))a[f]=g.map(function(k){return"object"===W(k)&&k.toJSON?k.toJSON(null,c):k});else if("object"===W(g)&&g.toJSON)a[f]=g.toJSON(null,c);else if("source"===f){var h=c.get(g.input);null==h&&(h=e,c.set(g.input,e),e++);a[f]={end:g.end,inputId:h,start:g.start}}else a[f]=g}d&&(a.inputs=Yb(c.keys()).map(function(k){return k.toJSON()}));return a}},{key:"toProxy",value:function(){this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor()));
return this.proxyCache}},{key:"toString",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:rd;a.stringify&&(a=a.stringify);var c="";a(this,function(d){c+=d});return c}},{key:"warn",value:function(a,c,d){var e={node:this},f;for(f in d)e[f]=d[f];return a.warn(c,e)}},{key:"proxyOf",get:function(){return this}}])}();Kd.default=Kd;var yc=function(b){function a(c){ia(this,a);c&&"undefined"!==typeof c.value&&"string"!==typeof c.value&&(c=ma(ma({},c),{},{value:String(c.value)}));
c=lb(this,a,[c]);c.type="decl";return c}mb(a,b);return ja(a,[{key:"variable",get:function(){return this.prop.startsWith("--")||"$"===this.prop[0]}}])}(Kd);yc.default=yc;var rl=Qa.SourceMapConsumer,sl=Qa.SourceMapGenerator,Yp=Qa.existsSync,Zp=Qa.readFileSync,Lh=Qa.dirname,$p=Qa.join,Pf=function(){function b(a,c){ia(this,b);!1!==c.map&&(this.loadAnnotation(a),this.inline=this.startWith(this.annotation,"data:"),a=this.loadMap(c.from,c.map?c.map.prev:void 0),!this.mapFile&&c.from&&(this.mapFile=c.from),
this.mapFile&&(this.root=Lh(this.mapFile)),a&&(this.text=a))}return ja(b,[{key:"consumer",value:function(){this.consumerCache||(this.consumerCache=new rl(this.text));return this.consumerCache}},{key:"decodeInline",value:function(a){var c=/^data:application\/json;base64,/,d=/^data:application\/json,/;if(/^data:application\/json;charset=utf-?8,/.test(a)||d.test(a))return decodeURIComponent(a.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(a)||c.test(a))return a=
a.substr(RegExp.lastMatch.length),a=Buffer?Buffer.from(a,"base64").toString():window.atob(a),a;a=a.match(/data:application\/json;([^,]+),/)[1];throw Error("Unsupported source map encoding "+a);}},{key:"getAnnotationURL",value:function(a){return a.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}},{key:"isMap",value:function(a){return"object"!==W(a)?!1:"string"===typeof a.mappings||"string"===typeof a._mappings||Array.isArray(a.sections)}},{key:"loadAnnotation",value:function(a){var c=a.match(/\/\*\s*# sourceMappingURL=/gm);
if(c){c=a.lastIndexOf(c.pop());var d=a.indexOf("*/",c);-1<c&&-1<d&&(this.annotation=this.getAnnotationURL(a.substring(c,d)))}}},{key:"loadFile",value:function(a){this.root=Lh(a);if(Yp(a))return this.mapFile=a,Zp(a,"utf-8").toString().trim()}},{key:"loadMap",value:function(a,c){if(!1===c)return!1;if(c){if("string"===typeof c)return c;if("function"===typeof c){if(a=c(a)){c=this.loadFile(a);if(!c)throw Error("Unable to load previous source map: "+a.toString());return c}}else{if(c instanceof rl)return sl.fromSourceMap(c).toString();
if(c instanceof sl)return c.toString();if(this.isMap(c))return JSON.stringify(c);throw Error("Unsupported previous source map format: "+c.toString());}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation)return c=this.annotation,a&&(c=$p(Lh(a),c)),this.loadFile(c)}}},{key:"startWith",value:function(a,c){return a?a.substr(0,c.length)===c:!1}},{key:"withContent",value:function(){return!!(this.consumer().sourcesContent&&0<this.consumer().sourcesContent.length)}}])}();Pf.default=
Pf;var aq=Qa.SourceMapConsumer,bq=Qa.SourceMapGenerator,tl=Qa.fileURLToPath,Qf=Qa.pathToFileURL,Mh=Qa.isAbsolute,Nh=Qa.resolve,cq=function(){for(var b="",a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:21;a--;)b+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return b},Oh=Symbol("fromOffsetCache"),dq=!(!aq||!bq),ul=!(!Nh||!Mh),hd=function(){function b(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};ia(this,b);if(null===a||"undefined"===
typeof a||"object"===W(a)&&!a.toString)throw Error("PostCSS received ".concat(a," instead of CSS string"));this.css=a.toString();"\ufeff"===this.css[0]||"\ufffe"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1;c.from&&(!ul||/^\w+:\/\//.test(c.from)||Mh(c.from)?this.file=c.from:this.file=Nh(c.from));ul&&dq&&(c=new Pf(this.css,c),c.text&&(this.map=c,c=c.consumer().file,!this.file&&c&&(this.file=this.mapResolve(c))));this.file||(this.id="<input css "+cq(6)+">");this.map&&(this.map.file=
this.from)}return ja(b,[{key:"error",value:function(a,c,d){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(c&&"object"===W(c)){var f=c;var g=d;"number"===typeof f.offset?(f=this.fromOffset(f.offset),c=f.line,d=f.col):(c=f.line,d=f.column);"number"===typeof g.offset?(g=this.fromOffset(g.offset),f=g.line,g=g.col):(f=g.line,g=g.column)}else if(!d){var h=this.fromOffset(c);c=h.line;d=h.col}e=(h=this.origin(c,d,f,g))?new Id(a,void 0===h.endLine?h.line:{column:h.column,line:h.line},void 0===
h.endLine?h.column:{column:h.endColumn,line:h.endLine},h.source,h.file,e.plugin):new Id(a,void 0===f?c:{column:d,line:c},void 0===f?d:{column:g,line:f},this.css,this.file,e.plugin);e.input={column:d,endColumn:g,endLine:f,line:c,source:this.css};this.file&&(Qf&&(e.input.url=Qf(this.file).toString()),e.input.file=this.file);return e}},{key:"fromOffset",value:function(a){if(this[Oh])var c=this[Oh];else{var d=this.css.split("\n");c=Array(d.length);for(var e=0,f=0,g=d.length;f<g;f++)c[f]=e,e+=d[f].length+
1;this[Oh]=c}d=0;if(a>=c[c.length-1])d=c.length-1;else for(e=c.length-2;d<e;)if(f=d+(e-d>>1),a<c[f])e=f-1;else if(a>=c[f+1])d=f+1;else{d=f;break}return{col:a-c[d]+1,line:d+1}}},{key:"mapResolve",value:function(a){return/^\w+:\/\//.test(a)?a:Nh(this.map.consumer().sourceRoot||this.map.root||".",a)}},{key:"origin",value:function(a,c,d,e){if(!this.map)return!1;var f=this.map.consumer();a=f.originalPositionFor({column:c,line:a});if(!a.source)return!1;var g;"number"===typeof d&&(g=f.originalPositionFor({column:e,
line:d}));d=Mh(a.source)?Qf(a.source):new URL(a.source,this.map.consumer().sourceRoot||Qf(this.map.mapFile));g={column:a.column,endColumn:g&&g.column,endLine:g&&g.line,line:a.line,url:d.toString()};if("file:"===d.protocol)if(tl)g.file=tl(d);else throw Error("file: protocol is not available in this PostCSS build");if(f=f.sourceContentFor(a.source))g.source=f;return g}},{key:"toJSON",value:function(){for(var a={},c=0,d=["hasBOM","css","file","id"];c<d.length;c++){var e=d[c];null!=this[e]&&(a[e]=this[e])}this.map&&
(a.map=ma({},this.map),a.map.consumerCache&&(a.map.consumerCache=void 0));return a}},{key:"from",get:function(){return this.file||this.id}}])}();hd.default=hd;Qa&&Qa.registerInput&&Qa.registerInput(hd);var vl=Qa.SourceMapConsumer,Rf=Qa.SourceMapGenerator,Sf=Qa.dirname,wl=Qa.relative,xl=Qa.resolve,yl=Qa.sep,zl=Qa.pathToFileURL,eq=!(!vl||!Rf),fq=!!(Sf&&xl&&wl&&yl),Al=function(){function b(a,c,d,e){ia(this,b);this.stringify=a;this.mapOpts=d.map||{};this.root=c;this.opts=d;this.originalCSS=this.css=e;
this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute;this.memoizedFileURLs=new Map;this.memoizedPaths=new Map;this.memoizedURLs=new Map}return ja(b,[{key:"addAnnotation",value:function(){var a=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"===typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"===typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";var c="\n";this.css.includes("\r\n")&&
(c="\r\n");this.css+=c+"/*# sourceMappingURL="+a+" */"}},{key:"applyPrevMaps",value:function(){var a=Z(this.previous()),c;try{for(a.s();!(c=a.n()).done;){var d=c.value,e=this.toUrl(this.path(d.file)),f=d.root||Sf(d.file),g=void 0;!1===this.mapOpts.sourcesContent?(g=new vl(d.text),g.sourcesContent&&(g.sourcesContent=null)):g=d.consumer();this.map.applySourceMap(g,e,this.toUrl(this.path(f)))}}catch(h){a.e(h)}finally{a.f()}}},{key:"clearAnnotation",value:function(){if(!1!==this.mapOpts.annotation)if(this.root)for(var a,
c=this.root.nodes.length-1;0<=c;c--)a=this.root.nodes[c],"comment"===a.type&&0===a.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(c);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}},{key:"generate",value:function(){this.clearAnnotation();if(fq&&eq&&this.isMap())return this.generateMap();var a="";this.stringify(this.root,function(c){a+=c});return[a]}},{key:"generateMap",value:function(){if(this.root)this.generateString();else if(1===this.previous().length){var a=
this.previous()[0].consumer();a.file=this.outputFile();this.map=Rf.fromSourceMap(a,{ignoreInvalidMapping:!0})}else this.map=new Rf({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});this.isSourcesContent()&&this.setSourcesContent();this.root&&0<this.previous().length&&this.applyPrevMaps();this.isAnnotation()&&this.addAnnotation();return this.isInline()?
[this.css]:[this.css,this.map]}},{key:"generateString",value:function(){var a=this;this.css="";this.map=new Rf({file:this.outputFile(),ignoreInvalidMapping:!0});var c=1,d=1,e={generated:{column:0,line:0},original:{column:0,line:0},source:""},f,g;this.stringify(this.root,function(h,k,m){a.css+=h;k&&"end"!==m&&(e.generated.line=c,e.generated.column=d-1,k.source&&k.source.start?(e.source=a.sourcePath(k),e.original.line=k.source.start.line,e.original.column=k.source.start.column-1):(e.source="<no source>",
e.original.line=1,e.original.column=0),a.map.addMapping(e));(f=h.match(/\n/g))?(c+=f.length,g=h.lastIndexOf("\n"),d=h.length-g):d+=h.length;k&&"start"!==m&&(h=k.parent||{raws:{}},"decl"!==k.type&&("atrule"!==k.type||k.nodes)||k!==h.last||h.raws.semicolon)&&(k.source&&k.source.end?(e.source=a.sourcePath(k),e.original.line=k.source.end.line,e.original.column=k.source.end.column-1,e.generated.line=c,e.generated.column=d-2):(e.source="<no source>",e.original.line=1,e.original.column=0,e.generated.line=
c,e.generated.column=d-1),a.map.addMapping(e))})}},{key:"isAnnotation",value:function(){return this.isInline()?!0:"undefined"!==typeof this.mapOpts.annotation?this.mapOpts.annotation:this.previous().length?this.previous().some(function(a){return a.annotation}):!0}},{key:"isInline",value:function(){if("undefined"!==typeof this.mapOpts.inline)return this.mapOpts.inline;var a=this.mapOpts.annotation;return"undefined"!==typeof a&&!0!==a?!1:this.previous().length?this.previous().some(function(c){return c.inline}):
!0}},{key:"isMap",value:function(){return"undefined"!==typeof this.opts.map?!!this.opts.map:0<this.previous().length}},{key:"isSourcesContent",value:function(){return"undefined"!==typeof this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(function(a){return a.withContent()}):!0}},{key:"outputFile",value:function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}},{key:"path",value:function(a){if(this.mapOpts.absolute||
60===a.charCodeAt(0)||/^\w+:\/\//.test(a))return a;var c=this.memoizedPaths.get(a);if(c)return c;c=this.opts.to?Sf(this.opts.to):".";"string"===typeof this.mapOpts.annotation&&(c=Sf(xl(c,this.mapOpts.annotation)));c=wl(c,a);this.memoizedPaths.set(a,c);return c}},{key:"previous",value:function(){var a=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(d){d.source&&d.source.input.map&&(d=d.source.input.map,a.previousMaps.includes(d)||a.previousMaps.push(d))});else{var c=
new hd(this.originalCSS,this.opts);c.map&&this.previousMaps.push(c.map)}return this.previousMaps}},{key:"setSourcesContent",value:function(){var a=this,c={};if(this.root)this.root.walk(function(e){if(e.source){var f=e.source.input.from;f&&!c[f]&&(c[f]=!0,f=a.usesFileUrls?a.toFileUrl(f):a.toUrl(a.path(f)),a.map.setSourceContent(f,e.source.input.css))}});else if(this.css){var d=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(d,this.css)}}},{key:"sourcePath",
value:function(a){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(a.source.input.from):this.toUrl(this.path(a.source.input.from))}},{key:"toBase64",value:function(a){return Buffer?Buffer.from(a).toString("base64"):window.btoa(unescape(encodeURIComponent(a)))}},{key:"toFileUrl",value:function(a){var c=this.memoizedFileURLs.get(a);if(c)return c;if(zl)return c=zl(a).toString(),this.memoizedFileURLs.set(a,c),c;throw Error("`map.absolute` option is not available in this PostCSS build");
}},{key:"toUrl",value:function(a){var c=this.memoizedURLs.get(a);if(c)return c;"\\"===yl&&(a=a.replace(/\\/g,"/"));c=encodeURI(a).replace(/[#?]/g,encodeURIComponent);this.memoizedURLs.set(a,c);return c}}])}(),zc=function(b){function a(c){ia(this,a);c=lb(this,a,[c]);c.type="comment";return c}mb(a,b);return ja(a)}(Kd);zc.default=zc;var Ii=Jd,Bl,Ph,Qh,Cl,hb=function(b){function a(){ia(this,a);return lb(this,a,arguments)}mb(a,b);return ja(a,[{key:"append",value:function(){for(var c=arguments.length,d=
Array(c),e=0;e<c;e++)d[e]=arguments[e];for(c=0;c<d.length;c++){e=this.normalize(d[c],this.last);e=Z(e);var f;try{for(e.s();!(f=e.n()).done;)this.proxyOf.nodes.push(f.value)}catch(g){e.e(g)}finally{e.f()}}this.markDirty();return this}},{key:"cleanRaws",value:function(c){Lb(a,"cleanRaws",this,3)([c]);if(this.nodes){var d=Z(this.nodes),e;try{for(d.s();!(e=d.n()).done;)e.value.cleanRaws(c)}catch(f){d.e(f)}finally{d.f()}}}},{key:"each",value:function(c){if(this.proxyOf.nodes){for(var d=this.getIterator(),
e;this.indexes[d]<this.proxyOf.nodes.length;){e=this.indexes[d];e=c(this.proxyOf.nodes[e],e);if(!1===e)break;this.indexes[d]+=1}delete this.indexes[d];return e}}},{key:"every",value:function(c){return this.nodes.every(c)}},{key:"getIterator",value:function(){this.lastEach||(this.lastEach=0);this.indexes||(this.indexes={});var c=this.lastEach+=1;this.indexes[c]=0;return c}},{key:"getProxyProcessor",value:function(){return{get:function(c,d){return"proxyOf"===d?c:c[d]?"each"===d||"string"===typeof d&&
d.startsWith("walk")?function(){for(var e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];return c[d].apply(c,Yb(f.map(function(h){return"function"===typeof h?function(k,m){return h(k.toProxy(),m)}:h})))}:"every"===d||"some"===d?function(e){return c[d](function(f){for(var g=arguments.length,h=Array(1<g?g-1:0),k=1;k<g;k++)h[k-1]=arguments[k];return e.apply(void 0,[f.toProxy()].concat(h))})}:"root"===d?function(){return c.root().toProxy()}:"nodes"===d?c.nodes.map(function(e){return e.toProxy()}):
"first"===d||"last"===d?c[d].toProxy():c[d]:c[d]},set:function(c,d,e){if(c[d]===e)return!0;c[d]=e;"name"!==d&&"params"!==d&&"selector"!==d||c.markDirty();return!0}}}},{key:"index",value:function(c){if("number"===typeof c)return c;c.proxyOf&&(c=c.proxyOf);return this.proxyOf.nodes.indexOf(c)}},{key:"insertAfter",value:function(c,d){var e=this.index(c);d=this.normalize(d,this.proxyOf.nodes[e]).reverse();e=this.index(c);c=Z(d);var f;try{for(c.s();!(f=c.n()).done;)this.proxyOf.nodes.splice(e+1,0,f.value)}catch(h){c.e(h)}finally{c.f()}for(var g in this.indexes)f=
this.indexes[g],e<f&&(this.indexes[g]=f+d.length);this.markDirty();return this}},{key:"insertBefore",value:function(c,d){var e=this.index(c);d=this.normalize(d,this.proxyOf.nodes[e],0===e?"prepend":!1).reverse();e=this.index(c);c=Z(d);var f;try{for(c.s();!(f=c.n()).done;)this.proxyOf.nodes.splice(e,0,f.value)}catch(h){c.e(h)}finally{c.f()}for(var g in this.indexes)f=this.indexes[g],e<=f&&(this.indexes[g]=f+d.length);this.markDirty();return this}},{key:"normalize",value:function(c,d){var e=this;if("string"===
typeof c)c=Gi(Bl(c).nodes);else if("undefined"===typeof c)c=[];else if(Array.isArray(c)){c=c.slice(0);var f=Z(c),g;try{for(f.s();!(g=f.n()).done;){var h=g.value;h.parent&&h.parent.removeChild(h,"ignore")}}catch(m){f.e(m)}finally{f.f()}}else if("root"===c.type&&"document"!==this.type){c=c.nodes.slice(0);g=Z(c);try{for(g.s();!(f=g.n()).done;){var k=f.value;k.parent&&k.parent.removeChild(k,"ignore")}}catch(m){g.e(m)}finally{g.f()}}else if(c.type)c=[c];else if(c.prop){if("undefined"===typeof c.value)throw Error("Value field is missed in node creation");
"string"!==typeof c.value&&(c.value=String(c.value));c=[new yc(c)]}else if(c.selector)c=[new Ph(c)];else if(c.name)c=[new Qh(c)];else if(c.text)c=[new zc(c)];else throw Error("Unknown node type in node creation");return c.map(function(m){m[Of]||a.rebuild(m);m=m.proxyOf;m.parent&&m.parent.removeChild(m);m[Ii]&&Hi(m);"undefined"===typeof m.raws.before&&d&&"undefined"!==typeof d.raws.before&&(m.raws.before=d.raws.before.replace(/\S/g,""));m.parent=e.proxyOf;return m})}},{key:"prepend",value:function(){for(var c=
arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];d=d.reverse();c=Z(d);var f;try{for(c.s();!(f=c.n()).done;){var g=this.normalize(f.value,this.first,"prepend").reverse(),h=Z(g),k;try{for(h.s();!(k=h.n()).done;)this.proxyOf.nodes.unshift(k.value)}catch(u){h.e(u)}finally{h.f()}for(var m in this.indexes)this.indexes[m]+=g.length}}catch(u){c.e(u)}finally{c.f()}this.markDirty();return this}},{key:"push",value:function(c){c.parent=this;this.proxyOf.nodes.push(c);return this}},{key:"removeAll",value:function(){var c=
Z(this.proxyOf.nodes),d;try{for(c.s();!(d=c.n()).done;)d.value.parent=void 0}catch(e){c.e(e)}finally{c.f()}this.proxyOf.nodes=[];this.markDirty();return this}},{key:"removeChild",value:function(c){c=this.index(c);this.proxyOf.nodes[c].parent=void 0;this.proxyOf.nodes.splice(c,1);var d;for(d in this.indexes){var e=this.indexes[d];e>=c&&(this.indexes[d]=e-1)}this.markDirty();return this}},{key:"replaceValues",value:function(c,d,e){e||(e=d,d={});this.walkDecls(function(f){if(!d.props||d.props.includes(f.prop))if(!d.fast||
f.value.includes(d.fast))f.value=f.value.replace(c,e)});this.markDirty();return this}},{key:"some",value:function(c){return this.nodes.some(c)}},{key:"walk",value:function(c){return this.each(function(d,e){try{var f=c(d,e)}catch(g){throw d.addToError(g);}!1!==f&&d.walk&&(f=d.walk(c));return f})}},{key:"walkAtRules",value:function(c,d){return d?c instanceof RegExp?this.walk(function(e,f){if("atrule"===e.type&&c.test(e.name))return d(e,f)}):this.walk(function(e,f){if("atrule"===e.type&&e.name===c)return d(e,
f)}):(d=c,this.walk(function(e,f){if("atrule"===e.type)return d(e,f)}))}},{key:"walkComments",value:function(c){return this.walk(function(d,e){if("comment"===d.type)return c(d,e)})}},{key:"walkDecls",value:function(c,d){return d?c instanceof RegExp?this.walk(function(e,f){if("decl"===e.type&&c.test(e.prop))return d(e,f)}):this.walk(function(e,f){if("decl"===e.type&&e.prop===c)return d(e,f)}):(d=c,this.walk(function(e,f){if("decl"===e.type)return d(e,f)}))}},{key:"walkRules",value:function(c,d){return d?
c instanceof RegExp?this.walk(function(e,f){if("rule"===e.type&&c.test(e.selector))return d(e,f)}):this.walk(function(e,f){if("rule"===e.type&&e.selector===c)return d(e,f)}):(d=c,this.walk(function(e,f){if("rule"===e.type)return d(e,f)}))}},{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}])}(Kd);hb.registerParse=function(b){Bl=b};hb.registerRule=function(b){Ph=
b};hb.registerAtRule=function(b){Qh=b};hb.registerRoot=function(b){Cl=b};hb.default=hb;hb.rebuild=function(b){"atrule"===b.type?Object.setPrototypeOf(b,Qh.prototype):"rule"===b.type?Object.setPrototypeOf(b,Ph.prototype):"decl"===b.type?Object.setPrototypeOf(b,yc.prototype):"comment"===b.type?Object.setPrototypeOf(b,zc.prototype):"root"===b.type&&Object.setPrototypeOf(b,Cl.prototype);b[Of]=!0;b.nodes&&b.nodes.forEach(function(a){hb.rebuild(a)})};var Dl,El,Ac=function(b){function a(c){ia(this,a);c=
lb(this,a,[ma({type:"document"},c)]);c.nodes||(c.nodes=[]);return c}mb(a,b);return ja(a,[{key:"toResult",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(new Dl(new El,this,c)).stringify()}}])}(hb);Ac.registerLazyResult=function(b){Dl=b};Ac.registerProcessor=function(b){El=b};Ac.default=Ac;var Fl={},Gl=function(b){Fl[b]||(Fl[b]=!0,"undefined"!==typeof console&&console.warn&&console.warn(b))},Tf=function(){function b(a){var c=1<arguments.length&&void 0!==arguments[1]?
arguments[1]:{};ia(this,b);this.type="warning";this.text=a;if(c.node&&c.node.source){var d=c.node.rangeBy(c);this.line=d.start.line;this.column=d.start.column;this.endLine=d.end.line;this.endColumn=d.end.column}for(var e in c)this[e]=c[e]}return ja(b,[{key:"toString",value:function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}])}();Tf.default=Tf;var Ld=function(){function b(a,c,d){ia(this,
b);this.processor=a;this.messages=[];this.root=c;this.opts=d;this.map=this.css=void 0}return ja(b,[{key:"toString",value:function(){return this.css}},{key:"warn",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!c.plugin&&this.lastPlugin&&this.lastPlugin.postcssPlugin&&(c.plugin=this.lastPlugin.postcssPlugin);c=new Tf(a,c);this.messages.push(c);return c}},{key:"warnings",value:function(){return this.messages.filter(function(a){return"warning"===a.type})}},{key:"content",
get:function(){return this.css}}])}();Ld.default=Ld;var Uf=/[\t\n\f\r "#'()/;[\\\]{}]/g,Vf=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,gq=/.[\r\n"'(/\\]/,Hl=/[\da-f]/i,id=function(b){function a(c){ia(this,a);c=lb(this,a,[c]);c.type="atrule";return c}mb(a,b);return ja(a,[{key:"append",value:function(){this.proxyOf.nodes||(this.nodes=[]);for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return Lb(a,"append",this,3)(d)}},{key:"prepend",value:function(){this.proxyOf.nodes||(this.nodes=[]);
for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return Lb(a,"prepend",this,3)(d)}}])}(hb);id.default=id;hb.registerAtRule(id);var Il,Jl,Kb=function(b){function a(c){ia(this,a);c=lb(this,a,[c]);c.type="root";c.nodes||(c.nodes=[]);return c}mb(a,b);return ja(a,[{key:"normalize",value:function(c,d,e){c=Lb(a,"normalize",this,3)([c]);if(d)if("prepend"===e)1<this.nodes.length?d.raws.before=this.nodes[1].raws.before:delete d.raws.before;else if(this.first!==d){e=Z(c);var f;try{for(e.s();!(f=
e.n()).done;)f.value.raws.before=d.raws.before}catch(g){e.e(g)}finally{e.f()}}return c}},{key:"removeChild",value:function(c,d){var e=this.index(c);!d&&0===e&&1<this.nodes.length&&(this.nodes[1].raws.before=this.nodes[e].raws.before);return Lb(a,"removeChild",this,3)([c])}},{key:"toResult",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(new Il(new Jl,this,c)).stringify()}}])}(hb);Kb.registerLazyResult=function(b){Il=b};Kb.registerProcessor=function(b){Jl=b};
Kb.default=Kb;hb.registerRoot(Kb);var Ie={comma:function(b){return Ie.split(b,[","],!0)},space:function(b){return Ie.split(b,[" ","\n","\t"])},split:function(b,a,c){var d=[],e="",f=!1,g=0,h=!1,k="",m=!1;b=Z(b);var u;try{for(b.s();!(u=b.n()).done;){var n=u.value;m?m=!1:"\\"===n?m=!0:h?n===k&&(h=!1):'"'===n||"'"===n?(h=!0,k=n):"("===n?g+=1:")"===n?0<g&&--g:0===g&&a.includes(n)&&(f=!0);f?(""!==e&&d.push(e.trim()),e="",f=!1):e+=n}}catch(t){b.e(t)}finally{b.f()}(c||""!==e)&&d.push(e.trim());return d}},
Kl=Ie;Ie.default=Ie;var Bc=function(b){function a(c){ia(this,a);c=lb(this,a,[c]);c.type="rule";c.nodes||(c.nodes=[]);return c}mb(a,b);return ja(a,[{key:"selectors",get:function(){return Kl.comma(this.selector)},set:function(c){var d=this.selector?this.selector.match(/,\s*/):null;d=d?d[0]:","+this.raw("between","beforeOpen");this.selector=c.join(d)}}])}(hb);Bc.default=Bc;hb.registerRule(Bc);var hq=function(b){function a(y){throw b.error("Unclosed "+y,p);}var c=b.css.valueOf(),d=(1<arguments.length&&
void 0!==arguments[1]?arguments[1]:{}).ignoreErrors,e,f,g,h,k,m,u,n,t,l,q=c.length,p=0,v=[],w=[];return{back:function(y){w.push(y)},endOfFile:function(){return 0===w.length&&p>=q},nextToken:function(y){if(w.length)return w.pop();if(!(p>=q)){y=y?y.ignoreUnclosed:!1;e=c.charCodeAt(p);switch(e){case 10:case 32:case 9:case 13:case 12:f=p;do f+=1,e=c.charCodeAt(f);while(32===e||10===e||9===e||13===e||12===e);l=["space",c.slice(p,f)];p=f-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:y=
String.fromCharCode(e);l=[y,y,p];break;case 40:n=v.length?v.pop()[1]:"";t=c.charCodeAt(p+1);if("url"===n&&39!==t&&34!==t&&32!==t&&10!==t&&9!==t&&12!==t&&13!==t){f=p;do{m=!1;f=c.indexOf(")",f+1);if(-1===f)if(d||y){f=p;break}else a("bracket");for(u=f;92===c.charCodeAt(u-1);)--u,m=!m}while(m);l=["brackets",c.slice(p,f+1),p,f];p=f}else f=c.indexOf(")",p+1),h=c.slice(p,f+1),-1===f||gq.test(h)?l=["(","(",p]:(l=["brackets",h,p,f],p=f);break;case 39:case 34:g=39===e?"'":'"';f=p;do{m=!1;f=c.indexOf(g,f+1);
if(-1===f)if(d||y){f=p+1;break}else a("string");for(u=f;92===c.charCodeAt(u-1);)--u,m=!m}while(m);l=["string",c.slice(p,f+1),p,f];p=f;break;case 64:Uf.lastIndex=p+1;Uf.test(c);f=0===Uf.lastIndex?c.length-1:Uf.lastIndex-2;l=["at-word",c.slice(p,f+1),p,f];p=f;break;case 92:f=p;for(k=!0;92===c.charCodeAt(f+1);)f+=1,k=!k;e=c.charCodeAt(f+1);if(k&&47!==e&&32!==e&&10!==e&&9!==e&&13!==e&&12!==e&&(f+=1,Hl.test(c.charAt(f)))){for(;Hl.test(c.charAt(f+1));)f+=1;32===c.charCodeAt(f+1)&&(f+=1)}l=["word",c.slice(p,
f+1),p,f];p=f;break;default:47===e&&42===c.charCodeAt(p+1)?(f=c.indexOf("*/",p+2)+1,0===f&&(d||y?f=c.length:a("comment")),l=["comment",c.slice(p,f+1),p,f]):(Vf.lastIndex=p+1,Vf.test(c),f=0===Vf.lastIndex?c.length-1:Vf.lastIndex-2,l=["word",c.slice(p,f+1),p,f],v.push(l)),p=f}p++;return l}},position:function(){return p}}},Ll={empty:!0,space:!0},hn=function(){function b(a){ia(this,b);this.input=a;this.current=this.root=new Kb;this.spaces="";this.semicolon=!1;this.createTokenizer();this.root.source={input:a,
start:{column:1,line:1,offset:0}}}return ja(b,[{key:"atrule",value:function(a){var c=new id;c.name=a[1].slice(1);""===c.name&&this.unnamedAtrule(c,a);this.init(c,a[2]);var d,e=!1,f=!1,g=[];for(d=[];!this.tokenizer.endOfFile();){a=this.tokenizer.nextToken();var h=a[0];"("===h||"["===h?d.push("("===h?")":"]"):"{"===h&&0<d.length?d.push("}"):h===d[d.length-1]&&d.pop();if(0===d.length)if(";"===h){c.source.end=this.getPosition(a[2]);c.source.end.offset++;this.semicolon=!0;break}else if("{"===h){f=!0;break}else if("}"===
h){if(0<g.length){d=g.length-1;for(h=g[d];h&&"space"===h[0];)h=g[--d];h&&(c.source.end=this.getPosition(h[3]||h[2]),c.source.end.offset++)}this.end(a);break}else g.push(a);else g.push(a);if(this.tokenizer.endOfFile()){e=!0;break}}c.raws.between=this.spacesAndCommentsFromEnd(g);g.length?(c.raws.afterName=this.spacesAndCommentsFromStart(g),this.raw(c,"params",g),e&&(a=g[g.length-1],c.source.end=this.getPosition(a[3]||a[2]),c.source.end.offset++,this.spaces=c.raws.between,c.raws.between="")):(c.raws.afterName=
"",c.params="");f&&(c.nodes=[],this.current=c)}},{key:"checkMissedSemicolon",value:function(a){var c=this.colon(a);if(!1!==c){var d=0;for(--c;0<=c;c--){var e=a[c];if("space"!==e[0]&&(d+=1,2===d))break}throw this.input.error("Missed semicolon","word"===e[0]?e[3]+1:e[2]);}}},{key:"colon",value:function(a){var c=0;a=Z(a.entries());var d;try{for(a.s();!(d=a.n()).done;){var e=Xa(d.value,2),f=e[0];var g=e[1];var h=g[0];"("===h&&(c+=1);")"===h&&--c;if(0===c&&":"===h)if(k)if("word"===k[0]&&"progid"===k[1])continue;
else return f;else this.doubleColon(g);var k=g}}catch(m){a.e(m)}finally{a.f()}return!1}},{key:"comment",value:function(a){var c=new zc;this.init(c,a[2]);c.source.end=this.getPosition(a[3]||a[2]);c.source.end.offset++;a=a[1].slice(2,-2);/^\s*$/.test(a)?(c.text="",c.raws.left=a,c.raws.right=""):(a=a.match(/^(\s*)([^]*\S)(\s*)$/),c.text=a[2],c.raws.left=a[1],c.raws.right=a[3])}},{key:"createTokenizer",value:function(){this.tokenizer=hq(this.input)}},{key:"decl",value:function(a,c){var d=new yc;this.init(d,
a[0][2]);var e=a[a.length-1];";"===e[0]&&(this.semicolon=!0,a.pop());d.source.end=this.getPosition(e[3]||e[2]||fn(a));for(d.source.end.offset++;"word"!==a[0][0];)1===a.length&&this.unknownWord(a),d.raws.before+=a.shift()[1];d.source.start=this.getPosition(a[0][2]);for(d.prop="";a.length;){e=a[0][0];if(":"===e||"space"===e||"comment"===e)break;d.prop+=a.shift()[1]}d.raws.between="";for(var f;a.length;)if(f=a.shift(),":"===f[0]){d.raws.between+=f[1];break}else"word"===f[0]&&/\w/.test(f[1])&&this.unknownWord([f]),
d.raws.between+=f[1];if("_"===d.prop[0]||"*"===d.prop[0])d.raws.before+=d.prop[0],d.prop=d.prop.slice(1);for(e=[];a.length;){f=a[0][0];if("space"!==f&&"comment"!==f)break;e.push(a.shift())}this.precheckMissedSemicolon(a);for(var g=a.length-1;0<=g;g--){f=a[g];if("!important"===f[1].toLowerCase()){d.important=!0;f=this.stringFrom(a,g);f=this.spacesFromEnd(a)+f;" !important"!==f&&(d.raws.important=f);break}else if("important"===f[1].toLowerCase()){for(var h=a.slice(0),k="",m=g;0<m;m--){var u=h[m][0];
if(0===k.trim().indexOf("!")&&"space"!==u)break;k=h.pop()[1]+k}0===k.trim().indexOf("!")&&(d.important=!0,d.raws.important=k,a=h)}if("space"!==f[0]&&"comment"!==f[0])break}a.some(function(n){return"space"!==n[0]&&"comment"!==n[0]})&&(d.raws.between+=e.map(function(n){return n[1]}).join(""),e=[]);this.raw(d,"value",e.concat(a),c);d.value.includes(":")&&!c&&this.checkMissedSemicolon(a)}},{key:"doubleColon",value:function(a){throw this.input.error("Double colon",{offset:a[2]},{offset:a[2]+a[1].length});
}},{key:"emptyRule",value:function(a){var c=new Bc;this.init(c,a[2]);c.selector="";c.raws.between="";this.current=c}},{key:"end",value:function(a){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon);this.semicolon=!1;this.current.raws.after=(this.current.raws.after||"")+this.spaces;this.spaces="";this.current.parent?(this.current.source.end=this.getPosition(a[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(a)}},{key:"endFile",
value:function(){this.current.parent&&this.unclosedBlock();this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon);this.current.raws.after=(this.current.raws.after||"")+this.spaces;this.root.source.end=this.getPosition(this.tokenizer.position())}},{key:"freeSemicolon",value:function(a){this.spaces+=a[1];this.current.nodes&&(a=this.current.nodes[this.current.nodes.length-1])&&"rule"===a.type&&!a.raws.ownSemicolon&&(a.raws.ownSemicolon=this.spaces,this.spaces="")}},
{key:"getPosition",value:function(a){var c=this.input.fromOffset(a);return{column:c.col,line:c.line,offset:a}}},{key:"init",value:function(a,c){this.current.push(a);a.source={input:this.input,start:this.getPosition(c)};a.raws.before=this.spaces;this.spaces="";"comment"!==a.type&&(this.semicolon=!1)}},{key:"other",value:function(a){for(var c=!1,d=!1,e=null,f=[],g=a[1].startsWith("--"),h=[],k=a;k;){a=k[0];h.push(k);if("("===a||"["===a)e||(e=k),f.push("("===a?")":"]");else if(g&&d&&"{"===a)e||(e=k),
f.push("}");else if(0===f.length)if(";"===a){if(d){this.decl(h,g);return}break}else{if("{"===a){this.rule(h);return}if("}"===a){this.tokenizer.back(h.pop());c=!0;break}else":"===a&&(d=!0)}else a===f[f.length-1]&&(f.pop(),0===f.length&&(e=null));k=this.tokenizer.nextToken()}this.tokenizer.endOfFile()&&(c=!0);0<f.length&&this.unclosedBracket(e);if(c&&d){if(!g)for(;h.length;){k=h[h.length-1][0];if("space"!==k&&"comment"!==k)break;this.tokenizer.back(h.pop())}this.decl(h,g)}else this.unknownWord(h)}},
{key:"parse",value:function(){for(var a;!this.tokenizer.endOfFile();)switch(a=this.tokenizer.nextToken(),a[0]){case "space":this.spaces+=a[1];break;case ";":this.freeSemicolon(a);break;case "}":this.end(a);break;case "comment":this.comment(a);break;case "at-word":this.atrule(a);break;case "{":this.emptyRule(a);break;default:this.other(a)}this.endFile()}},{key:"precheckMissedSemicolon",value:function(){}},{key:"raw",value:function(a,c,d,e){for(var f,g,h=d.length,k="",m=!0,u,n=0;n<h;n+=1)f=d[n],g=f[0],
"space"!==g||n!==h-1||e?"comment"===g?(u=d[n-1]?d[n-1][0]:"empty",g=d[n+1]?d[n+1][0]:"empty",Ll[u]||Ll[g]?m=!1:","===k.slice(-1)?m=!1:k+=f[1]):k+=f[1]:m=!1;m||(d=d.reduce(function(t,l){return t+l[1]},""),a.raws[c]={raw:d,value:k});a[c]=k}},{key:"rule",value:function(a){a.pop();var c=new Bc;this.init(c,a[0][2]);c.raws.between=this.spacesAndCommentsFromEnd(a);this.raw(c,"selector",a);this.current=c}},{key:"spacesAndCommentsFromEnd",value:function(a){for(var c,d="";a.length;){c=a[a.length-1][0];if("space"!==
c&&"comment"!==c)break;d=a.pop()[1]+d}return d}},{key:"spacesAndCommentsFromStart",value:function(a){for(var c,d="";a.length;){c=a[0][0];if("space"!==c&&"comment"!==c)break;d+=a.shift()[1]}return d}},{key:"spacesFromEnd",value:function(a){for(var c,d="";a.length;){c=a[a.length-1][0];if("space"!==c)break;d=a.pop()[1]+d}return d}},{key:"stringFrom",value:function(a,c){for(var d="",e=c;e<a.length;e++)d+=a[e][1];a.splice(c,a.length-c);return d}},{key:"unclosedBlock",value:function(){var a=this.current.source.start;
throw this.input.error("Unclosed block",a.line,a.column);}},{key:"unclosedBracket",value:function(a){throw this.input.error("Unclosed bracket",{offset:a[2]},{offset:a[2]+1});}},{key:"unexpectedClose",value:function(a){throw this.input.error("Unexpected }",{offset:a[2]},{offset:a[2]+1});}},{key:"unknownWord",value:function(a){throw this.input.error("Unknown word",{offset:a[0][2]},{offset:a[0][2]+a[0][1].length});}},{key:"unnamedAtrule",value:function(a,c){throw this.input.error("At-rule without name",
{offset:c[2]},{offset:c[2]+c[1].length});}}])}(),gn=hd;sd.default=sd;hb.registerParse(sd);var Ob=Jd,jn={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},iq={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},jq={Once:!0,postcssPlugin:!0,prepare:!0},Rh={},jd=function(){function b(a,c,d){var e=this;ia(this,
b);this.processed=this.stringified=!1;if("object"!==W(c)||null===c||"root"!==c.type&&"document"!==c.type)if(c instanceof b||c instanceof Ld){var f=vg(c.root);c.map&&("undefined"===typeof d.map&&(d.map={}),d.map.inline||(d.map.inline=!1),d.map.prev=c.map)}else{var g=sd;d.syntax&&(g=d.syntax.parse);d.parser&&(g=d.parser);g.parse&&(g=g.parse);try{f=g(c,d)}catch(h){this.processed=!0,this.error=h}f&&!f[Of]&&hb.rebuild(f)}else f=vg(c);this.result=new Ld(a,f,d);this.helpers=ma(ma({},Rh),{},{postcss:Rh,result:this.result});
this.plugins=this.processor.plugins.map(function(h){return"object"===W(h)&&h.prepare?ma(ma({},h),h.prepare(e.result)):h})}return ja(b,[{key:"async",value:function(){if(this.error)return Promise.reject(this.error);if(this.processed)return Promise.resolve(this.result);this.processing||(this.processing=this.runAsync());return this.processing}},{key:"catch",value:function(a){return this.async().catch(a)}},{key:"finally",value:function(a){return this.async().then(a,a)}},{key:"getAsyncError",value:function(){throw Error("Use process(css).then(cb) to work with async plugins");
}},{key:"handleError",value:function(a,c){var d=this.result.lastPlugin;try{if(c&&c.addToError(a),this.error=a,"CssSyntaxError"===a.name&&!a.plugin)a.plugin=d.postcssPlugin,a.setMessage();else if(d.postcssVersion){var e=d.postcssPlugin,f=d.postcssVersion,g=this.result.processor.version,h=f.split("."),k=g.split(".");(h[0]!==k[0]||parseInt(h[1])>parseInt(k[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+g+", but "+e+" uses "+f+". Perhaps this is the source of the error below.")}}catch(m){console&&
console.error&&console.error(m)}return a}},{key:"prepareVisitors",value:function(){var a=this;this.listeners={};var c=function(k,m,u){a.listeners[m]||(a.listeners[m]=[]);a.listeners[m].push([k,u])},d=Z(this.plugins),e;try{for(d.s();!(e=d.n()).done;){var f=e.value;if("object"===W(f))for(var g in f){if(!iq[g]&&/^[A-Z]/.test(g))throw Error("Unknown event ".concat(g," in ").concat(f.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!jq[g])if("object"===W(f[g]))for(var h in f[g])"*"===
h?c(f,g,f[g][h]):c(f,g+"-"+h.toLowerCase(),f[g][h]);else"function"===typeof f[g]&&c(f,g,f[g])}}}catch(k){d.e(k)}finally{d.f()}this.hasListener=0<Object.keys(this.listeners).length}},{key:"runAsync",value:function(){var a=Zf(Eb().mark(function d(){var e=this,f,g,h,k,m,u,n,t,l,q;return Eb().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:f=this.plugin=0;case 2:if(!(f<this.plugins.length)){p.next=17;break}g=this.plugins[f];h=this.runOnRoot(g);if(!be(h)){p.next=14;break}p.prev=6;p.next=9;return h;
case 9:p.next=14;break;case 11:throw p.prev=11,p.t0=p["catch"](6),this.handleError(p.t0);case 14:f++;p.next=2;break;case 17:this.prepareVisitors();if(!this.hasListener){p.next=56;break}k=this.result.root;case 20:if(k[Ob]){p.next=39;break}k[Ob]=!0;m=[Ki(k)];case 23:if(!(0<m.length)){p.next=37;break}u=this.visitTick(m);if(!be(u)){p.next=35;break}p.prev=26;p.next=29;return u;case 29:p.next=35;break;case 31:throw p.prev=31,p.t1=p["catch"](26),n=m[m.length-1].node,this.handleError(p.t1,n);case 35:p.next=
23;break;case 37:p.next=20;break;case 39:if(!this.listeners.OnceExit){p.next=56;break}t=Z(this.listeners.OnceExit);p.prev=41;q=Eb().mark(function w(){var y,B,G,H;return Eb().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:y=Xa(l.value,2);B=y[0];G=y[1];e.result.lastPlugin=B;E.prev=2;if("document"!==k.type){E.next=9;break}H=k.nodes.map(function(F){return G(F,e.helpers)});E.next=7;return Promise.all(H);case 7:E.next=11;break;case 9:return E.next=11,G(k,e.helpers);case 11:E.next=16;break;case 13:throw E.prev=
13,E.t0=E["catch"](2),e.handleError(E.t0);case 16:case "end":return E.stop()}},w,null,[[2,13]])});t.s();case 44:if((l=t.n()).done){p.next=48;break}return p.delegateYield(q(),"t2",46);case 46:p.next=44;break;case 48:p.next=53;break;case 50:p.prev=50,p.t3=p["catch"](41),t.e(p.t3);case 53:return p.prev=53,t.f(),p.finish(53);case 56:return this.processed=!0,p.abrupt("return",this.stringify());case 58:case "end":return p.stop()}},d,this,[[6,11],[26,31],[41,50,53,56]])}));return function(){return a.apply(this,
arguments)}}()},{key:"runOnRoot",value:function(a){var c=this;this.result.lastPlugin=a;try{if("object"===W(a)&&a.Once){if("document"===this.result.root.type){var d=this.result.root.nodes.map(function(e){return a.Once(e,c.helpers)});return be(d[0])?Promise.all(d):d}return a.Once(this.result.root,this.helpers)}if("function"===typeof a)return a(this.result.root,this.result)}catch(e){throw this.handleError(e);}}},{key:"stringify",value:function(){if(this.error)throw this.error;if(this.stringified)return this.result;
this.stringified=!0;this.sync();var a=this.result.opts,c=rd;a.syntax&&(c=a.syntax.stringify);a.stringifier&&(c=a.stringifier);c.stringify&&(c=c.stringify);a=(new Al(c,this.result.root,this.result.opts)).generate();this.result.css=a[0];this.result.map=a[1];return this.result}},{key:"sync",value:function(){if(this.error)throw this.error;if(this.processed)return this.result;this.processed=!0;if(this.processing)throw this.getAsyncError();var a=Z(this.plugins),c;try{for(a.s();!(c=a.n()).done;){var d=this.runOnRoot(c.value);
if(be(d))throw this.getAsyncError();}}catch(f){a.e(f)}finally{a.f()}this.prepareVisitors();if(this.hasListener){for(a=this.result.root;!a[Ob];)a[Ob]=!0,this.walkSync(a);if(this.listeners.OnceExit)if("document"===a.type){a=Z(a.nodes);var e;try{for(a.s();!(e=a.n()).done;)this.visitSync(this.listeners.OnceExit,e.value)}catch(f){a.e(f)}finally{a.f()}}else this.visitSync(this.listeners.OnceExit,a)}return this.result}},{key:"then",value:function(a,c){"from"in this.opts||Gl("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.");
return this.async().then(a,c)}},{key:"toString",value:function(){return this.css}},{key:"visitSync",value:function(a,c){a=Z(a);var d;try{for(a.s();!(d=a.n()).done;){var e=Xa(d.value,2),f=e[1];this.result.lastPlugin=e[0];var g=void 0;try{g=f(c,this.helpers)}catch(h){throw this.handleError(h,c.proxyOf);}if("root"!==c.type&&"document"!==c.type&&!c.parent)return!0;if(be(g))throw this.getAsyncError();}}catch(h){a.e(h)}finally{a.f()}}},{key:"visitTick",value:function(a){var c=a[a.length-1],d=c.node,e=c.visitors;
if("root"===d.type||"document"===d.type||d.parent){if(0<e.length&&c.visitorIndex<e.length){var f=Xa(e[c.visitorIndex],2);a=f[0];f=f[1];c.visitorIndex+=1;c.visitorIndex===e.length&&(c.visitors=[],c.visitorIndex=0);this.result.lastPlugin=a;try{return f(d.toProxy(),this.helpers)}catch(g){throw this.handleError(g,d);}}if(0!==c.iterator){for(e=c.iterator;f=d.nodes[d.indexes[e]];)if(d.indexes[e]+=1,!f[Ob]){f[Ob]=!0;a.push(Ki(f));return}c.iterator=0;delete d.indexes[e]}for(e=c.events;c.eventIndex<e.length;){f=
e[c.eventIndex];c.eventIndex+=1;if(0===f){d.nodes&&d.nodes.length&&(d[Ob]=!0,c.iterator=d.getIterator());return}if(this.listeners[f]){c.visitors=this.listeners[f];return}}}a.pop()}},{key:"walkSync",value:function(a){var c=this;a[Ob]=!0;var d=Ji(a);d=Z(d);var e;try{for(d.s();!(e=d.n()).done;){var f=e.value;if(0===f)a.nodes&&a.each(function(h){h[Ob]||c.walkSync(h)});else{var g=this.listeners[f];if(g&&this.visitSync(g,a.toProxy()))break}}}catch(h){d.e(h)}finally{d.f()}}},{key:"warnings",value:function(){return this.sync().warnings()}},
{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}])}();jd.registerPostcss=function(b){Rh=
b};jd.default=jd;Kb.registerLazyResult(jd);Ac.registerLazyResult(jd);var Sh=function(){function b(a,c,d){ia(this,b);c=c.toString();this.stringified=!1;this._processor=a;this._css=c;this._opts=d;this._map=void 0;this.result=new Ld(this._processor,void 0,this._opts);this.result.css=c;var e=this;Object.defineProperty(this.result,"root",{get:function(){return e.root}});a=new Al(rd,void 0,this._opts,c);a.isMap()?(a=a.generate(),c=Xa(a,2),a=c[0],c=c[1],a&&(this.result.css=a),c&&(this.result.map=c)):(a.clearAnnotation(),
this.result.css=a.css)}return ja(b,[{key:"async",value:function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}},{key:"catch",value:function(a){return this.async().catch(a)}},{key:"finally",value:function(a){return this.async().then(a,a)}},{key:"sync",value:function(){if(this.error)throw this.error;return this.result}},{key:"then",value:function(a,c){"from"in this._opts||Gl("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.");
return this.async().then(a,c)}},{key:"toString",value:function(){return this._css}},{key:"warnings",value:function(){return[]}},{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;
try{var a=sd(this._css,this._opts)}catch(c){this.error=c}if(this.error)throw this.error;return this._root=a}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}])}();Sh.default=Sh;var Je=function(){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];ia(this,b);this.version="8.4.38";this.plugins=this.normalize(a)}return ja(b,[{key:"normalize",value:function(a){var c=[];a=Z(a);var d;try{for(a.s();!(d=a.n()).done;){var e=d.value;!0===e.postcss?e=e():e.postcss&&(e=
e.postcss);if("object"===W(e)&&Array.isArray(e.plugins))c=c.concat(e.plugins);else if("object"===W(e)&&e.postcssPlugin)c.push(e);else if("function"===typeof e)c.push(e);else{if("object"===W(e)&&(e.parse||e.stringify))throw Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.");throw Error(e+" is not a PostCSS plugin");}}}catch(f){a.e(f)}finally{a.f()}return c}},{key:"process",value:function(a){var c=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.plugins.length||c.parser||c.stringifier||c.syntax?new jd(this,a,c):new Sh(this,a,c)}},{key:"use",value:function(a){this.plugins=this.plugins.concat(this.normalize([a]));return this}}])}();Je.default=Je;Kb.registerProcessor(Je);Ac.registerProcessor(Je);var pn=yc,mn=Pf,rn=zc,sn=id,ln=hd,on=Kb,qn=Bc;ce.default=ce;var wg=Je;Ca.plugin=function(b,a){function c(){console&&console.warn&&!d&&(d=!0,console.warn(b+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),
process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(b+": \u91cc\u9762 postcss.plugin \u88ab\u5f03\u7528. \u8fc1\u79fb\u6307\u5357:\nhttps://www.w3ctech.com/topic/2226"));var f=a.apply(void 0,arguments);f.postcssPlugin=b;f.postcssVersion=(new wg).version;return f}var d=!1,e;Object.defineProperty(c,"postcss",{get:function(){e||(e=c());return e}});c.process=function(f,g,h){return Ca([c(h)]).process(f,g)};return c};Ca.stringify=rd;Ca.parse=sd;Ca.fromJSON=ce;Ca.list=Kl;Ca.comment=function(b){return new zc(b)};
Ca.atRule=function(b){return new id(b)};Ca.decl=function(b){return new yc(b)};Ca.rule=function(b){return new Bc(b)};Ca.root=function(b){return new Kb(b)};Ca.document=function(b){return new Ac(b)};Ca.CssSyntaxError=Id;Ca.Declaration=yc;Ca.Container=hb;Ca.Processor=wg;Ca.Document=Ac;Ca.Comment=zc;Ca.Warning=Tf;Ca.AtRule=id;Ca.Result=Ld;Ca.Input=hd;Ca.Rule=Bc;Ca.Root=Kb;Ca.Node=Kd;jd.registerPostcss(Ca);Ca.default=Ca;var Ra=function(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?
b["default"]:b}(Ca);Ra.stringify;Ra.fromJSON;Ra.plugin;Ra.parse;Ra.list;Ra.document;Ra.comment;Ra.atRule;Ra.rule;Ra.decl;Ra.root;Ra.CssSyntaxError;Ra.Declaration;Ra.Container;Ra.Processor;Ra.Document;Ra.Comment;Ra.Warning;Ra.AtRule;Ra.Result;Ra.Input;Ra.Rule;Ra.Root;Ra.Node;var un=function(){function b(){ia(this,b);Cb(this,"parentElement",null);Cb(this,"parentNode",null);Cb(this,"ownerDocument");Cb(this,"firstChild",null);Cb(this,"lastChild",null);Cb(this,"previousSibling",null);Cb(this,"nextSibling",
null);Cb(this,"ELEMENT_NODE",1);Cb(this,"TEXT_NODE",3);Cb(this,"nodeType");Cb(this,"nodeName");Cb(this,"RRNodeType")}return ja(b,[{key:"childNodes",get:function(){for(var a=[],c=this.firstChild;c;)a.push(c),c=c.nextSibling;return a}},{key:"contains",value:function(a){if(a instanceof b){if(a.ownerDocument!==this.ownerDocument)return!1;if(a===this)return!0}else return!1;for(;a.parentNode;){if(a.parentNode===this)return!0;a=a.parentNode}return!1}},{key:"appendChild",value:function(a){throw Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.");
}},{key:"insertBefore",value:function(a,c){throw Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.");}},{key:"removeChild",value:function(a){throw Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.");}},{key:"toString",value:function(){return"RRNode"}}])}(),Li={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot",
"querySelector","querySelectorAll"],MutationObserver:[]},Mi={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Ue={},yg={},zg={},ra={childNodes:function(b){return lc("Node",b,"childNodes")},parentNode:function(b){return lc("Node",b,"parentNode")},parentElement:function(b){return lc("Node",b,"parentElement")},textContent:function(b){return lc("Node",b,"textContent")},contains:function(b,a){return Ni("Node",b,"contains")(a)},getRootNode:function(b){return Ni("Node",
b,"getRootNode")()},host:function(b){return b&&"host"in b?lc("ShadowRoot",b,"host"):null},styleSheets:function(b){return b.styleSheets},shadowRoot:function(b){return b&&"shadowRoot"in b?lc("Element",b,"shadowRoot"):null},querySelector:function(b,a){return lc("Element",b,"querySelector")(a)},querySelectorAll:function(b,a){return lc("Element",b,"querySelectorAll")(a)},mutationObserver:Oi},Ml={map:{},getId:function(){console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.");
return-1},getNode:function(){console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.");return null},removeNodeFromMap:function(){console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.")},
has:function(){console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.");return!1},reset:function(){console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.")}};
"undefined"!==typeof window&&window.Proxy&&window.Reflect&&(Ml=new Proxy(Ml,{get:function(b,a,c){"map"===a&&console.error("Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.");return Reflect.get(b,a,c)}}));var We=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(We=function(){return(new Date).getTime()});var kq=function(){function b(){ia(this,
b);O(this,"id",1);O(this,"styleIDMap",new WeakMap);O(this,"idStyleMap",new Map)}return ja(b,[{key:"getId",value:function(a){var c;return null!==(c=this.styleIDMap.get(a))&&void 0!==c?c:-1}},{key:"has",value:function(a){return this.styleIDMap.has(a)}},{key:"add",value:function(a,c){if(this.has(a))return this.getId(a);c=void 0===c?this.id++:c;this.styleIDMap.set(a,c);this.idStyleMap.set(c,a);return c}},{key:"getStyle",value:function(a){return this.idStyleMap.get(a)||null}},{key:"reset",value:function(){this.styleIDMap=
new WeakMap;this.idStyleMap=new Map;this.id=1}},{key:"generateId",value:function(){return this.id++}}])}(),za=function(b){b[b.DomContentLoaded=0]="DomContentLoaded";b[b.Load=1]="Load";b[b.FullSnapshot=2]="FullSnapshot";b[b.IncrementalSnapshot=3]="IncrementalSnapshot";b[b.Meta=4]="Meta";b[b.Custom=5]="Custom";b[b.Plugin=6]="Plugin";return b}(za||{}),ta=function(b){b[b.Mutation=0]="Mutation";b[b.MouseMove=1]="MouseMove";b[b.MouseInteraction=2]="MouseInteraction";b[b.Scroll=3]="Scroll";b[b.ViewportResize=
4]="ViewportResize";b[b.Input=5]="Input";b[b.TouchMove=6]="TouchMove";b[b.MediaInteraction=7]="MediaInteraction";b[b.StyleSheetRule=8]="StyleSheetRule";b[b.CanvasMutation=9]="CanvasMutation";b[b.Font=10]="Font";b[b.Log=11]="Log";b[b.Drag=12]="Drag";b[b.StyleDeclaration=13]="StyleDeclaration";b[b.Selection=14]="Selection";b[b.AdoptedStyleSheet=15]="AdoptedStyleSheet";b[b.CustomElement=16]="CustomElement";return b}(ta||{}),ub=function(b){b[b.MouseUp=0]="MouseUp";b[b.MouseDown=1]="MouseDown";b[b.Click=
2]="Click";b[b.ContextMenu=3]="ContextMenu";b[b.DblClick=4]="DblClick";b[b.Focus=5]="Focus";b[b.Blur=6]="Blur";b[b.TouchStart=7]="TouchStart";b[b.TouchMove_Departed=8]="TouchMove_Departed";b[b.TouchEnd=9]="TouchEnd";b[b.TouchCancel=10]="TouchCancel";return b}(ub||{}),mc=function(b){b[b.Mouse=0]="Mouse";b[b.Pen=1]="Pen";b[b.Touch=2]="Touch";return b}(mc||{}),vd=function(b){b[b["2D"]=0]="2D";b[b.WebGL=1]="WebGL";b[b.WebGL2=2]="WebGL2";return b}(vd||{}),ud=function(b){b[b.Play=0]="Play";b[b.Pause=1]=
"Pause";b[b.Seeked=2]="Seeked";b[b.VolumeChange=3]="VolumeChange";b[b.RateChange=4]="RateChange";return b}(ud||{}),Nl=function(b){b[b.Document=0]="Document";b[b.DocumentType=1]="DocumentType";b[b.Element=2]="Element";b[b.Text=3]="Text";b[b.CDATA=4]="CDATA";b[b.Comment=5]="Comment";return b}(Nl||{}),lq=function(){function b(){ia(this,b);O(this,"length",0);O(this,"head",null);O(this,"tail",null)}return ja(b,[{key:"get",value:function(a){if(a>=this.length)throw Error("Position outside of list range");
for(var c=this.head,d=0;d<a;d++)c=(null==c?void 0:c.next)||null;return c}},{key:"addNode",value:function(a){var c={value:a,previous:null,next:null};a.__ln=c;if(a.previousSibling&&"__ln"in a.previousSibling){var d=a.previousSibling.__ln.next;c.next=d;c.previous=a.previousSibling.__ln;a.previousSibling.__ln.next=c;d&&(d.previous=c)}else a.nextSibling&&"__ln"in a.nextSibling&&a.nextSibling.__ln.previous?(d=a.nextSibling.__ln.previous,c.previous=d,c.next=a.nextSibling.__ln,a.nextSibling.__ln.previous=
c,d&&(d.next=c)):(this.head&&(this.head.previous=c),c.next=this.head,this.head=c);null===c.next&&(this.tail=c);this.length++}},{key:"removeNode",value:function(a){var c=a.__ln;this.head&&(c.previous?(c.previous.next=c.next)?c.next.previous=c.previous:this.tail=c.previous:(this.head=c.next)?this.head.previous=null:this.tail=null,a.__ln&&delete a.__ln,this.length--)}}])}(),Ol=function(b,a){return"".concat(b,"@").concat(a)},wn=function(){function b(){var a=this;ia(this,b);O(this,"frozen",!1);O(this,
"locked",!1);O(this,"texts",[]);O(this,"attributes",[]);O(this,"attributeMap",new WeakMap);O(this,"removes",[]);O(this,"mapRemoves",[]);O(this,"movedMap",{});O(this,"addedSet",new Set);O(this,"movedSet",new Set);O(this,"droppedSet",new Set);O(this,"removesSubTreeCache",new Set);O(this,"mutationCb");O(this,"blockClass");O(this,"blockSelector");O(this,"maskTextClass");O(this,"maskTextSelector");O(this,"inlineStylesheet");O(this,"maskInputOptions");O(this,"maskTextFn");O(this,"maskInputFn");O(this,"keepIframeSrcFn");
O(this,"recordCanvas");O(this,"inlineImages");O(this,"slimDOMOptions");O(this,"dataURLOptions");O(this,"doc");O(this,"mirror");O(this,"iframeManager");O(this,"stylesheetManager");O(this,"shadowDomManager");O(this,"canvasManager");O(this,"processedNodeManager");O(this,"unattachedDoc");O(this,"processMutations",function(c){c.forEach(a.processMutation);a.emit()});O(this,"emit",function(){if(!a.frozen&&!a.locked){for(var c=[],d=new Set,e=new lq,f=function(t){for(var l=-2;-2===l;)l=(t=t&&t.nextSibling)&&
a.mirror.getId(t);return l},g=function(t){var l=ra.parentNode(t);if(l&&Wi(t)){var q=!1;if(t.nodeType===Node.TEXT_NODE){var p=l.tagName;if("TEXTAREA"===p)return;"STYLE"===p&&a.addedSet.has(l)&&(q=!0)}l=Yd(l)?a.mirror.getId(Vi(t)):a.mirror.getId(l);p=f(t);if(-1===l||-1===p)return e.addNode(t);if(q=od(t,{doc:a.doc,mirror:a.mirror,blockClass:a.blockClass,blockSelector:a.blockSelector,maskTextClass:a.maskTextClass,maskTextSelector:a.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:a.inlineStylesheet,
maskInputOptions:a.maskInputOptions,maskTextFn:a.maskTextFn,maskInputFn:a.maskInputFn,slimDOMOptions:a.slimDOMOptions,dataURLOptions:a.dataURLOptions,recordCanvas:a.recordCanvas,inlineImages:a.inlineImages,onSerialize:function(v){"IFRAME"===v.nodeName&&a.mirror.getMeta(v)&&a.iframeManager.addIframe(v);Ui(v,a.mirror)&&a.stylesheetManager.trackLinkElement(v);Bg(t)&&a.shadowDomManager.addShadowRoot(ra.shadowRoot(t),a.doc)},onIframeLoad:function(v,w){a.iframeManager.attachIframe(v,w);a.shadowDomManager.observeAttachShadow(v)},
onStylesheetLoad:function(v,w){a.stylesheetManager.attachLinkElement(v,w)},cssCaptured:q}))c.push({parentId:l,nextId:p,node:q}),d.add(q.id)}};a.mapRemoves.length;)a.mirror.removeNodeFromMap(a.mapRemoves.shift());var h=Z(a.movedSet),k;try{for(h.s();!(k=h.n()).done;){var m=k.value;Xi(a.removesSubTreeCache,m,a.mirror)&&!a.movedSet.has(ra.parentNode(m))||g(m)}}catch(t){h.e(t)}finally{h.f()}h=Z(a.addedSet);var u;try{for(h.s();!(u=h.n()).done;){var n=u.value;Yi(a.droppedSet,n)||Xi(a.removesSubTreeCache,
n,a.mirror)?Yi(a.movedSet,n)?g(n):a.droppedSet.add(n):g(n)}}catch(t){h.e(t)}finally{h.f()}for(n=null;e.length;){u=null;n&&(h=a.mirror.getId(ra.parentNode(n.value)),k=f(n.value),-1!==h&&-1!==k&&(u=n));if(!u)for(n=e.tail;n;)if(h=n,n=n.previous,h&&(k=a.mirror.getId(ra.parentNode(h.value)),-1!==f(h.value)))if(-1!==k){u=h;break}else if((k=ra.parentNode(h.value))&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(k=ra.host(k),-1!==a.mirror.getId(k))){u=h;break}if(!u){for(;e.head;)e.removeNode(e.head.value);break}n=
u.previous;e.removeNode(u.value);g(u.value)}g={texts:a.texts.map(function(t){var l=t.node,q=ra.parentNode(l);q&&"TEXTAREA"===q.tagName&&a.genTextAreaValueMutation(q);return{id:a.mirror.getId(l),value:t.value}}).filter(function(t){return!d.has(t.id)}).filter(function(t){return a.mirror.has(t.id)}),attributes:a.attributes.map(function(t){var l=t.attributes;if("string"===typeof l.style){var q=JSON.stringify(t.styleDiff),p=JSON.stringify(t._unchangedStyles);q.length<l.style.length&&(q+p).split("var(").length===
l.style.split("var(").length&&(l.style=t.styleDiff)}return{id:a.mirror.getId(t.node),attributes:l}}).filter(function(t){return!d.has(t.id)}).filter(function(t){return a.mirror.has(t.id)}),removes:a.removes,adds:c};if(g.texts.length||g.attributes.length||g.removes.length||g.adds.length)a.texts=[],a.attributes=[],a.attributeMap=new WeakMap,a.removes=[],a.addedSet=new Set,a.movedSet=new Set,a.droppedSet=new Set,a.removesSubTreeCache=new Set,a.movedMap={},a.mutationCb(g)}});O(this,"genTextAreaValueMutation",
function(c){var d=a.attributeMap.get(c);d||(d={node:c,attributes:{},styleDiff:{},_unchangedStyles:{}},a.attributes.push(d),a.attributeMap.set(c,d));d.attributes.value=Array.from(ra.childNodes(c),function(e){return ra.textContent(e)||""}).join("")});O(this,"processMutation",function(c){if(!Ag(c.target,a.mirror,a.slimDOMOptions))switch(c.type){case "characterData":var d=ra.textContent(c.target);rb(c.target,a.blockClass,a.blockSelector,!1)||d===c.oldValue||a.texts.push({value:yi(c.target,a.maskTextClass,
a.maskTextSelector,!0)&&d?a.maskTextFn?a.maskTextFn(d,Si(c.target)):d.replace(/[\S]/g,"*"):d,node:c.target});break;case "attributes":d=c.target;var e=c.attributeName,f=c.target.getAttribute(e);if("value"===e){var g=og(d);f=ng({element:d,maskInputOptions:a.maskInputOptions,tagName:d.tagName,type:g,value:f,maskInputFn:a.maskInputFn})}if(rb(c.target,a.blockClass,a.blockSelector,!1)||f===c.oldValue)break;g=a.attributeMap.get(c.target);if("IFRAME"===d.tagName&&"src"===e&&!a.keepIframeSrcFn(f))if(d.contentDocument)break;
else e="rr_src";g||(g={node:c.target,attributes:{},styleDiff:{},_unchangedStyles:{}},a.attributes.push(g),a.attributeMap.set(c.target,g));"type"===e&&"INPUT"===d.tagName&&"password"===(c.oldValue||"").toLowerCase()&&d.setAttribute("data-rr-is-password","true");if(!xi(d.tagName,e))if(g.attributes[e]=wi(a.doc,d.tagName.toLowerCase(),e.toLowerCase(),f),"style"===e){if(!a.unattachedDoc)try{a.unattachedDoc=document.implementation.createHTMLDocument()}catch(n){a.unattachedDoc=a.doc}e=a.unattachedDoc.createElement("span");
c.oldValue&&e.setAttribute("style",c.oldValue);f=0;for(var h=Array.from(d.style);f<h.length;f++){var k=h[f],m=d.style.getPropertyValue(k),u=d.style.getPropertyPriority(k);m!==e.style.getPropertyValue(k)||u!==e.style.getPropertyPriority(k)?g.styleDiff[k]=""===u?m:[m,u]:g._unchangedStyles[k]=[m,u]}f=0;for(e=Array.from(e.style);f<e.length;f++)h=e[f],""===d.style.getPropertyValue(h)&&(g.styleDiff[h]=!1)}else"open"===e&&"DIALOG"===d.tagName&&(d.matches("dialog:modal")?g.attributes.rr_open_mode="modal":
g.attributes.rr_open_mode="non-modal");break;case "childList":rb(c.target,a.blockClass,a.blockSelector,!0)||("TEXTAREA"===c.target.tagName?a.genTextAreaValueMutation(c.target):(c.addedNodes.forEach(function(n){return a.genAdds(n,c.target)}),c.removedNodes.forEach(function(n){var t=a.mirror.getId(n),l=Yd(c.target)?a.mirror.getId(ra.host(c.target)):a.mirror.getId(c.target);rb(c.target,a.blockClass,a.blockSelector,!1)||Ag(n,a.mirror,a.slimDOMOptions)||-1===a.mirror.getId(n)||(a.addedSet.has(n)?(Cg(a.addedSet,
n),a.droppedSet.add(n)):a.addedSet.has(c.target)&&-1===t||Ti(c.target,a.mirror)||(a.movedSet.has(n)&&a.movedMap[Ol(t,l)]?Cg(a.movedSet,n):(a.removes.push({parentId:l,id:t,isShadow:Yd(c.target)&&Zd(c.target)?!0:void 0}),vn(n,a.removesSubTreeCache))),a.mapRemoves.push(n))})))}});O(this,"genAdds",function(c,d){if(!a.processedNodeManager.inOtherBuffer(c,a)&&!a.addedSet.has(c)&&!a.movedSet.has(c)){if(a.mirror.hasNode(c)){if(Ag(c,a.mirror,a.slimDOMOptions))return;a.movedSet.add(c);var e=null;d&&a.mirror.hasNode(d)&&
(e=a.mirror.getId(d));e&&-1!==e&&(a.movedMap[Ol(a.mirror.getId(c),e)]=!0)}else a.addedSet.add(c),a.droppedSet.delete(c);rb(c,a.blockClass,a.blockSelector,!1)||(ra.childNodes(c).forEach(function(f){return a.genAdds(f)}),Bg(c)&&ra.childNodes(ra.shadowRoot(c)).forEach(function(f){a.processedNodeManager.add(f,a);a.genAdds(f,c)}))}})}return ja(b,[{key:"init",value:function(a){var c=this;"mutationCb blockClass blockSelector maskTextClass maskTextSelector inlineStylesheet maskInputOptions maskTextFn maskInputFn keepIframeSrcFn recordCanvas inlineImages slimDOMOptions dataURLOptions doc mirror iframeManager stylesheetManager shadowDomManager canvasManager processedNodeManager".split(" ").forEach(function(d){c[d]=
a[d]})}},{key:"freeze",value:function(){this.frozen=!0;this.canvasManager.freeze()}},{key:"unfreeze",value:function(){this.frozen=!1;this.canvasManager.unfreeze();this.emit()}},{key:"isFrozen",value:function(){return this.frozen}},{key:"lock",value:function(){this.locked=!0;this.canvasManager.lock()}},{key:"unlock",value:function(){this.locked=!1;this.canvasManager.unlock();this.emit()}},{key:"reset",value:function(){this.shadowDomManager.reset();this.canvasManager.reset()}}])}(),fe,sa=function(b){return fe?
function(){try{return b.apply(void 0,arguments)}catch(a){if(!fe||!0!==fe(a))throw a;}}:b},Gc=[],Bn=["INPUT","TEXTAREA","SELECT"],bj=new WeakMap,Pl=function(){function b(a){ia(this,b);O(this,"iframeIdToRemoteIdMap",new WeakMap);O(this,"iframeRemoteIdToIdMap",new WeakMap);this.generateIdFn=a}return ja(b,[{key:"getId",value:function(a,c,d,e){d=d||this.getIdToRemoteIdMap(a);a=e||this.getRemoteIdToIdMap(a);e=d.get(c);e||(e=this.generateIdFn(),d.set(c,e),a.set(e,c));return e}},{key:"getIds",value:function(a,
c){var d=this,e=this.getIdToRemoteIdMap(a),f=this.getRemoteIdToIdMap(a);return c.map(function(g){return d.getId(a,g,e,f)})}},{key:"getRemoteId",value:function(a,c,d){a=d||this.getRemoteIdToIdMap(a);return"number"!==typeof c?c:(c=a.get(c))?c:-1}},{key:"getRemoteIds",value:function(a,c){var d=this,e=this.getRemoteIdToIdMap(a);return c.map(function(f){return d.getRemoteId(a,f,e)})}},{key:"reset",value:function(a){a?(this.iframeIdToRemoteIdMap.delete(a),this.iframeRemoteIdToIdMap.delete(a)):(this.iframeIdToRemoteIdMap=
new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap)}},{key:"getIdToRemoteIdMap",value:function(a){var c=this.iframeIdToRemoteIdMap.get(a);c||(c=new Map,this.iframeIdToRemoteIdMap.set(a,c));return c}},{key:"getRemoteIdToIdMap",value:function(a){var c=this.iframeRemoteIdToIdMap.get(a);c||(c=new Map,this.iframeRemoteIdToIdMap.set(a,c));return c}}])}(),Pn=function(){function b(a){ia(this,b);O(this,"iframes",new WeakMap);O(this,"crossOriginIframeMap",new WeakMap);O(this,"crossOriginIframeMirror",new Pl(Cm));
O(this,"crossOriginIframeStyleMirror");O(this,"crossOriginIframeRootIdMap",new WeakMap);O(this,"mirror");O(this,"mutationCb");O(this,"wrappedEmit");O(this,"loadListener");O(this,"stylesheetManager");O(this,"recordCrossOriginIframes");this.mutationCb=a.mutationCb;this.wrappedEmit=a.wrappedEmit;this.stylesheetManager=a.stylesheetManager;this.recordCrossOriginIframes=a.recordCrossOriginIframes;this.crossOriginIframeStyleMirror=new Pl(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror));
this.mirror=a.mirror;this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}return ja(b,[{key:"addIframe",value:function(a){this.iframes.set(a,!0);a.contentWindow&&this.crossOriginIframeMap.set(a.contentWindow,a)}},{key:"addLoadListener",value:function(a){this.loadListener=a}},{key:"attachIframe",value:function(a,c){var d,e;this.mutationCb({adds:[{parentId:this.mirror.getId(a),nextId:null,node:c}],removes:[],texts:[],attributes:[],isAttachIframe:!0});this.recordCrossOriginIframes&&
(null==(d=a.contentWindow)?void 0:d.addEventListener("message",this.handleMessage.bind(this)));null==(e=this.loadListener)?void 0:e.call(this,a);a.contentDocument&&a.contentDocument.adoptedStyleSheets&&0<a.contentDocument.adoptedStyleSheets.length&&this.stylesheetManager.adoptStyleSheets(a.contentDocument.adoptedStyleSheets,this.mirror.getId(a.contentDocument))}},{key:"handleMessage",value:function(a){if("rrweb"===a.data.type&&a.origin===a.data.origin&&a.source){var c=this.crossOriginIframeMap.get(a.source);
c&&(c=this.transformCrossOriginEvent(c,a.data.event))&&this.wrappedEmit(c,a.data.isCheckout)}}},{key:"transformCrossOriginEvent",value:function(a,c){var d=this;switch(c.type){case za.FullSnapshot:this.crossOriginIframeMirror.reset(a);this.crossOriginIframeStyleMirror.reset(a);this.replaceIdOnNode(c.data.node,a);var e=c.data.node.id;this.crossOriginIframeRootIdMap.set(a,e);this.patchRootIdOnNode(c.data.node,e);return{timestamp:c.timestamp,type:za.IncrementalSnapshot,data:{source:ta.Mutation,adds:[{parentId:this.mirror.getId(a),
nextId:null,node:c.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}};case za.Plugin:return c;case za.Custom:return this.replaceIds(c.data.payload,a,["id","parentId","previousId","nextId"]),c;case za.IncrementalSnapshot:switch(c.data.source){case ta.Mutation:return c.data.adds.forEach(function(f){d.replaceIds(f,a,["parentId","nextId","previousId"]);d.replaceIdOnNode(f.node,a);var g=d.crossOriginIframeRootIdMap.get(a);g&&d.patchRootIdOnNode(f.node,g)}),c.data.removes.forEach(function(f){d.replaceIds(f,
a,["parentId","id"])}),c.data.attributes.forEach(function(f){d.replaceIds(f,a,["id"])}),c.data.texts.forEach(function(f){d.replaceIds(f,a,["id"])}),c;case ta.Drag:case ta.TouchMove:case ta.MouseMove:return c.data.positions.forEach(function(f){d.replaceIds(f,a,["id"])}),c;case ta.MediaInteraction:case ta.MouseInteraction:case ta.Scroll:case ta.CanvasMutation:case ta.Input:return this.replaceIds(c.data,a,["id"]),c;case ta.StyleSheetRule:case ta.StyleDeclaration:return this.replaceIds(c.data,a,["id"]),
this.replaceStyleIds(c.data,a,["styleId"]),c;case ta.Font:return c;case ta.Selection:return c.data.ranges.forEach(function(f){d.replaceIds(f,a,["start","end"])}),c;case ta.AdoptedStyleSheet:return this.replaceIds(c.data,a,["id"]),this.replaceStyleIds(c.data,a,["styleIds"]),null==(e=c.data.styles)?void 0:e.forEach(function(f){d.replaceStyleIds(f,a,["styleId"])}),c}}return!1}},{key:"replace",value:function(a,c,d,e){e=Z(e);var f;try{for(e.s();!(f=e.n()).done;){var g=f.value;if(Array.isArray(c[g])||"number"===
typeof c[g])Array.isArray(c[g])?c[g]=a.getIds(d,c[g]):c[g]=a.getId(d,c[g])}}catch(h){e.e(h)}finally{e.f()}return c}},{key:"replaceIds",value:function(a,c,d){return this.replace(this.crossOriginIframeMirror,a,c,d)}},{key:"replaceStyleIds",value:function(a,c,d){return this.replace(this.crossOriginIframeStyleMirror,a,c,d)}},{key:"replaceIdOnNode",value:function(a,c){var d=this;this.replaceIds(a,c,["id","rootId"]);"childNodes"in a&&a.childNodes.forEach(function(e){d.replaceIdOnNode(e,c)})}},{key:"patchRootIdOnNode",
value:function(a,c){var d=this;a.type===Nl.Document||a.rootId||(a.rootId=c);"childNodes"in a&&a.childNodes.forEach(function(e){d.patchRootIdOnNode(e,c)})}}])}(),Sn=function(){function b(a){ia(this,b);O(this,"shadowDoms",new WeakSet);O(this,"mutationCb");O(this,"scrollCb");O(this,"bypassOptions");O(this,"mirror");O(this,"restoreHandlers",[]);this.mutationCb=a.mutationCb;this.scrollCb=a.scrollCb;this.bypassOptions=a.bypassOptions;this.mirror=a.mirror;this.init()}return ja(b,[{key:"init",value:function(){this.reset();
this.patchAttachShadow(Element,document)}},{key:"addShadowRoot",value:function(a,c){var d=this;if(Zd(a)&&!this.shadowDoms.has(a)){this.shadowDoms.add(a);var e=$i(ma(ma({},this.bypassOptions),{},{doc:c,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),a);this.restoreHandlers.push(function(){return e.disconnect()});this.restoreHandlers.push(aj(ma(ma({},this.bypassOptions),{},{scrollCb:this.scrollCb,doc:a,mirror:this.mirror})));setTimeout(function(){a.adoptedStyleSheets&&0<a.adoptedStyleSheets.length&&
d.bypassOptions.stylesheetManager.adoptStyleSheets(a.adoptedStyleSheets,d.mirror.getId(ra.host(a)));d.restoreHandlers.push(cj({mirror:d.mirror,stylesheetManager:d.bypassOptions.stylesheetManager},a))},0)}}},{key:"observeAttachShadow",value:function(a){a.contentWindow&&a.contentDocument&&this.patchAttachShadow(a.contentWindow.Element,a.contentDocument)}},{key:"patchAttachShadow",value:function(a,c){var d=this;this.restoreHandlers.push(td(a.prototype,"attachShadow",function(e){return function(f){f=
e.call(this,f);var g=ra.shadowRoot(this);g&&Wi(this)&&d.addShadowRoot(g,c);return f}}))}},{key:"reset",value:function(){this.restoreHandlers.forEach(function(a){try{a()}catch(c){}});this.restoreHandlers=[];this.shadowDoms=new WeakSet}}])}(),mq="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Wf=0;for(;64>Wf;Wf++)mq["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Wf)]=Wf;var Kn=function(b){b=new Uint8Array(b);var a,c=b.length,d="";for(a=0;a<c;a+=3)d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b[a]>>
2],d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(b[a]&3)<<4|b[a+1]>>4],d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(b[a+1]&15)<<2|b[a+2]>>6],d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b[a+2]&63];2===c%3?d=d.substring(0,d.length-1)+"=":1===c%3&&(d=d.substring(0,d.length-2)+"==");return d},Ql=new Map,ej=function(b,a,c){if(b&&(dj(b,a)||"object"===W(b))){a=b.constructor.name;var d=Ql.get(c);d||(d=new Map,Ql.set(c,d));d.has(a)||
d.set(a,[]);c=d.get(a);a=c.indexOf(b);-1===a&&(a=c.length,c.push(b));return a}},fj=function(b,a,c){return b.map(function(d){return $e(d,a,c)})},dj=function(b,a){return!!"WebGLActiveInfo WebGLBuffer WebGLFramebuffer WebGLProgram WebGLRenderbuffer WebGLShader WebGLShaderPrecisionFormat WebGLTexture WebGLUniformLocation WebGLVertexArrayObject WebGLVertexArrayObjectOES".split(" ").filter(function(c){return"function"===typeof a[c]}).find(function(c){return b instanceof a[c]})},nq=function(b){return Uint8Array.from(atob(b),
function(a){return a.charCodeAt(0)})},ij="undefined"!==typeof window&&window.Blob&&new Blob([nq("KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=")],
{type:"text/javascript;charset=utf-8"}),Rn=function(){function b(a){var c=this;ia(this,b);O(this,"pendingCanvasMutations",new Map);O(this,"rafStamps",{latestId:0,invokeId:null});O(this,"mirror");O(this,"mutationCb");O(this,"resetObservers");O(this,"frozen",!1);O(this,"locked",!1);O(this,"processMutation",function(m,u){if(c.rafStamps.invokeId&&c.rafStamps.latestId!==c.rafStamps.invokeId||!c.rafStamps.invokeId)c.rafStamps.invokeId=c.rafStamps.latestId;c.pendingCanvasMutations.has(m)||c.pendingCanvasMutations.set(m,
[]);c.pendingCanvasMutations.get(m).push(u)});var d=a.sampling;d=void 0===d?"all":d;var e=a.win,f=a.blockClass,g=a.blockSelector,h=a.recordCanvas,k=a.dataURLOptions;this.mutationCb=a.mutationCb;this.mirror=a.mirror;h&&"all"===d&&this.initCanvasMutationObserver(e,f,g);h&&"number"===typeof d&&this.initCanvasFPSObserver(d,e,f,g,{dataURLOptions:k})}return ja(b,[{key:"reset",value:function(){this.pendingCanvasMutations.clear();this.resetObservers&&this.resetObservers()}},{key:"freeze",value:function(){this.frozen=
!0}},{key:"unfreeze",value:function(){this.frozen=!1}},{key:"lock",value:function(){this.locked=!0}},{key:"unlock",value:function(){this.locked=!1}},{key:"initCanvasFPSObserver",value:function(a,c,d,e,f){var g=this,h=gj(c,d,e,!0),k=new Map,m=new Nn;m.onmessage=function(p){var v=p.data.id;k.set(v,!1);"base64"in p.data&&(p=p.data,g.mutationCb({id:v,type:vd["2D"],commands:[{property:"clearRect",args:[0,0,p.width,p.height]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",
base64:p.base64}],type:p.type}]},0,0]}]}))};var u=1E3/a,n=0,t=function(){var p=[];c.document.querySelectorAll("canvas").forEach(function(v){rb(v,d,e,!0)||p.push(v)});return p},l=function(p){n&&p-n<u||(n=p,t().forEach(function(){var v=Zf(Eb().mark(function B(y){var G,H,E,F;return Eb().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:H=g.mirror.getId(y);if(!k.get(H)){I.next=3;break}return I.abrupt("return");case 3:if(0!==y.width&&0!==y.height){I.next=5;break}return I.abrupt("return");case 5:return k.set(H,
!0),["webgl","webgl2"].includes(y.__context)&&(E=y.getContext(y.__context),!1===(null==(G=null==E?void 0:E.getContextAttributes())?void 0:G.preserveDrawingBuffer)&&E.clear(E.COLOR_BUFFER_BIT)),I.next=9,createImageBitmap(y);case 9:F=I.sent,m.postMessage({id:H,bitmap:F,width:y.width,height:y.height,dataURLOptions:f.dataURLOptions},[F]);case 11:case "end":return I.stop()}},B)}));return function(y){return v.apply(this,arguments)}}()));q=requestAnimationFrame(l)};var q=requestAnimationFrame(l);this.resetObservers=
function(){h();cancelAnimationFrame(q)}}},{key:"initCanvasMutationObserver",value:function(a,c,d){this.startRAFTimestamping();this.startPendingCanvasMutationFlusher();var e=gj(a,c,d,!1),f=Ln(this.processMutation.bind(this),a,c,d),g=Mn(this.processMutation.bind(this),a,c,d);this.resetObservers=function(){e();f();g()}}},{key:"startPendingCanvasMutationFlusher",value:function(){var a=this;requestAnimationFrame(function(){return a.flushPendingCanvasMutations()})}},{key:"startRAFTimestamping",value:function(){var a=
this,c=function(d){a.rafStamps.latestId=d;requestAnimationFrame(c)};requestAnimationFrame(c)}},{key:"flushPendingCanvasMutations",value:function(){var a=this;this.pendingCanvasMutations.forEach(function(c,d){c=a.mirror.getId(d);a.flushPendingCanvasMutationFor(d,c)});requestAnimationFrame(function(){return a.flushPendingCanvasMutations()})}},{key:"flushPendingCanvasMutationFor",value:function(a,c){if(!this.frozen&&!this.locked){var d=this.pendingCanvasMutations.get(a);if(d&&-1!==c){var e=d.map(function(f){f.type;
return Qd(f,Hp)});this.mutationCb({id:c,type:d[0].type,commands:e});this.pendingCanvasMutations.delete(a)}}}}])}(),On=function(){function b(a){ia(this,b);O(this,"trackedLinkElements",new WeakSet);O(this,"mutationCb");O(this,"adoptedStyleSheetCb");O(this,"styleMirror",new kq);this.mutationCb=a.mutationCb;this.adoptedStyleSheetCb=a.adoptedStyleSheetCb}return ja(b,[{key:"attachLinkElement",value:function(a,c){"_cssText"in c.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:c.id,
attributes:c.attributes}]});this.trackLinkElement(a)}},{key:"trackLinkElement",value:function(a){this.trackedLinkElements.has(a)||(this.trackedLinkElements.add(a),this.trackStylesheetInLinkElement(a))}},{key:"adoptStyleSheets",value:function(a,c){var d=this;if(0!==a.length){var e={id:c,styleIds:[]},f=[];a=Z(a);var g;try{for(c=function(){var h=g.value;if(d.styleMirror.has(h))var k=d.styleMirror.getId(h);else k=d.styleMirror.add(h),f.push({styleId:k,rules:Array.from(h.rules||CSSRule,function(m,u){return{rule:si(m,
h.href),index:u}})});e.styleIds.push(k)},a.s();!(g=a.n()).done;)c()}catch(h){a.e(h)}finally{a.f()}0<f.length&&(e.styles=f);this.adoptedStyleSheetCb(e)}}},{key:"reset",value:function(){this.styleMirror.reset();this.trackedLinkElements=new WeakSet}},{key:"trackStylesheetInLinkElement",value:function(a){}}])}(),Qn=function(){function b(){ia(this,b);O(this,"nodeMap",new WeakMap);O(this,"active",!1)}return ja(b,[{key:"inOtherBuffer",value:function(a,c){return(a=this.nodeMap.get(a))&&Array.from(a).some(function(d){return d!==
c})}},{key:"add",value:function(a,c){var d=this;this.active||(this.active=!0,requestAnimationFrame(function(){d.nodeMap=new WeakMap;d.active=!1}));this.nodeMap.set(a,(this.nodeMap.get(a)||new Set).add(c))}},{key:"destroy",value:function(){}}])}(),Ta,af,Dg,bf=!1;try{if(2!==Array.from([1],function(b){return 2*b})[0]){var Th=document.createElement("iframe");document.body.appendChild(Th);Array.from=(null==(Pk=Th.contentWindow)?void 0:Pk.Array.from)||Array.from;document.body.removeChild(Th)}}catch(b){console.debug("Unable to override Array.from",
b)}var Fb=new Ai;Hc.addCustomEvent=function(b,a){if(!bf)throw Error("please add custom event after start recording");Ta({type:za.Custom,data:{tag:b,payload:a}})};Hc.freezePage=function(){Gc.forEach(function(b){return b.freeze()})};Hc.takeFullSnapshot=function(b){if(!bf)throw Error("please take full snapshot after start recording");af(b)};Hc.mirror=Fb;var Rl;!function(b){b[b.NotStarted=0]="NotStarted";b[b.Running=1]="Running";b[b.Stopped=2]="Stopped"}(Rl||(Rl={}));var Sl;(function(b){b.BRAND="DeviceBrand";
b.MANUFACTURER="DeviceManufacturer";b.MODEL="DeviceModel";b.TYPE="DeviceType";b.VERSION="DeviceVersion";b.OS_NAME="OperatingSystemName";b.OS_VERSION="OperatingSystemVersion";b.CATEGORY="DeviceCategory";b.FRAMEWORK_NAME="FrameworkName";b.FRAMEWORK_VERSION="FrameworkVersion"})(Sl||(Sl={}));var fh={DeviceType:{CONSOLE:"Console",DESKTOP:"DESKTOP",MOBILE:"Mobile",SETTOP:"Settop",SMARTTV:"SmartTV",TABLET:"Tablet",VEHICLE:"Vehicle",OTHER:"Other"},DeviceCategory:{ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",
DESKTOP_APP:"DSKAPP",DEVICE_SIMULATOR:"SIMULATOR",KAIOS_DEVICE:"KAIOS",LG_TV:"LGTV",LINUX:"LNX",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",VIDAA_DEVICE:"VIDAA",VIZIO_TV:"VIZIOTV",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB"}},J;(function(b){var a;b.TRACEPARENT_HEADER_KEY="traceparent";var c;(function(e){e.NONE="NONE";e.RCFG="RCFG"})(c=b.SAMPLING_MODES||(b.SAMPLING_MODES={}));(function(e){e.DERIVED="DERIVED";e.DEFAULT="DEFAULT"})(b.SAMPLING_STATUS||(b.SAMPLING_STATUS={}));var d;
(function(e){e.SAMPLED="sl";e.NON_SAMPLED="nsl"})(d=b.SAMPLING_ACTION||(b.SAMPLING_ACTION={}));b.DEFAULT_SAMPLING_ACTION=(a={},a[d.SAMPLED]=c.RCFG,a[d.NON_SAMPLED]=c.NONE,a);(function(e){e.DEFAULT="def";e.CACHED="cac";e.REMOTE="rem"})(b.CONFIG_SOURCE||(b.CONFIG_SOURCE={}));(function(e){e[e.APP=0]="APP";e[e.REMOTE=1]="REMOTE";e[e.MERGE=2]="MERGE"})(b.CONFIG_PREFERENCES||(b.CONFIG_PREFERENCES={}));(function(e){e[e.DISABLED=0]="DISABLED";e[e.PERFORMANCE_TIMING=1]="PERFORMANCE_TIMING";e[e.PERFORMANCE_NAVIGATION_TIMING=
2]="PERFORMANCE_NAVIGATION_TIMING"})(b.PERFORMANCE_CONTEXT||(b.PERFORMANCE_CONTEXT={}));(function(e){e.DO_NOT_FETCH_UPDATE_TIMER="updateTimer";e.IMMEDIATE_FETCH="urgentFetch";e.UPDATE_TIMER_WITH_DIFF="checkDiff"})(b.RC_FETCH_MODE||(b.RC_FETCH_MODE={}));b.REMOTE_CONFIG_STORAGE_KEY="ConvivaRemoteConfig";b.END_POINT_STORAGE_KEY="ConvivaEndpoint";b.DEFAULT_END_POINT="https://appgw.conviva.com";b.REMOTE_CONFIG_URL_PREFIX="https://rc.conviva.com/js/";b.REMOTE_CONFIG_FILE_NAME="/remote_config.json";b.SAMPLING_STORAGE_RANDOM_NUMBER_KEY=
"ConvivaSamplingRandomNumber";b.VISUAL_LABELLING_CONFIG="ConvivaVisualLabellingConfig";b.SESSION_RECORDING_STARTED="ConvivaSessionRecordingStarted";b.DIAGNOSTIC_INFO_MAX_LENGTH={MAX_MESSAGE_LENGTH:1024,MAX_STACK_LENGTH:2048,MAX_CLASSNAME_LENGTH:1024,MAX_EXCEPTION_NAME_LENGTH:1024};b.CLICK_KEY_MAX_LENGTH=1024;b.CLICK_DEBOUNCING_DELAY=300;b.CLICK_MAX_DEPTH=16;b.MAX_NATIVE_SCAN=16;b.MAX_NATIVE_SCAN_LEGACY=8;b.PAGE_URL_QUERY_PARAMS="pgq"})(J||(J={}));var Vb;"function"===typeof AbortController&&(Vb=new AbortController);
var sb=null===Vb||void 0===Vb?void 0:Vb.signal,Ma;(function(b){b.response_body="rsb";b.request_body="rqb";b.response_headers="rsh";b.request_headers="rqh";b.request_query="rqq"})(Ma||(Ma={}));var nj=function(b){try{var a=void 0;"undefined"!=typeof b&&null!==b&&(a=b["content-type"]||b["Content-Type"]||b["Content-type"]);return a}catch(c){}},Da={},Xf;(function(b){b.APPLICATION_BACKGROUND="abg";b.APPLICATION_ERROR="ae"})(Xf||(Xf={}));var ya={cacheRefreshInterval:30,base64:!1,lifecycleAutotracking:!0,
exceptionAutotracking:!0,enablePeriodicHeartbeat:!0,periodicHeartbeatInterval:40,customEventTrackingConfiguration:{enabled:!0},networkRequestTrackingConfiguration:{blocklist:["*"]},traceparentconfig:{enabled:!1,pref:J.CONFIG_PREFERENCES.MERGE,targetUrl:[]},performanceContextConfig:1,configurationVersion:-1,catRcLastUpdatedTs:0,endpoint:J.DEFAULT_END_POINT,applicationContext:!0,maxLocalStorageQueueSize:10,emitterConfiguration:{batching:{enabled:!0,byteLimitPostInKB:250,batchingIntervalInSec:5,urgentEvents:[Xf.APPLICATION_BACKGROUND,
Xf.APPLICATION_ERROR]}},enc:"gzip",mend:!0,di:{en:!1,lim:30},clickcc:{en:!0,cssSelectorList:'\n  [role="button"],\n  [data-role="button"],\n  li,\n  [class^="btn"],\n  [class*="click"],\n  [data-click],\n  [data-action],\n  [tabindex]:not([tabindex="-1"]),\n  [onclick],\n  [role="datepicker"],\n  [class*="datepicker"],\n  [class*="date-picker"],\n  [class*="mat-datepicker"],\n  [class*="ant-picker"],\n  [class*="v-date-picker"],\n  [class*="react-datepicker"],\n  [class*="ngx-datepicker"],\n  [data-ng-click],\n  [ng-click],\n  [v-on\\:click],\n  [\\@click],\n  [data-test-id*="click"],\n  [data-testid*="button"],\n  [class*="-btn"],\n  [class*="-button"],\n  [class*="mat-button"],\n  [class*="v-btn"],\n  [class*="v-icon-button"],\n  [data-listener-count-click],\n  [class*="Button"]\n',
uiMode:"closest"},collectionRateLimit:{exceptionAutotracking:{maxEvents:20,timeWindow:1E3,disconnectDuration:2E3}},evtStreamTrackingConfiguration:{enabled:!1,collect:[],block:[],conditionalCollectAttr:[]}},oq="cws.conviva.com rcg.conviva.com /wsg /ctp remote_config pings.conviva.com .m3u8 .mpd .ism .m4 .mp4 .ts .png .jpg .jpeg .bmp google-analytics.com googlesyndication.com googleapis stats.g.doubleclick chartbeat.com omtrdc.net app-measurement.com firebase nr-data.net newrelic bitmovin.com/impression bitmovin.com/analytics api.segment.io youbora hotjar mixpanel.com clevertap auryc .aac .vtt .googlevideo webp appsflyer facebook dynatrace mparticle npaw .pdf bookkeeper kochava mp3 marketingcloudapis demdex scorecardresearch lura.live perimeterx.net permutive.app segment.com vaicore.site boomtrain ketchcdn qualtrics .svg amplitude datadoghq branch.io hotjar splunkcloud".split(" "),
bc;(function(b){b.NONE="none";b.GZIP="gzip"})(bc||(bc={}));var Na,pq=function(b){var a={};b.trim().split(/[\r\n]+/).forEach(function(c){c=c.split(":");var d=c[1];a[c[0].trim()]=null===d||void 0===d?void 0:d.trim()});return a},Tl=function(b){var a={};b.forEach(function(c,d){a[d]=c});return a},eo="/ctp /wsg remote_config rc.conviva.com pings.conviva.com rcg.conviva.com".split(" "),Pb;(function(b){b[b.NETWORK_REQUEST=0]="NETWORK_REQUEST";b[b.CUSTOM_EVENT=1]="CUSTOM_EVENT";b[b.SSE_EVENT=2]="SSE_EVENT"})(Pb||
(Pb={}));var Ig=0,sj=0,Ua=J.CONFIG_SOURCE.DEFAULT,Wa=0,Uh,Vh,Wh,ke=!1,Jc=null,Fa,Jg=null,lf=0,uj='\n  button,\n  a,\n  select,\n  textarea,\n  input:not([type="hidden"]),\n  summary,\n  video,\n  audio\n'.replace(/\s+/g,"")||"",ko='\n[class*="card"]\n'.replace(/\s+/g,"")||"",Ul="undefined"!==typeof window&&(null===window||void 0===window?0:window.localStorage)?localStorage.getItem(J.REMOTE_CONFIG_STORAGE_KEY):null,Ic=Ul?null===(Vh=null===(Uh=JSON.parse(Ul).clickcc)||void 0===Uh?void 0:Uh.cssSelectorList)||
void 0===Vh?void 0:Vh.replace(/\s+/g,""):null===(Wh=ya.clickcc)||void 0===Wh?void 0:Wh.cssSelectorList,je;(function(b){b.BOTH="both";b.CLOSEST="closest";b.RAW="raw"})(je||(je={}));"undefined"!=typeof Element&&Element.prototype&&!Element.prototype.closest&&(Element.prototype.closest=function(b){try{for(var a=this;a;){if(a.matches(b))return a;a=a.parentElement}}catch(c){qa.warn("Conviva App Tracker caused Exception in closest polyfill method of user click tracking module",c)}return null});var qq=function(){return function(b){this.cacheRefreshInterval=
b.cacheRefreshInterval;this.base64=b.base64;this.corePlugins=b.corePlugins;this.callback=b.callback;this.lifecycleAutotracking=b.lifecycleAutotracking;this.exceptionAutotracking=b.exceptionAutotracking;this.enablePeriodicHeartbeat=b.enablePeriodicHeartbeat;this.periodicHeartbeatInterval=b.periodicHeartbeatInterval;this.enc=b.enc;this.maxLocalStorageQueueSize=b.maxLocalStorageQueueSize;this.maxPostBytes=b.maxPostBytes;this.maxGetBytes=b.maxGetBytes;this.bufferSize=b.bufferSize;this.customEventTrackingConfiguration=
b.customEventTrackingConfiguration;this.networkRequestTrackingConfiguration=b.networkRequestTrackingConfiguration;this.traceparentconfig=b.traceparentconfig;this.metaTagsTrackingConfiguration=b.metaTagsTrackingConfiguration;this.performanceContextConfig=b.performanceContextConfig;this.mend=b.mend;this.configurationVersion=b.configurationVersion;this.catRcLastUpdatedTs=b.catRcLastUpdatedTs;this.endpoint=b.endpoint;this.emitterConfiguration=b.emitterConfiguration;this.controlIngestConfig=b.controlIngestConfig;
this.applicationContext=b.applicationContext;this.di=b.di;this.clickcc=b.clickcc;this.collectionRateLimit=b.collectionRateLimit;this.pageUrlTrackingConfig=b.pageUrlTrackingConfig;this.sessionReplayConfiguration=b.sessionReplayConfiguration;this.evtStreamTrackingConfiguration=b.evtStreamTrackingConfiguration}}(),Vl=function(){function b(){this.cacheRefreshInterval=ya.cacheRefreshInterval;this.base64=ya.base64;this.lifecycleAutotracking=ya.lifecycleAutotracking;this.exceptionAutotracking=ya.exceptionAutotracking;
this.enablePeriodicHeartbeat=ya.enablePeriodicHeartbeat;this.periodicHeartbeatInterval=ya.periodicHeartbeatInterval;this.customEventTrackingConfiguration=ha({},ya.customEventTrackingConfiguration);this.networkRequestTrackingConfiguration=ha({},ya.networkRequestTrackingConfiguration);this.traceparentconfig=ha({},ya.traceparentconfig);this.performanceContextConfig=ya.performanceContextConfig;this.configurationVersion=ya.configurationVersion;this.catRcLastUpdatedTs=ya.catRcLastUpdatedTs;this.endpoint=
ya.endpoint;this.emitterConfiguration=ya.emitterConfiguration;this.applicationContext=ya.applicationContext;this.enc=ya.enc;this.mend=ya.mend;this.di=ha({},ya.di);this.clickcc=ha({},ya.clickcc);this.collectionRateLimit=ha({},ya.collectionRateLimit);this.evtStreamTrackingConfiguration=ha({},ya.evtStreamTrackingConfiguration)}b.prototype.setCacheRefreshInterval=function(a){this.cacheRefreshInterval="number"===typeof a&&1<=a?ge(a)?a:ya.cacheRefreshInterval:ya.cacheRefreshInterval;return this};b.prototype.setBase64=
function(a){"boolean"===typeof a&&(this.base64=a);return this};b.prototype.setCorePlugins=function(a){a&&(this.corePlugins=a);return this};b.prototype.setCallback=function(a){a&&(this.callback=a);return this};b.prototype.setLifecycleAutotracking=function(a){"boolean"===typeof a&&(this.lifecycleAutotracking=a);return this};b.prototype.setExceptionAutotracking=function(a){"boolean"===typeof a&&(this.exceptionAutotracking=a);return this};b.prototype.setEnablePeriodicHeartbeat=function(a){"boolean"===
typeof a&&(this.enablePeriodicHeartbeat=a);return this};b.prototype.setPeriodicHeartbeatInterval=function(a){"number"===typeof a&&1<=a&&(this.periodicHeartbeatInterval=~~a);return this};b.prototype.setEnc=function(a,c){"string"===typeof a&&Object.values(bc).includes(a)?this.enc=a:c&&"string"===typeof c&&Object.values(bc).includes(c)?this.enc=c:this.enc=ya.enc;return this};b.prototype.setMaxLocalStorageQueueSize=function(a){"number"===typeof a&&(this.maxLocalStorageQueueSize=a);return this};b.prototype.setMaxGetBytes=
function(a){"number"===typeof a&&(this.maxGetBytes=a);return this};b.prototype.setBufferSize=function(a){"number"===typeof a&&(this.bufferSize=a);return this};b.prototype.setCustomEventTrackingConfiguration=function(a){a&&(this.customEventTrackingConfiguration=a);return this};b.prototype.setEmitterConfiguration=function(a){"undefined"!=typeof a&&("undefined"!=typeof a.batching.enabled&&(this.emitterConfiguration.batching.enabled=a.batching.enabled),"undefined"!=typeof a.batching.batchingIntervalInSec&&
0<a.batching.batchingIntervalInSec&&(this.emitterConfiguration.batching.batchingIntervalInSec=a.batching.batchingIntervalInSec),"undefined"!=a.batching.byteLimitPostInKB&&0<a.batching.byteLimitPostInKB&&(this.emitterConfiguration.batching.byteLimitPostInKB=a.batching.byteLimitPostInKB),"undefined"!=typeof a.batching.urgentEvents&&(this.emitterConfiguration.batching.urgentEvents=a.batching.urgentEvents));return this};b.prototype.setNetworkRequestTrackingConfiguration=function(a,c,d){a&&(this.networkRequestTrackingConfiguration=
a,c&&(this.networkRequestTrackingConfiguration.blocklist||(this.networkRequestTrackingConfiguration.blocklist=[]),d&&this.networkRequestTrackingConfiguration.blocklist.push(d),this.networkRequestTrackingConfiguration.blocklist=this.networkRequestTrackingConfiguration.blocklist.concat(oq)));return this};b.prototype.setTraceparentconfig=function(a){a&&(this.traceparentconfig=a);return this};b.prototype.setMetaTagsTrackingConfiguration=function(a){a&&(this.metaTagsTrackingConfiguration=a);return this};
b.prototype.setPerformanceContextConfig=function(a){"number"===typeof a&&(this.performanceContextConfig=a);return this};b.prototype.setMend=function(a,c){"boolean"===typeof a?this.mend=a:"boolean"===typeof c&&(this.mend=c);return this};b.prototype.setConfigurationVersion=function(a){"number"===typeof a&&(this.configurationVersion=a);return this};b.prototype.setCatRcLastUpdatedTs=function(a){"number"===typeof a&&(this.catRcLastUpdatedTs=a);return this};b.prototype.setEndPoint=function(a,c,d){"string"===
typeof d&&0<d.trim().length?this.endpoint=d:"string"===typeof a&&0<a.trim().length?this.endpoint=a:c&&"string"===typeof c&&0<c.trim().length?this.endpoint=c:this.endpoint=ya.endpoint;return this};b.prototype.setcontrolIngestConfig=function(a){"undefined"!==typeof a?this.controlIngestConfig=a:ef();return this};b.prototype.setApplicationContext=function(a){"undefined"!=typeof a&&(this.applicationContext=a);return this};b.prototype.setDi=function(a){"undefined"!=typeof a&&(this.di=ha(ha({},this.di),
a));return this};b.prototype.setClickcc=function(a){var c,d;"undefined"!=typeof a&&("boolean"===typeof a.en&&(this.clickcc.en=a.en),a.cssSelectorList&&0<a.cssSelectorList.trim().length&&(this.clickcc.cssSelectorList=a.cssSelectorList),"string"===typeof a.uiMode&&Object.values(je).includes(a.uiMode)&&(this.clickcc.uiMode=a.uiMode),"undefined"!==typeof a.block&&(this.clickcc.block=a.block),"undefined"!==typeof a.collect&&(this.clickcc.collect=a.collect),"undefined"!==typeof a.collectattr&&(this.clickcc.collectattr=
a.collectattr));"boolean"===typeof(null===(c=null===this||void 0===this?void 0:this.clickcc)||void 0===c?void 0:c.en)&&!0===(null===(d=null===this||void 0===this?void 0:this.clickcc)||void 0===d?void 0:d.en)?mo():xj();return this};b.prototype.setCollectionRateLimit=function(a){"undefined"!=typeof a&&null!==a&&(this.collectionRateLimit=ha(ha({},this.collectionRateLimit),a));return this};b.prototype.setPageUrlTrackingConfig=function(a){this.pageUrlTrackingConfig="undefined"!==typeof a?a:null;return this};
b.prototype.setSessionReplayConfiguration=function(a){this.sessionReplayConfiguration="undefined"!==typeof a?a:null;return this};b.prototype.setEvtStreamTrackingConfiguration=function(a){"undefined"!==typeof a&&("boolean"===typeof a.enabled&&(this.evtStreamTrackingConfiguration.enabled=a.enabled),"undefined"!==typeof a.block&&(this.evtStreamTrackingConfiguration.block=a.block),"undefined"!==typeof a.collect&&(this.evtStreamTrackingConfiguration.collect=a.collect),"undefined"!==typeof a.conditionalCollectAttr&&
(this.evtStreamTrackingConfiguration.conditionalCollectAttr=a.conditionalCollectAttr));return this};b.prototype.build=function(){return new qq(this)};return b}(),Md=!1,we=null,Nd=0,Db,Yf=!1,X,Do=function(b,a,c){var d,e,f,g,h={},k={},m;if("undefined"!=typeof window&&(null===window||void 0===window?0:window.localStorage))try{localStorage.removeItem(J.END_POINT_STORAGE_KEY),(m=localStorage.getItem(J.REMOTE_CONFIG_STORAGE_KEY))?Ua=J.CONFIG_SOURCE.CACHED:m=JSON.stringify(k)}catch(q){m=JSON.stringify(k);
Yf=!0;var u={className:"fetchRemoteConfig - localstorage",error:q,configAppliedSrc:Ua,configAppliedTime:Wa};setTimeout(function(){ab(Na,null===X||void 0===X?void 0:X.getSamplingMode,u)},0);qa.warn("Issue while fetching data from local storage")}else m=JSON.stringify(k);try{h=JSON.parse(m)}catch(q){Yf=!0;var n={className:"fetchRemoteConfig - parsing cached data",error:q,configAppliedSrc:Ua,configAppliedTime:Wa};setTimeout(function(){ab(Na,null===X||void 0===X?void 0:X.getSamplingMode,n)},0);qa.warn("Issue while parsing storedConvivaRemoteConfig")}k=
(new Vl).setBase64(null===h||void 0===h?void 0:h.base64).setCacheRefreshInterval(null===h||void 0===h?void 0:h.cacheRefreshInterval).setLifecycleAutotracking(null===h||void 0===h?void 0:h.lifecycleAutotracking).setExceptionAutotracking(null===h||void 0===h?void 0:h.exceptionAutotracking).setEnablePeriodicHeartbeat(null===h||void 0===h?void 0:h.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null===h||void 0===h?void 0:h.periodicHeartbeatInterval).setEnc(null===h||void 0===h?void 0:h.enc,null===
(e=null===(d=null===c||void 0===c?void 0:c.configs)||void 0===d?void 0:d.network)||void 0===e?void 0:e.encoding).setMaxLocalStorageQueueSize(null===h||void 0===h?void 0:h.maxLocalStorageQueueSize).setMaxGetBytes(null===h||void 0===h?void 0:h.maxGetBytes).setBufferSize(null===h||void 0===h?void 0:h.bufferSize).setCustomEventTrackingConfiguration(null===h||void 0===h?void 0:h.customEventTrackingConfiguration).setEndPoint(null===h||void 0===h?void 0:h.endpoint,c.gatewayUrl,c.proxyGatewayUrl).setNetworkRequestTrackingConfiguration(null===
h||void 0===h?void 0:h.networkRequestTrackingConfiguration,!1).setMetaTagsTrackingConfiguration(null===h||void 0===h?void 0:h.metaTagsTrackingConfiguration).setTraceparentconfig(null===h||void 0===h?void 0:h.traceparentconfig).setMend(null===h||void 0===h?void 0:h.mend,null===(g=null===(f=null===c||void 0===c?void 0:c.configs)||void 0===f?void 0:f.network)||void 0===g?void 0:g.mergeEndpoint).setPerformanceContextConfig(null===h||void 0===h?void 0:h.performanceContextConfig).setConfigurationVersion(null===
h||void 0===h?void 0:h.configurationVersion).setCatRcLastUpdatedTs(null===h||void 0===h?void 0:h.catRcLastUpdatedTs).setEmitterConfiguration(null===h||void 0===h?void 0:h.emitterConfiguration).setcontrolIngestConfig(null===h||void 0===h?void 0:h.controlIngestConfig).setApplicationContext(null===h||void 0===h?void 0:h.applicationContext).setDi(null===h||void 0===h?void 0:h.di).setClickcc(null===h||void 0===h?void 0:h.clickcc).setCollectionRateLimit(null===h||void 0===h?void 0:h.collectionRateLimit).setPageUrlTrackingConfig(null===
h||void 0===h?void 0:h.pageUrlTrackingConfig).setSessionReplayConfiguration(null===h||void 0===h?void 0:h.sessionReplayConfiguration).setEvtStreamTrackingConfiguration(null===h||void 0===h?void 0:h.evtStreamTrackingConfiguration).build();d="Cached Config Applied";Ua===J.CONFIG_SOURCE.DEFAULT&&(d="Default Config Applied");Wa=(new Date).getTime();var t={message:d,className:"browserTrackerCore",configAppliedSrc:Ua,configAppliedTime:Wa};setTimeout(function(){ab(Na,null===X||void 0===X?void 0:X.getSamplingMode,
t)},0);b=b.split("js-")[1].split(" ")[0];var l=(c.proxyGatewayUrl?c.proxyGatewayUrl+"/js/":J.REMOTE_CONFIG_URL_PREFIX)+c.convivaCustomerKey+"/"+b+J.REMOTE_CONFIG_FILE_NAME;window.XMLHttpRequest&&(Db=new XMLHttpRequest,Db.onreadystatechange=function(){var q;try{if(4==Db.readyState)if(Md=!1,200==Db.status){var p={message:"Remote config request is successful - ".concat("number"==typeof Db.status?Db.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:Ua,configAppliedTime:Wa};
ab(Na,null===X||void 0===X?void 0:X.getSamplingMode,p);Nd=0;var v=JSON.parse(Db.response);p=Na;if((null===v||void 0===v?void 0:v.configurationBundle[0].namespace)!==a)ab(Na,null===X||void 0===X?void 0:X.getSamplingMode,{message:"Remote Config not Applied due to a missing namespace",className:"updateRemoteConfig",configAppliedSrc:Ua,configAppliedTime:Wa});else{if(!v.hasOwnProperty("configurationVersion")||(null===(q=p.getConfig())||void 0===q?void 0:q.configurationVersion)===(null===v||void 0===v?
void 0:v.configurationVersion)){var w=localStorage.getItem(J.REMOTE_CONFIG_STORAGE_KEY);if(w){w=JSON.parse(w);w.catRcLastUpdatedTs=(new Date).getTime();window.localStorage&&(localStorage.removeItem(J.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(J.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(w)));ab(Na,null===X||void 0===X?void 0:X.getSamplingMode,{message:"Remote Config not Applied as same version is fetched",className:"updateRemoteConfig",configAppliedSrc:Ua,configAppliedTime:Wa});return}}k.catRcLastUpdatedTs=
(new Date).getTime();var y=v.cri||v.cacheRefreshInterval||ya.cacheRefreshInterval;y=1>y?ya.cacheRefreshInterval:ge(y)?y:ya.cacheRefreshInterval;k.cacheRefreshInterval!=y&&(k.cacheRefreshInterval=y,Wl(k.cacheRefreshInterval,k.catRcLastUpdatedTs,c,l,J.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER));if(rq(v,k.catRcLastUpdatedTs,c)){var B=new Event("RemoteConfigUpdateApplied");(null===window||void 0===window?0:window.dispatchEvent)&&window.dispatchEvent(B)}}}else try{2>Nd&&window.setTimeout(function(){(null===
c||void 0===c?0:c.trackerConfigUrl)?Od(null===c||void 0===c?void 0:c.trackerConfigUrl,!0):Od(l,!0)},5E3*(Nd+1));var G={message:"Remote config request is not successful - ".concat("number"==typeof Db.status?Db.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:Ua,configAppliedTime:Wa};ab(Na,null===X||void 0===X?void 0:X.getSamplingMode,G);2<=Nd&&ab(Na,null===X||void 0===X?void 0:X.getSamplingMode,{message:"Remote config is not applied since failed to download remote config after 3 tries",
className:"configtimerCallback - onreadystatechange",configAppliedSrc:Ua,configAppliedTime:Wa})}catch(H){}}catch(H){Md=!1,console.warn("Conviva App Tracker:: Error in fetching remote-config ".concat(H)),ab(Na,null===X||void 0===X?void 0:X.getSamplingMode,{className:"configtimerCallback - onreadystatechange",error:H,configAppliedSrc:Ua,configAppliedTime:Wa})}},Wl(k.cacheRefreshInterval,k.catRcLastUpdatedTs,c,l,"undefined"!=typeof Yf&&!0===Yf?J.RC_FETCH_MODE.IMMEDIATE_FETCH:J.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF));
return{convivaRemoteTrackerConfig:k}},Wl=function(b,a,c,d,e){var f=c.trackerConfigUrl?c.trackerConfigUrl:d;if("number"===typeof we){window.clearInterval(we);var g={message:"Cancelling remote config timer",className:"updateRemoteConfig",extraData:{mode:e},configAppliedSrc:Ua,configAppliedTime:Wa};setTimeout(function(){ab(Na,null===X||void 0===X?void 0:X.getSamplingMode,g)},0)}var h=function(){var n={message:"Starting remote config timer with delay of ".concat(60*b," seconds"),className:"updateRemoteConfig",
configAppliedSrc:Ua,configAppliedTime:Wa};setTimeout(function(){ab(Na,null===X||void 0===X?void 0:X.getSamplingMode,n)},0);we=window.setInterval(Od,6E4*b,f)};try{var k=a?((new Date).getTime()-a)/6E4:b;c=b-k;d=3*b/100;if("string"==typeof e&&e===J.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)h();else if("string"==typeof e&&e===J.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF&&0<a&&c>d){window.setTimeout(function(){Od(f);h()},6E4*c);var m={message:"Starting remote config timer with delay of ".concat(60*c," seconds"),
className:"updateRemoteConfig",extraData:{mode:e},configAppliedSrc:Ua,configAppliedTime:Wa};setTimeout(function(){ab(Na,null===X||void 0===X?void 0:X.getSamplingMode,m)},0)}else Od(f),h()}catch(n){console.warn("Conviva App Tracker:: Error in setting cacheRefreshIntervalTimer",n);Od(f);h();var u={className:"cacheRefreshIntervalTimer",error:n,configAppliedSrc:Ua,configAppliedTime:Wa};setTimeout(function(){ab(Na,null===X||void 0===X?void 0:X.getSamplingMode,u)},0)}},Od=function(b,a){try{if("boolean"===
typeof Md&&!1===Md){a?Nd++:Nd=0;Db.timeout=3E4;Db.open("GET",b,!0);Md=!0;var c={message:"Remote config fetch attempt",className:"updateRemoteConfig",configAppliedSrc:Ua,configAppliedTime:Wa};setTimeout(function(){ab(Na,null===X||void 0===X?void 0:X.getSamplingMode,c)},0);Db.send()}}catch(e){Md=!1;qa.warn("Conviva App Tracker:: Error in configtimerCallback ".concat(e));var d={className:"configtimerCallback",error:e,configAppliedSrc:Ua,configAppliedTime:Wa};setTimeout(function(){ab(Na,null===X||void 0===
X?void 0:X.getSamplingMode,d)},0)}},rq=function(b,a,c){var d,e,f,g,h,k,m,u,n,t,l,q,p,v,w,y,B,G,H,E,F,I,N,la,S,pa,Q,D,C,z,P,M,oa,fa=Na;try{var R=(new Vl).setBase64(b.configurationBundle[0].trackerConfiguration.base64Encoding).setCacheRefreshInterval(b.cri||b.cacheRefreshInterval).setLifecycleAutotracking(null===(e=null===(d=b.configurationBundle[0])||void 0===d?void 0:d.trackerConfiguration)||void 0===e?void 0:e.lifecycleAutotracking).setExceptionAutotracking(null===(g=null===(f=b.configurationBundle[0])||
void 0===f?void 0:f.trackerConfiguration)||void 0===g?void 0:g.exceptionAutotracking).setEnablePeriodicHeartbeat(null===(k=null===(h=b.configurationBundle[0])||void 0===h?void 0:h.trackerConfiguration)||void 0===k?void 0:k.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null===(u=null===(m=b.configurationBundle[0])||void 0===m?void 0:m.trackerConfiguration)||void 0===u?void 0:u.periodicHeartbeatInterval).setEnc(null===(t=null===(n=b.configurationBundle[0])||void 0===n?void 0:n.networkConfiguration)||
void 0===t?void 0:t.enc,null===(q=null===(l=null===c||void 0===c?void 0:c.configs)||void 0===l?void 0:l.network)||void 0===q?void 0:q.encoding).setMaxLocalStorageQueueSize(null===(v=null===(p=b.configurationBundle[0])||void 0===p?void 0:p.networkConfiguration)||void 0===v?void 0:v.maxLocalStorageQueueSize).setMaxGetBytes(null===(y=null===(w=b.configurationBundle[0])||void 0===w?void 0:w.networkConfiguration)||void 0===y?void 0:y.maxGetBytes).setBufferSize(null===(G=null===(B=b.configurationBundle[0])||
void 0===B?void 0:B.networkConfiguration)||void 0===G?void 0:G.bufferSize).setCustomEventTrackingConfiguration(null===(H=b.configurationBundle[0])||void 0===H?void 0:H.customEventTrackingConfiguration).setEndPoint(null===(F=null===(E=b.configurationBundle[0])||void 0===E?void 0:E.networkConfiguration)||void 0===F?void 0:F.endpoint,c.gatewayUrl,c.proxyGatewayUrl).setNetworkRequestTrackingConfiguration(null===(I=b.configurationBundle[0])||void 0===I?void 0:I.networkRequestTrackingConfiguration,!0,null===
(la=null===(N=b.configurationBundle[0])||void 0===N?void 0:N.networkConfiguration)||void 0===la?void 0:la.endpoint).setMetaTagsTrackingConfiguration(null===(S=b.configurationBundle[0])||void 0===S?void 0:S.metaTagsTrackingConfiguration).setTraceparentconfig(null===(pa=b.configurationBundle[0])||void 0===pa?void 0:pa.traceparentconfig).setMend(null===(D=null===(Q=b.configurationBundle[0])||void 0===Q?void 0:Q.networkConfiguration)||void 0===D?void 0:D.mend,null===(z=null===(C=null===c||void 0===c?
void 0:c.configs)||void 0===C?void 0:C.network)||void 0===z?void 0:z.mergeEndpoint).setPerformanceContextConfig(null===(M=null===(P=b.configurationBundle[0])||void 0===P?void 0:P.trackerConfiguration)||void 0===M?void 0:M.perfCx).setConfigurationVersion(b.configurationVersion).setCatRcLastUpdatedTs(a).setEmitterConfiguration(b.configurationBundle[0].emitterConfiguration).setcontrolIngestConfig(b["ctrl-ingst"]).setApplicationContext(b.configurationBundle[0].trackerConfiguration.applicationContext).setDi(b.configurationBundle[0].di).setClickcc(b.configurationBundle[0].clickcc).setCollectionRateLimit(b.configurationBundle[0].collectionRateLimit).setPageUrlTrackingConfig(b.configurationBundle[0].pageUrlTrackingConfig).setSessionReplayConfiguration(b.configurationBundle[0].sessionReplayConfiguration).setEvtStreamTrackingConfiguration(b.configurationBundle[0].evtStreamTrackingConfiguration).build();
Ua=J.CONFIG_SOURCE.REMOTE;Wa=(new Date).getTime();null===fa||void 0===fa?void 0:fa.setConfig(R);b={message:"Remote Config Applied",className:"updateRemoteConfig - tracker",configAppliedSrc:Ua,configAppliedTime:Wa};ab(Na,null===X||void 0===X?void 0:X.getSamplingMode,b);null===X||void 0===X?void 0:X.setCollectorUrl(null===(oa=null===fa||void 0===fa?void 0:fa.getConfig())||void 0===oa?void 0:oa.endpoint,c.convivaCustomerKey);try{window.localStorage&&(localStorage.removeItem(J.REMOTE_CONFIG_STORAGE_KEY),
localStorage.setItem(J.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(R)))}catch(wa){ab(Na,null===X||void 0===X?void 0:X.getSamplingMode,{className:"updateRemoteConfig - localstorage",error:wa,configAppliedSrc:Ua,configAppliedTime:Wa}),console.warn("Conviva: Error while saving remote-config to localstorage",wa)}}catch(wa){return b={className:"updateRemoteConfig - tracker",error:wa,configAppliedSrc:Ua,configAppliedTime:Wa},ab(Na,null===X||void 0===X?void 0:X.getSamplingMode,b),console.warn("Conviva: Error while updating remote-config",
wa),!1}return!0},Xh={idleMs:3E4,maxEvents:1E4,bufferMaxBytes:1E6},Jo=function(){function b(a,c,d){var e;this.originalFetch=null===(e=null===window||void 0===window?void 0:window.fetch)||void 0===e?void 0:e.bind(window);this.sseCountStates=new Map;this.core=Na;this.trackerMethods=a;this.trackerConfiguration=c;this.getSamplingMode=d;this.handleResponse=this.handleResponse.bind(this);this.addTraceparentHeader=this.addTraceparentHeader.bind(this)}b.prototype.cleanupNetworkRequestHandler=function(){b.instance=
null};b.getInstance=function(a,c,d){b.instance||(b.instance=new b(a,c,d));return b.instance};b.prototype.initiateNetworkRequestTracking=function(){try{this.decorateXMLHttpRequest(),this.decorateFetch(),this.decorateWebSocket()}catch(a){console.warn("Conviva App Tracker:: Unable to track network request ".concat(a))}};b.prototype.decorateXMLHttpRequest=function(){var a=this,c=XMLHttpRequest.prototype.open,d=XMLHttpRequest.prototype.send,e=XMLHttpRequest.prototype.setRequestHeader;XMLHttpRequest.prototype.open=
function(){for(var f=this,g=[],h=0;h<arguments.length;h++)g[h]=arguments[h];setTimeout(function(){try{f._conviva={method:g[0],url:a.normalizeUrl(g[1]),headers:{}}}catch(k){console.warn("Conviva App Tracker:: Unable to normalizeUrl while open ".concat(k))}},0);return c.apply(this,g)};XMLHttpRequest.prototype.setRequestHeader=function(){for(var f=this,g=[],h=0;h<arguments.length;h++)g[h]=arguments[h];setTimeout(function(){try{f._conviva&&(f._conviva.headers[g[0]]=g[1])}catch(k){console.warn("Conviva App Tracker:: while setRequestHeader ".concat(k))}},
0);return e.apply(this,g)};XMLHttpRequest.prototype.send=function(){for(var f=this,g=[],h=0;h<arguments.length;h++)g[h]=arguments[h];setTimeout(function(){try{var k=f._conviva;if(k){var m=a.addTraceparentHeader(f,k.url,k.headers),u=a.createRequestDetails(k.method,k.url,k.headers,g[0],m);k=sb;f.addEventListener("load",function(){return a.handleResponse(f,u,"load")},{signal:k});f.addEventListener("error",function(){return a.handleResponse(f,u,"error")},{signal:k});f.addEventListener("abort",function(){return a.handleResponse(f,
u,"abort")},{signal:k});f.addEventListener("timeout",function(){return a.handleResponse(f,u,"timeout")},{signal:k})}}catch(n){console.warn("Conviva App Tracker:: Unable to track network request while send ".concat(n))}},0);return d.apply(this,g)}};b.prototype.decorateFetch=function(){window.fetch=this.interceptFetch.bind(this)};b.prototype.interceptFetch=function(a,c){var d=this,e,f,g,h,k=null;if(a instanceof Request){var m=null===a||void 0===a?void 0:a.clone();try{var u=!1;null===(e=null===m||void 0===
m?void 0:m.headers)||void 0===e?void 0:e.forEach(function(G,H){J.TRACEPARENT_HEADER_KEY===H&&(u=!0)});u||(k=this.generateTraceparentHeader(m.url),null!==k&&""!==k&&m.headers.set(J.TRACEPARENT_HEADER_KEY,k))}catch(G){console.warn("ConvivaAppTracker: Issue while adding traceparent header",G)}e=this.originalFetch(m)}else{try{if(c&&c.headers){var n=new Headers(c.headers),t=!1;n.forEach(function(G,H){J.TRACEPARENT_HEADER_KEY===H&&(t=!0)});t||(k=this.generateTraceparentHeader(a),null!==k&&""!==k&&n.set(J.TRACEPARENT_HEADER_KEY,
k))}else n=new Headers,k=this.generateTraceparentHeader(a),null!==k&&""!==k&&n.set(J.TRACEPARENT_HEADER_KEY,k),c||(c={});c.headers=n}catch(G){console.warn("ConvivaAppTracker: Issue while adding traceparent header",G)}e=this.originalFetch(a,c);m=(new Request(a,c)).clone()}try{a=void 0;try{a=Tl(m.headers)}catch(G){}n=void 0;try{n=null===c||void 0===c?void 0:c.body}catch(G){}var l={method:m.method,url:decodeURIComponent(m.url),headers:a,body:n,requestTimestamp:null===Date||void 0===Date?void 0:Date.now(),
requestTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};if(this.getSamplingMode()!==J.SAMPLING_MODES.NONE){var q=this.core.getConfig().networkRequestTrackingConfiguration,p=this.core.getConfig().evtStreamTrackingConfiguration,v=q.blocklist,w=null===(h=null===(g=null===(f=this.trackerConfiguration)||void 0===f?void 0:f.configs)||void 0===g?void 0:g.networkRequestTracking)||void 0===h?void 0:h.safelist,y=q.collect,B=q.block;null!==
k&&""!==k&&(l[J.TRACEPARENT_HEADER_KEY]=k);e.then(function(G){try{var H=G.headers.get("content-type");if(p&&p.enabled&&H&&H.includes("text/event-stream")){var E=G.clone().body;if(E)no(E,m.url,function(N){d.processSSEEvent(N,m.url)},{idleMs:p.idleMs,maxEvents:p.maxEvents,bufferMaxBytes:p.bufferMaxBytes},function(){d.cleanupSSECountState(m.url)})["catch"](function(){});else console.warn("Conviva App Tracker:: Response body is null, cannot read as stream")}else if(q&&q.enabled){var F=hf(y,B,v,w,G,l);
if(F){H=void 0;try{H=Tl(G.headers)}catch(N){}var I={status:null===G||void 0===G?void 0:G.status,statusText:""!==(null===G||void 0===G?void 0:G.statusText)?null===G||void 0===G?void 0:G.statusText:void 0,headers:H,size:0,responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};G.clone().json().then(function(N){I.body=N;d.trackerMethods.trackNetworkRequest({requestDetails:l,
responseDetails:I})})["catch"](function(){d.trackerMethods.trackNetworkRequest({requestDetails:l,responseDetails:I})})}}}catch(N){F=hf(y,B,v,w,G,l),q&&q.enabled&&F&&(G={statusText:N.toString(),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},d.trackerMethods.trackNetworkRequest({requestDetails:l,responseDetails:G}))}})["catch"](function(G){var H=hf(y,B,v,
w,null,l);q&&q.enabled&&H&&(G={statusText:G.toString(),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},d.trackerMethods.trackNetworkRequest({requestDetails:l,responseDetails:G}))})}}catch(G){console.warn("Conviva App Tracker:: Unable to track network request while fetch interceptRequest ".concat(G))}return e};b.prototype.handleResponse=function(a,c,d){var e,
f,g,h;try{if(this.getSamplingMode()!==J.SAMPLING_MODES.NONE){var k=null===(e=this.core)||void 0===e?void 0:e.getConfig().networkRequestTrackingConfiguration,m=k.blocklist,u=null===(h=null===(g=null===(f=this.trackerConfiguration)||void 0===f?void 0:f.configs)||void 0===g?void 0:g.networkRequestTracking)||void 0===h?void 0:h.safelist,n=hf(k.collect,k.block,m,u,a,c);if(k&&k.enabled&&n){var t={status:a.status,statusText:a.statusText||("load"!==d?d:void 0),responseTimestamp:Date.now(),responseTime:performance.now()||
Date.now(),headers:pq(a.getAllResponseHeaders()),body:a.response};this.trackerMethods.trackNetworkRequest({requestDetails:c,responseDetails:t})}}}catch(l){qa.warn("Conviva App Tracker:: Unable to track network request error while handleResponse ".concat(l))}};b.prototype.decorateWebSocket=function(){function a(g){d?d.has(g)||(d.add(g),c.addWebSocketEventListeners(g)):g.__convivaWsTag__||(g.__convivaWsTag__=!0,c.addWebSocketEventListeners(g))}var c=this,d="undefined"!==typeof WeakSet?new WeakSet:null,
e=WebSocket.prototype.send;WebSocket.prototype.send=function(g){try{"string"===typeof g&&c.handleWebSocketSend(g,this),a(this)}catch(h){qa.warn("Conviva WS tracking error:",h)}return e.apply(this,arguments)};var f=WebSocket;window.WebSocket=function(g,h){g=new f(g,h);a(g);return g};window.WebSocket.prototype=f.prototype;Object.assign(window.WebSocket,f)};b.prototype.addWebSocketEventListeners=function(a){var c=this,d=sb;a.addEventListener("message",function(e){return c.handleWebSocketMessage(e)},
{signal:d});a.addEventListener("open",function(e){return c.handleWebSocketOpen(e)},{signal:d});a.addEventListener("close",function(e){return c.handleWebSocketClose(e)},{signal:d});a.addEventListener("error",function(e){return c.handleWebSocketError(e)},{signal:d})};b.prototype.handleWebSocketOpen=function(a){try{var c={url:this.getWebSocketUrl(a.target),type:a.type,timestamp:Date.now()}}catch(d){c={data:a.data,url:a.target?this.getWebSocketUrl(a.target):void 0}}this.sendWebSocketEvent("open",c)};
b.prototype.handleWebSocketClose=function(a){try{var c={url:this.getWebSocketUrl(a.target),type:a.type,code:a.code,reason:a.reason,wasClean:a.wasClean,timestamp:Date.now()}}catch(d){c={data:a.data,url:a.target?this.getWebSocketUrl(a.target):void 0}}this.sendWebSocketEvent("close",c)};b.prototype.handleWebSocketMessage=function(a){try{var c="string"===typeof a.data?JSON.parse(a.data):a.data;c.url=this.getWebSocketUrl(a.target)}catch(d){c={data:a.data,url:a.target?this.getWebSocketUrl(a.target):void 0}}this.sendWebSocketEvent("server",
c)};b.prototype.handleWebSocketSend=function(a,c){try{var d="string"===typeof a?JSON.parse(a):a;var e=this.getWebSocketUrl(c);var f={url:e,type:d.type}}catch(g){e=this.getWebSocketUrl(c),f={url:e},d={data:a}}this.sendWebSocketEvent("send",f,d)};b.prototype.handleWebSocketError=function(a){var c,d,e,f,g,h,k;try{var m={url:this.getWebSocketUrl(a.target),type:a.type,timestamp:Date.now(),readyState:this.getWebSocketReadyState(a.target),errorMessage:a.message||"WebSocket error occurred",errorType:(null===
(c=a.error)||void 0===c?void 0:c.name)||"WebSocketError",errorCode:null===(d=a.error)||void 0===d?void 0:d.code,errorDetails:null===(e=a.error)||void 0===e?void 0:e.message,networkType:(null===(f=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===f?void 0:f.type)||"unknown",networkEffectiveType:(null===(g=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===g?void 0:g.effectiveType)||"unknown",networkDownlink:null===(h=null===navigator||void 0===navigator?
void 0:navigator.connection)||void 0===h?void 0:h.downlink,networkRtt:null===(k=null===navigator||void 0===navigator?void 0:navigator.connection)||void 0===k?void 0:k.rtt,userAgent:null===navigator||void 0===navigator?void 0:navigator.userAgent}}catch(u){m={url:this.getWebSocketUrl(a.target),type:"error",timestamp:Date.now(),error:"Failed to process WebSocket error event: ".concat(u instanceof Error?u.message:String(u)),originalEvent:a}}this.sendWebSocketEvent("error",m)};b.prototype.sendWebSocketEvent=
function(a,c,d){var e;void 0===d&&(d={});try{var f=null===(e=this.core.getConfig())||void 0===e?void 0:e.evtStreamTrackingConfiguration;if(null!==f&&void 0!==f&&f.enabled){var g=this.getSSECountState(c.url),h="send"===a?ha(ha(ha({},c),d),{event:a}):ha(ha({},c),{event:a}),k=jf(f.collect,f.block,h,c.url);if(null!==k&&void 0!==k&&k.result){var m=null===k||void 0===k?void 0:k.matchedConfig;if(!0===(null===m||void 0===m?void 0:m.count)&&(g.tokenCount++,null===k||void 0===k||!k.shouldSend))return;var u=
{url:c.url,id:c.id,type:c.type,event:a};!0===(null===m||void 0===m?void 0:m.countReset)&&(0<g.tokenCount&&(u.tokenCount=g.tokenCount),this.resetSSECountState(c.url));a="send"===a?d:c;if(f.conditionalCollectAttr&&0<f.conditionalCollectAttr.length){var n=oj(a,f.conditionalCollectAttr,c.url,jf);0<Object.keys(n).length&&(u=ha(ha({},u),n))}this.trackerMethods.trackSSEEvent({name:"conviva_ws_message",data:JSON.stringify(u)})}}}catch(t){}};b.prototype.getWebSocketUrl=function(a){try{if(a&&"object"===W(a)&&
"url"in a)return a.url}catch(c){}};b.prototype.getWebSocketReadyState=function(a){try{if(a&&"object"===W(a)&&"readyState"in a)return a.readyState}catch(c){}};b.prototype.addTraceparentHeader=function(a,c,d){var e=null;J.TRACEPARENT_HEADER_KEY in d||(e=this.generateTraceparentHeader(c))&&a.setRequestHeader(J.TRACEPARENT_HEADER_KEY,e);return e};b.prototype.createRequestDetails=function(a,c,d,e,f){a={method:a,url:c,headers:d,body:e,requestTimestamp:Date.now(),requestTime:performance.now()||Date.now()};
f&&(a[J.TRACEPARENT_HEADER_KEY]=f);return a};b.prototype.normalizeUrl=function(a){if(a instanceof URL)return a.href;try{if("undefined"!==typeof document){var c=URL;if(document.baseURI)var d=document.baseURI;else{var e=document.querySelector("base");d=e&&e.href?e.href:document.location.href}return(new c(a,d)).href}}catch(f){}return a};b.prototype.generateTraceparentHeader=function(a){var c,d,e,f,g,h,k,m,u,n,t,l,q,p,v,w,y,B,G,H,E,F,I;try{if(this.core&&a){var N=this.core.getConfig(),la=J.CONFIG_PREFERENCES.MERGE,
S=[];if(null===(e=null===(d=null===(c=this.trackerConfiguration)||void 0===c?void 0:c.configs)||void 0===d?void 0:d.traceparentGeneration)||void 0===e?0:e.force)la=J.CONFIG_PREFERENCES.APP;else if(null===(f=null===N||void 0===N?void 0:N.traceparentconfig)||void 0===f?0:f.pref)la=N.traceparentconfig.pref;switch(la){case J.CONFIG_PREFERENCES.APP:if(!1===(null===(k=null===(h=null===(g=this.trackerConfiguration)||void 0===g?void 0:g.configs)||void 0===h?void 0:h.traceparentGeneration)||void 0===k?void 0:
k.enabled))return"";S=(null===(n=null===(u=null===(m=this.trackerConfiguration)||void 0===m?void 0:m.configs)||void 0===u?void 0:u.traceparentGeneration)||void 0===n?void 0:n.targetUrl)||[];break;case J.CONFIG_PREFERENCES.REMOTE:if(!1===(null===(t=null===N||void 0===N?void 0:N.traceparentconfig)||void 0===t?void 0:t.enabled))return"";S=(null===(l=null===N||void 0===N?void 0:N.traceparentconfig)||void 0===l?void 0:l.targetUrl)||[];break;default:if((null===N||void 0===N||!N.traceparentconfig)&&!1===
(null===(v=null===(p=null===(q=this.trackerConfiguration)||void 0===q?void 0:q.configs)||void 0===p?void 0:p.traceparentGeneration)||void 0===v?void 0:v.enabled)||(null===(y=null===(w=this.trackerConfiguration)||void 0===w?void 0:w.configs)||void 0===y||!y.traceparentGeneration)&&!1===(null===(B=null===N||void 0===N?void 0:N.traceparentconfig)||void 0===B?void 0:B.enabled))return"";var pa=(null===(E=null===(H=null===(G=this.trackerConfiguration)||void 0===G?void 0:G.configs)||void 0===H?void 0:H.traceparentGeneration)||
void 0===E?void 0:E.targetUrl)||[],Q=(null===(F=null===N||void 0===N?void 0:N.traceparentconfig)||void 0===F?void 0:F.targetUrl)||[],D=new Set(cb(cb([],Q,!0),pa,!0));S=Array.from(D)}if(0<S.length&&(S.includes("*")||S.some(function(P){return 0<(null===P||void 0===P?void 0:P.length)&&a.toLowerCase().includes(null===P||void 0===P?void 0:P.toLowerCase())}))&&(null===(I=null===N||void 0===N?void 0:N.networkRequestTrackingConfiguration)||void 0===I?0:I.enabled)){var C=Array.from({length:32},function(){return Math.floor(16*
Math.random()).toString(16)}).join(""),z=Array.from({length:16},function(){return Math.floor(16*Math.random()).toString(16)}).join("");return"00-".concat(C,"-").concat(z,"-00")}}}catch(P){console.warn("Conviva App Tracker:: Unable to generate traceparent header ".concat(P))}return""};b.prototype.updateSSETrackingConfig=function(a){Xh=ha(ha({},Xh),a)};b.prototype.getSSETrackingConfig=function(){return ha({},Xh)};b.prototype.processSSEEvent=function(a,c){var d,e;try{if("ping"!==a.event){var f=a.data;
try{f=JSON.parse(a.data)}catch(l){}var g={url:c,id:a.id,event:null!==(d=a.event)&&void 0!==d?d:"message",data:f},h=null===(e=this.core.getConfig())||void 0===e?void 0:e.evtStreamTrackingConfiguration;if(null!==h&&void 0!==h&&h.enabled){var k=this.getSSECountState(c),m=jf(h.collect,h.block,g,c);if(null!==m&&void 0!==m&&m.result){var u=null===m||void 0===m?void 0:m.matchedConfig;if(!0===(null===u||void 0===u?void 0:u.count)&&(k.tokenCount++,null===m||void 0===m||!m.shouldSend))return;var n={url:g.url,
id:g.id,event:g.event};!0===(null===u||void 0===u?void 0:u.countReset)&&(0<k.tokenCount&&(n.tokenCount=k.tokenCount),this.resetSSECountState(c));if(h.conditionalCollectAttr&&0<h.conditionalCollectAttr.length){var t=oj(g,h.conditionalCollectAttr,c,jf);0<Object.keys(t).length&&(n=ha(ha({},n),t))}this.trackerMethods.trackSSEEvent({name:"conviva_sse_message",data:JSON.stringify(n)})}}}}catch(l){}};b.prototype.getSSECountState=function(a){this.sseCountStates.has(a)||this.sseCountStates.set(a,{tokenCount:0});
return this.sseCountStates.get(a)};b.prototype.resetSSECountState=function(a){this.sseCountStates.set(a,{tokenCount:0})};b.prototype.cleanupSSECountState=function(a){this.sseCountStates["delete"](a)};return b}(),Io=function(b,a,c,d,e,f,g,h){var k,m,u,n,t=Na,l=function(){var q=t.getConfig();return q.emitterConfiguration&&q.emitterConfiguration.batching?q.emitterConfiguration.batching.enabled:!0};return qo(b,a,"localStorage"==c||"cookieAndLocalStorage"==c,d.eventMethod,e,function(){var q,p=t.getConfig();
return null!==(q=p.bufferSize?p.bufferSize:d.bufferSize)&&void 0!==q?q:20}(),function(){var q,p=t.getConfig();return null!==(q=p.maxGetBytes?p.maxGetBytes:d.maxGetBytes)&&void 0!==q?q:0},null!==(k=d.useStm)&&void 0!==k?k:!0,function(){var q,p=t.getConfig();return null!==(q=p.maxLocalStorageQueueSize?p.maxLocalStorageQueueSize:d.maxLocalStorageQueueSize)&&void 0!==q?q:10},null!==(m=d.connectionTimeout)&&void 0!==m?m:3E4,f,null!==(u=d.customHeaders)&&void 0!==u?u:{},null!==(n=d.withCredentials)&&void 0!==
n?n:!1,g,function(){var q,p,v,w=t.getConfig();return null!==(v=(null===w||void 0===w?0:w.enc)?w.enc:null===(p=null===(q=null===d||void 0===d?void 0:d.configs)||void 0===q?void 0:q.network)||void 0===p?void 0:p.encoding)&&void 0!==v?v:bc.GZIP},l,function(){var q,p,v=t.getConfig();return l()?"number"===typeof(null===(p=null===(q=v.emitterConfiguration)||void 0===q?void 0:q.batching)||void 0===p?void 0:p.byteLimitPostInKB)?1E3*v.emitterConfiguration.batching.byteLimitPostInKB:25E4:4E4},function(){var q,
p,v=null===(p=null===(q=t.getConfig().emitterConfiguration)||void 0===q?void 0:q.batching)||void 0===p?void 0:p.batchingIntervalInSec;return 1E3*("number"===typeof v?v:5)},h)},to=function(){function b(a,c,d,e,f){void 0===a&&(a=20);void 0===c&&(c=2E3);void 0===d&&(d=1E3);this.eventMaxLimit=a;this.cooldown=c;this.windowStart=Date.now();this.circuitBreakerUntil=this.eventCount=0;this.breakerPreviouslyOpen=!1;this.droppedCount=0;this.trackerCore=e;this.timeWindow=d;this.getSamplingMode=f}b.prototype.isAllowedToSendEvent=
function(){var a=Date.now();if(a<this.circuitBreakerUntil)return this.droppedCount++,!1;this.breakerPreviouslyOpen&&(this.breakerPreviouslyOpen=!1,ab(this.trackerCore,this.getSamplingMode,{message:"Application Error",className:"errorRateLimiter - isAllowedToSendEvent",extraData:{droppedCount:this.droppedCount},configAppliedSrc:Ua,configAppliedTime:Wa}),this.droppedCount=0);a-this.windowStart<this.timeWindow?this.eventCount++:(this.windowStart=a,this.eventCount=1);return this.eventCount>this.eventMaxLimit?
(this.circuitBreakerUntil=a+this.cooldown,this.breakerPreviouslyOpen=!0,this.droppedCount++,!1):!0};b.prototype.updateErrortRateLimitConfig=function(a,c,d){this.eventMaxLimit=a;this.cooldown=c;this.timeWindow=d};return b}(),bb,Qb,Bj=function(b,a){return b.length>a?"".concat(b.slice(0,a-3),"..."):b},yo=function(){function b(f){f=f.split(".").map(Number);if(4!==f.length||f.some(function(g){return isNaN(g)}))throw Error("clientId must be in format 'a.b.c.d' with each part between 0 and 255");return f}
function a(f,g){void 0===g&&(g=BigInt(0));g=BigInt(1)+g;for(var h=0;4>h;h++)g=e*g+BigInt(f[h]);return Number(BigInt.asIntN(32,g))}function c(f){try{var g=b(f);return(a(g)+Math.pow(2,31))/(Math.pow(2,32)-1)}catch(h){return 0}}function d(f){return 1-c(f)}var e=BigInt(79);return{clientIdHash:a,sampleRate:c,minimumSampleRateForInclusion:d,shouldInclude:function(f,g){return f/100>=d(g)}}}(),mf,Lg,le=!1,cc=null,Mg=null,Fj=function(){function b(a,c,d){var e,f;this.tracker=a;this.trackerConfiguration=c;this.sessionReplayConfig=
d;a=new Blob(["importScripts('https://cdnjs.cloudflare.com/ajax/libs/pako/2.1.0/pako.min.js');\n\nlet config = {};\nlet db;\nlet flushing = false;\nconst DB_NAME = 'conviva-session-record-db';\nconst STORE_NAME = 'events';\nconst POLICY_NAME = 'uploadPolicy';\nconst POLICY_KEY = 'policy';\nconst MAX_EVENTS = 5000; //TODO: Check device storage\nlet urlExpiryTimestamp = null;\nlet hasFlushedOldEvents = false;\nconst FLUSH_TIME = 60 * 1000;\nconst UPDATE_POLICY_EXPIRY_TIME = 3600; // 1 hour\nconst DEFAULT_GATEWAY_URL = 'https://rcg.conviva.com';\nlet flushTimer = null;\nlet initialEvents = [];\nlet uploadPolicyObject = null;\n\nasync function openDB() {\n  return new Promise((resolve, reject) => {\n    const request = indexedDB.open(DB_NAME, 1);\n    request.onupgradeneeded = () => {\n      const db = request.result;\n      const store = db?.createObjectStore(STORE_NAME, { keyPath: 'id', autoIncrement: true });\n      store.createIndex('byTimestamp', 'timestamp');\n      const policy = db.createObjectStore(POLICY_NAME, { keyPath: 'id' });\n      policy.put({ id: POLICY_KEY, value: null });\n    };\n    request.onsuccess = () => resolve(request.result);\n    request.onerror = () => reject(request.error);\n  });\n}\n\nfunction deleteDB() {\n  if (db) {\n    db.close();\n  }\n  return new Promise((resolve, reject) => {\n    const deleteRequest = indexedDB.deleteDatabase(DB_NAME);\n\n    deleteRequest.onsuccess = () => {\n      resolve();\n    };\n\n    deleteRequest.onerror = () => {\n      reject(deleteRequest.error);\n    };\n\n    deleteRequest.onblocked = () => {};\n  });\n}\n\nasync function storeEvent(eventPayload) {\n  if (!db) {\n    initialEvents.push(eventPayload.event);\n    return;\n  }\n\n  try {\n    const tx = db.transaction(STORE_NAME, 'readwrite');\n    const store = tx.objectStore(STORE_NAME);\n    if (initialEvents.length > 0) {\n      initialEvents.forEach((event) => store.add(event));\n      initialEvents = [];\n    }\n    store.add(eventPayload.event);\n\n    await tx.done;\n  } catch (error) {\n    //console.warn('Failed to store event:', error);\n  }\n}\n\nasync function getAllEvents() {\n  if (!db) {\n    return [];\n  }\n\n  const tx = db.transaction(STORE_NAME, 'readonly');\n  const store = tx.objectStore(STORE_NAME);\n  const index = store.index('byTimestamp');\n  const request = index.getAll();\n\n  return new Promise((resolve, reject) => {\n    tx.onerror = () => reject(tx.error);\n    request.onerror = () => reject(request.error);\n\n    request.onsuccess = () => resolve(request.result);\n  });\n}\n\nasync function pruneOldEvents() {\n  if (!db) {\n    return;\n  }\n\n  return new Promise((resolve, reject) => {\n    const tx = db.transaction(STORE_NAME, 'readwrite');\n    const store = tx.objectStore(STORE_NAME);\n    let initialCount = 0;\n\n    tx.oncomplete = () => {\n      resolve();\n    };\n    tx.onerror = () => {\n      reject(tx.error);\n    };\n    const countReq = store.count();\n\n    countReq.onsuccess = () => {\n      initialCount = countReq.result;\n\n      if (initialCount <= MAX_EVENTS) {\n        return;\n      }\n\n      const deleteCount = initialCount - MAX_EVENTS;\n      let deleted = 0;\n      const cursorReq = store.openCursor();\n      cursorReq.onsuccess = () => {\n        const cursor = cursorReq.result;\n        if (cursor && deleted < deleteCount) {\n          cursor.delete();\n          deleted++;\n          cursor.continue();\n        }\n      };\n    };\n  });\n}\n\nasync function setPolicyValue(value) {\n  if (!db) {\n    return;\n  }\n  try {\n    const tx = db.transaction(POLICY_NAME, 'readwrite');\n    const policyStore = tx.objectStore(POLICY_NAME);\n    policyStore.put({ id: POLICY_KEY, value });\n    await tx.done;\n  } catch (error) {}\n}\n\nasync function getPolicyValue() {\n  if (!db) {\n    return null;\n  }\n\n  return new Promise((resolve, reject) => {\n    const tx = db.transaction(POLICY_NAME, 'readonly');\n    const req = tx.objectStore(POLICY_NAME).get(POLICY_KEY); // e.g. 'policy'\n\n    req.onsuccess = () => resolve(req.result?.value ?? null); // <-- result, not value\n    req.onerror = () => reject(req.error);\n  });\n}\n\nself.onmessage = async (e) => {\n  const { type, payload } = e.data;\n\n  if (type === 'config') {\n    config = payload;\n    if (!db) {\n      db = await openDB();\n      await flushEvents();\n    }\n    scheduleFlush();\n  }\n  if (type === 'event') {\n    await storeEvent(payload);\n    await pruneOldEvents();\n  }\n  if (type === 'delete') {\n    await flushEvents();\n    await deleteDB();\n    self.postMessage({ type: 'deletion-complete' });\n  }\n};\n\nfunction scheduleFlush() {\n  if (flushTimer) {\n    clearInterval(flushTimer);\n    flushTimer = null;\n  }\n  flushTimer = setInterval(\n    async () => {\n      if (flushing) return;\n      try {\n        await flushEvents();\n      } catch (err) {\n        //console.warn(err);\n      }\n    },\n    config.uploadInterval ? config.uploadInterval * 1000 : FLUSH_TIME\n  );\n}\n\nasync function flushOldSessions() {\n  // Read all events\n  const events = await getAllEvents();\n  if (events.length === 0) return;\n\n  // Group events by _tabId/recordId\n  const groups = {};\n  for (const evt of events) {\n    const id = evt['_tabId'];\n    if (!groups[id]) groups[id] = [];\n    groups[id].push(evt);\n  }\n\n  // Sort group IDs by earliest timestamp to process older sessions first\n  const sortedIds = Object.keys(groups).sort((a, b) => {\n    const minA = Math.min(...groups[a].map((e) => e.timestamp));\n    const minB = Math.min(...groups[b].map((e) => e.timestamp));\n    return minA - minB;\n  });\n\n  // Sequentially upload each group except for the current session (config.recordId)\n  for (const id of sortedIds) {\n    if (id === config.recordId) continue; // skip current session; handle separately\n\n    const batch = groups[id].sort((a, b) => a.timestamp - b.timestamp);\n\n    try {\n      await uploadBatch(batch);\n    } catch (err) {\n      //console.warn(`[Worker] upload failed for recordId ${id}`, err);\n      // Skip deletion on failure so events can be retried later\n      continue;\n    }\n\n    // Remove uploaded events for this group\n    const tx = db.transaction(STORE_NAME, 'readwrite');\n    const store = tx.objectStore(STORE_NAME);\n    for (const evt of batch) {\n      await store.delete(evt.id);\n    }\n    await tx.done;\n  }\n}\n\nasync function flushEvents() {\n  if (flushing || !db) return;\n  flushing = true;\n\n  try {\n    // If the one-time flush hasn't been done, attempt it\n    if (!hasFlushedOldEvents) {\n      // Use the Web Locks API so only one tab does the global flush\n      if (navigator?.locks?.request) {\n        await navigator.locks.request(\n          'session-replay-flush',\n          { mode: 'exclusive', ifAvailable: true },\n          async (lock) => {\n            if (lock) {\n              await flushOldSessions();\n            }\n          }\n        );\n      } else {\n        // Fallback: perform the flush unconditionally\n        await flushOldSessions();\n      }\n      hasFlushedOldEvents = true;\n    }\n\n    // Always flush events for the current recordId\n    const allEvents = await getAllEvents();\n    if (allEvents.length === 0) return;\n    const currentEvents = allEvents.filter((evt) => evt['_tabId'] === config.recordId);\n\n    if (currentEvents.length > 0) {\n      await uploadBatch(currentEvents);\n\n      // Remove only these events from the store\n      const tx = db.transaction(STORE_NAME, 'readwrite');\n      const store = tx.objectStore(STORE_NAME);\n      for (const evt of currentEvents) {\n        await store.delete(evt.id);\n      }\n      await tx.done;\n    }\n  } catch (err) {\n    //console.warn('flush failed', err);\n  } finally {\n    flushing = false;\n  }\n}\n\nasync function uploadBatch(events) {\n  try {\n    let tabId = events[0]['_tabId'];\n    let timestamp = events[0]['timestamp'];\n    const json = JSON.stringify(events);\n    const compressed = pako.gzip(json);\n    const blob = new Blob([compressed], { type: 'application/octet-stream' });\n    const blobName = getBlobNameRoundedToMinute(timestamp, tabId);\n    await uploadFileToGcs(blob, blobName);\n  } catch (error) {\n    //console.warn('Error uploading batch:', error);\n    throw error; // Re-throw to handle in flushEvents\n  }\n}\n\nfunction sleep(ms) {\n  return new Promise((res) => setTimeout(res, ms));\n}\n\nfunction getBlobNameRoundedToMinute(timestamp, tabId) {\n  const date = new Date(timestamp); // Uses current time\n  date.setUTCSeconds(0, 0); // Rounds down to the start of the current minute\n\n  const day = String(date.getUTCDate()).padStart(2, '0');\n  const month = String(date.getUTCMonth() + 1).padStart(2, '0'); // Months are 0-indexed\n  const year = String(date.getUTCFullYear()).slice(-2);\n  const hour = String(date.getUTCHours()).padStart(2, '0');\n\n  const epoch = Math.floor(date.getTime() / 1000); // Epoch time in seconds (UTC-based)\n\n  const uuid = getUUID(); // Generate a UUID for uniqueness\n\n  return `${year}-${month}-${day}-${hour}-${epoch}_${tabId}_${uuid}.gz`;\n}\n\nasync function uploadFileToGcs(blob, blobName) {\n  try {\n    if (!uploadPolicyObject) {\n      uploadPolicyObject = await getPolicyValue();\n    }\n    const isPolicyInvalid = uploadPolicyObject ? Date.now() >= uploadPolicyObject.expiry : true;\n    if (isPolicyInvalid) {\n      const expiryTimeInSec = config.policyExpiryTime || UPDATE_POLICY_EXPIRY_TIME; // Default to 1 hour if not set\n      const gatewayUrl = getGatewayUrl();\n      const response = await fetch(`${gatewayUrl}`);\n      if (!response.ok) {\n        throw new Error('Failed to get upload policy from server.');\n      }\n      let uploadPolicy = await response.json();\n      let isoString = uploadPolicy.fields['x-goog-date'];\n      let urlExpiryTimestamp = convertToUnixTimestamp(isoString) + expiryTimeInSec * 1000; // Convert to milliseconds\n      uploadPolicyObject = { policy: uploadPolicy, expiry: urlExpiryTimestamp };\n      await setPolicyValue(uploadPolicyObject); // Store the new policy\n    }\n  } catch (error) {\n    throw error;\n  }\n\n  const form = new FormData();\n  Object.entries(uploadPolicyObject?.policy.fields).forEach(([k, v]) => form.append(k, v));\n  let key = `${uploadPolicyObject?.policy.customerID}/${config.clId}/${blobName}`;\n  form.set('key', key); // override the dummy one\n  form.append('file', blob, blobName);\n\n  try {\n    const uploadResponse = await fetch(uploadPolicyObject?.policy.url, {\n      method: 'POST',\n      body: form,\n    });\n\n    if (!uploadResponse.ok) {\n      const errorText = await uploadResponse.text();\n      throw new Error(`GCS Upload Error: ${uploadResponse.status} ${errorText}`);\n    }\n  } catch (error) {\n    throw error;\n  }\n}\n\nfunction getGatewayUrl() {\n  const expiryTimeInSec = config.policyExpiryTime || UPDATE_POLICY_EXPIRY_TIME;\n  let endPointUrl = config.endpoint || DEFAULT_GATEWAY_URL;\n  return `${endPointUrl}/sr?clientId=${config.clId}&expiryTimeInSec=${expiryTimeInSec}&customerKey=${config.customerKey}`;\n}\n\nfunction convertToUnixTimestamp(isoString) {\n  const date = new Date(isoString.replace(/^(\\d{4})(\\d{2})(\\d{2})T(\\d{2})(\\d{2})(\\d{2})Z$/, '$1-$2-$3T$4:$5:$6Z'));\n  const unixTimestampInMilliSceonds = date.getTime();\n  return unixTimestampInMilliSceonds;\n}\n\nfunction getUUID() {\n  if (self.crypto && typeof self.crypto.randomUUID === 'function') {\n    return self.crypto.randomUUID();\n  }\n  if (self.crypto && typeof self.crypto.getRandomValues === 'function') {\n    const a = new Uint8Array(16);\n    self.crypto.getRandomValues(a);\n    a[6] = (a[6] & 0x0f) | 0x40; // version 4\n    a[8] = (a[8] & 0x3f) | 0x80; // variant 10\n    const hex = [...a].map((b) => b.toString(16).padStart(2, '0'));\n    return `${hex.slice(0, 4).join('')}-${hex.slice(4, 6).join('')}-${hex.slice(6, 8).join('')}-${hex\n      .slice(8, 10)\n      .join('')}-${hex.slice(10, 16).join('')}`;\n  }\n\n  const t = Date.now().toString(16);\n  const p =\n    typeof performance !== 'undefined' && performance.now ? Math.floor(performance.now() * 1000).toString(16) : '';\n  const r = Math.random().toString(16).slice(2); // NOT crypto-strong\n  const c = (__uuidCounter++).toString(16);\n  // Format roughly like a UUID to keep downstream happy\n  return `${t.slice(-8)}-${p.slice(-8)}-${r.slice(0, 4)}-${r.slice(4, 8)}-${r.slice(8, 20)}${c}`;\n}\n"],
{type:"application/javascript"});this._workerUrl=URL.createObjectURL(a);this.worker=new Worker(this._workerUrl);this.recording=!1;this.recordId=vo().generateId();this.worker.postMessage({type:"config",payload:ha(ha(ha({},null===(e=this.sessionReplayConfig)||void 0===e?void 0:e.emitterConfiguration),null===(f=this.sessionReplayConfig)||void 0===f?void 0:f.networkConfiguration),{customerKey:this.trackerConfiguration.convivaCustomerKey,clId:Cj().clId,recordId:this.recordId})});this._handleVisibilityChange=
this._handleVisibilityChange.bind(this)}b.prototype.initiateRecording=function(){this.startRecording();document.addEventListener("visibilitychange",this._handleVisibilityChange,{signal:sb})};b.prototype.startRecording=function(){var a=this;this.recording||(this.recording=!0,this.tracker.setCustomTags({isSR:!0}),this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.timerId=setTimeout(function(){var c,d,e,f,g,h,k,m,u,n,t,l,q,p,v,w,y,B,G,H,E,F,I,N,la,S,pa,Q,D,C,z,P,M,oa,fa,R,wa,xa,ob,L,U,
V,ka,na,Ea,Za,Ja,$a,eb,ea,Ia,aa,Ya,$b,Sc,Tc,Uc,Vc,Wc,Xc,Yc,ue,Ub;a.stopFn=Hc({blockSelector:null!==(e=null===(d=null===(c=a.sessionReplayConfig)||void 0===c?void 0:c.webRecorderConfiguration)||void 0===d?void 0:d.blockSelector)&&void 0!==e?e:void 0,ignoreSelector:null!==(h=null===(g=null===(f=a.sessionReplayConfig)||void 0===f?void 0:f.webRecorderConfiguration)||void 0===g?void 0:g.ignoreSelector)&&void 0!==h?h:void 0,ignoreCSSAttributes:null!==(u=null===(m=null===(k=a.sessionReplayConfig)||void 0===
k?void 0:k.webRecorderConfiguration)||void 0===m?void 0:m.ignoreCSSAttributes)&&void 0!==u?u:void 0,maskTextSelector:null!==(l=null===(t=null===(n=a.sessionReplayConfig)||void 0===n?void 0:n.webRecorderConfiguration)||void 0===t?void 0:t.maskTextSelector)&&void 0!==l?l:void 0,maskAllInputs:null!==(v=null===(p=null===(q=a.sessionReplayConfig)||void 0===q?void 0:q.webRecorderConfiguration)||void 0===p?void 0:p.maskAllInputs)&&void 0!==v?v:!1,maskInputOptions:null!==(B=null===(y=null===(w=a.sessionReplayConfig)||
void 0===w?void 0:w.webRecorderConfiguration)||void 0===y?void 0:y.maskInputOptions)&&void 0!==B?B:{password:!0,email:!0,textarea:!0,text:!0,tel:!0},slimDOMOptions:null!==(E=null===(H=null===(G=a.sessionReplayConfig)||void 0===G?void 0:G.webRecorderConfiguration)||void 0===H?void 0:H.slimDOMOptions)&&void 0!==E?E:{comment:!1,headWhitespace:!1,headMetaDescKeywords:!1,headMetaSocial:!1,headMetaRobots:!1,headMetaHttpEquiv:!1,headMetaAuthorship:!1,headMetaVerification:!1},dataURLOptions:null!==(N=null===
(I=null===(F=a.sessionReplayConfig)||void 0===F?void 0:F.webRecorderConfiguration)||void 0===I?void 0:I.dataURLOptions)&&void 0!==N?N:{},inlineStylesheet:null!==(pa=null===(S=null===(la=a.sessionReplayConfig)||void 0===la?void 0:la.webRecorderConfiguration)||void 0===S?void 0:S.inlineStylesheet)&&void 0!==pa?pa:!0,recordCanvas:null!==(C=null===(D=null===(Q=a.sessionReplayConfig)||void 0===Q?void 0:Q.webRecorderConfiguration)||void 0===D?void 0:D.recordCanvas)&&void 0!==C?C:!1,recordCrossOriginIframes:null!==
(M=null===(P=null===(z=a.sessionReplayConfig)||void 0===z?void 0:z.webRecorderConfiguration)||void 0===P?void 0:P.recordCrossOriginIframes)&&void 0!==M?M:!1,recordAfter:null!==(R=null===(fa=null===(oa=a.sessionReplayConfig)||void 0===oa?void 0:oa.webRecorderConfiguration)||void 0===fa?void 0:fa.recordAfter)&&void 0!==R?R:"load",inlineImages:null!==(ob=null===(xa=null===(wa=a.sessionReplayConfig)||void 0===wa?void 0:wa.webRecorderConfiguration)||void 0===xa?void 0:xa.inlineImages)&&void 0!==ob?ob:
!1,collectFonts:null!==(V=null===(U=null===(L=a.sessionReplayConfig)||void 0===L?void 0:L.webRecorderConfiguration)||void 0===U?void 0:U.collectFonts)&&void 0!==V?V:!1,userTriggeredOnInput:null!==(Ea=null===(na=null===(ka=a.sessionReplayConfig)||void 0===ka?void 0:ka.webRecorderConfiguration)||void 0===na?void 0:na.userTriggeredOnInput)&&void 0!==Ea?Ea:!1,sampling:{mousemove:null!==($a=null===(Ja=null===(Za=a.sessionReplayConfig)||void 0===Za?void 0:Za.webRecorderConfiguration)||void 0===Ja?void 0:
Ja.mousemove)&&void 0!==$a?$a:!1,mouseInteraction:null!==(Ia=null===(ea=null===(eb=a.sessionReplayConfig)||void 0===eb?void 0:eb.webRecorderConfiguration)||void 0===ea?void 0:ea.mouseInteraction)&&void 0!==Ia?Ia:{MouseUp:!1,MouseDown:!1,Click:!0,ContextMenu:!0,DblClick:!0,Focus:!0,Blur:!0,TouchStart:!1,TouchEnd:!1},scroll:null!==($b=null===(Ya=null===(aa=a.sessionReplayConfig)||void 0===aa?void 0:aa.webRecorderConfiguration)||void 0===Ya?void 0:Ya.scroll)&&void 0!==$b?$b:300,media:null!==(Uc=null===
(Tc=null===(Sc=a.sessionReplayConfig)||void 0===Sc?void 0:Sc.webRecorderConfiguration)||void 0===Tc?void 0:Tc.media)&&void 0!==Uc?Uc:1E3,input:null!==(Xc=null===(Wc=null===(Vc=a.sessionReplayConfig)||void 0===Vc?void 0:Vc.webRecorderConfiguration)||void 0===Wc?void 0:Wc.input)&&void 0!==Xc?Xc:"last"},checkoutEveryNms:null!==(Ub=null===(ue=null===(Yc=a.sessionReplayConfig)||void 0===Yc?void 0:Yc.webRecorderConfiguration)||void 0===ue?void 0:ue.checkoutEveryNms)&&void 0!==Ub?Ub:6E5,emit:function(Ib){var ve;
3===Ib.type&&7===(null===(ve=Ib.data)||void 0===ve?void 0:ve.source)||!Ib||"number"!==typeof Ib.timestamp||(Ib._tabId=a.recordId,a.worker.postMessage({type:"event",payload:{event:Ib}}))}})},1E3))};b.prototype.stopRecording=function(a){var c=this;void 0===a&&(a=!1);this.recording&&(this.recording=!1,this.stopFn&&(this.stopFn(),this.stopFn=null),document.removeEventListener("visibilitychange",this._handleVisibilityChange),a&&(this.worker.postMessage({type:"delete"}),this.tracker.setCustomTags({isSR:!1})),
this.worker.onmessage=function(d){var e;if("deletion-complete"===(null===(e=d.data)||void 0===e?void 0:e.type)){try{c.worker.terminate()}catch(f){}try{URL.revokeObjectURL(c._workerUrl)}catch(f){}}})};b.prototype._handleVisibilityChange=function(){"visible"===document.visibilityState&&this.recording&&"function"===typeof Hc.takeFullSnapshot&&requestAnimationFrame(function(){Hc.takeFullSnapshot()})};return b}(),Ad;(function(b){b[b.APP=0]="APP";b[b.REMOTE=1]="REMOTE";b[b.MERGE=2]="MERGE"})(Ad||(Ad={}));
var Zc={},Mo=function(){return function(){this.outQueues=[];this.bufferFlushers=[];this.hasLoaded=!1;this.registeredOnLoadHandlers=[]}}();Va.cleanup=function(b){zb(b,function(a){a.clearTimers()});Ko(b)};Va.convivaAppTracker=function(b){void 0===b&&(b={});try{var a="undefined"!==typeof window?Lo():void 0;if(a){var c=b.trackerVersionSuffix?"js-".concat("1.4.4-beta"," ").concat(b.trackerVersionSuffix):"js-".concat("1.4.4-beta");if(Zc.hasOwnProperty("CAT"))var d=null;else Zc.CAT=zo("CAT","CAT",c,a,b),
d=Zc.CAT;return d}}catch(e){console.warn("Conviva App Tracker:: Initialisation failed! "+e)}};Va.getClientId=function(){var b="";"undefined"!=typeof window&&(null===window||void 0===window?0:window.localStorage)&&(b=window.localStorage.getItem("Conviva.sdkConfig"),b=JSON.parse(b||"{}"),b="{}"===b||"undefined"===typeof b?"":b.clId);return b};Va.setClientId=function(b){if(b&&"string"===typeof b)try{var a=b.split(".");if(4!==a.length)console.warn('Conviva App Tracker:: Invalid clientId format! It should be in the format of "x.x.x.x"');
else if(!1===a.every(function(g){return/^\d+$/.test(g)}))console.warn("Conviva App Tracker:: Invalid clientId format! Every part of clientId should be numeric");else if("undefined"!=typeof window&&(null===window||void 0===window?0:window.localStorage)){var c=window.localStorage,d=c.getItem("Conviva.sdkConfig"),e=JSON.parse(d||"{}");"{}"===e||"undefined"===typeof e?e={clId:b}:e.clId=b;var f=JSON.stringify(e);c.setItem("Conviva.sdkConfig",f)}else console.warn("Conviva App Tracker:: window or local storage is not available")}catch(g){console.warn(g)}else console.warn("Conviva App Tracker:: Unable to set clinetId string!")};
Va.setCustomTags=function(b,a){zb(a,function(c){try{c.setCustomTags(b)}catch(d){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})};Va.setCustomUrl=function(b,a){zb(a,function(c){c.setCustomUrl(b)})};Va.setDocumentTitle=function(b,a){zb(a,function(c){c.setDocumentTitle(b)})};Va.setReferrerUrl=function(b,a){zb(a,function(c){c.setReferrerUrl(b)})};Va.setUserId=function(b,a){zb(a,function(c){c.setUserId(b)})};Va.trackButtonClick=function(b,a){zb(a,function(c){try{c.trackButtonClick(b)}catch(d){console.warn("Conviva App Tracker:: Unable to track button click event! "+
d)}})};Va.trackCustomEvent=function(b,a){zb(a,function(c){try{c.trackCustomEvent(b)}catch(d){console.warn("Conviva App Tracker:: Unable to track custom event! "+d)}})};Va.trackError=function(b,a){zb(a,function(c){try{c.trackErrorEvent(b)}catch(d){console.warn("Conviva App Tracker:: Unable to track error!")}})};Va.trackLinkClick=function(b,a){zb(a,function(c){try{c.trackLinkClick(b)}catch(d){console.warn("Conviva App Tracker:: Unable to track link click event! "+d)}})};Va.trackPageView=function(b,
a){zb(a,function(c){c.trackPageView(b)})};Va.unsetCustomTags=function(b,a){zb(a,function(c){try{c.unsetCustomTags(b)}catch(d){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})};Va.version="1.4.4-beta";Object.defineProperty(Va,"__esModule",{value:!0})})
//# sourceMappingURL=conviva-eco-js-sensor.umd.min.js.map
