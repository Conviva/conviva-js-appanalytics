/*!
 * Browser tracker for Conviva v1.1.11 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */

'use strict';!function(wa,la){"object"==typeof exports&&"undefined"!=typeof module?la(exports):"function"==typeof define&&define.amd?define(["exports"],la):la((wa="undefined"!=typeof globalThis?globalThis:wa||self).convivaBrowserTracking={})}(this,function(wa){function la(a){return la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},la(a)}function Ca(a,
c,b){if(b||2===arguments.length)for(var d,e=0,g=c.length;e<g;e++)!d&&e in c||(d||(d=Array.prototype.slice.call(c,0,e)),d[e]=c[e]);return a.concat(d||Array.prototype.slice.call(c))}function mh(a){if(!a)return a;switch(4-a.length%4){case 2:a+="==";break;case 3:a+="="}return function(c){var b,d,e,g=0,f=0,k="",l=[];if(!c)return c;c+="";do{var m=(b=ab.indexOf(c.charAt(g++))<<18|ab.indexOf(c.charAt(g++))<<12|(d=ab.indexOf(c.charAt(g++)))<<6|(e=ab.indexOf(c.charAt(g++))))>>16&255;var u=b>>8&255;b&=255;l[f++]=
64===d?String.fromCharCode(m):64===e?String.fromCharCode(m,u):String.fromCharCode(m,u,b)}while(g<c.length);return k=l.join(""),function(p){return decodeURIComponent(p.split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(k.replace(/\0+$/,""))}(a.replace(/-/g,"+").replace(/_/g,"/"))}function Vd(){var a,c={},b=[],d=[],e=[],g=function(f,k){null!=k&&""!==k&&(c[f]=k)};return{add:g,addDict:function(f){for(var k in f)Object.prototype.hasOwnProperty.call(f,k)&&g(k,
f[k])},addJson:function(f,k,l){l&&pf(l)&&(f={keyIfEncoded:f,keyIfNotEncoded:k,json:l},d.push(f),b.push(f))},addContextEntity:function(f){e.push(f)},getPayload:function(){return c},getJson:function(){return b},withJsonProcessor:function(f){a=f},build:function(){return null==a||a(this,d,e),c}}}function nh(a){return function(c,b,d){for(var e=function(m,u,p){m=JSON.stringify(m);if(a){p=c.add;if(m){var n,y=0,D=0,x=[];if(m){m=unescape(encodeURIComponent(m));do{var z=(n=m.charCodeAt(y++)<<16|m.charCodeAt(y++)<<
8|m.charCodeAt(y++))>>18&63;var w=n>>12&63;var v=n>>6&63;n&=63;x[D++]=ab.charAt(z)+ab.charAt(w)+ab.charAt(v)+ab.charAt(n)}while(y<m.length);z=x.join("");m=m.length%3;m=(m?z.slice(0,m-3):z)+"===".slice(m||3)}m=m.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}p.call(c,u,m)}else c.add(p,m)},g=function(m,u){m||(m=c.getPayload(),m=(a?m.cx:m.co)?JSON.parse(a?mh(m.cx):m.co):void 0);return m?m.dt=m.dt.concat(u.dt):m=u,m},f=void 0,k=0;k<b.length;k++){var l=b[k];"cx"===l.keyIfEncoded?f=g(f,l.json):
e(l.json,l.keyIfEncoded,l.keyIfNotEncoded)}(b.length=0,d.length)&&(f=g(f,{sc:"sp/ctx/1-0-0",dt:Ca([],d,!0)}),d.length=0);f&&e(f,"cx","co")}}function pf(a){if(!qf(a))return!1;for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c))return!0;return!1}function qf(a){return null!=a&&(a.constructor==={}.constructor||a.constructor===[].constructor)}function oh(){var a=[],c=[],b=function(d){var e=function(l){var m=0;for(l=l.getJson();m<l.length;m++){var u=l[m];if("ue_px"===u.keyIfEncoded&&"object"===
la(u.json.data)&&(u=u.json.data.schema,"string"==typeof u))return u}return""}(d),g=function(l){l=l.getPayload().e;return"string"==typeof l?l:""}(d),f=[],k=Wd(a,d,g,e);f.push.apply(f,k);d=function(l,m,u,p){var n;l=rf(l).map(function(y){if((y=function(D,x,z,w){if(sf(D)){var v=D[0],q=!1;try{q=v({event:x.getPayload(),eventType:z,eventSchema:w})}catch(G){q=!1}if(!0===q)return Wd(D[1],x,z,w)}else if(tf(D)&&function(G,I){var P=0,E=0,M=G.accept;Array.isArray(M)?G.accept.some(function(N){return hd(N,I)})&&
E++:"string"==typeof M&&hd(M,I)&&E++;M=G.reject;Array.isArray(M)?G.reject.some(function(N){return hd(N,I)})&&P++:"string"==typeof M&&hd(M,I)&&P++;return 0<E&&0===P?!0:!1}(D[0],w))return Wd(D[1],x,z,w);return[]}(y,m,u,p))&&0!==y.length)return y});return(n=[]).concat.apply(n,l.filter(function(y){return null!=y&&y.filter(Boolean)}))}(c,d,g,e);return f.push.apply(f,d),f};return{getGlobalPrimitives:function(){return a},getConditionalProviders:function(){return c},addGlobalContexts:function(d){for(var e=
[],g=[],f=0;f<d.length;f++){var k=d[f];uf(k)?e.push(k):ic(k)&&g.push(k)}a=a.concat(g);c=c.concat(e)},clearGlobalContexts:function(){c=[];a=[]},removeGlobalContexts:function(d){for(var e=function(f){uf(f)?c=c.filter(function(k){return JSON.stringify(k)!==JSON.stringify(f)}):ic(f)&&(a=a.filter(function(k){return JSON.stringify(k)!==JSON.stringify(f)}))},g=0;g<d.length;g++)e(d[g])},getApplicableContexts:function(d){return b(d)}}}function vf(a){for(var c,b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];
return null!==(c=null==a?void 0:a.map(function(e){if("function"!=typeof e)return e;try{return e.apply(void 0,b)}catch(g){}}).filter(Boolean))&&void 0!==c?c:[]}function wf(a){a=a.split(".");return!!(a&&1<a.length)&&function(c){if("*"===c[0]||"*"===c[1])return!1;if(0<c.slice(2).length){var b=!1,d=0;for(c=c.slice(2);d<c.length;d++)if("*"===c[d])b=!0;else if(b)return!1;return!0}return 2==c.length}(a)}function xf(a){a=/^iglu:((?:(?:[a-zA-Z0-9-_]+|\*).)+(?:[a-zA-Z0-9-_]+|\*))\/([a-zA-Z0-9-_.]+|\*)\/jsonschema\/([1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)$/.exec(a);
if(null!==a&&wf(a[1]))return a.slice(1,6)}function Xd(a){if(a=xf(a)){var c=a[0];return 5===a.length&&wf(c)}return!1}function yf(a){return function(c){return Array.isArray(c)&&c.every(function(b){return"string"==typeof b})}(a)?a.every(function(c){return Xd(c)}):"string"==typeof a&&Xd(a)}function Ac(a){return!!(pf(a)&&"sc"in a&&"dt"in a)&&"string"==typeof a.sc&&"object"===la(a.dt)}function id(a){return"function"==typeof a&&1>=a.length}function ic(a){return id(a)||Ac(a)}function sf(a){return!(!Array.isArray(a)||
2!==a.length)&&(Array.isArray(a[1])?id(a[0])&&a[1].every(ic):id(a[0])&&ic(a[1]))}function tf(a){return!(!Array.isArray(a)||2!==a.length)&&!!function(c){var b=0;if(null!=c&&"object"===la(c)&&!Array.isArray(c)){if(Object.prototype.hasOwnProperty.call(c,"accept")){if(!yf(c.accept))return!1;b+=1}if(Object.prototype.hasOwnProperty.call(c,"reject")){if(!yf(c.reject))return!1;b+=1}return 0<b&&2>=b}return!1}(a[0])&&(Array.isArray(a[1])?a[1].every(ic):ic(a[1]))}function uf(a){return sf(a)||tf(a)}function hd(a,
c){if(!Xd(a))return!1;a=xf(a);c=function(d){d=/^iglu:([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_]+)\/jsonschema\/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$/.exec(d);if(null!==d)return d.slice(1,6)}(c);if(a&&c){if(!function(d,e){e=e.split(".");d=d.split(".");if(e&&d){if(e.length!==d.length)return!1;for(var g=0;g<d.length;g++)if(!zf(e[g],d[g]))return!1;return!0}return!1}(a[0],c[0]))return!1;for(var b=1;5>b;b++)if(!zf(a[b],c[b]))return!1;return!0}return!1}function zf(a,c){return a&&c&&"*"===a||a===c}function rf(a){return Array.isArray(a)?
a:[a]}function Wd(a,c,b,d){var e;a=rf(a).map(function(g){a:if(Ac(g))g=[g];else{if(id(g)){b:{var f=void 0;try{var k=(f=g({event:c.getPayload(),eventType:b,eventSchema:d}),Array.isArray(f)&&f.every(Ac)||Ac(f)?f:void 0);break b}catch(l){}k=void 0}if(Ac(k)){g=[k];break a}if(Array.isArray(k)){g=k;break a}}g=void 0}if(g&&0!==g.length)return g});return(e=[]).concat.apply(e,a.filter(function(g){return null!=g&&g.filter(Boolean)}))}function ph(a){void 0===a&&(a={});var c=a.base64,b=a.corePlugins,d=null!=b?
b:[];c=function(g,f,k){var l=function(n){return{addPluginContexts:function(y){var D=y?Ca([],y,!0):[];return n.forEach(function(x){try{x.contexts&&D.push.apply(D,x.contexts())}catch(z){ca.error("Error adding plugin contexts",z)}}),D}}}(f),m=oh(),u=g,p={};return{track:function(n,y,D){n.withJsonProcessor(nh(u));n.add("eid",Cb.v4());n.addDict(p);D=function(z){return null==z?{type:"dtm",value:(new Date).getTime()}:"number"==typeof z?{type:"dtm",value:z}:"ttm"===z.type?{type:"ttm",value:z.value}:{type:"dtm",
value:z.value||(new Date).getTime()}}(D);n.add(D.type,D.value.toString());y=function(z,w){z=m.getApplicableContexts(z);var v=[];return w&&w.length&&v.push.apply(v,w),z&&z.length&&v.push.apply(v,z),v}(n,l.addPluginContexts(y));y=y&&y.length?{sc:"sp/ctx/1-0-0",dt:y}:void 0;void 0!==y&&n.addJson("cx","co",y);f.forEach(function(z){try{z.beforeTrack&&z.beforeTrack(n)}catch(w){ca.error("Plugin beforeTrack",w)}});"function"==typeof k&&k(n);var x=n.build();return f.forEach(function(z){try{z.afterTrack&&z.afterTrack(x)}catch(w){ca.error("Plugin afterTrack",
w)}}),x},addPayloadPair:function(n,y){p[n]=y},configuration:a,getConfig:function(){return a},setConfig:function(n){n&&(void 0!==n.base64&&(a.base64=n.base64,u=n.base64),void 0!==n.lifecycleAutotracking&&(a.lifecycleAutotracking=n.lifecycleAutotracking),void 0!==n.cacheRefreshInterval&&(a.cacheRefreshInterval=n.cacheRefreshInterval),void 0!==n.exceptionAutotracking&&(a.exceptionAutotracking=n.exceptionAutotracking),void 0!==n.enablePeriodicHeartbeat&&(a.enablePeriodicHeartbeat=n.enablePeriodicHeartbeat),
void 0!==n.periodicHeartbeatInterval&&(a.periodicHeartbeatInterval=n.periodicHeartbeatInterval),void 0!==n.enc&&(a.enc=n.enc),void 0!==n.mend&&(a.mend=n.mend),void 0!==n.maxLocalStorageQueueSize&&(a.maxLocalStorageQueueSize=n.maxLocalStorageQueueSize),void 0!==n.maxGetBytes&&(a.maxGetBytes=n.maxGetBytes),void 0!==n.bufferSize&&(a.bufferSize=n.bufferSize),void 0!==n.customEventTrackingConfiguration&&(a.customEventTrackingConfiguration=n.customEventTrackingConfiguration),void 0!==n.networkRequestTrackingConfiguration&&
(a.networkRequestTrackingConfiguration=n.networkRequestTrackingConfiguration),void 0!==n.traceparentconfig&&(a.traceparentconfig=n.traceparentconfig),void 0!==n.metaTagsTrackingConfiguration&&(a.metaTagsTrackingConfiguration=n.metaTagsTrackingConfiguration),void 0!==n.performanceContextConfig&&(a.performanceContextConfig=n.performanceContextConfig),void 0!==n.configurationVersion&&(a.configurationVersion=n.configurationVersion),void 0!==n.catRcLastUpdatedTs&&(a.catRcLastUpdatedTs=n.catRcLastUpdatedTs),
void 0!==n.endpoint&&(a.endpoint=n.endpoint),void 0!==n.controlIngestConfig&&(a.controlIngestConfig=n.controlIngestConfig),void 0!==n.applicationContext&&(a.applicationContext=n.applicationContext),void 0!==n.emitterConfiguration&&(a.emitterConfiguration=n.emitterConfiguration),void 0!==n.di&&(a.di=n.di),void 0!==n.clickcc&&(a.clickcc=n.clickcc),void 0!==n.collectionRateLimit&&(a.collectionRateLimit=n.collectionRateLimit))},getBase64Encoding:function(){return u},setBase64Encoding:function(n){u=n},
addPayloadDict:function(n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(p[y]=n[y])},resetPayloadPairs:function(n){p=qf(n)?n:{}},setTrackerVersion:function(n){p.tv=n},setTrackerNamespace:function(n){p.tna=n},setAppId:function(n){p.aid=n},setPlatform:function(n){p.p=n},setUserId:function(n){p.uid=n},setScreenResolution:function(n,y){p.res=n+"x"+y},setViewport:function(n,y){p.vp=n+"x"+y},setColorDepth:function(n){p.cd=n},setTimezone:function(n){p.tz=n},setLang:function(n){p.lang=n},setIpAddress:function(n){p.ip=
n},setUseragent:function(n){p.ua=n},addGlobalContexts:function(n){m.addGlobalContexts(n)},clearGlobalContexts:function(){m.clearGlobalContexts()},removeGlobalContexts:function(n){m.removeGlobalContexts(n)}}}(null==c||c,d,a.callback);var e=aa(aa({},c),{addPlugin:function(g){var f,k;g=g.plugin;d.push(g);null===(f=g.logger)||void 0===f||f.call(g,ca);null===(k=g.activateCorePlugin)||void 0===k||k.call(g,e)}});return null==d||d.forEach(function(g){var f,k;null===(f=g.logger)||void 0===f||f.call(g,ca);
null===(k=g.activateCorePlugin)||void 0===k||k.call(g,e)}),e}function Qb(a){var c=a.event;a=c.sc;var b=c.dt;c=Vd();a={sc:"sp/ue/1-0-0",dt:{sc:a,dt:b}};return c.add("e","ue"),c.addJson("ue_px","ue_pr",a),c}function jd(a){return Qb({event:{sc:"cv/re/1-0-1",dt:jc({name:a.name,data:a.data})}})}function jc(a,c){void 0===c&&(c={});var b={},d;for(d in a)(c[d]||null!==a[d]&&void 0!==a[d])&&(b[d]=a[d]);return b}function kc(a){for(var c=a.length;0<=--c;)a[c]=0}function Yd(a,c,b,d,e){this.static_tree=a;this.extra_bits=
c;this.extra_base=b;this.elems=d;this.max_length=e;this.has_stree=a&&a.length}function Zd(a,c){this.dyn_tree=a;this.max_code=0;this.stat_desc=c}function lb(a,c,b,d,e){this.good_length=a;this.max_lazy=c;this.nice_length=b;this.max_chain=d;this.func=e}function qh(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=kd;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=
0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new Uint16Array(1146);this.dyn_dtree=new Uint16Array(122);this.bl_tree=new Uint16Array(78);Db(this.dyn_ltree);Db(this.dyn_dtree);Db(this.bl_tree);this.bl_desc=
this.d_desc=this.l_desc=null;this.bl_count=new Uint16Array(16);this.heap=new Uint16Array(573);Db(this.heap);this.heap_max=this.heap_len=0;this.depth=new Uint16Array(573);Db(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.sym_end=this.sym_next=this.lit_bufsize=this.sym_buf=0}function Bc(a){a=this.options=Af({level:rh,method:sh,chunkSize:16384,windowBits:15,memLevel:8,strategy:th},a||{});a.raw&&0<a.windowBits?a.windowBits=-a.windowBits:a.gzip&&0<a.windowBits&&
16>a.windowBits&&(a.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new Bf;this.strm.avail_out=0;var c=Cc.deflateInit2(this.strm,a.level,a.method,a.windowBits,a.memLevel,a.strategy);if(c!==ld)throw Error(Rb[c]);if(a.header&&Cc.deflateSetHeader(this.strm,a.header),a.dictionary){var b;if(b="string"==typeof a.dictionary?$d(a.dictionary):"[object ArrayBuffer]"===Cf.call(a.dictionary)?new Uint8Array(a.dictionary):a.dictionary,(c=Cc.deflateSetDictionary(this.strm,b))!==ld)throw Error(Rb[c]);
this._dict_set=!0}}function ae(a,c){c=new Bc(c);if(c.push(a,!0),c.err)throw c.msg||Rb[c.err];return c.result}function uh(){this.strm=null;this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new Uint16Array(320);
this.work=new Uint16Array(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function Dc(a){var c=this.options=Af({chunkSize:65536,windowBits:15,to:""},a||{});c.raw&&0<=c.windowBits&&16>c.windowBits&&(c.windowBits=-c.windowBits,0===c.windowBits&&(c.windowBits=-15));!(0<=c.windowBits&&16>c.windowBits)||a&&a.windowBits||(c.windowBits+=32);15<c.windowBits&&48>c.windowBits&&0==(15&c.windowBits)&&(c.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new Bf;this.strm.avail_out=
0;a=tb.inflateInit2(this.strm,c.windowBits);if(a!==Ec)throw Error(Rb[a]);if(this.header=new vh,tb.inflateGetHeader(this.strm,this.header),c.dictionary&&("string"==typeof c.dictionary?c.dictionary=$d(c.dictionary):"[object ArrayBuffer]"===Df.call(c.dictionary)&&(c.dictionary=new Uint8Array(c.dictionary)),c.raw&&(a=tb.inflateSetDictionary(this.strm,c.dictionary))!==Ec))throw Error(Rb[a]);}function be(a,c){c=new Dc(c);if(c.push(a),c.err)throw c.msg||Rb[c.err];return c.result}function ce(a){return!(!a||
"string"!=typeof a.valueOf())}function Fc(a){return Number.isInteger&&Number.isInteger(a)||"number"==typeof a&&isFinite(a)&&Math.floor(a)===a}function de(a){if(!ce(a)){a=a.text||"";var c=document.getElementsByTagName("title");c&&null!=c[0]&&(a=c[0].text)}return a}function md(a){var c=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(a);return c?c[1]:a}function Ef(a){var c=a.length;return"."===a.charAt(--c)&&(a=a.slice(0,c)),"*."===a.slice(0,2)&&(a=a.slice(1)),a}function ee(a){var c=window,b=Gc("referrer",
c.location.href)||Gc("referer",c.location.href);if(b)return b;if(a)return a;try{if(c.top)return c.top.document.referrer;if(c.parent)return c.parent.document.referrer}catch(d){}return document.referrer}function hb(a,c,b,d){return void 0!==a&&(a.addEventListener?(a.addEventListener(c,b,d),!0):a.attachEvent?a.attachEvent("on"+c,b):void(a["on"+c]=b))}function Gc(a,c){return(a=(new RegExp("^[^#]*[?&]"+a+"=([^&#]*)")).exec(c))?decodeURIComponent(a[1].replace(/\+/g," ")):null}function nd(a,c,b){void 0===
b&&(b=63072E3);try{var d=window.localStorage,e=Date.now()+1E3*b;return d.setItem("".concat(a,".expires"),e.toString()),d.setItem(a,c),!0}catch(g){return!1}}function Ff(a){try{var c=window.localStorage;return c.removeItem(a),c.removeItem(a+".expires"),!0}catch(b){return!1}}function mb(a,c,b,d,e,g,f){return 1<arguments.length?document.cookie=a+"="+encodeURIComponent(null!=c?c:"")+(b?"; Expires="+(new Date(+new Date+1E3*b)).toUTCString():"")+(d?"; Path="+d:"")+(e?"; Domain="+e:"")+(g?"; SameSite="+g:
"")+(f?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+a+"=")[1]||"").split(";")[0])}function Gf(a){try{var c=null===window||void 0===window?void 0:window.localStorage;return!!c&&(c.removeItem(a),!0)}catch(b){return!1}}function od(){"undefined"!=typeof window&&void 0!==window.localStorage&&localStorage.removeItem(F.SAMPLING_STORAGE_RANDOM_NUMBER_KEY)}function fe(a,c){return void 0!==a.act&&void 0!==a.act[c]&&(a=a.act[c],void 0!==a)?a:F.DEFAULT_SAMPLING_ACTION[c]}function Ka(a,
c){return a.length<=c?a:a.slice(0,c-3)+"..."}function wh(a,c,b){try{if("string"==typeof b&&"string"==typeof a&&"*"===b.trim())return!0;switch(c){case "==":case "equal":return a===b;case "!=":return a!==b;case ">":return a>b;case "<":return a<b;case ">=":return a>=b;case "<=":return a<=b;case "contains":return""!==b&&"string"==typeof a&&"string"==typeof b&&-1!==a.toLowerCase().indexOf(b.toLowerCase());default:return!1}}catch(d){return console.warn("Conviva App Tracker: Error in Compare values nwreq ".concat(d)),
!1}}function xh(a,c,b){var d={};try{for(var e=0;e<c.length;e++){var g=c[e],f=a,k=d;b&&(g=g.toLowerCase(),f=f&&Object.entries(f).reduce(function(p,n){var y=n[1];return p[n[0].toLowerCase()]=y,p},{}));for(var l=g.split("."),m=0;m<l.length;m++){var u=l[m];if(null==f||!f.hasOwnProperty(u))break;m===l.length-1?k[u]=f[u]:(k[u]=k[u]||{},f=f[u],k=k[u])}}}catch(p){console.warn("Conviva App Tracker: Error in filtering schema object nwreq ".concat(p))}return d}function Hf(a,c,b){var d,e,g;return"translate.googleusercontent.com"===
a?(""===b&&(b=c),a=md(c=null!==(e=c,d=(g=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(e))&&1<(null==g?void 0:g.length)?Gc("u",g[1]):null)&&void 0!==d?d:"")):"cc.bingj.com"!==a&&"webcache.googleusercontent.com"!==a||(a=md(c=document.links[0].href)),[a,c,b]}function Hc(a,c){void 0===c&&(c=1);"0"===a[0]?(a[7]=a[6],a[5]=a[4],a[3]++):a[3]=c;c=Cb.v4();return a[6]=c,a[8]="",a[9]=void 0,c}function ge(a){a[4]=Math.round((new Date).getTime()/1E3)}function pd(a){return{activateLCPObserver:function(){try{PerformanceObserver&&
(new PerformanceObserver(function(c){try{c.getEntries().forEach(function(b){var d;if("largest-contentful-paint"===b.entryType){var e=null===performance||void 0===performance?void 0:performance.getEntriesByType("navigation"),g=void 0;e&&0<(null==e?void 0:e.length)&&(g=null===(d=e[0])||void 0===d?void 0:d.activationStart);ta=aa(aa({},b.toJSON()),{performanceNavigationActivationStart:null!=g?g:0})}})}catch(b){console.warn("convivaAppTracker error in conviva lcp observer "+b)}})).observe({type:"largest-contentful-paint",
buffered:!0})}catch(c){console.warn("convivaAppTracker conviva_lcp failed "+c)}},contexts:function(){try{switch(a){case F.PERFORMANCE_CONTEXT.DISABLED:return[];case F.PERFORMANCE_CONTEXT.PERFORMANCE_NAVIGATION_TIMING:return function(){var c,b,d;try{var e=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};if(e.getEntriesByType){var g=e.getEntriesByType("navigation")[0],f=null!==(c=null==e?void 0:e.timeOrigin)&&void 0!==c?c:0;if(!g)return[];var k={st:Math.floor(f+
g.startTime),dls:Math.floor(f+g.domainLookupStart),dle:Math.floor(f+g.domainLookupEnd),rss:Math.floor(f+g.responseStart),rse:Math.floor(f+g.responseEnd),le:Math.floor(f+g.loadEventEnd),dur:Math.floor(f+g.duration),as:Math.floor(f+g.activationStart)};return(null==ta?void 0:ta.startTime)&&(k.lcp={rt:Math.floor(f+ta.startTime),url:128<(null===(b=null==ta?void 0:ta.url)||void 0===b?void 0:b.length)?null===(d=null==ta?void 0:ta.url)||void 0===d?void 0:d.substring(0,128):ta.url,sz:ta.size}),[{sc:"cv/pc/1-0-1",
dt:k}]}return[]}catch(l){return console.warn("ConvivaAppTracker: issue will getting performance Navigation timing context"),[]}}();default:return Ca(Ca([],function(){var c=window;c=c.performance||c.mozPerformance||c.msPerformance||c.webkitPerformance;var b=c.timing;return c?[{sc:"w3/pt/1-0-0",dt:{navigationStart:b.navigationStart,domainLookupStart:b.domainLookupStart,domainLookupEnd:b.domainLookupEnd,responseStart:b.responseStart,responseEnd:b.responseEnd,loadEventEnd:b.loadEventEnd}}]:[]}(),!0),
function(){var c,b,d;try{if(void 0!==(null==ta?void 0:ta.startTime)&&"number"==typeof(null==ta?void 0:ta.startTime))return[{sc:"cv/lcp/1-0-0",dt:{lcp:Math.round(ta.startTime)-(null!==(c=ta.performanceNavigationActivationStart)&&void 0!==c?c:0),url:128<(null===(b=null==ta?void 0:ta.url)||void 0===b?void 0:b.length)?null===(d=null==ta?void 0:ta.url)||void 0===d?void 0:d.substring(0,128):ta.url}}]}catch(e){}return[]}(),!0)}}catch(c){return console.warn("convivaAppTracker problem in perfromance context "+
c),[]}}}}function qd(a,c,b,d,e,g){var f;try{var k,l=null,m=null!==(f=g.url)&&void 0!==f?f:"";if(!m)return!0;if(yh.some(function(y){return m.includes(y)}))return!1;var u=(k=new URL(m)).protocol.replace(":","");f=function(y,D){var x;a:{var z={scheme:u,host:k.hostname,path:decodeURIComponent(k.pathname)},w=Sb.NETWORK_REQUEST;try{for(var v=0;v<y.length;v++){var q=y[v],G=q.opt;if(lc(q.req,z,w)){var I=!0;var P=G||null;break a}}I=!1;P=null}catch(E){I=!1,P=null}}return I?P?lc(P,{responseStatusCode:null!==
(x=null==e?void 0:e.status)&&void 0!==x?x:0,duration:Date.now()-g.requestTimestamp},Sb.NETWORK_REQUEST)===D:D:null};if(a&&null===l&&(l=f(a,!0)),c&&null===l&&(l=f(c,!1)),null===l){var p=(null==b?void 0:b.includes("*"))||(null==b?void 0:b.some(function(y){return!(!y||""===y)&&m.includes(y)})),n=null==d?void 0:d.some(function(y){return!(!y||""===y)&&m.includes(y)});l=!p||n}return!0===l}catch(y){return!0}}function lc(a,c,b){try{if(!a)return!1;if("and"===a.type){for(var d=0,e=a.cond;d<e.length;d++)if(!lc(e[d],
c,b))return!1;return!0}if("or"===a.type){e=0;for(d=a.cond;e<d.length;e++)if(lc(d[e],c,b))return!0;return!1}return b===Sb.NETWORK_REQUEST?function(g,f){var k=g.key,l=g.op;g=g.val;if(!k||!l)return!1;switch(k){case "sch":return!!f.scheme&&rd(f.scheme,l,g);case "host":return!!f.host&&rd(f.host,l,g);case "path":return!!f.path&&rd(f.path,l,g);case "dur":return!!f.duration&&he(f.duration,l,g);case "rsc":return void 0!==f.responseStatusCode&&0<=f.responseStatusCode&&he(f.responseStatusCode,l,g);default:return!1}}(a,
c):b===Sb.CUSTOM_EVENT&&function(g,f){var k=g.key,l=g.op;g=g.val;if(!k||!l)return!1;if(void 0!==f[k]){if(ce(f[k]))return rd(f[k],l,g);if("boolean"==typeof f[k])switch(f=f[k],l){case "!=":return f!==g;case "==":return f===g;default:return!1}if(Number.isInteger(f[k]))return he(f[k],l,g)}return!1}(a,c)}catch(g){return!1}}function rd(a,c,b){var d;return"=="===c&&Array.isArray(b)?!!(d=b).includes("*")||d.some(function(e){return!(!e||""===e)&&a===e}):"contains"===c&&Array.isArray(b)?!!(d=b).includes("*")||
d.some(function(e){return!(!e||""===e)&&a.includes(e)}):"sw"===c&&Array.isArray(b)?!!(d=b).includes("*")||d.some(function(e){return!(!e||""===e)&&a.startsWith(e)}):!("ew"!==c||!Array.isArray(b))&&(!!(d=b).includes("*")||d.some(function(e){return!(!e||""===e)&&a.endsWith(e)}))}function he(a,c,b){if("in"===c.toLowerCase()&&Array.isArray(b))return b.includes(a);if("range"===c.toLowerCase()&&"object"===la(b)){c=b.min;var d=b.max,e=b.minExclusive;b=b.maxExclusive;return void 0!==c&&void 0!==d?a>=c&&a<=
d:void 0!==e&&void 0!==b&&a>e&&a<b}if(Fc(b))switch(c){case "!=":return a!==b;case ">":return a>b;case ">=":return a>=b;case "<":return a<b;case "<=":return a<=b;case "==":return a===b}return!1}function If(a,c,b){var d=null;a:{for(var e=0;e<a.length;e++){var g=a[e];var f=g.opt;if(lc(g.req,c,b)){a=!0;f=f||null;break a}}a=!1;f=null}a&&(d=!f||!!lc(f,c,b));return d}function xa(a,c,b){var d,e;try{if(a&&c){var g=null==a?void 0:a.getConfig(),f=function(k,l,m){var u,p,n,y={message:""};try{var D=m.message,
x=m.error,z=m.className,w=m.extraData;if(D)y.message=D;else if("string"==typeof x){if(!(0<x.trim().length))return ca.warn("Conviva Eco Sensor:: Mandatory field message is missing"),null;y.message=x}else"object"===la(x)&&("string"==typeof x.message&&0<x.message.trim().length&&(y.message=Ka(x.message,F.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_MESSAGE_LENGTH)),"string"==typeof x.name&&0<x.name.trim().length&&(y.exceptionName=Ka(x.name,F.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_EXCEPTION_NAME_LENGTH)),"string"==typeof x.stack&&
0<x.stack.trim().length&&(y.stackTrace=Ka(x.stack,F.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_STACK_LENGTH)));if(0===y.message.trim().length)return ca.warn("Conviva Eco Sensor:: Mandatory field message is missing"),null;"string"==typeof z&&0<z.trim().length&&(y.className=Ka(z,F.DIAGNOSTIC_INFO_MAX_LENGTH.MAX_CLASSNAME_LENGTH));null!=w&&(y.extraData=w);var v=null==k?void 0:k.getConfig();if((null==v?void 0:v.configurationVersion)&&(y.remoteConfigVersion=v.configurationVersion),(null==m?void 0:m.configAppliedTime)&&
(y.configAppliedTime=null==m?void 0:m.configAppliedTime),(null==v?void 0:v.cacheRefreshInterval)&&(y.cacheRefreshInterval=v.cacheRefreshInterval),(null==m?void 0:m.configAppliedSrc)&&(y.configAppliedSrc=null==m?void 0:m.configAppliedSrc),localStorage){var q=localStorage.getItem(F.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);null!=q&&(y.samplingRandomNumber=parseFloat(q))}"number"==typeof(null===(p=null===(u=null==v?void 0:v.controlIngestConfig)||void 0===u?void 0:u.sel)||void 0===p?void 0:p.pct)?(y.samplingPercentage=
v.controlIngestConfig.sel.pct,y.samplingDecision=F.SAMPLING_STATUS.DERIVED,null!=la(null===(n=null==v?void 0:v.controlIngestConfig)||void 0===n?void 0:n.act)&&(y.extraData=aa(aa({},y.extraData),{samplingActionConfig:v.controlIngestConfig.act}))):y.samplingDecision=F.SAMPLING_STATUS.DEFAULT;"function"==typeof l&&"string"==typeof l()&&(y.samplingStatus=l()==F.SAMPLING_MODES.RCFG)}catch(G){return ca.warn("Error occurred while generating diagnostic object",G),null}return y}(a,c,b);f&&function(k){var l;
try{var m=null==k?void 0:k.getConfig(),u=(null===(l=null==m?void 0:m.di)||void 0===l?void 0:l.lim)||10,p=Date.now();return 6E4<=p-Jf&&(Kf=0,Jf=p),!(++Kf>u)}catch(n){return ca.warn("Conviva Eco Sensor:: Error occured while checking diagnostic event is allowed",n),!1}}(a)&&("boolean"!=typeof(null===(d=null==g?void 0:g.di)||void 0===d?void 0:d.en)||!0!==(null===(e=null==g?void 0:g.di)||void 0===e?void 0:e.en)||null!=a&&a.track(Qb({event:{sc:"iglu:com.conviva/di/jsonschema/1-0-4",dt:jc({msg:f.message,
cn:f.className,st:f.stackTrace,en:f.exceptionName,ed:f.extraData,rcv:f.remoteConfigVersion,cat:f.configAppliedTime,cri:f.cacheRefreshInterval,csrc:f.configAppliedSrc,srn:f.samplingRandomNumber,spr:f.samplingPercentage,ss:f.samplingStatus,sd:f.samplingDecision})}})))}}catch(k){ca.warn("Conviva Eco Sensor:: Error occurred while sending reportDiagnosticError",k)}}function Lf(){var a,c,b,d=null===(a=null==ya?void 0:ya.core)||void 0===a?void 0:a.getConfig();sd=(null==(sd=(null===(c=null==d?void 0:d.clickcc)||
void 0===c?void 0:c.cssSelectorList)||(null===(b=fa.clickcc)||void 0===b?void 0:b.cssSelectorList))?void 0:sd.replace(/\s+/g,""))||""}function Mf(a,c){if(!(a instanceof HTMLElement||a instanceof SVGElement))return null;var b=null==a?void 0:a.closest(Nf);if(b)return b;if(b=null==a?void 0:a.closest(sd))return function(e,g){var f;e=e.querySelectorAll(Nf);if(0===e.length)return null;if(1===e.length&&0<e[0].offsetWidth&&0<e[0].offsetHeight)return e[0];var k=g.clientX;g=g.clientY;if(e.length<=("IntersectionObserver"in
window&&"fetch"in window&&"Promise"in window?F.MAX_NATIVE_SCAN:F.MAX_NATIVE_SCAN_LEGACY))for(var l=0;l<e.length;l++){var m=null===(f=e[l])||void 0===f?void 0:f.getBoundingClientRect();if(m&&k>=m.left&&k<=m.right&&g>=m.top&&g<m.bottom)return e[l]}return null}(b,c)||b;c=a;b=0;var d=F.CLICK_MAX_DEPTH;if(function(e){if(e.style){if(e.style.visibility&&""!==e.style.visibility&&"hidden"==e.style.visibility||e.style.pointerEvents&&""!==e.style.pointerEvents&&"none"==e.style.pointerEvents)return!1;if(e.style.cursor&&
""!==e.style.cursor&&"pointer"==e.style.cursor)return!0}e=getComputedStyle(e);return"hidden"!==e.visibility&&"none"!==e.pointerEvents&&"pointer"===e.cursor}(c)){for(;c&&c!==document.documentElement&&(c instanceof HTMLElement||c instanceof SVGElement)&&b<d;){if("function"==typeof c.onclick)return c;c=c.parentElement;b++}return a.closest(zh)||a}return null}function Ah(a){var c,b,d,e,g,f,k;try{var l=function(G,I){var P,E;try{if(!ya||!ya.core||!G)return null;var M=ya.core.getConfig();if(!0!==(null===
(P=null==M?void 0:M.clickcc)||void 0===P?void 0:P.en))return null;var N=null===(E=null==M?void 0:M.clickcc)||void 0===E?void 0:E.uiMode;return N===Ic.RAW?G:N===Ic.BOTH?Mf(G,I)||G:Mf(G,I)}catch(R){return ca.warn("Conviva App Tracker caused Exception in getTrackedElement method of user click tracking module",R),null}}(function(G){var I,P,E;return(null===(I=G.target)||void 0===I?void 0:I.shadowRoot)&&(E=null===(P=G.composedPath)||void 0===P?void 0:P.call(G)),E&&E[0]||G.target}(a),a);if(l&&(l instanceof
HTMLElement||l instanceof HTMLInputElement)){a={};var m=F.CLICK_KEY_MAX_LENGTH;(null==l?0:l.id)&&(a.id=Ka(l.id,m));(null==l?0:l.className)&&(a.class=Ka(l.className,m));(null==l?0:l.tagName)&&(a.elementName=Ka(l.tagName.toLowerCase(),m));(null===(c=null==l?void 0:l.innerText)||void 0===c?0:c.trim())&&(a.text=Ka(l.innerText.trim(),m));(null==l?0:l.getAttribute("name"))&&(a.name=Ka(l.getAttribute("name")||"",m));(null==l?0:l.getAttribute("type"))&&(a.elementType=Ka((null===(b=l.getAttribute("type"))||
void 0===b?void 0:b.toLowerCase())||"",m));(null==l?0:l.placeholder)&&(a.placeholder=Ka(l.placeholder,m));(null==l?0:l.getAttribute("type"))&&"password"!==(null==l?void 0:l.getAttribute("type"))&&l.value&&(a.value=Ka(l.value,m));var u=null===(d=null==ya?void 0:ya.core)||void 0===d?void 0:d.getConfig(),p=null===(e=null==u?void 0:u.clickcc)||void 0===e?void 0:e.collectattr;if(p)for(c=0;c<p.length;c++){var n=p[c],y=null==l?void 0:l.getAttribute(n);y&&(a[n]=Ka(y,m))}try{if("A"===l.tagName.toUpperCase()||
"AREA"===l.tagName.toUpperCase()){if(null!=l.href){var D=l.hostname||md(l.href),x=D.toLowerCase(),z=l.href.replace(D,x);/^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):/i.test(z)||(a.targetUrl=Ka(decodeURIComponent(z),m))}l.target&&(a.target=Ka(l.target,m))}}catch(G){ca.warn("Conviva App Tracker caused Exception in handleClick href setting",G)}var w=null===(g=l.querySelector("use"))||void 0===g?void 0:g.getAttribute("xlink:href");w&&(a["xlink:href"]=Ka(w,m));var v=null!==(f=null==
u?void 0:u.clickcc)&&void 0!==f?f:{},q=function(G,I,P){var E=G.collect,M=G.block;G=null;if(E&&(G=If(E,I,P)),M&&null===G)I=If(M,I,P),"boolean"==typeof I&&(G=!I);return null===G||G}({collect:v.collect,block:v.block},a,Sb.CUSTOM_EVENT);if("boolean"!=typeof q||!1!==q)null===(k=null==ya?void 0:ya.core)||void 0===k||k.track(jd({name:"conviva_click",data:JSON.stringify(a)}))}}catch(G){return void ca.warn("Conviva App Tracker caused Exception in handleClick method of user click tracking module",G)}}function Of(a){try{var c=
Date.now(),b=F.CLICK_DEBOUNCING_DELAY;null===ie||c-ie>=b?((Ah(a),0<td)&&xa(ya.core,ya.getSamplingMode,{className:"clickTracking - droppedEvent",message:"total click events dropped to Avoid tracking spam from rapid clicks",extraData:{clickEventDropped:td}}),td=0):td++;ie=c}catch(d){console.warn("Conviva App Tracker caused Exception in immediateClickHandler method of user click tracking module",d)}}function Bh(){try{Jc||"undefined"==typeof document||(document.body?(Tb=Of,hb(document.body,"click",Tb,
{signal:bb,capture:!0,passive:!0}),Jc=!0):document.addEventListener("DOMContentLoaded",function(){(null===document||void 0===document?0:document.body)&&(Tb=Of,hb(document.body,"click",Tb,{signal:bb,capture:!0,passive:!0}),Jc=!0)}),Lf(),(null===window||void 0===window?void 0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",function(){Lf()},{signal:bb}))}catch(a){ca.warn("Conviva App Tracker caused Exception in enableUserClickTracking method of user click tracking module",
a)}}function Pf(){try{Jc&&"undefined"!=typeof document&&document.body&&(Tb&&(document.body.removeEventListener("click",Tb),Tb=null),Jc=!1)}catch(a){ca.warn("Conviva App Tracker caused Exception in disableUserClickTracking method of user click tracking module",a)}}function Ch(){try{var a=!!window.localStorage}catch(b){a=!0}if(!a)return!1;try{var c=window.localStorage;return c.setItem("modernizr","modernizr"),c.removeItem("modernizr"),!0}catch(b){return!1}}function Dh(a,c,b,d,e,g,f,k,l,m,u,p,n,y,D,
x,z,w,v){function q(L){var Q=Object.keys(L).map(function(T){return[T,L[T]]}).reduce(function(T,da){return T[da[0]]=da[1].toString(),T},{});return{evt:Q,bytes:G(JSON.stringify(Q))}}function G(L){for(var Q=0,T=0;T<L.length;T++){var da=L.charCodeAt(T);127>=da?Q+=1:2047>=da?Q+=2:55296<=da&&57343>=da?(Q+=4,T++):Q+=65535>da?3:4}return Q}function I(L,Q){Q=M(Q,!0,!1);L=N(R([L.evt]));try{D().toLowerCase()!==ub.NONE&&(L=Qf.gzip(L,{level:6}),Q.setRequestHeader("Content-Encoding",ub.GZIP))}catch(T){}v()!==F.SAMPLING_MODES.NONE&&
Q.send(L)}function P(L){try{if("undefined"!=typeof window&&void 0!==window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__&&"function"==typeof window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__.postMessage){var Q=N(R(L));window.__CONVIVA_VISUAL_ACTIVATION_EXTENSION__.postMessage(Q)}}catch(T){ca.warn("Error occured while sending message to Visual Labelling Extension",T)}}function E(L){for(void 0===L&&(L=!1);W.length&&"string"!=typeof W[0]&&"object"!==la(W[0]);)W.shift();if(1>W.length)oa=!1;else{if(!ce(ua))throw"No collector configured";
if(oa=!0,window.clearTimeout(Na),Na=-1,pa){var Q,T=void 0,da=void 0;"object"===la(W[0])?(Q=M(T=ua,!0,L),da=function(qa){for(var za=0,vb=0;za<qa.length&&!((vb+=qa[za].bytes)>=z());)za+=1;return za}(W)):(T=ba(W[0]),Q=M(T,!1,L),da=1);var Ra=setTimeout(function(){Q.abort();oa=!1},m);if(Q.onreadystatechange=function(){4===Q.readyState&&(clearTimeout(Ra),200<=Q.status&&300>Q.status?E():(ca.error("Status ".concat(Q.status,", will not retry.")),oa=!1))},"object"===la(W[0])){var cb=W.slice(0,da);if(0<cb.length){L=
!1;cb=cb.map(function(qa){return qa.evt});if(Sa){var wb=new Blob([N(R(cb))],{type:"application/json"});try{L=navigator.sendBeacon(T,wb)}catch(qa){L=!1}}if(!0===L)E();else{T=N(R(cb));try{D().toLowerCase()!==ub.NONE&&(T=Qf.gzip(T,{level:6}),Q.setRequestHeader("Content-Encoding",ub.GZIP))}catch(qa){}try{v()!==F.SAMPLING_MODES.NONE&&Q.send(T)}catch(qa){}}}}else Q.send();!function(qa){for(var za=0;za<qa;za++)W.shift();b&&nd(db,JSON.stringify(W.slice(-1*l())))}(da)}else if(u||"object"===la(W[0]))oa=!1;
else{da=new Image(1,1);var Xa=!0;da.onload=function(){Xa&&(Xa=!1,W.shift(),b&&nd(db,JSON.stringify(W.slice(-1*l()))),E())};da.onerror=function(){Xa&&(Xa=!1,oa=!1)};da.src=ba(W[0]);setTimeout(function(){Xa&&oa&&(Xa=!1,E())},m)}}}function M(L,Q,T){var da=new XMLHttpRequest,Ra;for(Ra in Q?(da.open("POST",L,!T),da.setRequestHeader("Content-Type","application/json; charset=UTF-8")):da.open("GET",L,!T),da.withCredentials=n,u&&da.setRequestHeader("SP-Anonymous","*"),p)Object.prototype.hasOwnProperty.call(p,
Ra)&&da.setRequestHeader(Ra,p[Ra]);return da}function N(L){return JSON.stringify({sc:"sp/pd/1-0-4",dt:L})}function R(L){for(var Q=(new Date).getTime().toString(),T=0;T<L.length;T++)L[T].stm=Q;return L}function ba(L){return k?ua+L.replace("?","?stm="+(new Date).getTime()+"&"):ua+L}(null===window||void 0===window?0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",function(){E()},{signal:bb});var ua,U,oa=!1,W=[],Na=-1,Aa=!0===(d="string"==typeof d?d.toLowerCase():d)||"beacon"===
d||"true"===d,Sa=!(!(Aa&&window.navigator&&window.navigator.sendBeacon)||function(L,Q){Q=Q.match(/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//);return!(!Q||!Q.length)&&parseInt(Q[0])<=L}(13,U=window.navigator.userAgent)||function(L,Q,T){T=T.match("(Macintosh;.*Mac OS X (\\d+)_(\\d+)[_\\d]*.*) AppleWebKit/");return!(!T||!T.length)&&(parseInt(T[2])<=L||parseInt(T[2])===L&&parseInt(T[3])<=Q)}(10,15,U)&&function(L){return/^(?!.*Chrome)(?!.*Chromium)(?!.*Edg)(?!.*OPR)(?=.*Safari)/.test(L)&&!/(Chrome|Chromium|Edg|OPR)/.test(L)}(U))&&
Aa,pa=!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),Y="get"!==d&&pa&&("post"===d||Aa),ha=Y?e:"/i";d="convivaOutQueue_".concat(a,"_").concat(Y?"post2":"get");var db="convivaOutQueue_".concat(a,"_").concat(Y?"post2":"get");if(Gf(d),Gf("".concat(d,".expires")),Aa&&(p={}),g=b&&Ch()&&Y&&g||1,b)try{var ud=window.localStorage.getItem(db);W=ud?JSON.parse(ud):[]}catch(L){}Array.isArray(W)||(W=[]);c.outQueues.push(W);pa&&1<g&&c.bufferFlushers.push(function(L){oa||E(L)});return{enqueueRequest:function(L,
Q,T){if(v()!=F.SAMPLING_MODES.NONE){ua=Q+ha;if(Y){P([(L=q(L)).evt]);Q=z();if(L.bytes>=Q)return oa||E(),ca.warn("Event ("+L.bytes+"B) too big, max is "+Q),void I(L,ua);W.push(L)}else{var da=function(qa){var za="?",vb={co:!0,cx:!0},mc=!0,xb;for(xb in qa)qa.hasOwnProperty(xb)&&!vb.hasOwnProperty(xb)&&(mc?mc=!1:za+="&",za+=encodeURIComponent(xb)+"="+encodeURIComponent(qa[xb]));for(var Eb in vb)qa.hasOwnProperty(Eb)&&vb.hasOwnProperty(Eb)&&(za+="&"+Eb+"="+encodeURIComponent(qa[Eb]));return za}(L),Ra=f();
if(0<Ra){var cb=G(ba(da));if(cb>=Ra){if(ca.warn("Event ("+cb+"B) too big, max is "+Ra),pa)P([(L=q(L)).evt]),I(L,Q+e);return}}W.push(da)}Q=!1;b&&(Q=nd(db,JSON.stringify(W.slice(-1*l()))));!oa&&-1===Na&&Q&&(Na=window.setTimeout(E,w()+(Xa=y,Math.floor(Math.random()*Xa))));oa||!(!Q||!x()||Y&&(wb=0,wb=Y?W.reduce(function(qa,za){return qa+za.bytes},0):W.reduce(function(qa,za){return qa+za.length},0),wb>z())||W.length>g||T)||E()}var wb,Xa},executeQueue:function(){oa||E()},setUseLocalStorage:function(L){b=
L},setAnonymousTracking:function(L){u=L},setCollectorUrl:function(L){ua=L+ha},setBufferSize:function(L){g=L},setCustomHeaders:function(L){p=L}}}function Eh(){(null===window||void 0===window?0:window.addEventListener)&&window.addEventListener("RemoteConfigUpdateApplied",function(){var a,c,b,d,e,g,f,k=null===(a=null==Ta?void 0:Ta.core)||void 0===a?void 0:a.getConfig();a=null===(b=null===(c=null==k?void 0:k.collectionRateLimit)||void 0===c?void 0:c.exceptionAutotracking)||void 0===b?void 0:b.maxEvents;
c=null===(e=null===(d=null==k?void 0:k.collectionRateLimit)||void 0===d?void 0:d.exceptionAutotracking)||void 0===e?void 0:e.disconnectDuration;d=null===(f=null===(g=null==k?void 0:k.collectionRateLimit)||void 0===g?void 0:g.exceptionAutotracking)||void 0===f?void 0:f.timeWindow;null==Ub||Ub.updateErrortRateLimitConfig(a,c,d);!0},{signal:bb})}function Fh(a){try{Ta=a;var c,b,d,e,g,f,k;try{var l=null===(c=null==Ta?void 0:Ta.core)||void 0===c?void 0:c.getConfig(),m=null===(d=null===(b=null==l?void 0:
l.collectionRateLimit)||void 0===b?void 0:b.exceptionAutotracking)||void 0===d?void 0:d.maxEvents,u=null===(g=null===(e=null==l?void 0:l.collectionRateLimit)||void 0===e?void 0:e.exceptionAutotracking)||void 0===g?void 0:g.disconnectDuration,p=null===(k=null===(f=null==l?void 0:l.collectionRateLimit)||void 0===f?void 0:f.exceptionAutotracking)||void 0===k?void 0:k.timeWindow;Ub=new Gh(m,u,p,null==Ta?void 0:Ta.core,null==Ta?void 0:Ta.getSamplingMode)}catch(n){console.warn("Conviva App Tracker caused Exception in initialiseRateLimiter method of error tracking module",
n)}Eh();hb(window,"error",Rf,!0);hb(window,"unhandledrejection",Sf,!0)}catch(n){console.warn("Conviva App Tracker caused Exception in enableErrorTracking method of error tracking module",n)}}function Rf(a){try{(null==Ub?0:Ub.isAllowedToSendEvent())&&je({message:a.message,filename:a.filename,lineno:a.lineno,colno:a.colno,error:a.error})}catch(c){console.warn("Conviva App Tracker caused Exception in captureError method of error tracking module",c)}}function Sf(a){try{(null==Ub?0:Ub.isAllowedToSendEvent())&&
je({message:a.reason})}catch(c){console.warn("Conviva App Tracker caused Exception in captureRejection method of error tracking module",c)}}function je(a){var c,b,d=a.message,e=a.filename,g=a.lineno,f=a.colno,k=a.error,l=a.context;a=a.timestamp;k=k&&k.stack?k.stack:void 0;if(!(void 0===d||null===d&&void 0===k||null===k&&void 0===g||null===g&&void 0===f||null===f&&void 0===e||null===e)){var m=null===(c=null==Ta?void 0:Ta.core)||void 0===c?void 0:c.getConfig();(null==m?0:m.exceptionAutotracking)&&(null===
(b=null==Ta?void 0:Ta.core)||void 0===b||b.track(Qb({event:{sc:"sp/ae/1-0-1",dt:{programmingLanguage:"JAVASCRIPT",message:d?Tf(d,2048):"JS Exception.",stackTrace:k?Tf(k,8192):"",lineNumber:g,lineColumn:f,fileName:e}}}),l,a))}}function Hh(a){var c;try{var b=0,d=0;if("complete"===document.readyState){var e=null===(c=null==a?void 0:a.core)||void 0===c?void 0:c.getConfig();null==a||a.trackCustomEvent({name:"conviva_window_loaded",data:"{}",context:pd(null==e?void 0:e.performanceContextConfig).contexts()})}else null===
window||void 0===window||window.addEventListener("load",function(){var g;try{var f=null===(g=null==a?void 0:a.core)||void 0===g?void 0:g.getConfig();null==a||a.trackCustomEvent({name:"conviva_window_loaded",data:"{}",context:pd(null==f?void 0:f.performanceContextConfig).contexts()})}catch(k){console.warn("ConvivaAppTracker : issue while registering window loaded event",k)}},{signal:bb});null===document||void 0===document||document.addEventListener("visibilitychange",function(){var g,f;try{if((null==
a?void 0:a.getSamplingMode())!==F.SAMPLING_MODES.NONE)if("hidden"===document.visibilityState)setTimeout(function(){var l,m;try{var u=null===(l=null==a?void 0:a.core)||void 0===l?void 0:l.getConfig();d++;(null==u?0:u.lifecycleAutotracking)&&(null===(m=null==a?void 0:a.core)||void 0===m||m.track(Qb({event:{sc:"sp/abg/1-0-0",dt:jc({backgroundIndex:d})}})));"hidden"!==document.visibilityState||(null==a?0:a.getPageViewSent())||null==a||a.trackCustomEvent({name:"conviva_app_backgrnd_before_page_view",data:"{}"})}catch(p){console.warn("ConvivaAppTracker : issue while tracking visibility change",
p)}},0);else{var k=null===(g=null==a?void 0:a.core)||void 0===g?void 0:g.getConfig();b++;(null==k?0:k.lifecycleAutotracking)&&(null===(f=null==a?void 0:a.core)||void 0===f||f.track(Qb({event:{sc:"sp/afg/1-0-0",dt:jc({foregroundIndex:b})}})))}}catch(l){console.warn("convivaAppTracker visibilitychange failed "+l)}},{signal:bb});"undefined"!=typeof document&&document&&document.addEventListener&&document.addEventListener("convivaVideoEvent",function(g){g&&a&&(null==a?void 0:a.getSamplingMode())!==F.SAMPLING_MODES.NONE&&
(null==a||a.trackVideoEvent(g))},{signal:bb})}catch(g){console.warn("convivaAppTracker error in page load metrics"+g)}}function Ih(a,c,b,d,e){void 0===e&&(e={});var g=[];a=function(k,l,m,u,p){function n(){(nc=Hf(window.location.hostname,window.location.href,ee()))[1]!==Fb&&(Kc=ee(Fb));Uf=Ef(nc[0]);Fb=nc[1]}function y(h){try{var r=(new Date).getTime(),t=h.currentTarget;if(null==t?0:t.href){h="_cnv="+(vd+"."+r);var A=t.href.split("#"),C=A[0].split("?"),H=C.shift(),J=C.join("?");if(J){C=!0;var K=J.split("&");
for(r=0;r<K.length;r++)if("_cnv="===K[r].substr(0,5)){C=!1;K[r]=h;J=K.join("&");break}C&&(J=h+"&"+J)}else J=h;var B=(A[0]=H+"?"+J,A.join("#"));t.href=B}}catch(O){console.warn("Conviva App Tracker:: Error in linkDecorationHandler of decorateLinks ".concat(O))}}function D(h){if("undefined"!=typeof document&&document.links&&0<document.links.length)for(var r=0;r<document.links.length;r++){var t=document.links[r];!t.spDecorationEnabled&&h(t)&&(hb(t,"click",y,!0),hb(t,"mousedown",y,!0),t.spDecorationEnabled=
!0)}}function x(h){var r;return Vf&&(r=/#.*/,h=h.replace(r,"")),Wf&&(r=/[{}]/g,h=h.replace(r,"")),h}function z(h){return(h=/^([a-z]+):/.exec(h))?h[1]:null}function w(h){h=oc+h+"."+Vb;if("localStorage"==Fa)try{var r=window.localStorage,t=r.getItem(h+".expires");var A=null===t||+t>Date.now()?r.getItem(h):(r.removeItem(h),void r.removeItem(h+".expires"))}catch(C){A=void 0}else A="cookie"==Fa||"cookieAndLocalStorage"==Fa?mb(h):void 0;return A}function v(){n();Vb=Jh((Lc||Uf)+(ke||"/")).slice(0,4)}function q(){le=
(new Date).getTime()}function G(){var h=I(),r=h[0];r<wd?wd=r:r>xd&&(xd=r);h=h[1];h<yd?yd=h:h>zd&&(zd=h);!0;q()}function I(){var h="undefined"!=typeof document?null===document||void 0===document?void 0:document.documentElement:void 0;return h?[h.scrollLeft||window.pageXOffset,h.scrollTop||window.pageYOffset]:[0,0]}function P(){var h=I(),r=h[0];xd=wd=r;zd=yd=h=h[1]}function E(){N(oc+"ses."+Vb,"*",Xf)}function M(h){var r=oc+"id."+Vb;h=(h.shift(),h.join("."));N(r,h,Yf)}function N(h,r,t){Mc&&!Ad||("localStorage"==
Fa?nd(h,r,t):"cookie"!=Fa&&"cookieAndLocalStorage"!=Fa||mb(h,r,t,ke,Lc,Bd,Cd))}function R(h){var r=oc+"id."+Vb,t=oc+"ses."+Vb;Ff(r);Ff(t);mb(r,"",-1,"/",Lc,Bd,Cd);mb(t,"",-1,"/",Lc,Bd,Cd);(null==h?0:h.preserveSession)||(Wb=Cb.v4(),nb=1);(null==h?0:h.preserveUser)||(vd=Cb.v4(),Xb=null)}function ba(h){h&&h.stateStorageStrategy&&(p.stateStorageStrategy=h.stateStorageStrategy,Fa=Zf(p));Mc=!!p.anonymousTracking;Ad=$f(p);me=ag(p);yb.setUseLocalStorage("localStorage"==Fa||"cookieAndLocalStorage"==Fa);yb.setAnonymousTracking(me)}
function ua(){if(function(){try{var t=window.localStorage.getItem("Conviva.sdkConfig"),A=JSON.parse(t||"{}");"{}"===A||void 0===A?(Nc=Aa(),Dd=Sa()):(Nc=A.clId||Aa(),2147483648<=Ed?Ed=-1:Ed++,Dd=Sa());a:{var C=aa(aa({},A),{clId:Nc,iid:Dd});try{var H=window.localStorage;t=null;try{t=JSON.stringify(C)}catch(J){break a}H.setItem("Conviva.sdkConfig",t)}catch(J){}}}catch(J){return void ca.warn("getEventIndexByClid",J)}}(),!Mc||Ad){var h="none"!=Fa&&!!w("ses"),r=U();vd=function(t,A){var C;return t[1]?C=
t[1]:A?(C="",t[1]=C):(C=Cb.v4(),t[1]=C),C}(r,Mc);Wb=h?r[6]:Hc(r);nb=r[3];"none"!=Fa&&(E(),ge(r),M(r))}}function U(){return"none"==Fa?["1","",0,0,0,void 0,"","","",void 0]:function(h,r,t,A){var C,H=Math.round((new Date).getTime()/1E3);h?(C=h.split(".")).unshift("0"):C=["1",r,H,A,H,"",t];C[6]&&"undefined"!==C[6]||(C[6]=Cb.v4());C[7]&&"undefined"!==C[7]||(C[7]="");C[8]&&"undefined"!==C[8]||(C[8]="");C[9]&&"undefined"!==C[9]||(C[9]="");C[10]&&"undefined"!==C[10]||(C[10]=-1);var J=function(K,B){K=parseInt(K);
return isNaN(K)?B:K};h=function(K){return K?J(K,void 0):void 0};return[C[0],C[1],J(C[2],H),J(C[3],A),J(C[4],H),h(C[5]),C[6],C[7],C[8],h(C[9])]}(w("id")||void 0,vd,Wb,nb)}function oa(h,r){var t,A,C,H,J=!0,K=Gb.getConfig();return void 0!==K.mend?J=K.mend:void 0!==(null===(A=null===(t=null==p?void 0:p.configs)||void 0===t?void 0:t.network)||void 0===A?void 0:A.mergeEndpoint)&&(J=null===(H=null===(C=null==p?void 0:p.configs)||void 0===C?void 0:C.network)||void 0===H?void 0:H.mergeEndpoint),0===h.indexOf("http")?
(r&&J&&(h=h.replace(/^(https?:\/\/)(.*)$/,"$1"+r+".$2")),h):r&&J?("https:"===document.location.protocol?"https":"http")+"://"+r+"."+h:("https:"===document.location.protocol?"https":"http")+"://"+h}function W(){bg&&null!=u.pageViewId||(u.pageViewId=Cb.v4())}function Na(){return null==u.pageViewId&&(u.pageViewId=Cb.v4()),u.pageViewId}function Aa(){try{return Y({"First Launch":"Yes"}),Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*
Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()}catch(h){return void console.warn(h)}}function Sa(){try{return Math.floor(2147483647*Math.random())}catch(h){return console.warn(h),-1}}function pa(h){try{return"object"===la(JSON.parse(h))}catch(r){return!1}}function Y(h){try{var r=Object.keys(h);pa(JSON.stringify(h))?r.forEach(function(t){if(""!==t.trim()){var A=h[t];A&&""!==A&&(A="object"===la(A)?JSON.stringify(A):""+A,Object.defineProperty(ne,t,{value:A,writable:!0,
enumerable:!0,configurable:!0}))}}):console.warn("Conviva AppTracker:: Invalid JSON Format")}catch(t){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",t)}}function ha(h){var r=h.title,t=h.context,A=h.timestamp;h=h.contextCallback;n();oe&&W();oe=!0;Hb=document.title;r=de((Oc=r)||Hb);pc()!==F.SAMPLING_MODES.NONE&&Gb.track(function(J){var K=J.pageUrl,B=J.pageTitle;J=J.referrer;var O=Vd();return O.add("e","pv"),O.add("url",K),O.add("page",B),O.add("refr",J),O}({pageUrl:x(Fd||Fb),
pageTitle:r,referrer:x(Gd||Kc)}),(t||[]).concat(h?h():[]),A);A=new Date;r=!1;if(Oa.enabled&&!Oa.installed){r=Oa.installed=!0;var C={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var J=!1,K=Object.defineProperty({},"passive",{get:function(){J=!0},set:function(){}}),B=function(){};window.addEventListener("testPassiveEventSupport",B,K);window.removeEventListener("testPassiveEventSupport",B,K);C.hasSupport=J}}};C.update();var H="onwheel"in document.createElement("div")?
"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(C,"hasSupport")?hb(document,H,q,{passive:!0}):hb(document,H,q);P();H=function(J,K){return void 0===K&&(K=q),function(B){return hb(document,B,K)}};"click mouseup mousedown mousemove keypress keydown keyup".split(" ").forEach(H(document));["resize","focus","blur"].forEach(H(window));H(window,G)("scroll")}if(Oa.enabled&&(Kh||r))for(A in le=A.getTime(),A=void 0,Oa.configurations)(r=Oa.configurations[A])&&
(window.clearInterval(r.activityInterval),ud(r,t,h))}function db(){var h,r,t,A,C,H,J,K,B,O,ia,Ga,Da,Ya,V,Z,ja,Ha,Ua,Pa,zb,ob,Pc,Qa,ib,qc,Yb,pb,Zb,Qc,$b,rc,Rc;try{var ma=null===(h=null==f?void 0:f.core)||void 0===h?void 0:h.getConfig();h=void 0;pe={};var Ib=sc.MERGE;switch(void 0!==(null===(t=null===(r=null==p?void 0:p.configs)||void 0===r?void 0:r.metaTagsTracking)||void 0===t?void 0:t.preference)?Ib=null===(C=null===(A=null==p?void 0:p.configs)||void 0===A?void 0:A.metaTagsTracking)||void 0===C?
void 0:C.preference:!0===(null===(J=null===(H=null==p?void 0:p.configs)||void 0===H?void 0:H.metaTagsTracking)||void 0===J?void 0:J.force)?Ib=sc.APP:void 0!==(null===(K=null==ma?void 0:ma.metaTagsTrackingConfiguration)||void 0===K?void 0:K.pref)&&(Ib=null===(B=null==ma?void 0:ma.metaTagsTrackingConfiguration)||void 0===B?void 0:B.pref),Ib){case sc.APP:if(!1===(null===(ia=null===(O=null==p?void 0:p.configs)||void 0===O?void 0:O.metaTagsTracking)||void 0===ia?void 0:ia.enabled))return;0<(null===(Ya=
null===(Da=null===(Ga=null==p?void 0:p.configs)||void 0===Ga?void 0:Ga.metaTagsTracking)||void 0===Da?void 0:Da.tags)||void 0===Ya?void 0:Ya.length)&&(h=Ca([],null===(Z=null===(V=null==p?void 0:p.configs)||void 0===V?void 0:V.metaTagsTracking)||void 0===Z?void 0:Z.tags,!0));break;case sc.REMOTE:if(!1===(null===(ja=null==ma?void 0:ma.metaTagsTrackingConfiguration)||void 0===ja?void 0:ja.enabled))return;void 0!==(null==ma?void 0:ma.metaTagsTrackingConfiguration)&&0<(null===(Ua=null===(Ha=null==ma?void 0:
ma.metaTagsTrackingConfiguration)||void 0===Ha?void 0:Ha.tags)||void 0===Ua?void 0:Ua.length)&&(h=Ca([],null===(Pa=null==ma?void 0:ma.metaTagsTrackingConfiguration)||void 0===Pa?void 0:Pa.tags,!0));break;default:if(void 0===(null==ma?void 0:ma.metaTagsTrackingConfiguration)&&!1===(null===(ob=null===(zb=null==p?void 0:p.configs)||void 0===zb?void 0:zb.metaTagsTracking)||void 0===ob?void 0:ob.enabled)||void 0===(null===(Pc=null==p?void 0:p.configs)||void 0===Pc?void 0:Pc.metaTagsTracking)&&!1===(null===
(Qa=null==ma?void 0:ma.metaTagsTrackingConfiguration)||void 0===Qa?void 0:Qa.enabled))return;var Sc=null===(qc=null===(ib=null==p?void 0:p.configs)||void 0===ib?void 0:ib.metaTagsTracking)||void 0===qc?void 0:qc.tags,Tc=null===(Yb=null==ma?void 0:ma.metaTagsTrackingConfiguration)||void 0===Yb?void 0:Yb.tags;!1===(null===(Zb=null===(pb=null==p?void 0:p.configs)||void 0===pb?void 0:pb.metaTagsTracking)||void 0===Zb?void 0:Zb.enabled)&&(Sc=[]);!1===(null===(Qc=null==ma?void 0:ma.metaTagsTrackingConfiguration)||
void 0===Qc?void 0:Qc.enabled)&&(Tc=[]);h=Ca([],(Rc=Tc||[],Ca(Ca([],Sc||[],!0),Rc,!0).reduce(function(Va,Jb){var ac=Va.find(function(Hd){return Hd.key===Jb.key});return ac?Jb.condition&&(ac.condition=Ca(Ca([],ac.condition||[],!0),Jb.condition,!0)):Va.push(aa({},Jb)),Va},[])),!0)}if(void 0!==h&&0<(null==h?void 0:h.length)){r={};var qb=null===document||void 0===document?void 0:document.head,bc=null==qb?void 0:qb.getElementsByTagName("meta");if(void 0!==bc&&0<(null==bc?void 0:bc.length))for(qb=0;qb<
bc.length;qb++){var Uc=bc[qb];for(t=0;t<h.length;t++){var Kb=Uc.getAttribute(h[t].key),Vc=Uc.getAttribute(h[t].value);A=void 0;(null===($b=h[t])||void 0===$b?0:$b.condition)&&(A=null===(rc=h[t])||void 0===rc?void 0:rc.condition);Kb&&(A&&A.includes(Kb)?r[Kb]=Vc:A&&0!==A.length||(r[Kb]=Vc))}}f.setMetaCustomTags(r)}}catch(Va){console.warn("Conviva App Tracker:: setPageMetaTagsAsCustomTags",Va)}}function ud(h,r,t){var A=function(H,J){var K;n();var B=null===(K=null==f?void 0:f.core)||void 0===K?void 0:
K.getConfig();B.enablePeriodicHeartbeat?(null!=B.periodicHeartbeatInterval&&(K=1E3*B.periodicHeartbeatInterval,K!=h.configHeartBeatTimer&&(h.configHeartBeatTimer=K,window.clearInterval(h.activityInterval),h.activityInterval=window.setInterval(C,K))),H({context:J,pageViewId:Na(),minXOffset:wd,minYOffset:yd,maxXOffset:xd,maxYOffset:zd})):window.clearInterval(h.activityInterval);P()};window.setTimeout(function(){A(h.callback,(r||[]).concat(t?t():[]))},2E3);var C=function(){var H=new Date;(!1===(null===
document||void 0===document?void 0:document.hidden)||"visible"==(null===document||void 0===document?void 0:document.visibilityState)||(null===document||void 0===document?0:document.pictureInPictureElement)||le+h.configHeartBeatTimer>H.getTime()||!0===cg)&&A(h.callback,(r||[]).concat(t?t():[]))};h.activityInterval=window.setInterval(C,h.configHeartBeatTimer)}function L(h){var r=h.minimumVisitLength,t=h.heartbeatDelay;h=h.callback;if(Fc(r)&&Fc(t))return{configMinimumVisitLength:1E3*r,configHeartBeatTimer:1E3*
t,callback:h};ca.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function Q(h){var r=h.context,t=h.minXOffset,A=h.minYOffset,C=h.maxXOffset,H=h.maxYOffset;h=document.title;h!==Hb&&(Hb=h,Oc=void 0);if(pc()!==F.SAMPLING_MODES.NONE){h=Gb;var J=h.track;var K=x(Fd||Fb);var B=de(Oc||Hb),O=x(Gd||Kc);t=Math.round(t);C=Math.round(C);A=Math.round(A);H=Math.round(H);var ia=Vd();K=(ia.add("e","pp"),ia.add("url",K),ia.add("page",B),ia.add("refr",O),t&&!isNaN(Number(t))&&ia.add("pp_mix",
t.toString()),C&&!isNaN(Number(C))&&ia.add("pp_max",C.toString()),A&&!isNaN(Number(A))&&ia.add("pp_miy",A.toString()),H&&!isNaN(Number(H))&&ia.add("pp_may",H.toString()),ia);J.call(h,K,r)}}var T,da,Ra,cb,wb,Xa,qa,za,vb,mc,xb,Eb,qe,re,se,te;if(window&&window.localStorage){var Lh=window.localStorage,tc={sensorVersion:m,ck:null!==(T=p.convivaCustomerKey)&&void 0!==T?T:""};tc=JSON.stringify(tc);tc="function"==typeof btoa?btoa(tc):function(h){h=unescape(encodeURIComponent(h));for(var r="",t=0;t<h.length;){var A=
h.charCodeAt(t++),C=h.charCodeAt(t++),H=h.charCodeAt(t++),J=A>>2;A=(3&A)<<4|C>>4;C=isNaN(C)?64:(15&C)<<2|H>>6;H=isNaN(H)?64:63&H;r+=ab.charAt(J)+ab.charAt(A)+ab.charAt(C)+ab.charAt(H)}return r}(tc);Lh.setItem(F.VISUAL_LABELLING_CONFIG,tc)}var ue=Lb,Mh=bb;ue&&Mh||("function"==typeof AbortController&&(Lb=new AbortController),bb=null==Lb?void 0:Lb.signal);l||(l="CAT");var Jd=function(h,r,t){var A,C,H,J,K,B={},O={};if("undefined"!=typeof window&&(null===window||void 0===window?0:window.localStorage))try{localStorage.removeItem(F.END_POINT_STORAGE_KEY),
(K=localStorage.getItem(F.REMOTE_CONFIG_STORAGE_KEY))?ra=F.CONFIG_SOURCE.CACHED:K=JSON.stringify(O)}catch(V){K=JSON.stringify(O);Id=!0;var ia={className:"fetchRemoteConfig - localstorage",error:V,configAppliedSrc:ra,configAppliedTime:va};setTimeout(function(){xa(na,null==X?void 0:X.getSamplingMode,ia)},0);ca.warn("Issue while fetching data from local storage")}else K=JSON.stringify(O);try{B=JSON.parse(K)}catch(V){Id=!0;var Ga={className:"fetchRemoteConfig - parsing cached data",error:V,configAppliedSrc:ra,
configAppliedTime:va};setTimeout(function(){xa(na,null==X?void 0:X.getSamplingMode,Ga)},0);ca.warn("Issue while parsing storedConvivaRemoteConfig")}O=(new dg).setBase64(null==B?void 0:B.base64).setCacheRefreshInterval(null==B?void 0:B.cacheRefreshInterval).setLifecycleAutotracking(null==B?void 0:B.lifecycleAutotracking).setExceptionAutotracking(null==B?void 0:B.exceptionAutotracking).setEnablePeriodicHeartbeat(null==B?void 0:B.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null==B?void 0:B.periodicHeartbeatInterval).setEnc(null==
B?void 0:B.enc,null===(C=null===(A=null==t?void 0:t.configs)||void 0===A?void 0:A.network)||void 0===C?void 0:C.encoding).setMaxLocalStorageQueueSize(null==B?void 0:B.maxLocalStorageQueueSize).setMaxGetBytes(null==B?void 0:B.maxGetBytes).setBufferSize(null==B?void 0:B.bufferSize).setCustomEventTrackingConfiguration(null==B?void 0:B.customEventTrackingConfiguration).setEndPoint(null==B?void 0:B.endpoint,t.gatewayUrl,t.proxyGatewayUrl).setNetworkRequestTrackingConfiguration(null==B?void 0:B.networkRequestTrackingConfiguration,
!1).setMetaTagsTrackingConfiguration(null==B?void 0:B.metaTagsTrackingConfiguration).setTraceparentconfig(null==B?void 0:B.traceparentconfig).setMend(null==B?void 0:B.mend,null===(J=null===(H=null==t?void 0:t.configs)||void 0===H?void 0:H.network)||void 0===J?void 0:J.mergeEndpoint).setPerformanceContextConfig(null==B?void 0:B.performanceContextConfig).setConfigurationVersion(null==B?void 0:B.configurationVersion).setCatRcLastUpdatedTs(null==B?void 0:B.catRcLastUpdatedTs).setEmitterConfiguration(null==
B?void 0:B.emitterConfiguration).setcontrolIngestConfig(null==B?void 0:B.controlIngestConfig).setApplicationContext(null==B?void 0:B.applicationContext).setDi(null==B?void 0:B.di).setClickcc(null==B?void 0:B.clickcc).setCollectionRateLimit(null==B?void 0:B.collectionRateLimit).build();A="Cached Config Applied";ra===F.CONFIG_SOURCE.DEFAULT&&(A="Default Config Applied");va=(new Date).getTime();var Da={message:A,className:"browserTrackerCore",configAppliedSrc:ra,configAppliedTime:va};setTimeout(function(){xa(na,
null==X?void 0:X.getSamplingMode,Da)},0);h=h.split("js-")[1].split(" ")[0];var Ya=(t.proxyGatewayUrl?t.proxyGatewayUrl+"/js/":F.REMOTE_CONFIG_URL_PREFIX)+t.convivaCustomerKey+"/"+h+F.REMOTE_CONFIG_FILE_NAME;return window.XMLHttpRequest&&((jb=new XMLHttpRequest).onreadystatechange=function(){var V;try{if(4==jb.readyState)if(uc=!1,200==jb.status){var Z={message:"Remote config request is successful - ".concat("number"==typeof jb.status?jb.status:""),className:"configtimerCallback - onreadystatechange",
configAppliedSrc:ra,configAppliedTime:va};xa(na,null==X?void 0:X.getSamplingMode,Z);vc=0;var ja=JSON.parse(jb.response);Z=na;if((null==ja?void 0:ja.configurationBundle[0].namespace)!==r)return void xa(na,null==X?void 0:X.getSamplingMode,{message:"Remote Config not Applied due to a missing namespace",className:"updateRemoteConfig",configAppliedSrc:ra,configAppliedTime:va});if(!ja.hasOwnProperty("configurationVersion")||(null===(V=Z.getConfig())||void 0===V?void 0:V.configurationVersion)===(null==ja?
void 0:ja.configurationVersion)){var Ha=localStorage.getItem(F.REMOTE_CONFIG_STORAGE_KEY);if(Ha)return(Ha=JSON.parse(Ha)).catRcLastUpdatedTs=(new Date).getTime(),window.localStorage&&(localStorage.removeItem(F.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(F.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(Ha))),void xa(na,null==X?void 0:X.getSamplingMode,{message:"Remote Config not Applied as same version is fetched",className:"updateRemoteConfig",configAppliedSrc:ra,configAppliedTime:va})}O.catRcLastUpdatedTs=
(new Date).getTime();var Ua=ja.cri||ja.cacheRefreshInterval||fa.cacheRefreshInterval;if(Ua=1>Ua?fa.cacheRefreshInterval:Fc(Ua)?Ua:fa.cacheRefreshInterval,O.cacheRefreshInterval!=Ua&&(O.cacheRefreshInterval=Ua,eg(O.cacheRefreshInterval,O.catRcLastUpdatedTs,t,Ya,F.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)),Nh(ja,O.catRcLastUpdatedTs,t)){var Pa=new Event("RemoteConfigUpdateApplied");(null===window||void 0===window?0:window.dispatchEvent)&&window.dispatchEvent(Pa)}}else try{2>vc&&window.setTimeout(function(){(null==
t?0:t.trackerConfigUrl)?wc(null==t?void 0:t.trackerConfigUrl,!0):wc(Ya,!0)},5E3*(vc+1));var zb={message:"Remote config request is not successful - ".concat("number"==typeof jb.status?jb.status:""),className:"configtimerCallback - onreadystatechange",configAppliedSrc:ra,configAppliedTime:va};(xa(na,null==X?void 0:X.getSamplingMode,zb),2<=vc)&&xa(na,null==X?void 0:X.getSamplingMode,{message:"Remote config is not applied since failed to download remote config after 3 tries",className:"configtimerCallback - onreadystatechange",
configAppliedSrc:ra,configAppliedTime:va})}catch(ob){}}catch(ob){uc=!1,console.warn("Conviva App Tracker:: Error in fetching remote-config ".concat(ob)),xa(na,null==X?void 0:X.getSamplingMode,{className:"configtimerCallback - onreadystatechange",error:ob,configAppliedSrc:ra,configAppliedTime:va})}},eg(O.cacheRefreshInterval,O.catRcLastUpdatedTs,t,Ya,void 0!==Id&&!0===Id?F.RC_FETCH_MODE.IMMEDIATE_FETCH:F.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF)),{convivaRemoteTrackerConfig:O}}(m,l,p).convivaRemoteTrackerConfig;
null===(da=pd(Jd.performanceContextConfig))||void 0===da||da.activateLCPObserver();p.eventMethod=null!==(Ra=p.eventMethod)&&void 0!==Ra?Ra:"post";var Zf=function(h){var r;return null!==(r=h.stateStorageStrategy)&&void 0!==r?r:"cookieAndLocalStorage"},$f=function(h){var r,t;return"boolean"!=typeof h.anonymousTracking&&null!==(t=!0===(null===(r=h.anonymousTracking)||void 0===r?void 0:r.withSessionTracking))&&void 0!==t&&t},ag=function(h){var r,t;return"boolean"!=typeof h.anonymousTracking&&null!==(t=
!0===(null===(r=h.anonymousTracking)||void 0===r?void 0:r.withServerAnonymisation))&&void 0!==t&&t};g.push({beforeTrack:function(h){var r=w("ses"),t=U();if(ve=!!we&&!!mb(we),fg||ve)R();else{var A;if("0"===t[0]?(Wb=r||"none"==Fa?t[6]:Hc(t),nb=t[3]):(new Date).getTime()-xe>1E3*Xf&&(nb++,Wb=Hc(t,nb)),ge(t),h.add("uid",(A=Xb,Mc?null:A)),n(),h.add("refr",x(Gd||Kc)),document)Hb=document.title,r=de(Oc||Hb),h.add("page",r);h.add("url",x(Fd||Fb));"none"!=Fa&&(M(t),E());xe=(new Date).getTime()}}});g.push({contexts:function(){return[{sc:"cv/clid/1-0-2",
dt:{clid:Nc,iid:Dd.toString(),ck:Oh,eventIndex:Ed++}}]}});g.push({contexts:function(){return[{sc:"cv/ct/1-0-0",dt:(h={data:aa(aa({},ne),pe)},h)}];var h}});g.push({contexts:function(){var h,r=null===(h=null==f?void 0:f.core)||void 0===h?void 0:h.getConfig();return!0===(null==r?void 0:r.applicationContext)?[{sc:"spm/app/1-0-0",dt:{build:gg,version:gg}}]:[]}});g.push({contexts:function(){var h={sch:"sdk.js.eco.1"};h.cat=hg.WEB;try{var r=null==p?void 0:p.deviceMetadata;if(r){var t=r.DeviceBrand,A=r.DeviceCategory,
C=r.DeviceManufacturer,H=r.DeviceModel,J=r.DeviceType,K=r.DeviceVersion,B=r.OperatingSystemName,O=r.OperatingSystemVersion,ia=r.FrameworkName,Ga=r.FrameworkVersion;"string"==typeof A&&Object.values(hg).includes(A)?h.cat=A:h.cat="INVALID"+(A?": ".concat(A):"");"string"==typeof t&&""!=t&&(h.dvb=t);"string"==typeof C&&""!=C&&(h.dvma=C);"string"==typeof H&&""!=H&&(h.dvm=H);J&&Object.values(Ph).includes(J)&&(h.dvt=J);"string"==typeof K&&""!=K&&(h.dvv=K);"string"==typeof B&&""!=B&&(h.os=B);"string"==typeof O&&
""!=O&&(h.osv=O);"string"==typeof ia&&""!=ia&&(h.fw=ia);"string"==typeof Ga&&""!=Ga&&(h.fwv=Ga)}}catch(Da){ca.warn("error in setting platform metadata context",Da)}return null!=h&&0<Object.keys(h).length?[{sc:"iglu:com.conviva/pm/jsonschema/1-0-2",dt:h}]:[]}});try{(null!==(cb=null==p?void 0:p.plugins)&&void 0!==cb?cb:[]).forEach(function(h){h.contexts||g.push(h)})}catch(h){console.warn("ConvivaAppTracker : issue while processing customer passed pligins",h)}var Gd,Fd,Oc,Vf,Wf,we,Nc,Dd,le,wd,xd,yd,
zd,Vb,vd,Wb,Xb,ve,pc=function(){var h;try{var r=null===(h=null==f?void 0:f.core)||void 0===h?void 0:h.getConfig();return r?void 0===r.catRcLastUpdatedTs||0===r.catRcLastUpdatedTs?F.SAMPLING_MODES.RCFG:r.controlIngestConfig?function(t){try{if(void 0===t.sel)return od(),F.SAMPLING_MODES.RCFG;var A=t.sel.pct;if("number"==typeof A&&100>A&&0<A&&0==A%1){if("undefined"!=typeof window&&void 0!==window.localStorage){var C=localStorage.getItem(F.SAMPLING_STORAGE_RANDOM_NUMBER_KEY);if(null!=C)return parseFloat(C)<=
A?fe(t,F.SAMPLING_ACTION.SAMPLED):fe(t,F.SAMPLING_ACTION.NON_SAMPLED);var H=100*Math.random();return localStorage.setItem(F.SAMPLING_STORAGE_RANDOM_NUMBER_KEY,H.toString()),fe(t,H<A?F.SAMPLING_ACTION.SAMPLED:F.SAMPLING_ACTION.NON_SAMPLED)}return F.SAMPLING_MODES.NONE}return"number"==typeof A&&0===A?(od(),F.SAMPLING_MODES.NONE):(od(),F.SAMPLING_MODES.RCFG)}catch(J){}return F.SAMPLING_MODES.RCFG}(null==r?void 0:r.controlIngestConfig):F.SAMPLING_MODES.RCFG:F.SAMPLING_MODES.RCFG}catch(t){return ca.error("Error while getting sampling mode"),
F.SAMPLING_MODES.RCFG}},Gb=Qh(Jd,g,function(h){fg||ve||yb.enqueueRequest(h.build(),ye,function(r){var t,A,C,H=null!==(C=null===(A=null===(t=Gb.getConfig().emitterConfiguration)||void 0===t?void 0:t.batching)||void 0===A?void 0:A.urgentEvents)&&void 0!==C?C:[],J=t="",K="",B="";A=r.getPayload();"string"==typeof A.e&&(B=A.e);if("ue"!==B&&"pv"!==B&&"pp"!==B)return!1;r=r.getJson().find(function(O){return"ue_pr"===O.keyIfNotEncoded||"ue_px"===O.keyIfEncoded});void 0!==r&&(r=r.json,"object"===la(r.dt)&&
null!==r.dt&&(r=r.dt,"string"==typeof r.sc&&(t=r.sc),"object"===la(r.dt)&&"string"==typeof r.dt.name&&(J=r.dt.name)),K=t.split("/")[1]||"");return H.some(function(O){O=O.toLowerCase();return""!==O&&(O===B.toLowerCase()||O===K.toLowerCase()||O===J.toLowerCase())})}(h))}),nc=Hf(window.location.hostname,window.location.href,ee()),Uf=Ef(nc[0]),Fb=nc[1],Kc=nc[2],Rh=null!==(wb=p.platform)&&void 0!==wb?wb:"web",ye=oa(Jd.endpoint,p.convivaCustomerKey),Sh=null!==(Xa=p.postPath)&&void 0!==Xa?Xa:"/ctp",Th=null!==
(qa=p.appId)&&void 0!==qa?qa:"",Oh=null!==(za=p.convivaCustomerKey)&&void 0!==za?za:"",gg=null!==(vb=p.appVersion)&&void 0!==vb?vb:"",ne={},pe={},Hb="undefined"!=typeof document?document.title:void 0,Kh=null===(mc=p.resetActivityTrackingOnPageView)||void 0===mc||mc,oc=null!==(xb=p.cookieName)&&void 0!==xb?xb:"_cnv_",Lc=null!==(Eb=p.cookieDomain)&&void 0!==Eb?Eb:void 0,ke="/",Bd=null!==(qe=p.cookieSameSite)&&void 0!==qe?qe:"None",Cd=null===(re=p.cookieSecure)||void 0===re||re,ig=navigator.doNotTrack||
navigator.msDoNotTrack||window.doNotTrack,fg=void 0!==p.respectDoNotTrack&&p.respectDoNotTrack&&("yes"===ig||"1"===ig),Yf=null!==(se=p.cookieLifetime)&&void 0!==se?se:63072E3,Xf=null!==(te=p.sessionCookieTimeout)&&void 0!==te?te:1800,Ad=$f(p),me=ag(p),Mc=!!p.anonymousTracking,Fa=Zf(p),Ed=-1,xe=(new Date).getTime(),nb=1,yb=function(h,r,t,A,C,H,J,K){var B,O,ia,Ga,Da=na,Ya=function(){var V=Da.getConfig();return!V.emitterConfiguration||!V.emitterConfiguration.batching||V.emitterConfiguration.batching.enabled};
return Dh(h,r,"localStorage"==t||"cookieAndLocalStorage"==t,A.eventMethod,C,function(){var V,Z=Da.getConfig();return null!==(V=Z.bufferSize?Z.bufferSize:A.bufferSize)&&void 0!==V?V:20}(),function(){var V,Z=Da.getConfig();return null!==(V=Z.maxGetBytes?Z.maxGetBytes:A.maxGetBytes)&&void 0!==V?V:0},null===(B=A.useStm)||void 0===B||B,function(){var V,Z=Da.getConfig();return null!==(V=Z.maxLocalStorageQueueSize?Z.maxLocalStorageQueueSize:A.maxLocalStorageQueueSize)&&void 0!==V?V:10},null!==(O=A.connectionTimeout)&&
void 0!==O?O:3E4,H,null!==(ia=A.customHeaders)&&void 0!==ia?ia:{},null!==(Ga=A.withCredentials)&&void 0!==Ga&&Ga,J,function(){var V,Z,ja,Ha=Da.getConfig();return null!==(ja=(null==Ha?0:Ha.enc)?Ha.enc:null===(Z=null===(V=null==A?void 0:A.configs)||void 0===V?void 0:V.network)||void 0===Z?void 0:Z.encoding)&&void 0!==ja?ja:ub.GZIP},Ya,function(){var V,Z,ja=Da.getConfig();return Ya()?"number"==typeof(null===(Z=null===(V=ja.emitterConfiguration)||void 0===V?void 0:V.batching)||void 0===Z?void 0:Z.byteLimitPostInKB)?
1E3*ja.emitterConfiguration.batching.byteLimitPostInKB:25E4:4E4},function(){var V,Z,ja=null===(Z=null===(V=Da.getConfig().emitterConfiguration)||void 0===V?void 0:V.batching)||void 0===Z?void 0:Z.batchingIntervalInSec;return 1E3*("number"==typeof ja?ja:5)},K)}(k,u,Fa,p,Sh,me,5E3,pc),bg=!1,oe=!1,Oa={enabled:!0,installed:!1,configurations:{pagePing:{configMinimumVisitLength:5E3,configHeartBeatTimer:1E3*Jd.periodicHeartbeatInterval,callback:Q}}},cg=!1;p.hasOwnProperty("discoverRootDomain")&&p.discoverRootDomain&&
(Lc=function(h,r){for(var t=window.location.hostname,A="_cnv_root_domain_test_"+(new Date).getTime(),C="_test_value_"+(new Date).getTime(),H=t.split("."),J=H.length-1;0<=J;){var K=H.slice(J,H.length).join(".");if(mb(A,C,0,"/",K,h,r),mb(A)===C){mb(A,"",-1,"/",K,h,r);t=document.cookie.split("; ");A=[];for(C=0;C<t.length;C++)"_cnv_root_domain_test_"===t[C].substring(0,22)&&A.push(t[C]);t=A;for(A=0;A<t.length;A++)mb(t[A],"",-1,"/",K,h,r);return K}--J}return t}(Bd,Cd));Gb.setTrackerVersion(m);Gb.setAppId(Th);
Gb.setPlatform(Rh);v();ua();yb.setCustomHeaders({"x-client-id":""+Nc});p.crossDomainLinker&&D(p.crossDomainLinker);var Xe={getDomainSessionIndex:function(){return nb},getPageViewId:function(){return Na()},newSession:function(){var h=U();"0"===h[0]?(Wb="none"!=Fa?Hc(h):h[6],nb=h[3],E()):(nb++,Wb=Hc(h,nb));ge(h);"none"!=Fa&&(M(h),E());xe=(new Date).getTime()},getCookieName:function(h){return oc+h+"."+Vb},getUserId:function(){return Xb},getDomainUserId:function(){var h=U();return h&&1<h.length?h[1]:
null},getDomainUserInfo:function(){return U()},setReferrerUrl:function(h){Gd=h},setCustomUrl:function(h){n();var r=Fb,t;Fd=z(h)?h:"/"===h.slice(0,1)?z(r)+"://"+md(r)+h:(0<=(t=(r=x(r)).indexOf("?"))&&(r=r.slice(0,t)),(t=r.lastIndexOf("/"))!==r.length-1&&(r=r.slice(0,t+1)),r+h)},setDocumentTitle:function(h){Hb=document.title;Oc=h},discardHashTag:function(h){Vf=h},discardBrace:function(h){Wf=h},setCookiePath:function(h){ke=h;v()},setVisitorCookieTimeout:function(h){Yf=h},crossDomainLinker:function(h){D(h)},
enableActivityTracking:function(h){Oa.configurations.pagePing||(Oa.enabled=!0,Oa.configurations.pagePing=L(aa(aa({},h),{callback:Q})))},enableActivityTrackingCallback:function(h){Oa.configurations.callback||(Oa.enabled=!0,Oa.configurations.callback=L(h))},updatePageActivity:function(){q()},setOptOutCookie:function(h){we=h},setUserId:function(h){Xb=h},setUserIdFromLocation:function(h){n();Xb=Gc(h,Fb)},setUserIdFromReferrer:function(h){n();Xb=Gc(h,Kc)},setUserIdFromCookie:function(h){Xb=mb(h)},setCollectorUrl:function(h,
r){ye=oa(h,r);yb.setCollectorUrl(ye)},setBufferSize:function(h){yb.setBufferSize(h)},flushBuffer:function(h){void 0===h&&(h={});yb.executeQueue();h.newBufferSize&&yb.setBufferSize(h.newBufferSize)},trackPageView:function(h){var r;void 0===h&&(h={});db();var t=null===(r=null==f?void 0:f.core)||void 0===r?void 0:r.getConfig();try{h=aa(aa({},h),{context:pd(null==t?void 0:t.performanceContextConfig).contexts()})}catch(A){console.warn("Conviva App Tracker:: error adding performacetiming context to page view",
A)}ha(h)},trackVideoEvent:function(h){var r,t,A,C,H;void 0===h&&(h={});try{var J=null===(r=null==f?void 0:f.core)||void 0===r?void 0:r.getConfig();if(null!==(A=null===(t=null==J?void 0:J.customEventTrackingConfiguration)||void 0===t?void 0:t.enabled)&&void 0!==A?A:fa.customEventTrackingConfiguration.enabled){""!=h.name&&null!=h.name||console.warn("Conviva App Tracker:: Video event could not be tracked due to missing name property!!");var K=null===(C=null==J?void 0:J.customEventTrackingConfiguration)||
void 0===C?void 0:C.blocklist;(null==K?0:K.includes("*"))||(null==K?0:K.some(function(B){return 0<(null==B?void 0:B.length)&&h.name.toLowerCase().includes(B.toLowerCase())}))||null===(H=null==f?void 0:f.core)||void 0===H||H.track(function(B){return Qb({event:{sc:"cv/ve/1-0-5",dt:jc({name:B.name,sid:B.sid,iid:B.iid,clid:B.clid,st:B.st,sst:B.sst,an:B.an,cl:B.cl,lv:B.lv,pn:B.pn,vid:B.vid,fw:B.fw,fwv:B.fwv,mn:B.mn,mv:B.mv,url:B.url,tags:B.tags,cen:B.cen,ced:B.ced,oldsc:B.oldsc,newsc:B.newsc,err:B.err,
br:B.br,ft:B.ft,avgbr:B.avgbr})}})}({name:h.name,sid:h.sid,iid:h.iid,clid:h.clid,st:h.st,sst:h.sst,an:h.an,cl:h.cl,lv:h.lv,pn:h.pn,vid:h.vid,fw:h.fw,fwv:h.fwv,mn:h.mn,mv:h.mv,url:h.url,tags:h.tags,cen:h.cen,ced:h.ced,oldsc:h.old,newsc:h.new,err:h.err,br:h.br,ft:h.ft,avgbr:h.avgbr}),h.context,h.timestamp)}}catch(B){console.warn("Conviva App Tracker:: Video event could not be tracked due to an exception!!",B)}},trackCustomEvent:function(h){var r,t,A,C,H;void 0===h&&(h={});try{if(pc()!==F.SAMPLING_MODES.NONE){var J=
null===(r=null==f?void 0:f.core)||void 0===r?void 0:r.getConfig();if(null!==(A=null===(t=null==J?void 0:J.customEventTrackingConfiguration)||void 0===t?void 0:t.enabled)&&void 0!==A?A:fa.customEventTrackingConfiguration.enabled){if(!h.name||"string"==typeof h.name&&""==h.name.trim())return void console.warn("Conviva App Tracker:: custom event name is mandatory for trackCustomEvent API!!");var K=h.data;try{"string"!=typeof h.data&&(K=JSON.stringify(h.data))}catch(O){}var B=null===(C=null==J?void 0:
J.customEventTrackingConfiguration)||void 0===C?void 0:C.blocklist;(null==B?0:B.includes("*"))||(null==B?0:B.some(function(O){return 0<(null==O?void 0:O.length)&&h.name.toLowerCase().includes(O.toLowerCase())}))||null===(H=null==f?void 0:f.core)||void 0===H||H.track(jd({name:h.name,data:K}),h.context,h.timestamp)}}}catch(O){console.warn("Conviva App Tracker:: Unable to track custom event! "+O)}},trackNetworkRequest:function(h){var r,t,A,C,H,J,K,B,O,ia,Ga,Da;void 0===h&&(h={});try{var Ya=null===(A=
null==f?void 0:f.core)||void 0===A?void 0:A.getConfig().networkRequestTrackingConfiguration,V=h.responseDetails.responseTime-h.requestDetails.requestTime;try{V=parseFloat(V.toFixed(3))}catch(La){console.warn("Conviva App Tracker:: exception while converting duration to 3 decimal",La)}try{a:{var Z=((r={targetUrl:null===(C=null==h?void 0:h.requestDetails)||void 0===C?void 0:C.url,method:null===(H=null==h?void 0:h.requestDetails)||void 0===H?void 0:H.method,responseStatusCode:(null===(J=null==h?void 0:
h.responseDetails)||void 0===J?0:J.status)?h.responseDetails.status:0,responseStatusText:(null===(K=null==h?void 0:h.responseDetails)||void 0===K?0:K.statusText)?h.responseDetails.statusText:"ok"})[sa.request_headers]=null===(B=null==h?void 0:h.requestDetails)||void 0===B?void 0:B.headers,r[sa.response_headers]=null===(O=null==h?void 0:h.responseDetails)||void 0===O?void 0:O.headers,r.duration=V,r),ja=null==Ya?void 0:Ya.collectattr,Ha=h;void 0===Ha&&(Ha={});var Ua=[sa.request_body,sa.response_body,
sa.request_headers,sa.response_headers],Pa={};if(ja&&0<ja.length)for(var zb=0;zb<ja.length;zb++){var ob=ja[zb],Pc=ob.conditions,Qa=void 0,ib=ob,qc=["conditions"],Yb={};for(Qa in ib)Object.prototype.hasOwnProperty.call(ib,Qa)&&0>qc.indexOf(Qa)&&(Yb[Qa]=ib[Qa]);if(null!=ib&&"function"==typeof Object.getOwnPropertySymbols){var pb=0;for(Qa=Object.getOwnPropertySymbols(ib);pb<Qa.length;pb++)0>qc.indexOf(Qa[pb])&&Object.prototype.propertyIsEnumerable.call(ib,Qa[pb])&&(Yb[Qa[pb]]=ib[Qa[pb]])}var Zb=Yb;try{b:{var Qc=
Z;try{for(var $b=0,rc=Pc;$b<rc.length;$b++){var Rc=rc[$b],ma=!1;if(0<Object.keys(Rc).length)for(var Ib=0,Sc=Object.entries(Rc);Ib<Sc.length;Ib++){var Tc=Sc[Ib],qb=Tc[1],bc=Qc[Tc[0]];if(0<qb.length){for(var Uc=0,Kb=0,Vc=qb;Kb<Vc.length;Kb++){var Va=Vc[Kb],Jb="contains",ac=Va;if("object"===la(Va)&&Va.length?(Jb=Va[1],ac=Va[0]):"boolean"!=typeof Va&&null!==Va||(Jb="equal",ac=Va),wh(bc,Jb,ac)){ma=!0;break}if(ma=!1,Uc+1===qb.length)break;Uc++}if(!1===ma)break}}if(ma){var Hd=!0;break b}}}catch(La){console.warn("Conviva App Tracker: Error in Applying nwreqConfig ".concat(La))}Hd=
!1}if(Hd){for(var ze=0,jg=Object.entries(Z);ze<jg.length;ze++){var kg=jg[ze],eb=kg[0],Ae=kg[1];Ua.includes(eb)||(Pa[eb]=Ae)}for(var Be=0,lg=Object.entries(Zb);Be<lg.length;Be++){var mg=lg[Be];eb=mg[0];Ae=mg[1];try{if(Ae&&0<Zb[eb].length){var ng=!1;eb!==sa.response_headers&&eb!==sa.request_headers||(ng=!0);if(eb===sa.request_body){var Ce=void 0,De=void 0,Ee=void 0,Fe=void 0,Ge=void 0,He=void 0,Ie=void 0,Ma=Ha,og=Z;void 0===Ma&&(Ma={});var cc=pg(null===(Ie=null==Ma?void 0:Ma.requestDetails)||void 0===
Ie?void 0:Ie.headers);if(void 0!==cc&&(cc.toLowerCase().includes("text/plain")||cc.toLowerCase().includes("json")||cc.toLowerCase().includes("text/javascript")||cc.toLowerCase().includes("application/javascript")||cc.toLowerCase().includes("text/html"))||void 0===cc)try{if("string"==typeof(null===(He=null==Ma?void 0:Ma.requestDetails)||void 0===He?void 0:He.body)&&10240>=(null===(Ge=null==Ma?void 0:Ma.requestDetails)||void 0===Ge?void 0:Ge.body.length))try{og[sa.request_body]=JSON.parse(null===(Fe=
null==Ma?void 0:Ma.requestDetails)||void 0===Fe?void 0:Fe.body)}catch(La){}else"object"===la(null===(Ee=null==Ma?void 0:Ma.requestDetails)||void 0===Ee?void 0:Ee.body)&&10240>=JSON.stringify(null===(De=null==Ma?void 0:Ma.requestDetails)||void 0===De?void 0:De.body).length&&(og[sa.request_body]=null===(Ce=null==Ma?void 0:Ma.requestDetails)||void 0===Ce?void 0:Ce.body)}catch(La){}}if(eb===sa.response_body){var Wc=void 0,Je=void 0,Ke=void 0,Le=void 0,Me=void 0,Ne=void 0,Oe=void 0,Pe=void 0,Qe=void 0,
Re=void 0,Se=void 0,Te=void 0,Ue=void 0,Ve=void 0,ka=Ha,Kd=Z;void 0===ka&&(ka={});b:{var Ld=null===(Ve=null==ka?void 0:ka.responseDetails)||void 0===Ve?void 0:Ve.headers;try{var Xc=void 0;Wc=(null!=Ld&&(Xc=Ld["content-length"]||Ld["Content-Length"]||Ld["Content-length"]),null==Xc||isNaN(Xc)?Xc:Number(Xc));break b}catch(La){}Wc=void 0}var xc=pg(null===(Ue=null==ka?void 0:ka.responseDetails)||void 0===Ue?void 0:Ue.headers);if(void 0!==xc&&(xc.toLowerCase().includes("text/plain")||xc.toLowerCase().includes("json")||
xc.toLowerCase().includes("text/javascript")||xc.toLowerCase().includes("application/javascript")||xc.toLowerCase().includes("text/html")))if(void 0!==Wc&&10240>=Wc)if("string"==typeof(null===(Te=null==ka?void 0:ka.responseDetails)||void 0===Te?void 0:Te.body))try{Kd[sa.response_body]=JSON.parse(null===(Se=null==ka?void 0:ka.responseDetails)||void 0===Se?void 0:Se.body)}catch(La){}else"object"===la(null===(Re=null==ka?void 0:ka.responseDetails)||void 0===Re?void 0:Re.body)&&(Kd[sa.response_body]=
null===(Qe=null==ka?void 0:ka.responseDetails)||void 0===Qe?void 0:Qe.body);else if(void 0===Wc)try{if("string"==typeof(null===(Pe=null==ka?void 0:ka.responseDetails)||void 0===Pe?void 0:Pe.body)&&10240>=(null===(Ne=null===(Oe=null==ka?void 0:ka.responseDetails)||void 0===Oe?void 0:Oe.body)||void 0===Ne?void 0:Ne.length))try{Kd[sa.response_body]=JSON.parse(null===(Me=null==ka?void 0:ka.responseDetails)||void 0===Me?void 0:Me.body)}catch(La){}else"object"===la(null===(Le=null==ka?void 0:ka.responseDetails)||
void 0===Le?void 0:Le.body)&&10240>=JSON.stringify(null===(Ke=null==ka?void 0:ka.responseDetails)||void 0===Ke?void 0:Ke.body).length&&(Kd[sa.response_body]=null===(Je=null==ka?void 0:ka.responseDetails)||void 0===Je?void 0:Je.body)}catch(La){}}var qg=xh(Z[eb],Zb[eb],ng);0!==Object.keys(qg).length&&(Pa[eb]=qg)}}catch(La){Pa[eb]=void 0}}var Ba=Pa;break a}}catch(La){console.warn("Conviva App Tracker: Error in collecting attributes nwreqConfig ".concat(La))}}Pa=aa({},Z);for(var We=0;We<Ua.length;We++){var rg=
Ua[We];null!=Pa&&Pa.hasOwnProperty(rg)&&delete Pa[rg]}Ba=Pa}if(null===(ia=null==h?void 0:h.requestDetails)||void 0===ia?0:ia[F.TRACEPARENT_HEADER_KEY]){var sg=((t={})[F.TRACEPARENT_HEADER_KEY]=null===(Ga=null==h?void 0:h.requestDetails)||void 0===Ga?void 0:Ga[F.TRACEPARENT_HEADER_KEY],t);Ba[sa.request_headers]?Ba[sa.request_headers]=aa(aa({},Ba[sa.request_headers]),sg):Ba[sa.request_headers]=sg}null===(Da=null==f?void 0:f.core)||void 0===Da||Da.track(Qb({event:{sc:"cv/nr/1-0-4",dt:jc({targetUrl:Ba.targetUrl,
method:Ba.method,queryParameters:Ba.queryParameters,responseStatusCode:Ba.responseStatusCode,responseStatusText:Ba.responseStatusText,rqh:Ba.rqh,rsh:Ba.rsh,rqb:Ba.rqb,rsb:Ba.rsb,requestSize:Ba.requestSize,responseSize:Ba.responseSize,duration:Ba.duration,contentType:Ba.contentType,requestTimestamp:Ba.requestTimestamp,responseTimestamp:Ba.responseTimestamp})}}),h.context,h.timestamp)}catch(La){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",La)}}catch(La){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",
La)}},trackButtonClick:function(h){var r,t,A;try{var C=null===(r=null==ya?void 0:ya.core)||void 0===r?void 0:r.getConfig();!0===(null===(t=null==C?void 0:C.clickcc)||void 0===t?void 0:t.en)&&(h.elementType="button",null===(A=null==ya?void 0:ya.core)||void 0===A||A.track(jd({name:"conviva_click",data:JSON.stringify(h)}),vf(void 0,void 0)))}catch(H){ca.warn("Conviva App Tracker caused Exception in sendButtonClick method of user click tracking module",H)}!0},trackLinkClick:function(h){var r,t,A;try{var C=
null===(r=null==ya?void 0:ya.core)||void 0===r?void 0:r.getConfig();!0===(null===(t=null==C?void 0:C.clickcc)||void 0===t?void 0:t.en)&&(h.elementType="link",null===(A=null==ya?void 0:ya.core)||void 0===A||A.track(jd({name:"conviva_click",data:JSON.stringify(h)}),vf(void 0,void 0)))}catch(H){ca.warn("Conviva App Tracker caused Exception in sendLinkClick method of user click tracking module",H)}!0},trackErrorEvent:function(h){je(h)},setCustomTags:function(h){void 0===h&&(h={});Y(h)},setMetaCustomTags:function(h){void 0===
h&&(h={});(function(r){try{var t=Object.keys(r);pa(JSON.stringify(r))?t.forEach(function(A){""!==A&&Object.defineProperty(pe,A,{value:""+r[A],writable:!0,enumerable:!0,configurable:!0})}):console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=")}catch(A){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",A)}})(h)},unsetCustomTags:function(h){void 0===h&&(h=[]);(function(r){try{r.forEach(function(t){delete ne[t]})}catch(t){console.warn("Conviva AppTracker:: Failed to unset Custom tag(s). Check format of keys set.")}})(h)},
preservePageViewId:function(){bg=!0},disableAnonymousTracking:function(h){p.anonymousTracking=!1;ba(h);ua();yb.executeQueue()},enableAnonymousTracking:function(h){var r;p.anonymousTracking=null===(r=h&&(null==h?void 0:h.options))||void 0===r||r;ba(h);Ad||W()},clearUserData:R,setKeepAliveInBG:function(h){void 0===h&&(h=!1);cg=h},clearTimers:function(){na=null;tg.cleanupNetworkRequestHandler();try{Ta=f,removeEventListener("error",Rf,!0),removeEventListener("unhandledrejection",Sf,!0)}catch(t){console.warn("Conviva App Tracker caused Exception in disableErrorTracking method of error tracking module",
t)}Pf();null==ue||ue.abort();bb=Lb=void 0;if(Yc&&window.clearInterval(Yc),Oa.enabled){var h=void 0;for(h in Oa.configurations){var r=Oa.configurations[h];r&&window.clearInterval(r.activityInterval)}}f&&(f.core=null);this.tracker=null},getSamplingMode:pc,getPageViewSent:function(){return oe}};X=Xe;!0;var tg=Uh.getInstance(Xe,p,pc);return tg.initiateNetworkRequestTracking(),aa(aa({},Xe),{id:k,namespace:l,core:Gb,sharedState:u})}(a,c,b,d,e);var f=aa(aa({},a),{addPlugin:function(k){var l,m,u;null===(l=
null==f?void 0:f.core)||void 0===l||l.addPlugin(k);null===(u=(m=k.plugin).activateBrowserPlugin)||void 0===u||u.call(m,f)}});return g.forEach(function(k){var l;null===(l=k.activateBrowserPlugin)||void 0===l||l.call(k,f)}),Hh(f),Fh(f),ya=f,f}function fb(a,c){try{var b=null!=a?a:Object.keys(dc);a=dc;for(var d=[],e=0;e<b.length;e++){var g=b[e];a.hasOwnProperty(g)?d.push(a[g]):ca.warn(g+" not configured")}d.forEach(c)}catch(f){ca.error("Function failed",f)}}var aa=function(){return aa=Object.assign||
function(a){for(var c,b=1,d=arguments.length;b<d;b++)for(var e in c=arguments[b])Object.prototype.hasOwnProperty.call(c,e)&&(a[e]=c[e]);return a},aa.apply(this,arguments)},Md={},ug="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(ug){var vg=new Uint8Array(16);Md=function(){return ug(vg),vg}}else{var wg=Array(16);Md=function(){for(var a,
c=0;16>c;c++)0==(3&c)&&(a=4294967296*Math.random()),wg[c]=a>>>((3&c)<<3)&255;return wg}}for(var Ia=[],Nd=0;256>Nd;++Nd)Ia[Nd]=(Nd+256).toString(16).substr(1);var xg,Ye,yg=function(a,c){c=c||0;return[Ia[a[c++]],Ia[a[c++]],Ia[a[c++]],Ia[a[c++]],"-",Ia[a[c++]],Ia[a[c++]],"-",Ia[a[c++]],Ia[a[c++]],"-",Ia[a[c++]],Ia[a[c++]],"-",Ia[a[c++]],Ia[a[c++]],Ia[a[c++]],Ia[a[c++]],Ia[a[c++]],Ia[a[c++]]].join("")},Vh=Md,Ze=0,$e=0,Wh=Md,af=function(a,c,b){b=c&&b||0;"string"==typeof a&&(c="binary"===a?Array(16):null,
a=null);var d=(a=a||{}).random||(a.rng||Wh)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,c)for(a=0;16>a;++a)c[b+a]=d[a];return c||yg(d)};af.v1=function(a,c,b){b=c&&b||0;var d=c||[],e=(a=a||{}).node||xg,g=void 0!==a.clockseq?a.clockseq:Ye;if(null==e||null==g){var f=Vh();null==e&&(e=xg=[1|f[0],f[1],f[2],f[3],f[4],f[5]]);null==g&&(g=Ye=16383&(f[6]<<8|f[7]))}f=void 0!==a.msecs?a.msecs:(new Date).getTime();var k=void 0!==a.nsecs?a.nsecs:$e+1,l=f-Ze+(k-$e)/1E4;if(0>l&&void 0===a.clockseq&&(g=g+1&16383),(0>l||
f>Ze)&&void 0===a.nsecs&&(k=0),1E4<=k)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");Ze=f;$e=k;Ye=g;a=(1E4*(268435455&(f+=122192928E5))+k)%4294967296;d[b++]=a>>>24&255;d[b++]=a>>>16&255;d[b++]=a>>>8&255;d[b++]=255&a;a=f/4294967296*1E4&268435455;d[b++]=a>>>8&255;d[b++]=255&a;d[b++]=a>>>24&15|16;d[b++]=a>>>16&255;d[b++]=g>>>8|128;d[b++]=255&g;for(g=0;6>g;++g)d[b+g]=e[g];return c||yg(d)};var Cb=af.v4=af,ab="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ab;!function(a){a[a.none=
0]="none";a[a.error=1]="error";a[a.warn=2]="warn";a[a.debug=3]="debug";a[a.info=4]="info"}(Ab||(Ab={}));var zg,ca=function(a){void 0===a&&(a=Ab.warn);return{setLogLevel:function(c){a=Ab[c]?c:Ab.warn},warn:function(c,b){for(var d=[],e=2;e<arguments.length;e++)d[e-2]=arguments[e];a>=Ab.warn&&"undefined"!=typeof console&&(e="Conviva: "+c,b?console.warn.apply(console,Ca([e+"\n",b],d,!1)):console.warn.apply(console,Ca([e],d,!1)))},error:function(c,b){for(var d=[],e=2;e<arguments.length;e++)d[e-2]=arguments[e];
a>=Ab.error&&"undefined"!=typeof console&&(e="Conviva: "+c+"\n",b?console.error.apply(console,Ca([e+"\n",b],d,!1)):console.error.apply(console,Ca([e],d,!1)))},debug:function(c){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];a>=Ab.debug&&"undefined"!=typeof console&&console.debug.apply(console,Ca(["Conviva: "+c],b,!1))},info:function(c){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];a>=Ab.info&&"undefined"!=typeof console&&console.info.apply(console,Ca(["Conviva: "+c],b,!1))}}}();
!function(a){a.response_body="rsb";a.request_body="rqb";a.response_headers="rsh";a.request_headers="rqh"}(zg||(zg={}));var Od,Ag={},Bg={};Bg=Od={rotl:function(a,c){return a<<c|a>>>32-c},rotr:function(a,c){return a<<32-c|a>>>c},endian:function(a){if(a.constructor==Number)return 16711935&Od.rotl(a,8)|4278255360&Od.rotl(a,24);for(var c=0;c<a.length;c++)a[c]=Od.endian(a[c]);return a},randomBytes:function(a){for(var c=[];0<a;a--)c.push(Math.floor(256*Math.random()));return c},bytesToWords:function(a){for(var c=
[],b=0,d=0;b<a.length;b++,d+=8)c[d>>>5]|=a[b]<<24-d%32;return c},wordsToBytes:function(a){for(var c=[],b=0;b<32*a.length;b+=8)c.push(a[b>>>5]>>>24-b%32&255);return c},bytesToHex:function(a){for(var c=[],b=0;b<a.length;b++)c.push((a[b]>>>4).toString(16)),c.push((15&a[b]).toString(16));return c.join("")},hexToBytes:function(a){for(var c=[],b=0;b<a.length;b+=2)c.push(parseInt(a.substr(b,2),16));return c},bytesToBase64:function(a){for(var c=[],b=0;b<a.length;b+=3)for(var d=a[b]<<16|a[b+1]<<8|a[b+2],e=
0;4>e;e++)8*b+6*e<=8*a.length?c.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d>>>6*(3-e)&63)):c.push("=");return c.join("")},base64ToBytes:function(a){a=a.replace(/[^A-Z0-9+\/]/gi,"");for(var c=[],b=0,d=0;b<a.length;d=++b%4)0!=d&&c.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(b-1))&Math.pow(2,-2*d+8)-1)<<2*d|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(b))>>>6-2*d);return c}};var bf=
{utf8:{stringToBytes:function(a){return bf.bin.stringToBytes(unescape(encodeURIComponent(a)))},bytesToString:function(a){return decodeURIComponent(escape(bf.bin.bytesToString(a)))}},bin:{stringToBytes:function(a){for(var c=[],b=0;b<a.length;b++)c.push(255&a.charCodeAt(b));return c},bytesToString:function(a){for(var c=[],b=0;b<a.length;b++)c.push(String.fromCharCode(a[b]));return c.join("")}}},Cg=bf;!function(){var a=Bg,c=Cg.utf8,b=Cg.bin,d=function(e,g){var f=a.wordsToBytes,k=e;k.constructor==String?
k=c.stringToBytes(k):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(k)?k=Array.prototype.slice.call(k,0):Array.isArray(k)||(k=k.toString());e=a.bytesToWords(k);var l=8*k.length;k=[];var m=1732584193,u=-271733879,p=-1732584194,n=271733878,y=-1009589776;e[l>>5]|=128<<24-l%32;e[15+(l+64>>>9<<4)]=l;for(l=0;l<e.length;l+=16){for(var D=m,x=u,z=p,w=n,v=y,q=0;80>q;q++){if(16>q)k[q]=e[l+q];else{var G=k[q-3]^k[q-8]^k[q-14]^k[q-16];k[q]=G<<1|G>>>31}G=(m<<5|m>>>27)+y+(k[q]>>>
0)+(20>q?1518500249+(u&p|~u&n):40>q?1859775393+(u^p^n):60>q?(u&p|u&n|p&n)-1894007588:(u^p^n)-899497514);y=n;n=p;p=u<<30|u>>>2;u=m;m=G}m+=D;u+=x;p+=z;n+=w;y+=v}f=f.call(a,[m,u,p,n,y]);return g&&g.asBytes?f:g&&g.asString?b.bytesToString(f):a.bytesToHex(f)};d._blocksize=16;d._digestsize=20;Ag=d}();var Jh=Ag,cf=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Pd=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Xh=new Uint8Array([0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Dg=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Bb=Array(576);kc(Bb);var Zc=Array(60);kc(Zc);var ec=Array(512);kc(ec);var $c=Array(256);kc($c);var df=Array(29);kc(df);var Eg,Fg,Gg,Qd=Array(30);kc(Qd);var ad=function(a,c){a.pending_buf[a.pending++]=255&c;a.pending_buf[a.pending++]=c>>>8&255},Wa=function(a,c,b){a.bi_valid>16-b?(a.bi_buf|=c<<a.bi_valid&65535,ad(a,a.bi_buf),a.bi_buf=c>>16-a.bi_valid,a.bi_valid+=b-16):(a.bi_buf|=c<<a.bi_valid&65535,a.bi_valid+=
b)},rb=function(a,c,b){Wa(a,b[2*c],b[2*c+1])},Hg=function(a,c){var b=0;do b|=1&a,a>>>=1,b<<=1;while(0<--c);return b>>>1},Ig=function(a,c,b){var d,e=Array(16),g=0;for(d=1;15>=d;d++)g=g+b[d-1]<<1,e[d]=g;for(b=0;b<=c;b++)d=a[2*b+1],0!==d&&(a[2*b]=Hg(e[d]++,d))},Jg=function(a){var c;for(c=0;286>c;c++)a.dyn_ltree[2*c]=0;for(c=0;30>c;c++)a.dyn_dtree[2*c]=0;for(c=0;19>c;c++)a.bl_tree[2*c]=0;a.dyn_ltree[512]=1;a.opt_len=a.static_len=0;a.sym_next=a.matches=0},Kg=function(a){8<a.bi_valid?ad(a,a.bi_buf):0<a.bi_valid&&
(a.pending_buf[a.pending++]=a.bi_buf);a.bi_buf=0;a.bi_valid=0},Lg=function(a,c,b,d){var e=2*c,g=2*b;return a[e]<a[g]||a[e]===a[g]&&d[c]<=d[b]},ef=function(a,c,b){for(var d=a.heap[b],e=b<<1;e<=a.heap_len&&(e<a.heap_len&&Lg(c,a.heap[e+1],a.heap[e],a.depth)&&e++,!Lg(c,d,a.heap[e],a.depth));)a.heap[b]=a.heap[e],b=e,e<<=1;a.heap[b]=d},Mg=function(a,c,b){var d,e,g=0;if(0!==a.sym_next){do{var f=255&a.pending_buf[a.sym_buf+g++];f+=(255&a.pending_buf[a.sym_buf+g++])<<8;var k=a.pending_buf[a.sym_buf+g++];0===
f?rb(a,k,c):(d=$c[k],rb(a,d+256+1,c),0!==(e=cf[d])&&(k-=df[d],Wa(a,k,e)),f--,d=256>f?ec[f]:ec[256+(f>>>7)],rb(a,d,b),0!==(e=Pd[d])&&(f-=Qd[d],Wa(a,f,e)))}while(g<a.sym_next)}rb(a,256,c)},ff=function(a,c){var b,d,e=c.dyn_tree;var g=c.stat_desc.static_tree;var f=c.stat_desc.has_stree,k=c.stat_desc.elems,l=-1;a.heap_len=0;a.heap_max=573;for(b=0;b<k;b++)0!==e[2*b]?(a.heap[++a.heap_len]=l=b,a.depth[b]=0):e[2*b+1]=0;for(;2>a.heap_len;)e[2*(d=a.heap[++a.heap_len]=2>l?++l:0)]=1,a.depth[d]=0,a.opt_len--,f&&
(a.static_len-=g[2*d+1]);c.max_code=l;for(b=a.heap_len>>1;1<=b;b--)ef(a,e,b);d=k;do b=a.heap[1],a.heap[1]=a.heap[a.heap_len--],ef(a,e,1),g=a.heap[1],a.heap[--a.heap_max]=b,a.heap[--a.heap_max]=g,e[2*d]=e[2*b]+e[2*g],a.depth[d]=(a.depth[b]>=a.depth[g]?a.depth[b]:a.depth[g])+1,e[2*b+1]=e[2*g+1]=d,a.heap[1]=d++,ef(a,e,1);while(2<=a.heap_len);a.heap[--a.heap_max]=a.heap[1];var m,u,p,n,y;b=c.dyn_tree;d=c.max_code;g=c.stat_desc.static_tree;f=c.stat_desc.has_stree;k=c.stat_desc.extra_bits;var D=c.stat_desc.extra_base,
x=c.stat_desc.max_length,z=0;for(p=0;15>=p;p++)a.bl_count[p]=0;b[2*a.heap[a.heap_max]+1]=0;for(c=a.heap_max+1;573>c;c++)(p=b[2*b[2*(m=a.heap[c])+1]+1]+1)>x&&(p=x,z++),b[2*m+1]=p,m>d||(a.bl_count[p]++,n=0,m>=D&&(n=k[m-D]),y=b[2*m],a.opt_len+=y*(p+n),f&&(a.static_len+=y*(g[2*m+1]+n)));if(0!==z){do{for(p=x-1;0===a.bl_count[p];)p--;a.bl_count[p]--;a.bl_count[p+1]+=2;a.bl_count[x]--;z-=2}while(0<z);for(p=x;0!==p;p--)for(m=a.bl_count[p];0!==m;)(u=a.heap[--c])>d||(b[2*u+1]!==p&&(a.opt_len+=(p-b[2*u+1])*
b[2*u],b[2*u+1]=p),m--)}Ig(e,l,a.bl_count)},Ng=function(a,c,b){var d,e=-1,g=c[1],f=0,k=7,l=4;0===g&&(k=138,l=3);c[2*(b+1)+1]=65535;for(d=0;d<=b;d++){var m=g;g=c[2*(d+1)+1];++f<k&&m===g||(f<l?a.bl_tree[2*m]+=f:0!==m?(m!==e&&a.bl_tree[2*m]++,a.bl_tree[32]++):10>=f?a.bl_tree[34]++:a.bl_tree[36]++,f=0,e=m,0===g?(k=138,l=3):m===g?(k=6,l=3):(k=7,l=4))}},Og=function(a,c,b){var d,e,g=-1,f=c[1],k=0,l=7,m=4;0===f&&(l=138,m=3);for(d=0;d<=b;d++)if(e=f,f=c[2*(d+1)+1],!(++k<l&&e===f)){if(k<m){do rb(a,e,a.bl_tree);
while(0!=--k)}else 0!==e?(e!==g&&(rb(a,e,a.bl_tree),k--),rb(a,16,a.bl_tree),Wa(a,k-3,2)):10>=k?(rb(a,17,a.bl_tree),Wa(a,k-3,3)):(rb(a,18,a.bl_tree),Wa(a,k-11,7));k=0;g=e;0===f?(l=138,m=3):e===f?(l=6,m=3):(l=7,m=4)}},Pg=!1,Rd=function(a,c,b,d){Wa(a,d?1:0,3);Kg(a);ad(a,b);ad(a,~b);b&&a.pending_buf.set(a.window.subarray(c,c+b),a.pending);a.pending+=b},bd=function(a,c,b,d){var e=65535&a|0;a=a>>>16&65535|0;for(var g;0!==b;){b-=g=2E3<b?2E3:b;do a=a+(e=e+c[d++]|0)|0;while(--g);e%=65521;a%=65521}return e|
a<<16|0},Yh=new Uint32Array(function(){for(var a,c=[],b=0;256>b;b++){a=b;for(var d=0;8>d;d++)a=1&a?3988292384^a>>>1:a>>>1;c[b]=a}return c}()),Ea=function(a,c,b,d){b=d+b;for(a^=-1;d<b;d++)a=a>>>8^Yh[255&(a^c[d])];return-1^a},Rb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},S={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,
Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Zh=function(a,c,b,d){var e,g,f=0;0<a.level?(2===a.strm.data_type&&(a.strm.data_type=function(k){var l,m=4093624447;for(l=0;31>=l;l++,m>>>=1)if(1&m&&0!==k.dyn_ltree[2*l])return 0;if(0!==k.dyn_ltree[18]||
0!==k.dyn_ltree[20]||0!==k.dyn_ltree[26])return 1;for(l=32;256>l;l++)if(0!==k.dyn_ltree[2*l])return 1;return 0}(a)),ff(a,a.l_desc),ff(a,a.d_desc),f=function(k){var l;Ng(k,k.dyn_ltree,k.l_desc.max_code);Ng(k,k.dyn_dtree,k.d_desc.max_code);ff(k,k.bl_desc);for(l=18;3<=l&&0===k.bl_tree[2*Dg[l]+1];l--);return k.opt_len+=3*(l+1)+14,l}(a),e=a.opt_len+3+7>>>3,(g=a.static_len+3+7>>>3)<=e&&(e=g)):e=g=b+5;b+4<=e&&-1!==c?Rd(a,c,b,d):4===a.strategy||g===e?(Wa(a,2+(d?1:0),3),Mg(a,Bb,Zc)):(Wa(a,4+(d?1:0),3),function(k,
l,m,u){var p;Wa(k,l-257,5);Wa(k,m-1,5);Wa(k,u-4,4);for(p=0;p<u;p++)Wa(k,k.bl_tree[2*Dg[p]+1],3);Og(k,k.dyn_ltree,l-1);Og(k,k.dyn_dtree,m-1)}(a,a.l_desc.max_code+1,a.d_desc.max_code+1,f+1),Mg(a,a.dyn_ltree,a.dyn_dtree));Jg(a);d&&Kg(a)},Mb=function(a,c,b){return a.pending_buf[a.sym_buf+a.sym_next++]=c,a.pending_buf[a.sym_buf+a.sym_next++]=c>>8,a.pending_buf[a.sym_buf+a.sym_next++]=b,0===c?a.dyn_ltree[2*b]++:(a.matches++,c--,a.dyn_ltree[2*($c[b]+256+1)]++,a.dyn_dtree[2*(256>c?ec[c]:ec[256+(c>>>7)])]++),
a.sym_next===a.sym_end},$h=function(a){Wa(a,2,3);rb(a,256,Bb);16===a.bi_valid?(ad(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):8<=a.bi_valid&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)},Nb=S.Z_NO_FLUSH,ai=S.Z_PARTIAL_FLUSH,bi=S.Z_FULL_FLUSH,gb=S.Z_FINISH,Qg=S.Z_BLOCK,Ja=S.Z_OK,Rg=S.Z_STREAM_END,sb=S.Z_STREAM_ERROR,ci=S.Z_DATA_ERROR,gf=S.Z_BUF_ERROR,di=S.Z_DEFAULT_COMPRESSION,ei=S.Z_FILTERED,Sd=S.Z_HUFFMAN_ONLY,fi=S.Z_RLE,gi=S.Z_FIXED,hi=S.Z_DEFAULT_STRATEGY,ii=S.Z_UNKNOWN,kd=S.Z_DEFLATED,
fc=function(a,c){return a.msg=Rb[c],c},Db=function(a){for(var c=a.length;0<=--c;)a[c]=0},Ob=function(a,c,b){return(c<<a.hash_shift^b)&a.hash_mask},Za=function(a){var c=a.state,b=c.pending;b>a.avail_out&&(b=a.avail_out);0!==b&&(a.output.set(c.pending_buf.subarray(c.pending_out,c.pending_out+b),a.next_out),a.next_out+=b,c.pending_out+=b,a.total_out+=b,a.avail_out-=b,c.pending-=b,0===c.pending&&(c.pending_out=0))},$a=function(a,c){Zh(a,0<=a.block_start?a.block_start:-1,a.strstart-a.block_start,c);a.block_start=
a.strstart;Za(a.strm)},ea=function(a,c){a.pending_buf[a.pending++]=c},cd=function(a,c){a.pending_buf[a.pending++]=c>>>8&255;a.pending_buf[a.pending++]=255&c},hf=function(a,c,b,d){var e=a.avail_in;return e>d&&(e=d),0===e?0:(a.avail_in-=e,c.set(a.input.subarray(a.next_in,a.next_in+e),b),1===a.state.wrap?a.adler=bd(a.adler,c,e,b):2===a.state.wrap&&(a.adler=Ea(a.adler,c,e,b)),a.next_in+=e,a.total_in+=e,e)},Sg=function(a,c){var b,d,e=a.max_chain_length,g=a.strstart,f=a.prev_length,k=a.nice_match,l=a.strstart>
a.w_size-262?a.strstart-(a.w_size-262):0,m=a.window,u=a.w_mask,p=a.prev,n=a.strstart+258,y=m[g+f-1],D=m[g+f];a.prev_length>=a.good_match&&(e>>=2);k>a.lookahead&&(k=a.lookahead);do if(m[(b=c)+f]===D&&m[b+f-1]===y&&m[b]===m[g]&&m[++b]===m[g+1]){g+=2;for(b++;m[++g]===m[++b]&&m[++g]===m[++b]&&m[++g]===m[++b]&&m[++g]===m[++b]&&m[++g]===m[++b]&&m[++g]===m[++b]&&m[++g]===m[++b]&&m[++g]===m[++b]&&g<n;);if(d=258-(n-g),g=n-258,d>f){if(a.match_start=c,f=d,d>=k)break;y=m[g+f-1];D=m[g+f]}}while((c=p[c&u])>l&&
0!=--e);return f<=a.lookahead?f:a.lookahead},yc=function(a){var c,b=a.w_size;do{var d=a.window_size-a.lookahead-a.strstart;if(a.strstart>=b+(b-262)){a.window.set(a.window.subarray(b,b+b-d),0);a.match_start-=b;a.strstart-=b;a.block_start-=b;a.insert>a.strstart&&(a.insert=a.strstart);var e,g=a,f=g.w_size;var k=e=g.hash_size;do{var l=g.head[--k];g.head[k]=l>=f?l-f:0}while(--e);k=e=f;do l=g.prev[--k],g.prev[k]=l>=f?l-f:0;while(--e);d+=b}if(0===a.strm.avail_in)break;if(c=hf(a.strm,a.window,a.strstart+
a.lookahead,d),a.lookahead+=c,3<=a.lookahead+a.insert)for(d=a.strstart-a.insert,a.ins_h=a.window[d],a.ins_h=Ob(a,a.ins_h,a.window[d+1]);a.insert&&(a.ins_h=Ob(a,a.ins_h,a.window[d+3-1]),a.prev[d&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=d,d++,a.insert--,!(3>a.lookahead+a.insert)););}while(262>a.lookahead&&0!==a.strm.avail_in)},Tg=function(a,c){var b,d,e,g=a.pending_buf_size-5>a.w_size?a.w_size:a.pending_buf_size-5,f=0,k=a.strm.avail_in;do{if(b=65535,e=a.bi_valid+42>>3,a.strm.avail_out<e)break;if(e=
a.strm.avail_out-e,b>(d=a.strstart-a.block_start)+a.strm.avail_in&&(b=d+a.strm.avail_in),b>e&&(b=e),b<g&&(0===b&&c!==gb||c===Nb||b!==d+a.strm.avail_in))break;f=c===gb&&b===d+a.strm.avail_in?1:0;Rd(a,0,0,f);a.pending_buf[a.pending-4]=b;a.pending_buf[a.pending-3]=b>>8;a.pending_buf[a.pending-2]=~b;a.pending_buf[a.pending-1]=~b>>8;Za(a.strm);d&&(d>b&&(d=b),a.strm.output.set(a.window.subarray(a.block_start,a.block_start+d),a.strm.next_out),a.strm.next_out+=d,a.strm.avail_out-=d,a.strm.total_out+=d,a.block_start+=
d,b-=d);b&&(hf(a.strm,a.strm.output,a.strm.next_out,b),a.strm.next_out+=b,a.strm.avail_out-=b,a.strm.total_out+=b)}while(0===f);return(k-=a.strm.avail_in)&&(k>=a.w_size?(a.matches=2,a.window.set(a.strm.input.subarray(a.strm.next_in-a.w_size,a.strm.next_in),0),a.strstart=a.w_size,a.insert=a.strstart):(a.window_size-a.strstart<=k&&(a.strstart-=a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+a.strstart),0),2>a.matches&&a.matches++,a.insert>a.strstart&&(a.insert=a.strstart)),a.window.set(a.strm.input.subarray(a.strm.next_in-
k,a.strm.next_in),a.strstart),a.strstart+=k,a.insert+=k>a.w_size-a.insert?a.w_size-a.insert:k),a.block_start=a.strstart),a.high_water<a.strstart&&(a.high_water=a.strstart),f?4:c!==Nb&&c!==gb&&0===a.strm.avail_in&&a.strstart===a.block_start?2:(e=a.window_size-a.strstart,a.strm.avail_in>e&&a.block_start>=a.w_size&&(a.block_start-=a.w_size,a.strstart-=a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+a.strstart),0),2>a.matches&&a.matches++,e+=a.w_size,a.insert>a.strstart&&(a.insert=a.strstart)),
e>a.strm.avail_in&&(e=a.strm.avail_in),e&&(hf(a.strm,a.window,a.strstart,e),a.strstart+=e,a.insert+=e>a.w_size-a.insert?a.w_size-a.insert:e),a.high_water<a.strstart&&(a.high_water=a.strstart),e=a.bi_valid+42>>3,g=(e=65535<a.pending_buf_size-e?65535:a.pending_buf_size-e)>a.w_size?a.w_size:e,((d=a.strstart-a.block_start)>=g||(d||c===gb)&&c!==Nb&&0===a.strm.avail_in&&d<=e)&&(b=d>e?e:d,f=c===gb&&0===a.strm.avail_in&&b===d?1:0,Rd(a,a.block_start,b,f),a.block_start+=b,Za(a.strm)),f?3:1)},jf=function(a,
c){for(var b,d;;){if(262>a.lookahead){if(yc(a),262>a.lookahead&&c===Nb)return 1;if(0===a.lookahead)break}if(b=0,3<=a.lookahead&&(a.ins_h=Ob(a,a.ins_h,a.window[a.strstart+3-1]),b=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),0!==b&&a.strstart-b<=a.w_size-262&&(a.match_length=Sg(a,b)),3<=a.match_length)if(d=Mb(a,a.strstart-a.match_start,a.match_length-3),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&3<=a.lookahead){a.match_length--;do a.strstart++,a.ins_h=Ob(a,
a.ins_h,a.window[a.strstart+3-1]),b=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!=--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=Ob(a,a.ins_h,a.window[a.strstart+1]);else d=Mb(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d&&($a(a,!1),0===a.strm.avail_out))return 1}return a.insert=2>a.strstart?a.strstart:2,c===gb?($a(a,!0),0===a.strm.avail_out?3:4):a.sym_next&&($a(a,!1),0===a.strm.avail_out)?
1:2},zc=function(a,c){for(var b,d,e;;){if(262>a.lookahead){if(yc(a),262>a.lookahead&&c===Nb)return 1;if(0===a.lookahead)break}if(b=0,3<=a.lookahead&&(a.ins_h=Ob(a,a.ins_h,a.window[a.strstart+3-1]),b=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=2,0!==b&&a.prev_length<a.max_lazy_match&&a.strstart-b<=a.w_size-262&&(a.match_length=Sg(a,b),5>=a.match_length&&(a.strategy===ei||3===a.match_length&&4096<a.strstart-
a.match_start)&&(a.match_length=2)),3<=a.prev_length&&a.match_length<=a.prev_length){e=a.strstart+a.lookahead-3;d=Mb(a,a.strstart-1-a.prev_match,a.prev_length-3);a.lookahead-=a.prev_length-1;a.prev_length-=2;do++a.strstart<=e&&(a.ins_h=Ob(a,a.ins_h,a.window[a.strstart+3-1]),b=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!=--a.prev_length);if(a.match_available=0,a.match_length=2,a.strstart++,d&&($a(a,!1),0===a.strm.avail_out))return 1}else if(a.match_available){if(Mb(a,
0,a.window[a.strstart-1])&&$a(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return 1}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(Mb(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=2>a.strstart?a.strstart:2,c===gb?($a(a,!0),0===a.strm.avail_out?3:4):a.sym_next&&($a(a,!1),0===a.strm.avail_out)?1:2},dd=[new lb(0,0,0,0,Tg),new lb(4,4,8,4,jf),new lb(4,5,16,8,jf),new lb(4,6,32,32,jf),new lb(4,4,16,16,zc),new lb(8,16,32,32,zc),new lb(8,16,128,128,zc),
new lb(8,32,128,256,zc),new lb(32,128,258,1024,zc),new lb(32,258,258,4096,zc)],ed=function(a){if(!a)return 1;var c=a.state;return!c||c.strm!==a||42!==c.status&&57!==c.status&&69!==c.status&&73!==c.status&&91!==c.status&&103!==c.status&&113!==c.status&&666!==c.status?1:0},Ug=function(a){if(ed(a))return fc(a,sb);a.total_in=a.total_out=0;a.data_type=ii;var c=a.state;c.pending=0;c.pending_out=0;0>c.wrap&&(c.wrap=-c.wrap);c.status=2===c.wrap?57:c.wrap?42:113;a.adler=2===c.wrap?0:1;c.last_flush=-2;if(!Pg){var b,
d,e;a=Array(16);for(e=d=0;28>e;e++)for(df[e]=d,b=0;b<1<<cf[e];b++)$c[d++]=e;$c[d-1]=e;for(e=d=0;16>e;e++)for(Qd[e]=d,b=0;b<1<<Pd[e];b++)ec[d++]=e;for(d>>=7;30>e;e++)for(Qd[e]=d<<7,b=0;b<1<<Pd[e]-7;b++)ec[256+d++]=e;for(b=0;15>=b;b++)a[b]=0;for(b=0;143>=b;)Bb[2*b+1]=8,b++,a[8]++;for(;255>=b;)Bb[2*b+1]=9,b++,a[9]++;for(;279>=b;)Bb[2*b+1]=7,b++,a[7]++;for(;287>=b;)Bb[2*b+1]=8,b++,a[8]++;Ig(Bb,287,a);for(b=0;30>b;b++)Zc[2*b+1]=5,Zc[2*b]=Hg(b,5);Eg=new Yd(Bb,cf,257,286,15);Fg=new Yd(Zc,Pd,0,30,15);Gg=
new Yd([],Xh,0,19,7);!0;Pg=!0}c.l_desc=new Zd(c.dyn_ltree,Eg);c.d_desc=new Zd(c.dyn_dtree,Fg);c.bl_desc=new Zd(c.bl_tree,Gg);c.bi_buf=0;c.bi_valid=0;Jg(c);return Ja},Vg=function(a){var c,b=Ug(a);return b===Ja&&((c=a.state).window_size=2*c.w_size,Db(c.head),c.max_lazy_match=dd[c.level].max_lazy,c.good_match=dd[c.level].good_length,c.nice_match=dd[c.level].nice_length,c.max_chain_length=dd[c.level].max_chain,c.strstart=0,c.block_start=0,c.lookahead=0,c.insert=0,c.match_length=c.prev_length=2,c.match_available=
0,c.ins_h=0),b},Wg=function(a,c,b,d,e,g){if(!a)return sb;var f=1;if(c===di&&(c=6),0>d?(f=0,d=-d):15<d&&(f=2,d-=16),1>e||9<e||b!==kd||8>d||15<d||0>c||9<c||0>g||g>gi||8===d&&1!==f)return fc(a,sb);8===d&&(d=9);var k=new qh;return a.state=k,k.strm=a,k.status=42,k.wrap=f,k.gzhead=null,k.w_bits=d,k.w_size=1<<k.w_bits,k.w_mask=k.w_size-1,k.hash_bits=e+7,k.hash_size=1<<k.hash_bits,k.hash_mask=k.hash_size-1,k.hash_shift=~~((k.hash_bits+3-1)/3),k.window=new Uint8Array(2*k.w_size),k.head=new Uint16Array(k.hash_size),
k.prev=new Uint16Array(k.w_size),k.lit_bufsize=1<<e+6,k.pending_buf_size=4*k.lit_bufsize,k.pending_buf=new Uint8Array(k.pending_buf_size),k.sym_buf=k.lit_bufsize,k.sym_end=3*(k.lit_bufsize-1),k.level=c,k.strategy=g,k.method=b,Vg(a)},Cc={deflateInit:function(a,c){return Wg(a,c,kd,15,8,hi)},deflateInit2:Wg,deflateReset:Vg,deflateResetKeep:Ug,deflateSetHeader:function(a,c){return ed(a)||2!==a.state.wrap?sb:(a.state.gzhead=c,Ja)},deflate:function(a,c){if(ed(a)||c>Qg||0>c)return a?fc(a,sb):sb;var b=a.state;
if(!a.output||0!==a.avail_in&&!a.input||666===b.status&&c!==gb)return fc(a,0===a.avail_out?gf:sb);var d=b.last_flush;if(b.last_flush=c,0!==b.pending){if(Za(a),0===a.avail_out)return b.last_flush=-1,Ja}else if(0===a.avail_in&&2*c-(4<c?9:0)<=2*d-(4<d?9:0)&&c!==gb)return fc(a,gf);if(666===b.status&&0!==a.avail_in)return fc(a,gf);if(42===b.status&&0===b.wrap&&(b.status=113),42===b.status)if(d=kd+(b.w_bits-8<<4)<<8,d|=(b.strategy>=Sd||2>b.level?0:6>b.level?1:6===b.level?2:3)<<6,0!==b.strstart&&(d|=32),
cd(b,d+=31-d%31),0!==b.strstart&&(cd(b,a.adler>>>16),cd(b,65535&a.adler)),a.adler=1,b.status=113,Za(a),0!==b.pending)return b.last_flush=-1,Ja;if(57===b.status)if(a.adler=0,ea(b,31),ea(b,139),ea(b,8),b.gzhead)ea(b,(b.gzhead.text?1:0)+(b.gzhead.hcrc?2:0)+(b.gzhead.extra?4:0)+(b.gzhead.name?8:0)+(b.gzhead.comment?16:0)),ea(b,255&b.gzhead.time),ea(b,b.gzhead.time>>8&255),ea(b,b.gzhead.time>>16&255),ea(b,b.gzhead.time>>24&255),ea(b,9===b.level?2:b.strategy>=Sd||2>b.level?4:0),ea(b,255&b.gzhead.os),b.gzhead.extra&&
b.gzhead.extra.length&&(ea(b,255&b.gzhead.extra.length),ea(b,b.gzhead.extra.length>>8&255)),b.gzhead.hcrc&&(a.adler=Ea(a.adler,b.pending_buf,b.pending,0)),b.gzindex=0,b.status=69;else if(ea(b,0),ea(b,0),ea(b,0),ea(b,0),ea(b,0),ea(b,9===b.level?2:b.strategy>=Sd||2>b.level?4:0),ea(b,3),b.status=113,Za(a),0!==b.pending)return b.last_flush=-1,Ja;if(69===b.status){if(b.gzhead.extra){d=b.pending;for(var e=(65535&b.gzhead.extra.length)-b.gzindex;b.pending+e>b.pending_buf_size;){var g=b.pending_buf_size-
b.pending;if(b.pending_buf.set(b.gzhead.extra.subarray(b.gzindex,b.gzindex+g),b.pending),b.pending=b.pending_buf_size,b.gzhead.hcrc&&b.pending>d&&(a.adler=Ea(a.adler,b.pending_buf,b.pending-d,d)),b.gzindex+=g,Za(a),0!==b.pending)return b.last_flush=-1,Ja;d=0;e-=g}g=new Uint8Array(b.gzhead.extra);b.pending_buf.set(g.subarray(b.gzindex,b.gzindex+e),b.pending);b.pending+=e;b.gzhead.hcrc&&b.pending>d&&(a.adler=Ea(a.adler,b.pending_buf,b.pending-d,d));b.gzindex=0}b.status=73}if(73===b.status){if(b.gzhead.name){e=
b.pending;do{if(b.pending===b.pending_buf_size){if(b.gzhead.hcrc&&b.pending>e&&(a.adler=Ea(a.adler,b.pending_buf,b.pending-e,e)),Za(a),0!==b.pending)return b.last_flush=-1,Ja;e=0}d=b.gzindex<b.gzhead.name.length?255&b.gzhead.name.charCodeAt(b.gzindex++):0;ea(b,d)}while(0!==d);b.gzhead.hcrc&&b.pending>e&&(a.adler=Ea(a.adler,b.pending_buf,b.pending-e,e));b.gzindex=0}b.status=91}if(91===b.status){if(b.gzhead.comment){e=b.pending;do{if(b.pending===b.pending_buf_size){if(b.gzhead.hcrc&&b.pending>e&&(a.adler=
Ea(a.adler,b.pending_buf,b.pending-e,e)),Za(a),0!==b.pending)return b.last_flush=-1,Ja;e=0}d=b.gzindex<b.gzhead.comment.length?255&b.gzhead.comment.charCodeAt(b.gzindex++):0;ea(b,d)}while(0!==d);b.gzhead.hcrc&&b.pending>e&&(a.adler=Ea(a.adler,b.pending_buf,b.pending-e,e))}b.status=103}if(103===b.status){if(b.gzhead.hcrc){if(b.pending+2>b.pending_buf_size&&(Za(a),0!==b.pending))return b.last_flush=-1,Ja;ea(b,255&a.adler);ea(b,a.adler>>8&255);a.adler=0}if(b.status=113,Za(a),0!==b.pending)return b.last_flush=
-1,Ja}if(0!==a.avail_in||0!==b.lookahead||c!==Nb&&666!==b.status){d=0===b.level?Tg(b,c):b.strategy===Sd?function(f,k){for(var l;;){if(0===f.lookahead&&(yc(f),0===f.lookahead)){if(k===Nb)return 1;break}if(f.match_length=0,l=Mb(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++,l&&($a(f,!1),0===f.strm.avail_out))return 1}return f.insert=0,k===gb?($a(f,!0),0===f.strm.avail_out?3:4):f.sym_next&&($a(f,!1),0===f.strm.avail_out)?1:2}(b,c):b.strategy===fi?function(f,k){for(var l,m,u,p,n=f.window;;){if(258>=
f.lookahead){if(yc(f),258>=f.lookahead&&k===Nb)return 1;if(0===f.lookahead)break}if(f.match_length=0,3<=f.lookahead&&0<f.strstart&&(m=n[u=f.strstart-1])===n[++u]&&m===n[++u]&&m===n[++u]){for(p=f.strstart+258;m===n[++u]&&m===n[++u]&&m===n[++u]&&m===n[++u]&&m===n[++u]&&m===n[++u]&&m===n[++u]&&m===n[++u]&&u<p;);f.match_length=258-(p-u);f.match_length>f.lookahead&&(f.match_length=f.lookahead)}if(3<=f.match_length?(l=Mb(f,1,f.match_length-3),f.lookahead-=f.match_length,f.strstart+=f.match_length,f.match_length=
0):(l=Mb(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++),l&&($a(f,!1),0===f.strm.avail_out))return 1}return f.insert=0,k===gb?($a(f,!0),0===f.strm.avail_out?3:4):f.sym_next&&($a(f,!1),0===f.strm.avail_out)?1:2}(b,c):dd[b.level].func(b,c);if(3!==d&&4!==d||(b.status=666),1===d||3===d)return 0===a.avail_out&&(b.last_flush=-1),Ja;if(2===d&&(c===ai?$h(b):c!==Qg&&(Rd(b,0,0,!1),c===bi&&(Db(b.head),0===b.lookahead&&(b.strstart=0,b.block_start=0,b.insert=0))),Za(a),0===a.avail_out))return b.last_flush=
-1,Ja}return c!==gb?Ja:0>=b.wrap?Rg:(2===b.wrap?(ea(b,255&a.adler),ea(b,a.adler>>8&255),ea(b,a.adler>>16&255),ea(b,a.adler>>24&255),ea(b,255&a.total_in),ea(b,a.total_in>>8&255),ea(b,a.total_in>>16&255),ea(b,a.total_in>>24&255)):(cd(b,a.adler>>>16),cd(b,65535&a.adler)),Za(a),0<b.wrap&&(b.wrap=-b.wrap),0!==b.pending?Ja:Rg)},deflateEnd:function(a){if(ed(a))return sb;var c=a.state.status;return a.state=null,113===c?fc(a,ci):Ja},deflateSetDictionary:function(a,c){var b=c.length;if(ed(a))return sb;var d=
a.state,e=d.wrap;if(2===e||1===e&&42!==d.status||d.lookahead)return sb;if(1===e&&(a.adler=bd(a.adler,c,b,0)),d.wrap=0,b>=d.w_size){0===e&&(Db(d.head),d.strstart=0,d.block_start=0,d.insert=0);var g=new Uint8Array(d.w_size);g.set(c.subarray(b-d.w_size,b),0);c=g;b=d.w_size}g=a.avail_in;var f=a.next_in,k=a.input;a.avail_in=b;a.next_in=0;a.input=c;for(yc(d);3<=d.lookahead;){c=d.strstart;b=d.lookahead-2;do d.ins_h=Ob(d,d.ins_h,d.window[c+3-1]),d.prev[c&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=c,c++;while(--b);
d.strstart=c;d.lookahead=2;yc(d)}return d.strstart+=d.lookahead,d.block_start=d.strstart,d.insert=d.lookahead,d.lookahead=0,d.match_length=d.prev_length=2,d.match_available=0,a.next_in=f,a.input=k,a.avail_in=g,d.wrap=e,Ja},deflateInfo:"pako deflate (from Nodeca project)"},Af=function(a){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var b=c.shift();if(b){if("object"!==la(b))throw new TypeError(b+"must be non-object");for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])}}return a},
Xg=function(a){for(var c=0,b=0,d=a.length;b<d;b++)c+=a[b].length;c=new Uint8Array(c);d=b=0;for(var e=a.length;b<e;b++){var g=a[b];c.set(g,d);d+=g.length}return c},Yg=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){Yg=!1}for(var fd=new Uint8Array(256),Pb=0;256>Pb;Pb++)fd[Pb]=252<=Pb?6:248<=Pb?5:240<=Pb?4:224<=Pb?3:192<=Pb?2:1;fd[254]=fd[254]=1;var $d=function(a){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(a);var c,b,d,e,g=a.length,
f=0;for(d=0;d<g;d++)55296==(64512&(c=a.charCodeAt(d)))&&d+1<g&&56320==(64512&(b=a.charCodeAt(d+1)))&&(c=65536+(c-55296<<10)+(b-56320),d++),f+=128>c?1:2048>c?2:65536>c?3:4;var k=new Uint8Array(f);for(d=e=0;e<f;d++)55296==(64512&(c=a.charCodeAt(d)))&&d+1<g&&56320==(64512&(b=a.charCodeAt(d+1)))&&(c=65536+(c-55296<<10)+(b-56320),d++),128>c?k[e++]=c:2048>c?(k[e++]=192|c>>>6,k[e++]=128|63&c):65536>c?(k[e++]=224|c>>>12,k[e++]=128|c>>>6&63,k[e++]=128|63&c):(k[e++]=240|c>>>18,k[e++]=128|c>>>12&63,k[e++]=128|
c>>>6&63,k[e++]=128|63&c);return k},Bf=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0},Cf=Object.prototype.toString,ji=S.Z_NO_FLUSH,ki=S.Z_SYNC_FLUSH,li=S.Z_FULL_FLUSH,mi=S.Z_FINISH,ld=S.Z_OK,ni=S.Z_STREAM_END,rh=S.Z_DEFAULT_COMPRESSION,th=S.Z_DEFAULT_STRATEGY,sh=S.Z_DEFLATED;Bc.prototype.push=function(a,c){var b=this.strm,d=this.options.chunkSize;if(this.ended)return!1;
c=c===~~c?c:!0===c?mi:ji;"string"==typeof a?b.input=$d(a):"[object ArrayBuffer]"===Cf.call(a)?b.input=new Uint8Array(a):b.input=a;b.next_in=0;for(b.avail_in=b.input.length;;)if(0===b.avail_out&&(b.output=new Uint8Array(d),b.next_out=0,b.avail_out=d),(c===ki||c===li)&&6>=b.avail_out)this.onData(b.output.subarray(0,b.next_out)),b.avail_out=0;else{if((a=Cc.deflate(b,c))===ni)return 0<b.next_out&&this.onData(b.output.subarray(0,b.next_out)),a=Cc.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===ld;
if(0!==b.avail_out)if(0<c&&0<b.next_out)this.onData(b.output.subarray(0,b.next_out)),b.avail_out=0;else{if(0===b.avail_in)break}else this.onData(b.output)}return!0};Bc.prototype.onData=function(a){this.chunks.push(a)};Bc.prototype.onEnd=function(a){a===ld&&(this.result=Xg(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};var oi=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),pi=new Uint8Array([16,16,16,16,16,16,16,16,17,17,
17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),qi=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ri=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),gd=function(a,c,b,d,e,g,f,k){var l,m,u,p,n,y,D=k.bits,x,z,w,v,q,G=0,I,P=null,E=new Uint16Array(16);var M=new Uint16Array(16);var N=null;for(x=0;15>=x;x++)E[x]=0;for(z=0;z<d;z++)E[c[b+
z]]++;var R=D;for(w=15;1<=w&&0===E[w];w--);if(R>w&&(R=w),0===w)return e[g++]=20971520,e[g++]=20971520,k.bits=1,0;for(D=1;D<w&&0===E[D];D++);R<D&&(R=D);for(x=l=1;15>=x;x++)if(l<<=1,0>(l-=E[x]))return-1;if(0<l&&(0===a||1!==w))return-1;M[1]=0;for(x=1;15>x;x++)M[x+1]=M[x]+E[x];for(z=0;z<d;z++)0!==c[b+z]&&(f[M[c[b+z]]++]=z);if(0===a?(P=N=f,p=20):1===a?(P=oi,N=pi,p=257):(P=qi,N=ri,p=0),I=0,z=0,x=D,M=g,v=R,q=0,u=-1,d=(G=1<<R)-1,1===a&&852<G||2===a&&592<G)return 1;for(;;){var ba=x-q;f[z]+1<p?(n=0,y=f[z]):
f[z]>=p?(n=N[f[z]-p],y=P[f[z]-p]):(n=96,y=0);l=1<<x-q;D=m=1<<v;do e[M+(I>>q)+(m-=l)]=ba<<24|n<<16|y|0;while(0!==m);for(l=1<<x-1;I&l;)l>>=1;if(0!==l?(I&=l-1,I+=l):I=0,z++,0==--E[x]){if(x===w)break;x=c[b+f[z]]}if(x>R&&(I&d)!==u){0===q&&(q=R);M+=D;for(l=1<<(v=x-q);v+q<w&&!(0>=(l-=E[v+q]));)v++,l<<=1;if(G+=1<<v,1===a&&852<G||2===a&&592<G)return 1;e[u=I&d]=R<<24|v<<16|M-g|0}}return 0!==I&&(e[M+I]=x-q<<24|4194304),k.bits=R,0},Zg=S.Z_FINISH,si=S.Z_BLOCK,Td=S.Z_TREES,gc=S.Z_OK,ti=S.Z_STREAM_END,ui=S.Z_NEED_DICT,
kb=S.Z_STREAM_ERROR,$g=S.Z_DATA_ERROR,ah=S.Z_MEM_ERROR,vi=S.Z_BUF_ERROR,bh=S.Z_DEFLATED,ch=function(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24)},kf,lf,hc=function(a){if(!a)return 1;var c=a.state;return!c||c.strm!==a||16180>c.mode||16211<c.mode?1:0},dh=function(a){if(hc(a))return kb;var c=a.state;return a.total_in=a.total_out=c.total=0,a.msg="",c.wrap&&(a.adler=1&c.wrap),c.mode=16180,c.last=0,c.havedict=0,c.flags=-1,c.dmax=32768,c.head=null,c.hold=0,c.bits=0,c.lencode=c.lendyn=
new Int32Array(852),c.distcode=c.distdyn=new Int32Array(592),c.sane=1,c.back=-1,gc},eh=function(a){if(hc(a))return kb;var c=a.state;return c.wsize=0,c.whave=0,c.wnext=0,dh(a)},fh=function(a,c){var b;if(hc(a))return kb;var d=a.state;return 0>c?(b=0,c=-c):(b=5+(c>>4),48>c&&(c&=15)),c&&(8>c||15<c)?kb:(null!==d.window&&d.wbits!==c&&(d.window=null),d.wrap=b,d.wbits=c,eh(a))},gh=function(a,c){if(!a)return kb;var b=new uh;a.state=b;b.strm=a;b.window=null;b.mode=16180;c=fh(a,c);return c!==gc&&(a.state=null),
c},hh=!0,ih=function(a,c,b,d){var e;a=a.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),d>=a.wsize?(a.window.set(c.subarray(b-a.wsize,b),0),a.wnext=0,a.whave=a.wsize):((e=a.wsize-a.wnext)>d&&(e=d),a.window.set(c.subarray(b-d,b-d+e),a.wnext),(d-=e)?(a.window.set(c.subarray(b-d,b),0),a.wnext=d,a.whave=a.wsize):(a.wnext+=e,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=e))),0},tb={inflateReset:eh,inflateReset2:fh,inflateResetKeep:dh,
inflateInit:function(a){return gh(a,15)},inflateInit2:gh,inflate:function(a,c){var b,d,e,g,f,k,l,m=0,u=new Uint8Array(4),p=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(hc(a)||!a.output||!a.input&&0!==a.avail_in)return kb;16191===(b=a.state).mode&&(b.mode=16192);var n=a.next_out;var y=a.output;var D=a.avail_out;var x=a.next_in;var z=a.input;var w=a.avail_in;var v=b.hold;var q=b.bits;var G=w;var I=D;var P=gc;a:for(;;)switch(b.mode){case 16180:if(0===b.wrap){b.mode=16192;break}for(;16>
q;){if(0===w)break a;w--;v+=z[x++]<<q;q+=8}if(2&b.wrap&&35615===v){0===b.wbits&&(b.wbits=15);b.check=0;u[0]=255&v;u[1]=v>>>8&255;b.check=Ea(b.check,u,2,0);q=v=0;b.mode=16181;break}if(b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&v)<<8)+(v>>8))%31){a.msg="incorrect header check";b.mode=16209;break}if((15&v)!==bh){a.msg="unknown compression method";b.mode=16209;break}if(q-=4,k=8+(15&(v>>>=4)),0===b.wbits&&(b.wbits=k),15<k||k>b.wbits){a.msg="invalid window size";b.mode=16209;break}b.dmax=1<<b.wbits;b.flags=
0;a.adler=b.check=1;b.mode=512&v?16189:16191;q=v=0;break;case 16181:for(;16>q;){if(0===w)break a;w--;v+=z[x++]<<q;q+=8}if(b.flags=v,(255&b.flags)!==bh){a.msg="unknown compression method";b.mode=16209;break}if(57344&b.flags){a.msg="unknown header flags set";b.mode=16209;break}b.head&&(b.head.text=v>>8&1);512&b.flags&&4&b.wrap&&(u[0]=255&v,u[1]=v>>>8&255,b.check=Ea(b.check,u,2,0));q=v=0;b.mode=16182;case 16182:for(;32>q;){if(0===w)break a;w--;v+=z[x++]<<q;q+=8}b.head&&(b.head.time=v);512&b.flags&&4&
b.wrap&&(u[0]=255&v,u[1]=v>>>8&255,u[2]=v>>>16&255,u[3]=v>>>24&255,b.check=Ea(b.check,u,4,0));q=v=0;b.mode=16183;case 16183:for(;16>q;){if(0===w)break a;w--;v+=z[x++]<<q;q+=8}b.head&&(b.head.xflags=255&v,b.head.os=v>>8);512&b.flags&&4&b.wrap&&(u[0]=255&v,u[1]=v>>>8&255,b.check=Ea(b.check,u,2,0));q=v=0;b.mode=16184;case 16184:if(1024&b.flags){for(;16>q;){if(0===w)break a;w--;v+=z[x++]<<q;q+=8}b.length=v;b.head&&(b.head.extra_len=v);512&b.flags&&4&b.wrap&&(u[0]=255&v,u[1]=v>>>8&255,b.check=Ea(b.check,
u,2,0));q=v=0}else b.head&&(b.head.extra=null);b.mode=16185;case 16185:if(1024&b.flags&&((d=b.length)>w&&(d=w),d&&(b.head&&(k=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Uint8Array(b.head.extra_len)),b.head.extra.set(z.subarray(x,x+d),k)),512&b.flags&&4&b.wrap&&(b.check=Ea(b.check,z,d,x)),w-=d,x+=d,b.length-=d),b.length))break a;b.length=0;b.mode=16186;case 16186:if(2048&b.flags){if(0===w)break a;d=0;do k=z[x+d++],b.head&&k&&65536>b.length&&(b.head.name+=String.fromCharCode(k));while(k&&
d<w);if(512&b.flags&&4&b.wrap&&(b.check=Ea(b.check,z,d,x)),w-=d,x+=d,k)break a}else b.head&&(b.head.name=null);b.length=0;b.mode=16187;case 16187:if(4096&b.flags){if(0===w)break a;d=0;do k=z[x+d++],b.head&&k&&65536>b.length&&(b.head.comment+=String.fromCharCode(k));while(k&&d<w);if(512&b.flags&&4&b.wrap&&(b.check=Ea(b.check,z,d,x)),w-=d,x+=d,k)break a}else b.head&&(b.head.comment=null);b.mode=16188;case 16188:if(512&b.flags){for(;16>q;){if(0===w)break a;w--;v+=z[x++]<<q;q+=8}if(4&b.wrap&&v!==(65535&
b.check)){a.msg="header crc mismatch";b.mode=16209;break}q=v=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0);a.adler=b.check=0;b.mode=16191;break;case 16189:for(;32>q;){if(0===w)break a;w--;v+=z[x++]<<q;q+=8}a.adler=b.check=ch(v);q=v=0;b.mode=16190;case 16190:if(0===b.havedict)return a.next_out=n,a.avail_out=D,a.next_in=x,a.avail_in=w,b.hold=v,b.bits=q,ui;a.adler=b.check=1;b.mode=16191;case 16191:if(c===si||c===Td)break a;case 16192:if(b.last){v>>>=7&q;q-=7&q;b.mode=16206;break}for(;3>q;){if(0===
w)break a;w--;v+=z[x++]<<q;q+=8}switch(b.last=1&v,--q,3&(v>>>=1)){case 0:b.mode=16193;break;case 1:var E=b;if(hh){kf=new Int32Array(512);lf=new Int32Array(32);for(g=0;144>g;)E.lens[g++]=8;for(;256>g;)E.lens[g++]=9;for(;280>g;)E.lens[g++]=7;for(;288>g;)E.lens[g++]=8;gd(1,E.lens,0,288,kf,0,E.work,{bits:9});for(g=0;32>g;)E.lens[g++]=5;gd(2,E.lens,0,32,lf,0,E.work,{bits:5});hh=!1}E.lencode=kf;E.lenbits=9;E.distcode=lf;E.distbits=5;if(b.mode=16199,c===Td){v>>>=2;q-=2;break a}break;case 2:b.mode=16196;
break;case 3:a.msg="invalid block type",b.mode=16209}v>>>=2;q-=2;break;case 16193:v>>>=7&q;for(q-=7&q;32>q;){if(0===w)break a;w--;v+=z[x++]<<q;q+=8}if((65535&v)!=(v>>>16^65535)){a.msg="invalid stored block lengths";b.mode=16209;break}if(b.length=65535&v,v=0,q=0,b.mode=16194,c===Td)break a;case 16194:b.mode=16195;case 16195:if(d=b.length){if(d>w&&(d=w),d>D&&(d=D),0===d)break a;y.set(z.subarray(x,x+d),n);w-=d;x+=d;D-=d;n+=d;b.length-=d;break}b.mode=16191;break;case 16196:for(;14>q;){if(0===w)break a;
w--;v+=z[x++]<<q;q+=8}if(b.nlen=257+(31&v),v>>>=5,q-=5,b.ndist=1+(31&v),v>>>=5,q-=5,b.ncode=4+(15&v),v>>>=4,q-=4,286<b.nlen||30<b.ndist){a.msg="too many length or distance symbols";b.mode=16209;break}b.have=0;b.mode=16197;case 16197:for(;b.have<b.ncode;){for(;3>q;){if(0===w)break a;w--;v+=z[x++]<<q;q+=8}b.lens[p[b.have++]]=7&v;v>>>=3;q-=3}for(;19>b.have;)b.lens[p[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,l={bits:b.lenbits},P=gd(0,b.lens,0,19,b.lencode,0,b.work,l),b.lenbits=l.bits,P){a.msg="invalid code lengths set";
b.mode=16209;break}b.have=0;b.mode=16198;case 16198:for(;b.have<b.nlen+b.ndist;){for(;m=b.lencode[v&(1<<b.lenbits)-1],f=65535&m,!((E=m>>>24)<=q);){if(0===w)break a;w--;v+=z[x++]<<q;q+=8}if(16>f)v>>>=E,q-=E,b.lens[b.have++]=f;else{if(16===f){for(g=E+2;q<g;){if(0===w)break a;w--;v+=z[x++]<<q;q+=8}if(v>>>=E,q-=E,0===b.have){a.msg="invalid bit length repeat";b.mode=16209;break}k=b.lens[b.have-1];d=3+(3&v);v>>>=2;q-=2}else if(17===f){for(g=E+3;q<g;){if(0===w)break a;w--;v+=z[x++]<<q;q+=8}q-=E;k=0;d=3+
(7&(v>>>=E));v>>>=3;q-=3}else{for(g=E+7;q<g;){if(0===w)break a;w--;v+=z[x++]<<q;q+=8}q-=E;k=0;d=11+(127&(v>>>=E));v>>>=7;q-=7}if(b.have+d>b.nlen+b.ndist){a.msg="invalid bit length repeat";b.mode=16209;break}for(;d--;)b.lens[b.have++]=k}}if(16209===b.mode)break;if(0===b.lens[256]){a.msg="invalid code -- missing end-of-block";b.mode=16209;break}if(b.lenbits=9,l={bits:b.lenbits},P=gd(1,b.lens,0,b.nlen,b.lencode,0,b.work,l),b.lenbits=l.bits,P){a.msg="invalid literal/lengths set";b.mode=16209;break}if(b.distbits=
6,b.distcode=b.distdyn,l={bits:b.distbits},P=gd(2,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,l),b.distbits=l.bits,P){a.msg="invalid distances set";b.mode=16209;break}if(b.mode=16199,c===Td)break a;case 16199:b.mode=16200;case 16200:if(6<=w&&258<=D){a.next_out=n;a.avail_out=D;a.next_in=x;a.avail_in=w;b.hold=v;b.bits=q;var M;w=x=void 0;var N=a,R=N.state;var ba=N.next_in;y=N.input;var ua=ba+(N.avail_in-5);var U=N.next_out;z=N.output;var oa=U-(I-N.avail_out);var W=U+(N.avail_out-257);var Na=R.dmax;var Aa=
R.wsize;var Sa=R.whave;var pa=R.wnext;var Y=R.window;f=R.hold;g=R.bits;E=R.lencode;q=R.distcode;v=(1<<R.lenbits)-1;D=(1<<R.distbits)-1;b:do{15>g&&(f+=y[ba++]<<g,g+=8,f+=y[ba++]<<g,g+=8);var ha=E[f&v];c:for(;;){if(f>>>=w=ha>>>24,g-=w,0===(w=ha>>>16&255))z[U++]=65535&ha;else{if(!(16&w)){if(0==(64&w)){ha=E[(65535&ha)+(f&(1<<w)-1)];continue c}if(32&w){R.mode=16191;break b}N.msg="invalid literal/length code";R.mode=16209;break b}n=65535&ha;(w&=15)&&(g<w&&(f+=y[ba++]<<g,g+=8),n+=f&(1<<w)-1,f>>>=w,g-=w);
15>g&&(f+=y[ba++]<<g,g+=8,f+=y[ba++]<<g,g+=8);ha=q[f&D];d:for(;;){if(f>>>=w=ha>>>24,g-=w,!(16&(w=ha>>>16&255))){if(0==(64&w)){ha=q[(65535&ha)+(f&(1<<w)-1)];continue d}N.msg="invalid distance code";R.mode=16209;break b}if(x=65535&ha,g<(w&=15)&&(f+=y[ba++]<<g,(g+=8)<w&&(f+=y[ba++]<<g,g+=8)),(x+=f&(1<<w)-1)>Na){N.msg="invalid distance too far back";R.mode=16209;break b}if(f>>>=w,g-=w,x>(w=U-oa)){if((w=x-w)>Sa&&R.sane){N.msg="invalid distance too far back";R.mode=16209;break b}if(M=0,ha=Y,0===pa){if(M+=
Aa-w,w<n){n-=w;do z[U++]=Y[M++];while(--w);M=U-x;ha=z}}else if(pa<w){if(M+=Aa+pa-w,(w-=pa)<n){n-=w;do z[U++]=Y[M++];while(--w);if(M=0,pa<n){n-=w=pa;do z[U++]=Y[M++];while(--w);M=U-x;ha=z}}}else if(M+=pa-w,w<n){n-=w;do z[U++]=Y[M++];while(--w);M=U-x;ha=z}for(;2<n;)z[U++]=ha[M++],z[U++]=ha[M++],z[U++]=ha[M++],n-=3;n&&(z[U++]=ha[M++],1<n&&(z[U++]=ha[M++]))}else{M=U-x;do z[U++]=z[M++],z[U++]=z[M++],z[U++]=z[M++],n-=3;while(2<n);n&&(z[U++]=z[M++],1<n&&(z[U++]=z[M++]))}break}}break}}while(ba<ua&&U<W);ba-=
n=g>>3;f&=(1<<(g-=n<<3))-1;N.next_in=ba;N.next_out=U;N.avail_in=ba<ua?ua-ba+5:5-(ba-ua);N.avail_out=U<W?W-U+257:257-(U-W);R.hold=f;R.bits=g;n=a.next_out;y=a.output;D=a.avail_out;x=a.next_in;z=a.input;w=a.avail_in;v=b.hold;q=b.bits;16191===b.mode&&(b.back=-1);break}for(b.back=0;g=(m=b.lencode[v&(1<<b.lenbits)-1])>>>16&255,f=65535&m,!((E=m>>>24)<=q);){if(0===w)break a;w--;v+=z[x++]<<q;q+=8}if(g&&0==(240&g)){Y=E;pa=g;for(Sa=f;g=(m=b.lencode[Sa+((v&(1<<Y+pa)-1)>>Y)])>>>16&255,f=65535&m,!(Y+(E=m>>>24)<=
q);){if(0===w)break a;w--;v+=z[x++]<<q;q+=8}v>>>=Y;q-=Y;b.back+=Y}if(v>>>=E,q-=E,b.back+=E,b.length=f,0===g){b.mode=16205;break}if(32&g){b.back=-1;b.mode=16191;break}if(64&g){a.msg="invalid literal/length code";b.mode=16209;break}b.extra=15&g;b.mode=16201;case 16201:if(b.extra){for(g=b.extra;q<g;){if(0===w)break a;w--;v+=z[x++]<<q;q+=8}b.length+=v&(1<<b.extra)-1;v>>>=b.extra;q-=b.extra;b.back+=b.extra}b.was=b.length;b.mode=16202;case 16202:for(;g=(m=b.distcode[v&(1<<b.distbits)-1])>>>16&255,f=65535&
m,!((E=m>>>24)<=q);){if(0===w)break a;w--;v+=z[x++]<<q;q+=8}if(0==(240&g)){Y=E;pa=g;for(Sa=f;g=(m=b.distcode[Sa+((v&(1<<Y+pa)-1)>>Y)])>>>16&255,f=65535&m,!(Y+(E=m>>>24)<=q);){if(0===w)break a;w--;v+=z[x++]<<q;q+=8}v>>>=Y;q-=Y;b.back+=Y}if(v>>>=E,q-=E,b.back+=E,64&g){a.msg="invalid distance code";b.mode=16209;break}b.offset=f;b.extra=15&g;b.mode=16203;case 16203:if(b.extra){for(g=b.extra;q<g;){if(0===w)break a;w--;v+=z[x++]<<q;q+=8}b.offset+=v&(1<<b.extra)-1;v>>>=b.extra;q-=b.extra;b.back+=b.extra}if(b.offset>
b.dmax){a.msg="invalid distance too far back";b.mode=16209;break}b.mode=16204;case 16204:if(0===D)break a;if(d=I-D,b.offset>d){if((d=b.offset-d)>b.whave&&b.sane){a.msg="invalid distance too far back";b.mode=16209;break}d>b.wnext?(d-=b.wnext,e=b.wsize-d):e=b.wnext-d;d>b.length&&(d=b.length);E=b.window}else E=y,e=n-b.offset,d=b.length;d>D&&(d=D);D-=d;b.length-=d;do y[n++]=E[e++];while(--d);0===b.length&&(b.mode=16200);break;case 16205:if(0===D)break a;y[n++]=b.length;D--;b.mode=16200;break;case 16206:if(b.wrap){for(;32>
q;){if(0===w)break a;w--;v|=z[x++]<<q;q+=8}if(I-=D,a.total_out+=I,b.total+=I,4&b.wrap&&I&&(a.adler=b.check=b.flags?Ea(b.check,y,I,n-I):bd(b.check,y,I,n-I)),I=D,4&b.wrap&&(b.flags?v:ch(v))!==b.check){a.msg="incorrect data check";b.mode=16209;break}q=v=0}b.mode=16207;case 16207:if(b.wrap&&b.flags){for(;32>q;){if(0===w)break a;w--;v+=z[x++]<<q;q+=8}if(4&b.wrap&&v!==(4294967295&b.total)){a.msg="incorrect length check";b.mode=16209;break}q=v=0}b.mode=16208;case 16208:P=ti;break a;case 16209:P=$g;break a;
case 16210:return ah;default:return kb}return a.next_out=n,a.avail_out=D,a.next_in=x,a.avail_in=w,b.hold=v,b.bits=q,(b.wsize||I!==a.avail_out&&16209>b.mode&&(16206>b.mode||c!==Zg))&&ih(a,a.output,a.next_out,I-a.avail_out),G-=a.avail_in,I-=a.avail_out,a.total_in+=G,a.total_out+=I,b.total+=I,4&b.wrap&&I&&(a.adler=b.check=b.flags?Ea(b.check,y,I,a.next_out-I):bd(b.check,y,I,a.next_out-I)),a.data_type=b.bits+(b.last?64:0)+(16191===b.mode?128:0)+(16199===b.mode||16194===b.mode?256:0),(0===G&&0===I||c===
Zg)&&P===gc&&(P=vi),P},inflateEnd:function(a){if(hc(a))return kb;var c=a.state;return c.window&&(c.window=null),a.state=null,gc},inflateGetHeader:function(a,c){if(hc(a))return kb;a=a.state;return 0==(2&a.wrap)?kb:(a.head=c,c.done=!1,gc)},inflateSetDictionary:function(a,c){var b,d=c.length;return hc(a)||0!==(b=a.state).wrap&&16190!==b.mode?kb:16190===b.mode&&bd(1,c,d,0)!==b.check?$g:ih(a,c,d,d)?(b.mode=16210,ah):(b.havedict=1,gc)},inflateInfo:"pako inflate (from Nodeca project)"},vh=function(){this.os=
this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1},Df=Object.prototype.toString,wi=S.Z_NO_FLUSH,xi=S.Z_FINISH,Ec=S.Z_OK,mf=S.Z_STREAM_END,nf=S.Z_NEED_DICT,yi=S.Z_STREAM_ERROR,jh=S.Z_DATA_ERROR,zi=S.Z_MEM_ERROR;Dc.prototype.push=function(a,c){var b,d,e=this.strm,g=this.options.chunkSize,f=this.options.dictionary;if(this.ended)return!1;c=c===~~c?c:!0===c?xi:wi;"[object ArrayBuffer]"===Df.call(a)?e.input=new Uint8Array(a):e.input=a;
e.next_in=0;for(e.avail_in=e.input.length;;){0===e.avail_out&&(e.output=new Uint8Array(g),e.next_out=0,e.avail_out=g);for((b=tb.inflate(e,c))===nf&&f&&((b=tb.inflateSetDictionary(e,f))===Ec?b=tb.inflate(e,c):b===jh&&(b=nf));0<e.avail_in&&b===mf&&0<e.state.wrap&&0!==a[e.next_in];)tb.inflateReset(e),b=tb.inflate(e,c);switch(b){case yi:case jh:case nf:case zi:return this.onEnd(b),this.ended=!0,!1}if(d=e.avail_out,e.next_out&&(0===e.avail_out||b===mf))if("string"===this.options.to){var k=e.output;var l=
e.next_out;(l=l||k.length)>k.length&&(l=k.length);for(var m=l-1;0<=m&&128==(192&k[m]);)m--;k=0>m||0===m?l:m+fd[k[m]]>l?m:l;l=e.next_out-k;var u,p,n=e.output,y=(m=k)||n.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)m=(new TextDecoder).decode(n.subarray(0,m));else{m=Array(2*y);for(p=u=0;p<y;){var D=n[p++];if(128>D)m[u++]=D;else{var x=fd[D];if(4<x)m[u++]=65533,p+=x-1;else{for(D&=2===x?31:3===x?15:7;1<x&&p<y;)D=D<<6|63&n[p++],x--;1<x?m[u++]=65533:65536>D?m[u++]=D:(D-=65536,m[u++]=
55296|D>>10&1023,m[u++]=56320|1023&D)}}}n=u;if(65534>n&&m.subarray&&Yg)m=String.fromCharCode.apply(null,m.length===n?m:m.subarray(0,n));else{y="";for(u=0;u<n;u++)y+=String.fromCharCode(m[u]);m=y}}e.next_out=l;e.avail_out=g-l;l&&e.output.set(e.output.subarray(k,k+l),0);this.onData(m)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(b!==Ec||0!==d){if(b===mf)return b=tb.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,!0;if(0===e.avail_in)break}}return!0};Dc.prototype.onData=
function(a){this.chunks.push(a)};Dc.prototype.onEnd=function(a){a===Ec&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Xg(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};var kh,Qf={Deflate:Bc,deflate:ae,deflateRaw:function(a,c){return(c=c||{}).raw=!0,ae(a,c)},gzip:function(a,c){return(c=c||{}).gzip=!0,ae(a,c)},Inflate:Dc,inflate:be,inflateRaw:function(a,c){return(c=c||{}).raw=!0,be(a,c)},ungzip:be,constants:S};!function(a){a.BRAND="DeviceBrand";a.MANUFACTURER=
"DeviceManufacturer";a.MODEL="DeviceModel";a.TYPE="DeviceType";a.VERSION="DeviceVersion";a.OS_NAME="OperatingSystemName";a.OS_VERSION="OperatingSystemVersion";a.CATEGORY="DeviceCategory";a.FRAMEWORK_NAME="FrameworkName";a.FRAMEWORK_VERSION="FrameworkVersion"}(kh||(kh={}));var F,Lb,Ph={CONSOLE:"Console",DESKTOP:"DESKTOP",MOBILE:"Mobile",SETTOP:"Settop",SMARTTV:"SmartTV",TABLET:"Tablet",VEHICLE:"Vehicle",OTHER:"Other"},hg={ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",DESKTOP_APP:"DSKAPP",
DEVICE_SIMULATOR:"SIMULATOR",KAIOS_DEVICE:"KAIOS",LG_TV:"LGTV",LINUX:"LNX",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",VIDAA_DEVICE:"VIDAA",VIZIO_TV:"VIZIOTV",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB"};!function(a){var c,b,d,e,g;a.TRACEPARENT_HEADER_KEY="traceparent";(function(f){f.NONE="NONE";f.RCFG="RCFG"})(b=a.SAMPLING_MODES||(a.SAMPLING_MODES={}));(d=a.SAMPLING_STATUS||(a.SAMPLING_STATUS={})).DERIVED="DERIVED";d.DEFAULT="DEFAULT";(function(f){f.SAMPLED="sl";f.NON_SAMPLED=
"nsl"})(d=a.SAMPLING_ACTION||(a.SAMPLING_ACTION={}));a.DEFAULT_SAMPLING_ACTION=((c={})[d.SAMPLED]=b.RCFG,c[d.NON_SAMPLED]=b.NONE,c);(c=a.CONFIG_SOURCE||(a.CONFIG_SOURCE={})).DEFAULT="def";c.CACHED="cac";c.REMOTE="rem";(e=a.CONFIG_PREFERENCES||(a.CONFIG_PREFERENCES={}))[e.APP=0]="APP";e[e.REMOTE=1]="REMOTE";e[e.MERGE=2]="MERGE";(g=a.PERFORMANCE_CONTEXT||(a.PERFORMANCE_CONTEXT={}))[g.DISABLED=0]="DISABLED";g[g.PERFORMANCE_TIMING=1]="PERFORMANCE_TIMING";g[g.PERFORMANCE_NAVIGATION_TIMING=2]="PERFORMANCE_NAVIGATION_TIMING";
(e=a.RC_FETCH_MODE||(a.RC_FETCH_MODE={})).DO_NOT_FETCH_UPDATE_TIMER="updateTimer";e.IMMEDIATE_FETCH="urgentFetch";e.UPDATE_TIMER_WITH_DIFF="checkDiff";a.REMOTE_CONFIG_STORAGE_KEY="ConvivaRemoteConfig";a.END_POINT_STORAGE_KEY="ConvivaEndpoint";a.DEFAULT_END_POINT="https://appgw.conviva.com";a.REMOTE_CONFIG_URL_PREFIX="https://rc.conviva.com/js/";a.REMOTE_CONFIG_FILE_NAME="/remote_config.json";a.SAMPLING_STORAGE_RANDOM_NUMBER_KEY="ConvivaSamplingRandomNumber";a.VISUAL_LABELLING_CONFIG="ConvivaVisualLabellingConfig";
a.DIAGNOSTIC_INFO_MAX_LENGTH={MAX_MESSAGE_LENGTH:1024,MAX_STACK_LENGTH:2048,MAX_CLASSNAME_LENGTH:1024,MAX_EXCEPTION_NAME_LENGTH:1024};a.CLICK_KEY_MAX_LENGTH=1024;a.CLICK_DEBOUNCING_DELAY=300;a.CLICK_MAX_DEPTH=16;a.MAX_NATIVE_SCAN=16;a.MAX_NATIVE_SCAN_LEGACY=8}(F||(F={}));"function"==typeof AbortController&&(Lb=new AbortController);var sa,bb=null==Lb?void 0:Lb.signal;!function(a){a.response_body="rsb";a.request_body="rqb";a.response_headers="rsh";a.request_headers="rqh"}(sa||(sa={}));var pg=function(a){try{var c=
void 0;return null!=a&&(c=a["content-type"]||a["Content-Type"]||a["Content-type"]),c}catch(b){}},Ud,ta={};!function(a){a.APPLICATION_BACKGROUND="abg";a.APPLICATION_ERROR="ae"}(Ud||(Ud={}));var ub,na,fa={cacheRefreshInterval:30,base64:!1,lifecycleAutotracking:!0,exceptionAutotracking:!0,enablePeriodicHeartbeat:!0,periodicHeartbeatInterval:40,customEventTrackingConfiguration:{enabled:!0},networkRequestTrackingConfiguration:{blocklist:["*"]},traceparentconfig:{enabled:!1,pref:F.CONFIG_PREFERENCES.MERGE,
targetUrl:[]},performanceContextConfig:1,configurationVersion:-1,catRcLastUpdatedTs:0,endpoint:F.DEFAULT_END_POINT,applicationContext:!0,maxLocalStorageQueueSize:10,emitterConfiguration:{batching:{enabled:!0,byteLimitPostInKB:250,batchingIntervalInSec:5,urgentEvents:[Ud.APPLICATION_BACKGROUND,Ud.APPLICATION_ERROR]}},enc:"gzip",mend:!0,di:{en:!1,lim:30},clickcc:{en:!0,cssSelectorList:'\n  [role="button"],\n  [data-role="button"],\n  li,\n  [class^="btn"],\n  [class*="click"],\n  [data-click],\n  [data-action],\n  [tabindex]:not([tabindex="-1"]),\n  [onclick],\n  [role="datepicker"],\n  [class*="datepicker"],\n  [class*="date-picker"],\n  [class*="mat-datepicker"],\n  [class*="ant-picker"],\n  [class*="v-date-picker"],\n  [class*="react-datepicker"],\n  [class*="ngx-datepicker"],\n  [data-ng-click],\n  [ng-click],\n  [v-on\\:click],\n  [\\@click],\n  [data-test-id*="click"],\n  [data-testid*="button"],\n  [class*="-btn"],\n  [class*="-button"],\n  [class*="mat-button"],\n  [class*="v-btn"],\n  [class*="v-icon-button"],\n  [data-listener-count-click],\n  [class*="Button"]\n',
uiMode:"closest"},collectionRateLimit:{exceptionAutotracking:{maxEvents:20,timeWindow:1E3,disconnectDuration:2E3}}},Ai="cws.conviva.com /wsg /ctp remote_config pings.conviva.com .m3u8 .mpd .ism .m4 .mp4 .ts .png .jpg .jpeg .bmp google-analytics.com googlesyndication.com googleapis stats.g.doubleclick chartbeat.com omtrdc.net app-measurement.com firebase nr-data.net newrelic bitmovin.com/impression bitmovin.com/analytics api.segment.io youbora hotjar mixpanel.com clevertap auryc .aac .vtt .googlevideo webp appsflyer facebook dynatrace mparticle npaw .pdf bookkeeper kochava mp3 marketingcloudapis demdex scorecardresearch lura.live perimeterx.net permutive.app segment.com vaicore.site boomtrain ketchcdn qualtrics .svg amplitude datadoghq branch.io hotjar splunkcloud".split(" ");
!function(a){a.NONE="none";a.GZIP="gzip"}(ub||(ub={}));var Sb,Qh=function(a,c,b){return na=ph({base64:null==a?void 0:a.base64,corePlugins:c,callback:b,exceptionAutotracking:a.exceptionAutotracking,enablePeriodicHeartbeat:a.enablePeriodicHeartbeat,periodicHeartbeatInterval:a.periodicHeartbeatInterval,enc:a.enc,mend:a.mend,maxLocalStorageQueueSize:a.maxLocalStorageQueueSize,maxGetBytes:a.maxGetBytes,bufferSize:a.bufferSize,customEventTrackingConfiguration:a.customEventTrackingConfiguration,networkRequestTrackingConfiguration:a.networkRequestTrackingConfiguration,
metaTagsTrackingConfiguration:a.metaTagsTrackingConfiguration,traceparentconfig:a.traceparentconfig,performanceContextConfig:a.performanceContextConfig,lifecycleAutotracking:a.lifecycleAutotracking,configurationVersion:a.configurationVersion,catRcLastUpdatedTs:a.catRcLastUpdatedTs,cacheRefreshInterval:a.cacheRefreshInterval,endpoint:a.endpoint,controlIngestConfig:a.controlIngestConfig,applicationContext:a.applicationContext,emitterConfiguration:a.emitterConfiguration,di:a.di,clickcc:a.clickcc,collectionRateLimit:a.collectionRateLimit})},
lh=function(a){var c={};return a.forEach(function(b,d){c[d]=b}),c},yh=["/ctp","/wsg","remote_config","rc.conviva.com","pings.conviva.com"];!function(a){a[a.NETWORK_REQUEST=0]="NETWORK_REQUEST";a[a.CUSTOM_EVENT=1]="CUSTOM_EVENT"}(Sb||(Sb={}));var of,Kf=0,Jf=0,ra=F.CONFIG_SOURCE.DEFAULT,va=0,ya,Ic,Jc=!1,Tb=null,ie=null,td=0,Nf='\n  button,\n  a,\n  select,\n  textarea,\n  input:not([type="hidden"]),\n  summary,\n  video,\n  audio\n'.replace(/\s+/g,"")||"",zh='\n[class*="card"]\n'.replace(/\s+/g,"")||
"",sd=null===(of=fa.clickcc)||void 0===of?void 0:of.cssSelectorList;!function(a){a.BOTH="both";a.CLOSEST="closest";a.RAW="raw"}(Ic||(Ic={}));"undefined"!=typeof Element&&Element.prototype&&!Element.prototype.closest&&(Element.prototype.closest=function(a){try{for(var c=this;c;){if(c.matches(a))return c;c=c.parentElement}}catch(b){ca.warn("Conviva App Tracker caused Exception in closest polyfill method of user click tracking module",b)}return null});var jb,X,Bi=function(a){this.cacheRefreshInterval=
a.cacheRefreshInterval;this.base64=a.base64;this.corePlugins=a.corePlugins;this.callback=a.callback;this.lifecycleAutotracking=a.lifecycleAutotracking;this.exceptionAutotracking=a.exceptionAutotracking;this.enablePeriodicHeartbeat=a.enablePeriodicHeartbeat;this.periodicHeartbeatInterval=a.periodicHeartbeatInterval;this.enc=a.enc;this.maxLocalStorageQueueSize=a.maxLocalStorageQueueSize;this.maxPostBytes=a.maxPostBytes;this.maxGetBytes=a.maxGetBytes;this.bufferSize=a.bufferSize;this.customEventTrackingConfiguration=
a.customEventTrackingConfiguration;this.networkRequestTrackingConfiguration=a.networkRequestTrackingConfiguration;this.traceparentconfig=a.traceparentconfig;this.metaTagsTrackingConfiguration=a.metaTagsTrackingConfiguration;this.performanceContextConfig=a.performanceContextConfig;this.mend=a.mend;this.configurationVersion=a.configurationVersion;this.catRcLastUpdatedTs=a.catRcLastUpdatedTs;this.endpoint=a.endpoint;this.emitterConfiguration=a.emitterConfiguration;this.controlIngestConfig=a.controlIngestConfig;
this.applicationContext=a.applicationContext;this.di=a.di;this.clickcc=a.clickcc;this.collectionRateLimit=a.collectionRateLimit},dg=function(){function a(){this.cacheRefreshInterval=fa.cacheRefreshInterval;this.base64=fa.base64;this.lifecycleAutotracking=fa.lifecycleAutotracking;this.exceptionAutotracking=fa.exceptionAutotracking;this.enablePeriodicHeartbeat=fa.enablePeriodicHeartbeat;this.periodicHeartbeatInterval=fa.periodicHeartbeatInterval;this.customEventTrackingConfiguration=aa({},fa.customEventTrackingConfiguration);
this.networkRequestTrackingConfiguration=aa({},fa.networkRequestTrackingConfiguration);this.traceparentconfig=aa({},fa.traceparentconfig);this.performanceContextConfig=fa.performanceContextConfig;this.configurationVersion=fa.configurationVersion;this.catRcLastUpdatedTs=fa.catRcLastUpdatedTs;this.endpoint=fa.endpoint;this.emitterConfiguration=fa.emitterConfiguration;this.applicationContext=fa.applicationContext;this.enc=fa.enc;this.mend=fa.mend;this.di=aa({},fa.di);this.clickcc=aa({},fa.clickcc);this.collectionRateLimit=
aa({},fa.collectionRateLimit)}return a.prototype.setCacheRefreshInterval=function(c){return this.cacheRefreshInterval="number"==typeof c&&1<=c&&Fc(c)?c:fa.cacheRefreshInterval,this},a.prototype.setBase64=function(c){return"boolean"==typeof c&&(this.base64=c),this},a.prototype.setCorePlugins=function(c){return c&&(this.corePlugins=c),this},a.prototype.setCallback=function(c){return c&&(this.callback=c),this},a.prototype.setLifecycleAutotracking=function(c){return"boolean"==typeof c&&(this.lifecycleAutotracking=
c),this},a.prototype.setExceptionAutotracking=function(c){return"boolean"==typeof c&&(this.exceptionAutotracking=c),this},a.prototype.setEnablePeriodicHeartbeat=function(c){return"boolean"==typeof c&&(this.enablePeriodicHeartbeat=c),this},a.prototype.setPeriodicHeartbeatInterval=function(c){return"number"==typeof c&&1<=c&&(this.periodicHeartbeatInterval=~~c),this},a.prototype.setEnc=function(c,b){return"string"==typeof c&&Object.values(ub).includes(c)?this.enc=c:b&&"string"==typeof b&&Object.values(ub).includes(b)?
this.enc=b:this.enc=fa.enc,this},a.prototype.setMaxLocalStorageQueueSize=function(c){return"number"==typeof c&&(this.maxLocalStorageQueueSize=c),this},a.prototype.setMaxGetBytes=function(c){return"number"==typeof c&&(this.maxGetBytes=c),this},a.prototype.setBufferSize=function(c){return"number"==typeof c&&(this.bufferSize=c),this},a.prototype.setCustomEventTrackingConfiguration=function(c){return c&&(this.customEventTrackingConfiguration=c),this},a.prototype.setEmitterConfiguration=function(c){return void 0!==
c&&(void 0!==c.batching.enabled&&(this.emitterConfiguration.batching.enabled=c.batching.enabled),void 0!==c.batching.batchingIntervalInSec&&0<c.batching.batchingIntervalInSec&&(this.emitterConfiguration.batching.batchingIntervalInSec=c.batching.batchingIntervalInSec),"undefined"!=c.batching.byteLimitPostInKB&&0<c.batching.byteLimitPostInKB&&(this.emitterConfiguration.batching.byteLimitPostInKB=c.batching.byteLimitPostInKB),void 0!==c.batching.urgentEvents&&(this.emitterConfiguration.batching.urgentEvents=
c.batching.urgentEvents)),this},a.prototype.setNetworkRequestTrackingConfiguration=function(c,b,d){return c&&(this.networkRequestTrackingConfiguration=c,b&&(this.networkRequestTrackingConfiguration.blocklist||(this.networkRequestTrackingConfiguration.blocklist=[]),d&&this.networkRequestTrackingConfiguration.blocklist.push(d),this.networkRequestTrackingConfiguration.blocklist=this.networkRequestTrackingConfiguration.blocklist.concat(Ai))),this},a.prototype.setTraceparentconfig=function(c){return c&&
(this.traceparentconfig=c),this},a.prototype.setMetaTagsTrackingConfiguration=function(c){return c&&(this.metaTagsTrackingConfiguration=c),this},a.prototype.setPerformanceContextConfig=function(c){return"number"==typeof c&&(this.performanceContextConfig=c),this},a.prototype.setMend=function(c,b){return"boolean"==typeof c?this.mend=c:"boolean"==typeof b&&(this.mend=b),this},a.prototype.setConfigurationVersion=function(c){return"number"==typeof c&&(this.configurationVersion=c),this},a.prototype.setCatRcLastUpdatedTs=
function(c){return"number"==typeof c&&(this.catRcLastUpdatedTs=c),this},a.prototype.setEndPoint=function(c,b,d){return"string"==typeof d&&0<d.trim().length?this.endpoint=d:"string"==typeof c&&0<c.trim().length?this.endpoint=c:b&&"string"==typeof b&&0<b.trim().length?this.endpoint=b:this.endpoint=fa.endpoint,this},a.prototype.setcontrolIngestConfig=function(c){return void 0!==c?this.controlIngestConfig=c:od(),this},a.prototype.setApplicationContext=function(c){return void 0!==c&&(this.applicationContext=
c),this},a.prototype.setDi=function(c){return void 0!==c&&(this.di=aa(aa({},this.di),c)),this},a.prototype.setClickcc=function(c){var b,d;return void 0!==c&&("boolean"==typeof c.en&&(this.clickcc.en=c.en),c.cssSelectorList&&0<c.cssSelectorList.trim().length&&(this.clickcc.cssSelectorList=c.cssSelectorList),"string"==typeof c.uiMode&&Object.values(Ic).includes(c.uiMode)&&(this.clickcc.uiMode=c.uiMode),void 0!==c.block&&(this.clickcc.block=c.block),void 0!==c.collect&&(this.clickcc.collect=c.collect),
void 0!==c.collectattr&&(this.clickcc.collectattr=c.collectattr)),"boolean"==typeof(null===(b=null==this?void 0:this.clickcc)||void 0===b?void 0:b.en)&&!0===(null===(d=null==this?void 0:this.clickcc)||void 0===d?void 0:d.en)?Bh():Pf(),this},a.prototype.setCollectionRateLimit=function(c){return null!=c&&(this.collectionRateLimit=aa(aa({},this.collectionRateLimit),c)),this},a.prototype.build=function(){return new Bi(this)},a}(),uc=!1,Yc=null,vc=0,Id=!1,eg=function(a,c,b,d,e){var g=b.trackerConfigUrl?
b.trackerConfigUrl:d;if("number"==typeof Yc){window.clearInterval(Yc);var f={message:"Cancelling remote config timer",className:"updateRemoteConfig",extraData:{mode:e},configAppliedSrc:ra,configAppliedTime:va};setTimeout(function(){xa(na,null==X?void 0:X.getSamplingMode,f)},0)}var k=function(){var p={message:"Starting remote config timer with delay of ".concat(60*a," seconds"),className:"updateRemoteConfig",configAppliedSrc:ra,configAppliedTime:va};setTimeout(function(){xa(na,null==X?void 0:X.getSamplingMode,
p)},0);Yc=window.setInterval(wc,6E4*a,g)};try{var l=c?((new Date).getTime()-c)/6E4:a;b=a-l;d=3*a/100;if("string"==typeof e&&e===F.RC_FETCH_MODE.DO_NOT_FETCH_UPDATE_TIMER)k();else if("string"==typeof e&&e===F.RC_FETCH_MODE.UPDATE_TIMER_WITH_DIFF&&0<c&&b>d){window.setTimeout(function(){wc(g);k()},6E4*b);var m={message:"Starting remote config timer with delay of ".concat(60*b," seconds"),className:"updateRemoteConfig",extraData:{mode:e},configAppliedSrc:ra,configAppliedTime:va};setTimeout(function(){xa(na,
null==X?void 0:X.getSamplingMode,m)},0)}else wc(g),k()}catch(p){console.warn("Conviva App Tracker:: Error in setting cacheRefreshIntervalTimer",p);wc(g);k();var u={className:"cacheRefreshIntervalTimer",error:p,configAppliedSrc:ra,configAppliedTime:va};setTimeout(function(){xa(na,null==X?void 0:X.getSamplingMode,u)},0)}},wc=function(a,c){try{if("boolean"==typeof uc&&!1===uc){c?vc++:vc=0;jb.timeout=3E4;jb.open("GET",a,!0);uc=!0;var b={message:"Remote config fetch attempt",className:"updateRemoteConfig",
configAppliedSrc:ra,configAppliedTime:va};setTimeout(function(){xa(na,null==X?void 0:X.getSamplingMode,b)},0);jb.send()}}catch(e){uc=!1;ca.warn("Conviva App Tracker:: Error in configtimerCallback ".concat(e));var d={className:"configtimerCallback",error:e,configAppliedSrc:ra,configAppliedTime:va};setTimeout(function(){xa(na,null==X?void 0:X.getSamplingMode,d)},0)}},Nh=function(a,c,b){var d,e,g,f,k,l,m,u,p,n,y,D,x,z,w,v,q,G,I,P,E,M,N,R,ba,ua,U,oa,W,Na,Aa,Sa,pa,Y=na;try{var ha=(new dg).setBase64(a.configurationBundle[0].trackerConfiguration.base64Encoding).setCacheRefreshInterval(a.cri||
a.cacheRefreshInterval).setLifecycleAutotracking(null===(e=null===(d=a.configurationBundle[0])||void 0===d?void 0:d.trackerConfiguration)||void 0===e?void 0:e.lifecycleAutotracking).setExceptionAutotracking(null===(f=null===(g=a.configurationBundle[0])||void 0===g?void 0:g.trackerConfiguration)||void 0===f?void 0:f.exceptionAutotracking).setEnablePeriodicHeartbeat(null===(l=null===(k=a.configurationBundle[0])||void 0===k?void 0:k.trackerConfiguration)||void 0===l?void 0:l.enablePeriodicHeartbeat).setPeriodicHeartbeatInterval(null===
(u=null===(m=a.configurationBundle[0])||void 0===m?void 0:m.trackerConfiguration)||void 0===u?void 0:u.periodicHeartbeatInterval).setEnc(null===(n=null===(p=a.configurationBundle[0])||void 0===p?void 0:p.networkConfiguration)||void 0===n?void 0:n.enc,null===(D=null===(y=null==b?void 0:b.configs)||void 0===y?void 0:y.network)||void 0===D?void 0:D.encoding).setMaxLocalStorageQueueSize(null===(z=null===(x=a.configurationBundle[0])||void 0===x?void 0:x.networkConfiguration)||void 0===z?void 0:z.maxLocalStorageQueueSize).setMaxGetBytes(null===
(v=null===(w=a.configurationBundle[0])||void 0===w?void 0:w.networkConfiguration)||void 0===v?void 0:v.maxGetBytes).setBufferSize(null===(G=null===(q=a.configurationBundle[0])||void 0===q?void 0:q.networkConfiguration)||void 0===G?void 0:G.bufferSize).setCustomEventTrackingConfiguration(null===(I=a.configurationBundle[0])||void 0===I?void 0:I.customEventTrackingConfiguration).setEndPoint(null===(E=null===(P=a.configurationBundle[0])||void 0===P?void 0:P.networkConfiguration)||void 0===E?void 0:E.endpoint,
b.gatewayUrl,b.proxyGatewayUrl).setNetworkRequestTrackingConfiguration(null===(M=a.configurationBundle[0])||void 0===M?void 0:M.networkRequestTrackingConfiguration,!0,null===(R=null===(N=a.configurationBundle[0])||void 0===N?void 0:N.networkConfiguration)||void 0===R?void 0:R.endpoint).setMetaTagsTrackingConfiguration(null===(ba=a.configurationBundle[0])||void 0===ba?void 0:ba.metaTagsTrackingConfiguration).setTraceparentconfig(null===(ua=a.configurationBundle[0])||void 0===ua?void 0:ua.traceparentconfig).setMend(null===
(oa=null===(U=a.configurationBundle[0])||void 0===U?void 0:U.networkConfiguration)||void 0===oa?void 0:oa.mend,null===(Na=null===(W=null==b?void 0:b.configs)||void 0===W?void 0:W.network)||void 0===Na?void 0:Na.mergeEndpoint).setPerformanceContextConfig(null===(Sa=null===(Aa=a.configurationBundle[0])||void 0===Aa?void 0:Aa.trackerConfiguration)||void 0===Sa?void 0:Sa.perfCx).setConfigurationVersion(a.configurationVersion).setCatRcLastUpdatedTs(c).setEmitterConfiguration(a.configurationBundle[0].emitterConfiguration).setcontrolIngestConfig(a["ctrl-ingst"]).setApplicationContext(a.configurationBundle[0].trackerConfiguration.applicationContext).setDi(a.configurationBundle[0].di).setClickcc(a.configurationBundle[0].clickcc).setCollectionRateLimit(a.configurationBundle[0].collectionRateLimit).build();
ra=F.CONFIG_SOURCE.REMOTE;va=(new Date).getTime();null==Y||Y.setConfig(ha);a={message:"Remote Config Applied",className:"updateRemoteConfig - tracker",configAppliedSrc:ra,configAppliedTime:va};xa(na,null==X?void 0:X.getSamplingMode,a);null==X||X.setCollectorUrl(null===(pa=null==Y?void 0:Y.getConfig())||void 0===pa?void 0:pa.endpoint,b.convivaCustomerKey);try{window.localStorage&&(localStorage.removeItem(F.REMOTE_CONFIG_STORAGE_KEY),localStorage.setItem(F.REMOTE_CONFIG_STORAGE_KEY,JSON.stringify(ha)))}catch(db){xa(na,
null==X?void 0:X.getSamplingMode,{className:"updateRemoteConfig - localstorage",error:db,configAppliedSrc:ra,configAppliedTime:va}),console.warn("Conviva: Error while saving remote-config to localstorage",db)}}catch(db){return a={className:"updateRemoteConfig - tracker",error:db,configAppliedSrc:ra,configAppliedTime:va},xa(na,null==X?void 0:X.getSamplingMode,a),console.warn("Conviva: Error while updating remote-config",db),!1}return!0},Uh=function(){function a(c,b,d){var e;this.originalXhr=XMLHttpRequest;
this.originalFetch=null===(e=null===window||void 0===window?void 0:window.fetch)||void 0===e?void 0:e.bind(window);this.core=na;this.trackerMethods=c;this.trackerConfiguration=b;this.getSamplingMode=d;this.handleResponse=this.handleResponse.bind(this);this.addTraceparentHeader=this.addTraceparentHeader.bind(this);this.decorateXhrInstance=this.decorateXhrInstance.bind(this)}return a.prototype.cleanupNetworkRequestHandler=function(){a.instance=null},a.getInstance=function(c,b,d){return a.instance||
(a.instance=new a(c,b,d)),a.instance},a.prototype.initiateNetworkRequestTracking=function(){try{this.decorateXMLHttpRequest(),this.decorateFetch()}catch(c){console.warn("Conviva App Tracker:: Unable to track network request ".concat(c))}},a.prototype.decorateXMLHttpRequest=function(){if(this.originalXhr){var c=this,b=function(){var d=new c.originalXhr;return c.decorateXhrInstance(d),d};b.prototype=this.originalXhr.prototype;window.XMLHttpRequest=b}},a.prototype.decorateXhrInstance=function(c){var b,
d,e,g=this,f={},k=c.setRequestHeader;c.setRequestHeader=function(p,n){f[p]=n;k.call(this,p,n)};var l=c.open;c.open=function(){for(var p=[],n=0;n<arguments.length;n++)p[n]=arguments[n];b=p[0];d=g.normalizeUrl(p[1]);l.call(c,p[0],p[1],!0)};var m=c.send;c.send=function(p){try{var n=g.addTraceparentHeader(c,d,f);m.call(c,p);e=g.createRequestDetails(b,d,f,p,n)}catch(y){console.warn("Conviva App Tracker:: Unable to track network request while send ".concat(y))}};var u=bb;c.addEventListener("load",function(){return g.handleResponse(c,
e,"load")},{signal:u});c.addEventListener("error",function(){return g.handleResponse(c,e,"error")},{signal:u});c.addEventListener("abort",function(){return g.handleResponse(c,e,"abort")},{signal:u});c.addEventListener("timeout",function(){return g.handleResponse(c,e,"timeout")},{signal:u})},a.prototype.decorateFetch=function(){window.fetch=this.interceptFetch.bind(this)},a.prototype.interceptFetch=function(c,b){var d,e,g,f,k=this,l=null;if(c instanceof Request){c=null==c?void 0:c.clone();try{var m=
!1;null===(d=null==c?void 0:c.headers)||void 0===d||d.forEach(function(q,G){F.TRACEPARENT_HEADER_KEY===G&&(m=!0)});m||null!==(l=this.generateTraceparentHeader(c.url))&&""!==l&&c.headers.set(F.TRACEPARENT_HEADER_KEY,l)}catch(q){console.warn("ConvivaAppTracker: Issue while adding traceparent header",q)}d=this.originalFetch(c)}else{try{if(b&&b.headers){var u=new Headers(b.headers),p=!1;u.forEach(function(q,G){F.TRACEPARENT_HEADER_KEY===G&&(p=!0)});p||null!==(l=this.generateTraceparentHeader(c))&&""!==
l&&u.set(F.TRACEPARENT_HEADER_KEY,l);b.headers=u}else u=new Headers,null!==(l=this.generateTraceparentHeader(c))&&""!==l&&u.set(F.TRACEPARENT_HEADER_KEY,l),b?b.headers=u:(b={}).headers=u}catch(q){console.warn("ConvivaAppTracker: Issue while adding traceparent header",q)}d=this.originalFetch(c,b);c=(new Request(c,b)).clone()}try{u=void 0;try{u=lh(c.headers)}catch(q){}var n=void 0;try{n=null==b?void 0:b.body}catch(q){}var y={method:c.method,url:decodeURIComponent(c.url),headers:u,body:n,requestTimestamp:null===
Date||void 0===Date?void 0:Date.now(),requestTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};if(this.getSamplingMode()!==F.SAMPLING_MODES.NONE){var D=this.core.getConfig().networkRequestTrackingConfiguration,x=D.blocklist,z=null===(f=null===(g=null===(e=this.trackerConfiguration)||void 0===e?void 0:e.configs)||void 0===g?void 0:g.networkRequestTracking)||void 0===f?void 0:f.safelist,w=D.collect,v=D.block;null!==l&&""!==l&&(y[F.TRACEPARENT_HEADER_KEY]=
l);d.then(function(q){try{var G=qd(w,v,x,z,q,y);if(D&&D.enabled&&G){G=void 0;try{G=lh(q.headers)}catch(P){}var I={status:null==q?void 0:q.status,statusText:""!==(null==q?void 0:q.statusText)?null==q?void 0:q.statusText:void 0,headers:G,size:0,responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};q.clone().json().then(function(P){I.body=P;k.trackerMethods.trackNetworkRequest({requestDetails:y,
responseDetails:I})}).catch(function(){k.trackerMethods.trackNetworkRequest({requestDetails:y,responseDetails:I})})}}catch(P){G=qd(w,v,x,z,q,y),D&&D.enabled&&G&&(q={statusText:P.toString(),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},k.trackerMethods.trackNetworkRequest({requestDetails:y,responseDetails:q}))}}).catch(function(q){var G=qd(w,v,x,z,null,
y);D&&D.enabled&&G&&(q={statusText:q.toString(),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())},k.trackerMethods.trackNetworkRequest({requestDetails:y,responseDetails:q}))})}}catch(q){console.warn("Conviva App Tracker:: Unable to track network request while fetch interceptRequest ".concat(q))}return d},a.prototype.handleResponse=function(c,b,d){var e,g,f,
k,l,m;try{if(this.getSamplingMode()!==F.SAMPLING_MODES.NONE){var u=null===(e=this.core)||void 0===e?void 0:e.getConfig().networkRequestTrackingConfiguration,p=u.blocklist,n=null===(k=null===(f=null===(g=this.trackerConfiguration)||void 0===g?void 0:g.configs)||void 0===f?void 0:f.networkRequestTracking)||void 0===k?void 0:k.safelist,y=qd(u.collect,u.block,p,n,c,b);if(u&&u.enabled&&y){var D={status:c.status,statusText:c.statusText||("load"!==d?d:void 0),responseTimestamp:Date.now(),responseTime:performance.now()||
Date.now(),headers:(l=c.getAllResponseHeaders(),m={},l.trim().split(/[\r\n]+/).forEach(function(x){x=x.split(":");var z=x[1];m[x[0].trim()]=null==z?void 0:z.trim()}),m),body:c.response};this.trackerMethods.trackNetworkRequest({requestDetails:b,responseDetails:D})}}}catch(x){ca.warn("Conviva App Tracker:: Unable to track network request error while handleResponse ".concat(x))}},a.prototype.addTraceparentHeader=function(c,b,d){var e=null;return F.TRACEPARENT_HEADER_KEY in d||(e=this.generateTraceparentHeader(b))&&
c.setRequestHeader(F.TRACEPARENT_HEADER_KEY,e),e},a.prototype.createRequestDetails=function(c,b,d,e,g){c={method:c,url:b,headers:d,body:e,requestTimestamp:Date.now(),requestTime:performance.now()||Date.now()};return g&&(c[F.TRACEPARENT_HEADER_KEY]=g),c},a.prototype.normalizeUrl=function(c){try{if("undefined"!=typeof document){var b=URL;if(document.baseURI)var d=document.baseURI;else{var e=document.querySelector("base");d=e&&e.href?e.href:document.location.href}return(new b(c,d)).href}}catch(g){}return c},
a.prototype.generateTraceparentHeader=function(c){var b,d,e,g,f,k,l,m,u,p,n,y,D,x,z,w,v,q,G,I,P,E,M;try{if(this.core&&c){var N=this.core.getConfig(),R=F.CONFIG_PREFERENCES.MERGE,ba=[];switch((null===(e=null===(d=null===(b=this.trackerConfiguration)||void 0===b?void 0:b.configs)||void 0===d?void 0:d.traceparentGeneration)||void 0===e?0:e.force)?R=F.CONFIG_PREFERENCES.APP:(null===(g=null==N?void 0:N.traceparentconfig)||void 0===g?void 0:g.pref)&&(R=N.traceparentconfig.pref),R){case F.CONFIG_PREFERENCES.APP:if(!1===
(null===(l=null===(k=null===(f=this.trackerConfiguration)||void 0===f?void 0:f.configs)||void 0===k?void 0:k.traceparentGeneration)||void 0===l?void 0:l.enabled))return"";ba=(null===(p=null===(u=null===(m=this.trackerConfiguration)||void 0===m?void 0:m.configs)||void 0===u?void 0:u.traceparentGeneration)||void 0===p?void 0:p.targetUrl)||[];break;case F.CONFIG_PREFERENCES.REMOTE:if(!1===(null===(n=null==N?void 0:N.traceparentconfig)||void 0===n?void 0:n.enabled))return"";ba=(null===(y=null==N?void 0:
N.traceparentconfig)||void 0===y?void 0:y.targetUrl)||[];break;default:if((null==N||!N.traceparentconfig)&&!1===(null===(z=null===(x=null===(D=this.trackerConfiguration)||void 0===D?void 0:D.configs)||void 0===x?void 0:x.traceparentGeneration)||void 0===z?void 0:z.enabled)||(null===(v=null===(w=this.trackerConfiguration)||void 0===w?void 0:w.configs)||void 0===v||!v.traceparentGeneration)&&!1===(null===(q=null==N?void 0:N.traceparentconfig)||void 0===q?void 0:q.enabled))return"";var ua=(null===(P=
null===(I=null===(G=this.trackerConfiguration)||void 0===G?void 0:G.configs)||void 0===I?void 0:I.traceparentGeneration)||void 0===P?void 0:P.targetUrl)||[],U=(null===(E=null==N?void 0:N.traceparentconfig)||void 0===E?void 0:E.targetUrl)||[],oa=new Set(Ca(Ca([],U,!0),ua,!0));ba=Array.from(oa)}if(0<ba.length&&(ba.includes("*")||ba.some(function(Aa){return 0<(null==Aa?void 0:Aa.length)&&c.toLowerCase().includes(Aa.toLowerCase())}))&&(null===(M=null==N?void 0:N.networkRequestTrackingConfiguration)||
void 0===M?0:M.enabled)){var W=Array.from({length:32},function(){return Math.floor(16*Math.random()).toString(16)}).join(""),Na=Array.from({length:16},function(){return Math.floor(16*Math.random()).toString(16)}).join("");return"00-".concat(W,"-").concat(Na,"-00")}}}catch(Aa){console.warn("Conviva App Tracker:: Unable to generate traceparent header ".concat(Aa))}return""},a}(),Ta,Ub,Gh=function(){function a(c,b,d,e,g){void 0===c&&(c=20);void 0===b&&(b=2E3);void 0===d&&(d=1E3);this.eventMaxLimit=c;
this.cooldown=b;this.windowStart=Date.now();this.circuitBreakerUntil=this.eventCount=0;this.breakerPreviouslyOpen=!1;this.droppedCount=0;this.trackerCore=e;this.timeWindow=d;this.getSamplingMode=g}return a.prototype.isAllowedToSendEvent=function(){var c=Date.now();if(c<this.circuitBreakerUntil)return this.droppedCount++,!1;this.breakerPreviouslyOpen&&(this.breakerPreviouslyOpen=!1,xa(this.trackerCore,this.getSamplingMode,{message:"Application Error",className:"errorRateLimiter - isAllowedToSendEvent",
extraData:{droppedCount:this.droppedCount},configAppliedSrc:ra,configAppliedTime:va}),this.droppedCount=0);return c-this.windowStart<this.timeWindow?this.eventCount++:(this.windowStart=c,this.eventCount=1),!(this.eventCount>this.eventMaxLimit)||(this.circuitBreakerUntil=c+this.cooldown,this.breakerPreviouslyOpen=!0,this.droppedCount++,!1)},a.prototype.updateErrortRateLimitConfig=function(c,b,d){this.eventMaxLimit=c;this.cooldown=b;this.timeWindow=d},a}(),sc,Tf=function(a,c){return a.length>c?"".concat(a.slice(0,
c-3),"..."):a};!function(a){a[a.APP=0]="APP";a[a.REMOTE=1]="REMOTE";a[a.MERGE=2]="MERGE"}(sc||(sc={}));var dc={},Ci=function(){this.outQueues=[];this.bufferFlushers=[];this.hasLoaded=!1;this.registeredOnLoadHandlers=[]};wa.cleanup=function(a){fb(a,function(c){c.clearTimers()});(function(c){if(c)for(var b=0;b<c.length;b++){var d=c[b];dc.hasOwnProperty(d)?delete dc[d]:ca.warn(d+" not configured")}})(a)};wa.convivaAppTracker=function(a){void 0===a&&(a={});try{var c="undefined"!=typeof window?function(){function b(){var f;
if(!d.hasLoaded)for(d.hasLoaded=!0,f=0;f<d.registeredOnLoadHandlers.length;f++)d.registeredOnLoadHandlers[f]();return!0}var d=new Ci,e=document,g=window;return hb(g,"beforeunload",function(){try{d.bufferFlushers.forEach(function(f){f(!1)})}catch(f){console.warn("Conviva App Tracker:: Error in flushBuffers of constructor ".concat(f))}},!1),"loading"===document.readyState?(e.addEventListener?e.addEventListener("DOMContentLoaded",function k(){e.removeEventListener("DOMContentLoaded",k,!1);b()}):e.attachEvent&&
e.attachEvent("onreadystatechange",function l(){"complete"===e.readyState&&(e.detachEvent("onreadystatechange",l),b())}),hb(g,"load",b,!1)):b(),d}():void 0;if(c)return function(b,d,e,g,f){return dc.hasOwnProperty(b)?null:(dc[b]=Ih(b,d,e,g,f),dc[b])}("CAT","CAT",a.trackerVersionSuffix?"js-".concat("1.1.11"," ").concat(a.trackerVersionSuffix):"js-".concat("1.1.11"),c,a)}catch(b){return void console.warn("Conviva App Tracker:: Initialisation failed! "+b)}};wa.getClientId=function(){if("undefined"!=typeof window&&
(null===window||void 0===window?0:window.localStorage)){var a=window.localStorage.getItem("Conviva.sdkConfig");a=JSON.parse(a||"{}");return"{}"===a||void 0===a?"":a.clId}return""};wa.setClientId=function(a){if(a&&"string"==typeof a)try{var c=a.split(".");if(4!==c.length)return void console.warn('Conviva App Tracker:: Invalid clientId format! It should be in the format of "x.x.x.x"');if(!1===c.every(function(f){return/^\d+$/.test(f)}))return void console.warn("Conviva App Tracker:: Invalid clientId format! Every part of clientId should be numeric");
if("undefined"!=typeof window&&(null===window||void 0===window?0:window.localStorage)){var b=window.localStorage,d=b.getItem("Conviva.sdkConfig"),e=JSON.parse(d||"{}");"{}"===e||void 0===e?e={clId:a}:e.clId=a;var g=JSON.stringify(e);b.setItem("Conviva.sdkConfig",g)}else console.warn("Conviva App Tracker:: window or local storage is not available")}catch(f){console.warn(f)}else console.warn("Conviva App Tracker:: Unable to set clinetId string!")};wa.setCustomTags=function(a,c){fb(c,function(b){try{b.setCustomTags(a)}catch(d){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})};
wa.setCustomUrl=function(a,c){fb(c,function(b){b.setCustomUrl(a)})};wa.setDocumentTitle=function(a,c){fb(c,function(b){b.setDocumentTitle(a)})};wa.setReferrerUrl=function(a,c){fb(c,function(b){b.setReferrerUrl(a)})};wa.setUserId=function(a,c){fb(c,function(b){b.setUserId(a)})};wa.trackButtonClick=function(a,c){fb(c,function(b){try{b.trackButtonClick(a)}catch(d){console.warn("Conviva App Tracker:: Unable to track button click event! "+d)}})};wa.trackCustomEvent=function(a,c){fb(c,function(b){try{b.trackCustomEvent(a)}catch(d){console.warn("Conviva App Tracker:: Unable to track custom event! "+
d)}})};wa.trackError=function(a,c){fb(c,function(b){try{b.trackErrorEvent(a)}catch(d){console.warn("Conviva App Tracker:: Unable to track error!")}})};wa.trackLinkClick=function(a,c){fb(c,function(b){try{b.trackLinkClick(a)}catch(d){console.warn("Conviva App Tracker:: Unable to track link click event! "+d)}})};wa.trackPageView=function(a,c){fb(c,function(b){b.trackPageView(a)})};wa.unsetCustomTags=function(a,c){fb(c,function(b){try{b.unsetCustomTags(a)}catch(d){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})};
wa.version="1.1.11";Object.defineProperty(wa,"__esModule",{value:!0})})
//# sourceMappingURL=conviva-eco-js-sensor.umd.min.js.map
