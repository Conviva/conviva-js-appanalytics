/*!
 * Browser tracker for Snowplow v0.5.3 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */

'use strict';(function(D,W){"object"===typeof exports&&"undefined"!==typeof module?W(exports):"function"===typeof define&&define.amd?define(["exports"],W):(D="undefined"!==typeof globalThis?globalThis:D||self,W(D.snowplowBrowserTracking={}))})(this,function(D){function W(a,c,d){if(d||2===arguments.length)for(var e=0,k=c.length,g;e<k;e++)!g&&e in c||(g||(g=Array.prototype.slice.call(c,0,e)),g[e]=c[e]);return a.concat(g||Array.prototype.slice.call(c))}function $d(a){var c=0,d=0;var e="";var k=[];if(!a)return a;
a+="";do{var g=Ya.indexOf(a.charAt(c++));var l=Ya.indexOf(a.charAt(c++));e=Ya.indexOf(a.charAt(c++));var p=Ya.indexOf(a.charAt(c++));var v=g<<18|l<<12|e<<6|p;g=v>>16&255;l=v>>8&255;v&=255;64===e?k[d++]=String.fromCharCode(g):64===p?k[d++]=String.fromCharCode(g,l):k[d++]=String.fromCharCode(g,l,v)}while(c<a.length);e=k.join("");return function(r){return decodeURIComponent(r.split("").map(function(q){return"%"+("00"+q.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(e.replace(/\0+$/,""))}function Jb(){var a=
{},c=[],d=[],e=[],k,g=function(l,p){null!=p&&""!==p&&(a[l]=p)};return{add:g,addDict:function(l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&g(p,l[p])},addJson:function(l,p,v){v&&hd(v)&&(l={keyIfEncoded:l,keyIfNotEncoded:p,json:v},d.push(l),c.push(l))},addContextEntity:function(l){e.push(l)},getPayload:function(){return a},getJson:function(){return c},withJsonProcessor:function(l){k=l},build:function(){null===k||void 0===k?void 0:k(this,d,e);return a}}}function ae(a){return function(c,
d,e){for(var k=function(r,q,t){r=JSON.stringify(r);if(a){t=c.add;if(r){var y=0,n=0,C=[];if(r){r=unescape(encodeURIComponent(r));do{var m=r.charCodeAt(y++);var R=r.charCodeAt(y++);var T=r.charCodeAt(y++);var V=m<<16|R<<8|T;m=V>>18&63;R=V>>12&63;T=V>>6&63;V&=63;C[n++]=Ya.charAt(m)+Ya.charAt(R)+Ya.charAt(T)+Ya.charAt(V)}while(y<r.length);y=C.join("");r=r.length%3;r=(r?y.slice(0,r-3):y)+"===".slice(r||3)}r=r.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}t.call(c,q,r)}else c.add(t,r)},g=function(r,
q){if(!r){var t=c.getPayload();if(a?t.cx:t.co){r=JSON;var y=r.parse;if(a){if(t=t.cx){switch(4-t.length%4){case 2:t+="==";break;case 3:t+="="}t=t.replace(/-/g,"+").replace(/_/g,"/");t=$d(t)}}else t=t.co;r=y.call(r,t)}else r=void 0}r?r.data=r.data.concat(q.data):r=q;return r},l=void 0,p=0;p<d.length;p++){var v=d[p];"cx"===v.keyIfEncoded?l=g(l,v.json):k(v.json,v.keyIfEncoded,v.keyIfNotEncoded)}d.length=0;e.length&&(d={schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:W([],e,
!0)},l=g(l,d),e.length=0);l&&k(l,"cx","co")}}function hd(a){if(!id(a))return!1;for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c))return!0;return!1}function id(a){return"undefined"!==typeof a&&null!==a&&(a.constructor==={}.constructor||a.constructor===[].constructor)}function be(){var a=[],c=[];return{getGlobalPrimitives:function(){return a},getConditionalProviders:function(){return c},addGlobalContexts:function(d){for(var e=[],k=[],g=0;g<d.length;g++){var l=d[g];jd(l)?e.push(l):nb(l)&&k.push(l)}a=
a.concat(k);c=c.concat(e)},clearGlobalContexts:function(){c=[];a=[]},removeGlobalContexts:function(d){for(var e=function(g){jd(g)?c=c.filter(function(l){return JSON.stringify(l)!==JSON.stringify(g)}):nb(g)&&(a=a.filter(function(l){return JSON.stringify(l)!==JSON.stringify(g)}))},k=0;k<d.length;k++)e(d[k])},getApplicableContexts:function(d){a:{var e=0;for(var k=d.getJson();e<k.length;e++){var g=k[e];if("ue_px"===g.keyIfEncoded&&"object"===typeof g.json.data&&(g=g.json.data.schema,"string"==typeof g)){e=
g;break a}}e=""}k=d.getPayload().e;g="string"===typeof k?k:"";k=[];var l=dc(a,d,g,e);k.push.apply(k,l);d=ce(c,d,g,e);k.push.apply(k,d);return k}}}function de(a){return{addPluginContexts:function(c){var d=c?W([],c,!0):[];a.forEach(function(e){try{e.contexts&&d.push.apply(d,e.contexts())}catch(k){ta.error("Error adding plugin contexts",k)}});return d}}}function ee(a){if("*"===a[0]||"*"===a[1])return!1;if(0<a.slice(2).length){var c=!1,d=0;for(a=a.slice(2);d<a.length;d++)if("*"===a[d])c=!0;else if(c)return!1;
return!0}return 2==a.length?!0:!1}function kd(a){return(a=a.split("."))&&1<a.length?ee(a):!1}function ld(a){a=/^iglu:((?:(?:[a-zA-Z0-9-_]+|\*).)+(?:[a-zA-Z0-9-_]+|\*))\/([a-zA-Z0-9-_.]+|\*)\/jsonschema\/([1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)-(0|[1-9][0-9]*|\*)$/.exec(a);if(null!==a&&kd(a[1]))return a.slice(1,6)}function ec(a){if(a=ld(a)){var c=a[0];return 5===a.length&&kd(c)}return!1}function fe(a){return Array.isArray(a)&&a.every(function(c){return"string"===typeof c})}function md(a){return fe(a)?a.every(function(c){return ec(c)}):
"string"===typeof a?ec(a):!1}function xb(a){return hd(a)&&"schema"in a&&"data"in a?"string"===typeof a.schema&&"object"===typeof a.data:!1}function ge(a){var c=0;if(null!=a&&"object"===typeof a&&!Array.isArray(a)){if(Object.prototype.hasOwnProperty.call(a,"accept"))if(md(a.accept))c+=1;else return!1;if(Object.prototype.hasOwnProperty.call(a,"reject"))if(md(a.reject))c+=1;else return!1;return 0<c&&2>=c}return!1}function Kb(a){return"function"===typeof a&&1>=a.length}function nb(a){return Kb(a)||xb(a)}
function nd(a){return Array.isArray(a)&&2===a.length?Array.isArray(a[1])?Kb(a[0])&&a[1].every(nb):Kb(a[0])&&nb(a[1]):!1}function od(a){return Array.isArray(a)&&2===a.length?ge(a[0])?Array.isArray(a[1])?a[1].every(nb):nb(a[1]):!1:!1}function jd(a){return nd(a)||od(a)}function he(a,c){var d=0,e=0,k=a.accept;Array.isArray(k)?a.accept.some(function(g){return Lb(g,c)})&&e++:"string"===typeof k&&Lb(k,c)&&e++;k=a.reject;Array.isArray(k)?a.reject.some(function(g){return Lb(g,c)})&&d++:"string"===typeof k&&
Lb(k,c)&&d++;return 0<e&&0===d?!0:!1}function Lb(a,c){if(!ec(a))return!1;a=ld(a);c=/^iglu:([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_]+)\/jsonschema\/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$/.exec(c);c=null!==c?c.slice(1,6):void 0;if(a&&c){if(!ie(a[0],c[0]))return!1;for(var d=1;5>d;d++)if(!pd(a[d],c[d]))return!1;return!0}return!1}function ie(a,c){c=c.split(".");a=a.split(".");if(c&&a){if(c.length!==a.length)return!1;for(var d=0;d<a.length;d++)if(!pd(c[d],a[d]))return!1;return!0}return!1}function pd(a,
c){return a&&c&&"*"===a||a===c}function qd(a){return Array.isArray(a)?a:[a]}function dc(a,c,d,e){var k;a=qd(a).map(function(g){a:if(xb(g))g=[g];else{if(Kb(g)){b:{var l=void 0;try{var p={event:c.getPayload(),eventType:d,eventSchema:e};l=g(p);if(Array.isArray(l)&&l.every(xb)||xb(l)){var v=l;break b}v=void 0;break b}catch(r){}v=void 0}if(xb(v)){g=[v];break a}else if(Array.isArray(v)){g=v;break a}}g=void 0}if(g&&0!==g.length)return g});return(k=[]).concat.apply(k,a.filter(function(g){return null!=g&&
g.filter(Boolean)}))}function ce(a,c,d,e){var k;a=qd(a).map(function(g){a:{if(nd(g)){var l=g[0],p=!1;try{var v={event:c.getPayload(),eventType:d,eventSchema:e};p=l(v)}catch(r){p=!1}if(!0===p){g=dc(g[1],c,d,e);break a}}else if(od(g)&&he(g[0],e)){g=dc(g[1],c,d,e);break a}g=[]}if(g&&0!==g.length)return g});return(k=[]).concat.apply(k,a.filter(function(g){return null!=g&&g.filter(Boolean)}))}function je(a){return null==a?{type:"dtm",value:(new Date).getTime()}:"number"===typeof a?{type:"dtm",value:a}:
"ttm"===a.type?{type:"ttm",value:a.value}:{type:"dtm",value:a.value||(new Date).getTime()}}function ke(a){void 0===a&&(a={});var c=a.base64,d=a.corePlugins,e=null!==d&&void 0!==d?d:[];c=function(g,l,p){function v(n,C){n=q.getApplicableContexts(n);var m=[];C&&C.length&&m.push.apply(m,C);n&&n.length&&m.push.apply(m,n);return m}var r=de(l),q=be(),t=g,y={};return{track:function(n,C,m){n.withJsonProcessor(ae(t));n.add("eid",Za.v4());n.addDict(y);m=je(m);n.add(m.type,m.value.toString());C=v(n,r.addPluginContexts(C));
C=C&&C.length?{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:C}:void 0;void 0!==C&&n.addJson("cx","co",C);l.forEach(function(T){try{T.beforeTrack&&T.beforeTrack(n)}catch(V){ta.error("Plugin beforeTrack",V)}});"function"===typeof p&&p(n);var R=n.build();l.forEach(function(T){try{T.afterTrack&&T.afterTrack(R)}catch(V){ta.error("Plugin afterTrack",V)}});return R},addPayloadPair:function(n,C){y[n]=C},configuration:a,getConfig:function(){return a},setConfig:function(n){n&&
("undefined"!==typeof n.base64&&(t=a.base64=n.base64),"undefined"!==typeof n.linkClickTracking&&(a.linkClickTracking=n.linkClickTracking),"undefined"!==typeof n.cacheRefreshInterval&&(a.cacheRefreshInterval=n.cacheRefreshInterval),"undefined"!==typeof n.buttonClickTracking&&(a.buttonClickTracking=n.buttonClickTracking),"undefined"!==typeof n.customEvent&&(a.customEvent=n.customEvent),"undefined"!==typeof n.exceptionAutotracking&&(a.exceptionAutotracking=n.exceptionAutotracking),"undefined"!==typeof n.enablePeriodicHeartbeat&&
(a.enablePeriodicHeartbeat=n.enablePeriodicHeartbeat),"undefined"!==typeof n.periodicHeartbeatInterval&&(a.periodicHeartbeatInterval=n.periodicHeartbeatInterval),"undefined"!==typeof n.customEventTrackingConfiguration&&(a.customEventTrackingConfiguration=n.customEventTrackingConfiguration),"undefined"!==typeof n.convivaVideoEventTrackingConfiguration&&(a.convivaVideoEventTrackingConfiguration=n.convivaVideoEventTrackingConfiguration),"undefined"!==typeof n.ajaxTrackingConfiguration&&(a.ajaxTrackingConfiguration=
n.ajaxTrackingConfiguration),"undefined"!==typeof n.networkRequestTrackingConfiguration&&(a.networkRequestTrackingConfiguration=n.networkRequestTrackingConfiguration),"undefined"!==typeof n.traceparentconfig&&(a.traceparentconfig=n.traceparentconfig),"undefined"!==typeof n.metaTagsTrackingConfiguration&&(a.metaTagsTrackingConfiguration=n.metaTagsTrackingConfiguration))},getBase64Encoding:function(){return t},setBase64Encoding:function(n){t=n},addPayloadDict:function(n){for(var C in n)Object.prototype.hasOwnProperty.call(n,
C)&&(y[C]=n[C])},resetPayloadPairs:function(n){y=id(n)?n:{}},setTrackerVersion:function(n){y.tv=n},setTrackerNamespace:function(n){y.tna=n},setAppId:function(n){y.aid=n},setPlatform:function(n){y.p=n},setUserId:function(n){y.uid=n},setScreenResolution:function(n,C){y.res=n+"x"+C},setViewport:function(n,C){y.vp=n+"x"+C},setColorDepth:function(n){y.cd=n},setTimezone:function(n){y.tz=n},setLang:function(n){y.lang=n},setIpAddress:function(n){y.ip=n},setUseragent:function(n){y.ua=n},addGlobalContexts:function(n){q.addGlobalContexts(n)},
clearGlobalContexts:function(){q.clearGlobalContexts()},removeGlobalContexts:function(n){q.removeGlobalContexts(n)}}}(null!==c&&void 0!==c?c:!0,e,a.callback);var k=aa(aa({},c),{addPlugin:function(g){var l,p;g=g.plugin;e.push(g);null===(l=g.logger)||void 0===l?void 0:l.call(g,ta);null===(p=g.activateCorePlugin)||void 0===p?void 0:p.call(g,k)}});null===e||void 0===e?void 0:e.forEach(function(g){var l,p;null===(l=g.logger)||void 0===l?void 0:l.call(g,ta);null===(p=g.activateCorePlugin)||void 0===p?void 0:
p.call(g,k)});return k}function yb(a){var c=a.event;a=c.schema;var d=c.data;c=Jb();a={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:{schema:a,data:d}};c.add("e","ue");c.addJson("ue_px","ue_pr",a);return c}function le(a){var c=a.pageUrl,d=a.pageTitle;a=a.referrer;var e=Jb();e.add("e","pv");e.add("url",c);e.add("page",d);e.add("refr",a);return e}function fc(a){return yb({event:{schema:"iglu:com.conviva/raw_event/jsonschema/1-0-1",data:Mb({name:a.name,data:a.data})}})}
function gc(a){return yb({event:{schema:"iglu:com.conviva/conviva_video_events/jsonschema/1-0-5",data:Mb({name:a.name,sid:a.sid,iid:a.iid,clid:a.clid,st:a.st,cen:a.cen,ced:a.ced,an:a.an})}})}function Mb(a,c){void 0===c&&(c={});var d={},e;for(e in a)if(c[e]||null!==a[e]&&"undefined"!==typeof a[e])d[e]=a[e];return d}function rd(a){return Number.isInteger&&Number.isInteger(a)||"number"===typeof a&&isFinite(a)&&Math.floor(a)===a}function hc(a){if(!a||"string"!==typeof a.valueOf()){a=a.text||"";var c=
document.getElementsByTagName("title");c&&null!=c[0]&&(a=c[0].text)}return a}function ic(a){var c=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(a);return c?c[1]:a}function sd(a){var c=a.length;"."===a.charAt(--c)&&(a=a.slice(0,c));"*."===a.slice(0,2)&&(a=a.slice(1));return a}function jc(a){var c=window,d=zb("referrer",c.location.href)||zb("referer",c.location.href);if(d)return d;if(a)return a;try{if(c.top)return c.top.document.referrer;if(c.parent)return c.parent.document.referrer}catch(e){}return document.referrer}
function $a(a,c,d,e){if(a.addEventListener)return a.addEventListener(c,d,e),!0;if(a.attachEvent)return a.attachEvent("on"+c,d);a["on"+c]=d}function zb(a,c){return(a=(new RegExp("^[^#]*[?&]"+a+"=([^&#]*)")).exec(c))?decodeURIComponent(a[1].replace(/\+/g," ")):null}function Nb(a,c,d){void 0===d&&(d=63072E3);try{var e=window.localStorage,k=Date.now()+1E3*d;e.setItem("".concat(a,".expires"),k.toString());e.setItem(a,c);return!0}catch(g){return!1}}function td(a){try{var c=window.localStorage;c.removeItem(a);
c.removeItem(a+".expires");return!0}catch(d){return!1}}function me(a,c){for(var d=window.location.hostname,e="_sp_root_domain_test_"+(new Date).getTime(),k="_test_value_"+(new Date).getTime(),g=d.split("."),l=g.length-1;0<=l;){var p=g.slice(l,g.length).join(".");Ka(e,k,0,"/",p,a,c);if(Ka(e)===k){Ka(e,"",-1,"/",p,a,c);d=document.cookie.split("; ");e=[];for(k=0;k<d.length;k++)"_sp_root_domain_test_"===d[k].substring(0,21)&&e.push(d[k]);d=e;for(e=0;e<d.length;e++)Ka(d[e],"",-1,"/",p,a,c);return p}--l}return d}
function Ka(a,c,d,e,k,g,l){return 1<arguments.length?document.cookie=a+"="+encodeURIComponent(null!==c&&void 0!==c?c:"")+(d?"; Expires="+(new Date(+new Date+1E3*d)).toUTCString():"")+(e?"; Path="+e:"")+(k?"; Domain="+k:"")+(g?"; SameSite="+g:"")+(l?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+a+"=")[1]||"").split(";")[0])}function ne(a,c){var d=[ea.request_body,ea.response_body,ea.request_headers,ea.response_headers],e={};if(c&&0<c.length)for(var k=0;k<c.length;k++){var g=
c[k],l=g.conditions;var p=void 0;var v=["conditions"],r={};for(p in g)Object.prototype.hasOwnProperty.call(g,p)&&0>v.indexOf(p)&&(r[p]=g[p]);if(null!=g&&"function"===typeof Object.getOwnPropertySymbols){var q=0;for(p=Object.getOwnPropertySymbols(g);q<p.length;q++)0>v.indexOf(p[q])&&Object.prototype.propertyIsEnumerable.call(g,p[q])&&(r[p[q]]=g[p[q]])}p=r;try{a:{g=a;try{for(v=0;v<l.length;v++){var t=l[v];r=!1;if(0<Object.keys(t).length){q=0;for(var y=Object.entries(t);q<y.length;q++){var n=y[q],C=
n[1],m=g[n[0]];if(0<C.length){for(var R=0,T=0,V=C;T<V.length;T++){var I=V[T],ja="contains",ra=I;if("object"===typeof I&&I.length)ja=I[1],ra=I[0];else if("boolean"===typeof I||null===I)ja="equal",ra=I;if(oe(m,ja,ra)){r=!0;break}else if(r=!1,R+1===C.length)break;R++}if(!1===r)break}}}if(r){var Ra=!0;break a}}}catch(ma){console.warn("Conviva App Tracker: Error in Applying nwreqConfig ".concat(ma))}Ra=!1}if(Ra){g=0;for(var La=Object.entries(a);g<La.length;g++){var na=La[g],X=na[0],O=na[1];if(d.includes(X))try{if(p[X]&&
0<p[X].length){v=!1;if(X===ea.response_headers||X===ea.request_headers)v=!0;var ua=a[X];l={};try{r=0;for(var ab=p[X];r<ab.length;r++){var va=ab[r];q=ua;R=l;v&&(va=va.toLowerCase());var wa=va.split(".");for(T=0;T<wa.length;T++){var qa=wa[T];"undefined"!==typeof q&&null!==q&&q.hasOwnProperty(qa)&&(T===wa.length-1?R[qa]=q[qa]:(R[qa]=R[qa]||{},q=q[qa],R=R[qa]))}}}catch(ma){console.warn("Conviva App Tracker: Error in filtering schema object nwreq ".concat(ma))}var Ma=l;0!==Object.keys(Ma).length&&(e[X]=
Ma)}}catch(ma){e[X]=void 0}else e[X]=O}return e}}catch(ma){console.warn("Conviva App Tracker: Error in collecting attributes nwreqConfig ".concat(ma))}}e=aa({},a);for(a=0;a<d.length;a++)c=d[a],"undefined"!==typeof e&&null!==e&&e.hasOwnProperty(c)&&delete e[c];return e}function oe(a,c,d){try{if("string"===typeof d&&"string"===typeof a&&"*"===d.trim())return!0;switch(c){case "==":case "equal":return a===d;case "!=":return a!==d;case ">":return a>d;case "<":return a<d;case ">=":return a>=d;case "<=":return a<=
d;case "contains":return""!==d&&"string"===typeof a&&"string"===typeof d&&-1!==a.toLowerCase().indexOf(d.toLowerCase());default:return!1}}catch(e){return console.warn("Conviva App Tracker: Error in Compare values nwreq ".concat(e)),!1}}function pe(){try{var a=!!window.localStorage}catch(d){a=!0}if(!a)return!1;try{var c=window.localStorage;c.setItem("modernizr","modernizr");c.removeItem("modernizr");return!0}catch(d){return!1}}function qe(a,c,d,e,k,g,l,p,v,r,q,t,y,n,C,m){function R(x){var J=Object.keys(x).map(function(H){return[H,
x[H]]}).reduce(function(H,A){H[A[0]]=A[1].toString();return H},{});return{evt:J,bytes:T(JSON.stringify(J))}}function T(x){for(var J=0,H=0;H<x.length;H++){var A=x.charCodeAt(H);127>=A?J+=1:2047>=A?J+=2:55296<=A&&57343>=A?(J+=4,H++):J=65535>A?J+3:J+4}return J}function V(x){for(void 0===x&&(x=!1);O.length&&"string"!==typeof O[0]&&"object"!==typeof O[0];)O.shift();if(1>O.length)na=!1;else{if(!X||"string"!==typeof X.valueOf())throw"No collector configured";na=!0;if(va){var J=function(ka){for(var Sa=0,
Ob=0;Sa<ka.length&&!(Ob+=ka[Sa].bytes,Ob>=l);)Sa+=1;return Sa},H=void 0;if(ob(O)){H=X;var A=I(H,!0,x);var Y=J(O)}else H=Ra(O[0]),A=I(H,!1,x),Y=1;var fa=setTimeout(function(){A.abort();na=!1},q),Na=function(ka){for(var Sa=0;Sa<ka;Sa++)O.shift();d&&Nb(Ma,JSON.stringify(O.slice(0,r)))};A.onreadystatechange=function(){if(4===A.readyState&&200<=A.status)if(clearTimeout(fa),300>A.status)Na(Y),V();else{var ka=A.status;ka=200<=ka&&300>ka?!1:C.includes(ka)?!0:!m.includes(ka);ka||(ta.error("Status ".concat(A.status,
", will not retry.")),Na(Y));na=!1}};if(ob(O)){if(J=O.slice(0,Y),0<J.length){x=!1;J=J.map(function(ka){return ka.evt});if(ab){var kc=new Blob([ja(ra(J))],{type:"application/json"});try{x=navigator.sendBeacon(H,kc)}catch(ka){x=!1}}!0===x?(Na(Y),V()):A.send(ja(ra(J)))}}else A.send()}else if(t||ob(O))na=!1;else{H=new Image(1,1);var bb=!0;H.onload=function(){bb&&(bb=!1,O.shift(),d&&Nb(Ma,JSON.stringify(O.slice(0,r))),V())};H.onerror=function(){bb&&(na=bb=!1)};H.src=Ra(O[0]);setTimeout(function(){bb&&
na&&(bb=!1,V())},q)}}}function I(x,J,H){var A=new XMLHttpRequest;J?(A.open("POST",x,!H),A.setRequestHeader("Content-Type","application/json; charset=UTF-8")):A.open("GET",x,!H);A.withCredentials=n;t&&A.setRequestHeader("SP-Anonymous","*");for(var Y in y)Object.prototype.hasOwnProperty.call(y,Y)&&A.setRequestHeader(Y,y[Y]);return A}function ja(x){return JSON.stringify({schema:"iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4",data:x})}function ra(x){for(var J=(new Date).getTime().toString(),
H=0;H<x.length;H++)x[H].stm=J;return x}function Ra(x){return v?X+x.replace("?","?stm="+(new Date).getTime()+"&"):X+x}function La(x){function J(A,Y,fa){return(fa=fa.match("(Macintosh;.*Mac OS X (d+)_(d+)[_d]*.*) AppleWebKit/"))&&fa.length?parseInt(fa[0])<=A||parseInt(fa[0])===A&&parseInt(fa[1])<=Y:!1}function H(A){return A.match("Version/.* Safari/")&&!A.match("Chrom(e|ium)")}return function(A,Y){return(Y=Y.match("(iP.+; CPU .*OS (d+)[_d]*.*) AppleWebKit/"))&&Y.length?parseInt(Y[0])<=A:!1}(13,x)||
J(10,15,x)&&H(x)}var na=!1,X,O=[];e="string"===typeof e?e.toLowerCase():e;var ua=!0===e||"beacon"===e||"true"===e,ab=!(!(ua&&window.navigator&&window.navigator.sendBeacon)||La(window.navigator.userAgent))&&ua,va=!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),wa="get"!==e&&va&&("post"===e||ua),qa=wa?k:"/i",Ma="snowplowOutQueue_".concat(a,"_").concat(wa?"post2":"get");ua&&(y={});g=d&&pe()&&wa&&g||1;if(d)try{var ma=window.localStorage.getItem(Ma);O=ma?JSON.parse(ma):[]}catch(x){}Array.isArray(O)||
(O=[]);c.outQueues.push(O);va&&1<g&&c.bufferFlushers.push(function(x){na||V(x)});var ob=function(x){return"object"===typeof x[0]};return{enqueueRequest:function(x,J){X=J+qa;if(wa){x=R(x);if(x.bytes>=l){ta.warn("Event ("+x.bytes+"B) too big, max is "+l);J=x;I(X,!0,!1).send(ja(ra([J.evt])));return}O.push(x)}else{var H="?";var A={co:!0,cx:!0},Y=!0,fa;for(fa in x)x.hasOwnProperty(fa)&&!A.hasOwnProperty(fa)&&(Y?Y=!1:H+="&",H+=encodeURIComponent(fa)+"="+encodeURIComponent(x[fa]));for(var Na in A)x.hasOwnProperty(Na)&&
A.hasOwnProperty(Na)&&(H+="&"+Na+"="+encodeURIComponent(x[Na]));if(0<p&&(A=Ra(H),A=T(A),A>=p)){ta.warn("Event ("+A+"B) too big, max is "+p);va&&(x=R(x),I(J+k,!0,!1).send(ja(ra([x.evt]))));return}O.push(H)}J=!1;d&&(J=Nb(Ma,JSON.stringify(O.slice(0,r))));na||J&&!(O.length>=g)||V()},executeQueue:function(){na||V()},setUseLocalStorage:function(x){d=x},setAnonymousTracking:function(x){t=x},setCollectorUrl:function(x){X=x+qa},setBufferSize:function(x){g=x},setCustomHeaders:function(x){y=x}}}function ud(a,
c,d){if("translate.googleusercontent.com"===a)""===d&&(d=c),a=(a=/^(?:https?|ftp)(?::\/*(?:[^?]+))([?][^#]+)/.exec(c))&&1<(null===a||void 0===a?void 0:a.length)?zb("u",a[1]):null,c=null!==a&&void 0!==a?a:"",a=ic(c);else if("cc.bingj.com"===a||"webcache.googleusercontent.com"===a)c=document.links[0].href,a=ic(c);return[a,c,d]}function re(a,c,d,e){var k=Math.round((new Date).getTime()/1E3);a?(a=a.split("."),a.unshift("0")):a=["1",c,k,e,k,"",d];a[6]&&"undefined"!==a[6]||(a[6]=Za.v4());a[7]&&"undefined"!==
a[7]||(a[7]="");a[8]&&"undefined"!==a[8]||(a[8]="");a[9]&&"undefined"!==a[9]||(a[9]="");a[10]&&"undefined"!==a[10]||(a[10]=-1);var g=function(l,p){l=parseInt(l);return isNaN(l)?p:l};c=function(l){return l?g(l,void 0):void 0};return[a[0],a[1],g(a[2],k),g(a[3],e),g(a[4],k),c(a[5]),a[6],a[7],a[8],c(a[9]),g(a[10],-1)]}function Ab(a,c){void 0===c&&(c=1);"0"===a[0]?(a[7]=a[6],a[5]=a[4],a[3]++):a[3]=c;c=Za.v4();a[6]=c;a[10]=-1;a[8]="";a[9]=void 0;return c}function lc(a){a[4]=Math.round((new Date).getTime()/
1E3)}function se(a,c,d,e,k,g){function l(q,t){var y="cws.conviva.com wsg ctp remote_config .m3u8 .mpd .ism .m4 .mp4 .ts .png .jpg .jpeg .bmp google-analytics.com googlesyndication.com googleapis stats.g.doubleclick chartbeat.com omtrdc.net app-measurement.com firebase nr-data.net newrelic bitmovin.com/impression bitmovin.com/analytics api.segment.io youbora hotjar mixpanel.com clevertap auryc".split(" ");t=JSON.parse(JSON.stringify(t));"undefined"!=typeof q.cacheRefreshInterval&&(t.cacheRefreshInterval=
q.cacheRefreshInterval);"undefined"!=typeof q.configurationBundle[0].trackerConfiguration.base64Encoding&&(t.base64=q.configurationBundle[0].trackerConfiguration.base64Encoding);"undefined"!=typeof q.configurationBundle[0].trackerConfiguration.linkClickTracking&&(t.linkClickTracking=q.configurationBundle[0].trackerConfiguration.linkClickTracking);"undefined"!=typeof q.configurationBundle[0].trackerConfiguration.buttonClickTracking&&(t.buttonClickTracking=q.configurationBundle[0].trackerConfiguration.buttonClickTracking);
"undefined"!=typeof q.configurationBundle[0].trackerConfiguration.customEvent&&(t.customEvent=q.configurationBundle[0].trackerConfiguration.customEvent);"undefined"!=typeof q.configurationBundle[0].trackerConfiguration.exceptionAutotracking&&(t.exceptionAutotracking=q.configurationBundle[0].trackerConfiguration.exceptionAutotracking);"undefined"!=typeof q.configurationBundle[0].trackerConfiguration.enablePeriodicHeartbeat&&(t.enablePeriodicHeartbeat=q.configurationBundle[0].trackerConfiguration.enablePeriodicHeartbeat);
"undefined"!=typeof q.configurationBundle[0].trackerConfiguration.periodicHeartbeatInterval&&(t.periodicHeartbeatInterval=q.configurationBundle[0].trackerConfiguration.periodicHeartbeatInterval);"undefined"!=typeof q.configurationBundle[0].customEventTrackingConfiguration&&(t.customEventTrackingConfiguration=q.configurationBundle[0].customEventTrackingConfiguration);"undefined"!=typeof q.configurationBundle[0].convivaVideoEventTrackingConfiguration&&(t.convivaVideoEventTrackingConfiguration=q.configurationBundle[0].convivaVideoEventTrackingConfiguration);
"undefined"!=typeof q.configurationBundle[0].ajaxTrackingConfiguration&&(t.ajaxTrackingConfiguration=q.configurationBundle[0].ajaxTrackingConfiguration);"undefined"!=typeof q.configurationBundle[0].networkRequestTrackingConfiguration&&(t.networkRequestTrackingConfiguration=q.configurationBundle[0].networkRequestTrackingConfiguration);"undefined"!=typeof q.configurationBundle[0].traceparentconfig&&(t.traceparentconfig=q.configurationBundle[0].traceparentconfig);t.ajaxTrackingConfiguration&&(t.ajaxTrackingConfiguration.blocklist||
(t.ajaxTrackingConfiguration.blocklist=[]),t.ajaxTrackingConfiguration.blocklist.push(q.configurationBundle[0].networkConfiguration.endpoint),t.ajaxTrackingConfiguration.blocklist=t.ajaxTrackingConfiguration.blocklist.concat(y));t.networkRequestTrackingConfiguration&&(t.networkRequestTrackingConfiguration.blocklist||(t.networkRequestTrackingConfiguration.blocklist=[]),t.networkRequestTrackingConfiguration.blocklist.push(q.configurationBundle[0].networkConfiguration.endpoint),t.networkRequestTrackingConfiguration.blocklist=
t.networkRequestTrackingConfiguration.blocklist.concat(y));"undefined"!=typeof q.configurationBundle[0].metaTagsTrackingConfiguration&&(t.metaTagsTrackingConfiguration=q.configurationBundle[0].metaTagsTrackingConfiguration);r.setCollectorUrl(q.configurationBundle[0].networkConfiguration.endpoint);window.localStorage&&(localStorage.removeItem("ConvivaRemoteConfig"),localStorage.removeItem("ConvivaEndpoint"),localStorage.setItem("ConvivaRemoteConfig",JSON.stringify(t)),localStorage.setItem("ConvivaEndpoint",
q.configurationBundle[0].networkConfiguration.endpoint));r.core.setConfig(t)}function p(q,t){return W(W([],q,!0),t,!0).reduce(function(y,n){var C=y.find(function(m){return m.key===n.key});C?n.condition&&(C.condition=W(W([],C.condition||[],!0),n.condition,!0)):y.push(aa({},n));return y},[])}void 0===g&&(g={});var v=[];a=function(q,t,y,n,C,m){function R(){gb=ud(window.location.hostname,window.location.href,jc());gb[1]!==cb&&(Bb=jc(cb));vd=sd(gb[0]);cb=gb[1]}function T(b){try{var f=(new Date).getTime(),
h=b.currentTarget;if(null===h||void 0===h?0:h.href){b="_sp="+(Pb+"."+f);var u=h.href.split("#"),w=u[0].split("?"),E=w.shift(),F=w.join("?");if(F){w=!0;var L=F.split("&");for(f=0;f<L.length;f++)if("_sp="===L[f].substr(0,4)){w=!1;L[f]=b;F=L.join("&");break}w&&(F=b+"&"+F)}else F=b;u[0]=E+"?"+F;var B=u.join("#");h.href=B}}catch(z){console.warn("Conviva App Tracker:: Error in linkDecorationHandler of decorateLinks ".concat(z))}}function V(b){for(var f=0;f<document.links.length;f++){var h=document.links[f];
!h.spDecorationEnabled&&b(h)&&($a(h,"click",T,!0),$a(h,"mousedown",T,!0),h.spDecorationEnabled=!0)}}function I(b){if(wd){var f=/#.*/;b=b.replace(f,"")}xd&&(f=/[{}]/g,b=b.replace(f,""));return b}function ja(b){return(b=/^([a-z]+):/.exec(b))?b[1]:null}function ra(b){b=pb+b+"."+hb;if("localStorage"==ba){try{var f=window.localStorage,h=f.getItem(b+".expires");if(null===h||+h>Date.now())var u=f.getItem(b);else f.removeItem(b),f.removeItem(b+".expires"),u=void 0}catch(w){u=void 0}return u}if("cookie"==
ba||"cookieAndLocalStorage"==ba)return Ka(b)}function Ra(){R();hb=te((Cb||vd)+(mc||"/")).slice(0,4)}function La(){nc=(new Date).getTime()}function na(){var b=X(),f=b[0];f<Qb?Qb=f:f>Rb&&(Rb=f);b=b[1];b<Sb?Sb=b:b>Tb&&(Tb=b);La()}function X(){var b=document.documentElement;return b?[b.scrollLeft||window.pageXOffset,b.scrollTop||window.pageYOffset]:[0,0]}function O(){var b=X(),f=b[0];Rb=Qb=f;Tb=Sb=b=b[1]}function ua(){va(pb+"ses."+hb,"*",yd)}function ab(b){var f=pb+"id."+hb;b.shift();b=b.join(".");va(f,
b,zd)}function va(b,f,h){if(!qb||Db)"localStorage"==ba?Nb(b,f,h):("cookie"==ba||"cookieAndLocalStorage"==ba)&&Ka(b,f,h,mc,Cb,Ub,Vb)}function wa(b){var f=pb+"id."+hb,h=pb+"ses."+hb;td(f);td(h);Ka(f,"",-1,"/",Cb,Ub,Vb);Ka(h,"",-1,"/",Cb,Ub,Vb);null!==b&&void 0!==b&&b.preserveSession||(ib=Za.v4(),Oa=1);null!==b&&void 0!==b&&b.preserveUser||(Pb=Za.v4(),jb=null)}function qa(b){b&&b.stateStorageStrategy&&(m.stateStorageStrategy=b.stateStorageStrategy,ba=Ad(m));qb=!!m.anonymousTracking;Db=Bd(m);oc=Cd(m);
Ta.setUseLocalStorage("localStorage"==ba||"cookieAndLocalStorage"==ba);Ta.setAnonymousTracking(oc)}function Ma(){try{var b=window.localStorage.getItem(pc+"."+qc),f=JSON.parse(b||"{}");"{}"===f||"undefined"===typeof f?(Eb=Y(),Wb=fa(),db=-1):(Eb=f.clId||Y(),db=f[Fb]&&2147483648>f[Fb]?f[Fb]:-1,Wb=fa());A()}catch(u){console.warn(u)}if(!qb||Db){b="none"!=ba&&!!ra("ses");f=ma();if(f[1])var h=f[1];else h=qb?"":Za.v4(),f[1]=h;Pb=h;ib=b?f[6]:Ab(f);Oa=f[3];"none"!=ba&&(ua(),lc(f),ab(f))}}function ma(){if("none"==
ba)return["1","",0,0,0,void 0,"","","",void 0,0];var b=ra("id")||void 0;return re(b,Pb,ib,Oa)}function ob(b){return 0===b.indexOf("http")?b:("https:"===document.location.protocol?"https":"http")+"://"+b}function x(){Dd&&null!=C.pageViewId||(C.pageViewId=Za.v4())}function J(){null==C.pageViewId&&(C.pageViewId=Za.v4());return C.pageViewId}function H(){return{contexts:function(){return[{schema:"iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0",data:{id:J()}}]}}}function A(){try{var b=window.localStorage,
f={clId:Eb,iid:Wb,eventIndex:db},h=null;try{h=JSON.stringify(f)}catch(u){return}return b.setItem(pc+"."+qc,h)}catch(u){}}function Y(){try{return Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()+"."+Math.floor(2147483647*Math.random()).toString()}catch(b){console.warn(b)}}function fa(){try{return Math.floor(2147483647*Math.random())}catch(b){return console.warn(b),-1}}function Na(b){try{var f=Object.keys(b);
Ed(JSON.stringify(b))?f.forEach(function(h){""!==h&&Object.defineProperty(rc,h,{value:""+b[h],writable:!0,enumerable:!0,configurable:!0})}):console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=")}catch(h){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",h)}}function kc(b){try{b.forEach(function(f){delete rc[f]})}catch(f){console.warn("Conviva AppTracker:: Failed to unset Custom tag(s). Check format of keys set.")}}function bb(b){try{var f=Object.keys(b);Ed(JSON.stringify(b))?
f.forEach(function(h){""!==h&&Object.defineProperty(sc,h,{value:""+b[h],writable:!0,enumerable:!0,configurable:!0})}):console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=")}catch(h){console.warn("Conviva AppTracker:: Invalid JSON Format: Error Message=",h)}}function ka(b){var f=b.title,h=b.context,u=b.timestamp;b=b.contextCallback;R();Fd&&x();Fd=!0;eb=document.title;rb=f;f=hc(rb||eb);sb.track(le({pageUrl:I(tb||cb),pageTitle:f,referrer:I(Xb||Bb)}),(h||[]).concat(b?b():[]),u);u=new Date;
f=!1;if(sa.enabled&&!sa.installed){f=sa.installed=!0;var w={update:function(){if("undefined"!==typeof window&&"function"===typeof window.addEventListener){var F=!1,L=Object.defineProperty({},"passive",{get:function(){F=!0},set:function(){}}),B=function(){};window.addEventListener("testPassiveEventSupport",B,L);window.removeEventListener("testPassiveEventSupport",B,L);w.hasSupport=F}}};w.update();var E="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";
Object.prototype.hasOwnProperty.call(w,"hasSupport")?$a(document,E,La,{passive:!0}):$a(document,E,La);O();E=function(F,L){void 0===L&&(L=La);return function(B){return $a(document,B,L)}};"click mouseup mousedown mousemove keypress keydown keyup".split(" ").forEach(E(document));["resize","focus","blur"].forEach(E(window));E(window,na)("scroll")}if(sa.enabled&&(ue||f))for(u in nc=u.getTime(),u=void 0,sa.configurations)if(f=sa.configurations[u])window.clearInterval(f.activityInterval),Ob(f,h,b)}function Sa(){var b,
f,h,u,w,E,F,L,B,z,N,oa,pa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia;try{var K=r.core.getConfig(),ca=void 0;sc={};var Ja=Gb.MERGE;"undefined"!==typeof(null===(f=null===(b=null===m||void 0===m?void 0:m.configs)||void 0===b?void 0:b.metaTagsTracking)||void 0===f?void 0:f.preference)?Ja=null===(u=null===(h=null===m||void 0===m?void 0:m.configs)||void 0===h?void 0:h.metaTagsTracking)||void 0===u?void 0:u.preference:"undefined"!==typeof(null===(w=null===K||void 0===K?void 0:K.metaTagsTrackingConfiguration)||
void 0===w?void 0:w.pref)&&(Ja=null===(E=null===K||void 0===K?void 0:K.metaTagsTrackingConfiguration)||void 0===E?void 0:E.pref);switch(Ja){case Gb.APP:if(!1===(null===(L=null===(F=null===m||void 0===m?void 0:m.configs)||void 0===F?void 0:F.metaTagsTracking)||void 0===L?void 0:L.enabled))return;0<(null===(N=null===(z=null===(B=null===m||void 0===m?void 0:m.configs)||void 0===B?void 0:B.metaTagsTracking)||void 0===z?void 0:z.tags)||void 0===N?void 0:N.length)&&(ca=W([],null===(pa=null===(oa=null===
m||void 0===m?void 0:m.configs)||void 0===oa?void 0:oa.metaTagsTracking)||void 0===pa?void 0:pa.tags,!0));break;case Gb.REMOTE:if(!1===(null===(xa=null===K||void 0===K?void 0:K.metaTagsTrackingConfiguration)||void 0===xa?void 0:xa.enabled))return;"undefined"!=typeof(null===K||void 0===K?void 0:K.metaTagsTrackingConfiguration)&&0<(null===(za=null===(ya=null===K||void 0===K?void 0:K.metaTagsTrackingConfiguration)||void 0===ya?void 0:ya.tags)||void 0===za?void 0:za.length)&&(ca=W([],null===(Aa=null===
K||void 0===K?void 0:K.metaTagsTrackingConfiguration)||void 0===Aa?void 0:Aa.tags,!0));break;default:if("undefined"==typeof(null===K||void 0===K?void 0:K.metaTagsTrackingConfiguration)&&!1===(null===(Ca=null===(Ba=null===m||void 0===m?void 0:m.configs)||void 0===Ba?void 0:Ba.metaTagsTracking)||void 0===Ca?void 0:Ca.enabled)||!1===(null===(Da=null===K||void 0===K?void 0:K.metaTagsTrackingConfiguration)||void 0===Da?void 0:Da.enabled))return;ca=W([],p((null===(Fa=null===(Ea=null===m||void 0===m?void 0:
m.configs)||void 0===Ea?void 0:Ea.metaTagsTracking)||void 0===Fa?void 0:Fa.tags)||[],(null===(Ga=null===K||void 0===K?void 0:K.metaTagsTrackingConfiguration)||void 0===Ga?void 0:Ga.tags)||[]),!0)}if(0<(null===ca||void 0===ca?void 0:ca.length)){b={};var G=document.head.getElementsByTagName("meta");for(f=0;f<G.length;f++){var Pa=G[f];for(h=0;h<ca.length;h++){var ha=Pa.getAttribute(ca[h].key),kb=Pa.getAttribute(ca[h].value);u=void 0;if(null===(Ha=ca[h])||void 0===Ha?0:Ha.condition)u=null===(Ia=ca[h])||
void 0===Ia?void 0:Ia.condition;ha&&(u&&u.includes(ha)?b[ha]=kb:u&&0!==u.length||(b[ha]=kb))}}r.setMetaCustomTags(b)}}catch(lb){console.warn("Conviva App Tracker:: setPageMetaTagsAsCustomTags",lb)}}function Ob(b,f,h){var u=function(F,L){R();var B=r.core.getConfig();B.enablePeriodicHeartbeat?void 0!=B.periodicHeartbeatInterval&&(B=1E3*B.periodicHeartbeatInterval,B!=b.configHeartBeatTimer&&(window.clearInterval(b.activityInterval),b.activityInterval=window.setInterval(E,B))):window.clearInterval(b.activityInterval);
F({context:L,pageViewId:J(),minXOffset:Qb,minYOffset:Sb,maxXOffset:Rb,maxYOffset:Tb});O()},w=new Date;window.setTimeout(function(){u(b.callback,(f||[]).concat(h?h():[]))},2E3);var E=function(){var F=new Date;if(w.getTime()+b.configHeartBeatTimer>F.getTime()||nc+b.configHeartBeatTimer>F.getTime())w=F,u(b.callback,(f||[]).concat(h?h():[]))};b.activityInterval=window.setInterval(E,b.configHeartBeatTimer)}function Gd(b){var f=b.minimumVisitLength,h=b.heartbeatDelay;b=b.callback;if(rd(f)&&rd(h))return{configMinimumVisitLength:1E3*
f,configHeartBeatTimer:1E3*h,callback:b};ta.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function Hd(b){var f=b.context,h=b.minXOffset,u=b.minYOffset,w=b.maxXOffset,E=b.maxYOffset;b=document.title;b!==eb&&(eb=b,rb=void 0);b=sb;var F=b.track,L=I(tb||cb),B=hc(rb||eb),z=I(Xb||Bb);h=Math.round(h);w=Math.round(w);u=Math.round(u);E=Math.round(E);var N=Jb();N.add("e","pp");N.add("url",L);N.add("page",B);N.add("refr",z);h&&!isNaN(Number(h))&&N.add("pp_mix",h.toString());
w&&!isNaN(Number(w))&&N.add("pp_max",w.toString());u&&!isNaN(Number(u))&&N.add("pp_miy",u.toString());E&&!isNaN(Number(E))&&N.add("pp_may",E.toString());F.call(b,N,f)}function Yb(b){var f,h,u,w,E,F,L,B,z,N,oa,pa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,K,ca,Ja;try{if(r&&b){var G=r.core.getConfig(),Pa=S.CONFIG_PREFERENCES.MERGE,ha=[];"undefined"!==typeof(null===(h=null===(f=null===m||void 0===m?void 0:m.configs)||void 0===f?void 0:f.traceparentGeneration)||void 0===h?void 0:h.force)&&!0===(null===(w=null===
(u=null===m||void 0===m?void 0:m.configs)||void 0===u?void 0:u.traceparentGeneration)||void 0===w?void 0:w.force)?Pa=S.CONFIG_PREFERENCES.APP:"undefined"!==typeof(null===(E=null===G||void 0===G?void 0:G.traceparentconfig)||void 0===E?void 0:E.pref)&&(Pa=null===(F=null===G||void 0===G?void 0:G.traceparentconfig)||void 0===F?void 0:F.pref);switch(Pa){case S.CONFIG_PREFERENCES.APP:if(!1===(null===(B=null===(L=null===m||void 0===m?void 0:m.configs)||void 0===L?void 0:L.traceparentGeneration)||void 0===
B?void 0:B.enabled))return"";if(null===(oa=null===(N=null===(z=null===m||void 0===m?void 0:m.configs)||void 0===z?void 0:z.traceparentGeneration)||void 0===N?void 0:N.targetUrl)||void 0===oa?0:oa.length)ha=W([],null===(xa=null===(pa=null===m||void 0===m?void 0:m.configs)||void 0===pa?void 0:pa.traceparentGeneration)||void 0===xa?void 0:xa.targetUrl,!0);break;case S.CONFIG_PREFERENCES.REMOTE:if(!1===(null===(ya=null===G||void 0===G?void 0:G.traceparentconfig)||void 0===ya?void 0:ya.enabled))return"";
"undefined"!=typeof(null===G||void 0===G?void 0:G.traceparentconfig)&&(null===(Aa=null===(za=null===G||void 0===G?void 0:G.traceparentconfig)||void 0===za?void 0:za.targetUrl)||void 0===Aa?0:Aa.length)&&(ha=W([],null===(Ba=null===G||void 0===G?void 0:G.traceparentconfig)||void 0===Ba?void 0:Ba.targetUrl,!0));break;default:if("undefined"==typeof(null===G||void 0===G?void 0:G.traceparentconfig)&&!1===(null===(Da=null===(Ca=null===m||void 0===m?void 0:m.configs)||void 0===Ca?void 0:Ca.traceparentGeneration)||
void 0===Da?void 0:Da.enabled)||!1===(null===(Ea=null===G||void 0===G?void 0:G.traceparentconfig)||void 0===Ea?void 0:Ea.enabled))return"";var kb=new Set(W(W([],(null===(Fa=null===G||void 0===G?void 0:G.traceparentconfig)||void 0===Fa?void 0:Fa.targetUrl)||[],!0),(null===(Ha=null===(Ga=null===m||void 0===m?void 0:m.configs)||void 0===Ga?void 0:Ga.traceparentGeneration)||void 0===Ha?void 0:Ha.targetUrl)||[],!0));ha=Array.from(kb)}var lb=null===(K=null===(Ia=null===m||void 0===m?void 0:m.configs)||
void 0===Ia?void 0:Ia.networkRequestTracking)||void 0===K?void 0:K.safelist,Qa=null===(ca=null===G||void 0===G?void 0:G.networkRequestTrackingConfiguration)||void 0===ca?void 0:ca.blocklist,Ua=(null===Qa||void 0===Qa?void 0:Qa.includes("*"))||(null===Qa||void 0===Qa?void 0:Qa.some(function(Z){return 0<(null===Z||void 0===Z?void 0:Z.length)&&b.toLowerCase().includes(Z.toLowerCase())})),mb=null===lb||void 0===lb?void 0:lb.some(function(Z){return 0<(null===Z||void 0===Z?void 0:Z.length)&&b.toLowerCase().includes(Z.toLowerCase())});
if(0<(null===ha||void 0===ha?void 0:ha.length)&&(null===ha||void 0===ha?0:ha.some(function(Z){return 0<(null===Z||void 0===Z?void 0:Z.length)&&b.toLowerCase().includes(Z.toLowerCase())}))&&(null===(Ja=null===G||void 0===G?void 0:G.networkRequestTrackingConfiguration)||void 0===Ja?0:Ja.enabled)&&(mb||!Ua)){var Va=Array.from({length:32},function(){return Math.floor(16*Math.random()).toString(16)}).join(""),ub=Array.from({length:16},function(){return Math.floor(16*Math.random()).toString(16)}).join("");
return"00-"+Va+"-"+ub+"-00"}}return""}catch(Z){return""}}function Id(b){if(m.trackerConfigUrl)Zb(m.trackerConfigUrl),vb=window.setInterval(Zb,6E4*b,m.trackerConfigUrl);else{var f=y.split("js-")[1];f="https://drt1fhpy4haqm.cloudfront.net/js/"+m.convivaCustomerKey+"/"+f+"/remote_config.json";Zb(f);vb=window.setInterval(Zb,6E4*b,f)}}var tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc,Lc,Mc,Nc,Oc,Pc,Qc,Rc,Sc,Tc,Uc,Vc,la={cacheRefreshInterval:30,base64:!0,linkClickTracking:!0,buttonClickTracking:!0,
customEvent:!0,exceptionAutotracking:!0,enablePeriodicHeartbeat:!0,periodicHeartbeatInterval:40,customEventTrackingConfiguration:{},convivaVideoEventTrackingConfiguration:{},ajaxTrackingConfiguration:{blocklist:["*"]},networkRequestTrackingConfiguration:{blocklist:["*"]},traceparentconfig:{enabled:!0,pref:S.CONFIG_PREFERENCES.MERGE,targetUrl:[]}},P={},vb=null;if(window.localStorage){var Jd=localStorage.getItem(S.REMOTE_CONFIG_STORAGE_KEY)?localStorage.getItem(S.REMOTE_CONFIG_STORAGE_KEY):JSON.stringify(P);
var Wc=localStorage.getItem(S.END_POINT_STORAGE_KEY)?localStorage.getItem(S.END_POINT_STORAGE_KEY):S.DEFAULT_END_POINT}else Wc=S.DEFAULT_END_POINT,Jd=JSON.stringify(P);n=m.gatewayUrl?m.gatewayUrl:Wc?Wc:S.DEFAULT_END_POINT;t||(t="CAT");var U=JSON.parse(Jd);P.base64="undefined"!=typeof U.base64?U.base64:la.base64;P.cacheRefreshInterval="undefined"!=typeof U.cacheRefreshInterval?U.cacheRefreshInterval:la.cacheRefreshInterval;P.linkClickTracking="undefined"!=typeof U.linkClickTracking?U.linkClickTracking:
la.linkClickTracking;P.buttonClickTracking="undefined"!=typeof U.buttonClickTracking?U.buttonClickTracking:la.buttonClickTracking;P.exceptionAutotracking="undefined"!=typeof U.exceptionAutotracking?U.exceptionAutotracking:la.exceptionAutotracking;P.enablePeriodicHeartbeat="undefined"!=typeof U.enablePeriodicHeartbeat?U.enablePeriodicHeartbeat:la.enablePeriodicHeartbeat;P.periodicHeartbeatInterval="undefined"!=typeof U.periodicHeartbeatInterval?U.periodicHeartbeatInterval:la.periodicHeartbeatInterval;
P.customEventTrackingConfiguration="undefined"!=typeof U.customEventTrackingConfiguration?U.customEventTrackingConfiguration:aa({},la.customEventTrackingConfiguration);P.convivaVideoEventTrackingConfiguration="undefined"!=typeof U.convivaVideoEventTrackingConfiguration?U.convivaVideoEventTrackingConfiguration:aa({},la.convivaVideoEventTrackingConfiguration);P.ajaxTrackingConfiguration="undefined"!=typeof U.ajaxTrackingConfiguration?U.ajaxTrackingConfiguration:aa({},la.ajaxTrackingConfiguration);P.networkRequestTrackingConfiguration=
"undefined"!=typeof U.networkRequestTrackingConfiguration?U.networkRequestTrackingConfiguration:aa({},la.networkRequestTrackingConfiguration);"undefined"!=typeof U.metaTagsTrackingConfiguration&&(P.metaTagsTrackingConfiguration=U.metaTagsTrackingConfiguration);P.traceparentconfig="undefined"!=typeof U.traceparentconfig?U.traceparentconfig:aa({},la.traceparentconfig);try{var Hb=XMLHttpRequest,Xc=null===(tc=null===window||void 0===window?void 0:window.fetch)||void 0===tc?void 0:tc.bind(window);if(Hb){var ve=
function(b){var f={};b.trim().split(/[\r\n]+/).forEach(function(h){h=h.split(":");var u=h[1];f[h[0].trim()]=null===u||void 0===u?void 0:u.trim()});return f},$b=function(b,f,h){try{var u={status:null===b||void 0===b?void 0:b.status,statusText:(""!==(null===b||void 0===b?void 0:b.statusText)?null===b||void 0===b?void 0:b.statusText:void 0)||("load"!=h?h:void 0),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||
(null===Date||void 0===Date?void 0:Date.now())};h=void 0;try{h=ve(b.getAllResponseHeaders()),u.headers=h}catch(w){}try{u.body=null===b||void 0===b?void 0:b.response}catch(w){}r.trackNetworkRequest({requestDetails:f,responseDetails:u})}catch(w){console.warn("Conviva App Tracker:: Unable to track network request error while handleResponse ".concat(w))}},Kd=function(){var b=new Hb;try{var f,h,u={},w,E=b.setRequestHeader;b.setRequestHeader=function(B,z){u[B]=z;E.call(this,B,z)};var F=b.open;b.open=function(){for(var B=
[],z=0;z<arguments.length;z++)B[z]=arguments[z];f=B[0];h=B[1];try{/^(?:[a-z]+:)?\/\//i.test(h)||(h=0===h.indexOf("/")?window.location.origin+h:window.location.origin+"/"+h)}catch(N){}F.call(b,B[0],B[1],!0)};var L=b.send;b.send=function(B){try{var z=null;S.TRACEPARENT_HEADER_KEY in u||(z=Yb(h),null!==z&&""!==z&&b.setRequestHeader(S.TRACEPARENT_HEADER_KEY,z));L.call(b,B);w={method:f,url:h,headers:u,body:B,requestTimestamp:null===Date||void 0===Date?void 0:Date.now(),requestTime:(null===performance||
void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};null!==z&&""!==z&&(w[S.TRACEPARENT_HEADER_KEY]=z)}catch(N){console.warn("Conviva App Tracker:: Unable to track network request while send ".concat(N))}};b.addEventListener("load",function(){return $b(b,w,"load")});b.addEventListener("error",function(){return $b(b,w,"error")});b.addEventListener("abort",function(){return $b(b,w,"abort")});b.addEventListener("timeout",function(){return $b(b,w,"timeout")})}catch(B){console.warn("Conviva App Tracker:: Unable to track network request while interceptRequest ".concat(B))}return b},
ac;for(ac in Hb)Hb.hasOwnProperty(ac)&&(Kd[ac]=Hb[ac]);window.XMLHttpRequest=Kd}if(Xc){var Ld=function(b){var f={};b.forEach(function(h,u){f[u]=h});return f};window.fetch=function(b,f){var h=null;if(b instanceof Request){b=b.clone();var u=!1;b.headers.forEach(function(z,N){S.TRACEPARENT_HEADER_KEY===N&&(u=!0)});u||(h=Yb(b.url),null!==h&&""!==h&&b.headers.set(S.TRACEPARENT_HEADER_KEY,h));var w=Xc(b)}else{if(f&&f.headers){w=new Headers(f.headers);var E=!1;w.forEach(function(z,N){S.TRACEPARENT_HEADER_KEY===
N&&(E=!0)});E||(h=Yb(b),null!==h&&""!==h&&w.set(S.TRACEPARENT_HEADER_KEY,h))}else w=new Headers,h=Yb(b),null!==h&&""!==h&&w.set(S.TRACEPARENT_HEADER_KEY,h),f||(f={});f.headers=w;w=Xc(b,f);b=(new Request(b,f)).clone()}try{var F=void 0;try{F=Ld(b.headers)}catch(z){}var L=void 0;try{L=null===f||void 0===f?void 0:f.body}catch(z){}var B={method:b.method,url:b.url,headers:F,body:L,requestTimestamp:null===Date||void 0===Date?void 0:Date.now(),requestTime:(null===performance||void 0===performance?void 0:
performance.now())||(null===Date||void 0===Date?void 0:Date.now())};null!==h&&""!==h&&(B[S.TRACEPARENT_HEADER_KEY]=h);w.then(function(z){try{var N=Ld(z.headers)}catch(pa){}var oa={status:z.status,statusText:""!==(null===z||void 0===z?void 0:z.statusText)?null===z||void 0===z?void 0:z.statusText:void 0,headers:N,size:0,responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};
z.clone().json().then(function(pa){oa.body=pa;r.trackNetworkRequest({requestDetails:B,responseDetails:oa})})["catch"](function(){r.trackNetworkRequest({requestDetails:B,responseDetails:oa})})})["catch"](function(z){z={statusText:z.toString(),responseTimestamp:null===Date||void 0===Date?void 0:Date.now(),responseTime:(null===performance||void 0===performance?void 0:performance.now())||(null===Date||void 0===Date?void 0:Date.now())};r.trackNetworkRequest({requestDetails:B,responseDetails:z})})}catch(z){console.warn("Conviva App Tracker:: Unable to track network request while fetch interceptRequest ".concat(z))}return w}}}catch(b){console.warn("Conviva App Tracker:: Unable to track network request ".concat(b))}var we=
m.convivaCustomerKey;if(window.XMLHttpRequest){var wb=new XMLHttpRequest;wb.onreadystatechange=function(){try{if(4==wb.readyState)if(200==wb.status){var b=JSON.parse(wb.response);b.cacheRefreshInterval||(b.cacheRefreshInterval=la.cacheRefreshInterval);P.cacheRefreshInterval!=b.cacheRefreshInterval&&(P.cacheRefreshInterval=b.cacheRefreshInterval,"number"===typeof vb&&window.clearInterval(vb),Id(b.cacheRefreshInterval));l(b,la)}else try{var f=new XMLHttpRequest;f.onreadystatechange=function(){try{if(4==
f.readyState)if(200==f.status){var h=JSON.parse(f.response);l(h,la)}else try{var u=new XMLHttpRequest;u.onreadystatechange=function(){try{if(4==u.readyState&&200==u.status){var w=JSON.parse(u.response);l(w,la)}}catch(E){console.warn("Conviva App Tracker:: Error in fetching remote-config ".concat(E))}};u.open("GET","https://drt1fhpy4haqm.cloudfront.net/js/remote_config.json",!0);u.send()}catch(w){}}catch(w){console.warn("Conviva App Tracker:: Error in fetching remote-config ".concat(w))}};f.open("GET",
S.REMOTE_CONFIG_URL_PREFIX+we+S.REMOTE_CONFIG_FILE_NAME,!0);f.send()}catch(h){}}catch(h){console.warn("Conviva App Tracker:: Error in fetching remote-config ".concat(h))}};var Zb=function(b){try{wb.open("GET",b,!0),wb.send()}catch(f){}};"number"===typeof vb&&window.clearInterval(vb);Id(P.cacheRefreshInterval)}m.eventMethod=null!==(uc=m.eventMethod)&&void 0!==uc?uc:"post";var Ad=function(b){var f;return null!==(f=b.stateStorageStrategy)&&void 0!==f?f:"cookieAndLocalStorage"},Bd=function(b){var f,h;
return"boolean"===typeof b.anonymousTracking?!1:null!==(h=!0===(null===(f=b.anonymousTracking)||void 0===f?void 0:f.withSessionTracking))&&void 0!==h?h:!1},Cd=function(b){var f,h;return"boolean"===typeof b.anonymousTracking?!1:null!==(h=!0===(null===(f=b.anonymousTracking)||void 0===f?void 0:f.withServerAnonymisation))&&void 0!==h?h:!1};v.push(function(){return{beforeTrack:function(b){var f=ra("ses"),h=ma();Yc=Zc?!!Ka(Zc):!1;Md||Yc?wa():("0"===h[0]?(ib=f||"none"==ba?h[6]:Ab(h),Oa=h[3]):(new Date).getTime()-
$c>1E3*yd&&(Oa++,ib=Ab(h,Oa)),lc(h),-1===h[10]&&(f=b.build(),h[8]=f.eid,f=f.dtm||f.ttm,h[9]=f?parseInt(f):void 0),h[10]+=1,b.add("uid",qb?null:jb),R(),b.add("refr",I(Xb||Bb)),document&&(eb=document.title,f=hc(rb||eb),b.add("page",f)),b.add("url",I(tb||cb)),!xe||Db||qb||(f=h[9],f={userId:h[1],sessionId:h[6],eventIndex:h[10],sessionIndex:h[3],previousSessionId:h[7]||null,storageMechanism:"localStorage"==ba?"LOCAL_STORAGE":"COOKIE_1",firstEventId:h[8]||null,firstEventTimestamp:f?(new Date(f)).toISOString():
null},b.addContextEntity({schema:"iglu:com.snowplowanalytics.snowplow/client_session/jsonschema/1-0-2",data:f})),"none"!=ba&&(ab(h),ua()),$c=(new Date).getTime())}}}());(null!==(wc=null===(vc=null===m||void 0===m?void 0:m.contexts)||void 0===vc?void 0:vc.webPage)&&void 0!==wc?wc:1)&&v.push(H());v.push(function(){return{contexts:function(){var b=Eb,f=Wb.toString(),h=ye;try{var u=window.localStorage.getItem(pc+"."+qc),w=JSON.parse(u||"{}");"{}"!==w&&"undefined"!==typeof w&&"undefined"!==typeof w[Fb]&&
(db=w[Fb]);2147483647<=db?db=0:db++;A();var E=db}catch(F){console.warn(F),E=void 0}b={schema:"iglu:com.conviva/clid_schema/jsonschema/1-0-2",data:{clid:b,iid:f,ck:h,eventIndex:E}};f={eventIndex:ze++};null!=ad&&(f.previousEventTimestamp=ad);ad=(new Date).toISOString();return[b,{schema:"iglu:com.conviva/event_info/jsonschema/1-0-1",data:f}]}}}());v.push(function(){return{contexts:function(){return[{schema:"iglu:com.conviva/custom_tags/jsonschema/1-0-0",data:{data:aa(aa({},rc),sc)}}]}}}());v.push(function(){return{contexts:function(){return[{schema:"iglu:com.snowplowanalytics.mobile/application/jsonschema/1-0-0",
data:{build:Nd,version:Nd}}]}}}());v.push.apply(v,null!==(xc=m.plugins)&&void 0!==xc?xc:[]);var sb=ke({base64:P.base64,corePlugins:v,callback:function(b){Md||Yc||Ta.enqueueRequest(b.build(),bd)},linkClickTracking:P.linkClickTracking,buttonClickTracking:P.buttonClickTracking,customEvent:!0,exceptionAutotracking:P.exceptionAutotracking,enablePeriodicHeartbeat:P.enablePeriodicHeartbeat,periodicHeartbeatInterval:P.periodicHeartbeatInterval,customEventTrackingConfiguration:P.customEventTrackingConfiguration,
convivaVideoEventTrackingConfiguration:P.convivaVideoEventTrackingConfiguration,ajaxTrackingConfiguration:P.ajaxTrackingConfiguration,networkRequestTrackingConfiguration:P.networkRequestTrackingConfiguration,metaTagsTrackingConfiguration:P.metaTagsTrackingConfiguration}),gb=ud(window.location.hostname,window.location.href,jc()),vd=sd(gb[0]),cb=gb[1],Bb=gb[2],Xb,Ae=null!==(yc=m.platform)&&void 0!==yc?yc:"web",bd=ob(n),Be=null!==(zc=m.postPath)&&void 0!==zc?zc:"/"+m.convivaCustomerKey+"/ctp",Ce=null!==
(Ac=m.appId)&&void 0!==Ac?Ac:"",ye=null!==(Bc=m.convivaCustomerKey)&&void 0!==Bc?Bc:"",Nd=null!==(Cc=m.appVersion)&&void 0!==Cc?Cc:"",tb,rc={},sc={},eb=document.title,rb,ue=null!==(Dc=m.resetActivityTrackingOnPageView)&&void 0!==Dc?Dc:!0,wd,xd,pb=null!==(Ec=m.cookieName)&&void 0!==Ec?Ec:"_sp_",Cb=null!==(Fc=m.cookieDomain)&&void 0!==Fc?Fc:void 0,mc="/",Ub=null!==(Gc=m.cookieSameSite)&&void 0!==Gc?Gc:"None",Vb=null!==(Hc=m.cookieSecure)&&void 0!==Hc?Hc:!0,Od=navigator.doNotTrack||navigator.msDoNotTrack||
window.doNotTrack,Md="undefined"!==typeof m.respectDoNotTrack?m.respectDoNotTrack&&("yes"===Od||"1"===Od):!1,Zc,zd=null!==(Ic=m.cookieLifetime)&&void 0!==Ic?Ic:63072E3,yd=null!==(Jc=m.sessionCookieTimeout)&&void 0!==Jc?Jc:1800,Db=Bd(m),oc=Cd(m),qb=!!m.anonymousTracking,ba=Ad(m),pc="Conviva",qc="sdkConfig",Fb="eventIndex",Eb,Wb,db=-1,ze=0,nc,$c=(new Date).getTime(),Qb,Rb,Sb,Tb,hb,Pb,ib,Oa=1,jb,Ta=qe(q,C,"localStorage"==ba||"cookieAndLocalStorage"==ba,m.eventMethod,Be,null!==(Kc=m.bufferSize)&&void 0!==
Kc?Kc:1,null!==(Lc=m.maxPostBytes)&&void 0!==Lc?Lc:4E4,null!==(Mc=m.maxGetBytes)&&void 0!==Mc?Mc:0,null!==(Nc=m.useStm)&&void 0!==Nc?Nc:!0,null!==(Oc=m.maxLocalStorageQueueSize)&&void 0!==Oc?Oc:1E3,null!==(Pc=m.connectionTimeout)&&void 0!==Pc?Pc:5E3,oc,null!==(Qc=m.customHeaders)&&void 0!==Qc?Qc:{},null!==(Rc=m.withCredentials)&&void 0!==Rc?Rc:!0,null!==(Sc=m.retryStatusCodes)&&void 0!==Sc?Sc:[],(null!==(Tc=m.dontRetryStatusCodes)&&void 0!==Tc?Tc:[]).concat([400,401,403,410,422])),Dd=!1,ad,Fd=!1,
sa={enabled:!0,installed:!1,configurations:{pagePing:{configMinimumVisitLength:5E3,configHeartBeatTimer:4E4,callback:Hd}}},xe=null!==(Vc=null===(Uc=m.contexts)||void 0===Uc?void 0:Uc.session)&&void 0!==Vc?Vc:!1,Yc;m.hasOwnProperty("discoverRootDomain")&&m.discoverRootDomain&&(Cb=me(Ub,Vb));sb.setTrackerVersion(y);sb.setAppId(Ce);sb.setPlatform(Ae);Ra();Ma();Ta.setCustomHeaders({"x-client-id":""+Eb});m.crossDomainLinker&&V(m.crossDomainLinker);var Ed=function(b){try{return"object"===typeof JSON.parse(b)}catch(f){return!1}};
return aa(aa({},{getDomainSessionIndex:function(){return Oa},getPageViewId:function(){return J()},newSession:function(){var b=ma();"0"===b[0]?(ib="none"!=ba?Ab(b):b[6],Oa=b[3],ua()):(Oa++,ib=Ab(b,Oa));lc(b);"none"!=ba&&(ab(b),ua());$c=(new Date).getTime()},getCookieName:function(b){return pb+b+"."+hb},getUserId:function(){return jb},getDomainUserId:function(){return ma()[1]},getDomainUserInfo:function(){return ma()},setReferrerUrl:function(b){Xb=b},setCustomUrl:function(b){R();var f=cb,h;ja(b)?tb=
b:"/"===b.slice(0,1)?tb=ja(f)+"://"+ic(f)+b:(f=I(f),0<=(h=f.indexOf("?"))&&(f=f.slice(0,h)),(h=f.lastIndexOf("/"))!==f.length-1&&(f=f.slice(0,h+1)),tb=f+b)},setDocumentTitle:function(b){eb=document.title;rb=b},discardHashTag:function(b){wd=b},discardBrace:function(b){xd=b},setCookiePath:function(b){mc=b;Ra()},setVisitorCookieTimeout:function(b){zd=b},crossDomainLinker:function(b){V(b)},enableActivityTracking:function(b){sa.configurations.pagePing||(sa.enabled=!0,sa.configurations.pagePing=Gd(aa(aa({},
b),{callback:Hd})))},enableActivityTrackingCallback:function(b){sa.configurations.callback||(sa.enabled=!0,sa.configurations.callback=Gd(b))},updatePageActivity:function(){La()},setOptOutCookie:function(b){Zc=b},setUserId:function(b){jb=b},setUserIdFromLocation:function(b){R();jb=zb(b,cb)},setUserIdFromReferrer:function(b){R();jb=zb(b,Bb)},setUserIdFromCookie:function(b){jb=Ka(b)},setCollectorUrl:function(b){bd=ob(b);Ta.setCollectorUrl(bd)},setBufferSize:function(b){Ta.setBufferSize(b)},flushBuffer:function(b){void 0===
b&&(b={});Ta.executeQueue();b.newBufferSize&&Ta.setBufferSize(b.newBufferSize)},trackPageView:function(b){void 0===b&&(b={});Sa();ka(b)},trackVideoEvent:function(b){void 0===b&&(b={});try{var f=this.core.getConfig();""!=b.name&&void 0!=b.name||console.warn("Conviva App Tracker:: Video event could not be tracked due to missing name property!!");if(void 0!=f.convivaVideoEventTrackingConfiguration)if(void 0!=f.convivaVideoEventTrackingConfiguration.blocklist&&0<f.convivaVideoEventTrackingConfiguration.blocklist.length){var h=
f.convivaVideoEventTrackingConfiguration.blocklist;-1==h.indexOf("*")&&-1==h.indexOf(""+b.name)&&this.core.track(gc({name:b.name,sid:b.sid,iid:b.iid,clid:b.clid,st:b.st,sst:b.sst,an:b.an,cl:b.cl,lv:b.lv,pn:b.pn,vid:b.vid,fw:b.fw,fwv:b.fwv,mn:b.mn,mv:b.mv,url:b.url,tags:b.tags,cen:b.cen,ced:b.ced,oldsc:b.old,newsc:b["new"],err:b.err,br:b.br,ft:b.ft}),b.context,b.timestamp)}else this.core.track(gc({name:b.name,sid:b.sid,iid:b.iid,clid:b.clid,st:b.st,sst:b.sst,an:b.an,cl:b.cl,lv:b.lv,pn:b.pn,vid:b.vid,
fw:b.fw,fwv:b.fwv,mn:b.mn,mv:b.mv,url:b.url,tags:b.tags,cen:b.cen,ced:b.ced,oldsc:b.old,newsc:b["new"],err:b.err,br:b.br,ft:b.ft}),b.context,b.timestamp);else this.core.track(gc({name:b.name,sid:b.sid,iid:b.iid,clid:b.clid,st:b.st,sst:b.sst,an:b.an,cl:b.cl,lv:b.lv,pn:b.pn,vid:b.vid,fw:b.fw,fwv:b.fwv,mn:b.mn,mv:b.mv,url:b.url,tags:b.tags,cen:b.cen,ced:b.ced,oldsc:b.old,newsc:b["new"],err:b.err,br:b.br,ft:b.ft}),b.context,b.timestamp)}catch(u){console.warn("Conviva App Tracker:: Video event could not be tracked due to an exception!!",
u)}},trackAjaxEvent:function(b){void 0===b&&(b={});try{if("xmlhttprequest"===b.initiatorType||"fetch"===b.initiatorType){var f=this.core.getConfig();if(""==b.name||void 0==b.name)console.warn("Conviva App Tracker:: Ajax request could not be tracked due to missing URL property!!");else if(void 0!=f.ajaxTrackingConfiguration&&void 0!=f.ajaxTrackingConfiguration.blocklist&&0<f.ajaxTrackingConfiguration.blocklist.length){var h=f.ajaxTrackingConfiguration.blocklist;if(-1==h.indexOf("*")){f=!1;for(var u=
0;u<h.length;u++)""!==h[u]&&-1!==b.name.toLowerCase().indexOf(h[u].toLowerCase())&&(f=!0);if(!f){var w=this.core,E=w.track;var F=yb({event:{schema:"iglu:com.conviva/network_request/jsonschema/1-0-2",data:Mb({targetUrl:b.name,responseStatusCode:b.responseStatus,duration:b.duration})}});E.call(w,F,b.context,b.timestamp)}}}}}catch(L){console.warn("Conviva App Tracker:: Ajax request could not be tracked due to an exception!!",L)}},trackNetworkRequest:function(b){var f,h,u,w,E,F,L,B,z,N,oa,pa,xa,ya,za,
Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,K,ca,Ja;void 0===b&&(b={});try{var G=this.core.getConfig(),Pa=b.responseDetails.responseTime-b.requestDetails.requestTime;try{Pa=parseFloat(Pa.toFixed(3))}catch(Q){console.warn("Conviva App Tracker:: exception while converting duration to 3 decimal",Q)}var ha=function(Q){try{var Wa=void 0;"undefined"!=typeof Q&&null!==Q&&(Wa=Q["content-type"]||Q["Content-Type"]||Q["Content-type"]);return Wa}catch(De){}},kb=function(Q){try{var Wa=void 0;"undefined"!=typeof Q&&null!==Q&&(Wa=
Q["content-length"]||Q["Content-Length"]||Q["Content-length"]);return"undefined"==typeof Wa||null===Wa||isNaN(Wa)?Wa:Number(Wa)}catch(De){}},lb=kb(null===(u=null===b||void 0===b?void 0:b.requestDetails)||void 0===u?void 0:u.headers),Qa=kb(null===(w=null===b||void 0===b?void 0:b.responseDetails)||void 0===w?void 0:w.headers),Ua=ha(null===(E=null===b||void 0===b?void 0:b.requestDetails)||void 0===E?void 0:E.headers),mb=ha(null===(F=null===b||void 0===b?void 0:b.responseDetails)||void 0===F?void 0:F.headers);
try{var Va=(f={targetUrl:null===(L=null===b||void 0===b?void 0:b.requestDetails)||void 0===L?void 0:L.url,method:null===(B=null===b||void 0===b?void 0:b.requestDetails)||void 0===B?void 0:B.method,responseStatusCode:null===(z=null===b||void 0===b?void 0:b.responseDetails)||void 0===z?void 0:z.status,responseStatusText:null===(N=null===b||void 0===b?void 0:b.responseDetails)||void 0===N?void 0:N.statusText},f[ea.request_headers]=null===(oa=null===b||void 0===b?void 0:b.requestDetails)||void 0===oa?
void 0:oa.headers,f[ea.response_headers]=null===(pa=null===b||void 0===b?void 0:b.responseDetails)||void 0===pa?void 0:pa.headers,f.requestSize=lb,f.responseSize=Qa,f.duration=Pa,f.requestTimestamp=null===(xa=null===b||void 0===b?void 0:b.requestDetails)||void 0===xa?void 0:xa.requestTimestamp,f.responseTimestamp=null===(ya=null===b||void 0===b?void 0:b.responseDetails)||void 0===ya?void 0:ya.responseTimestamp,f.contentType=Ua,f);if("undefined"!==typeof Ua&&(Ua.toLowerCase().includes("text/plain")||
Ua.toLowerCase().includes("json")||Ua.toLowerCase().includes("text/javascript")||Ua.toLowerCase().includes("application/javascript"))||"undefined"===typeof Ua)if("string"===typeof(null===(za=null===b||void 0===b?void 0:b.requestDetails)||void 0===za?void 0:za.body))try{1E4>=(null===(Aa=null===b||void 0===b?void 0:b.requestDetails)||void 0===Aa?void 0:Aa.body.length)&&(Va[ea.request_body]=JSON.parse(null===(Ba=null===b||void 0===b?void 0:b.requestDetails)||void 0===Ba?void 0:Ba.body))}catch(Q){}else"object"===
typeof(null===(Ca=null===b||void 0===b?void 0:b.requestDetails)||void 0===Ca?void 0:Ca.body)&&(Va[ea.request_body]=null===(Da=null===b||void 0===b?void 0:b.requestDetails)||void 0===Da?void 0:Da.body);if("undefined"!==typeof mb&&(mb.toLowerCase().includes("text/plain")||mb.toLowerCase().includes("json")||mb.toLowerCase().includes("text/javascript")||mb.toLowerCase().includes("application/javascript"))&&"undefined"!==typeof Qa&&1E4>=Qa)if("string"===typeof(null===(Ea=null===b||void 0===b?void 0:b.responseDetails)||
void 0===Ea?void 0:Ea.body))try{Va[ea.response_body]=JSON.parse(null===(Fa=null===b||void 0===b?void 0:b.responseDetails)||void 0===Fa?void 0:Fa.body)}catch(Q){}else"object"===typeof(null===(Ga=null===b||void 0===b?void 0:b.responseDetails)||void 0===Ga?void 0:Ga.body)&&(Va[ea.response_body]=null===(Ha=null===b||void 0===b?void 0:b.responseDetails)||void 0===Ha?void 0:Ha.body);var ub=G.networkRequestTrackingConfiguration;if(ub&&ub.enabled){var Z=ub.blocklist,cd=null===(K=null===(Ia=null===m||void 0===
m?void 0:m.configs)||void 0===Ia?void 0:Ia.networkRequestTracking)||void 0===K?void 0:K.safelist,Ee=(null===Z||void 0===Z?void 0:Z.includes("*"))||(null===Z||void 0===Z?void 0:Z.some(function(Q){return 0<(null===Q||void 0===Q?void 0:Q.length)&&Va.targetUrl.toLowerCase().includes(Q.toLowerCase())}));if((null===cd||void 0===cd?0:cd.some(function(Q){return 0<(null===Q||void 0===Q?void 0:Q.length)&&Va.targetUrl.toLowerCase().includes(Q.toLowerCase())}))||!Ee){var da=ne(Va,ub.collectattr);if(null===(ca=
null===b||void 0===b?void 0:b.requestDetails)||void 0===ca?0:ca[S.TRACEPARENT_HEADER_KEY]){var Pd=(h={},h[S.TRACEPARENT_HEADER_KEY]=null===(Ja=null===b||void 0===b?void 0:b.requestDetails)||void 0===Ja?void 0:Ja[S.TRACEPARENT_HEADER_KEY],h);da[ea.request_headers]=da[ea.request_headers]?aa(aa({},da[ea.request_headers]),Pd):Pd}this.core.track(yb({event:{schema:"iglu:com.conviva/network_request/jsonschema/1-0-4",data:Mb({targetUrl:da.targetUrl,method:da.method,queryParameters:da.queryParameters,responseStatusCode:da.responseStatusCode,
responseStatusText:da.responseStatusText,rqh:da.rqh,rsh:da.rsh,rqb:da.rqb,rsb:da.rsb,requestSize:da.requestSize,responseSize:da.responseSize,duration:da.duration,contentType:da.contentType,requestTimestamp:da.requestTimestamp,responseTimestamp:da.responseTimestamp})}}),b.context,b.timestamp)}}}catch(Q){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",Q)}}catch(Q){console.warn("Conviva App Tracker:: Network request could not be tracked due to an exception!!",
Q)}},setCustomTags:function(b){void 0===b&&(b={});Na(b)},setMetaCustomTags:function(b){void 0===b&&(b={});bb(b)},unsetCustomTags:function(b){void 0===b&&(b={});kc(b)},preservePageViewId:function(){Dd=!0},disableAnonymousTracking:function(b){m.anonymousTracking=!1;qa(b);Ma();Ta.executeQueue()},enableAnonymousTracking:function(b){var f;m.anonymousTracking=null!==(f=b&&(null===b||void 0===b?void 0:b.options))&&void 0!==f?f:!0;qa(b);Db||x()},clearUserData:wa}),{id:q,namespace:t,core:sb,sharedState:C})}(a,
c,d,e,k,g);var r=aa(aa({},a),{addPlugin:function(q){var t,y;r.core.addPlugin(q);null===(y=(t=q.plugin).activateBrowserPlugin)||void 0===y?void 0:y.call(t,r)}});v.forEach(function(q){var t;null===(t=q.activateBrowserPlugin)||void 0===t?void 0:t.call(q,r)});return r}function M(a,c){try{var d=null!==a&&void 0!==a?a:Object.keys(Ib);a=Ib;for(var e=[],k=0;k<d.length;k++){var g=d[k];a.hasOwnProperty(g)?e.push(a[g]):ta.warn(g+" not configured")}e.forEach(c)}catch(l){ta.error("Function failed",l)}}function Qd(a,
c,d,e,k,g){return Ib.hasOwnProperty(a)?null:(Ib[a]=se(a,c,d,e,k,g),Ib[a])}function Fe(){function a(){try{"hidden"==k.visibilityState&&e.bufferFlushers.forEach(function(l){l(!1)})}catch(l){console.warn("Conviva App Tracker:: Error in visibilityChangeHandler of constructor ".concat(l))}}function c(){var l;if(!e.hasLoaded)for(e.hasLoaded=!0,l=0;l<e.registeredOnLoadHandlers.length;l++)e.registeredOnLoadHandlers[l]();return!0}function d(){k.addEventListener?k.addEventListener("DOMContentLoaded",function p(){k.removeEventListener("DOMContentLoaded",
p,!1);c()}):k.attachEvent&&k.attachEvent("onreadystatechange",function v(){"complete"===k.readyState&&(k.detachEvent("onreadystatechange",v),c())});$a(g,"load",c,!1)}var e=new Ge,k=document,g=window;k.visibilityState&&$a(k,"visibilitychange",a,!1);$a(g,"beforeunload",function(){try{e.bufferFlushers.forEach(function(l){l(!1)})}catch(l){console.warn("Conviva App Tracker:: Error in flushBuffers of constructor ".concat(l))}},!1);"loading"===document.readyState?d():c();return e}var aa=function(){aa=Object.assign||
function(a){for(var c,d=1,e=arguments.length;d<e;d++){c=arguments[d];for(var k in c)Object.prototype.hasOwnProperty.call(c,k)&&(a[k]=c[k])}return a};return aa.apply(this,arguments)},fb={},Rd="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(Rd){var Sd=new Uint8Array(16);fb=function(){Rd(Sd);return Sd}}else{var Td=Array(16);fb=function(){for(var a=
0,c;16>a;a++)0===(a&3)&&(c=4294967296*Math.random()),Td[a]=c>>>((a&3)<<3)&255;return Td}}for(var ia=[],bc=0;256>bc;++bc)ia[bc]=(bc+256).toString(16).substr(1);var Ud=function(a,c){c=c||0;return[ia[a[c++]],ia[a[c++]],ia[a[c++]],ia[a[c++]],"-",ia[a[c++]],ia[a[c++]],"-",ia[a[c++]],ia[a[c++]],"-",ia[a[c++]],ia[a[c++]],"-",ia[a[c++]],ia[a[c++]],ia[a[c++]],ia[a[c++]],ia[a[c++]],ia[a[c++]]].join("")},He=fb,Vd,dd,ed=0,fd=0,Ie=fb;fb=function(a,c,d){d=c&&d||0;"string"==typeof a&&(c="binary"===a?Array(16):null,
a=null);a=a||{};a=a.random||(a.rng||Ie)();a[6]=a[6]&15|64;a[8]=a[8]&63|128;if(c)for(var e=0;16>e;++e)c[d+e]=a[e];return c||Ud(a)};fb.v1=function(a,c,d){d=c&&d||0;var e=c||[];a=a||{};var k=a.node||Vd,g=void 0!==a.clockseq?a.clockseq:dd;if(null==k||null==g){var l=He();null==k&&(k=Vd=[l[0]|1,l[1],l[2],l[3],l[4],l[5]]);null==g&&(g=dd=(l[6]<<8|l[7])&16383)}l=void 0!==a.msecs?a.msecs:(new Date).getTime();var p=void 0!==a.nsecs?a.nsecs:fd+1,v=l-ed+(p-fd)/1E4;0>v&&void 0===a.clockseq&&(g=g+1&16383);(0>v||
l>ed)&&void 0===a.nsecs&&(p=0);if(1E4<=p)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");ed=l;fd=p;dd=g;l+=122192928E5;a=(1E4*(l&268435455)+p)%4294967296;e[d++]=a>>>24&255;e[d++]=a>>>16&255;e[d++]=a>>>8&255;e[d++]=a&255;a=l/4294967296*1E4&268435455;e[d++]=a>>>8&255;e[d++]=a&255;e[d++]=a>>>24&15|16;e[d++]=a>>>16&255;e[d++]=g>>>8|128;e[d++]=g&255;for(g=0;6>g;++g)e[d+g]=k[g];return c?c:Ud(e)};var Za=fb.v4=fb,Ya="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Xa;(function(a){a[a.none=
0]="none";a[a.error=1]="error";a[a.warn=2]="warn";a[a.debug=3]="debug";a[a.info=4]="info"})(Xa||(Xa={}));var ta=function(a){void 0===a&&(a=Xa.warn);return{setLogLevel:function(c){a=Xa[c]?c:Xa.warn},warn:function(c,d){for(var e=[],k=2;k<arguments.length;k++)e[k-2]=arguments[k];a>=Xa.warn&&"undefined"!==typeof console&&(k="Snowplow: "+c,d?console.warn.apply(console,W([k+"\n",d],e,!1)):console.warn.apply(console,W([k],e,!1)))},error:function(c,d){for(var e=[],k=2;k<arguments.length;k++)e[k-2]=arguments[k];
a>=Xa.error&&"undefined"!==typeof console&&(k="Snowplow: "+c+"\n",d?console.error.apply(console,W([k+"\n",d],e,!1)):console.error.apply(console,W([k],e,!1)))},debug:function(c){for(var d=[],e=1;e<arguments.length;e++)d[e-1]=arguments[e];a>=Xa.debug&&"undefined"!==typeof console&&console.debug.apply(console,W(["Snowplow: "+c],d,!1))},info:function(c){for(var d=[],e=1;e<arguments.length;e++)d[e-1]=arguments[e];a>=Xa.info&&"undefined"!==typeof console&&console.info.apply(console,W(["Snowplow: "+c],d,
!1))}}}(),Wd;(function(a){a.response_body="rsb";a.request_body="rqb";a.response_headers="rsh";a.request_headers="rqh"})(Wd||(Wd={}));var Xd={},Yd={};(function(){var a={rotl:function(c,d){return c<<d|c>>>32-d},rotr:function(c,d){return c<<32-d|c>>>d},endian:function(c){if(c.constructor==Number)return a.rotl(c,8)&16711935|a.rotl(c,24)&4278255360;for(var d=0;d<c.length;d++)c[d]=a.endian(c[d]);return c},randomBytes:function(c){for(var d=[];0<c;c--)d.push(Math.floor(256*Math.random()));return d},bytesToWords:function(c){for(var d=
[],e=0,k=0;e<c.length;e++,k+=8)d[k>>>5]|=c[e]<<24-k%32;return d},wordsToBytes:function(c){for(var d=[],e=0;e<32*c.length;e+=8)d.push(c[e>>>5]>>>24-e%32&255);return d},bytesToHex:function(c){for(var d=[],e=0;e<c.length;e++)d.push((c[e]>>>4).toString(16)),d.push((c[e]&15).toString(16));return d.join("")},hexToBytes:function(c){for(var d=[],e=0;e<c.length;e+=2)d.push(parseInt(c.substr(e,2),16));return d},bytesToBase64:function(c){for(var d=[],e=0;e<c.length;e+=3)for(var k=c[e]<<16|c[e+1]<<8|c[e+2],g=
0;4>g;g++)8*e+6*g<=8*c.length?d.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(k>>>6*(3-g)&63)):d.push("=");return d.join("")},base64ToBytes:function(c){c=c.replace(/[^A-Z0-9+\/]/ig,"");for(var d=[],e=0,k=0;e<c.length;k=++e%4)0!=k&&d.push(("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(c.charAt(e-1))&Math.pow(2,-2*k+8)-1)<<2*k|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(c.charAt(e))>>>6-2*k);return d}};Yd=a})();
var gd={utf8:{stringToBytes:function(a){return gd.bin.stringToBytes(unescape(encodeURIComponent(a)))},bytesToString:function(a){return decodeURIComponent(escape(gd.bin.bytesToString(a)))}},bin:{stringToBytes:function(a){for(var c=[],d=0;d<a.length;d++)c.push(a.charCodeAt(d)&255);return c},bytesToString:function(a){for(var c=[],d=0;d<a.length;d++)c.push(String.fromCharCode(a[d]));return c.join("")}}},Zd=gd;(function(){var a=Yd,c=Zd.utf8,d=Zd.bin,e=function(k,g){var l=a.wordsToBytes,p=k;p.constructor==
String?p=c.stringToBytes(p):"undefined"!==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(p)?p=Array.prototype.slice.call(p,0):Array.isArray(p)||(p=p.toString());k=a.bytesToWords(p);var v=8*p.length;p=[];var r=1732584193,q=-271733879,t=-1732584194,y=271733878,n=-1009589776;k[v>>5]|=128<<24-v%32;k[(v+64>>>9<<4)+15]=v;for(v=0;v<k.length;v+=16){for(var C=r,m=q,R=t,T=y,V=n,I=0;80>I;I++){if(16>I)p[I]=k[v+I];else{var ja=p[I-3]^p[I-8]^p[I-14]^p[I-16];p[I]=ja<<1|ja>>>31}ja=(r<<5|r>>>27)+
n+(p[I]>>>0)+(20>I?(q&t|~q&y)+1518500249:40>I?(q^t^y)+1859775393:60>I?(q&t|q&y|t&y)-1894007588:(q^t^y)-899497514);n=y;y=t;t=q<<30|q>>>2;q=r;r=ja}r+=C;q+=m;t+=R;y+=T;n+=V}l=l.call(a,[r,q,t,y,n]);return g&&g.asBytes?l:g&&g.asString?d.bytesToString(l):a.bytesToHex(l)};e._blocksize=16;e._digestsize=20;Xd=e})();var te=Xd,ea;(function(a){a.response_body="rsb";a.request_body="rqb";a.response_headers="rsh";a.request_headers="rqh"})(ea||(ea={}));var S;(function(a){a.TRACEPARENT_HEADER_KEY="traceparent";var c=
a.CONFIG_PREFERENCES||(a.CONFIG_PREFERENCES={});c[c.APP=0]="APP";c[c.REMOTE=1]="REMOTE";c[c.MERGE=2]="MERGE";a.REMOTE_CONFIG_STORAGE_KEY="ConvivaRemoteConfig";a.END_POINT_STORAGE_KEY="ConvivaEndpoint";a.DEFAULT_END_POINT="https://appgw.conviva.com";a.REMOTE_CONFIG_URL_PREFIX="https://drt1fhpy4haqm.cloudfront.net/js/";a.REMOTE_CONFIG_FILE_NAME="/remote_config.json"})(S||(S={}));var Gb;(function(a){a[a.APP=0]="APP";a[a.REMOTE=1]="REMOTE";a[a.MERGE=2]="MERGE"})(Gb||(Gb={}));var Ib={},Ge=function(){return function(){this.outQueues=
[];this.bufferFlushers=[];this.hasLoaded=!1;this.registeredOnLoadHandlers=[]}}(),cc="undefined"!==typeof window?Fe():void 0;D.addGlobalContexts=function(a,c){M(c,function(d){d.core.addGlobalContexts(a)})};D.addPlugin=function(a,c){M(c,function(d){d.addPlugin(a)})};D.clearGlobalContexts=function(a){M(a,function(c){c.core.clearGlobalContexts()})};D.clearUserData=function(a,c){M(c,function(d){d.clearUserData(a)})};D.convivaAppTracker=function(a){void 0===a&&(a={});try{if(cc){var c=Qd("CAT","CAT","js-".concat("0.5.3"),
"",cc,a);document&&document.addEventListener&&document.addEventListener("convivaVideoEvent",function(d){d&&c&&c.trackVideoEvent(d)});PerformanceObserver&&(new PerformanceObserver(function(d){d.getEntries().forEach(function(e){c&&c.trackAjaxEvent(e)})})).observe({type:"resource",buffered:!0});return c}}catch(d){console.warn("Conviva App Tracker:: Initialisation failed! "+d)}};D.crossDomainLinker=function(a,c){M(c,function(d){d.crossDomainLinker(a)})};D.disableAnonymousTracking=function(a,c){M(c,function(d){d.disableAnonymousTracking(a)})};
D.discardBrace=function(a,c){M(c,function(d){d.discardBrace(a)})};D.discardHashTag=function(a,c){M(c,function(d){d.discardHashTag(a)})};D.enableActivityTracking=function(a,c){M(c,function(d){d.enableActivityTracking(a)})};D.enableActivityTrackingCallback=function(a,c){M(c,function(d){d.enableActivityTrackingCallback(a)})};D.enableAnonymousTracking=function(a,c){M(c,function(d){d.enableAnonymousTracking(a)})};D.flushBuffer=function(a,c){M(c,function(d){d.flushBuffer(a)})};D.newSession=function(a){M(a,
function(c){c.newSession()})};D.newTracker=function(a,c,d){void 0===d&&(d={});if(cc)return Qd(a,a,"js-".concat("0.5.3"),c,cc,d)};D.preservePageViewId=function(a){M(a,function(c){c.preservePageViewId()})};D.removeGlobalContexts=function(a,c){M(c,function(d){d.core.removeGlobalContexts(a)})};D.setBufferSize=function(a,c){M(c,function(d){d.setBufferSize(a)})};D.setCollectorUrl=function(a,c){M(c,function(d){d.setCollectorUrl(a)})};D.setCookiePath=function(a,c){M(c,function(d){d.setCookiePath(a)})};D.setCustomTags=
function(a,c){M(c,function(d){try{d.setCustomTags(a)}catch(e){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})};D.setCustomUrl=function(a,c){M(c,function(d){d.setCustomUrl(a)})};D.setDocumentTitle=function(a,c){M(c,function(d){d.setDocumentTitle(a)})};D.setOptOutCookie=function(a,c){M(c,function(d){d.setOptOutCookie(a)})};D.setReferrerUrl=function(a,c){M(c,function(d){d.setReferrerUrl(a)})};D.setUserId=function(a,c){M(c,function(d){d.setUserId(a)})};D.setUserIdFromCookie=function(a,
c){M(c,function(d){d.setUserIdFromCookie(a)})};D.setUserIdFromLocation=function(a,c){M(c,function(d){d.setUserIdFromLocation(a)})};D.setUserIdFromReferrer=function(a,c){M(c,function(d){d.setUserIdFromReferrer(a)})};D.setVisitorCookieTimeout=function(a,c){M(c,function(d){d.setVisitorCookieTimeout(a)})};D.trackCustomEvent=function(a,c){M(c,function(d){try{var e=d.core.getConfig();""!=a.name&&void 0!=a.name||console.warn("Conviva App Tracker:: custom event name is mandatory for trackCustomEvent API!!");
if(void 0!=e.customEventTrackingConfiguration){var k=a.data;try{"string"!==typeof a.data&&(k=JSON.stringify(a.data))}catch(l){}if(void 0!=e.customEventTrackingConfiguration.blocklist&&0<e.customEventTrackingConfiguration.blocklist.length){var g=e.customEventTrackingConfiguration.blocklist;-1==g.indexOf("*")&&-1==g.indexOf(""+a.name)&&d.core.track(fc({name:a.name,data:k}),a.context,a.timestamp)}else d.core.track(fc({name:a.name,data:k}),a.context,a.timestamp)}else d.core.track(fc({name:a.name,data:a.data}),
a.context,a.timestamp)}catch(l){console.warn("Conviva App Tracker:: Unable to track custom event! "+l)}})};D.trackPageView=function(a,c){M(c,function(d){d.trackPageView(a)})};D.trackSelfDescribingEvent=function(a,c){M(c,function(d){d.core.track(yb({event:a.event}),a.context,a.timestamp)})};D.trackStructEvent=function(a,c){M(c,function(d){d=d.core;var e=d.track,k=a.category,g=a.action,l=a.label,p=a.property,v=a.value,r=Jb();r.add("e","se");r.add("se_ca",k);r.add("se_ac",g);r.add("se_la",l);r.add("se_pr",
p);r.add("se_va",null==v?void 0:v.toString());e.call(d,r,a.context,a.timestamp)})};D.unsetCustomTags=function(a,c){M(c,function(d){try{d.unsetCustomTags(a)}catch(e){console.warn("Conviva App Tracker:: Unable to set custom tags data!")}})};D.updatePageActivity=function(a){M(a,function(c){c.updatePageActivity()})};D.version="0.5.3";Object.defineProperty(D,"__esModule",{value:!0})})
//# sourceMappingURL=index.umd.min.js.map
